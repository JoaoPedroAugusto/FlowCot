var Fh=Object.defineProperty;var jh=(t,e,n)=>e in t?Fh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dn=(t,e,n)=>jh(t,typeof e!="symbol"?e+"":e,n);function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(te){return te===null||typeof te!="object"?null:(te=v&&te[v]||te["@@iterator"],typeof te=="function"?te:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function w(te,fe,_e){this.props=te,this.context=fe,this.refs=A,this.updater=_e||S}w.prototype.isReactComponent={},w.prototype.setState=function(te,fe){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,fe,"setState")},w.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function C(){}C.prototype=w.prototype;function O(te,fe,_e){this.props=te,this.context=fe,this.refs=A,this.updater=_e||S}var L=O.prototype=new C;L.constructor=O,T(L,w.prototype),L.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function q(te,fe,_e){var ye,xe={},Me=null,be=null;if(fe!=null)for(ye in fe.ref!==void 0&&(be=fe.ref),fe.key!==void 0&&(Me=""+fe.key),fe)B.call(fe,ye)&&!V.hasOwnProperty(ye)&&(xe[ye]=fe[ye]);var Ce=arguments.length-2;if(Ce===1)xe.children=_e;else if(1<Ce){for(var Re=Array(Ce),Ne=0;Ne<Ce;Ne++)Re[Ne]=arguments[Ne+2];xe.children=Re}if(te&&te.defaultProps)for(ye in Ce=te.defaultProps,Ce)xe[ye]===void 0&&(xe[ye]=Ce[ye]);return{$$typeof:t,type:te,key:Me,ref:be,props:xe,_owner:U.current}}function H(te,fe){return{$$typeof:t,type:te.type,key:fe,ref:te.ref,props:te.props,_owner:te._owner}}function G(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function Y(te){var fe={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(_e){return fe[_e]})}var Q=/\/+/g;function ie(te,fe){return typeof te=="object"&&te!==null&&te.key!=null?Y(""+te.key):fe.toString(36)}function ae(te,fe,_e,ye,xe){var Me=typeof te;(Me==="undefined"||Me==="boolean")&&(te=null);var be=!1;if(te===null)be=!0;else switch(Me){case"string":case"number":be=!0;break;case"object":switch(te.$$typeof){case t:case e:be=!0}}if(be)return be=te,xe=xe(be),te=ye===""?"."+ie(be,0):ye,F(xe)?(_e="",te!=null&&(_e=te.replace(Q,"$&/")+"/"),ae(xe,fe,_e,"",function(Ne){return Ne})):xe!=null&&(G(xe)&&(xe=H(xe,_e+(!xe.key||be&&be.key===xe.key?"":(""+xe.key).replace(Q,"$&/")+"/")+te)),fe.push(xe)),1;if(be=0,ye=ye===""?".":ye+":",F(te))for(var Ce=0;Ce<te.length;Ce++){Me=te[Ce];var Re=ye+ie(Me,Ce);be+=ae(Me,fe,_e,Re,xe)}else if(Re=_(te),typeof Re=="function")for(te=Re.call(te),Ce=0;!(Me=te.next()).done;)Me=Me.value,Re=ye+ie(Me,Ce++),be+=ae(Me,fe,_e,Re,xe);else if(Me==="object")throw fe=String(te),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.");return be}function le(te,fe,_e){if(te==null)return te;var ye=[],xe=0;return ae(te,ye,"","",function(Me){return fe.call(_e,Me,xe++)}),ye}function he(te){if(te._status===-1){var fe=te._result;fe=fe(),fe.then(function(_e){(te._status===0||te._status===-1)&&(te._status=1,te._result=_e)},function(_e){(te._status===0||te._status===-1)&&(te._status=2,te._result=_e)}),te._status===-1&&(te._status=0,te._result=fe)}if(te._status===1)return te._result.default;throw te._result}var ge={current:null},J={transition:null},se={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:J,ReactCurrentOwner:U};function ce(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:le,forEach:function(te,fe,_e){le(te,function(){fe.apply(this,arguments)},_e)},count:function(te){var fe=0;return le(te,function(){fe++}),fe},toArray:function(te){return le(te,function(fe){return fe})||[]},only:function(te){if(!G(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},react_production_min.Component=w,react_production_min.Fragment=n,react_production_min.Profiler=l,react_production_min.PureComponent=O,react_production_min.StrictMode=o,react_production_min.Suspense=d,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,react_production_min.act=ce,react_production_min.cloneElement=function(te,fe,_e){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var ye=T({},te.props),xe=te.key,Me=te.ref,be=te._owner;if(fe!=null){if(fe.ref!==void 0&&(Me=fe.ref,be=U.current),fe.key!==void 0&&(xe=""+fe.key),te.type&&te.type.defaultProps)var Ce=te.type.defaultProps;for(Re in fe)B.call(fe,Re)&&!V.hasOwnProperty(Re)&&(ye[Re]=fe[Re]===void 0&&Ce!==void 0?Ce[Re]:fe[Re])}var Re=arguments.length-2;if(Re===1)ye.children=_e;else if(1<Re){Ce=Array(Re);for(var Ne=0;Ne<Re;Ne++)Ce[Ne]=arguments[Ne+2];ye.children=Ce}return{$$typeof:t,type:te.type,key:xe,ref:Me,props:ye,_owner:be}},react_production_min.createContext=function(te){return te={$$typeof:h,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:u,_context:te},te.Consumer=te},react_production_min.createElement=q,react_production_min.createFactory=function(te){var fe=q.bind(null,te);return fe.type=te,fe},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(te){return{$$typeof:f,render:te}},react_production_min.isValidElement=G,react_production_min.lazy=function(te){return{$$typeof:m,_payload:{_status:-1,_result:te},_init:he}},react_production_min.memo=function(te,fe){return{$$typeof:p,type:te,compare:fe===void 0?null:fe}},react_production_min.startTransition=function(te){var fe=J.transition;J.transition={};try{te()}finally{J.transition=fe}},react_production_min.unstable_act=ce,react_production_min.useCallback=function(te,fe){return ge.current.useCallback(te,fe)},react_production_min.useContext=function(te){return ge.current.useContext(te)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(te){return ge.current.useDeferredValue(te)},react_production_min.useEffect=function(te,fe){return ge.current.useEffect(te,fe)},react_production_min.useId=function(){return ge.current.useId()},react_production_min.useImperativeHandle=function(te,fe,_e){return ge.current.useImperativeHandle(te,fe,_e)},react_production_min.useInsertionEffect=function(te,fe){return ge.current.useInsertionEffect(te,fe)},react_production_min.useLayoutEffect=function(te,fe){return ge.current.useLayoutEffect(te,fe)},react_production_min.useMemo=function(te,fe){return ge.current.useMemo(te,fe)},react_production_min.useReducer=function(te,fe,_e){return ge.current.useReducer(te,fe,_e)},react_production_min.useRef=function(te){return ge.current.useRef(te)},react_production_min.useState=function(te){return ge.current.useState(te)},react_production_min.useSyncExternalStore=function(te,fe,_e){return ge.current.useSyncExternalStore(te,fe,_e)},react_production_min.useTransition=function(){return ge.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,d,p){var m,v={},_=null,S=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)o.call(d,m)&&!u.hasOwnProperty(m)&&(v[m]=d[m]);if(f&&f.defaultProps)for(m in d=f.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:f,key:_,ref:S,props:v,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=h,reactJsxRuntime_production_min.jsxs=h,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(t){function e(J,se){var ce=J.length;J.push(se);e:for(;0<ce;){var te=ce-1>>>1,fe=J[te];if(0<l(fe,se))J[te]=se,J[ce]=fe,ce=te;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var se=J[0],ce=J.pop();if(ce!==se){J[0]=ce;e:for(var te=0,fe=J.length,_e=fe>>>1;te<_e;){var ye=2*(te+1)-1,xe=J[ye],Me=ye+1,be=J[Me];if(0>l(xe,ce))Me<fe&&0>l(be,xe)?(J[te]=be,J[Me]=ce,te=Me):(J[te]=xe,J[ye]=ce,te=ye);else if(Me<fe&&0>l(be,ce))J[te]=be,J[Me]=ce,te=Me;else break e}}return se}function l(J,se){var ce=J.sortIndex-se.sortIndex;return ce!==0?ce:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var d=[],p=[],m=1,v=null,_=3,S=!1,T=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var se=n(p);se!==null;){if(se.callback===null)o(p);else if(se.startTime<=J)o(p),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(p)}}function F(J){if(A=!1,L(J),!T)if(n(d)!==null)T=!0,he(B);else{var se=n(p);se!==null&&ge(F,se.startTime-J)}}function B(J,se){T=!1,A&&(A=!1,C(q),q=-1),S=!0;var ce=_;try{for(L(se),v=n(d);v!==null&&(!(v.expirationTime>se)||J&&!Y());){var te=v.callback;if(typeof te=="function"){v.callback=null,_=v.priorityLevel;var fe=te(v.expirationTime<=se);se=t.unstable_now(),typeof fe=="function"?v.callback=fe:v===n(d)&&o(d),L(se)}else o(d);v=n(d)}if(v!==null)var _e=!0;else{var ye=n(p);ye!==null&&ge(F,ye.startTime-se),_e=!1}return _e}finally{v=null,_=ce,S=!1}}var U=!1,V=null,q=-1,H=5,G=-1;function Y(){return!(t.unstable_now()-G<H)}function Q(){if(V!==null){var J=t.unstable_now();G=J;var se=!0;try{se=V(!0,J)}finally{se?ie():(U=!1,V=null)}}else U=!1}var ie;if(typeof O=="function")ie=function(){O(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,le=ae.port2;ae.port1.onmessage=Q,ie=function(){le.postMessage(null)}}else ie=function(){w(Q,0)};function he(J){V=J,U||(U=!0,ie())}function ge(J,se){q=w(function(){J(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,he(B))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ce=_;_=se;try{return J()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=_;_=J;try{return se()}finally{_=ce}},t.unstable_scheduleCallback=function(J,se,ce){var te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?te+ce:te):ce=te,J){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ce+fe,J={id:m++,callback:se,priorityLevel:J,startTime:ce,expirationTime:fe,sortIndex:-1},ce>te?(J.sortIndex=ce,e(p,J),n(d)===null&&J===n(p)&&(A?(C(q),q=-1):A=!0,ge(F,ce-te))):(J.sortIndex=fe,e(d,J),T||S||(T=!0,he(B))),J},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(J){var se=_;return function(){var ce=_;_=se;try{return J.apply(this,arguments)}finally{_=ce}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler$1();function n(b){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+b,N=1;N<arguments.length;N++)M+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+b+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(b,M){h(b,M),h(b+"Capture",M)}function h(b,M){for(l[b]=M,b=0;b<M.length;b++)o.add(M[b])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function _(b){return d.call(v,b)?!0:d.call(m,b)?!1:p.test(b)?v[b]=!0:(m[b]=!0,!1)}function S(b,M,N,z){if(N!==null&&N.type===0)return!1;switch(typeof M){case"function":case"symbol":return!0;case"boolean":return z?!1:N!==null?!N.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function T(b,M,N,z){if(M===null||typeof M>"u"||S(b,M,N,z))return!0;if(z)return!1;if(N!==null)switch(N.type){case 3:return!M;case 4:return M===!1;case 5:return isNaN(M);case 6:return isNaN(M)||1>M}return!1}function A(b,M,N,z,Z,ne,pe){this.acceptsBooleans=M===2||M===3||M===4,this.attributeName=z,this.attributeNamespace=Z,this.mustUseProperty=N,this.propertyName=b,this.type=M,this.sanitizeURL=ne,this.removeEmptyString=pe}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){w[b]=new A(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var M=b[0];w[M]=new A(M,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){w[b]=new A(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){w[b]=new A(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){w[b]=new A(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){w[b]=new A(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){w[b]=new A(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){w[b]=new A(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){w[b]=new A(b,5,!1,b.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var M=b.replace(C,O);w[M]=new A(M,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var M=b.replace(C,O);w[M]=new A(M,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var M=b.replace(C,O);w[M]=new A(M,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){w[b]=new A(b,1,!1,b.toLowerCase(),null,!1,!1)}),w.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){w[b]=new A(b,1,!1,b.toLowerCase(),null,!0,!0)});function L(b,M,N,z){var Z=w.hasOwnProperty(M)?w[M]:null;(Z!==null?Z.type!==0:z||!(2<M.length)||M[0]!=="o"&&M[0]!=="O"||M[1]!=="n"&&M[1]!=="N")&&(T(M,N,Z,z)&&(N=null),z||Z===null?_(M)&&(N===null?b.removeAttribute(M):b.setAttribute(M,""+N)):Z.mustUseProperty?b[Z.propertyName]=N===null?Z.type===3?!1:"":N:(M=Z.attributeName,z=Z.attributeNamespace,N===null?b.removeAttribute(M):(Z=Z.type,N=Z===3||Z===4&&N===!0?"":""+N,z?b.setAttributeNS(z,M,N):b.setAttribute(M,N))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),J=Symbol.iterator;function se(b){return b===null||typeof b!="object"?null:(b=J&&b[J]||b["@@iterator"],typeof b=="function"?b:null)}var ce=Object.assign,te;function fe(b){if(te===void 0)try{throw Error()}catch(N){var M=N.stack.trim().match(/\n( *(at )?)/);te=M&&M[1]||""}return`
`+te+b}var _e=!1;function ye(b,M){if(!b||_e)return"";_e=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(it){var z=it}Reflect.construct(b,[],M)}else{try{M.call()}catch(it){z=it}b.call(M.prototype)}else{try{throw Error()}catch(it){z=it}b()}}catch(it){if(it&&z&&typeof it.stack=="string"){for(var Z=it.stack.split(`
`),ne=z.stack.split(`
`),pe=Z.length-1,Pe=ne.length-1;1<=pe&&0<=Pe&&Z[pe]!==ne[Pe];)Pe--;for(;1<=pe&&0<=Pe;pe--,Pe--)if(Z[pe]!==ne[Pe]){if(pe!==1||Pe!==1)do if(pe--,Pe--,0>Pe||Z[pe]!==ne[Pe]){var Le=`
`+Z[pe].replace(" at new "," at ");return b.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",b.displayName)),Le}while(1<=pe&&0<=Pe);break}}}finally{_e=!1,Error.prepareStackTrace=N}return(b=b?b.displayName||b.name:"")?fe(b):""}function xe(b){switch(b.tag){case 5:return fe(b.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 2:case 15:return b=ye(b.type,!1),b;case 11:return b=ye(b.type.render,!1),b;case 1:return b=ye(b.type,!0),b;default:return""}}function Me(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case V:return"Fragment";case U:return"Portal";case H:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case ae:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case Y:return(b.displayName||"Context")+".Consumer";case G:return(b._context.displayName||"Context")+".Provider";case Q:var M=b.render;return b=b.displayName,b||(b=M.displayName||M.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case le:return M=b.displayName||null,M!==null?M:Me(b.type)||"Memo";case he:M=b._payload,b=b._init;try{return Me(b(M))}catch{}}return null}function be(b){var M=b.type;switch(b.tag){case 24:return"Cache";case 9:return(M.displayName||"Context")+".Consumer";case 10:return(M._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=M.render,b=b.displayName||b.name||"",M.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return M;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(M);case 8:return M===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M}return null}function Ce(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function Re(b){var M=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(M==="checkbox"||M==="radio")}function Ne(b){var M=Re(b)?"checked":"value",N=Object.getOwnPropertyDescriptor(b.constructor.prototype,M),z=""+b[M];if(!b.hasOwnProperty(M)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var Z=N.get,ne=N.set;return Object.defineProperty(b,M,{configurable:!0,get:function(){return Z.call(this)},set:function(pe){z=""+pe,ne.call(this,pe)}}),Object.defineProperty(b,M,{enumerable:N.enumerable}),{getValue:function(){return z},setValue:function(pe){z=""+pe},stopTracking:function(){b._valueTracker=null,delete b[M]}}}}function Oe(b){b._valueTracker||(b._valueTracker=Ne(b))}function Te(b){if(!b)return!1;var M=b._valueTracker;if(!M)return!0;var N=M.getValue(),z="";return b&&(z=Re(b)?b.checked?"true":"false":b.value),b=z,b!==N?(M.setValue(b),!0):!1}function tt(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function de(b,M){var N=M.checked;return ce({},M,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??b._wrapperState.initialChecked})}function Xe(b,M){var N=M.defaultValue==null?"":M.defaultValue,z=M.checked!=null?M.checked:M.defaultChecked;N=Ce(M.value!=null?M.value:N),b._wrapperState={initialChecked:z,initialValue:N,controlled:M.type==="checkbox"||M.type==="radio"?M.checked!=null:M.value!=null}}function qe(b,M){M=M.checked,M!=null&&L(b,"checked",M,!1)}function Ye(b,M){qe(b,M);var N=Ce(M.value),z=M.type;if(N!=null)z==="number"?(N===0&&b.value===""||b.value!=N)&&(b.value=""+N):b.value!==""+N&&(b.value=""+N);else if(z==="submit"||z==="reset"){b.removeAttribute("value");return}M.hasOwnProperty("value")?et(b,M.type,N):M.hasOwnProperty("defaultValue")&&et(b,M.type,Ce(M.defaultValue)),M.checked==null&&M.defaultChecked!=null&&(b.defaultChecked=!!M.defaultChecked)}function Ie(b,M,N){if(M.hasOwnProperty("value")||M.hasOwnProperty("defaultValue")){var z=M.type;if(!(z!=="submit"&&z!=="reset"||M.value!==void 0&&M.value!==null))return;M=""+b._wrapperState.initialValue,N||M===b.value||(b.value=M),b.defaultValue=M}N=b.name,N!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,N!==""&&(b.name=N)}function et(b,M,N){(M!=="number"||tt(b.ownerDocument)!==b)&&(N==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+N&&(b.defaultValue=""+N))}var Ue=Array.isArray;function ke(b,M,N,z){if(b=b.options,M){M={};for(var Z=0;Z<N.length;Z++)M["$"+N[Z]]=!0;for(N=0;N<b.length;N++)Z=M.hasOwnProperty("$"+b[N].value),b[N].selected!==Z&&(b[N].selected=Z),Z&&z&&(b[N].defaultSelected=!0)}else{for(N=""+Ce(N),M=null,Z=0;Z<b.length;Z++){if(b[Z].value===N){b[Z].selected=!0,z&&(b[Z].defaultSelected=!0);return}M!==null||b[Z].disabled||(M=b[Z])}M!==null&&(M.selected=!0)}}function ct(b,M){if(M.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},M,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function me(b,M){var N=M.value;if(N==null){if(N=M.children,M=M.defaultValue,N!=null){if(M!=null)throw Error(n(92));if(Ue(N)){if(1<N.length)throw Error(n(93));N=N[0]}M=N}M==null&&(M=""),N=M}b._wrapperState={initialValue:Ce(N)}}function ue(b,M){var N=Ce(M.value),z=Ce(M.defaultValue);N!=null&&(N=""+N,N!==b.value&&(b.value=N),M.defaultValue==null&&b.defaultValue!==N&&(b.defaultValue=N)),z!=null&&(b.defaultValue=""+z)}function Ae(b){var M=b.textContent;M===b._wrapperState.initialValue&&M!==""&&M!==null&&(b.value=M)}function We(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(b,M){return b==null||b==="http://www.w3.org/1999/xhtml"?We(M):b==="http://www.w3.org/2000/svg"&&M==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var je,ft=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(M,N,z,Z){MSApp.execUnsafeLocalFunction(function(){return b(M,N,z,Z)})}:b}(function(b,M){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=M;else{for(je=je||document.createElement("div"),je.innerHTML="<svg>"+M.valueOf().toString()+"</svg>",M=je.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;M.firstChild;)b.appendChild(M.firstChild)}});function ht(b,M){if(M){var N=b.firstChild;if(N&&N===b.lastChild&&N.nodeType===3){N.nodeValue=M;return}}b.textContent=M}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(b){Et.forEach(function(M){M=M+b.charAt(0).toUpperCase()+b.substring(1),gt[M]=gt[b]})});function nt(b,M,N){return M==null||typeof M=="boolean"||M===""?"":N||typeof M!="number"||M===0||gt.hasOwnProperty(b)&&gt[b]?(""+M).trim():M+"px"}function dt(b,M){b=b.style;for(var N in M)if(M.hasOwnProperty(N)){var z=N.indexOf("--")===0,Z=nt(N,M[N],z);N==="float"&&(N="cssFloat"),z?b.setProperty(N,Z):b[N]=Z}}var pt=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(b,M){if(M){if(pt[b]&&(M.children!=null||M.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(M.dangerouslySetInnerHTML!=null){if(M.children!=null)throw Error(n(60));if(typeof M.dangerouslySetInnerHTML!="object"||!("__html"in M.dangerouslySetInnerHTML))throw Error(n(61))}if(M.style!=null&&typeof M.style!="object")throw Error(n(62))}}function Ve(b,M){if(b.indexOf("-")===-1)return typeof M.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mt=null;function we(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var at=null,st=null,Tt=null;function ut(b){if(b=sa(b)){if(typeof at!="function")throw Error(n(280));var M=b.stateNode;M&&(M=al(M),at(b.stateNode,b.type,M))}}function Je(b){st?Tt?Tt.push(b):Tt=[b]:st=b}function _t(){if(st){var b=st,M=Tt;if(Tt=st=null,ut(b),M)for(b=0;b<M.length;b++)ut(M[b])}}function Ct(b,M){return b(M)}function Rt(){}var jt=!1;function pn(b,M,N){if(jt)return b(M,N);jt=!0;try{return Ct(b,M,N)}finally{jt=!1,(st!==null||Tt!==null)&&(Rt(),_t())}}function mn(b,M){var N=b.stateNode;if(N===null)return null;var z=al(N);if(z===null)return null;N=z[M];e:switch(M){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(b=b.type,z=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!z;break e;default:b=!1}if(b)return null;if(N&&typeof N!="function")throw Error(n(231,M,typeof N));return N}var wn=!1;if(f)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{wn=!1}function nr(b,M,N,z,Z,ne,pe,Pe,Le){var it=Array.prototype.slice.call(arguments,3);try{M.apply(N,it)}catch(vt){this.onError(vt)}}var Vn=!1,Pr=null,rr=!1,lr=null,Yn={onError:function(b){Vn=!0,Pr=b}};function qr(b,M,N,z,Z,ne,pe,Pe,Le){Vn=!1,Pr=null,nr.apply(Yn,arguments)}function Va(b,M,N,z,Z,ne,pe,Pe,Le){if(qr.apply(this,arguments),Vn){if(Vn){var it=Pr;Vn=!1,Pr=null}else throw Error(n(198));rr||(rr=!0,lr=it)}}function Hr(b){var M=b,N=b;if(b.alternate)for(;M.return;)M=M.return;else{b=M;do M=b,(M.flags&4098)!==0&&(N=M.return),b=M.return;while(b)}return M.tag===3?N:null}function _s(b){if(b.tag===13){var M=b.memoizedState;if(M===null&&(b=b.alternate,b!==null&&(M=b.memoizedState)),M!==null)return M.dehydrated}return null}function za(b){if(Hr(b)!==b)throw Error(n(188))}function Xi(b){var M=b.alternate;if(!M){if(M=Hr(b),M===null)throw Error(n(188));return M!==b?null:b}for(var N=b,z=M;;){var Z=N.return;if(Z===null)break;var ne=Z.alternate;if(ne===null){if(z=Z.return,z!==null){N=z;continue}break}if(Z.child===ne.child){for(ne=Z.child;ne;){if(ne===N)return za(Z),b;if(ne===z)return za(Z),M;ne=ne.sibling}throw Error(n(188))}if(N.return!==z.return)N=Z,z=ne;else{for(var pe=!1,Pe=Z.child;Pe;){if(Pe===N){pe=!0,N=Z,z=ne;break}if(Pe===z){pe=!0,z=Z,N=ne;break}Pe=Pe.sibling}if(!pe){for(Pe=ne.child;Pe;){if(Pe===N){pe=!0,N=ne,z=Z;break}if(Pe===z){pe=!0,z=ne,N=Z;break}Pe=Pe.sibling}if(!pe)throw Error(n(189))}}if(N.alternate!==z)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?b:M}function Sa(b){return b=Xi(b),b!==null?bs(b):null}function bs(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var M=bs(b);if(M!==null)return M;b=b.sibling}return null}var Ga=e.unstable_scheduleCallback,ve=e.unstable_cancelCallback,Ge=e.unstable_shouldYield,rt=e.unstable_requestPaint,De=e.unstable_now,ze=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,At=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,Dt=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,$t=null,bt=null;function Bt(b){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot($t,b,void 0,(b.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:rn,nn=Math.log,sn=Math.LN2;function rn(b){return b>>>=0,b===0?32:31-(nn(b)/sn|0)|0}var Nt=64,hn=4194304;function Zt(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function zn(b,M){var N=b.pendingLanes;if(N===0)return 0;var z=0,Z=b.suspendedLanes,ne=b.pingedLanes,pe=N&268435455;if(pe!==0){var Pe=pe&~Z;Pe!==0?z=Zt(Pe):(ne&=pe,ne!==0&&(z=Zt(ne)))}else pe=N&~Z,pe!==0?z=Zt(pe):ne!==0&&(z=Zt(ne));if(z===0)return 0;if(M!==0&&M!==z&&(M&Z)===0&&(Z=z&-z,ne=M&-M,Z>=ne||Z===16&&(ne&4194240)!==0))return M;if((z&4)!==0&&(z|=N&16),M=b.entangledLanes,M!==0)for(b=b.entanglements,M&=z;0<M;)N=31-Wt(M),Z=1<<N,z|=b[N],M&=~Z;return z}function ei(b,M){switch(b){case 1:case 2:case 4:return M+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(b,M){for(var N=b.suspendedLanes,z=b.pingedLanes,Z=b.expirationTimes,ne=b.pendingLanes;0<ne;){var pe=31-Wt(ne),Pe=1<<pe,Le=Z[pe];Le===-1?((Pe&N)===0||(Pe&z)!==0)&&(Z[pe]=ei(Pe,M)):Le<=M&&(b.expiredLanes|=Pe),ne&=~Pe}}function Gn(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function fn(){var b=Nt;return Nt<<=1,(Nt&4194240)===0&&(Nt=64),b}function qn(b){for(var M=[],N=0;31>N;N++)M.push(b);return M}function In(b,M,N){b.pendingLanes|=M,M!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,M=31-Wt(M),b[M]=N}function Zn(b,M){var N=b.pendingLanes&~M;b.pendingLanes=M,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=M,b.mutableReadLanes&=M,b.entangledLanes&=M,M=b.entanglements;var z=b.eventTimes;for(b=b.expirationTimes;0<N;){var Z=31-Wt(N),ne=1<<Z;M[Z]=0,z[Z]=-1,b[Z]=-1,N&=~ne}}function Tn(b,M){var N=b.entangledLanes|=M;for(b=b.entanglements;N;){var z=31-Wt(N),Z=1<<z;Z&M|b[z]&M&&(b[z]|=M),N&=~Z}}var on=0;function cr(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Ea,Ss,Es,Fi,qa,di=!1,Mi=[],_r=null,Jt=null,mi=null,ti=new Map,ji=new Map,gi=[],ko="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dn(b,M){switch(b){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":ti.delete(M.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(M.pointerId)}}function Ai(b,M,N,z,Z,ne){return b===null||b.nativeEvent!==ne?(b={blockedOn:M,domEventName:N,eventSystemFlags:z,nativeEvent:ne,targetContainers:[Z]},M!==null&&(M=sa(M),M!==null&&Ss(M)),b):(b.eventSystemFlags|=z,M=b.targetContainers,Z!==null&&M.indexOf(Z)===-1&&M.push(Z),b)}function Lo(b,M,N,z,Z){switch(M){case"focusin":return _r=Ai(_r,b,M,N,z,Z),!0;case"dragenter":return Jt=Ai(Jt,b,M,N,z,Z),!0;case"mouseover":return mi=Ai(mi,b,M,N,z,Z),!0;case"pointerover":var ne=Z.pointerId;return ti.set(ne,Ai(ti.get(ne)||null,b,M,N,z,Z)),!0;case"gotpointercapture":return ne=Z.pointerId,ji.set(ne,Ai(ji.get(ne)||null,b,M,N,z,Z)),!0}return!1}function Cr(b){var M=Na(b.target);if(M!==null){var N=Hr(M);if(N!==null){if(M=N.tag,M===13){if(M=_s(N),M!==null){b.blockedOn=M,qa(b.priority,function(){Es(N)});return}}else if(M===3&&N.stateNode.current.memoizedState.isDehydrated){b.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}b.blockedOn=null}function wa(b){if(b.blockedOn!==null)return!1;for(var M=b.targetContainers;0<M.length;){var N=Rr(b.domEventName,b.eventSystemFlags,M[0],b.nativeEvent);if(N===null){N=b.nativeEvent;var z=new N.constructor(N.type,N);mt=z,N.target.dispatchEvent(z),mt=null}else return M=sa(N),M!==null&&Ss(M),b.blockedOn=N,!1;M.shift()}return!0}function Ta(b,M,N){wa(b)&&N.delete(M)}function ni(){di=!1,_r!==null&&wa(_r)&&(_r=null),Jt!==null&&wa(Jt)&&(Jt=null),mi!==null&&wa(mi)&&(mi=null),ti.forEach(Ta),ji.forEach(Ta)}function Ki(b,M){b.blockedOn===M&&(b.blockedOn=null,di||(di=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ni)))}function Ma(b){function M(Z){return Ki(Z,b)}if(0<Mi.length){Ki(Mi[0],b);for(var N=1;N<Mi.length;N++){var z=Mi[N];z.blockedOn===b&&(z.blockedOn=null)}}for(_r!==null&&Ki(_r,b),Jt!==null&&Ki(Jt,b),mi!==null&&Ki(mi,b),ti.forEach(M),ji.forEach(M),N=0;N<gi.length;N++)z=gi[N],z.blockedOn===b&&(z.blockedOn=null);for(;0<gi.length&&(N=gi[0],N.blockedOn===null);)Cr(N),N.blockedOn===null&&gi.shift()}var ur=F.ReactCurrentBatchConfig,hr=!0;function Bi(b,M,N,z){var Z=on,ne=ur.transition;ur.transition=null;try{on=1,Ha(b,M,N,z)}finally{on=Z,ur.transition=ne}}function yi(b,M,N,z){var Z=on,ne=ur.transition;ur.transition=null;try{on=4,Ha(b,M,N,z)}finally{on=Z,ur.transition=ne}}function Ha(b,M,N,z){if(hr){var Z=Rr(b,M,N,z);if(Z===null)Qo(b,M,z,Aa,N),Dn(b,z);else if(Lo(Z,b,M,N,z))z.stopPropagation();else if(Dn(b,z),M&4&&-1<ko.indexOf(b)){for(;Z!==null;){var ne=sa(Z);if(ne!==null&&Ea(ne),ne=Rr(b,M,N,z),ne===null&&Qo(b,M,z,Aa,N),ne===Z)break;Z=ne}Z!==null&&z.stopPropagation()}else Qo(b,M,z,null,N)}}var Aa=null;function Rr(b,M,N,z){if(Aa=null,b=we(z),b=Na(b),b!==null)if(M=Hr(b),M===null)b=null;else if(N=M.tag,N===13){if(b=_s(M),b!==null)return b;b=null}else if(N===3){if(M.stateNode.current.memoizedState.isDehydrated)return M.tag===3?M.stateNode.containerInfo:null;b=null}else M!==b&&(b=null);return Aa=b,null}function Pa(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ze()){case xt:return 1;case At:return 4;case Ot:case Dt:return 16;case Gt:return 536870912;default:return 16}default:return 16}}var Wr=null,Yi=null,fr=null;function ir(){if(fr)return fr;var b,M=Yi,N=M.length,z,Z="value"in Wr?Wr.value:Wr.textContent,ne=Z.length;for(b=0;b<N&&M[b]===Z[b];b++);var pe=N-b;for(z=1;z<=pe&&M[N-z]===Z[ne-z];z++);return fr=Z.slice(b,1<z?1-z:void 0)}function Zi(b){var M=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&M===13&&(b=13)):b=M,b===10&&(b=13),32<=b||b===13?b:0}function Xr(){return!0}function Ji(){return!1}function dr(b){function M(N,z,Z,ne,pe){this._reactName=N,this._targetInst=Z,this.type=z,this.nativeEvent=ne,this.target=pe,this.currentTarget=null;for(var Pe in b)b.hasOwnProperty(Pe)&&(N=b[Pe],this[Pe]=N?N(ne):ne[Pe]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?Xr:Ji,this.isPropagationStopped=Ji,this}return ce(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),M}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=dr(Qi),ar=ce({},Qi,{view:0,detail:0}),Hn=dr(ar),Ln,Fr,vi,ws=ce({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==vi&&(vi&&b.type==="mousemove"?(Ln=b.screenX-vi.screenX,Fr=b.screenY-vi.screenY):Fr=Ln=0,vi=b),Ln)},movementY:function(b){return"movementY"in b?b.movementY:Fr}}),wl=dr(ws),ea=ce({},ws,{dataTransfer:0}),Ca=dr(ea),No=ce({},ar,{relatedTarget:0}),Fo=dr(No),jo=ce({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=dr(jo),gc=ce({},Qi,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Tl=dr(gc),Bo=ce({},Qi,{data:0}),Ml=dr(Bo),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ts(b){var M=this.nativeEvent;return M.getModifierState?M.getModifierState(b):(b=Al[b])?!!M[b]:!1}function Ra(){return Ts}var Uo=ce({},ar,{key:function(b){if(b.key){var M=yc[b.key]||b.key;if(M!=="Unidentified")return M}return b.type==="keypress"?(b=Zi(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?vc[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(b){return b.type==="keypress"?Zi(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Zi(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),$o=dr(Uo),xi=ce({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=dr(xi),Wa=ce({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),ta=dr(Wa),na=ce({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xa=dr(na),xc=ce({},ws,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Pl=dr(xc),Cl=[9,13,27,32],jr=f&&"CompositionEvent"in window,br=null;f&&"documentMode"in document&&(br=document.documentMode);var On=f&&"TextEvent"in window&&!br,Ms=f&&(!jr||br&&8<br&&11>=br),_i=" ",Rl=!1;function Il(b,M){switch(b){case"keyup":return Cl.indexOf(M.keyCode)!==-1;case"keydown":return M.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Ia=!1;function _c(b,M){switch(b){case"compositionend":return Vo(M);case"keypress":return M.which!==32?null:(Rl=!0,_i);case"textInput":return b=M.data,b===_i&&Rl?null:b;default:return null}}function Qs(b,M){if(Ia)return b==="compositionend"||!jr&&Il(b,M)?(b=ir(),fr=Yi=Wr=null,Ia=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return Ms&&M.locale!=="ko"?null:M.data;default:return null}}var As={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(b){var M=b&&b.nodeName&&b.nodeName.toLowerCase();return M==="input"?!!As[b.type]:M==="textarea"}function Ps(b,M,N,z){Je(z),M=el(M,"onChange"),0<M.length&&(N=new Jn("onChange","change",null,N,z),b.push({event:N,listeners:M}))}var Da=null,Cs=null;function bc(b){Os(b,0)}function ra(b){var M=Wn(b);if(Te(M))return b}function Sc(b,M){if(b==="change")return M}var Rs=!1;if(f){var Kr;if(f){var Ka="oninput"in document;if(!Ka){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),Ka=typeof Ya.oninput=="function"}Kr=Ka}else Kr=!1;Rs=Kr&&(!document.documentMode||9<document.documentMode)}function Pi(){Da&&(Da.detachEvent("onpropertychange",Go),Cs=Da=null)}function Go(b){if(b.propertyName==="value"&&ra(Cs)){var M=[];Ps(M,Cs,b,we(b)),pn(bc,M)}}function Is(b,M,N){b==="focusin"?(Pi(),Da=M,Cs=N,Da.attachEvent("onpropertychange",Go)):b==="focusout"&&Pi()}function Ec(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return ra(Cs)}function Dl(b,M){if(b==="click")return ra(M)}function Nn(b,M){if(b==="input"||b==="change")return ra(M)}function qo(b,M){return b===M&&(b!==0||1/b===1/M)||b!==b&&M!==M}var ii=typeof Object.is=="function"?Object.is:qo;function Za(b,M){if(ii(b,M))return!0;if(typeof b!="object"||b===null||typeof M!="object"||M===null)return!1;var N=Object.keys(b),z=Object.keys(M);if(N.length!==z.length)return!1;for(z=0;z<N.length;z++){var Z=N[z];if(!d.call(M,Z)||!ii(b[Z],M[Z]))return!1}return!0}function eo(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function ai(b,M){var N=eo(b);b=0;for(var z;N;){if(N.nodeType===3){if(z=b+N.textContent.length,b<=M&&z>=M)return{node:N,offset:M-b};b=z}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=eo(N)}}function Ja(b,M){return b&&M?b===M?!0:b&&b.nodeType===3?!1:M&&M.nodeType===3?Ja(b,M.parentNode):"contains"in b?b.contains(M):b.compareDocumentPosition?!!(b.compareDocumentPosition(M)&16):!1:!1}function Fn(){for(var b=window,M=tt();M instanceof b.HTMLIFrameElement;){try{var N=typeof M.contentWindow.location.href=="string"}catch{N=!1}if(N)b=M.contentWindow;else break;M=tt(b.document)}return M}function pr(b){var M=b&&b.nodeName&&b.nodeName.toLowerCase();return M&&(M==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||M==="textarea"||b.contentEditable==="true")}function mr(b){var M=Fn(),N=b.focusedElem,z=b.selectionRange;if(M!==N&&N&&N.ownerDocument&&Ja(N.ownerDocument.documentElement,N)){if(z!==null&&pr(N)){if(M=z.start,b=z.end,b===void 0&&(b=M),"selectionStart"in N)N.selectionStart=M,N.selectionEnd=Math.min(b,N.value.length);else if(b=(M=N.ownerDocument||document)&&M.defaultView||window,b.getSelection){b=b.getSelection();var Z=N.textContent.length,ne=Math.min(z.start,Z);z=z.end===void 0?ne:Math.min(z.end,Z),!b.extend&&ne>z&&(Z=z,z=ne,ne=Z),Z=ai(N,ne);var pe=ai(N,z);Z&&pe&&(b.rangeCount!==1||b.anchorNode!==Z.node||b.anchorOffset!==Z.offset||b.focusNode!==pe.node||b.focusOffset!==pe.offset)&&(M=M.createRange(),M.setStart(Z.node,Z.offset),b.removeAllRanges(),ne>z?(b.addRange(M),b.extend(pe.node,pe.offset)):(M.setEnd(pe.node,pe.offset),b.addRange(M)))}}for(M=[],b=N;b=b.parentNode;)b.nodeType===1&&M.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<M.length;N++)b=M[N],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Ho=f&&"documentMode"in document&&11>=document.documentMode,Ui=null,Qa=null,no=null,gr=!1;function Wo(b,M,N){var z=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;gr||Ui==null||Ui!==tt(z)||(z=Ui,"selectionStart"in z&&pr(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset}),no&&Za(no,z)||(no=z,z=el(Qa,"onSelect"),0<z.length&&(M=new Jn("onSelect","select",null,M,N),b.push({event:M,listeners:z}),M.target=Ui)))}function Ds(b,M){var N={};return N[b.toLowerCase()]=M.toLowerCase(),N["Webkit"+b]="webkit"+M,N["Moz"+b]="moz"+M,N}var Oa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},Ci={},Ri={};f&&(Ri=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function $i(b){if(Ci[b])return Ci[b];if(!Oa[b])return b;var M=Oa[b],N;for(N in M)if(M.hasOwnProperty(N)&&N in Ri)return Ci[b]=M[N];return b}var ro=$i("animationend"),io=$i("animationiteration"),Ol=$i("animationstart"),kl=$i("transitionend"),Ll=new Map,Nl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(b,M){Ll.set(b,M),u(M,[b])}for(var Xo=0;Xo<Nl.length;Xo++){var ao=Nl[Xo],so=ao.toLowerCase(),wc=ao[0].toUpperCase()+ao.slice(1);ia(so,"on"+wc)}ia(ro,"onAnimationEnd"),ia(io,"onAnimationIteration"),ia(Ol,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(kl,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ko=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Yo(b,M,N){var z=b.type||"unknown-event";b.currentTarget=N,Va(z,M,void 0,b),b.currentTarget=null}function Os(b,M){M=(M&4)!==0;for(var N=0;N<b.length;N++){var z=b[N],Z=z.event;z=z.listeners;e:{var ne=void 0;if(M)for(var pe=z.length-1;0<=pe;pe--){var Pe=z[pe],Le=Pe.instance,it=Pe.currentTarget;if(Pe=Pe.listener,Le!==ne&&Z.isPropagationStopped())break e;Yo(Z,Pe,it),ne=Le}else for(pe=0;pe<z.length;pe++){if(Pe=z[pe],Le=Pe.instance,it=Pe.currentTarget,Pe=Pe.listener,Le!==ne&&Z.isPropagationStopped())break e;Yo(Z,Pe,it),ne=Le}}}if(rr)throw b=lr,rr=!1,lr=null,b}function Mn(b,M){var N=M[ns];N===void 0&&(N=M[ns]=new Set);var z=b+"__bubble";N.has(z)||(Jo(M,b,2,!1),N.add(z))}function Zo(b,M,N){var z=0;M&&(z|=4),Jo(N,b,z,M)}var oo="_reactListening"+Math.random().toString(36).slice(2);function ks(b){if(!b[oo]){b[oo]=!0,o.forEach(function(N){N!=="selectionchange"&&(Ko.has(N)||Zo(N,!1,b),Zo(N,!0,b))});var M=b.nodeType===9?b:b.ownerDocument;M===null||M[oo]||(M[oo]=!0,Zo("selectionchange",!1,M))}}function Jo(b,M,N,z){switch(Pa(M)){case 1:var Z=Bi;break;case 4:Z=yi;break;default:Z=Ha}N=Z.bind(null,M,N,b),Z=void 0,!wn||M!=="touchstart"&&M!=="touchmove"&&M!=="wheel"||(Z=!0),z?Z!==void 0?b.addEventListener(M,N,{capture:!0,passive:Z}):b.addEventListener(M,N,!0):Z!==void 0?b.addEventListener(M,N,{passive:Z}):b.addEventListener(M,N,!1)}function Qo(b,M,N,z,Z){var ne=z;if((M&1)===0&&(M&2)===0&&z!==null)e:for(;;){if(z===null)return;var pe=z.tag;if(pe===3||pe===4){var Pe=z.stateNode.containerInfo;if(Pe===Z||Pe.nodeType===8&&Pe.parentNode===Z)break;if(pe===4)for(pe=z.return;pe!==null;){var Le=pe.tag;if((Le===3||Le===4)&&(Le=pe.stateNode.containerInfo,Le===Z||Le.nodeType===8&&Le.parentNode===Z))return;pe=pe.return}for(;Pe!==null;){if(pe=Na(Pe),pe===null)return;if(Le=pe.tag,Le===5||Le===6){z=ne=pe;continue e}Pe=Pe.parentNode}}z=z.return}pn(function(){var it=ne,vt=we(N),St=[];e:{var yt=Ll.get(b);if(yt!==void 0){var Lt=Jn,Vt=b;switch(b){case"keypress":if(Zi(N)===0)break e;case"keydown":case"keyup":Lt=$o;break;case"focusin":Vt="focus",Lt=Fo;break;case"focusout":Vt="blur",Lt=Fo;break;case"beforeblur":case"afterblur":Lt=Fo;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=Ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=ta;break;case ro:case io:case Ol:Lt=mc;break;case kl:Lt=Xa;break;case"scroll":Lt=Hn;break;case"wheel":Lt=Pl;break;case"copy":case"cut":case"paste":Lt=Tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=ri}var zt=(M&4)!==0,or=!zt&&b==="scroll",Ke=zt?yt!==null?yt+"Capture":null:yt;zt=[];for(var Fe=it,Ze;Fe!==null;){Ze=Fe;var Mt=Ze.stateNode;if(Ze.tag===5&&Mt!==null&&(Ze=Mt,Ke!==null&&(Mt=mn(Fe,Ke),Mt!=null&&zt.push(Ls(Fe,Mt,Ze)))),or)break;Fe=Fe.return}0<zt.length&&(yt=new Lt(yt,Vt,null,N,vt),St.push({event:yt,listeners:zt}))}}if((M&7)===0){e:{if(yt=b==="mouseover"||b==="pointerover",Lt=b==="mouseout"||b==="pointerout",yt&&N!==mt&&(Vt=N.relatedTarget||N.fromElement)&&(Na(Vt)||Vt[si]))break e;if((Lt||yt)&&(yt=vt.window===vt?vt:(yt=vt.ownerDocument)?yt.defaultView||yt.parentWindow:window,Lt?(Vt=N.relatedTarget||N.toElement,Lt=it,Vt=Vt?Na(Vt):null,Vt!==null&&(or=Hr(Vt),Vt!==or||Vt.tag!==5&&Vt.tag!==6)&&(Vt=null)):(Lt=null,Vt=it),Lt!==Vt)){if(zt=wl,Mt="onMouseLeave",Ke="onMouseEnter",Fe="mouse",(b==="pointerout"||b==="pointerover")&&(zt=ri,Mt="onPointerLeave",Ke="onPointerEnter",Fe="pointer"),or=Lt==null?yt:Wn(Lt),Ze=Vt==null?yt:Wn(Vt),yt=new zt(Mt,Fe+"leave",Lt,N,vt),yt.target=or,yt.relatedTarget=Ze,Mt=null,Na(vt)===it&&(zt=new zt(Ke,Fe+"enter",Vt,N,vt),zt.target=Ze,zt.relatedTarget=or,Mt=zt),or=Mt,Lt&&Vt)t:{for(zt=Lt,Ke=Vt,Fe=0,Ze=zt;Ze;Ze=es(Ze))Fe++;for(Ze=0,Mt=Ke;Mt;Mt=es(Mt))Ze++;for(;0<Fe-Ze;)zt=es(zt),Fe--;for(;0<Ze-Fe;)Ke=es(Ke),Ze--;for(;Fe--;){if(zt===Ke||Ke!==null&&zt===Ke.alternate)break t;zt=es(zt),Ke=es(Ke)}zt=null}else zt=null;Lt!==null&&Tc(St,yt,Lt,zt,!1),Vt!==null&&or!==null&&Tc(St,or,Vt,zt,!0)}}e:{if(yt=it?Wn(it):window,Lt=yt.nodeName&&yt.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&yt.type==="file")var Ht=Sc;else if(zo(yt))if(Rs)Ht=Nn;else{Ht=Ec;var Kt=Is}else(Lt=yt.nodeName)&&Lt.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(Ht=Dl);if(Ht&&(Ht=Ht(b,it))){Ps(St,Ht,N,vt);break e}Kt&&Kt(b,yt,it),b==="focusout"&&(Kt=yt._wrapperState)&&Kt.controlled&&yt.type==="number"&&et(yt,"number",yt.value)}switch(Kt=it?Wn(it):window,b){case"focusin":(zo(Kt)||Kt.contentEditable==="true")&&(Ui=Kt,Qa=it,no=null);break;case"focusout":no=Qa=Ui=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,Wo(St,N,vt);break;case"selectionchange":if(Ho)break;case"keydown":case"keyup":Wo(St,N,vt)}var Yt;if(jr)e:{switch(b){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else Ia?Il(b,N)&&(Qt="onCompositionEnd"):b==="keydown"&&N.keyCode===229&&(Qt="onCompositionStart");Qt&&(Ms&&N.locale!=="ko"&&(Ia||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&Ia&&(Yt=ir()):(Wr=vt,Yi="value"in Wr?Wr.value:Wr.textContent,Ia=!0)),Kt=el(it,Qt),0<Kt.length&&(Qt=new Ml(Qt,b,null,N,vt),St.push({event:Qt,listeners:Kt}),Yt?Qt.data=Yt:(Yt=Vo(N),Yt!==null&&(Qt.data=Yt)))),(Yt=On?_c(b,N):Qs(b,N))&&(it=el(it,"onBeforeInput"),0<it.length&&(vt=new Ml("onBeforeInput","beforeinput",null,N,vt),St.push({event:vt,listeners:it}),vt.data=Yt))}Os(St,M)})}function Ls(b,M,N){return{instance:b,listener:M,currentTarget:N}}function el(b,M){for(var N=M+"Capture",z=[];b!==null;){var Z=b,ne=Z.stateNode;Z.tag===5&&ne!==null&&(Z=ne,ne=mn(b,N),ne!=null&&z.unshift(Ls(b,ne,Z)),ne=mn(b,M),ne!=null&&z.push(Ls(b,ne,Z))),b=b.return}return z}function es(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function Tc(b,M,N,z,Z){for(var ne=M._reactName,pe=[];N!==null&&N!==z;){var Pe=N,Le=Pe.alternate,it=Pe.stateNode;if(Le!==null&&Le===z)break;Pe.tag===5&&it!==null&&(Pe=it,Z?(Le=mn(N,ne),Le!=null&&pe.unshift(Ls(N,Le,Pe))):Z||(Le=mn(N,ne),Le!=null&&pe.push(Ls(N,Le,Pe)))),N=N.return}pe.length!==0&&b.push({event:M,listeners:pe})}var su=/\r\n?/g,Mc=/\u0000|\uFFFD/g;function Fl(b){return(typeof b=="string"?b:""+b).replace(su,`
`).replace(Mc,"")}function lo(b,M,N){if(M=Fl(M),Fl(b)!==M&&N)throw Error(n(425))}function co(){}var Ns=null,jl=null;function Bl(b,M){return b==="textarea"||b==="noscript"||typeof M.children=="string"||typeof M.children=="number"||typeof M.dangerouslySetInnerHTML=="object"&&M.dangerouslySetInnerHTML!==null&&M.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,$l=typeof clearTimeout=="function"?clearTimeout:void 0,tl=typeof Promise=="function"?Promise:void 0,ou=typeof queueMicrotask=="function"?queueMicrotask:typeof tl<"u"?function(b){return tl.resolve(null).then(b).catch(Ac)}:Ul;function Ac(b){setTimeout(function(){throw b})}function nl(b,M){var N=M,z=0;do{var Z=N.nextSibling;if(b.removeChild(N),Z&&Z.nodeType===8)if(N=Z.data,N==="/$"){if(z===0){b.removeChild(Z),Ma(M);return}z--}else N!=="$"&&N!=="$?"&&N!=="$!"||z++;N=Z}while(N);Ma(M)}function aa(b){for(;b!=null;b=b.nextSibling){var M=b.nodeType;if(M===1||M===3)break;if(M===8){if(M=b.data,M==="$"||M==="$!"||M==="$?")break;if(M==="/$")return null}}return b}function Vl(b){b=b.previousSibling;for(var M=0;b;){if(b.nodeType===8){var N=b.data;if(N==="$"||N==="$!"||N==="$?"){if(M===0)return b;M--}else N==="/$"&&M++}b=b.previousSibling}return null}var ts=Math.random().toString(36).slice(2),sr="__reactFiber$"+ts,Fs="__reactProps$"+ts,si="__reactContainer$"+ts,ns="__reactEvents$"+ts,rl="__reactListeners$"+ts,il="__reactHandles$"+ts;function Na(b){var M=b[sr];if(M)return M;for(var N=b.parentNode;N;){if(M=N[si]||N[sr]){if(N=M.alternate,M.child!==null||N!==null&&N.child!==null)for(b=Vl(b);b!==null;){if(N=b[sr])return N;b=Vl(b)}return M}b=N,N=b.parentNode}return null}function sa(b){return b=b[sr]||b[si],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Wn(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function al(b){return b[Fs]||null}var zl=[],yr=-1;function Bn(b){return{current:b}}function An(b){0>yr||(b.current=zl[yr],zl[yr]=null,yr--)}function En(b,M){yr++,zl[yr]=b.current,b.current=M}var oa={},Sr=Bn(oa),Br=Bn(!1),la=oa;function rs(b,M){var N=b.type.contextTypes;if(!N)return oa;var z=b.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===M)return z.__reactInternalMemoizedMaskedChildContext;var Z={},ne;for(ne in N)Z[ne]=M[ne];return z&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=M,b.__reactInternalMemoizedMaskedChildContext=Z),Z}function Ir(b){return b=b.childContextTypes,b!=null}function uo(){An(Br),An(Sr)}function Gl(b,M,N){if(Sr.current!==oa)throw Error(n(168));En(Sr,M),En(Br,N)}function ho(b,M,N){var z=b.stateNode;if(M=M.childContextTypes,typeof z.getChildContext!="function")return N;z=z.getChildContext();for(var Z in z)if(!(Z in M))throw Error(n(108,be(b)||"Unknown",Z));return ce({},N,z)}function as(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||oa,la=Sr.current,En(Sr,b),En(Br,Br.current),!0}function ql(b,M,N){var z=b.stateNode;if(!z)throw Error(n(169));N?(b=ho(b,M,la),z.__reactInternalMemoizedMergedChildContext=b,An(Br),An(Sr),En(Sr,b)):An(Br),En(Br,N)}var Ii=null,fo=!1,sl=!1;function po(b){Ii===null?Ii=[b]:Ii.push(b)}function Pc(b){fo=!0,po(b)}function Vi(){if(!sl&&Ii!==null){sl=!0;var b=0,M=on;try{var N=Ii;for(on=1;b<N.length;b++){var z=N[b];do z=z(!0);while(z!==null)}Ii=null,fo=!1}catch(Z){throw Ii!==null&&(Ii=Ii.slice(b+1)),Ga(xt,Vi),Z}finally{on=M,sl=!1}}return null}var ss=[],Yr=0,ol=null,ll=0,Ur=[],vr=0,os=null,Pt=1,bi="";function ca(b,M){ss[Yr++]=ll,ss[Yr++]=ol,ol=b,ll=M}function Hl(b,M,N){Ur[vr++]=Pt,Ur[vr++]=bi,Ur[vr++]=os,os=b;var z=Pt;b=bi;var Z=32-Wt(z)-1;z&=~(1<<Z),N+=1;var ne=32-Wt(M)+Z;if(30<ne){var pe=Z-Z%5;ne=(z&(1<<pe)-1).toString(32),z>>=pe,Z-=pe,Pt=1<<32-Wt(M)+Z|N<<Z|z,bi=ne+b}else Pt=1<<ne|N<<Z|z,bi=b}function Wl(b){b.return!==null&&(ca(b,1),Hl(b,1,0))}function ua(b){for(;b===ol;)ol=ss[--Yr],ss[Yr]=null,ll=ss[--Yr],ss[Yr]=null;for(;b===os;)os=Ur[--vr],Ur[vr]=null,bi=Ur[--vr],Ur[vr]=null,Pt=Ur[--vr],Ur[vr]=null}var Er=null,$r=null,Cn=!1,Si=null;function Xl(b,M){var N=Wi(5,null,null,0);N.elementType="DELETED",N.stateNode=M,N.return=b,M=b.deletions,M===null?(b.deletions=[N],b.flags|=16):M.push(N)}function Kl(b,M){switch(b.tag){case 5:var N=b.type;return M=M.nodeType!==1||N.toLowerCase()!==M.nodeName.toLowerCase()?null:M,M!==null?(b.stateNode=M,Er=b,$r=aa(M.firstChild),!0):!1;case 6:return M=b.pendingProps===""||M.nodeType!==3?null:M,M!==null?(b.stateNode=M,Er=b,$r=null,!0):!1;case 13:return M=M.nodeType!==8?null:M,M!==null?(N=os!==null?{id:Pt,overflow:bi}:null,b.memoizedState={dehydrated:M,treeContext:N,retryLane:1073741824},N=Wi(18,null,null,0),N.stateNode=M,N.return=b,b.child=N,Er=b,$r=null,!0):!1;default:return!1}}function cl(b){return(b.mode&1)!==0&&(b.flags&128)===0}function ul(b){if(Cn){var M=$r;if(M){var N=M;if(!Kl(b,M)){if(cl(b))throw Error(n(418));M=aa(N.nextSibling);var z=Er;M&&Kl(b,M)?Xl(z,N):(b.flags=b.flags&-4097|2,Cn=!1,Er=b)}}else{if(cl(b))throw Error(n(418));b.flags=b.flags&-4097|2,Cn=!1,Er=b}}}function hl(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Er=b}function js(b){if(b!==Er)return!1;if(!Cn)return hl(b),Cn=!0,!1;var M;if((M=b.tag!==3)&&!(M=b.tag!==5)&&(M=b.type,M=M!=="head"&&M!=="body"&&!Bl(b.type,b.memoizedProps)),M&&(M=$r)){if(cl(b))throw Yl(),Error(n(418));for(;M;)Xl(b,M),M=aa(M.nextSibling)}if(hl(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,M=0;b;){if(b.nodeType===8){var N=b.data;if(N==="/$"){if(M===0){$r=aa(b.nextSibling);break e}M--}else N!=="$"&&N!=="$!"&&N!=="$?"||M++}b=b.nextSibling}$r=null}}else $r=Er?aa(b.stateNode.nextSibling):null;return!0}function Yl(){for(var b=$r;b;)b=aa(b.nextSibling)}function Fa(){$r=Er=null,Cn=!1}function Bs(b){Si===null?Si=[b]:Si.push(b)}var lu=F.ReactCurrentBatchConfig;function mo(b,M,N){if(b=N.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var z=N.stateNode}if(!z)throw Error(n(147,b));var Z=z,ne=""+b;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===ne?M.ref:(M=function(pe){var Pe=Z.refs;pe===null?delete Pe[ne]:Pe[ne]=pe},M._stringRef=ne,M)}if(typeof b!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,b))}return b}function go(b,M){throw b=Object.prototype.toString.call(M),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":b))}function Zl(b){var M=b._init;return M(b._payload)}function Jl(b){function M(Ke,Fe){if(b){var Ze=Ke.deletions;Ze===null?(Ke.deletions=[Fe],Ke.flags|=16):Ze.push(Fe)}}function N(Ke,Fe){if(!b)return null;for(;Fe!==null;)M(Ke,Fe),Fe=Fe.sibling;return null}function z(Ke,Fe){for(Ke=new Map;Fe!==null;)Fe.key!==null?Ke.set(Fe.key,Fe):Ke.set(Fe.index,Fe),Fe=Fe.sibling;return Ke}function Z(Ke,Fe){return Ke=Ys(Ke,Fe),Ke.index=0,Ke.sibling=null,Ke}function ne(Ke,Fe,Ze){return Ke.index=Ze,b?(Ze=Ke.alternate,Ze!==null?(Ze=Ze.index,Ze<Fe?(Ke.flags|=2,Fe):Ze):(Ke.flags|=2,Fe)):(Ke.flags|=1048576,Fe)}function pe(Ke){return b&&Ke.alternate===null&&(Ke.flags|=2),Ke}function Pe(Ke,Fe,Ze,Mt){return Fe===null||Fe.tag!==6?(Fe=Au(Ze,Ke.mode,Mt),Fe.return=Ke,Fe):(Fe=Z(Fe,Ze),Fe.return=Ke,Fe)}function Le(Ke,Fe,Ze,Mt){var Ht=Ze.type;return Ht===V?vt(Ke,Fe,Ze.props.children,Mt,Ze.key):Fe!==null&&(Fe.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===he&&Zl(Ht)===Fe.type)?(Mt=Z(Fe,Ze.props),Mt.ref=mo(Ke,Fe,Ze),Mt.return=Ke,Mt):(Mt=Zc(Ze.type,Ze.key,Ze.props,null,Ke.mode,Mt),Mt.ref=mo(Ke,Fe,Ze),Mt.return=Ke,Mt)}function it(Ke,Fe,Ze,Mt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ze.containerInfo||Fe.stateNode.implementation!==Ze.implementation?(Fe=Pu(Ze,Ke.mode,Mt),Fe.return=Ke,Fe):(Fe=Z(Fe,Ze.children||[]),Fe.return=Ke,Fe)}function vt(Ke,Fe,Ze,Mt,Ht){return Fe===null||Fe.tag!==7?(Fe=Oo(Ze,Ke.mode,Mt,Ht),Fe.return=Ke,Fe):(Fe=Z(Fe,Ze),Fe.return=Ke,Fe)}function St(Ke,Fe,Ze){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Fe=Au(""+Fe,Ke.mode,Ze),Fe.return=Ke,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case B:return Ze=Zc(Fe.type,Fe.key,Fe.props,null,Ke.mode,Ze),Ze.ref=mo(Ke,null,Fe),Ze.return=Ke,Ze;case U:return Fe=Pu(Fe,Ke.mode,Ze),Fe.return=Ke,Fe;case he:var Mt=Fe._init;return St(Ke,Mt(Fe._payload),Ze)}if(Ue(Fe)||se(Fe))return Fe=Oo(Fe,Ke.mode,Ze,null),Fe.return=Ke,Fe;go(Ke,Fe)}return null}function yt(Ke,Fe,Ze,Mt){var Ht=Fe!==null?Fe.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ht!==null?null:Pe(Ke,Fe,""+Ze,Mt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case B:return Ze.key===Ht?Le(Ke,Fe,Ze,Mt):null;case U:return Ze.key===Ht?it(Ke,Fe,Ze,Mt):null;case he:return Ht=Ze._init,yt(Ke,Fe,Ht(Ze._payload),Mt)}if(Ue(Ze)||se(Ze))return Ht!==null?null:vt(Ke,Fe,Ze,Mt,null);go(Ke,Ze)}return null}function Lt(Ke,Fe,Ze,Mt,Ht){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return Ke=Ke.get(Ze)||null,Pe(Fe,Ke,""+Mt,Ht);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case B:return Ke=Ke.get(Mt.key===null?Ze:Mt.key)||null,Le(Fe,Ke,Mt,Ht);case U:return Ke=Ke.get(Mt.key===null?Ze:Mt.key)||null,it(Fe,Ke,Mt,Ht);case he:var Kt=Mt._init;return Lt(Ke,Fe,Ze,Kt(Mt._payload),Ht)}if(Ue(Mt)||se(Mt))return Ke=Ke.get(Ze)||null,vt(Fe,Ke,Mt,Ht,null);go(Fe,Mt)}return null}function Vt(Ke,Fe,Ze,Mt){for(var Ht=null,Kt=null,Yt=Fe,Qt=Fe=0,Nr=null;Yt!==null&&Qt<Ze.length;Qt++){Yt.index>Qt?(Nr=Yt,Yt=null):Nr=Yt.sibling;var _n=yt(Ke,Yt,Ze[Qt],Mt);if(_n===null){Yt===null&&(Yt=Nr);break}b&&Yt&&_n.alternate===null&&M(Ke,Yt),Fe=ne(_n,Fe,Qt),Kt===null?Ht=_n:Kt.sibling=_n,Kt=_n,Yt=Nr}if(Qt===Ze.length)return N(Ke,Yt),Cn&&ca(Ke,Qt),Ht;if(Yt===null){for(;Qt<Ze.length;Qt++)Yt=St(Ke,Ze[Qt],Mt),Yt!==null&&(Fe=ne(Yt,Fe,Qt),Kt===null?Ht=Yt:Kt.sibling=Yt,Kt=Yt);return Cn&&ca(Ke,Qt),Ht}for(Yt=z(Ke,Yt);Qt<Ze.length;Qt++)Nr=Lt(Yt,Ke,Qt,Ze[Qt],Mt),Nr!==null&&(b&&Nr.alternate!==null&&Yt.delete(Nr.key===null?Qt:Nr.key),Fe=ne(Nr,Fe,Qt),Kt===null?Ht=Nr:Kt.sibling=Nr,Kt=Nr);return b&&Yt.forEach(function(Zs){return M(Ke,Zs)}),Cn&&ca(Ke,Qt),Ht}function zt(Ke,Fe,Ze,Mt){var Ht=se(Ze);if(typeof Ht!="function")throw Error(n(150));if(Ze=Ht.call(Ze),Ze==null)throw Error(n(151));for(var Kt=Ht=null,Yt=Fe,Qt=Fe=0,Nr=null,_n=Ze.next();Yt!==null&&!_n.done;Qt++,_n=Ze.next()){Yt.index>Qt?(Nr=Yt,Yt=null):Nr=Yt.sibling;var Zs=yt(Ke,Yt,_n.value,Mt);if(Zs===null){Yt===null&&(Yt=Nr);break}b&&Yt&&Zs.alternate===null&&M(Ke,Yt),Fe=ne(Zs,Fe,Qt),Kt===null?Ht=Zs:Kt.sibling=Zs,Kt=Zs,Yt=Nr}if(_n.done)return N(Ke,Yt),Cn&&ca(Ke,Qt),Ht;if(Yt===null){for(;!_n.done;Qt++,_n=Ze.next())_n=St(Ke,_n.value,Mt),_n!==null&&(Fe=ne(_n,Fe,Qt),Kt===null?Ht=_n:Kt.sibling=_n,Kt=_n);return Cn&&ca(Ke,Qt),Ht}for(Yt=z(Ke,Yt);!_n.done;Qt++,_n=Ze.next())_n=Lt(Yt,Ke,Qt,_n.value,Mt),_n!==null&&(b&&_n.alternate!==null&&Yt.delete(_n.key===null?Qt:_n.key),Fe=ne(_n,Fe,Qt),Kt===null?Ht=_n:Kt.sibling=_n,Kt=_n);return b&&Yt.forEach(function(Nh){return M(Ke,Nh)}),Cn&&ca(Ke,Qt),Ht}function or(Ke,Fe,Ze,Mt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===V&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case B:e:{for(var Ht=Ze.key,Kt=Fe;Kt!==null;){if(Kt.key===Ht){if(Ht=Ze.type,Ht===V){if(Kt.tag===7){N(Ke,Kt.sibling),Fe=Z(Kt,Ze.props.children),Fe.return=Ke,Ke=Fe;break e}}else if(Kt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===he&&Zl(Ht)===Kt.type){N(Ke,Kt.sibling),Fe=Z(Kt,Ze.props),Fe.ref=mo(Ke,Kt,Ze),Fe.return=Ke,Ke=Fe;break e}N(Ke,Kt);break}else M(Ke,Kt);Kt=Kt.sibling}Ze.type===V?(Fe=Oo(Ze.props.children,Ke.mode,Mt,Ze.key),Fe.return=Ke,Ke=Fe):(Mt=Zc(Ze.type,Ze.key,Ze.props,null,Ke.mode,Mt),Mt.ref=mo(Ke,Fe,Ze),Mt.return=Ke,Ke=Mt)}return pe(Ke);case U:e:{for(Kt=Ze.key;Fe!==null;){if(Fe.key===Kt)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ze.containerInfo&&Fe.stateNode.implementation===Ze.implementation){N(Ke,Fe.sibling),Fe=Z(Fe,Ze.children||[]),Fe.return=Ke,Ke=Fe;break e}else{N(Ke,Fe);break}else M(Ke,Fe);Fe=Fe.sibling}Fe=Pu(Ze,Ke.mode,Mt),Fe.return=Ke,Ke=Fe}return pe(Ke);case he:return Kt=Ze._init,or(Ke,Fe,Kt(Ze._payload),Mt)}if(Ue(Ze))return Vt(Ke,Fe,Ze,Mt);if(se(Ze))return zt(Ke,Fe,Ze,Mt);go(Ke,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,Fe!==null&&Fe.tag===6?(N(Ke,Fe.sibling),Fe=Z(Fe,Ze),Fe.return=Ke,Ke=Fe):(N(Ke,Fe),Fe=Au(Ze,Ke.mode,Mt),Fe.return=Ke,Ke=Fe),pe(Ke)):N(Ke,Fe)}return or}var ls=Jl(!0),yo=Jl(!1),cs=Bn(null),us=null,ha=null,Us=null;function hs(){Us=ha=us=null}function vo(b){var M=cs.current;An(cs),b._currentValue=M}function xo(b,M,N){for(;b!==null;){var z=b.alternate;if((b.childLanes&M)!==M?(b.childLanes|=M,z!==null&&(z.childLanes|=M)):z!==null&&(z.childLanes&M)!==M&&(z.childLanes|=M),b===N)break;b=b.return}}function ja(b,M){us=b,Us=ha=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&M)!==0&&(un=!0),b.firstContext=null)}function oi(b){var M=b._currentValue;if(Us!==b)if(b={context:b,memoizedValue:M,next:null},ha===null){if(us===null)throw Error(n(308));ha=b,us.dependencies={lanes:0,firstContext:b}}else ha=ha.next=b;return M}var fa=null;function Ql(b){fa===null?fa=[b]:fa.push(b)}function _o(b,M,N,z){var Z=M.interleaved;return Z===null?(N.next=N,Ql(M)):(N.next=Z.next,Z.next=N),M.interleaved=N,Di(b,z)}function Di(b,M){b.lanes|=M;var N=b.alternate;for(N!==null&&(N.lanes|=M),N=b,b=b.return;b!==null;)b.childLanes|=M,N=b.alternate,N!==null&&(N.childLanes|=M),N=b,b=b.return;return N.tag===3?N.stateNode:null}var bn=!1;function cn(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xn(b,M){b=b.updateQueue,M.updateQueue===b&&(M.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Sn(b,M){return{eventTime:b,lane:M,tag:0,payload:null,callback:null,next:null}}function kn(b,M,N){var z=b.updateQueue;if(z===null)return null;if(z=z.shared,(xn&2)!==0){var Z=z.pending;return Z===null?M.next=M:(M.next=Z.next,Z.next=M),z.pending=M,Di(b,N)}return Z=z.interleaved,Z===null?(M.next=M,Ql(z)):(M.next=Z.next,Z.next=M),z.interleaved=M,Di(b,N)}function Dr(b,M,N){if(M=M.updateQueue,M!==null&&(M=M.shared,(N&4194240)!==0)){var z=M.lanes;z&=b.pendingLanes,N|=z,M.lanes=N,Tn(b,N)}}function fs(b,M){var N=b.updateQueue,z=b.alternate;if(z!==null&&(z=z.updateQueue,N===z)){var Z=null,ne=null;if(N=N.firstBaseUpdate,N!==null){do{var pe={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};ne===null?Z=ne=pe:ne=ne.next=pe,N=N.next}while(N!==null);ne===null?Z=ne=M:ne=ne.next=M}else Z=ne=M;N={baseState:z.baseState,firstBaseUpdate:Z,lastBaseUpdate:ne,shared:z.shared,effects:z.effects},b.updateQueue=N;return}b=N.lastBaseUpdate,b===null?N.firstBaseUpdate=M:b.next=M,N.lastBaseUpdate=M}function Un(b,M,N,z){var Z=b.updateQueue;bn=!1;var ne=Z.firstBaseUpdate,pe=Z.lastBaseUpdate,Pe=Z.shared.pending;if(Pe!==null){Z.shared.pending=null;var Le=Pe,it=Le.next;Le.next=null,pe===null?ne=it:pe.next=it,pe=Le;var vt=b.alternate;vt!==null&&(vt=vt.updateQueue,Pe=vt.lastBaseUpdate,Pe!==pe&&(Pe===null?vt.firstBaseUpdate=it:Pe.next=it,vt.lastBaseUpdate=Le))}if(ne!==null){var St=Z.baseState;pe=0,vt=it=Le=null,Pe=ne;do{var yt=Pe.lane,Lt=Pe.eventTime;if((z&yt)===yt){vt!==null&&(vt=vt.next={eventTime:Lt,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var Vt=b,zt=Pe;switch(yt=M,Lt=N,zt.tag){case 1:if(Vt=zt.payload,typeof Vt=="function"){St=Vt.call(Lt,St,yt);break e}St=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=zt.payload,yt=typeof Vt=="function"?Vt.call(Lt,St,yt):Vt,yt==null)break e;St=ce({},St,yt);break e;case 2:bn=!0}}Pe.callback!==null&&Pe.lane!==0&&(b.flags|=64,yt=Z.effects,yt===null?Z.effects=[Pe]:yt.push(Pe))}else Lt={eventTime:Lt,lane:yt,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},vt===null?(it=vt=Lt,Le=St):vt=vt.next=Lt,pe|=yt;if(Pe=Pe.next,Pe===null){if(Pe=Z.shared.pending,Pe===null)break;yt=Pe,Pe=yt.next,yt.next=null,Z.lastBaseUpdate=yt,Z.shared.pending=null}}while(!0);if(vt===null&&(Le=St),Z.baseState=Le,Z.firstBaseUpdate=it,Z.lastBaseUpdate=vt,M=Z.shared.interleaved,M!==null){Z=M;do pe|=Z.lane,Z=Z.next;while(Z!==M)}else ne===null&&(Z.shared.lanes=0);Co|=pe,b.lanes=pe,b.memoizedState=St}}function $s(b,M,N){if(b=M.effects,M.effects=null,b!==null)for(M=0;M<b.length;M++){var z=b[M],Z=z.callback;if(Z!==null){if(z.callback=null,z=N,typeof Z!="function")throw Error(n(191,Z));Z.call(z)}}}var zi={},li=Bn(zi),ds=Bn(zi),da=Bn(zi);function Qn(b){if(b===zi)throw Error(n(174));return b}function bo(b,M){switch(En(da,M),En(ds,b),En(li,zi),b=M.nodeType,b){case 9:case 11:M=(M=M.documentElement)?M.namespaceURI:$e(null,"");break;default:b=b===8?M.parentNode:M,M=b.namespaceURI||null,b=b.tagName,M=$e(M,b)}An(li),En(li,M)}function Ba(){An(li),An(ds),An(da)}function ps(b){Qn(da.current);var M=Qn(li.current),N=$e(M,b.type);M!==N&&(En(ds,b),En(li,N))}function Vs(b){ds.current===b&&(An(li),An(ds))}var Rn=Bn(0);function Oi(b){for(var M=b;M!==null;){if(M.tag===13){var N=M.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===b)break;for(;M.sibling===null;){if(M.return===null||M.return===b)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var zs=[];function Gi(){for(var b=0;b<zs.length;b++)zs[b]._workInProgressVersionPrimary=null;zs.length=0}var ms=F.ReactCurrentDispatcher,gs=F.ReactCurrentBatchConfig,pa=0,Pn=null,$n=null,vn=null,ki=!1,Or=!1,Ua=0,Zr=0;function wr(){throw Error(n(321))}function So(b,M){if(M===null)return!1;for(var N=0;N<M.length&&N<b.length;N++)if(!ii(b[N],M[N]))return!1;return!0}function Eo(b,M,N,z,Z,ne){if(pa=ne,Pn=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,ms.current=b===null||b.memoizedState===null?Lc:Nc,b=N(z,Z),Or){ne=0;do{if(Or=!1,Ua=0,25<=ne)throw Error(n(301));ne+=1,vn=$n=null,M.updateQueue=null,ms.current=Fc,b=N(z,Z)}while(Or)}if(ms.current=vl,M=$n!==null&&$n.next!==null,pa=0,vn=$n=Pn=null,ki=!1,M)throw Error(n(300));return b}function ec(){var b=Ua!==0;return Ua=0,b}function Tr(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Pn.memoizedState=vn=b:vn=vn.next=b,vn}function ci(){if($n===null){var b=Pn.alternate;b=b!==null?b.memoizedState:null}else b=$n.next;var M=vn===null?Pn.memoizedState:vn.next;if(M!==null)vn=M,$n=b;else{if(b===null)throw Error(n(310));$n=b,b={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},vn===null?Pn.memoizedState=vn=b:vn=vn.next=b}return vn}function Gs(b,M){return typeof M=="function"?M(b):M}function wo(b){var M=ci(),N=M.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=b;var z=$n,Z=z.baseQueue,ne=N.pending;if(ne!==null){if(Z!==null){var pe=Z.next;Z.next=ne.next,ne.next=pe}z.baseQueue=Z=ne,N.pending=null}if(Z!==null){ne=Z.next,z=z.baseState;var Pe=pe=null,Le=null,it=ne;do{var vt=it.lane;if((pa&vt)===vt)Le!==null&&(Le=Le.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),z=it.hasEagerState?it.eagerState:b(z,it.action);else{var St={lane:vt,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};Le===null?(Pe=Le=St,pe=z):Le=Le.next=St,Pn.lanes|=vt,Co|=vt}it=it.next}while(it!==null&&it!==ne);Le===null?pe=z:Le.next=Pe,ii(z,M.memoizedState)||(un=!0),M.memoizedState=z,M.baseState=pe,M.baseQueue=Le,N.lastRenderedState=z}if(b=N.interleaved,b!==null){Z=b;do ne=Z.lane,Pn.lanes|=ne,Co|=ne,Z=Z.next;while(Z!==b)}else Z===null&&(N.lanes=0);return[M.memoizedState,N.dispatch]}function ma(b){var M=ci(),N=M.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=b;var z=N.dispatch,Z=N.pending,ne=M.memoizedState;if(Z!==null){N.pending=null;var pe=Z=Z.next;do ne=b(ne,pe.action),pe=pe.next;while(pe!==Z);ii(ne,M.memoizedState)||(un=!0),M.memoizedState=ne,M.baseQueue===null&&(M.baseState=ne),N.lastRenderedState=ne}return[ne,z]}function tc(){}function nc(b,M){var N=Pn,z=ci(),Z=M(),ne=!ii(z.memoizedState,Z);if(ne&&(z.memoizedState=Z,un=!0),z=z.queue,ac(Cc.bind(null,N,z,b),[b]),z.getSnapshot!==M||ne||vn!==null&&vn.memoizedState.tag&1){if(N.flags|=2048,Li(9,To.bind(null,N,z,Z,M),void 0,null),Lr===null)throw Error(n(349));(pa&30)!==0||fl(N,M,Z)}return Z}function fl(b,M,N){b.flags|=16384,b={getSnapshot:M,value:N},M=Pn.updateQueue,M===null?(M={lastEffect:null,stores:null},Pn.updateQueue=M,M.stores=[b]):(N=M.stores,N===null?M.stores=[b]:N.push(b))}function To(b,M,N,z){M.value=N,M.getSnapshot=z,Rc(M)&&rc(b)}function Cc(b,M,N){return N(function(){Rc(M)&&rc(b)})}function Rc(b){var M=b.getSnapshot;b=b.value;try{var N=M();return!ii(b,N)}catch{return!0}}function rc(b){var M=Di(b,1);M!==null&&ba(M,b,1,-1)}function ic(b){var M=Tr();return typeof b=="function"&&(b=b()),M.memoizedState=M.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:b},M.queue=b,b=b.dispatch=ys.bind(null,Pn,b),[M.memoizedState,b]}function Li(b,M,N,z){return b={tag:b,create:M,destroy:N,deps:z,next:null},M=Pn.updateQueue,M===null?(M={lastEffect:null,stores:null},Pn.updateQueue=M,M.lastEffect=b.next=b):(N=M.lastEffect,N===null?M.lastEffect=b.next=b:(z=N.next,N.next=b,b.next=z,M.lastEffect=b)),b}function Ic(){return ci().memoizedState}function qi(b,M,N,z){var Z=Tr();Pn.flags|=b,Z.memoizedState=Li(1|M,N,void 0,z===void 0?null:z)}function Mo(b,M,N,z){var Z=ci();z=z===void 0?null:z;var ne=void 0;if($n!==null){var pe=$n.memoizedState;if(ne=pe.destroy,z!==null&&So(z,pe.deps)){Z.memoizedState=Li(M,N,ne,z);return}}Pn.flags|=b,Z.memoizedState=Li(1|M,N,ne,z)}function Vr(b,M){return qi(8390656,8,b,M)}function ac(b,M){return Mo(2048,8,b,M)}function sc(b,M){return Mo(4,2,b,M)}function Dc(b,M){return Mo(4,4,b,M)}function Oc(b,M){if(typeof M=="function")return b=b(),M(b),function(){M(null)};if(M!=null)return b=b(),M.current=b,function(){M.current=null}}function oc(b,M,N){return N=N!=null?N.concat([b]):null,Mo(4,4,Oc.bind(null,M,b),N)}function dl(){}function kc(b,M){var N=ci();M=M===void 0?null:M;var z=N.memoizedState;return z!==null&&M!==null&&So(M,z[1])?z[0]:(N.memoizedState=[b,M],b)}function ui(b,M){var N=ci();M=M===void 0?null:M;var z=N.memoizedState;return z!==null&&M!==null&&So(M,z[1])?z[0]:(b=b(),N.memoizedState=[b,M],b)}function pl(b,M,N){return(pa&21)===0?(b.baseState&&(b.baseState=!1,un=!0),b.memoizedState=N):(ii(N,M)||(N=fn(),Pn.lanes|=N,Co|=N,b.baseState=!0),M)}function cu(b,M){var N=on;on=N!==0&&4>N?N:4,b(!0);var z=gs.transition;gs.transition={};try{b(!1),M()}finally{on=N,gs.transition=z}}function ga(){return ci().memoizedState}function ml(b,M,N){var z=Xs(b);if(N={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null},Ao(b))gl(M,N);else if(N=_o(b,M,N,z),N!==null){var Z=fi();ba(N,b,z,Z),yl(N,M,z)}}function ys(b,M,N){var z=Xs(b),Z={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null};if(Ao(b))gl(M,Z);else{var ne=b.alternate;if(b.lanes===0&&(ne===null||ne.lanes===0)&&(ne=M.lastRenderedReducer,ne!==null))try{var pe=M.lastRenderedState,Pe=ne(pe,N);if(Z.hasEagerState=!0,Z.eagerState=Pe,ii(Pe,pe)){var Le=M.interleaved;Le===null?(Z.next=Z,Ql(M)):(Z.next=Le.next,Le.next=Z),M.interleaved=Z;return}}catch{}finally{}N=_o(b,M,Z,z),N!==null&&(Z=fi(),ba(N,b,z,Z),yl(N,M,z))}}function Ao(b){var M=b.alternate;return b===Pn||M!==null&&M===Pn}function gl(b,M){Or=ki=!0;var N=b.pending;N===null?M.next=M:(M.next=N.next,N.next=M),b.pending=M}function yl(b,M,N){if((N&4194240)!==0){var z=M.lanes;z&=b.pendingLanes,N|=z,M.lanes=N,Tn(b,N)}}var vl={readContext:oi,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},Lc={readContext:oi,useCallback:function(b,M){return Tr().memoizedState=[b,M===void 0?null:M],b},useContext:oi,useEffect:Vr,useImperativeHandle:function(b,M,N){return N=N!=null?N.concat([b]):null,qi(4194308,4,Oc.bind(null,M,b),N)},useLayoutEffect:function(b,M){return qi(4194308,4,b,M)},useInsertionEffect:function(b,M){return qi(4,2,b,M)},useMemo:function(b,M){var N=Tr();return M=M===void 0?null:M,b=b(),N.memoizedState=[b,M],b},useReducer:function(b,M,N){var z=Tr();return M=N!==void 0?N(M):M,z.memoizedState=z.baseState=M,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:M},z.queue=b,b=b.dispatch=ml.bind(null,Pn,b),[z.memoizedState,b]},useRef:function(b){var M=Tr();return b={current:b},M.memoizedState=b},useState:ic,useDebugValue:dl,useDeferredValue:function(b){return Tr().memoizedState=b},useTransition:function(){var b=ic(!1),M=b[0];return b=cu.bind(null,b[1]),Tr().memoizedState=b,[M,b]},useMutableSource:function(){},useSyncExternalStore:function(b,M,N){var z=Pn,Z=Tr();if(Cn){if(N===void 0)throw Error(n(407));N=N()}else{if(N=M(),Lr===null)throw Error(n(349));(pa&30)!==0||fl(z,M,N)}Z.memoizedState=N;var ne={value:N,getSnapshot:M};return Z.queue=ne,Vr(Cc.bind(null,z,ne,b),[b]),z.flags|=2048,Li(9,To.bind(null,z,ne,N,M),void 0,null),N},useId:function(){var b=Tr(),M=Lr.identifierPrefix;if(Cn){var N=bi,z=Pt;N=(z&~(1<<32-Wt(z)-1)).toString(32)+N,M=":"+M+"R"+N,N=Ua++,0<N&&(M+="H"+N.toString(32)),M+=":"}else N=Zr++,M=":"+M+"r"+N.toString(32)+":";return b.memoizedState=M},unstable_isNewReconciler:!1},Nc={readContext:oi,useCallback:kc,useContext:oi,useEffect:ac,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:Dc,useMemo:ui,useReducer:wo,useRef:Ic,useState:function(){return wo(Gs)},useDebugValue:dl,useDeferredValue:function(b){var M=ci();return pl(M,$n.memoizedState,b)},useTransition:function(){var b=wo(Gs)[0],M=ci().memoizedState;return[b,M]},useMutableSource:tc,useSyncExternalStore:nc,useId:ga,unstable_isNewReconciler:!1},Fc={readContext:oi,useCallback:kc,useContext:oi,useEffect:ac,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:Dc,useMemo:ui,useReducer:ma,useRef:Ic,useState:function(){return ma(Gs)},useDebugValue:dl,useDeferredValue:function(b){var M=ci();return $n===null?M.memoizedState=b:pl(M,$n.memoizedState,b)},useTransition:function(){var b=ma(Gs)[0],M=ci().memoizedState;return[b,M]},useMutableSource:tc,useSyncExternalStore:nc,useId:ga,unstable_isNewReconciler:!1};function Ei(b,M){if(b&&b.defaultProps){M=ce({},M),b=b.defaultProps;for(var N in b)M[N]===void 0&&(M[N]=b[N]);return M}return M}function Po(b,M,N,z){M=b.memoizedState,N=N(z,M),N=N==null?M:ce({},M,N),b.memoizedState=N,b.lanes===0&&(b.updateQueue.baseState=N)}var xl={isMounted:function(b){return(b=b._reactInternals)?Hr(b)===b:!1},enqueueSetState:function(b,M,N){b=b._reactInternals;var z=fi(),Z=Xs(b),ne=Sn(z,Z);ne.payload=M,N!=null&&(ne.callback=N),M=kn(b,ne,Z),M!==null&&(ba(M,b,Z,z),Dr(M,b,Z))},enqueueReplaceState:function(b,M,N){b=b._reactInternals;var z=fi(),Z=Xs(b),ne=Sn(z,Z);ne.tag=1,ne.payload=M,N!=null&&(ne.callback=N),M=kn(b,ne,Z),M!==null&&(ba(M,b,Z,z),Dr(M,b,Z))},enqueueForceUpdate:function(b,M){b=b._reactInternals;var N=fi(),z=Xs(b),Z=Sn(N,z);Z.tag=2,M!=null&&(Z.callback=M),M=kn(b,Z,z),M!==null&&(ba(M,b,z,N),Dr(M,b,z))}};function jc(b,M,N,z,Z,ne,pe){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(z,ne,pe):M.prototype&&M.prototype.isPureReactComponent?!Za(N,z)||!Za(Z,ne):!0}function R(b,M,N){var z=!1,Z=oa,ne=M.contextType;return typeof ne=="object"&&ne!==null?ne=oi(ne):(Z=Ir(M)?la:Sr.current,z=M.contextTypes,ne=(z=z!=null)?rs(b,Z):oa),M=new M(N,ne),b.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=xl,b.stateNode=M,M._reactInternals=b,z&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=Z,b.__reactInternalMemoizedMaskedChildContext=ne),M}function I(b,M,N,z){b=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(N,z),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(N,z),M.state!==b&&xl.enqueueReplaceState(M,M.state,null)}function $(b,M,N,z){var Z=b.stateNode;Z.props=N,Z.state=b.memoizedState,Z.refs={},cn(b);var ne=M.contextType;typeof ne=="object"&&ne!==null?Z.context=oi(ne):(ne=Ir(M)?la:Sr.current,Z.context=rs(b,ne)),Z.state=b.memoizedState,ne=M.getDerivedStateFromProps,typeof ne=="function"&&(Po(b,M,ne,N),Z.state=b.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(M=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),M!==Z.state&&xl.enqueueReplaceState(Z,Z.state,null),Un(b,N,Z,z),Z.state=b.memoizedState),typeof Z.componentDidMount=="function"&&(b.flags|=4194308)}function K(b,M){try{var N="",z=M;do N+=xe(z),z=z.return;while(z);var Z=N}catch(ne){Z=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:b,source:M,stack:Z,digest:null}}function ee(b,M,N){return{value:b,source:null,stack:N??null,digest:M??null}}function oe(b,M){try{console.error(M.value)}catch(N){setTimeout(function(){throw N})}}var Se=typeof WeakMap=="function"?WeakMap:Map;function Be(b,M,N){N=Sn(-1,N),N.tag=3,N.payload={element:null};var z=M.value;return N.callback=function(){qc||(qc=!0,xu=z),oe(b,M)},N}function lt(b,M,N){N=Sn(-1,N),N.tag=3;var z=b.type.getDerivedStateFromError;if(typeof z=="function"){var Z=M.value;N.payload=function(){return z(Z)},N.callback=function(){oe(b,M)}}var ne=b.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(N.callback=function(){oe(b,M),typeof z!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var pe=M.stack;this.componentDidCatch(M.value,{componentStack:pe!==null?pe:""})}),N}function wt(b,M,N){var z=b.pingCache;if(z===null){z=b.pingCache=new Se;var Z=new Set;z.set(M,Z)}else Z=z.get(M),Z===void 0&&(Z=new Set,z.set(M,Z));Z.has(N)||(Z.add(N),b=Th.bind(null,b,M,N),M.then(b,b))}function Ft(b){do{var M;if((M=b.tag===13)&&(M=b.memoizedState,M=M!==null?M.dehydrated!==null:!0),M)return b;b=b.return}while(b!==null);return null}function en(b,M,N,z,Z){return(b.mode&1)===0?(b===M?b.flags|=65536:(b.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(M=Sn(-1,1),M.tag=2,kn(N,M,1))),N.lanes|=1),b):(b.flags|=65536,b.lanes=Z,b)}var Xt=F.ReactCurrentOwner,un=!1;function kt(b,M,N,z){M.child=b===null?yo(M,null,N,z):ls(M,b.child,N,z)}function Mr(b,M,N,z,Z){N=N.render;var ne=M.ref;return ja(M,Z),z=Eo(b,M,N,z,ne,Z),N=ec(),b!==null&&!un?(M.updateQueue=b.updateQueue,M.flags&=-2053,b.lanes&=~Z,vs(b,M,Z)):(Cn&&N&&Wl(M),M.flags|=1,kt(b,M,z,Z),M.child)}function hi(b,M,N,z,Z){if(b===null){var ne=N.type;return typeof ne=="function"&&!Mu(ne)&&ne.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(M.tag=15,M.type=ne,Qe(b,M,ne,z,Z)):(b=Zc(N.type,null,z,M,M.mode,Z),b.ref=M.ref,b.return=M,M.child=b)}if(ne=b.child,(b.lanes&Z)===0){var pe=ne.memoizedProps;if(N=N.compare,N=N!==null?N:Za,N(pe,z)&&b.ref===M.ref)return vs(b,M,Z)}return M.flags|=1,b=Ys(ne,z),b.ref=M.ref,b.return=M,M.child=b}function Qe(b,M,N,z,Z){if(b!==null){var ne=b.memoizedProps;if(Za(ne,z)&&b.ref===M.ref)if(un=!1,M.pendingProps=z=ne,(b.lanes&Z)!==0)(b.flags&131072)!==0&&(un=!0);else return M.lanes=b.lanes,vs(b,M,Z)}return It(b,M,N,z,Z)}function He(b,M,N){var z=M.pendingProps,Z=z.children,ne=b!==null?b.memoizedState:null;if(z.mode==="hidden")if((M.mode&1)===0)M.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(bl,Ni),Ni|=N;else{if((N&1073741824)===0)return b=ne!==null?ne.baseLanes|N:N,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:b,cachePool:null,transitions:null},M.updateQueue=null,En(bl,Ni),Ni|=b,null;M.memoizedState={baseLanes:0,cachePool:null,transitions:null},z=ne!==null?ne.baseLanes:N,En(bl,Ni),Ni|=z}else ne!==null?(z=ne.baseLanes|N,M.memoizedState=null):z=N,En(bl,Ni),Ni|=z;return kt(b,M,Z,N),M.child}function ot(b,M){var N=M.ref;(b===null&&N!==null||b!==null&&b.ref!==N)&&(M.flags|=512,M.flags|=2097152)}function It(b,M,N,z,Z){var ne=Ir(N)?la:Sr.current;return ne=rs(M,ne),ja(M,Z),N=Eo(b,M,N,z,ne,Z),z=ec(),b!==null&&!un?(M.updateQueue=b.updateQueue,M.flags&=-2053,b.lanes&=~Z,vs(b,M,Z)):(Cn&&z&&Wl(M),M.flags|=1,kt(b,M,N,Z),M.child)}function qt(b,M,N,z,Z){if(Ir(N)){var ne=!0;as(M)}else ne=!1;if(ja(M,Z),M.stateNode===null)Uc(b,M),R(M,N,z),$(M,N,z,Z),z=!0;else if(b===null){var pe=M.stateNode,Pe=M.memoizedProps;pe.props=Pe;var Le=pe.context,it=N.contextType;typeof it=="object"&&it!==null?it=oi(it):(it=Ir(N)?la:Sr.current,it=rs(M,it));var vt=N.getDerivedStateFromProps,St=typeof vt=="function"||typeof pe.getSnapshotBeforeUpdate=="function";St||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Pe!==z||Le!==it)&&I(M,pe,z,it),bn=!1;var yt=M.memoizedState;pe.state=yt,Un(M,z,pe,Z),Le=M.memoizedState,Pe!==z||yt!==Le||Br.current||bn?(typeof vt=="function"&&(Po(M,N,vt,z),Le=M.memoizedState),(Pe=bn||jc(M,N,Pe,z,yt,Le,it))?(St||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(M.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=z,M.memoizedState=Le),pe.props=z,pe.state=Le,pe.context=it,z=Pe):(typeof pe.componentDidMount=="function"&&(M.flags|=4194308),z=!1)}else{pe=M.stateNode,Xn(b,M),Pe=M.memoizedProps,it=M.type===M.elementType?Pe:Ei(M.type,Pe),pe.props=it,St=M.pendingProps,yt=pe.context,Le=N.contextType,typeof Le=="object"&&Le!==null?Le=oi(Le):(Le=Ir(N)?la:Sr.current,Le=rs(M,Le));var Lt=N.getDerivedStateFromProps;(vt=typeof Lt=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Pe!==St||yt!==Le)&&I(M,pe,z,Le),bn=!1,yt=M.memoizedState,pe.state=yt,Un(M,z,pe,Z);var Vt=M.memoizedState;Pe!==St||yt!==Vt||Br.current||bn?(typeof Lt=="function"&&(Po(M,N,Lt,z),Vt=M.memoizedState),(it=bn||jc(M,N,it,z,yt,Vt,Le)||!1)?(vt||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(z,Vt,Le),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(z,Vt,Le)),typeof pe.componentDidUpdate=="function"&&(M.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof pe.componentDidUpdate!="function"||Pe===b.memoizedProps&&yt===b.memoizedState||(M.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Pe===b.memoizedProps&&yt===b.memoizedState||(M.flags|=1024),M.memoizedProps=z,M.memoizedState=Vt),pe.props=z,pe.state=Vt,pe.context=Le,z=it):(typeof pe.componentDidUpdate!="function"||Pe===b.memoizedProps&&yt===b.memoizedState||(M.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Pe===b.memoizedProps&&yt===b.memoizedState||(M.flags|=1024),z=!1)}return an(b,M,N,z,ne,Z)}function an(b,M,N,z,Z,ne){ot(b,M);var pe=(M.flags&128)!==0;if(!z&&!pe)return Z&&ql(M,N,!1),vs(b,M,ne);z=M.stateNode,Xt.current=M;var Pe=pe&&typeof N.getDerivedStateFromError!="function"?null:z.render();return M.flags|=1,b!==null&&pe?(M.child=ls(M,b.child,null,ne),M.child=ls(M,null,Pe,ne)):kt(b,M,Pe,ne),M.memoizedState=z.state,Z&&ql(M,N,!0),M.child}function tn(b){var M=b.stateNode;M.pendingContext?Gl(b,M.pendingContext,M.pendingContext!==M.context):M.context&&Gl(b,M.context,!1),bo(b,M.containerInfo)}function yn(b,M,N,z,Z){return Fa(),Bs(Z),M.flags|=256,kt(b,M,N,z),M.child}var er={dehydrated:null,treeContext:null,retryLane:0};function gn(b){return{baseLanes:b,cachePool:null,transitions:null}}function ya(b,M,N){var z=M.pendingProps,Z=Rn.current,ne=!1,pe=(M.flags&128)!==0,Pe;if((Pe=pe)||(Pe=b!==null&&b.memoizedState===null?!1:(Z&2)!==0),Pe?(ne=!0,M.flags&=-129):(b===null||b.memoizedState!==null)&&(Z|=1),En(Rn,Z&1),b===null)return ul(M),b=M.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((M.mode&1)===0?M.lanes=1:b.data==="$!"?M.lanes=8:M.lanes=1073741824,null):(pe=z.children,b=z.fallback,ne?(z=M.mode,ne=M.child,pe={mode:"hidden",children:pe},(z&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=pe):ne=Jc(pe,z,0,null),b=Oo(b,z,N,null),ne.return=M,b.return=M,ne.sibling=b,M.child=ne,M.child.memoizedState=gn(N),M.memoizedState=er,b):lc(M,pe));if(Z=b.memoizedState,Z!==null&&(Pe=Z.dehydrated,Pe!==null))return fh(b,M,pe,z,Pe,Z,N);if(ne){ne=z.fallback,pe=M.mode,Z=b.child,Pe=Z.sibling;var Le={mode:"hidden",children:z.children};return(pe&1)===0&&M.child!==Z?(z=M.child,z.childLanes=0,z.pendingProps=Le,M.deletions=null):(z=Ys(Z,Le),z.subtreeFlags=Z.subtreeFlags&14680064),Pe!==null?ne=Ys(Pe,ne):(ne=Oo(ne,pe,N,null),ne.flags|=2),ne.return=M,z.return=M,z.sibling=ne,M.child=z,z=ne,ne=M.child,pe=b.child.memoizedState,pe=pe===null?gn(N):{baseLanes:pe.baseLanes|N,cachePool:null,transitions:pe.transitions},ne.memoizedState=pe,ne.childLanes=b.childLanes&~N,M.memoizedState=er,z}return ne=b.child,b=ne.sibling,z=Ys(ne,{mode:"visible",children:z.children}),(M.mode&1)===0&&(z.lanes=N),z.return=M,z.sibling=null,b!==null&&(N=M.deletions,N===null?(M.deletions=[b],M.flags|=16):N.push(b)),M.child=z,M.memoizedState=null,z}function lc(b,M){return M=Jc({mode:"visible",children:M},b.mode,0,null),M.return=b,b.child=M}function Bc(b,M,N,z){return z!==null&&Bs(z),ls(M,b.child,null,N),b=lc(M,M.pendingProps.children),b.flags|=2,M.memoizedState=null,b}function fh(b,M,N,z,Z,ne,pe){if(N)return M.flags&256?(M.flags&=-257,z=ee(Error(n(422))),Bc(b,M,pe,z)):M.memoizedState!==null?(M.child=b.child,M.flags|=128,null):(ne=z.fallback,Z=M.mode,z=Jc({mode:"visible",children:z.children},Z,0,null),ne=Oo(ne,Z,pe,null),ne.flags|=2,z.return=M,ne.return=M,z.sibling=ne,M.child=z,(M.mode&1)!==0&&ls(M,b.child,null,pe),M.child.memoizedState=gn(pe),M.memoizedState=er,ne);if((M.mode&1)===0)return Bc(b,M,pe,null);if(Z.data==="$!"){if(z=Z.nextSibling&&Z.nextSibling.dataset,z)var Pe=z.dgst;return z=Pe,ne=Error(n(419)),z=ee(ne,z,void 0),Bc(b,M,pe,z)}if(Pe=(pe&b.childLanes)!==0,un||Pe){if(z=Lr,z!==null){switch(pe&-pe){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}Z=(Z&(z.suspendedLanes|pe))!==0?0:Z,Z!==0&&Z!==ne.retryLane&&(ne.retryLane=Z,Di(b,Z),ba(z,b,Z,-1))}return Tu(),z=ee(Error(n(421))),Bc(b,M,pe,z)}return Z.data==="$?"?(M.flags|=128,M.child=b.child,M=Mh.bind(null,b),Z._reactRetry=M,null):(b=ne.treeContext,$r=aa(Z.nextSibling),Er=M,Cn=!0,Si=null,b!==null&&(Ur[vr++]=Pt,Ur[vr++]=bi,Ur[vr++]=os,Pt=b.id,bi=b.overflow,os=M),M=lc(M,z.children),M.flags|=4096,M)}function Lu(b,M,N){b.lanes|=M;var z=b.alternate;z!==null&&(z.lanes|=M),xo(b.return,M,N)}function uu(b,M,N,z,Z){var ne=b.memoizedState;ne===null?b.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:z,tail:N,tailMode:Z}:(ne.isBackwards=M,ne.rendering=null,ne.renderingStartTime=0,ne.last=z,ne.tail=N,ne.tailMode=Z)}function Nu(b,M,N){var z=M.pendingProps,Z=z.revealOrder,ne=z.tail;if(kt(b,M,z.children,N),z=Rn.current,(z&2)!==0)z=z&1|2,M.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=M.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&Lu(b,N,M);else if(b.tag===19)Lu(b,N,M);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===M)break e;for(;b.sibling===null;){if(b.return===null||b.return===M)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}z&=1}if(En(Rn,z),(M.mode&1)===0)M.memoizedState=null;else switch(Z){case"forwards":for(N=M.child,Z=null;N!==null;)b=N.alternate,b!==null&&Oi(b)===null&&(Z=N),N=N.sibling;N=Z,N===null?(Z=M.child,M.child=null):(Z=N.sibling,N.sibling=null),uu(M,!1,Z,N,ne);break;case"backwards":for(N=null,Z=M.child,M.child=null;Z!==null;){if(b=Z.alternate,b!==null&&Oi(b)===null){M.child=Z;break}b=Z.sibling,Z.sibling=N,N=Z,Z=b}uu(M,!0,N,null,ne);break;case"together":uu(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function Uc(b,M){(M.mode&1)===0&&b!==null&&(b.alternate=null,M.alternate=null,M.flags|=2)}function vs(b,M,N){if(b!==null&&(M.dependencies=b.dependencies),Co|=M.lanes,(N&M.childLanes)===0)return null;if(b!==null&&M.child!==b.child)throw Error(n(153));if(M.child!==null){for(b=M.child,N=Ys(b,b.pendingProps),M.child=N,N.return=M;b.sibling!==null;)b=b.sibling,N=N.sibling=Ys(b,b.pendingProps),N.return=M;N.sibling=null}return M.child}function dh(b,M,N){switch(M.tag){case 3:tn(M),Fa();break;case 5:ps(M);break;case 1:Ir(M.type)&&as(M);break;case 4:bo(M,M.stateNode.containerInfo);break;case 10:var z=M.type._context,Z=M.memoizedProps.value;En(cs,z._currentValue),z._currentValue=Z;break;case 13:if(z=M.memoizedState,z!==null)return z.dehydrated!==null?(En(Rn,Rn.current&1),M.flags|=128,null):(N&M.child.childLanes)!==0?ya(b,M,N):(En(Rn,Rn.current&1),b=vs(b,M,N),b!==null?b.sibling:null);En(Rn,Rn.current&1);break;case 19:if(z=(N&M.childLanes)!==0,(b.flags&128)!==0){if(z)return Nu(b,M,N);M.flags|=128}if(Z=M.memoizedState,Z!==null&&(Z.rendering=null,Z.tail=null,Z.lastEffect=null),En(Rn,Rn.current),z)break;return null;case 22:case 23:return M.lanes=0,He(b,M,N)}return vs(b,M,N)}var Fu,hu,ju,Bu;Fu=function(b,M){for(var N=M.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===M)break;for(;N.sibling===null;){if(N.return===null||N.return===M)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},hu=function(){},ju=function(b,M,N,z){var Z=b.memoizedProps;if(Z!==z){b=M.stateNode,Qn(li.current);var ne=null;switch(N){case"input":Z=de(b,Z),z=de(b,z),ne=[];break;case"select":Z=ce({},Z,{value:void 0}),z=ce({},z,{value:void 0}),ne=[];break;case"textarea":Z=ct(b,Z),z=ct(b,z),ne=[];break;default:typeof Z.onClick!="function"&&typeof z.onClick=="function"&&(b.onclick=co)}Ee(N,z);var pe;N=null;for(it in Z)if(!z.hasOwnProperty(it)&&Z.hasOwnProperty(it)&&Z[it]!=null)if(it==="style"){var Pe=Z[it];for(pe in Pe)Pe.hasOwnProperty(pe)&&(N||(N={}),N[pe]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(l.hasOwnProperty(it)?ne||(ne=[]):(ne=ne||[]).push(it,null));for(it in z){var Le=z[it];if(Pe=Z!=null?Z[it]:void 0,z.hasOwnProperty(it)&&Le!==Pe&&(Le!=null||Pe!=null))if(it==="style")if(Pe){for(pe in Pe)!Pe.hasOwnProperty(pe)||Le&&Le.hasOwnProperty(pe)||(N||(N={}),N[pe]="");for(pe in Le)Le.hasOwnProperty(pe)&&Pe[pe]!==Le[pe]&&(N||(N={}),N[pe]=Le[pe])}else N||(ne||(ne=[]),ne.push(it,N)),N=Le;else it==="dangerouslySetInnerHTML"?(Le=Le?Le.__html:void 0,Pe=Pe?Pe.__html:void 0,Le!=null&&Pe!==Le&&(ne=ne||[]).push(it,Le)):it==="children"?typeof Le!="string"&&typeof Le!="number"||(ne=ne||[]).push(it,""+Le):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(l.hasOwnProperty(it)?(Le!=null&&it==="onScroll"&&Mn("scroll",b),ne||Pe===Le||(ne=[])):(ne=ne||[]).push(it,Le))}N&&(ne=ne||[]).push("style",N);var it=ne;(M.updateQueue=it)&&(M.flags|=4)}},Bu=function(b,M,N,z){N!==z&&(M.flags|=4)};function cc(b,M){if(!Cn)switch(b.tailMode){case"hidden":M=b.tail;for(var N=null;M!==null;)M.alternate!==null&&(N=M),M=M.sibling;N===null?b.tail=null:N.sibling=null;break;case"collapsed":N=b.tail;for(var z=null;N!==null;)N.alternate!==null&&(z=N),N=N.sibling;z===null?M||b.tail===null?b.tail=null:b.tail.sibling=null:z.sibling=null}}function Jr(b){var M=b.alternate!==null&&b.alternate.child===b.child,N=0,z=0;if(M)for(var Z=b.child;Z!==null;)N|=Z.lanes|Z.childLanes,z|=Z.subtreeFlags&14680064,z|=Z.flags&14680064,Z.return=b,Z=Z.sibling;else for(Z=b.child;Z!==null;)N|=Z.lanes|Z.childLanes,z|=Z.subtreeFlags,z|=Z.flags,Z.return=b,Z=Z.sibling;return b.subtreeFlags|=z,b.childLanes=N,M}function ph(b,M,N){var z=M.pendingProps;switch(ua(M),M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(M),null;case 1:return Ir(M.type)&&uo(),Jr(M),null;case 3:return z=M.stateNode,Ba(),An(Br),An(Sr),Gi(),z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),(b===null||b.child===null)&&(js(M)?M.flags|=4:b===null||b.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,Si!==null&&(Su(Si),Si=null))),hu(b,M),Jr(M),null;case 5:Vs(M);var Z=Qn(da.current);if(N=M.type,b!==null&&M.stateNode!=null)ju(b,M,N,z,Z),b.ref!==M.ref&&(M.flags|=512,M.flags|=2097152);else{if(!z){if(M.stateNode===null)throw Error(n(166));return Jr(M),null}if(b=Qn(li.current),js(M)){z=M.stateNode,N=M.type;var ne=M.memoizedProps;switch(z[sr]=M,z[Fs]=ne,b=(M.mode&1)!==0,N){case"dialog":Mn("cancel",z),Mn("close",z);break;case"iframe":case"object":case"embed":Mn("load",z);break;case"video":case"audio":for(Z=0;Z<La.length;Z++)Mn(La[Z],z);break;case"source":Mn("error",z);break;case"img":case"image":case"link":Mn("error",z),Mn("load",z);break;case"details":Mn("toggle",z);break;case"input":Xe(z,ne),Mn("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!ne.multiple},Mn("invalid",z);break;case"textarea":me(z,ne),Mn("invalid",z)}Ee(N,ne),Z=null;for(var pe in ne)if(ne.hasOwnProperty(pe)){var Pe=ne[pe];pe==="children"?typeof Pe=="string"?z.textContent!==Pe&&(ne.suppressHydrationWarning!==!0&&lo(z.textContent,Pe,b),Z=["children",Pe]):typeof Pe=="number"&&z.textContent!==""+Pe&&(ne.suppressHydrationWarning!==!0&&lo(z.textContent,Pe,b),Z=["children",""+Pe]):l.hasOwnProperty(pe)&&Pe!=null&&pe==="onScroll"&&Mn("scroll",z)}switch(N){case"input":Oe(z),Ie(z,ne,!0);break;case"textarea":Oe(z),Ae(z);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(z.onclick=co)}z=Z,M.updateQueue=z,z!==null&&(M.flags|=4)}else{pe=Z.nodeType===9?Z:Z.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=We(N)),b==="http://www.w3.org/1999/xhtml"?N==="script"?(b=pe.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof z.is=="string"?b=pe.createElement(N,{is:z.is}):(b=pe.createElement(N),N==="select"&&(pe=b,z.multiple?pe.multiple=!0:z.size&&(pe.size=z.size))):b=pe.createElementNS(b,N),b[sr]=M,b[Fs]=z,Fu(b,M,!1,!1),M.stateNode=b;e:{switch(pe=Ve(N,z),N){case"dialog":Mn("cancel",b),Mn("close",b),Z=z;break;case"iframe":case"object":case"embed":Mn("load",b),Z=z;break;case"video":case"audio":for(Z=0;Z<La.length;Z++)Mn(La[Z],b);Z=z;break;case"source":Mn("error",b),Z=z;break;case"img":case"image":case"link":Mn("error",b),Mn("load",b),Z=z;break;case"details":Mn("toggle",b),Z=z;break;case"input":Xe(b,z),Z=de(b,z),Mn("invalid",b);break;case"option":Z=z;break;case"select":b._wrapperState={wasMultiple:!!z.multiple},Z=ce({},z,{value:void 0}),Mn("invalid",b);break;case"textarea":me(b,z),Z=ct(b,z),Mn("invalid",b);break;default:Z=z}Ee(N,Z),Pe=Z;for(ne in Pe)if(Pe.hasOwnProperty(ne)){var Le=Pe[ne];ne==="style"?dt(b,Le):ne==="dangerouslySetInnerHTML"?(Le=Le?Le.__html:void 0,Le!=null&&ft(b,Le)):ne==="children"?typeof Le=="string"?(N!=="textarea"||Le!=="")&&ht(b,Le):typeof Le=="number"&&ht(b,""+Le):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(l.hasOwnProperty(ne)?Le!=null&&ne==="onScroll"&&Mn("scroll",b):Le!=null&&L(b,ne,Le,pe))}switch(N){case"input":Oe(b),Ie(b,z,!1);break;case"textarea":Oe(b),Ae(b);break;case"option":z.value!=null&&b.setAttribute("value",""+Ce(z.value));break;case"select":b.multiple=!!z.multiple,ne=z.value,ne!=null?ke(b,!!z.multiple,ne,!1):z.defaultValue!=null&&ke(b,!!z.multiple,z.defaultValue,!0);break;default:typeof Z.onClick=="function"&&(b.onclick=co)}switch(N){case"button":case"input":case"select":case"textarea":z=!!z.autoFocus;break e;case"img":z=!0;break e;default:z=!1}}z&&(M.flags|=4)}M.ref!==null&&(M.flags|=512,M.flags|=2097152)}return Jr(M),null;case 6:if(b&&M.stateNode!=null)Bu(b,M,b.memoizedProps,z);else{if(typeof z!="string"&&M.stateNode===null)throw Error(n(166));if(N=Qn(da.current),Qn(li.current),js(M)){if(z=M.stateNode,N=M.memoizedProps,z[sr]=M,(ne=z.nodeValue!==N)&&(b=Er,b!==null))switch(b.tag){case 3:lo(z.nodeValue,N,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&lo(z.nodeValue,N,(b.mode&1)!==0)}ne&&(M.flags|=4)}else z=(N.nodeType===9?N:N.ownerDocument).createTextNode(z),z[sr]=M,M.stateNode=z}return Jr(M),null;case 13:if(An(Rn),z=M.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Cn&&$r!==null&&(M.mode&1)!==0&&(M.flags&128)===0)Yl(),Fa(),M.flags|=98560,ne=!1;else if(ne=js(M),z!==null&&z.dehydrated!==null){if(b===null){if(!ne)throw Error(n(318));if(ne=M.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[sr]=M}else Fa(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;Jr(M),ne=!1}else Si!==null&&(Su(Si),Si=null),ne=!0;if(!ne)return M.flags&65536?M:null}return(M.flags&128)!==0?(M.lanes=N,M):(z=z!==null,z!==(b!==null&&b.memoizedState!==null)&&z&&(M.child.flags|=8192,(M.mode&1)!==0&&(b===null||(Rn.current&1)!==0?Ar===0&&(Ar=3):Tu())),M.updateQueue!==null&&(M.flags|=4),Jr(M),null);case 4:return Ba(),hu(b,M),b===null&&ks(M.stateNode.containerInfo),Jr(M),null;case 10:return vo(M.type._context),Jr(M),null;case 17:return Ir(M.type)&&uo(),Jr(M),null;case 19:if(An(Rn),ne=M.memoizedState,ne===null)return Jr(M),null;if(z=(M.flags&128)!==0,pe=ne.rendering,pe===null)if(z)cc(ne,!1);else{if(Ar!==0||b!==null&&(b.flags&128)!==0)for(b=M.child;b!==null;){if(pe=Oi(b),pe!==null){for(M.flags|=128,cc(ne,!1),z=pe.updateQueue,z!==null&&(M.updateQueue=z,M.flags|=4),M.subtreeFlags=0,z=N,N=M.child;N!==null;)ne=N,b=z,ne.flags&=14680066,pe=ne.alternate,pe===null?(ne.childLanes=0,ne.lanes=b,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=pe.childLanes,ne.lanes=pe.lanes,ne.child=pe.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=pe.memoizedProps,ne.memoizedState=pe.memoizedState,ne.updateQueue=pe.updateQueue,ne.type=pe.type,b=pe.dependencies,ne.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),N=N.sibling;return En(Rn,Rn.current&1|2),M.child}b=b.sibling}ne.tail!==null&&De()>Sl&&(M.flags|=128,z=!0,cc(ne,!1),M.lanes=4194304)}else{if(!z)if(b=Oi(pe),b!==null){if(M.flags|=128,z=!0,N=b.updateQueue,N!==null&&(M.updateQueue=N,M.flags|=4),cc(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!pe.alternate&&!Cn)return Jr(M),null}else 2*De()-ne.renderingStartTime>Sl&&N!==1073741824&&(M.flags|=128,z=!0,cc(ne,!1),M.lanes=4194304);ne.isBackwards?(pe.sibling=M.child,M.child=pe):(N=ne.last,N!==null?N.sibling=pe:M.child=pe,ne.last=pe)}return ne.tail!==null?(M=ne.tail,ne.rendering=M,ne.tail=M.sibling,ne.renderingStartTime=De(),M.sibling=null,N=Rn.current,En(Rn,z?N&1|2:N&1),M):(Jr(M),null);case 22:case 23:return wu(),z=M.memoizedState!==null,b!==null&&b.memoizedState!==null!==z&&(M.flags|=8192),z&&(M.mode&1)!==0?(Ni&1073741824)!==0&&(Jr(M),M.subtreeFlags&6&&(M.flags|=8192)):Jr(M),null;case 24:return null;case 25:return null}throw Error(n(156,M.tag))}function mh(b,M){switch(ua(M),M.tag){case 1:return Ir(M.type)&&uo(),b=M.flags,b&65536?(M.flags=b&-65537|128,M):null;case 3:return Ba(),An(Br),An(Sr),Gi(),b=M.flags,(b&65536)!==0&&(b&128)===0?(M.flags=b&-65537|128,M):null;case 5:return Vs(M),null;case 13:if(An(Rn),b=M.memoizedState,b!==null&&b.dehydrated!==null){if(M.alternate===null)throw Error(n(340));Fa()}return b=M.flags,b&65536?(M.flags=b&-65537|128,M):null;case 19:return An(Rn),null;case 4:return Ba(),null;case 10:return vo(M.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var $c=!1,Qr=!1,gh=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function _l(b,M){var N=b.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(z){tr(b,M,z)}else N.current=null}function fu(b,M,N){try{N()}catch(z){tr(b,M,z)}}var Uu=!1;function yh(b,M){if(Ns=hr,b=Fn(),pr(b)){if("selectionStart"in b)var N={start:b.selectionStart,end:b.selectionEnd};else e:{N=(N=b.ownerDocument)&&N.defaultView||window;var z=N.getSelection&&N.getSelection();if(z&&z.rangeCount!==0){N=z.anchorNode;var Z=z.anchorOffset,ne=z.focusNode;z=z.focusOffset;try{N.nodeType,ne.nodeType}catch{N=null;break e}var pe=0,Pe=-1,Le=-1,it=0,vt=0,St=b,yt=null;t:for(;;){for(var Lt;St!==N||Z!==0&&St.nodeType!==3||(Pe=pe+Z),St!==ne||z!==0&&St.nodeType!==3||(Le=pe+z),St.nodeType===3&&(pe+=St.nodeValue.length),(Lt=St.firstChild)!==null;)yt=St,St=Lt;for(;;){if(St===b)break t;if(yt===N&&++it===Z&&(Pe=pe),yt===ne&&++vt===z&&(Le=pe),(Lt=St.nextSibling)!==null)break;St=yt,yt=St.parentNode}St=Lt}N=Pe===-1||Le===-1?null:{start:Pe,end:Le}}else N=null}N=N||{start:0,end:0}}else N=null;for(jl={focusedElem:b,selectionRange:N},hr=!1,Ut=M;Ut!==null;)if(M=Ut,b=M.child,(M.subtreeFlags&1028)!==0&&b!==null)b.return=M,Ut=b;else for(;Ut!==null;){M=Ut;try{var Vt=M.alternate;if((M.flags&1024)!==0)switch(M.tag){case 0:case 11:case 15:break;case 1:if(Vt!==null){var zt=Vt.memoizedProps,or=Vt.memoizedState,Ke=M.stateNode,Fe=Ke.getSnapshotBeforeUpdate(M.elementType===M.type?zt:Ei(M.type,zt),or);Ke.__reactInternalSnapshotBeforeUpdate=Fe}break;case 3:var Ze=M.stateNode.containerInfo;Ze.nodeType===1?Ze.textContent="":Ze.nodeType===9&&Ze.documentElement&&Ze.removeChild(Ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Mt){tr(M,M.return,Mt)}if(b=M.sibling,b!==null){b.return=M.return,Ut=b;break}Ut=M.return}return Vt=Uu,Uu=!1,Vt}function uc(b,M,N){var z=M.updateQueue;if(z=z!==null?z.lastEffect:null,z!==null){var Z=z=z.next;do{if((Z.tag&b)===b){var ne=Z.destroy;Z.destroy=void 0,ne!==void 0&&fu(M,N,ne)}Z=Z.next}while(Z!==z)}}function Vc(b,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var N=M=M.next;do{if((N.tag&b)===b){var z=N.create;N.destroy=z()}N=N.next}while(N!==M)}}function du(b){var M=b.ref;if(M!==null){var N=b.stateNode;switch(b.tag){case 5:b=N;break;default:b=N}typeof M=="function"?M(b):M.current=b}}function $u(b){var M=b.alternate;M!==null&&(b.alternate=null,$u(M)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(M=b.stateNode,M!==null&&(delete M[sr],delete M[Fs],delete M[ns],delete M[rl],delete M[il])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Vu(b){return b.tag===5||b.tag===3||b.tag===4}function zu(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Vu(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function pu(b,M,N){var z=b.tag;if(z===5||z===6)b=b.stateNode,M?N.nodeType===8?N.parentNode.insertBefore(b,M):N.insertBefore(b,M):(N.nodeType===8?(M=N.parentNode,M.insertBefore(b,N)):(M=N,M.appendChild(b)),N=N._reactRootContainer,N!=null||M.onclick!==null||(M.onclick=co));else if(z!==4&&(b=b.child,b!==null))for(pu(b,M,N),b=b.sibling;b!==null;)pu(b,M,N),b=b.sibling}function mu(b,M,N){var z=b.tag;if(z===5||z===6)b=b.stateNode,M?N.insertBefore(b,M):N.appendChild(b);else if(z!==4&&(b=b.child,b!==null))for(mu(b,M,N),b=b.sibling;b!==null;)mu(b,M,N),b=b.sibling}var zr=null,va=!1;function qs(b,M,N){for(N=N.child;N!==null;)Gu(b,M,N),N=N.sibling}function Gu(b,M,N){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount($t,N)}catch{}switch(N.tag){case 5:Qr||_l(N,M);case 6:var z=zr,Z=va;zr=null,qs(b,M,N),zr=z,va=Z,zr!==null&&(va?(b=zr,N=N.stateNode,b.nodeType===8?b.parentNode.removeChild(N):b.removeChild(N)):zr.removeChild(N.stateNode));break;case 18:zr!==null&&(va?(b=zr,N=N.stateNode,b.nodeType===8?nl(b.parentNode,N):b.nodeType===1&&nl(b,N),Ma(b)):nl(zr,N.stateNode));break;case 4:z=zr,Z=va,zr=N.stateNode.containerInfo,va=!0,qs(b,M,N),zr=z,va=Z;break;case 0:case 11:case 14:case 15:if(!Qr&&(z=N.updateQueue,z!==null&&(z=z.lastEffect,z!==null))){Z=z=z.next;do{var ne=Z,pe=ne.destroy;ne=ne.tag,pe!==void 0&&((ne&2)!==0||(ne&4)!==0)&&fu(N,M,pe),Z=Z.next}while(Z!==z)}qs(b,M,N);break;case 1:if(!Qr&&(_l(N,M),z=N.stateNode,typeof z.componentWillUnmount=="function"))try{z.props=N.memoizedProps,z.state=N.memoizedState,z.componentWillUnmount()}catch(Pe){tr(N,M,Pe)}qs(b,M,N);break;case 21:qs(b,M,N);break;case 22:N.mode&1?(Qr=(z=Qr)||N.memoizedState!==null,qs(b,M,N),Qr=z):qs(b,M,N);break;default:qs(b,M,N)}}function qu(b){var M=b.updateQueue;if(M!==null){b.updateQueue=null;var N=b.stateNode;N===null&&(N=b.stateNode=new gh),M.forEach(function(z){var Z=Ah.bind(null,b,z);N.has(z)||(N.add(z),z.then(Z,Z))})}}function xa(b,M){var N=M.deletions;if(N!==null)for(var z=0;z<N.length;z++){var Z=N[z];try{var ne=b,pe=M,Pe=pe;e:for(;Pe!==null;){switch(Pe.tag){case 5:zr=Pe.stateNode,va=!1;break e;case 3:zr=Pe.stateNode.containerInfo,va=!0;break e;case 4:zr=Pe.stateNode.containerInfo,va=!0;break e}Pe=Pe.return}if(zr===null)throw Error(n(160));Gu(ne,pe,Z),zr=null,va=!1;var Le=Z.alternate;Le!==null&&(Le.return=null),Z.return=null}catch(it){tr(Z,M,it)}}if(M.subtreeFlags&12854)for(M=M.child;M!==null;)Hu(M,b),M=M.sibling}function Hu(b,M){var N=b.alternate,z=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(xa(M,b),$a(b),z&4){try{uc(3,b,b.return),Vc(3,b)}catch(zt){tr(b,b.return,zt)}try{uc(5,b,b.return)}catch(zt){tr(b,b.return,zt)}}break;case 1:xa(M,b),$a(b),z&512&&N!==null&&_l(N,N.return);break;case 5:if(xa(M,b),$a(b),z&512&&N!==null&&_l(N,N.return),b.flags&32){var Z=b.stateNode;try{ht(Z,"")}catch(zt){tr(b,b.return,zt)}}if(z&4&&(Z=b.stateNode,Z!=null)){var ne=b.memoizedProps,pe=N!==null?N.memoizedProps:ne,Pe=b.type,Le=b.updateQueue;if(b.updateQueue=null,Le!==null)try{Pe==="input"&&ne.type==="radio"&&ne.name!=null&&qe(Z,ne),Ve(Pe,pe);var it=Ve(Pe,ne);for(pe=0;pe<Le.length;pe+=2){var vt=Le[pe],St=Le[pe+1];vt==="style"?dt(Z,St):vt==="dangerouslySetInnerHTML"?ft(Z,St):vt==="children"?ht(Z,St):L(Z,vt,St,it)}switch(Pe){case"input":Ye(Z,ne);break;case"textarea":ue(Z,ne);break;case"select":var yt=Z._wrapperState.wasMultiple;Z._wrapperState.wasMultiple=!!ne.multiple;var Lt=ne.value;Lt!=null?ke(Z,!!ne.multiple,Lt,!1):yt!==!!ne.multiple&&(ne.defaultValue!=null?ke(Z,!!ne.multiple,ne.defaultValue,!0):ke(Z,!!ne.multiple,ne.multiple?[]:"",!1))}Z[Fs]=ne}catch(zt){tr(b,b.return,zt)}}break;case 6:if(xa(M,b),$a(b),z&4){if(b.stateNode===null)throw Error(n(162));Z=b.stateNode,ne=b.memoizedProps;try{Z.nodeValue=ne}catch(zt){tr(b,b.return,zt)}}break;case 3:if(xa(M,b),$a(b),z&4&&N!==null&&N.memoizedState.isDehydrated)try{Ma(M.containerInfo)}catch(zt){tr(b,b.return,zt)}break;case 4:xa(M,b),$a(b);break;case 13:xa(M,b),$a(b),Z=b.child,Z.flags&8192&&(ne=Z.memoizedState!==null,Z.stateNode.isHidden=ne,!ne||Z.alternate!==null&&Z.alternate.memoizedState!==null||(vu=De())),z&4&&qu(b);break;case 22:if(vt=N!==null&&N.memoizedState!==null,b.mode&1?(Qr=(it=Qr)||vt,xa(M,b),Qr=it):xa(M,b),$a(b),z&8192){if(it=b.memoizedState!==null,(b.stateNode.isHidden=it)&&!vt&&(b.mode&1)!==0)for(Ut=b,vt=b.child;vt!==null;){for(St=Ut=vt;Ut!==null;){switch(yt=Ut,Lt=yt.child,yt.tag){case 0:case 11:case 14:case 15:uc(4,yt,yt.return);break;case 1:_l(yt,yt.return);var Vt=yt.stateNode;if(typeof Vt.componentWillUnmount=="function"){z=yt,N=yt.return;try{M=z,Vt.props=M.memoizedProps,Vt.state=M.memoizedState,Vt.componentWillUnmount()}catch(zt){tr(z,N,zt)}}break;case 5:_l(yt,yt.return);break;case 22:if(yt.memoizedState!==null){Ku(St);continue}}Lt!==null?(Lt.return=yt,Ut=Lt):Ku(St)}vt=vt.sibling}e:for(vt=null,St=b;;){if(St.tag===5){if(vt===null){vt=St;try{Z=St.stateNode,it?(ne=Z.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Pe=St.stateNode,Le=St.memoizedProps.style,pe=Le!=null&&Le.hasOwnProperty("display")?Le.display:null,Pe.style.display=nt("display",pe))}catch(zt){tr(b,b.return,zt)}}}else if(St.tag===6){if(vt===null)try{St.stateNode.nodeValue=it?"":St.memoizedProps}catch(zt){tr(b,b.return,zt)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===b)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===b)break e;for(;St.sibling===null;){if(St.return===null||St.return===b)break e;vt===St&&(vt=null),St=St.return}vt===St&&(vt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:xa(M,b),$a(b),z&4&&qu(b);break;case 21:break;default:xa(M,b),$a(b)}}function $a(b){var M=b.flags;if(M&2){try{e:{for(var N=b.return;N!==null;){if(Vu(N)){var z=N;break e}N=N.return}throw Error(n(160))}switch(z.tag){case 5:var Z=z.stateNode;z.flags&32&&(ht(Z,""),z.flags&=-33);var ne=zu(b);mu(b,ne,Z);break;case 3:case 4:var pe=z.stateNode.containerInfo,Pe=zu(b);pu(b,Pe,pe);break;default:throw Error(n(161))}}catch(Le){tr(b,b.return,Le)}b.flags&=-3}M&4096&&(b.flags&=-4097)}function xh(b,M,N){Ut=b,Wu(b)}function Wu(b,M,N){for(var z=(b.mode&1)!==0;Ut!==null;){var Z=Ut,ne=Z.child;if(Z.tag===22&&z){var pe=Z.memoizedState!==null||$c;if(!pe){var Pe=Z.alternate,Le=Pe!==null&&Pe.memoizedState!==null||Qr;Pe=$c;var it=Qr;if($c=pe,(Qr=Le)&&!it)for(Ut=Z;Ut!==null;)pe=Ut,Le=pe.child,pe.tag===22&&pe.memoizedState!==null?Yu(Z):Le!==null?(Le.return=pe,Ut=Le):Yu(Z);for(;ne!==null;)Ut=ne,Wu(ne),ne=ne.sibling;Ut=Z,$c=Pe,Qr=it}Xu(b)}else(Z.subtreeFlags&8772)!==0&&ne!==null?(ne.return=Z,Ut=ne):Xu(b)}}function Xu(b){for(;Ut!==null;){var M=Ut;if((M.flags&8772)!==0){var N=M.alternate;try{if((M.flags&8772)!==0)switch(M.tag){case 0:case 11:case 15:Qr||Vc(5,M);break;case 1:var z=M.stateNode;if(M.flags&4&&!Qr)if(N===null)z.componentDidMount();else{var Z=M.elementType===M.type?N.memoizedProps:Ei(M.type,N.memoizedProps);z.componentDidUpdate(Z,N.memoizedState,z.__reactInternalSnapshotBeforeUpdate)}var ne=M.updateQueue;ne!==null&&$s(M,ne,z);break;case 3:var pe=M.updateQueue;if(pe!==null){if(N=null,M.child!==null)switch(M.child.tag){case 5:N=M.child.stateNode;break;case 1:N=M.child.stateNode}$s(M,pe,N)}break;case 5:var Pe=M.stateNode;if(N===null&&M.flags&4){N=Pe;var Le=M.memoizedProps;switch(M.type){case"button":case"input":case"select":case"textarea":Le.autoFocus&&N.focus();break;case"img":Le.src&&(N.src=Le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(M.memoizedState===null){var it=M.alternate;if(it!==null){var vt=it.memoizedState;if(vt!==null){var St=vt.dehydrated;St!==null&&Ma(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qr||M.flags&512&&du(M)}catch(yt){tr(M,M.return,yt)}}if(M===b){Ut=null;break}if(N=M.sibling,N!==null){N.return=M.return,Ut=N;break}Ut=M.return}}function Ku(b){for(;Ut!==null;){var M=Ut;if(M===b){Ut=null;break}var N=M.sibling;if(N!==null){N.return=M.return,Ut=N;break}Ut=M.return}}function Yu(b){for(;Ut!==null;){var M=Ut;try{switch(M.tag){case 0:case 11:case 15:var N=M.return;try{Vc(4,M)}catch(Le){tr(M,N,Le)}break;case 1:var z=M.stateNode;if(typeof z.componentDidMount=="function"){var Z=M.return;try{z.componentDidMount()}catch(Le){tr(M,Z,Le)}}var ne=M.return;try{du(M)}catch(Le){tr(M,ne,Le)}break;case 5:var pe=M.return;try{du(M)}catch(Le){tr(M,pe,Le)}}}catch(Le){tr(M,M.return,Le)}if(M===b){Ut=null;break}var Pe=M.sibling;if(Pe!==null){Pe.return=M.return,Ut=Pe;break}Ut=M.return}}var _h=Math.ceil,zc=F.ReactCurrentDispatcher,gu=F.ReactCurrentOwner,Hi=F.ReactCurrentBatchConfig,xn=0,Lr=null,xr=null,Gr=0,Ni=0,bl=Bn(0),Ar=0,hc=null,Co=0,Gc=0,yu=0,fc=null,wi=null,vu=0,Sl=1/0,xs=null,qc=!1,xu=null,Hs=null,Hc=!1,Ws=null,Wc=0,dc=0,_u=null,Xc=-1,Kc=0;function fi(){return(xn&6)!==0?De():Xc!==-1?Xc:Xc=De()}function Xs(b){return(b.mode&1)===0?1:(xn&2)!==0&&Gr!==0?Gr&-Gr:lu.transition!==null?(Kc===0&&(Kc=fn()),Kc):(b=on,b!==0||(b=window.event,b=b===void 0?16:Pa(b.type)),b)}function ba(b,M,N,z){if(50<dc)throw dc=0,_u=null,Error(n(185));In(b,N,z),((xn&2)===0||b!==Lr)&&(b===Lr&&((xn&2)===0&&(Gc|=N),Ar===4&&Ks(b,Gr)),Ti(b,z),N===1&&xn===0&&(M.mode&1)===0&&(Sl=De()+500,fo&&Vi()))}function Ti(b,M){var N=b.callbackNode;jn(b,M);var z=zn(b,b===Lr?Gr:0);if(z===0)N!==null&&ve(N),b.callbackNode=null,b.callbackPriority=0;else if(M=z&-z,b.callbackPriority!==M){if(N!=null&&ve(N),M===1)b.tag===0?Pc(Ju.bind(null,b)):po(Ju.bind(null,b)),ou(function(){(xn&6)===0&&Vi()}),N=null;else{switch(cr(z)){case 1:N=xt;break;case 4:N=At;break;case 16:N=Ot;break;case 536870912:N=Gt;break;default:N=Ot}N=sh(N,Zu.bind(null,b))}b.callbackPriority=M,b.callbackNode=N}}function Zu(b,M){if(Xc=-1,Kc=0,(xn&6)!==0)throw Error(n(327));var N=b.callbackNode;if(El()&&b.callbackNode!==N)return null;var z=zn(b,b===Lr?Gr:0);if(z===0)return null;if((z&30)!==0||(z&b.expiredLanes)!==0||M)M=Yc(b,z);else{M=z;var Z=xn;xn|=2;var ne=eh();(Lr!==b||Gr!==M)&&(xs=null,Sl=De()+500,Io(b,M));do try{Eh();break}catch(Pe){Qu(b,Pe)}while(!0);hs(),zc.current=ne,xn=Z,xr!==null?M=0:(Lr=null,Gr=0,M=Ar)}if(M!==0){if(M===2&&(Z=Gn(b),Z!==0&&(z=Z,M=bu(b,Z))),M===1)throw N=hc,Io(b,0),Ks(b,z),Ti(b,De()),N;if(M===6)Ks(b,z);else{if(Z=b.current.alternate,(z&30)===0&&!bh(Z)&&(M=Yc(b,z),M===2&&(ne=Gn(b),ne!==0&&(z=ne,M=bu(b,ne))),M===1))throw N=hc,Io(b,0),Ks(b,z),Ti(b,De()),N;switch(b.finishedWork=Z,b.finishedLanes=z,M){case 0:case 1:throw Error(n(345));case 2:Do(b,wi,xs);break;case 3:if(Ks(b,z),(z&130023424)===z&&(M=vu+500-De(),10<M)){if(zn(b,0)!==0)break;if(Z=b.suspendedLanes,(Z&z)!==z){fi(),b.pingedLanes|=b.suspendedLanes&Z;break}b.timeoutHandle=Ul(Do.bind(null,b,wi,xs),M);break}Do(b,wi,xs);break;case 4:if(Ks(b,z),(z&4194240)===z)break;for(M=b.eventTimes,Z=-1;0<z;){var pe=31-Wt(z);ne=1<<pe,pe=M[pe],pe>Z&&(Z=pe),z&=~ne}if(z=Z,z=De()-z,z=(120>z?120:480>z?480:1080>z?1080:1920>z?1920:3e3>z?3e3:4320>z?4320:1960*_h(z/1960))-z,10<z){b.timeoutHandle=Ul(Do.bind(null,b,wi,xs),z);break}Do(b,wi,xs);break;case 5:Do(b,wi,xs);break;default:throw Error(n(329))}}}return Ti(b,De()),b.callbackNode===N?Zu.bind(null,b):null}function bu(b,M){var N=fc;return b.current.memoizedState.isDehydrated&&(Io(b,M).flags|=256),b=Yc(b,M),b!==2&&(M=wi,wi=N,M!==null&&Su(M)),b}function Su(b){wi===null?wi=b:wi.push.apply(wi,b)}function bh(b){for(var M=b;;){if(M.flags&16384){var N=M.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var z=0;z<N.length;z++){var Z=N[z],ne=Z.getSnapshot;Z=Z.value;try{if(!ii(ne(),Z))return!1}catch{return!1}}}if(N=M.child,M.subtreeFlags&16384&&N!==null)N.return=M,M=N;else{if(M===b)break;for(;M.sibling===null;){if(M.return===null||M.return===b)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function Ks(b,M){for(M&=~yu,M&=~Gc,b.suspendedLanes|=M,b.pingedLanes&=~M,b=b.expirationTimes;0<M;){var N=31-Wt(M),z=1<<N;b[N]=-1,M&=~z}}function Ju(b){if((xn&6)!==0)throw Error(n(327));El();var M=zn(b,0);if((M&1)===0)return Ti(b,De()),null;var N=Yc(b,M);if(b.tag!==0&&N===2){var z=Gn(b);z!==0&&(M=z,N=bu(b,z))}if(N===1)throw N=hc,Io(b,0),Ks(b,M),Ti(b,De()),N;if(N===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=M,Do(b,wi,xs),Ti(b,De()),null}function Eu(b,M){var N=xn;xn|=1;try{return b(M)}finally{xn=N,xn===0&&(Sl=De()+500,fo&&Vi())}}function Ro(b){Ws!==null&&Ws.tag===0&&(xn&6)===0&&El();var M=xn;xn|=1;var N=Hi.transition,z=on;try{if(Hi.transition=null,on=1,b)return b()}finally{on=z,Hi.transition=N,xn=M,(xn&6)===0&&Vi()}}function wu(){Ni=bl.current,An(bl)}function Io(b,M){b.finishedWork=null,b.finishedLanes=0;var N=b.timeoutHandle;if(N!==-1&&(b.timeoutHandle=-1,$l(N)),xr!==null)for(N=xr.return;N!==null;){var z=N;switch(ua(z),z.tag){case 1:z=z.type.childContextTypes,z!=null&&uo();break;case 3:Ba(),An(Br),An(Sr),Gi();break;case 5:Vs(z);break;case 4:Ba();break;case 13:An(Rn);break;case 19:An(Rn);break;case 10:vo(z.type._context);break;case 22:case 23:wu()}N=N.return}if(Lr=b,xr=b=Ys(b.current,null),Gr=Ni=M,Ar=0,hc=null,yu=Gc=Co=0,wi=fc=null,fa!==null){for(M=0;M<fa.length;M++)if(N=fa[M],z=N.interleaved,z!==null){N.interleaved=null;var Z=z.next,ne=N.pending;if(ne!==null){var pe=ne.next;ne.next=Z,z.next=pe}N.pending=z}fa=null}return b}function Qu(b,M){do{var N=xr;try{if(hs(),ms.current=vl,ki){for(var z=Pn.memoizedState;z!==null;){var Z=z.queue;Z!==null&&(Z.pending=null),z=z.next}ki=!1}if(pa=0,vn=$n=Pn=null,Or=!1,Ua=0,gu.current=null,N===null||N.return===null){Ar=1,hc=M,xr=null;break}e:{var ne=b,pe=N.return,Pe=N,Le=M;if(M=Gr,Pe.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var it=Le,vt=Pe,St=vt.tag;if((vt.mode&1)===0&&(St===0||St===11||St===15)){var yt=vt.alternate;yt?(vt.updateQueue=yt.updateQueue,vt.memoizedState=yt.memoizedState,vt.lanes=yt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Lt=Ft(pe);if(Lt!==null){Lt.flags&=-257,en(Lt,pe,Pe,ne,M),Lt.mode&1&&wt(ne,it,M),M=Lt,Le=it;var Vt=M.updateQueue;if(Vt===null){var zt=new Set;zt.add(Le),M.updateQueue=zt}else Vt.add(Le);break e}else{if((M&1)===0){wt(ne,it,M),Tu();break e}Le=Error(n(426))}}else if(Cn&&Pe.mode&1){var or=Ft(pe);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),en(or,pe,Pe,ne,M),Bs(K(Le,Pe));break e}}ne=Le=K(Le,Pe),Ar!==4&&(Ar=2),fc===null?fc=[ne]:fc.push(ne),ne=pe;do{switch(ne.tag){case 3:ne.flags|=65536,M&=-M,ne.lanes|=M;var Ke=Be(ne,Le,M);fs(ne,Ke);break e;case 1:Pe=Le;var Fe=ne.type,Ze=ne.stateNode;if((ne.flags&128)===0&&(typeof Fe.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&(Hs===null||!Hs.has(Ze)))){ne.flags|=65536,M&=-M,ne.lanes|=M;var Mt=lt(ne,Pe,M);fs(ne,Mt);break e}}ne=ne.return}while(ne!==null)}nh(N)}catch(Ht){M=Ht,xr===N&&N!==null&&(xr=N=N.return);continue}break}while(!0)}function eh(){var b=zc.current;return zc.current=vl,b===null?vl:b}function Tu(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Lr===null||(Co&268435455)===0&&(Gc&268435455)===0||Ks(Lr,Gr)}function Yc(b,M){var N=xn;xn|=2;var z=eh();(Lr!==b||Gr!==M)&&(xs=null,Io(b,M));do try{Sh();break}catch(Z){Qu(b,Z)}while(!0);if(hs(),xn=N,zc.current=z,xr!==null)throw Error(n(261));return Lr=null,Gr=0,Ar}function Sh(){for(;xr!==null;)th(xr)}function Eh(){for(;xr!==null&&!Ge();)th(xr)}function th(b){var M=ah(b.alternate,b,Ni);b.memoizedProps=b.pendingProps,M===null?nh(b):xr=M,gu.current=null}function nh(b){var M=b;do{var N=M.alternate;if(b=M.return,(M.flags&32768)===0){if(N=ph(N,M,Ni),N!==null){xr=N;return}}else{if(N=mh(N,M),N!==null){N.flags&=32767,xr=N;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Ar=6,xr=null;return}}if(M=M.sibling,M!==null){xr=M;return}xr=M=b}while(M!==null);Ar===0&&(Ar=5)}function Do(b,M,N){var z=on,Z=Hi.transition;try{Hi.transition=null,on=1,wh(b,M,N,z)}finally{Hi.transition=Z,on=z}return null}function wh(b,M,N,z){do El();while(Ws!==null);if((xn&6)!==0)throw Error(n(327));N=b.finishedWork;var Z=b.finishedLanes;if(N===null)return null;if(b.finishedWork=null,b.finishedLanes=0,N===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var ne=N.lanes|N.childLanes;if(Zn(b,ne),b===Lr&&(xr=Lr=null,Gr=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Hc||(Hc=!0,sh(Ot,function(){return El(),null})),ne=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||ne){ne=Hi.transition,Hi.transition=null;var pe=on;on=1;var Pe=xn;xn|=4,gu.current=null,yh(b,N),Hu(N,b),mr(jl),hr=!!Ns,jl=Ns=null,b.current=N,xh(N),rt(),xn=Pe,on=pe,Hi.transition=ne}else b.current=N;if(Hc&&(Hc=!1,Ws=b,Wc=Z),ne=b.pendingLanes,ne===0&&(Hs=null),Bt(N.stateNode),Ti(b,De()),M!==null)for(z=b.onRecoverableError,N=0;N<M.length;N++)Z=M[N],z(Z.value,{componentStack:Z.stack,digest:Z.digest});if(qc)throw qc=!1,b=xu,xu=null,b;return(Wc&1)!==0&&b.tag!==0&&El(),ne=b.pendingLanes,(ne&1)!==0?b===_u?dc++:(dc=0,_u=b):dc=0,Vi(),null}function El(){if(Ws!==null){var b=cr(Wc),M=Hi.transition,N=on;try{if(Hi.transition=null,on=16>b?16:b,Ws===null)var z=!1;else{if(b=Ws,Ws=null,Wc=0,(xn&6)!==0)throw Error(n(331));var Z=xn;for(xn|=4,Ut=b.current;Ut!==null;){var ne=Ut,pe=ne.child;if((Ut.flags&16)!==0){var Pe=ne.deletions;if(Pe!==null){for(var Le=0;Le<Pe.length;Le++){var it=Pe[Le];for(Ut=it;Ut!==null;){var vt=Ut;switch(vt.tag){case 0:case 11:case 15:uc(8,vt,ne)}var St=vt.child;if(St!==null)St.return=vt,Ut=St;else for(;Ut!==null;){vt=Ut;var yt=vt.sibling,Lt=vt.return;if($u(vt),vt===it){Ut=null;break}if(yt!==null){yt.return=Lt,Ut=yt;break}Ut=Lt}}}var Vt=ne.alternate;if(Vt!==null){var zt=Vt.child;if(zt!==null){Vt.child=null;do{var or=zt.sibling;zt.sibling=null,zt=or}while(zt!==null)}}Ut=ne}}if((ne.subtreeFlags&2064)!==0&&pe!==null)pe.return=ne,Ut=pe;else e:for(;Ut!==null;){if(ne=Ut,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:uc(9,ne,ne.return)}var Ke=ne.sibling;if(Ke!==null){Ke.return=ne.return,Ut=Ke;break e}Ut=ne.return}}var Fe=b.current;for(Ut=Fe;Ut!==null;){pe=Ut;var Ze=pe.child;if((pe.subtreeFlags&2064)!==0&&Ze!==null)Ze.return=pe,Ut=Ze;else e:for(pe=Fe;Ut!==null;){if(Pe=Ut,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:Vc(9,Pe)}}catch(Ht){tr(Pe,Pe.return,Ht)}if(Pe===pe){Ut=null;break e}var Mt=Pe.sibling;if(Mt!==null){Mt.return=Pe.return,Ut=Mt;break e}Ut=Pe.return}}if(xn=Z,Vi(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot($t,b)}catch{}z=!0}return z}finally{on=N,Hi.transition=M}}return!1}function rh(b,M,N){M=K(N,M),M=Be(b,M,1),b=kn(b,M,1),M=fi(),b!==null&&(In(b,1,M),Ti(b,M))}function tr(b,M,N){if(b.tag===3)rh(b,b,N);else for(;M!==null;){if(M.tag===3){rh(M,b,N);break}else if(M.tag===1){var z=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(Hs===null||!Hs.has(z))){b=K(N,b),b=lt(M,b,1),M=kn(M,b,1),b=fi(),M!==null&&(In(M,1,b),Ti(M,b));break}}M=M.return}}function Th(b,M,N){var z=b.pingCache;z!==null&&z.delete(M),M=fi(),b.pingedLanes|=b.suspendedLanes&N,Lr===b&&(Gr&N)===N&&(Ar===4||Ar===3&&(Gr&130023424)===Gr&&500>De()-vu?Io(b,0):yu|=N),Ti(b,M)}function ih(b,M){M===0&&((b.mode&1)===0?M=1:(M=hn,hn<<=1,(hn&130023424)===0&&(hn=4194304)));var N=fi();b=Di(b,M),b!==null&&(In(b,M,N),Ti(b,N))}function Mh(b){var M=b.memoizedState,N=0;M!==null&&(N=M.retryLane),ih(b,N)}function Ah(b,M){var N=0;switch(b.tag){case 13:var z=b.stateNode,Z=b.memoizedState;Z!==null&&(N=Z.retryLane);break;case 19:z=b.stateNode;break;default:throw Error(n(314))}z!==null&&z.delete(M),ih(b,N)}var ah;ah=function(b,M,N){if(b!==null)if(b.memoizedProps!==M.pendingProps||Br.current)un=!0;else{if((b.lanes&N)===0&&(M.flags&128)===0)return un=!1,dh(b,M,N);un=(b.flags&131072)!==0}else un=!1,Cn&&(M.flags&1048576)!==0&&Hl(M,ll,M.index);switch(M.lanes=0,M.tag){case 2:var z=M.type;Uc(b,M),b=M.pendingProps;var Z=rs(M,Sr.current);ja(M,N),Z=Eo(null,M,z,b,Z,N);var ne=ec();return M.flags|=1,typeof Z=="object"&&Z!==null&&typeof Z.render=="function"&&Z.$$typeof===void 0?(M.tag=1,M.memoizedState=null,M.updateQueue=null,Ir(z)?(ne=!0,as(M)):ne=!1,M.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,cn(M),Z.updater=xl,M.stateNode=Z,Z._reactInternals=M,$(M,z,b,N),M=an(null,M,z,!0,ne,N)):(M.tag=0,Cn&&ne&&Wl(M),kt(null,M,Z,N),M=M.child),M;case 16:z=M.elementType;e:{switch(Uc(b,M),b=M.pendingProps,Z=z._init,z=Z(z._payload),M.type=z,Z=M.tag=Ch(z),b=Ei(z,b),Z){case 0:M=It(null,M,z,b,N);break e;case 1:M=qt(null,M,z,b,N);break e;case 11:M=Mr(null,M,z,b,N);break e;case 14:M=hi(null,M,z,Ei(z.type,b),N);break e}throw Error(n(306,z,""))}return M;case 0:return z=M.type,Z=M.pendingProps,Z=M.elementType===z?Z:Ei(z,Z),It(b,M,z,Z,N);case 1:return z=M.type,Z=M.pendingProps,Z=M.elementType===z?Z:Ei(z,Z),qt(b,M,z,Z,N);case 3:e:{if(tn(M),b===null)throw Error(n(387));z=M.pendingProps,ne=M.memoizedState,Z=ne.element,Xn(b,M),Un(M,z,null,N);var pe=M.memoizedState;if(z=pe.element,ne.isDehydrated)if(ne={element:z,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},M.updateQueue.baseState=ne,M.memoizedState=ne,M.flags&256){Z=K(Error(n(423)),M),M=yn(b,M,z,N,Z);break e}else if(z!==Z){Z=K(Error(n(424)),M),M=yn(b,M,z,N,Z);break e}else for($r=aa(M.stateNode.containerInfo.firstChild),Er=M,Cn=!0,Si=null,N=yo(M,null,z,N),M.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Fa(),z===Z){M=vs(b,M,N);break e}kt(b,M,z,N)}M=M.child}return M;case 5:return ps(M),b===null&&ul(M),z=M.type,Z=M.pendingProps,ne=b!==null?b.memoizedProps:null,pe=Z.children,Bl(z,Z)?pe=null:ne!==null&&Bl(z,ne)&&(M.flags|=32),ot(b,M),kt(b,M,pe,N),M.child;case 6:return b===null&&ul(M),null;case 13:return ya(b,M,N);case 4:return bo(M,M.stateNode.containerInfo),z=M.pendingProps,b===null?M.child=ls(M,null,z,N):kt(b,M,z,N),M.child;case 11:return z=M.type,Z=M.pendingProps,Z=M.elementType===z?Z:Ei(z,Z),Mr(b,M,z,Z,N);case 7:return kt(b,M,M.pendingProps,N),M.child;case 8:return kt(b,M,M.pendingProps.children,N),M.child;case 12:return kt(b,M,M.pendingProps.children,N),M.child;case 10:e:{if(z=M.type._context,Z=M.pendingProps,ne=M.memoizedProps,pe=Z.value,En(cs,z._currentValue),z._currentValue=pe,ne!==null)if(ii(ne.value,pe)){if(ne.children===Z.children&&!Br.current){M=vs(b,M,N);break e}}else for(ne=M.child,ne!==null&&(ne.return=M);ne!==null;){var Pe=ne.dependencies;if(Pe!==null){pe=ne.child;for(var Le=Pe.firstContext;Le!==null;){if(Le.context===z){if(ne.tag===1){Le=Sn(-1,N&-N),Le.tag=2;var it=ne.updateQueue;if(it!==null){it=it.shared;var vt=it.pending;vt===null?Le.next=Le:(Le.next=vt.next,vt.next=Le),it.pending=Le}}ne.lanes|=N,Le=ne.alternate,Le!==null&&(Le.lanes|=N),xo(ne.return,N,M),Pe.lanes|=N;break}Le=Le.next}}else if(ne.tag===10)pe=ne.type===M.type?null:ne.child;else if(ne.tag===18){if(pe=ne.return,pe===null)throw Error(n(341));pe.lanes|=N,Pe=pe.alternate,Pe!==null&&(Pe.lanes|=N),xo(pe,N,M),pe=ne.sibling}else pe=ne.child;if(pe!==null)pe.return=ne;else for(pe=ne;pe!==null;){if(pe===M){pe=null;break}if(ne=pe.sibling,ne!==null){ne.return=pe.return,pe=ne;break}pe=pe.return}ne=pe}kt(b,M,Z.children,N),M=M.child}return M;case 9:return Z=M.type,z=M.pendingProps.children,ja(M,N),Z=oi(Z),z=z(Z),M.flags|=1,kt(b,M,z,N),M.child;case 14:return z=M.type,Z=Ei(z,M.pendingProps),Z=Ei(z.type,Z),hi(b,M,z,Z,N);case 15:return Qe(b,M,M.type,M.pendingProps,N);case 17:return z=M.type,Z=M.pendingProps,Z=M.elementType===z?Z:Ei(z,Z),Uc(b,M),M.tag=1,Ir(z)?(b=!0,as(M)):b=!1,ja(M,N),R(M,z,Z),$(M,z,Z,N),an(null,M,z,!0,b,N);case 19:return Nu(b,M,N);case 22:return He(b,M,N)}throw Error(n(156,M.tag))};function sh(b,M){return Ga(b,M)}function Ph(b,M,N,z){this.tag=b,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(b,M,N,z){return new Ph(b,M,N,z)}function Mu(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Ch(b){if(typeof b=="function")return Mu(b)?1:0;if(b!=null){if(b=b.$$typeof,b===Q)return 11;if(b===le)return 14}return 2}function Ys(b,M){var N=b.alternate;return N===null?(N=Wi(b.tag,M,b.key,b.mode),N.elementType=b.elementType,N.type=b.type,N.stateNode=b.stateNode,N.alternate=b,b.alternate=N):(N.pendingProps=M,N.type=b.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=b.flags&14680064,N.childLanes=b.childLanes,N.lanes=b.lanes,N.child=b.child,N.memoizedProps=b.memoizedProps,N.memoizedState=b.memoizedState,N.updateQueue=b.updateQueue,M=b.dependencies,N.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},N.sibling=b.sibling,N.index=b.index,N.ref=b.ref,N}function Zc(b,M,N,z,Z,ne){var pe=2;if(z=b,typeof b=="function")Mu(b)&&(pe=1);else if(typeof b=="string")pe=5;else e:switch(b){case V:return Oo(N.children,Z,ne,M);case q:pe=8,Z|=8;break;case H:return b=Wi(12,N,M,Z|2),b.elementType=H,b.lanes=ne,b;case ie:return b=Wi(13,N,M,Z),b.elementType=ie,b.lanes=ne,b;case ae:return b=Wi(19,N,M,Z),b.elementType=ae,b.lanes=ne,b;case ge:return Jc(N,Z,ne,M);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case G:pe=10;break e;case Y:pe=9;break e;case Q:pe=11;break e;case le:pe=14;break e;case he:pe=16,z=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return M=Wi(pe,N,M,Z),M.elementType=b,M.type=z,M.lanes=ne,M}function Oo(b,M,N,z){return b=Wi(7,b,z,M),b.lanes=N,b}function Jc(b,M,N,z){return b=Wi(22,b,z,M),b.elementType=ge,b.lanes=N,b.stateNode={isHidden:!1},b}function Au(b,M,N){return b=Wi(6,b,null,M),b.lanes=N,b}function Pu(b,M,N){return M=Wi(4,b.children!==null?b.children:[],b.key,M),M.lanes=N,M.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},M}function Rh(b,M,N,z,Z){this.tag=M,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qn(0),this.expirationTimes=qn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.identifierPrefix=z,this.onRecoverableError=Z,this.mutableSourceEagerHydrationData=null}function Cu(b,M,N,z,Z,ne,pe,Pe,Le){return b=new Rh(b,M,N,Pe,Le),M===1?(M=1,ne===!0&&(M|=8)):M=0,ne=Wi(3,null,null,M),b.current=ne,ne.stateNode=b,ne.memoizedState={element:z,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},cn(ne),b}function Ih(b,M,N){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:z==null?null:""+z,children:b,containerInfo:M,implementation:N}}function oh(b){if(!b)return oa;b=b._reactInternals;e:{if(Hr(b)!==b||b.tag!==1)throw Error(n(170));var M=b;do{switch(M.tag){case 3:M=M.stateNode.context;break e;case 1:if(Ir(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break e}}M=M.return}while(M!==null);throw Error(n(171))}if(b.tag===1){var N=b.type;if(Ir(N))return ho(b,N,M)}return M}function lh(b,M,N,z,Z,ne,pe,Pe,Le){return b=Cu(N,z,!0,b,Z,ne,pe,Pe,Le),b.context=oh(null),N=b.current,z=fi(),Z=Xs(N),ne=Sn(z,Z),ne.callback=M??null,kn(N,ne,Z),b.current.lanes=Z,In(b,Z,z),Ti(b,z),b}function Qc(b,M,N,z){var Z=M.current,ne=fi(),pe=Xs(Z);return N=oh(N),M.context===null?M.context=N:M.pendingContext=N,M=Sn(ne,pe),M.payload={element:b},z=z===void 0?null:z,z!==null&&(M.callback=z),b=kn(Z,M,pe),b!==null&&(ba(b,Z,pe,ne),Dr(b,Z,pe)),pe}function eu(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function ch(b,M){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var N=b.retryLane;b.retryLane=N!==0&&N<M?N:M}}function Ru(b,M){ch(b,M),(b=b.alternate)&&ch(b,M)}function Dh(){return null}var uh=typeof reportError=="function"?reportError:function(b){console.error(b)};function Iu(b){this._internalRoot=b}tu.prototype.render=Iu.prototype.render=function(b){var M=this._internalRoot;if(M===null)throw Error(n(409));Qc(b,M,null,null)},tu.prototype.unmount=Iu.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var M=b.containerInfo;Ro(function(){Qc(null,b,null,null)}),M[si]=null}};function tu(b){this._internalRoot=b}tu.prototype.unstable_scheduleHydration=function(b){if(b){var M=Fi();b={blockedOn:null,target:b,priority:M};for(var N=0;N<gi.length&&M!==0&&M<gi[N].priority;N++);gi.splice(N,0,b),N===0&&Cr(b)}};function Du(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function nu(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function hh(){}function Oh(b,M,N,z,Z){if(Z){if(typeof z=="function"){var ne=z;z=function(){var it=eu(pe);ne.call(it)}}var pe=lh(M,z,b,0,null,!1,!1,"",hh);return b._reactRootContainer=pe,b[si]=pe.current,ks(b.nodeType===8?b.parentNode:b),Ro(),pe}for(;Z=b.lastChild;)b.removeChild(Z);if(typeof z=="function"){var Pe=z;z=function(){var it=eu(Le);Pe.call(it)}}var Le=Cu(b,0,!1,null,null,!1,!1,"",hh);return b._reactRootContainer=Le,b[si]=Le.current,ks(b.nodeType===8?b.parentNode:b),Ro(function(){Qc(M,Le,N,z)}),Le}function ru(b,M,N,z,Z){var ne=N._reactRootContainer;if(ne){var pe=ne;if(typeof Z=="function"){var Pe=Z;Z=function(){var Le=eu(pe);Pe.call(Le)}}Qc(M,pe,b,Z)}else pe=Oh(N,M,b,Z,z);return eu(pe)}Ea=function(b){switch(b.tag){case 3:var M=b.stateNode;if(M.current.memoizedState.isDehydrated){var N=Zt(M.pendingLanes);N!==0&&(Tn(M,N|1),Ti(M,De()),(xn&6)===0&&(Sl=De()+500,Vi()))}break;case 13:Ro(function(){var z=Di(b,1);if(z!==null){var Z=fi();ba(z,b,1,Z)}}),Ru(b,1)}},Ss=function(b){if(b.tag===13){var M=Di(b,134217728);if(M!==null){var N=fi();ba(M,b,134217728,N)}Ru(b,134217728)}},Es=function(b){if(b.tag===13){var M=Xs(b),N=Di(b,M);if(N!==null){var z=fi();ba(N,b,M,z)}Ru(b,M)}},Fi=function(){return on},qa=function(b,M){var N=on;try{return on=b,M()}finally{on=N}},at=function(b,M,N){switch(M){case"input":if(Ye(b,N),M=N.name,N.type==="radio"&&M!=null){for(N=b;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+M)+'][type="radio"]'),M=0;M<N.length;M++){var z=N[M];if(z!==b&&z.form===b.form){var Z=al(z);if(!Z)throw Error(n(90));Te(z),Ye(z,Z)}}}break;case"textarea":ue(b,N);break;case"select":M=N.value,M!=null&&ke(b,!!N.multiple,M,!1)}},Ct=Eu,Rt=Ro;var kh={usingClientEntryPoint:!1,Events:[sa,Wn,al,Je,_t,Eu]},pc={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lh={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Sa(b),b===null?null:b.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||Dh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{$t=iu.inject(Lh),bt=iu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh,reactDom_production_min.createPortal=function(b,M){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(M))throw Error(n(200));return Ih(b,M,null,N)},reactDom_production_min.createRoot=function(b,M){if(!Du(b))throw Error(n(299));var N=!1,z="",Z=uh;return M!=null&&(M.unstable_strictMode===!0&&(N=!0),M.identifierPrefix!==void 0&&(z=M.identifierPrefix),M.onRecoverableError!==void 0&&(Z=M.onRecoverableError)),M=Cu(b,1,!1,null,null,N,!1,z,Z),b[si]=M.current,ks(b.nodeType===8?b.parentNode:b),new Iu(M)},reactDom_production_min.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var M=b._reactInternals;if(M===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=Sa(M),b=b===null?null:b.stateNode,b},reactDom_production_min.flushSync=function(b){return Ro(b)},reactDom_production_min.hydrate=function(b,M,N){if(!nu(M))throw Error(n(200));return ru(null,b,M,!0,N)},reactDom_production_min.hydrateRoot=function(b,M,N){if(!Du(b))throw Error(n(405));var z=N!=null&&N.hydratedSources||null,Z=!1,ne="",pe=uh;if(N!=null&&(N.unstable_strictMode===!0&&(Z=!0),N.identifierPrefix!==void 0&&(ne=N.identifierPrefix),N.onRecoverableError!==void 0&&(pe=N.onRecoverableError)),M=lh(M,null,b,1,N??null,Z,!1,ne,pe),b[si]=M.current,ks(b),z)for(b=0;b<z.length;b++)N=z[b],Z=N._getVersion,Z=Z(N._source),M.mutableSourceEagerHydrationData==null?M.mutableSourceEagerHydrationData=[N,Z]:M.mutableSourceEagerHydrationData.push(N,Z);return new tu(M)},reactDom_production_min.render=function(b,M,N){if(!nu(M))throw Error(n(200));return ru(null,b,M,!1,N)},reactDom_production_min.unmountComponentAtNode=function(b){if(!nu(b))throw Error(n(40));return b._reactRootContainer?(Ro(function(){ru(null,null,b,!1,function(){b._reactRootContainer=null,b[si]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Eu,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(b,M,N,z){if(!nu(N))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return ru(b,M,N,!1,z)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$s.apply(this,arguments)}var Action;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(o,l){let{pathname:u,search:h,hash:f}=o.location;return createLocation("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(e,n,null,t)}function invariant$2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n,o){return n===void 0&&(n=null),_extends$s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:n,key:e&&e.key||o||createKey()})}function createPath(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,f=Action.Pop,d=null,p=m();p==null&&(p=0,h.replaceState(_extends$s({},h.state,{idx:p}),""));function m(){return(h.state||{idx:null}).idx}function v(){f=Action.Pop;let w=m(),C=w==null?null:w-p;p=w,d&&d({action:f,location:A.location,delta:C})}function _(w,C){f=Action.Push;let O=createLocation(A.location,w,C);p=m()+1;let L=getHistoryState(O,p),F=A.createHref(O);try{h.pushState(L,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(F)}u&&d&&d({action:f,location:A.location,delta:1})}function S(w,C){f=Action.Replace;let O=createLocation(A.location,w,C);p=m();let L=getHistoryState(O,p),F=A.createHref(O);h.replaceState(L,"",F),u&&d&&d({action:f,location:A.location,delta:0})}function T(w){let C=l.location.origin!=="null"?l.location.origin:l.location.href,O=typeof w=="string"?w:createPath(w);return O=O.replace(/ $/,"%20"),invariant$2(C,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,C)}let A={get action(){return f},get location(){return t(l,h)},listen(w){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,v),d=w,()=>{l.removeEventListener(PopStateEventType,v),d=null}},createHref(w){return e(l,w)},createURL:T,encodeLocation(w){let C=T(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:S,go(w){return h.go(w)}};return A}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,n){return n===void 0&&(n="/"),matchRoutesImpl(t,e,n)}function matchRoutesImpl(t,e,n,o){let l=typeof e=="string"?parsePath(e):e,u=stripBasename(l.pathname||"/",n);if(u==null)return null;let h=flattenRoutes(t);rankRouteBranches(h);let f=null;for(let d=0;f==null&&d<h.length;++d){let p=decodePath(u);f=matchRouteBranch(h[d],p)}return f}function flattenRoutes(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,h,f)=>{let d={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};d.relativePath.startsWith("/")&&(invariant$2(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let p=joinPaths([o,d.relativePath]),m=n.concat(d);u.children&&u.children.length>0&&(invariant$2(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),flattenRoutes(u.children,e,m,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:computeScore(p,u.index),routesMeta:m})};return t.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let d of explodeOptionalSegments(u.path))l(u,h,d)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=explodeOptionalSegments(o.join("/")),f=[];return f.push(...h.map(d=>d===""?u:[u,d].join("/"))),l&&f.push(...h),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),o=n.length;return n.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),n.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((o,l)=>o===e[l])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n){let{routesMeta:o}=t,l={},u="/",h=[];for(let f=0;f<o.length;++f){let d=o[f],p=f===o.length-1,m=u==="/"?e:e.slice(u.length)||"/",v=matchPath({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!v)return null;Object.assign(l,v.params),h.push({params:l,pathname:joinPaths([u,v.pathname]),pathnameBase:normalizePathname(joinPaths([u,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(u=joinPaths([u,v.pathnameBase]))}return h}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=compilePath(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((p,m,v)=>{let{paramName:_,isOptional:S}=m;if(_==="*"){let A=f[v]||"";h=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[v];return S&&!T?p[_]=void 0:p[_]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:t}}function compilePath(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,d)=>(o.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:l=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(o),hash:normalizeHash(l)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let n=getPathContributingMatches(t);return e?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function resolveTo(t,e,n,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=parsePath(t):(l=_extends$s({},t),invariant$2(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$2(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$2(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=t===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=n;else{let v=e.length-1;if(!o&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),v-=1;l.pathname=_.join("/")}f=v>=0?e[v]:"/"}let d=resolvePath(l,f),p=h&&h!=="/"&&h.endsWith("/"),m=(u||h===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$r.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(t,e){let{relative:n}=e===void 0?{}:e;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:l}=reactExports.useContext(NavigationContext),{hash:u,pathname:h,search:f}=useResolvedPath(t,{relative:n}),d=h;return o!=="/"&&(d=h==="/"?o:joinPaths([o,h])),l.createHref({pathname:d,search:f,hash:u})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$3(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:n,navigator:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),h=JSON.stringify(getResolveToMatches(l,n.v7_relativeSplatPath)),f=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{f.current=!0}),reactExports.useCallback(function(p,m){if(m===void 0&&(m={}),!f.current)return;if(typeof p=="number"){o.go(p);return}let v=resolveTo(p,JSON.parse(h),u,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:joinPaths([e,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[e,o,h,u,t])}const OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useResolvedPath(t,e){let{relative:n}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),h=JSON.stringify(getResolveToMatches(l,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(h),u,n==="path"),[t,h,u,n])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,o){useInRouterContext()||invariant$2(!1);let{navigator:l}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let d=h?h.pathnameBase:"/";h&&h.route;let p=useLocation(),m;if(e){var v;let w=typeof e=="string"?parsePath(e):e;d==="/"||(v=w.pathname)!=null&&v.startsWith(d)||invariant$2(!1),m=w}else m=p;let _=m.pathname||"/",S=_;if(d!=="/"){let w=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=matchRoutes(t,{pathname:S}),A=_renderMatches(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:joinPaths([d,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:joinPaths([d,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),u,n,o);return e&&A?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$r({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Action.Pop}},A):A}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:l},n):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:n,children:o}=t,l=reactExports.useContext(DataRouterContext);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(t,e,n,o){var l;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var u;if(!n)return null;if(n.errors)t=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let h=t,f=(l=n)==null?void 0:l.errors;if(f!=null){let m=h.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);m>=0||invariant$2(!1),h=h.slice(0,Math.min(h.length,m+1))}let d=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let m=0;m<h.length;m++){let v=h[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:S}=n,T=v.route.loader&&_[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||T){d=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((m,v,_)=>{let S,T=!1,A=null,w=null;n&&(S=f&&v.route.id?f[v.route.id]:void 0,A=v.route.errorElement||defaultErrorElement,d&&(p<0&&_===0?(warningOnce("route-fallback"),T=!0,w=null):p===_&&(T=!0,w=v.route.hydrateFallbackElement||null)));let C=e.concat(h.slice(0,_+1)),O=()=>{let L;return S?L=A:T?L=w:v.route.Component?L=reactExports.createElement(v.route.Component,null):v.route.element?L=v.route.element:L=m,reactExports.createElement(RenderedRoute,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:L})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):O()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant$2(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$2(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant$2(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),n=e.matches[e.matches.length-1];return n.route.id||invariant$2(!1),n.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),n=useDataRouterState(),o=useCurrentRouteId();return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{n.current=!0}),reactExports.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,_extends$r({fromRouteId:e},u)))},[t,e])}const alreadyWarned$1={};function warningOnce(t,e,n){alreadyWarned$1[t]||(alreadyWarned$1[t]=!0)}function logV6DeprecationWarnings(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$2(!1)}function Router(t){let{basename:e="/",children:n=null,location:o,navigationType:l=Action.Pop,navigator:u,static:h=!1,future:f}=t;useInRouterContext()&&invariant$2(!1);let d=e.replace(/^\/*/,"/"),p=reactExports.useMemo(()=>({basename:d,navigator:u,static:h,future:_extends$r({v7_relativeSplatPath:!1},f)}),[d,f,u,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:m="/",search:v="",hash:_="",state:S=null,key:T="default"}=o,A=reactExports.useMemo(()=>{let w=stripBasename(m,d);return w==null?null:{location:{pathname:w,search:v,hash:_,state:S,key:T},navigationType:l}},[d,m,v,_,S,T,l]);return A==null?null:reactExports.createElement(NavigationContext.Provider,{value:p},reactExports.createElement(LocationContext.Provider,{children:n,value:A}))}function Routes(t){let{children:e,location:n}=t;return useRoutes(createRoutesFromChildren(e),n)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let n=[];return reactExports.Children.forEach(t,(o,l)=>{if(!reactExports.isValidElement(o))return;let u=[...e,l];if(o.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(o.props.children,u));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$q.apply(this,arguments)}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}const _excluded$g=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:n,future:o,window:l}=t,u=reactExports.useRef();u.current==null&&(u.current=createBrowserHistory({window:l,v5Compat:!0}));let h=u.current,[f,d]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:p}=o||{},m=reactExports.useCallback(v=>{p&&startTransitionImpl?startTransitionImpl(()=>d(v)):d(v)},[d,p]);return reactExports.useLayoutEffect(()=>h.listen(m),[h,m]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:h,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,n){let{onClick:o,relative:l,reloadDocument:u,replace:h,state:f,target:d,to:p,preventScrollReset:m,viewTransition:v}=e,_=_objectWithoutPropertiesLoose$g(e,_excluded$g),{basename:S}=reactExports.useContext(NavigationContext),T,A=!1;if(typeof p=="string"&&ABSOLUTE_URL_REGEX.test(p)&&(T=p,isBrowser$1))try{let L=new URL(window.location.href),F=p.startsWith("//")?new URL(L.protocol+p):new URL(p),B=stripBasename(F.pathname,S);F.origin===L.origin&&B!=null?p=B+F.search+F.hash:A=!0}catch{}let w=useHref(p,{relative:l}),C=useLinkClickHandler(p,{replace:h,state:f,target:d,preventScrollReset:m,relative:l,viewTransition:v});function O(L){o&&o(L),L.defaultPrevented||C(L)}return reactExports.createElement("a",_extends$q({},_,{href:T||w,onClick:A||u?o:O,ref:n,target:d}))});var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(t,e){let{target:n,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:f}=e===void 0?{}:e,d=useNavigate(),p=useLocation(),m=useResolvedPath(t,{relative:h});return reactExports.useCallback(v=>{if(shouldProcessLinkClick(v,n)){v.preventDefault();let _=o!==void 0?o:createPath(p)===createPath(m);d(t,{replace:_,state:l,preventScrollReset:u,relative:h,viewTransition:f})}},[p,d,m,o,l,n,t,u,h,f])}const MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(t,e,n,o){const{visualElement:l}=reactExports.useContext(MotionContext),u=reactExports.useContext(LazyContext),h=reactExports.useContext(PresenceContext),f=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef();o=o||u.renderer,!d.current&&o&&(d.current=o(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const p=d.current;reactExports.useInsertionEffect(()=>{p&&p.update(n,h)});const m=reactExports.useRef(!!(n[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$2(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),reactExports.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function isRefObject$1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),n&&(typeof n=="function"?n(o):isRefObject$1(n)&&(n.current=o))},[e])}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:o}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(o)?o:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:o,Component:l}){t&&loadFeatures(t);function u(f,d){let p;const m={...reactExports.useContext(MotionConfigContext),...f,layoutId:useLayoutId(f)},{isStatic:v}=m,_=useCreateMotionContext(f),S=o(f,v);if(!v&&isBrowser){_.visualElement=useVisualElement(l,S,m,e);const T=reactExports.useContext(SwitchLayoutGroupContext),A=reactExports.useContext(LazyContext).strict;_.visualElement&&(p=_.visualElement.loadFeatures(m,A,t,T))}return reactExports.createElement(MotionContext.Provider,{value:_},p&&_.visualElement?reactExports.createElement(p,{visualElement:_.visualElement,...m}):null,n(l,f,useMotionRef(S,_.visualElement,d),S,v,_.visualElement))}const h=reactExports.forwardRef(u);return h[motionComponentSymbol]=l,h}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function createMotionProxy(t){function e(o,l={}){return createMotionComponent(t(o,l))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(o,l)=>(n.has(l)||n.set(l,e(l)),n.get(l))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/.test(t))}const scaleCorrectors={};function addScaleCorrector(t){Object.assign(scaleCorrectors,t)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const isMotionValue=t=>!!(t&&t.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},o,l){let u="";for(let h=0;h<numTransforms;h++){const f=transformPropOrder[h];if(t[f]!==void 0){const d=translateAlias[f]||f;u+=`${d}(${t[f]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),l?u=l(t,o?"":u):n&&o&&(u="none"),u}const checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t,clamp$1=(t,e,n)=>Math.min(Math.max(n,t),e),number$3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha$2={...number$3,transform:t=>clamp$1(0,1,t)},scale$1={...number$3,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(t){return typeof t=="string"}const createUnitType=t=>({test:e=>isString$1(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int};function buildHTMLStyles(t,e,n,o){const{style:l,vars:u,transform:h,transformOrigin:f}=t;let d=!1,p=!1,m=!0;for(const v in e){const _=e[v];if(isCSSVariableName(v)){u[v]=_;continue}const S=numberValueTypes[v],T=getValueAsType(_,S);if(transformProps.has(v)){if(d=!0,h[v]=T,!m)continue;_!==(S.default||0)&&(m=!1)}else v.startsWith("origin")?(p=!0,f[v]=T):l[v]=T}if(e.transform||(d||o?l.transform=buildTransform(t.transform,n,m,o):l.transform&&(l.transform="none")),p){const{originX:v="50%",originY:_="50%",originZ:S=0}=f;l.transformOrigin=`${v} ${_} ${S}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const o in e)!isMotionValue(e[o])&&!isForcedMotionValue(o,n)&&(t[o]=e[o])}function useInitialMotionValues({transformTemplate:t},e,n){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,e,{enableHardwareAcceleration:!n},t),Object.assign({},o.vars,o.style)},[e])}function useStyle(t,e,n){const o=t.style||{},l={};return copyRawValuesOnly(l,o,t),Object.assign(l,useInitialMotionValues(t,e,n)),t.transformValues?t.transformValues(l):l}function useHTMLProps(t,e,n){const o={},l=useStyle(t,e,n);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=l,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(t,e,n){const o={};for(const l in t)l==="values"&&typeof t.values=="object"||(shouldForward(l)||n===!0&&isValidMotionProp(l)||!e&&!isValidMotionProp(l)||t.draggable&&l.startsWith("onDrag"))&&(o[l]=t[l]);return o}function calcOrigin$1(t,e,n){return typeof t=="string"?t:px$1.transform(e+n*t)}function calcSVGTransformOrigin(t,e,n){const o=calcOrigin$1(e,t.x,t.width),l=calcOrigin$1(n,t.y,t.height);return`${o} ${l}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,o=0,l=!0){t.pathLength=1;const u=l?dashKeys:camelKeys;t[u.offset]=px$1.transform(-o);const h=px$1.transform(e),f=px$1.transform(n);t[u.array]=`${h} ${f}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:o,originX:l,originY:u,pathLength:h,pathSpacing:f=1,pathOffset:d=0,...p},m,v,_){if(buildHTMLStyles(t,p,m,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:T,dimensions:A}=t;S.transform&&(A&&(T.transform=S.transform),delete S.transform),A&&(l!==void 0||u!==void 0||T.transform)&&(T.transformOrigin=calcSVGTransformOrigin(A,l!==void 0?l:.5,u!==void 0?u:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),o!==void 0&&(S.scale=o),h!==void 0&&buildSVGPath(S,h,f,d,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,o){const l=reactExports.useMemo(()=>{const u=createSvgRenderState();return buildSVGAttrs(u,e,{enableHardwareAcceleration:!1},isSVGTag(o),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};copyRawValuesOnly(u,t.style,t),l.style={...u,...l.style}}return l}function createUseRender(t=!1){return(n,o,l,{latestValues:u},h)=>{const d=(isSVGComponent(n)?useSVGProps:useHTMLProps)(o,u,h,n),m={...filterProps$1(o,typeof n=="string",t),...d,ref:l},{children:v}=o,_=reactExports.useMemo(()=>isMotionValue(v)?v.get():v,[v]);return reactExports.createElement(n,{...m,children:_})}}function renderHTML(t,{style:e,vars:n},o,l){Object.assign(t.style,e,l&&l.getProjectionStyles(o));for(const u in n)t.style.setProperty(u,n[u])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,o){renderHTML(t,e,void 0,o);for(const l in e.attrs)t.setAttribute(camelCaseAttributes.has(l)?l:camelToDash(l),e.attrs[l])}function scrapeMotionValuesFromProps$1(t,e){const{style:n}=t,o={};for(const l in n)(isMotionValue(n[l])||e.style&&isMotionValue(e.style[l])||isForcedMotionValue(l,t))&&(o[l]=n[l]);return o}function scrapeMotionValuesFromProps(t,e){const n=scrapeMotionValuesFromProps$1(t,e);for(const o in t)if(isMotionValue(t[o])||isMotionValue(e[o])){const l=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=t[o]}return n}function resolveVariantFromProps(t,e,n,o={},l={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),e}function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const e=isMotionValue(t)?t.get():t;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},o,l,u){const h={latestValues:makeLatestValues(o,l,u,t),renderState:e()};return n&&(h.mount=f=>n(o,f,h)),h}const makeUseVisualState=t=>(e,n)=>{const o=reactExports.useContext(MotionContext),l=reactExports.useContext(PresenceContext),u=()=>makeState(t,e,o,l);return n?u():useConstant(u)};function makeLatestValues(t,e,n,o){const l={},u=o(t,{});for(const _ in u)l[_]=resolveMotionValue(u[_]);let{initial:h,animate:f}=t;const d=isControllingVariants(t),p=isVariantNode(t);e&&p&&!d&&t.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let m=n?n.initial===!1:!1;m=m||h===!1;const v=m?f:h;return v&&typeof v!="boolean"&&!isAnimationControls(v)&&(Array.isArray(v)?v:[v]).forEach(S=>{const T=resolveVariantFromProps(t,S);if(!T)return;const{transitionEnd:A,transition:w,...C}=T;for(const O in C){let L=C[O];if(Array.isArray(L)){const F=m?L.length-1:0;L=L[F]}L!==null&&(l[O]=L)}for(const O in A)l[O]=A[O]}),l}const noop$2=t=>t;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(t){let e=new Queue,n=new Queue,o=0,l=!1,u=!1;const h=new WeakSet,f={schedule:(d,p=!1,m=!1)=>{const v=m&&l,_=v?e:n;return p&&h.add(d),_.add(d)&&v&&l&&(o=e.order.length),d},cancel:d=>{n.remove(d),h.delete(d)},process:d=>{if(l){u=!0;return}if(l=!0,[e,n]=[n,e],n.clear(),o=e.order.length,o)for(let p=0;p<o;p++){const m=e.order[p];m(d),h.has(m)&&(f.schedule(m),t())}l=!1,u&&(u=!1,f.process(d))}};return f}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(t,e){let n=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=stepsOrder.reduce((v,_)=>(v[_]=createRenderStep(()=>n=!0),v),{}),h=v=>u[v].process(l),f=()=>{const v=performance.now();n=!1,l.delta=o?1e3/60:Math.max(Math.min(v-l.timestamp,maxElapsed),1),l.timestamp=v,l.isProcessing=!0,stepsOrder.forEach(h),l.isProcessing=!1,n&&e&&(o=!1,t(f))},d=()=>{n=!0,o=!0,l.isProcessing||t(f)};return{schedule:stepsOrder.reduce((v,_)=>{const S=u[_];return v[_]=(T,A=!1,w=!1)=>(n||d(),S.schedule(T,A,w)),v},{}),cancel:v=>stepsOrder.forEach(_=>u[_].cancel(v)),state:l,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(t,e,{renderState:n,latestValues:o})=>{frame.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(n,o,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),t.transformTemplate),renderSVG(e,n)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(t,{forwardMotionProps:e=!1},n,o){return{...isSVGComponent(t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:n,useRender:createUseRender(e),createVisualElement:o,Component:t}}function addDomEvent(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}const isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function extractEventInfo(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,o){return addDomEvent(t,e,addPointerInfo(n),o)}const combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions);function createLock(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(t){let e=!1;if(t==="y")e=globalVerticalLock();else if(t==="x")e=globalHorizontalLock();else{const n=globalHorizontalLock(),o=globalVerticalLock();n&&o?e=()=>{n(),o()}:(n&&n(),o&&o())}return e}function isDragActive(){const t=getGlobalLock(!0);return t?(t(),!1):!0}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}function addHoverEvent(t,e){const n="pointer"+(e?"enter":"leave"),o="onHover"+(e?"Start":"End"),l=(u,h)=>{if(u.pointerType==="touch"||isDragActive())return;const f=t.getProps();t.animationState&&f.whileHover&&t.animationState.setActive("whileHover",e),f[o]&&frame.update(()=>f[o](u,h))};return addPointerEvent(t.current,n,l,{passive:!t.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1;function fireSyntheticPointerEvent(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,extractEventInfo(n))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$2,this.removeEndListeners=noop$2,this.removeAccessibleListeners=noop$2,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),u=addPointerEvent(window,"pointerup",(f,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:v}=this.node.getProps();frame.update(()=>{!v&&!isNodeOrChild(this.node.current,f.target)?m&&m(f,d):p&&p(f,d)})},{passive:!(o.onTap||o.onPointerUp)}),h=addPointerEvent(window,"pointercancel",(f,d)=>this.cancelPress(f,d),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(u,h),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const h=f=>{f.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&frame.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",h),fireSyntheticPointerEvent("down",(f,d)=>{this.startPress(f,d)})},n=addDomEvent(this.node.current,"keydown",e),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(u,h)=>this.cancelPress(u,h))},l=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(n,l)}}startPress(e,n){this.isPressing=!0;const{onTapStart:o,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.update(()=>o(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.update(()=>o(e,n))}mount(){const e=this.node.getProps(),n=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(n,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const o=observers.get(n),l=JSON.stringify(e);return o[l]||(o[l]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),o[l]}function observeIntersection(t,e,n){const o=initIntersectionObserver(e);return observerCallbacks.set(t,n),o.observe(t),()=>{observerCallbacks.delete(t),o.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:o,amount:l="some",once:u}=e,h={root:n?n.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:thresholdNames[l]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),_=p?m:v;_&&_(d)};return observeIntersection(this.node.current,h,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}function getCurrent(t){const e={};return t.values.forEach((n,o)=>e[o]=n.get()),e}function getVelocity$1(t){const e={};return t.values.forEach((n,o)=>e[o]=n.getVelocity()),e}function resolveVariant(t,e,n){const o=t.getProps();return resolveVariantFromProps(o,e,n!==void 0?n:o.custom,getCurrent(t),getVelocity$1(t))}let invariant$1=noop$2;const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3,instantAnimationState={current:!1},isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number";function isWaapiSupportedEasing(t){return!!(!t||typeof t=="string"&&supportedWaapiEasing[t]||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,e,n,o])=>`cubic-bezier(${t}, ${e}, ${n}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t){if(t)return isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(mapEasingToNativeEasing):supportedWaapiEasing[t]}function animateStyle(t,e,n,{delay:o=0,duration:l,repeat:u=0,repeatType:h="loop",ease:f,times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=mapEasingToNativeEasing(f);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:o,duration:l,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"}){const o=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[o]}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,o,l){let u,h,f=0;do h=e+(n-e)/2,u=calcBezier(h,o,l)-t,u>0?n=h:e=h;while(Math.abs(u)>subdivisionPrecision&&++f<subdivisionMaxIterations);return h}function cubicBezier$1(t,e,n,o){if(t===e&&n===o)return noop$2;const l=u=>binarySubdivide(u,0,1,t,n);return u=>u===0||u===1?u:calcBezier(l(u),e,o)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=t=>{if(Array.isArray(t)){invariant$1(t.length===4);const[e,n,o,l]=t;return cubicBezier$1(e,n,o,l)}else if(typeof t=="string")return easingLookup[t];return t},isColorString=(t,e)=>n=>!!(isString$1(n)&&singleColorRegex.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>o=>{if(!isString$1(o))return o;const[l,u,h,f]=o.match(floatRegex);return{[t]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(h),alpha:f!==void 0?parseFloat(f):1}},clampRgbUnit=t=>clamp$1(0,255,t),rgbUnit={...number$3,transform:t=>Math.round(clampRgbUnit(t))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$2.transform(o))+")"};function parseHex(t){let e="",n="",o="",l="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),o=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),o=t.substring(3,4),l=t.substring(4,5),e+=e,n+=n,o+=o,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$2.transform(o))+")"},color$2={test:t=>rgba$1.test(t)||hex$2.test(t)||hsla$1.test(t),parse:t=>rgba$1.test(t)?rgba$1.parse(t):hsla$1.test(t)?hsla$1.parse(t):hex$2.parse(t),transform:t=>isString$1(t)?t:t.hasOwnProperty("red")?rgba$1.transform(t):hsla$1.transform(t)},mix=(t,e,n)=>-n*t+n*e+t;function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,e/=100,n/=100;let l=0,u=0,h=0;if(!e)l=u=h=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;l=hueToRgb(d,f,t+1/3),u=hueToRgb(d,f,t),h=hueToRgb(d,f,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}const mixLinearColor=(t,e,n)=>{const o=t*t;return Math.sqrt(Math.max(0,n*(e*e-o)+o))},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);let n=e.parse(t);return e===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),o=asRGBA(e),l={...n};return u=>(l.red=mixLinearColor(n.red,o.red,u),l.green=mixLinearColor(n.green,o.green,u),l.blue=mixLinearColor(n.blue,o.blue,u),l.alpha=mix(n.alpha,o.alpha,u),rgba$1.transform(l))};function test(t){var e,n;return isNaN(t)&&isString$1(t)&&(((e=t.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$2},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$2.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$3.parse};function tokenise(t,{regex:e,countKey:n,token:o,parse:l}){const u=t.tokenised.match(e);u&&(t["num"+n]=u.length,t.tokenised=t.tokenised.replace(e,o),t.values.push(...u.map(l)))}function analyseComplexValue(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tokenise(n,cssVarTokeniser),tokenise(n,colorTokeniser),tokenise(n,numberTokeniser),n}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{values:e,numColors:n,numVars:o,tokenised:l}=analyseComplexValue(t),u=e.length;return h=>{let f=l;for(let d=0;d<u;d++)d<o?f=f.replace(cssVarTokeniser.token,h[d]):d<o+n?f=f.replace(colorTokeniser.token,color$2.transform(h[d])):f=f.replace(numberTokeniser.token,sanitize(h[d]));return f}}const convertNumbersToZero=t=>typeof t=="number"?0:t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(t,e)=>n=>`${n>0?e:t}`;function getMixer(t,e){return typeof t=="number"?n=>mix(t,e,n):color$2.test(t)?mixColor(t,e):t.startsWith("var(")?mixImmediate(t,e):mixComplex(t,e)}const mixArray=(t,e)=>{const n=[...t],o=n.length,l=t.map((u,h)=>getMixer(u,e[h]));return u=>{for(let h=0;h<o;h++)n[h]=l[h](u);return n}},mixObject=(t,e)=>{const n={...t,...e},o={};for(const l in n)t[l]!==void 0&&e[l]!==void 0&&(o[l]=getMixer(t[l],e[l]));return l=>{for(const u in o)n[u]=o[u](l);return n}},mixComplex=(t,e)=>{const n=complex.createTransformer(e),o=analyseComplexValue(t),l=analyseComplexValue(e);return o.numVars===l.numVars&&o.numColors===l.numColors&&o.numNumbers>=l.numNumbers?pipe(mixArray(o.values,l.values),n):mixImmediate(t,e)},progress=(t,e,n)=>{const o=e-t;return o===0?1:(n-t)/o},mixNumber=(t,e)=>n=>mix(t,e,n);function detectMixerFactory(t){return typeof t=="number"?mixNumber:typeof t=="string"?color$2.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?mixObject:mixNumber}function createMixers(t,e,n){const o=[],l=n||detectMixerFactory(t[0]),u=t.length-1;for(let h=0;h<u;h++){let f=l(t[h],t[h+1]);if(e){const d=Array.isArray(e)?e[h]||noop$2:e;f=pipe(d,f)}o.push(f)}return o}function interpolate$3(t,e,{clamp:n=!0,ease:o,mixer:l}={}){const u=t.length;if(invariant$1(u===e.length),u===1)return()=>e[0];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=createMixers(e,o,l),f=h.length,d=p=>{let m=0;if(f>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const v=progress(t[m],t[m+1],p);return h[m](v)};return n?p=>d(clamp$1(t[0],t[u-1],p)):d}function fillOffset(t,e){const n=t[t.length-1];for(let o=1;o<=e;o++){const l=progress(0,e,o);t.push(mix(n,1,l))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:o="easeInOut"}){const l=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),u={done:!1,value:e[0]},h=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),f=interpolate$3(h,e,{ease:Array.isArray(l)?l:defaultEasing(e,l)});return{calculatedDuration:t,next:d=>(u.value=f(d),u.done=d>=t,u)}}function velocityPerSecond(t,e){return e?t*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const o=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(o),e-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:t=800,bounce:e=.25,velocity:n=0,mass:o=1}){let l,u,h=1-e;h=clamp$1(minDamping,maxDamping,h),t=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(t)),h<1?(l=p=>{const m=p*h,v=m*t,_=m-n,S=calcAngularFreq(p,h),T=Math.exp(-v);return safeMin-_/S*T},u=p=>{const v=p*h*t,_=v*n+n,S=Math.pow(h,2)*Math.pow(p,2)*t,T=Math.exp(-v),A=calcAngularFreq(Math.pow(p,2),h);return(-l(p)+safeMin>0?-1:1)*((_-S)*T)/A}):(l=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},u=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const f=5/t,d=approximateRoot(l,u,f);if(t=secondsToMilliseconds(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*o;return{stiffness:p,damping:h*2*Math.sqrt(o*p),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let o=n;for(let l=1;l<rootIterations;l++)o=o-t(o)/e(o);return o}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys)){const n=findSpring(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:t,restDelta:e,restSpeed:n,...o}){const l=t[0],u=t[t.length-1],h={done:!1,value:l},{stiffness:f,damping:d,mass:p,duration:m,velocity:v,isResolvedFromDuration:_}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),S=v||0,T=d/(2*Math.sqrt(f*p)),A=u-l,w=millisecondsToSeconds(Math.sqrt(f/p)),C=Math.abs(A)<5;n||(n=C?.01:2),e||(e=C?.005:.5);let O;if(T<1){const L=calcAngularFreq(w,T);O=F=>{const B=Math.exp(-T*w*F);return u-B*((S+T*w*A)/L*Math.sin(L*F)+A*Math.cos(L*F))}}else if(T===1)O=L=>u-Math.exp(-w*L)*(A+(S+w*A)*L);else{const L=w*Math.sqrt(T*T-1);O=F=>{const B=Math.exp(-T*w*F),U=Math.min(L*F,300);return u-B*((S+T*w*A)*Math.sinh(U)+L*A*Math.cosh(U))/L}}return{calculatedDuration:_&&m||null,next:L=>{const F=O(L);if(_)h.done=L>=m;else{let B=S;L!==0&&(T<1?B=calcGeneratorVelocity(O,L,F):B=0);const U=Math.abs(B)<=n,V=Math.abs(u-F)<=e;h.done=U&&V}return h.value=h.done?u:F,h}}}function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:h,min:f,max:d,restDelta:p=.5,restSpeed:m}){const v=t[0],_={done:!1,value:v},S=q=>f!==void 0&&q<f||d!==void 0&&q>d,T=q=>f===void 0?d:d===void 0||Math.abs(f-q)<Math.abs(d-q)?f:d;let A=n*e;const w=v+A,C=h===void 0?w:h(w);C!==w&&(A=C-v);const O=q=>-A*Math.exp(-q/o),L=q=>C+O(q),F=q=>{const H=O(q),G=L(q);_.done=Math.abs(H)<=p,_.value=_.done?C:G};let B,U;const V=q=>{S(_.value)&&(B=q,U=spring({keyframes:[_.value,T(_.value)],velocity:calcGeneratorVelocity(L,q,_.value),damping:l,stiffness:u,restDelta:p,restSpeed:m}))};return V(0),{calculatedDuration:null,next:q=>{let H=!1;return!U&&B===void 0&&(H=!0,F(q),V(q)),B!==void 0&&q>B?U.next(q-B):(!H&&F(q),_)}}}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let o=t.next(e);for(;!o.done&&e<maxGeneratorDuration;)e+=n,o=t.next(e);return e>=maxGeneratorDuration?1/0:e}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:t=!0,delay:e=0,driver:n=frameloopDriver,keyframes:o,type:l="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:f="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:v,..._}){let S=1,T=!1,A,w;const C=()=>{w=new Promise(te=>{A=te})};C();let O;const L=types[l]||keyframes;let F;L!==keyframes&&typeof o[0]!="number"&&(F=interpolate$3([0,100],o,{clamp:!1}),o=[0,100]);const B=L({..._,keyframes:o});let U;f==="mirror"&&(U=L({..._,keyframes:[...o].reverse(),velocity:-(_.velocity||0)}));let V="idle",q=null,H=null,G=null;B.calculatedDuration===null&&u&&(B.calculatedDuration=calcGeneratorDuration(B));const{calculatedDuration:Y}=B;let Q=1/0,ie=1/0;Y!==null&&(Q=Y+h,ie=Q*(u+1)-h);let ae=0;const le=te=>{if(H===null)return;S>0&&(H=Math.min(H,te)),S<0&&(H=Math.min(te-ie/S,H)),q!==null?ae=q:ae=Math.round(te-H)*S;const fe=ae-e*(S>=0?1:-1),_e=S>=0?fe<0:fe>ie;ae=Math.max(fe,0),V==="finished"&&q===null&&(ae=ie);let ye=ae,xe=B;if(u){const Re=Math.min(ae,ie)/Q;let Ne=Math.floor(Re),Oe=Re%1;!Oe&&Re>=1&&(Oe=1),Oe===1&&Ne--,Ne=Math.min(Ne,u+1),!!(Ne%2)&&(f==="reverse"?(Oe=1-Oe,h&&(Oe-=h/Q)):f==="mirror"&&(xe=U)),ye=clamp$1(0,1,Oe)*Q}const Me=_e?{done:!1,value:o[0]}:xe.next(ye);F&&(Me.value=F(Me.value));let{done:be}=Me;!_e&&Y!==null&&(be=S>=0?ae>=ie:ae<=0);const Ce=q===null&&(V==="finished"||V==="running"&&be);return v&&v(Me.value),Ce&&J(),Me},he=()=>{O&&O.stop(),O=void 0},ge=()=>{V="idle",he(),A(),C(),H=G=null},J=()=>{V="finished",m&&m(),he(),A()},se=()=>{if(T)return;O||(O=n(le));const te=O.now();d&&d(),q!==null?H=te-q:(!H||V==="finished")&&(H=te),V==="finished"&&C(),G=H,q=null,V="running",O.start()};t&&se();const ce={then(te,fe){return w.then(te,fe)},get time(){return millisecondsToSeconds(ae)},set time(te){te=secondsToMilliseconds(te),ae=te,q!==null||!O||S===0?q=te:H=O.now()-te/S},get duration(){const te=B.calculatedDuration===null?calcGeneratorDuration(B):B.calculatedDuration;return millisecondsToSeconds(te)},get speed(){return S},set speed(te){te===S||!O||(S=te,ce.time=millisecondsToSeconds(ae))},get state(){return V},play:se,pause:()=>{V="paused",q=ae},stop:()=>{T=!0,V!=="idle"&&(V="idle",p&&p(),ge())},cancel:()=>{G!==null&&le(G),ge()},complete:()=>{V="finished"},sample:te=>(H=0,le(te))};return ce}function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(t,e)=>e.type==="spring"||t==="backgroundColor"||!isWaapiSupportedEasing(e.ease);function createAcceleratedAnimation(t,e,{onUpdate:n,onComplete:o,...l}){if(!(supportsWaapi()&&acceleratedValues.has(e)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let h=!1,f,d,p=!1;const m=()=>{d=new Promise(L=>{f=L})};m();let{keyframes:v,duration:_=300,ease:S,times:T}=l;if(requiresPregeneratedKeyframes(e,l)){const L=animateValue({...l,repeat:0,delay:0});let F={done:!1,value:v[0]};const B=[];let U=0;for(;!F.done&&U<maxDuration;)F=L.sample(U),B.push(F.value),U+=sampleDelta;T=void 0,v=B,_=U-sampleDelta,S="linear"}const A=animateStyle(t.owner.current,e,v,{...l,duration:_,ease:S,times:T}),w=()=>{p=!1,A.cancel()},C=()=>{p=!0,frame.update(w),f(),m()};return A.onfinish=()=>{p||(t.set(getFinalKeyframe(v,l)),o&&o(),C())},{then(L,F){return d.then(L,F)},attachTimeline(L){return A.timeline=L,A.onfinish=null,noop$2},get time(){return millisecondsToSeconds(A.currentTime||0)},set time(L){A.currentTime=secondsToMilliseconds(L)},get speed(){return A.playbackRate},set speed(L){A.playbackRate=L},get duration(){return millisecondsToSeconds(_)},play:()=>{h||(A.play(),cancelFrame(w))},pause:()=>A.pause(),stop:()=>{if(h=!0,A.playState==="idle")return;const{currentTime:L}=A;if(L){const F=animateValue({...l,autoplay:!1});t.setWithVelocity(F.sample(L-sampleDelta).value,F.sample(L).value,sampleDelta)}C()},complete:()=>{p||A.finish()},cancel:C}}function createInstantAnimation({keyframes:t,delay:e,onUpdate:n,onComplete:o}){const l=()=>(n&&n(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:noop$2,pause:noop$2,stop:noop$2,then:u=>(u(),Promise.resolve()),cancel:noop$2,complete:noop$2});return e?animateValue({keyframes:[0,1],duration:0,delay:e,onComplete:l}):l()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease,isAnimatable=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=n.match(floatRegex)||[];if(!o)return t;const l=n.replace(o,"");let u=maxDefaults.has(e)?1:0;return o!==n&&(u*=100),e+"("+u+l+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const isZeroValueString=t=>/^0[^.\s]+$/.test(t);function isNone(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||isZeroValueString(t)}function getKeyframes(t,e,n,o){const l=isAnimatable(e,n);let u;Array.isArray(n)?u=[...n]:u=[null,n];const h=o.from!==void 0?o.from:t.get();let f;const d=[];for(let p=0;p<u.length;p++)u[p]===null&&(u[p]=p===0?h:u[p-1]),isNone(u[p])&&d.push(p),typeof u[p]=="string"&&u[p]!=="none"&&u[p]!=="0"&&(f=u[p]);if(l&&d.length&&f)for(let p=0;p<d.length;p++){const m=d[p];u[m]=getAnimatableNone(e,f)}return u}function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:h,repeatDelay:f,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function getValueTransition(t,e){return t[e]||t.default||t}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(t,e,n,o={})=>l=>{const u=getValueTransition(o,t)||{},h=u.delay||o.delay||0;let{elapsed:f=0}=o;f=f-secondsToMilliseconds(h);const d=getKeyframes(e,t,n,u),p=d[0],m=d[d.length-1],v=isAnimatable(t,p),_=isAnimatable(t,m);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...u,delay:-f,onUpdate:T=>{e.set(T),u.onUpdate&&u.onUpdate(T)},onComplete:()=>{l(),u.onComplete&&u.onComplete()}};if(isTransitionDefined(u)||(S={...S,...getDefaultTransition(t,S)}),S.duration&&(S.duration=secondsToMilliseconds(S.duration)),S.repeatDelay&&(S.repeatDelay=secondsToMilliseconds(S.repeatDelay)),!v||!_||instantAnimationState.current||u.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(S);if(!o.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=createAcceleratedAnimation(e,t,S);if(T)return T}return animateValue(S)};function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}const isNumericalString=t=>/^\-?\d*\.?\d+$/.test(t);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,o);else for(let u=0;u<l;u++){const h=this.subscriptions[u];h&&h(e,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,l=!0)=>{this.prev=this.current,this.current=o;const{delta:u,timestamp:h}=frameData;this.lastUpdated!==h&&(this.timeDelta=u,this.lastUpdated=h,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=isFloat(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const o=this.events[e].add(n);return e==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,o){this.set(n),this.prev=e,this.timeDelta=o}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const testValueType=t=>e=>e.test(t),auto={test:t=>t==="auto",parse:t=>t},dimensionValueTypes=[number$3,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t)),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=t=>valueTypes.find(testValueType(t));function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:o={},transition:l={},...u}=n?t.makeTargetAnimatable(n,!1):{};u={...u,...o};for(const h in u){const f=resolveFinalValueInKeyframes(u[h]);setMotionValue(t,h,f)}}function setVariants(t,e){[...e].reverse().forEach(o=>{const l=t.getVariant(o);l&&setTarget(t,l),t.variantChildren&&t.variantChildren.forEach(u=>{setVariants(u,e)})})}function setValues(t,e){if(Array.isArray(e))return setVariants(t,e);if(typeof e=="string")return setVariants(t,[e]);setTarget(t,e)}function checkTargetForNewValues(t,e,n){var o,l;const u=Object.keys(e).filter(f=>!t.hasValue(f)),h=u.length;if(h)for(let f=0;f<h;f++){const d=u[f],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(l=(o=n[d])!==null&&o!==void 0?o:t.readValue(d))!==null&&l!==void 0?l:e[d]),m!=null&&(typeof m=="string"&&(isNumericalString(m)||isZeroValueString(m))?m=parseFloat(m):!findValueType(m)&&complex.test(p)&&(m=getAnimatableNone(d,p)),t.addValue(d,motionValue(m,{owner:t})),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function getOriginFromTransition(t,e){return e?(e[t]||e.default||e).from:void 0}function getOrigin(t,e,n){const o={};for(const l in t){const u=getOriginFromTransition(l,e);if(u!==void 0)o[l]=u;else{const h=n.getValue(l);h&&(o[l]=h.get())}}return o}function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,o}function hasKeyframesChanged(t,e){const n=t.get();if(Array.isArray(e)){for(let o=0;o<e.length;o++)if(e[o]!==n)return!0}else return n!==e}function animateTarget(t,e,{delay:n=0,transitionOverride:o,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");o&&(u=o);const p=[],m=l&&t.animationState&&t.animationState.getState()[l];for(const v in f){const _=t.getValue(v),S=f[v];if(!_||S===void 0||m&&shouldBlockAnimation(m,v))continue;const T={delay:n,elapsed:0,...getValueTransition(u||{},v)};if(window.HandoffAppearAnimations){const C=t.getProps()[optimizedAppearDataAttribute];if(C){const O=window.HandoffAppearAnimations(C,v,_,frame);O!==null&&(T.elapsed=O,T.isHandoff=!0)}}let A=!T.isHandoff&&!hasKeyframesChanged(_,S);if(T.type==="spring"&&(_.getVelocity()||T.velocity)&&(A=!1),_.animation&&(A=!1),A)continue;_.start(animateMotionValue(v,_,S,t.shouldReduceMotion&&transformProps.has(v)?{type:!1}:T));const w=_.animation;isWillChangeMotionValue(d)&&(d.add(v),w.then(()=>d.remove(v))),p.push(w)}return h&&Promise.all(p).then(()=>{h&&setTarget(t,h)}),p}function animateVariant(t,e,n={}){const o=resolveVariant(t,e,n.custom);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const u=o?()=>Promise.all(animateTarget(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=l;return animateChildren(t,e,p+d,m,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[d,p]=f==="beforeChildren"?[u,h]:[h,u];return d().then(()=>p())}else return Promise.all([u(),h(n.delay)])}function animateChildren(t,e,n=0,o=0,l=1,u){const h=[],f=(t.variantChildren.size-1)*o,d=l===1?(p=0)=>p*o:(p=0)=>f-p*o;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((p,m)=>{p.notify("AnimationStart",e),h.push(animateVariant(p,e,{...u,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(h)}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const l=e.map(u=>animateVariant(t,u,n));o=Promise.all(l)}else if(typeof e=="string")o=animateVariant(t,e,n);else{const l=typeof e=="function"?resolveVariant(t,e,n.custom):e;o=Promise.all(animateTarget(t,l,n))}return o.then(()=>t.notify("AnimationComplete",e))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:o})=>animateVisualElement(t,n,o)))}function createAnimationState(t){let e=animateList(t);const n=createState();let o=!0;const l=(d,p)=>{const m=resolveVariant(t,p);if(m){const{transition:v,transitionEnd:_,...S}=m;d={...d,...S,..._}}return d};function u(d){e=d(t)}function h(d,p){const m=t.getProps(),v=t.getVariantContext(!0)||{},_=[],S=new Set;let T={},A=1/0;for(let C=0;C<numAnimationTypes;C++){const O=reversePriorityOrder[C],L=n[O],F=m[O]!==void 0?m[O]:v[O],B=isVariantLabel(F),U=O===p?L.isActive:null;U===!1&&(A=C);let V=F===v[O]&&F!==m[O]&&B;if(V&&o&&t.manuallyAnimateOnMount&&(V=!1),L.protectedKeys={...T},!L.isActive&&U===null||!F&&!L.prevProp||isAnimationControls(F)||typeof F=="boolean")continue;let H=checkVariantsDidChange(L.prevProp,F)||O===p&&L.isActive&&!V&&B||C>A&&B,G=!1;const Y=Array.isArray(F)?F:[F];let Q=Y.reduce(l,{});U===!1&&(Q={});const{prevResolvedValues:ie={}}=L,ae={...ie,...Q},le=he=>{H=!0,S.has(he)&&(G=!0,S.delete(he)),L.needsAnimating[he]=!0};for(const he in ae){const ge=Q[he],J=ie[he];if(T.hasOwnProperty(he))continue;let se=!1;isKeyframesTarget(ge)&&isKeyframesTarget(J)?se=!shallowCompare(ge,J):se=ge!==J,se?ge!==void 0?le(he):S.add(he):ge!==void 0&&S.has(he)?le(he):L.protectedKeys[he]=!0}L.prevProp=F,L.prevResolvedValues=Q,L.isActive&&(T={...T,...Q}),o&&t.blockInitialAnimation&&(H=!1),H&&(!V||G)&&_.push(...Y.map(he=>({animation:he,options:{type:O,...d}})))}if(S.size){const C={};S.forEach(O=>{const L=t.getBaseTarget(O);L!==void 0&&(C[O]=L)}),_.push({animation:C})}let w=!!_.length;return o&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(w=!1),o=!1,w?e(_):Promise.resolve()}function f(d,p,m){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(S=>{var T;return(T=S.animationState)===null||T===void 0?void 0:T.setActive(d,p)}),n[d].isActive=p;const _=h(m,d);for(const S in n)n[S].protectedKeys={};return _}return{animateChanges:h,setActive:f,setAnimateFunction:u,getState:()=>n}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:o}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===l)return;const u=this.node.animationState.setActive("exit",!e,{custom:o??this.node.getProps().custom});n&&!e&&u.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),o=distance(t.y,e.y);return Math.sqrt(n**2+o**2)}class PanSession{constructor(e,n,{transformPagePoint:o,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=getPanInfo(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=distance2D(v.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:T}=v,{timestamp:A}=frameData;this.history.push({...T,timestamp:A});const{onStart:w,onMove:C}=this.handlers;_||(w&&w(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=transformPoint(_,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=getPanInfo(v.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,w),T&&T(v,w)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=o,this.contextWindow=l||window;const h=extractEventInfo(e),f=transformPoint(h,this.transformPagePoint),{point:d}=f,{timestamp:p}=frameData;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,getPanInfo(f,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const l=lastDevicePoint(t);for(;n>=0&&(o=t[n],!(l.timestamp-o.timestamp>secondsToMilliseconds(e)));)n--;if(!o)return{x:0,y:0};const u=millisecondsToSeconds(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const h={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function calcLength(t){return t.max-t.min}function isNear(t,e=0,n=.01){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,o=.5){t.origin=o,t.originPoint=mix(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mix(n.min,n.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,o){calcAxisDelta(t.x,e.x,n.x,o?o.originX:void 0),calcAxisDelta(t.y,e.y,n.y,o?o.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function applyConstraints(t,{min:e,max:n},o){return e!==void 0&&t<e?t=o?mix(e,t,o.min):Math.max(t,e):n!==void 0&&t>n&&(t=o?mix(n,t,o.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:o,right:l}){return{x:calcRelativeAxisConstraints(t.x,n,l),y:calcRelativeAxisConstraints(t.y,e,o)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const o=calcLength(t),l=calcLength(e);return l>o?n=progress(e.min,e.max-o,t.min):o>l&&(n=progress(t.min,t.max-l,e.min)),clamp$1(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const o=t-n,l=e*o;return n+l}function applyPointDelta(t,e,n,o,l){return l!==void 0&&(t=scalePoint(t,l,o)),scalePoint(t,n,o)+e}function applyAxisDelta(t,e=0,n=1,o,l){t.min=applyPointDelta(t.min,e,n,o,l),t.max=applyPointDelta(t.max,e,n,o,l)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}function applyTreeDeltas(t,e,n,o=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,h;for(let f=0;f<l;f++){u=n[f],h=u.projectionDelta;const d=u.instance;d&&d.style&&d.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,applyBoxDelta(t,h)),o&&hasTransform(u.latestValues)&&transformBox(t,u.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,[n,o,l]){const u=e[l]!==void 0?e[l]:.5,h=mix(t.min,t.max,u);applyAxisDelta(t,e[n],e[o],h,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(t,e){transformAxis(t.x,e,xKeys$1),transformAxis(t.y,e,yKeys$1)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const o=measureViewportBox(t,n),{scroll:l}=e;return l&&(translateAxis(o.x,l.offset.x),translateAxis(o.y,l.offset.y)),o}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(m,"page").point)},u=(m,v)=>{const{drag:_,dragPropagation:S,onDragStart:T}=this.getProps();if(_&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(w=>{let C=this.getAxisMotionValue(w).get()||0;if(percent.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const L=O.layout.layoutBox[w];L&&(C=calcLength(L)*(parseFloat(C)/100))}}this.originPoint[w]=C}),T&&frame.update(()=>T(m,v),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(m,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:T,onDrag:A}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:w}=v;if(S&&this.currentDirection===null){this.currentDirection=getCurrentDirection(w),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,w),this.updateAxis("y",v.point,w),this.visualElement.render(),A&&A(m,v)},f=(m,v)=>this.stop(m,v),d=()=>eachAxis(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&frame.update(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,o){const{drag:l}=this.getProps();if(!o||!shouldDrag(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=applyConstraints(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:o}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;n&&isRefObject$1(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=calcRelativeConstraints(l.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(o),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(h=>{this.getAxisMotionValue(h)&&(this.constraints[h]=rebaseAxisConstraints(l.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject$1(e))return!1;const o=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=measurePageBox(o,l.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(l.layout.layoutBox,u);if(n){const f=n(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!f,f&&(h=convertBoundingBoxToBox(f))}return h}startAnimation(e){const{drag:n,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=eachAxis(m=>{if(!shouldDrag(m,n,this.currentDirection))return;let v=d&&d[m]||{};h&&(v={min:0,max:0});const _=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:o?e[m]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const o=this.getAxisMotionValue(e);return o.start(animateMotionValue(e,o,0,n))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),o=this.visualElement.getProps(),l=o[n];return l||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:o}=this.getProps();if(!shouldDrag(n,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:h,max:f}=l.layout.layoutBox[n];u.set(e[n]-mix(h,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject$1(n)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};eachAxis(h=>{const f=this.getAxisMotionValue(h);if(f){const d=f.get();l[h]=calcOrigin({min:d,max:d},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,e,null))return;const f=this.getAxisMotionValue(h),{min:d,max:p}=this.constraints[h];f.set(mix(d,p,l[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),o=()=>{const{dragConstraints:d}=this.getProps();isRefObject$1(d)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),o();const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(eachAxis(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{h(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:h=defaultElastic,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:h,dragMomentum:f}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.update(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:o,onEnd:(u,h)=>{delete this.session,l&&frame.update(()=>l(u,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:o}=t,l=reactExports.useId();return reactExports.useEffect(()=>o(l),[]),!e&&n?[!1,()=>n&&n(l)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px$1.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),o=pixelsToPercent(t,e.target.y);return`${n}% ${o}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,l=complex.parse(t);if(l.length>5)return o;const u=complex.createTransformer(t),h=typeof l[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;l[0+h]/=f,l[1+h]/=d;const p=mix(f,d,.5);return typeof l[2+h]=="number"&&(l[2+h]/=p),typeof l[3+h]=="number"&&(l[3+h]/=p),u(l)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=e;addScaleCorrector(defaultScaleCorrectors),u&&(n.group&&n.group.add(u),o&&o.register&&l&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:o,drag:l,isPresent:u}=this.props,h=o.projection;return h&&(h.isPresent=u,l||e.layoutDependency!==n||n===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||frame.postRender(()=>{const f=h.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...t,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px$1.test(t);function mixValues(t,e,n,o,l,u){l?(t.opacity=mix(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(o)),t.opacityExit=mix(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(o))):u&&(t.opacity=mix(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let h=0;h<numBorders;h++){const f=`border${borders[h]}Radius`;let d=getRadius(e,f),p=getRadius(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||isPx(d)===isPx(p)?(t[f]=Math.max(mix(asNumber(d),asNumber(p),o),0),(percent.test(p)||percent.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mix(e.rotate||0,n.rotate||0,o))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(t,e,n){return o=>o<t?0:o>e?1:n(progress(t,e,o))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function removePointDelta(t,e,n,o,l){return t-=e,t=scalePoint(t,1/n,o),l!==void 0&&(t=scalePoint(t,1/l,o)),t}function removeAxisDelta(t,e=0,n=1,o=.5,l,u=t,h=t){if(percent.test(e)&&(e=parseFloat(e),e=mix(h.min,h.max,e/100)-h.min),typeof e!="number")return;let f=mix(u.min,u.max,o);t===u&&(f-=e),t.min=removePointDelta(t.min,e,n,f,l),t.max=removePointDelta(t.max,e,n,f,l)}function removeAxisTransforms(t,e,[n,o,l],u,h){removeAxisDelta(t,e[n],e[o],e[l],e.scale,u,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,o){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,o?o.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function boxEqualsRounded(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let o;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,n){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,n&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:o}=e;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let o="";const l=t.x.translate/e.x,u=t.y.translate/e.y;if((l||u)&&(o=`translate3d(${l}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:m}=n;d&&(o+=`rotate(${d}deg) `),p&&(o+=`rotateX(${p}deg) `),m&&(o+=`rotateY(${m}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(o+=`scale(${h}, ${f})`),o||"none"}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=performance.now(),o=({timestamp:l})=>{const u=l-n;u>=e&&(cancelFrame(o),t(u-e))};return frame.read(o,!0),()=>cancelFrame(o)}function record(t){window.MotionDebug&&window.MotionDebug.record(t)}function isSVGElement(t){return t instanceof SVGElement&&t.tagName!=="svg"}function animateSingleValue(t,e,n){const o=isMotionValue(t)?t:motionValue(t);return o.start(animateMotionValue("",o,e,n)),o.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(h={},f=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,f){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(f)}notifyListeners(h,...f){const d=this.eventHandlers.get(h);d&&d.notify(...f)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(h),this.instance=h;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||d)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=delay(_,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=m.getProps(),O=!this.targetLayout||!boxEqualsRounded(this.targetLayout,T)||S,L=!_&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,L);const F={...getValueTransition(A,"layout"),onPlay:w,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else _||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const f=performance.now();frameData.delta=clamp$1(0,1e3/60,f-frameData.timestamp),frameData.timestamp=f,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let f=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(f=!1),f&&(this.scroll={animationId:this.root.animationId,phase:h,isRoot:o(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const h=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;h&&(f||hasTransform(this.latestValues)||m)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return h&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return createBox();const f=h.measureViewportBox(),{scroll:d}=this.root;return d&&(translateAxis(f.x,d.offset.x),translateAxis(f.y,d.offset.y)),f}removeElementScroll(h){const f=createBox();copyBoxInto(f,h);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:v}=p;if(p!==this.root&&m&&v.layoutScroll){if(m.isRoot){copyBoxInto(f,h);const{scroll:_}=this.root;_&&(translateAxis(f.x,-_.offset.x),translateAxis(f.y,-_.offset.y))}translateAxis(f.x,m.offset.x),translateAxis(f.y,m.offset.y)}}return f}applyTransform(h,f=!1){const d=createBox();copyBoxInto(d,h);for(let p=0;p<this.path.length;p++){const m=this.path[p];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&transformBox(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),hasTransform(m.latestValues)&&transformBox(d,m.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(h){const f=createBox();copyBoxInto(f,h);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!hasTransform(p.latestValues))continue;hasScale(p.latestValues)&&p.updateSnapshot();const m=createBox(),v=p.measurePageBox();copyBoxInto(m,v),removeBoxTransforms(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return hasTransform(this.latestValues)&&removeBoxTransforms(f,this.latestValues),f}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,S.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox);const{target:T}=f;if(!T){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const A=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==_||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),h){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(h,f=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=createBox(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,A=S!==T,w=this.getStack(),C=!w||w.members.length<=1,O=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let L;this.mixTargetDelta=F=>{const B=F/1e3;mixAxisDelta(v.x,h.x,B),mixAxisDelta(v.y,h.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,_,B),L&&boxEquals(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=createBox()),copyBoxInto(L,this.relativeTarget)),A&&(this.animationValues=m,mixValues(m,p,this.latestValues,B,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...h,onUpdate:f=>{this.mixTargetDelta(f),h.onUpdate&&h.onUpdate(f)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:m}=h;if(!(!f||!d||!p)){if(this!==h&&this.layout&&p&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||createBox();const v=calcLength(this.layout.layoutBox.x);d.x.min=h.target.x.min,d.x.max=d.x.min+v;const _=calcLength(this.layout.layoutBox.y);d.y.min=h.target.y.min,d.y.max=d.y.min+_}copyBoxInto(f,d),transformBox(f,m),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(h,f){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:f}=this.options;return f?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:f}=this.options;return f?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),h&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetRotation(){const{visualElement:h}=this.options;if(!h)return;let f=!1;const{latestValues:d}=h;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(f=!0),!f)return;const p={};for(let m=0;m<transformAxes.length;m++){const v="rotate"+transformAxes[m];d[v]&&(p[v]=d[v],h.setStaticValue(v,0))}h.render();for(const m in p)h.setStaticValue(m,p[m]);h.scheduleRender()}getProjectionStyles(h){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,_),m&&(p.transform=m(_,p.transform));const{x:S,y:T}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(f=_.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const A in scaleCorrectors){if(_[A]===void 0)continue;const{correct:w,applyTo:C}=scaleCorrectors[A],O=p.transform==="none"?_[A]:w(_[A],v);if(C){const L=C.length;for(let F=0;F<L;F++)p[C[F]]=O}else p[A]=O}return this.options.layoutId&&(p.pointerEvents=v===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var f;return(f=h.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:l}=t.layout,{animationType:u}=t.options,h=n.source!==t.layout.source;u==="size"?eachAxis(v=>{const _=h?n.measuredBox[v]:n.layoutBox[v],S=calcLength(_);_.min=o[v].min,_.max=_.min+S}):shouldAnimatePositionOnly(u,n.layoutBox,o)&&eachAxis(v=>{const _=h?n.measuredBox[v]:n.layoutBox[v],S=calcLength(o[v]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const f=createDelta();calcBoxDelta(f,o,n.layoutBox);const d=createDelta();h?calcBoxDelta(d,t.applyTransform(l,!0),n.measuredBox):calcBoxDelta(d,o,n.layoutBox);const p=!isDeltaZero(f);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const T=createBox();calcRelativePosition(T,n.layoutBox,_.layoutBox);const A=createBox();calcRelativePosition(A,o,S.layoutBox),boxEqualsRounded(T,A)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function propagateDirtyNodes(t){projectionFrameData.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mix(e.translate,0,n),t.scale=mix(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,o){t.min=mix(e.min,n.min,o),t.max=mix(e.max,n.max,o)}function mixBox(t,e,n,o){mixAxis(t.x,e.x,n.x,o),mixAxis(t.y,e.y,n.y,o)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,o]=e;return[n,o]}function getVariableValue(t,e,n=1){const[o,l]=parseCSSVariable(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const h=u.trim();return isNumericalString(h)?parseFloat(h):h}else return isCSSVariableToken(l)?getVariableValue(l,e,n+1):l}function resolveCSSVariables(t,{...e},n){const o=t.current;if(!(o instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(l=>{const u=l.get();if(!isCSSVariableToken(u))return;const h=getVariableValue(u,o);h&&l.set(h)});for(const l in e){const u=e[l];if(!isCSSVariableToken(u))continue;const h=getVariableValue(u,o);h&&(e[l]=h,n||(n={}),n[l]===void 0&&(n[l]=u))}return{target:e,transitionEnd:n}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=t=>positionalKeys.has(t),hasPositionalKey=t=>Object.keys(t).some(isPositionalKey),isNumOrPxType=t=>t===number$3||t===px$1,getPosFromMatrix=(t,e)=>parseFloat(t.split(", ")[e]),getTranslateFromMatrix=(t,e)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const l=o.match(/^matrix3d\((.+)\)$/);if(l)return getPosFromMatrix(l[1],e);{const u=o.match(/^matrix\((.+)\)$/);return u?getPosFromMatrix(u[1],t):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const o=t.getValue(n);o!==void 0&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(t,e,n)=>{const o=e.measureViewportBox(),l=e.current,u=getComputedStyle(l),{display:h}=u,f={};h==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{f[p]=positionalValues[p](o,u)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(f[p]),t[p]=positionalValues[p](d,u)}),t},checkAndConvertChangedValueTypes=(t,e,n={},o={})=>{e={...e},o={...o};const l=Object.keys(e).filter(isPositionalKey);let u=[],h=!1;const f=[];if(l.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],v=findDimensionValueType(m);const _=e[d];let S;if(isKeyframesTarget(_)){const T=_.length,A=_[0]===null?1:0;m=_[A],v=findDimensionValueType(m);for(let w=A;w<T&&_[w]!==null;w++)S?invariant$1(findDimensionValueType(_[w])===S):S=findDimensionValueType(_[w])}else S=findDimensionValueType(_);if(v!==S)if(isNumOrPxType(v)&&isNumOrPxType(S)){const T=p.get();typeof T=="string"&&p.set(parseFloat(T)),typeof _=="string"?e[d]=parseFloat(_):Array.isArray(_)&&S===px$1&&(e[d]=_.map(parseFloat))}else v!=null&&v.transform&&(S!=null&&S.transform)&&(m===0||_===0)?m===0?p.set(S.transform(m)):e[d]=v.transform(_):(h||(u=removeNonTranslationalTransform(t),h=!0),f.push(d),o[d]=o[d]!==void 0?o[d]:e[d],p.jump(_))}),f.length){const d=f.indexOf("height")>=0?window.pageYOffset:null,p=convertChangedValueTypes(e,t,f);return u.length&&u.forEach(([m,v])=>{t.getValue(m).set(v)}),t.render(),isBrowser&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:o}}else return{target:e,transitionEnd:o}};function unitConversion(t,e,n,o){return hasPositionalKey(e)?checkAndConvertChangedValueTypes(t,e,n,o):{target:e,transitionEnd:o}}const parseDomVariant=(t,e,n,o)=>{const l=resolveCSSVariables(t,e,o);return e=l.target,o=l.transitionEnd,unitConversion(t,e,n,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(t,e,n){const{willChange:o}=e;for(const l in e){const u=e[l],h=n[l];if(isMotionValue(u))t.addValue(l,u),isWillChangeMotionValue(o)&&o.add(l);else if(isMotionValue(h))t.addValue(l,motionValue(u,{owner:t})),isWillChangeMotionValue(o)&&o.remove(l);else if(h!==u)if(t.hasValue(l)){const f=t.getValue(l);!f.hasAnimated&&f.set(u)}else{const f=t.getStaticValue(l);t.addValue(l,motionValue(f!==void 0?f:u,{owner:t}))}}for(const l in n)e[l]===void 0&&t.removeValue(l);return e}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:e,props:n,presenceContext:o,reducedMotionConfig:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const v in m){const _=m[v];f[v]!==void 0&&isMotionValue(_)&&(_.set(f[v],!1),isWillChangeMotionValue(p)&&p.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const o=transformProps.has(e),l=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{l(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},o,l,u){let h,f;for(let d=0;d<numFeatures;d++){const p=featureNames[d],{isEnabled:m,Feature:v,ProjectionNode:_,MeasureLayout:S}=featureDefinitions[p];_&&(h=_),m(n)&&(!this.features[p]&&v&&(this.features[p]=new v(this)),S&&(f=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:v,layoutScroll:_,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||v&&isRefObject$1(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:u,layoutScroll:_,layoutRoot:S})}return f}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<propEventHandlers.length;o++){const l=propEventHandlers[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u=e["on"+l];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const n={};for(let o=0;o<numVariantProps;o++){const l=variantProps[o],u=this.props[l];(isVariantLabel(u)||u===!1)&&(n[l]=u)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&n!==void 0&&(o=motionValue(n,{owner:this}),this.addValue(e,o)),o}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:o}=this.props,l=typeof o=="string"||typeof o=="object"?(n=resolveVariantFromProps(this.props,o))===null||n===void 0?void 0:n[e]:void 0;if(o&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!isMotionValue(u)?u:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:o}){delete n[e],delete o[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...o},{transformValues:l},u){let h=getOrigin(o,e||{},this);if(l&&(n&&(n=l(n)),o&&(o=l(o)),h&&(h=l(h))),u){checkTargetForNewValues(this,o,h);const f=parseDomVariant(this,o,h,n);n=f.transitionEnd,o=f.target}return{transition:e,transitionEnd:n,...o}}}function getComputedStyle$2(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}else{const o=getComputedStyle$2(e),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,o,l){buildHTMLStyles(e,n,o,l.transformTemplate)}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps$1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,o,l){renderHTML(e,n,o,l)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps(e,n)}build(e,n,o,l){buildSVGAttrs(e,n,o,this.isSVGTag,l.transformTemplate)}renderInstance(e,n,o,l){renderSVG(e,n,o,l)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((t,e)=>createDomMotionConfig(t,e,preloadedFeatures,createDomVisualElement));function stopAnimation(t){t.values.forEach(e=>e.stop())}function animationControls(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,o){const l=[];return t.forEach(u=>{l.push(animateVisualElement(u,n,{transitionOverride:o}))}),Promise.all(l)},set(n){return t.forEach(o=>{setValues(o,n)})},stop(){t.forEach(n=>{stopAnimation(n)})},mount(){return()=>{e.stop()}}};return e}function useAnimationControls(){const t=useConstant(animationControls);return useIsomorphicLayoutEffect$2(t.mount,[]),t}const useAnimation=useAnimationControls;var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function getRootId(t){return t?(RootIds.has(t)||(rootId+=1,RootIds.set(t,rootId.toString())),RootIds.get(t)):"0"}function optionsToId(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?getRootId(t.root):t[e]}`).toString()}function createObserver(t){const e=optionsToId(t);let n=observerMap.get(e);if(!n){const o=new Map;let l;const u=new IntersectionObserver(h=>{h.forEach(f=>{var d;const p=f.isIntersecting&&l.some(m=>f.intersectionRatio>=m);t.trackVisibility&&typeof f.isVisible>"u"&&(f.isVisible=p),(d=o.get(f.target))==null||d.forEach(m=>{m(p,f)})})},t);l=u.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:u,elements:o},observerMap.set(e,n)}return n}function observe(t,e,n={},o=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const d=t.getBoundingClientRect();return e(o,{isIntersecting:o,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:l,observer:u,elements:h}=createObserver(n),f=h.get(t)||[];return h.has(t)||h.set(t,f),f.push(e),u.observe(t),function(){f.splice(f.indexOf(e),1),f.length===0&&(h.delete(t),u.unobserve(t)),h.size===0&&(u.disconnect(),observerMap.delete(l))}}function useInView({threshold:t,delay:e,trackVisibility:n,rootMargin:o,root:l,triggerOnce:u,skip:h,initialInView:f,fallbackInView:d,onChange:p}={}){var m;const[v,_]=reactExports.useState(null),S=reactExports.useRef(p),[T,A]=reactExports.useState({inView:!!f,entry:void 0});S.current=p,reactExports.useEffect(()=>{if(h||!v)return;let L;return L=observe(v,(F,B)=>{A({inView:F,entry:B}),S.current&&S.current(F,B),B.isIntersecting&&u&&L&&(L(),L=void 0)},{root:l,rootMargin:o,threshold:t,trackVisibility:n,delay:e},d),()=>{L&&L()}},[Array.isArray(t)?t.toString():t,v,l,o,u,h,n,d,e]);const w=(m=T.entry)==null?void 0:m.target,C=reactExports.useRef(void 0);!v&&w&&!u&&!h&&C.current!==w&&(C.current=w,A({inView:!!f,entry:void 0}));const O=[_,T.inView,T.entry];return O.ref=O[0],O.inView=O[1],O.entry=O[2],O}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:f="",children:d,...p},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:l,height:l,stroke:o,strokeWidth:h?Number(u)*24/Number(l):u,className:["lucide",`lucide-${toKebabCase(t)}`,f].join(" "),...p},[...e.map(([v,_])=>reactExports.createElement(v,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AreaChart=createLucideIcon("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRightCircle=createLucideIcon("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bug=createLucideIcon("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudRain=createLucideIcon("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cloud$1=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpu=createLucideIcon("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplet=createLucideIcon("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplets=createLucideIcon("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gauge=createLucideIcon("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Leaf=createLucideIcon("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenTool=createLucideIcon("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ruler=createLucideIcon("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Satellite=createLucideIcon("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scaling=createLucideIcon("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sprout=createLucideIcon("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun$1=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sunrise=createLucideIcon("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sunset=createLucideIcon("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Thermometer=createLucideIcon("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wind=createLucideIcon("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Hero=({title:t,subtitle:e,ctaText:n,ctaLink:o,secondaryCtaText:l,secondaryCtaLink:u,imageUrl:h})=>jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-b from-primary-50 to-white pt-32 pb-16 md:pt-40 md:pb-24",children:[jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:[jsxRuntimeExports.jsx("h1",{className:"text-primary-800 font-bold mb-4 leading-tight",children:t}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-lg",children:e}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:o,className:"btn btn-primary",children:n}),l&&u&&jsxRuntimeExports.jsx(Link,{to:u,className:"btn btn-outline",children:l})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:[jsxRuntimeExports.jsx("img",{src:h,alt:"Cotton field",className:"rounded-lg shadow-xl w-full object-cover h-80 lg:h-96"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-primary-600 opacity-20 rounded-lg"})]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:jsxRuntimeExports.jsx("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,128L80,144C160,160,320,192,480,186.7C640,181,800,139,960,128C1120,117,1280,139,1360,149.3L1440,160L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"})})})]}),SectionHeader=({title:t,subtitle:e,centered:n=!1})=>{const[o,l]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs(motion.div,{ref:o,initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6},className:`mb-8 sm:mb-12 px-4 ${n?"text-center":""}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary-800 break-words",children:t}),e&&jsxRuntimeExports.jsx("p",{className:`text-base sm:text-lg text-gray-600 mt-3 leading-relaxed ${n?"max-w-2xl mx-auto":""}`,children:e}),jsxRuntimeExports.jsx("div",{className:`h-1 mt-4 rounded ${n?"mx-auto":""} bg-primary-600`,style:{width:n?"4rem":"3rem"}})]})},InfoCard=({title:t,description:e,content:n,icon:o,delay:l=0,illustration:u})=>{const h=e||n,[f]=useInView({triggerOnce:!0,threshold:.3}),d={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,delay:l*.1,ease:"easeOut"}},hover:{scale:1.05,zIndex:10,transition:{duration:.2,ease:"easeInOut"}},notHovered:{scale:.95,opacity:.7,transition:{duration:.2,ease:"easeInOut"}}},p={hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{duration:.5,delay:l*.1+.2,type:"spring",stiffness:200}}};return jsxRuntimeExports.jsxs(motion.div,{ref:f,variants:d,initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,amount:.3},className:"bg-white rounded-lg p-6 shadow-md hover:shadow-xl transition-all relative overflow-hidden group",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative z-10",whileHover:{scale:1.05},children:[o&&jsxRuntimeExports.jsx(motion.div,{variants:p,className:"flex items-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-100 p-3 rounded-lg",children:jsxRuntimeExports.jsx(o,{className:"w-6 h-6 text-primary-600"})})}),jsxRuntimeExports.jsx(motion.h3,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:l*.1+.3},className:"text-xl font-semibold mb-2 text-gray-800",children:t}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:l*.1+.4},className:"text-gray-600",children:h})]}),u&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:.1,scale:1},transition:{delay:l*.1+.5},className:"absolute -bottom-8 -right-8 w-32 h-32 pointer-events-none",children:jsxRuntimeExports.jsx("img",{src:u,alt:"",className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},whileInView:{scale:1},transition:{delay:l*.1+.6},className:"absolute -bottom-12 -right-12 w-24 h-24 bg-primary-100 rounded-full opacity-10"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-primary-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},VideoPlayer=({src:t,title:e,poster:n,initialMuted:o=!0})=>{const[l,u]=React.useState(!1),[h,f]=React.useState(o),d=React.useRef(null);React.useEffect(()=>{d.current&&(d.current.muted=h)},[h]);const p=()=>{d.current&&(l?d.current.pause():d.current.play())},m=()=>{d.current&&(d.current.muted=!h,f(!h))},v=()=>u(!0),_=()=>u(!1),S=()=>u(!1),T=()=>console.error("Erro ao carregar o vdeo.");return jsxRuntimeExports.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg group",children:[jsxRuntimeExports.jsx("video",{ref:d,className:"w-full aspect-video object-cover",src:t,poster:n,muted:h,playsInline:!0,onPlay:v,onPause:_,onEnded:S,onError:T}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:p,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":l?"Pausar vdeo":"Reproduzir vdeo",children:l?jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6 text-primary-600"}):jsxRuntimeExports.jsx(Play,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsx("button",{onClick:m,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":h?"Ativar som":"Desativar som",children:h?jsxRuntimeExports.jsx(VolumeX,{className:"w-6 h-6 text-primary-600"}):jsxRuntimeExports.jsx(Volume2,{className:"w-6 h-6 text-primary-600"})})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent",children:jsxRuntimeExports.jsx("h3",{className:"text-white font-medium",children:e})})]})},VideoPlayer2="/FlowCot/assets/cottoon-Bxw0KXl5.mp4",Produtor="/FlowCot/assets/produtor-BPq7HQh_.png",HomePage=()=>{reactExports.useEffect(()=>{document.title="FlowCot"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Hero,{title:"Yield Gap do Algodo no Brasil",subtitle:"Maximizando a produtividade para um futuro sustentvel da cotonicultura brasileira",imageUrl:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),jsxRuntimeExports.jsx("section",{className:"section",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"O Que  o Yield Gap?",subtitle:"Entenda a diferena entre o potencial produtivo e a realidade nas lavouras de algodo brasileiras.",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-10",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2",children:jsxRuntimeExports.jsx(VideoPlayer,{src:VideoPlayer2,title:"",poster:Produtor})}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2",children:jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:20},animate:e?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Por que isso importa?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-gray-700",children:["O ",jsxRuntimeExports.jsx("strong",{children:"yield gap"})," (lacuna de produtividade) representa a diferena entre a produtividade potencial que poderia ser alcanada em condies ideais e a produtividade real obtida nas fazendas brasileiras."]}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Reduzir essa lacuna significa aumentar a produo sem expandir a rea plantada, resultando em maior eficincia, sustentabilidade e lucratividade."}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Link,{to:"/what-is-yield-gap",className:"btn btn-primary",children:"Entenda o Conceito"})})]})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Explorando o Yield Gap",subtitle:"Conhea as principais reas de estudo para entender e solucionar o yield gap do algodo no Brasil.",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(InfoCard,{title:"O Que  Yield Gap",description:"Entenda o conceito, os tipos de produtividade e a importncia de reduzir essa lacuna.",icon:Sprout,delay:0,illustration:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Evoluo Histrica",description:"Conhea a evoluo do yield gap na cotonicultura brasileira desde 2000 at 2025.",icon:BarChart3,delay:1,illustration:"https://images.pexels.com/photos/4946994/pexels-photo-4946994.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Ferramentas de Anlise",description:"Descubra as principais tecnologias e metodologias para identificar e quantificar o yield gap.",icon:PenTool,delay:2,illustration:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Solues Prticas",description:"Conhea as melhores prticas e tecnologias para reduzir o yield gap e aumentar a produtividade.",icon:BookOpen,delay:3,illustration:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg"})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0,amount:.3},children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold mb-6 text-primary-800",children:"Transforme sua produo de algodo"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Nosso objetivo  fornecer conhecimento e solues prticas para agricultores, pesquisadores e estudantes interessados em melhorar a produtividade do algodo brasileiro."}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700",children:"Atravs de contedo educacional, ferramentas de anlise e recomendaes baseadas em evidncias cientficas, queremos contribuir para uma cotonicultura mais eficiente e sustentvel."}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4",children:jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"btn btn-primary",children:"Passos Prticos"})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"relative",children:[jsxRuntimeExports.jsx(VideoPlayer,{src:"",title:"Transformando a Cotonicultura",poster:"https://images.pexels.com/photos/1166209/pexels-photo-1166209.jpeg"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 bg-primary-600 text-white font-semibold py-2 px-4 rounded-tl-lg rounded-br-lg",children:"Inovao na Cotonicultura"})]})]})})}),jsxRuntimeExports.jsx("section",{className:"section bg-gray-900 text-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Pronto para maximizar sua produtividade?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 mb-8 max-w-3xl mx-auto",children:"Descubra como reduzir o yield gap e aumentar a eficincia da sua produo de algodo."})]})})]})},YieldGapInfoGraphic=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.2}),n={hidden:{width:0},visible:o=>({width:`${o}%`,transition:{duration:1,delay:o*.01}})};return jsxRuntimeExports.jsxs(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6 md:p-8",initial:{opacity:0},animate:e?{opacity:1}:{opacity:0},transition:{duration:.5},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-6 text-center text-primary-800",children:"Entendendo o Yield Gap no Algodo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-10 my-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Potencial (PP)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-primary-800",children:"100%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-primary-600 rounded-full",custom:100,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento mximo terico que poderia ser alcanado em condies ideais, sem limitaes."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Atingvel (PA)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-accent-600",children:"80%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-accent-500 rounded-full",custom:80,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento mximo que poderia ser alcanado com as melhores prticas de manejo disponveis."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Real (PR)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-warning-600",children:"50%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-warning-500 rounded-full",custom:50,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento que os agricultores realmente alcanam nas condies atuais de cultivo."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-4 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Yield Gap = Produtividade Atingvel - Produtividade Real"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:'O "yield gap" representa a diferena entre o que poderia ser produzido (PA) e o que realmente  produzido (PR). Reduzir este gap significa aumentar a produtividade sem necessariamente expandir a rea plantada.'})]})]})},Ref1="/FlowCot/assets/produtividade-algodao-Dz0QKJEZ.jpg",WhatIsYieldGap=()=>{reactExports.useEffect(()=>{document.title="O que  Yield Gap no Algodo? | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),[n,o]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{className:"pt-20 sm:pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50 px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"O que  Yield Gap no Algodo?",subtitle:"Entenda a diferena entre o potencial produtivo e a realidade nas lavouras de algodo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-10 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},className:"order-2 lg:order-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-primary-800",children:"Compreendendo o Conceito"}),jsxRuntimeExports.jsxs("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base text-gray-700",children:["O ",jsxRuntimeExports.jsx("strong",{children:"yield gap"})," ou ",jsxRuntimeExports.jsx("strong",{children:"lacuna de produtividade"}),"  a diferena entre o que poderia ser produzido e o que  realmente produzido nas lavouras de algodo. Esta lacuna pode ser definida de diferentes formas, considerando diferentes nveis de produtividade:"]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 mb-3 sm:mb-4 text-sm sm:text-base text-gray-700",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Potencial (PP):"}),"  o mximo rendimento terico que poderia ser alcanado em condies ideais, sem limitaes de gua, nutrientes ou ocorrncia de pragas e doenas."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Atingvel (PA):"}),"  o rendimento mximo que poderia ser alcanado com as melhores prticas de manejo disponveis, considerando algumas limitaes ambientais inevitveis."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Real (PR):"}),"  o rendimento que os agricultores realmente alcanam nas condies atuais de cultivo."]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:'A diferena entre PA e PR  frequentemente considerada o "yield gap" explorvel, pois representa a produtividade que poderia ser alcanada com a adoo de prticas de manejo melhoradas.'})]}),jsxRuntimeExports.jsx(motion.div,{ref:n,initial:{opacity:0,x:20},animate:o?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6},className:"order-1 lg:order-2",children:jsxRuntimeExports.jsx("img",{src:Ref1,alt:"Campo de algodo",className:"rounded-lg shadow-md w-full h-auto",loading:"lazy"})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white px-4 sm:px-0",children:jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-10",children:[jsxRuntimeExports.jsx("div",{className:"order-2 lg:order-1",children:jsxRuntimeExports.jsx(YieldGapInfoGraphic,{})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"flex flex-col justify-center order-1 lg:order-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-primary-800",children:"Por que o Yield Gap existe?"}),jsxRuntimeExports.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base text-gray-700",children:"O yield gap no algodo brasileiro pode ser atribudo a diversos fatores, que podem ser classificados em diferentes categorias:"}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fatores Biofsicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-xs sm:text-sm text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Limitaes climticas (dficit hdrico, temperaturas extremas)"}),jsxRuntimeExports.jsx("li",{children:"Caractersticas do solo (fertilidade, compactao)"}),jsxRuntimeExports.jsx("li",{children:"Ocorrncia de pragas, doenas e plantas daninhas"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fatores Tecnolgicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-xs sm:text-sm text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Acesso limitado a variedades melhoradas"}),jsxRuntimeExports.jsx("li",{children:"Prticas inadequadas de manejo"}),jsxRuntimeExports.jsx("li",{children:"Baixo nvel de mecanizao e tecnologia"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fatores Socioeconmicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-xs sm:text-sm text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Restries de capital e acesso a crdito"}),jsxRuntimeExports.jsx("li",{children:"Falta de conhecimento tcnico"}),jsxRuntimeExports.jsx("li",{children:"Infraestrutura deficiente (estradas, armazenamento)"}),jsxRuntimeExports.jsx("li",{children:"Polticas pblicas inadequadas"})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-700",children:"Compreender esses fatores  essencial para desenvolver estratgias eficazes de reduo do yield gap e aumento da produtividade do algodo no Brasil."})]})]})})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50 px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Importncia da Reduo do Yield Gap",subtitle:"Por que devemos nos preocupar em reduzir a lacuna de produtividade no algodo?",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:0},viewport:{once:!0},className:"card p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-primary-800",children:"Sustentabilidade Ambiental"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Aumentar a produtividade nas reas j cultivadas reduz a presso para expandir a fronteira agrcola, protegendo biomas naturais e contribuindo para a conservao da biodiversidade e recursos naturais."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"card p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-primary-800",children:"Viabilidade Econmica"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Maior produtividade significa melhor aproveitamento dos recursos e insumos, resultando em maior rentabilidade para os produtores e fortalecimento da cadeia produtiva do algodo brasileiro."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"card p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-primary-800",children:"Competitividade Global"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"A reduo do yield gap aumenta a competitividade do algodo brasileiro no mercado internacional, contribuindo para o fortalecimento da posio do Brasil como um dos principais produtores mundiais."})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-800",children:"Uma analogia para entender melhor"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 sm:mb-4",children:"Pense no yield gap como a diferena entre a velocidade mxima que um carro pode atingir (produtividade potencial) e a velocidade mdia que ele realmente mantm em uma viagem (produtividade real). Diversos fatores podem reduzir essa velocidade: condies da estrada, habilidade do motorista, congestionamento, limitaes do veculo, etc."}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Da mesma forma, o yield gap na produo de algodo  influenciado por mltiplos fatores que impedem que a lavoura atinja seu potencial mximo. Identificar e solucionar esses gargalos  como melhorar as condies da viagem para chegar mais rpido ao destino - ou, no caso do algodo, alcanar maior produtividade."})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(t){return t+.5|0}const lim=(t,e,n)=>Math.max(Math.min(t,n),e);function p2b(t){return lim(round$1(t*2.55),0,255)}function n2b(t){return lim(round$1(t*255),0,255)}function b2n(t){return lim(round$1(t/2.55)/100,0,1)}function n2p(t){return lim(round$1(t*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=t=>hex$1[t&15],h2=t=>hex$1[(t&240)>>4]+hex$1[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&map$1$1[t[1]]*17,g:255&map$1$1[t[2]]*17,b:255&map$1$1[t[3]]*17,a:e===5?map$1$1[t[4]]*17:255}:(e===7||e===9)&&(n={r:map$1$1[t[1]]<<4|map$1$1[t[2]],g:map$1$1[t[3]]<<4|map$1$1[t[4]],b:map$1$1[t[5]]<<4|map$1$1[t[6]],a:e===9?map$1$1[t[7]]<<4|map$1$1[t[8]]:255})),n}const alpha$1=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha$1(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,n){const o=e*Math.min(n,1-n),l=(u,h=(u+t/30)%12)=>n-o*Math.max(Math.min(h-3,9-h,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(t,e,n){const o=(l,u=(l+t/60)%6)=>n-n*e*Math.max(Math.min(u,4-u,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(t,e,n){const o=hsl2rgbn(t,1,.5);let l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)o[l]*=1-e-n,o[l]+=e;return o}function hueValue(t,e,n,o,l){return t===l?(e-n)/o+(e<n?6:0):e===l?(n-t)/o+2:(t-e)/o+4}function rgb2hsl(t){const n=t.r/255,o=t.g/255,l=t.b/255,u=Math.max(n,o,l),h=Math.min(n,o,l),f=(u+h)/2;let d,p,m;return u!==h&&(m=u-h,p=f>.5?m/(2-u-h):m/(u+h),d=hueValue(n,o,l,m,u),d=d*60+.5),[d|0,p||0,f]}function calln(t,e,n,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,o)).map(n2b)}function hsl2rgb$1(t,e,n){return calln(hsl2rgbn,t,e,n)}function hwb2rgb(t,e,n){return calln(hwb2rgbn,t,e,n)}function hsv2rgb(t,e,n){return calln(hsv2rgbn,t,e,n)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let n=255,o;if(!e)return;e[5]!==o&&(n=e[6]?p2b(+e[5]):n2b(+e[5]));const l=hue(+e[2]),u=+e[3]/100,h=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(l,u,h):e[1]==="hsv"?o=hsv2rgb(l,u,h):o=hsl2rgb$1(l,u,h),{r:o[0],g:o[1],b:o[2],a:n}}function rotate(t,e){var n=rgb2hsl(t);n[0]=hue(n[0]+e),n=hsl2rgb$1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),n=e[0],o=n2p(e[1]),l=n2p(e[2]);return t.a<255?`hsla(${n}, ${o}%, ${l}%, ${b2n(t.a)})`:`hsl(${n}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),n=Object.keys(map$2);let o,l,u,h,f;for(o=0;o<e.length;o++){for(h=f=e[o],l=0;l<n.length;l++)u=n[l],f=f.replace(u,map$2[u]);u=parseInt(names$1[h],16),t[f]=[u>>16&255,u>>8&255,u&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let n=255,o,l,u;if(e){if(e[7]!==o){const h=+e[7];n=e[8]?p2b(h):lim(h*255,0,255)}return o=+e[1],l=+e[3],u=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),l=255&(e[4]?p2b(l):lim(l,0,255)),u=255&(e[6]?p2b(u):lim(u,0,255)),{r:o,g:l,b:u,a:n}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$2(t,e,n){const o=from(b2n(t.r)),l=from(b2n(t.g)),u=from(b2n(t.b));return{r:n2b(to(o+n*(from(b2n(e.r))-o))),g:n2b(to(l+n*(from(b2n(e.g))-l))),b:n2b(to(u+n*(from(b2n(e.b))-u))),a:t.a+n*(e.a-t.a)}}function modHSL(t,e,n){if(t){let o=rgb2hsl(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*n,e===0?360:1)),o=hsl2rgb$1(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function clone$2(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$2(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}let Color$2=class ku{constructor(e){if(e instanceof ku)return e;const n=typeof e;let o;n==="object"?o=fromObject(e):n==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone$2(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,n){if(e){const o=this.rgb,l=e.rgb;let u;const h=n===u?.5:n,f=2*h-1,d=o.a-l.a,p=((f*d===-1?f:(f+d)/(1+f*d))+1)/2;u=1-p,o.r=255&p*o.r+u*l.r+.5,o.g=255&p*o.g+u*l.g+.5,o.b=255&p*o.b+u*l.b+.5,o.a=h*o.a+(1-h)*l.a,this.rgb=o}return this}interpolate(e,n){return e&&(this._rgb=interpolate$2(this._rgb,e._rgb,n)),this}clone(){return new ku(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=round$1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray$1(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$1(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function each(t,e,n,o){let l,u,h;if(isArray$1(t))for(u=t.length,l=0;l<u;l++)e.call(n,t[l],l);else if(isObject$1(t))for(h=Object.keys(t),u=h.length,l=0;l<u;l++)e.call(n,t[h[l]],h[l])}function _elementsEqual(t,e){let n,o,l,u;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(l=t[n],u=e[n],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function clone$1(t){if(isArray$1(t))return t.map(clone$1);if(isObject$1(t)){const e=Object.create(null),n=Object.keys(t),o=n.length;let l=0;for(;l<o;++l)e[n[l]]=clone$1(t[n[l]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,n,o){if(!isValidKey(t))return;const l=e[t],u=n[t];isObject$1(l)&&isObject$1(u)?merge(l,u,o):e[t]=clone$1(u)}function merge(t,e,n){const o=isArray$1(e)?e:[e],l=o.length;if(!isObject$1(t))return t;n=n||{};const u=n.merger||_merger;let h;for(let f=0;f<l;++f){if(h=o[f],!isObject$1(h))continue;const d=Object.keys(h);for(let p=0,m=d.length;p<m;++p)u(d[p],t,h,n)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,n){if(!isValidKey(t))return;const o=e[t],l=n[t];isObject$1(o)&&isObject$1(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(l))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),n=[];let o="";for(const l of e)o+=l,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}function _getKeyResolver(t){const e=_splitKey(t);return n=>{for(const o of e){if(o==="")break;n=n&&n[o]}return n}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined$1=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$2=Math.sign;function almostEquals(t,e,n){return Math.abs(t-e)<n}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(log10(t))),o=t/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function _factorize(t){const e=[],n=Math.sqrt(t);let o;for(o=1;o<n;o++)t%o===0&&(e.push(o),e.push(t/o));return n===(n|0)&&e.push(n),e.sort((l,u)=>l-u).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber$2(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _setMinAndMaxByKey(t,e,n){let o,l,u;for(o=0,l=t.length;o<l;o++)u=t[o][n],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function getAngleFromPoint(t,e){const n=e.x-t.x,o=e.y-t.y,l=Math.sqrt(n*n+o*o);let u=Math.atan2(o,n);return u<-.5*PI&&(u+=TAU),{angle:u,distance:l}}function distanceBetweenPoints$1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+PITAU)%TAU-PI}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,n,o){const l=_normalizeAngle(t),u=_normalizeAngle(e),h=_normalizeAngle(n),f=_normalizeAngle(u-l),d=_normalizeAngle(h-l),p=_normalizeAngle(l-u),m=_normalizeAngle(l-h);return l===u||l===h||o&&u===h||f>d&&p<m}function _limitValue(t,e,n){return Math.max(e,Math.min(n,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,n,o=1e-6){return t>=Math.min(e,n)-o&&t<=Math.max(e,n)+o}function _lookup(t,e,n){n=n||(h=>t[h]<e);let o=t.length-1,l=0,u;for(;o-l>1;)u=l+o>>1,n(u)?l=u:o=u;return{lo:l,hi:o}}const _lookupByKey=(t,e,n,o)=>_lookup(t,n,o?l=>{const u=t[l][e];return u<n||u===n&&t[l+1][e]===n}:l=>t[l][e]<n),_rlookupByKey=(t,e,n)=>_lookup(t,n,o=>t[o][e]>=n);function _filterBetween(t,e,n){let o=0,l=t.length;for(;o<l&&t[o]<e;)o++;for(;l>o&&t[l-1]>n;)l--;return o>0||l<t.length?t.slice(o,l):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(n=>{const o="_onData"+_capitalize(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...u){const h=l.apply(this,u);return t._chartjs.listeners.forEach(f=>{typeof f[o]=="function"&&f[o](...u)}),h}})})}function unlistenArrayEvents(t,e){const n=t._chartjs;if(!n)return;const o=n.listeners,l=o.indexOf(e);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(u=>{delete t[u]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e){let n=[],o=!1;return function(...l){n=l,o||(o=!0,requestAnimFrame.call(window,()=>{o=!1,t.apply(e,n)}))}}function debounce(t,e){let n;return function(...o){return e?(clearTimeout(n),n=setTimeout(t,e,o)):t.apply(this,o),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_textX=(t,e,n,o)=>t===(o?"left":"right")?n:t==="center"?(e+n)/2:e;function _getStartAndCountOfVisiblePoints(t,e,n){const o=e.length;let l=0,u=o;if(t._sorted){const{iScale:h,vScale:f,_parsed:d}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=h.axis,{min:v,max:_,minDefined:S,maxDefined:T}=h.getUserBounds();if(S){if(l=Math.min(_lookupByKey(d,m,v).lo,n?o:_lookupByKey(e,m,h.getPixelForValue(v)).lo),p){const A=d.slice(0,l+1).reverse().findIndex(w=>!isNullOrUndef(w[f.axis]));l-=Math.max(0,A)}l=_limitValue(l,0,o-1)}if(T){let A=Math.max(_lookupByKey(d,h.axis,_,!0).hi+1,n?0:_lookupByKey(e,m,h.getPixelForValue(_),!0).hi+1);if(p){const w=d.slice(A-1).findIndex(C=>!isNullOrUndef(C[f.axis]));A+=Math.max(0,w)}u=_limitValue(A,l,o)-l}else u=o-l}return{start:l,count:u}}function _scaleRangesChanged(t){const{xScale:e,yScale:n,_scaleRanges:o}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!o)return t._scaleRanges=l,!0;const u=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,l),u}const atEdge=t=>t===0||t===1,elasticIn=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/n)),elasticOut=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/n)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color$1(t){return isPatternOrGradient(t)?t:new Color$2(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color$2(t).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const n=t+JSON.stringify(e);let o=intlCache.get(n);return o||(o=new Intl.NumberFormat(t,e),intlCache.set(n,o)),o}function formatNumber(t,e,n){return getNumberFormat(e,n).format(t)}const formatters={values(t){return isArray$1(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const o=this.chart.options.locale;let l,u=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(l="scientific"),u=calculateDelta(t,n)}const h=log10(Math.abs(u)),f=isNaN(h)?1:Math.max(Math.min(-1*Math.floor(h),20),0),d={notation:l,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(d,this.options.ticks.format),formatNumber(t,o,d)}};function calculateDelta(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const n=e.split(".");for(let o=0,l=n.length;o<l;++o){const u=n[o];t=t[u]||(t[u]=Object.create(null))}return t}function set(t,e,n){return typeof e=="string"?merge(getScope$1(t,e),n):merge(getScope$1(t,""),e)}class Defaults{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,l)=>getHoverColor(l.backgroundColor),this.hoverBorderColor=(o,l)=>getHoverColor(l.borderColor),this.hoverColor=(o,l)=>getHoverColor(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return set(this,e,n)}get(e){return getScope$1(this,e)}describe(e,n){return set(descriptors,e,n)}override(e,n){return set(overrides,e,n)}route(e,n,o,l){const u=getScope$1(this,e),h=getScope$1(this,o),f="_"+n;Object.defineProperties(u,{[f]:{value:u[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[f],p=h[l];return isObject$1(d)?Object.assign({},p,d):valueOrDefault(d,p)},set(d){this[f]=d}}})}apply(e){e.forEach(n=>n(this))}}var defaults$1=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,n,o,l){let u=e[l];return u||(u=e[l]=t.measureText(l).width,n.push(l)),u>o&&(o=u),o}function _alignPixel(t,e,n){const o=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*o)/o+l}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,n,o){drawPointLegend(t,e,n,o,null)}function drawPointLegend(t,e,n,o,l){let u,h,f,d,p,m,v,_;const S=e.pointStyle,T=e.rotation,A=e.radius;let w=(T||0)*RAD_PER_DEG;if(S&&typeof S=="object"&&(u=S.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){t.save(),t.translate(n,o),t.rotate(w),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(A)||A<=0)){switch(t.beginPath(),S){default:l?t.ellipse(n,o,l/2,A,0,0,TAU):t.arc(n,o,A,0,TAU),t.closePath();break;case"triangle":m=l?l/2:A,t.moveTo(n+Math.sin(w)*m,o-Math.cos(w)*A),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*A),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*A),t.closePath();break;case"rectRounded":p=A*.516,d=A-p,h=Math.cos(w+QUARTER_PI)*d,v=Math.cos(w+QUARTER_PI)*(l?l/2-p:d),f=Math.sin(w+QUARTER_PI)*d,_=Math.sin(w+QUARTER_PI)*(l?l/2-p:d),t.arc(n-v,o-f,p,w-PI,w-HALF_PI),t.arc(n+_,o-h,p,w-HALF_PI,w),t.arc(n+v,o+f,p,w,w+HALF_PI),t.arc(n-_,o+h,p,w+HALF_PI,w+PI),t.closePath();break;case"rect":if(!T){d=Math.SQRT1_2*A,m=l?l/2:d,t.rect(n-m,o-d,2*m,2*d);break}w+=QUARTER_PI;case"rectRot":v=Math.cos(w)*(l?l/2:A),h=Math.cos(w)*A,f=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-f),t.lineTo(n+_,o-h),t.lineTo(n+v,o+f),t.lineTo(n-_,o+h),t.closePath();break;case"crossRot":w+=QUARTER_PI;case"cross":v=Math.cos(w)*(l?l/2:A),h=Math.cos(w)*A,f=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+_,o-h),t.lineTo(n-_,o+h);break;case"star":v=Math.cos(w)*(l?l/2:A),h=Math.cos(w)*A,f=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+_,o-h),t.lineTo(n-_,o+h),w+=QUARTER_PI,v=Math.cos(w)*(l?l/2:A),h=Math.cos(w)*A,f=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+_,o-h),t.lineTo(n-_,o+h);break;case"line":h=l?l/2:Math.cos(w)*A,f=Math.sin(w)*A,t.moveTo(n-h,o-f),t.lineTo(n+h,o+f);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(w)*(l?l/2:A),o+Math.sin(w)*A);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,n,o,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){const u=(e.x+n.x)/2;t.lineTo(u,e.y),t.lineTo(u,n.y)}else l==="after"!=!!o?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _bezierCurveTo(t,e,n,o){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,n,o,l){if(l.strikethrough||l.underline){const u=t.measureText(o),h=e-u.actualBoundingBoxLeft,f=e+u.actualBoundingBoxRight,d=n-u.actualBoundingBoxAscent,p=n+u.actualBoundingBoxDescent,m=l.strikethrough?(d+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(h,m),t.lineTo(f,m),t.stroke()}}function drawBackdrop(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function renderText(t,e,n,o,l,u={}){const h=isArray$1(e)?e:[e],f=u.strokeWidth>0&&u.strokeColor!=="";let d,p;for(t.save(),t.font=l.string,setRenderOpts(t,u),d=0;d<h.length;++d)p=h[d],u.backdrop&&drawBackdrop(t,u.backdrop),f&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),isNullOrUndef(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(p,n,o,u.maxWidth)),t.fillText(p,n,o,u.maxWidth),decorateText(t,n,o,p,u),o+=Number(l.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:n,y:o,w:l,h:u,radius:h}=e;t.arc(n+h.topLeft,o+h.topLeft,h.topLeft,1.5*PI,PI,!0),t.lineTo(n,o+u-h.bottomLeft),t.arc(n+h.bottomLeft,o+u-h.bottomLeft,h.bottomLeft,PI,HALF_PI,!0),t.lineTo(n+l-h.bottomRight,o+u),t.arc(n+l-h.bottomRight,o+u-h.bottomRight,h.bottomRight,HALF_PI,0,!0),t.lineTo(n+l,o+h.topRight),t.arc(n+l-h.topRight,o+h.topRight,h.topRight,0,-HALF_PI,!0),t.lineTo(n+h.topLeft,o)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const n=(""+t).match(LINE_HEIGHT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const n={},o=isObject$1(e),l=o?Object.keys(e):e,u=isObject$1(t)?o?h=>valueOrDefault(t[h],t[e[h]]):h=>t[h]:()=>t;for(const h of l)n[h]=numberOrZero(u(h));return n}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults$1.font;let n=valueOrDefault(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let o=valueOrDefault(t.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const l={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),n),size:n,style:o,weight:valueOrDefault(t.weight,e.weight),string:""};return l.string=toFontString(l),l}function resolve$1(t,e,n,o){let l,u,h;for(l=0,u=t.length;l<u;++l)if(h=t[l],h!==void 0&&h!==void 0)return h}function _addGrace(t,e,n){const{min:o,max:l}=t,u=toDimension(e,(l-o)/2),h=(f,d)=>n&&f===0?0:f+d;return{min:h(o,-Math.abs(u)),max:h(l,u)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],n,o,l=()=>t[0]){const u=n||t;typeof o>"u"&&(o=_resolve("_fallback",t));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:u,_fallback:o,_getTarget:l,override:f=>_createResolver([f,...t],e,u,o)};return new Proxy(h,{deleteProperty(f,d){return delete f[d],delete f._keys,delete t[0][d],!0},get(f,d){return _cached(f,d,()=>_resolveWithPrefixes(d,e,t,f))},getOwnPropertyDescriptor(f,d){return Reflect.getOwnPropertyDescriptor(f._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(f,d){return getKeysFromAllScopes(f).includes(d)},ownKeys(f){return getKeysFromAllScopes(f)},set(f,d,p){const m=f._storage||(f._storage=l());return f[d]=m[d]=p,delete f._keys,!0}})}function _attachContext(t,e,n,o){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_descriptors(t,o),setContext:u=>_attachContext(t,u,n,o),override:u=>_attachContext(t.override(u),e,n,o)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete t[h],!0},get(u,h,f){return _cached(u,h,()=>_resolveWithContext(u,h,f))},getOwnPropertyDescriptor(u,h){return u._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(u,h){return Reflect.has(t,h)},ownKeys(){return Reflect.ownKeys(t)},set(u,h,f){return t[h]=f,delete u[h],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:o=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:o,isScriptable:isFunction$1(n)?n:()=>n,isIndexable:isFunction$1(o)?o:()=>o}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject$1(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const o=n();return t[e]=o,o}function _resolveWithContext(t,e,n){const{_proxy:o,_context:l,_subProxy:u,_descriptors:h}=t;let f=o[e];return isFunction$1(f)&&h.isScriptable(e)&&(f=_resolveScriptable(e,f,t,n)),isArray$1(f)&&f.length&&(f=_resolveArray(e,f,t,h.isIndexable)),needsSubResolver(e,f)&&(f=_attachContext(f,l,u&&u[e],h)),f}function _resolveScriptable(t,e,n,o){const{_proxy:l,_context:u,_subProxy:h,_stack:f}=n;if(f.has(t))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+t);f.add(t);let d=e(u,h||o);return f.delete(t),needsSubResolver(t,d)&&(d=createSubResolver(l._scopes,l,t,d)),d}function _resolveArray(t,e,n,o){const{_proxy:l,_context:u,_subProxy:h,_descriptors:f}=n;if(typeof u.index<"u"&&o(t))return e[u.index%e.length];if(isObject$1(e[0])){const d=e,p=l._scopes.filter(m=>m!==d);e=[];for(const m of d){const v=createSubResolver(p,l,t,m);e.push(_attachContext(v,u,h&&h[t],f))}}return e}function resolveFallback(t,e,n){return isFunction$1(t)?t(e,n):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,n,o,l){for(const u of e){const h=getScope(n,u);if(h){t.add(h);const f=resolveFallback(h._fallback,n,l);if(typeof f<"u"&&f!==n&&f!==o)return f}else if(h===!1&&typeof o<"u"&&n!==o)return null}return!1}function createSubResolver(t,e,n,o){const l=e._rootScopes,u=resolveFallback(e._fallback,n,o),h=[...t,...l],f=new Set;f.add(o);let d=addScopesFromKey(f,h,n,u||n,o);return d===null||typeof u<"u"&&u!==n&&(d=addScopesFromKey(f,h,u,d,o),d===null)?!1:_createResolver(Array.from(f),[""],l,u,()=>subGetTarget(e,n,o))}function addScopesFromKey(t,e,n,o,l){for(;n;)n=addScopes(t,e,n,o,l);return n}function subGetTarget(t,e,n){const o=t._getTarget();e in o||(o[e]={});const l=o[e];return isArray$1(l)&&isObject$1(n)?n:l||{}}function _resolveWithPrefixes(t,e,n,o){let l;for(const u of e)if(l=_resolve(readKey(u,t),n),typeof l<"u")return needsSubResolver(t,l)?createSubResolver(n,o,t,l):l}function _resolve(t,e){for(const n of e){if(!n)continue;const o=n[t];if(typeof o<"u")return o}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const n of t)for(const o of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(o);return Array.from(e)}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>t==="x"?"y":"x";function splineCurve(t,e,n,o){const l=t.skip?e:t,u=e,h=n.skip?e:n,f=distanceBetweenPoints$1(u,l),d=distanceBetweenPoints$1(h,u);let p=f/(f+d),m=d/(f+d);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=o*p,_=o*m;return{previous:{x:u.x-v*(h.x-l.x),y:u.y-v*(h.y-l.y)},next:{x:u.x+_*(h.x-l.x),y:u.y+_*(h.y-l.y)}}}function monotoneAdjust(t,e,n){const o=t.length;let l,u,h,f,d,p=getPoint(t,0);for(let m=0;m<o-1;++m)if(d=p,p=getPoint(t,m+1),!(!d||!p)){if(almostEquals(e[m],0,EPSILON$1)){n[m]=n[m+1]=0;continue}l=n[m]/e[m],u=n[m+1]/e[m],f=Math.pow(l,2)+Math.pow(u,2),!(f<=9)&&(h=3/Math.sqrt(f),n[m]=l*h*e[m],n[m+1]=u*h*e[m])}}function monotoneCompute(t,e,n="x"){const o=getValueAxis(n),l=t.length;let u,h,f,d=getPoint(t,0);for(let p=0;p<l;++p){if(h=f,f=d,d=getPoint(t,p+1),!f)continue;const m=f[n],v=f[o];h&&(u=(m-h[n])/3,f[`cp1${n}`]=m-u,f[`cp1${o}`]=v-u*e[p]),d&&(u=(d[n]-m)/3,f[`cp2${n}`]=m+u,f[`cp2${o}`]=v+u*e[p])}}function splineCurveMonotone(t,e="x"){const n=getValueAxis(e),o=t.length,l=Array(o).fill(0),u=Array(o);let h,f,d,p=getPoint(t,0);for(h=0;h<o;++h)if(f=d,d=p,p=getPoint(t,h+1),!!d){if(p){const m=p[e]-d[e];l[h]=m!==0?(p[n]-d[n])/m:0}u[h]=f?p?sign$2(l[h-1])!==sign$2(l[h])?0:(l[h-1]+l[h])/2:l[h-1]:l[h]}monotoneAdjust(t,l,u),monotoneCompute(t,u,e)}function capControlPoint(t,e,n){return Math.max(Math.min(t,n),e)}function capBezierPoints(t,e){let n,o,l,u,h,f=_isPointInArea(t[0],e);for(n=0,o=t.length;n<o;++n)h=u,u=f,f=n<o-1&&_isPointInArea(t[n+1],e),u&&(l=t[n],h&&(l.cp1x=capControlPoint(l.cp1x,e.left,e.right),l.cp1y=capControlPoint(l.cp1y,e.top,e.bottom)),f&&(l.cp2x=capControlPoint(l.cp2x,e.left,e.right),l.cp2y=capControlPoint(l.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(t,e,n,o,l){let u,h,f,d;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(t,l);else{let p=o?t[t.length-1]:t[0];for(u=0,h=t.length;u<h;++u)f=t[u],d=splineCurve(p,f,t[Math.min(u+1,h-(o?0:1))%h],e.tension),f.cp1x=d.previous.x,f.cp1y=d.previous.y,f.cp2x=d.next.x,f.cp2y=d.next.y,p=f}e.capBezierPoints&&capBezierPoints(t,n)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,n){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[n])):o=t,o}const getComputedStyle$1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,n){const o={};n=n?"-"+n:"";for(let l=0;l<4;l++){const u=positions[l];o[u]=parseFloat(t[e+"-"+u+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function getCanvasPosition(t,e){const n=t.touches,o=n&&n.length?n[0]:t,{offsetX:l,offsetY:u}=o;let h=!1,f,d;if(useOffsetPos(l,u,t.target))f=l,d=u;else{const p=e.getBoundingClientRect();f=o.clientX-p.left,d=o.clientY-p.top,h=!0}return{x:f,y:d,box:h}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:o}=e,l=getComputedStyle$1(n),u=l.boxSizing==="border-box",h=getPositionedStyle(l,"padding"),f=getPositionedStyle(l,"border","width"),{x:d,y:p,box:m}=getCanvasPosition(t,n),v=h.left+(m&&f.left),_=h.top+(m&&f.top);let{width:S,height:T}=e;return u&&(S-=h.width+f.width,T-=h.height+f.height),{x:Math.round((d-v)/S*n.width/o),y:Math.round((p-_)/T*n.height/o)}}function getContainerSize(t,e,n){let o,l;if(e===void 0||n===void 0){const u=t&&_getParentNode(t);if(!u)e=t.clientWidth,n=t.clientHeight;else{const h=u.getBoundingClientRect(),f=getComputedStyle$1(u),d=getPositionedStyle(f,"border","width"),p=getPositionedStyle(f,"padding");e=h.width-p.width-d.width,n=h.height-p.height-d.height,o=parseMaxStyle(f.maxWidth,u,"clientWidth"),l=parseMaxStyle(f.maxHeight,u,"clientHeight")}}return{width:e,height:n,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,n,o){const l=getComputedStyle$1(t),u=getPositionedStyle(l,"margin"),h=parseMaxStyle(l.maxWidth,t,"clientWidth")||INFINITY,f=parseMaxStyle(l.maxHeight,t,"clientHeight")||INFINITY,d=getContainerSize(t,e,n);let{width:p,height:m}=d;if(l.boxSizing==="content-box"){const _=getPositionedStyle(l,"border","width"),S=getPositionedStyle(l,"padding");p-=S.width+_.width,m-=S.height+_.height}return p=Math.max(0,p-u.width),m=Math.max(0,o?p/o:m-u.height),p=round1(Math.min(p,h,d.maxWidth)),m=round1(Math.min(m,f,d.maxHeight)),p&&!m&&(m=round1(p/2)),(e!==void 0||n!==void 0)&&o&&d.height&&m>d.height&&(m=d.height,p=round1(Math.floor(m*o))),{width:p,height:m}}function retinaScale(t,e,n){const o=e||1,l=Math.floor(t.height*o),u=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const h=t.canvas;return h.style&&(n||!h.style.height&&!h.style.width)&&(h.style.height=`${t.height}px`,h.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||h.height!==l||h.width!==u?(t.currentDevicePixelRatio=o,h.height=l,h.width=u,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function readUsedSize(t,e){const n=getStyle(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _steppedInterpolation(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:o==="middle"?n<.5?t.y:e.y:o==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _bezierInterpolation(t,e,n,o){const l={x:t.cp2x,y:t.cp2y},u={x:e.cp1x,y:e.cp1y},h=_pointInLine(t,l,n),f=_pointInLine(l,u,n),d=_pointInLine(u,e,n),p=_pointInLine(h,f,n),m=_pointInLine(f,d,n);return _pointInLine(p,m,n)}const getRightToLeftAdapter=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,o){return n-o},leftForLtr(n,o){return n-o}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,n){return t?getRightToLeftAdapter(e,n):getLeftToRightAdapter()}function overrideTextDirection(t,e){let n,o;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=o)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return t==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,n)=>e-n,normalize:e=>e}}function normalizeSegment({start:t,end:e,count:n,loop:o,style:l}){return{start:t%n,end:e%n,loop:o&&(e-t+1)%n===0,style:l}}function getSegment(t,e,n){const{property:o,start:l,end:u}=n,{between:h,normalize:f}=propertyFn(o),d=e.length;let{start:p,end:m,loop:v}=t,_,S;if(v){for(p+=d,m+=d,_=0,S=d;_<S&&h(f(e[p%d][o]),l,u);++_)p--,m--;p%=d,m%=d}return m<p&&(m+=d),{start:p,end:m,loop:v,style:t.style}}function _boundSegment(t,e,n){if(!n)return[t];const{property:o,start:l,end:u}=n,h=e.length,{compare:f,between:d,normalize:p}=propertyFn(o),{start:m,end:v,loop:_,style:S}=getSegment(t,e,n),T=[];let A=!1,w=null,C,O,L;const F=()=>d(l,L,C)&&f(l,L)!==0,B=()=>f(u,C)===0||d(u,L,C),U=()=>A||F(),V=()=>!A||B();for(let q=m,H=m;q<=v;++q)O=e[q%h],!O.skip&&(C=p(O[o]),C!==L&&(A=d(C,l,u),w===null&&U()&&(w=f(C,l)===0?q:H),w!==null&&V()&&(T.push(normalizeSegment({start:w,end:q,loop:_,count:h,style:S})),w=null),H=q,L=C));return w!==null&&T.push(normalizeSegment({start:w,end:v,loop:_,count:h,style:S})),T}function _boundSegments(t,e){const n=[],o=t.segments;for(let l=0;l<o.length;l++){const u=_boundSegment(o[l],t.points,e);u.length&&n.push(...u)}return n}function findStartAndEnd(t,e,n,o){let l=0,u=e-1;if(n&&!o)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(u+=l);u>l&&t[u%e].skip;)u--;return u%=e,{start:l,end:u}}function solidSegments(t,e,n,o){const l=t.length,u=[];let h=e,f=t[e],d;for(d=e+1;d<=n;++d){const p=t[d%l];p.skip||p.stop?f.skip||(o=!1,u.push({start:e%l,end:(d-1)%l,loop:o}),e=h=p.stop?d:null):(h=d,f.skip&&(e=d)),f=p}return h!==null&&u.push({start:e%l,end:h%l,loop:o}),u}function _computeSegments(t,e){const n=t.points,o=t.options.spanGaps,l=n.length;if(!l)return[];const u=!!t._loop,{start:h,end:f}=findStartAndEnd(n,l,u,o);if(o===!0)return splitByStyles(t,[{start:h,end:f,loop:u}],n,e);const d=f<h?f+l:f,p=!!t._fullLoop&&h===0&&f===l-1;return splitByStyles(t,solidSegments(n,h,d,p),n,e)}function splitByStyles(t,e,n,o){return!o||!o.setContext||!n?e:doSplitByStyles(t,e,n,o)}function doSplitByStyles(t,e,n,o){const l=t._chart.getContext(),u=readStyle(t.options),{_datasetIndex:h,options:{spanGaps:f}}=t,d=n.length,p=[];let m=u,v=e[0].start,_=v;function S(T,A,w,C){const O=f?-1:1;if(T!==A){for(T+=d;n[T%d].skip;)T-=O;for(;n[A%d].skip;)A+=O;T%d!==A%d&&(p.push({start:T%d,end:A%d,loop:w,style:C}),m=C,v=A%d)}}for(const T of e){v=f?v:T.start;let A=n[v%d],w;for(_=v+1;_<=T.end;_++){const C=n[_%d];w=readStyle(o.setContext(createContext(l,{type:"segment",p0:A,p1:C,p0DataIndex:(_-1)%d,p1DataIndex:_%d,datasetIndex:h}))),styleChanged(w,m)&&S(v,_-1,T.loop,m),A=C,m=w}v<_-1&&S(v,_-1,T.loop,m)}return p}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){if(!e)return!1;const n=[],o=function(l,u){return isPatternOrGradient(u)?(n.includes(u)||n.push(u),n.indexOf(u)):u};return JSON.stringify(t,o)!==JSON.stringify(e,o)}function getSizeForArea(t,e,n){return t.options.clip?t[n]:e[n]}function getDatasetArea(t,e){const{xScale:n,yScale:o}=t;return n&&o?{left:getSizeForArea(n,e,"left"),right:getSizeForArea(n,e,"right"),top:getSizeForArea(o,e,"top"),bottom:getSizeForArea(o,e,"bottom")}:e}function getDatasetClipArea(t,e){const n=e._clip;if(n.disabled)return!1;const o=getDatasetArea(e,t.chartArea);return{left:n.left===!1?0:o.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:o.right+(n.right===!0?0:n.right),top:n.top===!1?0:o.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:o.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,o,l){const u=n.listeners[l],h=n.duration;u.forEach(f=>f({chart:e,initial:n.initial,numSteps:h,currentStep:Math.min(o-n.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const u=o.items;let h=u.length-1,f=!1,d;for(;h>=0;--h)d=u[h],d._active?(d._total>o.duration&&(o.duration=d._total),d.tick(e),f=!0):(u[h]=u[u.length-1],u.pop());f&&(l.draw(),this._notify(l,o,e,"progress")),u.length||(o.running=!1,this._notify(l,o,e,"complete"),o.initial=!1),n+=u.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let o=n.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,o)),o}listen(e,n,o){this._getAnims(e).listeners[n].push(o)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const o=n.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const o=color$1(t||transparent),l=o.valid&&color$1(e||transparent);return l&&l.valid?l.mix(o,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Animation{constructor(e,n,o,l){const u=n[o];l=resolve$1([e.to,l,u,e.from]);const h=resolve$1([e.from,u,l]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof h],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=o,this._from=h,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,o){if(this._active){this._notify(!1);const l=this._target[this._prop],u=o-this._start,h=this._duration-u;this._start=o,this._duration=Math.floor(Math.max(h,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=resolve$1([e.to,n,l,e.from]),this._from=resolve$1([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,o=this._duration,l=this._prop,u=this._from,h=this._loop,f=this._to;let d;if(this._active=u!==f&&(h||n<o),!this._active){this._target[l]=f,this._notify(!0);return}if(n<0){this._target[l]=u;return}d=n/o%2,d=h&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(u,f,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,o)=>{e.push({res:n,rej:o})})}_notify(e){const n=e?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][n]()}}class Animations{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!isObject$1(e))return;const n=Object.keys(defaults$1.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const u=e[l];if(!isObject$1(u))return;const h={};for(const f of n)h[f]=u[f];(isArray$1(u.properties)&&u.properties||[l]).forEach(f=>{(f===l||!o.has(f))&&o.set(f,h)})})}_animateOptions(e,n){const o=n.options,l=resolveTargetOptions(e,o);if(!l)return[];const u=this._createAnimations(l,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),u}_createAnimations(e,n){const o=this._properties,l=[],u=e.$animations||(e.$animations={}),h=Object.keys(n),f=Date.now();let d;for(d=h.length-1;d>=0;--d){const p=h[d];if(p.charAt(0)==="$")continue;if(p==="options"){l.push(...this._animateOptions(e,n));continue}const m=n[p];let v=u[p];const _=o.get(p);if(v)if(_&&v.active()){v.update(_,m,f);continue}else v.cancel();if(!_||!_.duration){e[p]=m;continue}u[p]=v=new Animation(_,e,p,m),l.push(v)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const o=this._createAnimations(e,n);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(t,e){const n=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const u=t[o[l]];u&&u.active()&&n.push(u.wait())}return Promise.all(n)}function resolveTargetOptions(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function scaleClip(t,e){const n=t&&t.options||{},o=n.reverse,l=n.min===void 0?e:0,u=n.max===void 0?e:0;return{start:o?u:l,end:o?l:u}}function defaultClip(t,e,n){if(n===!1)return!1;const o=scaleClip(t,n),l=scaleClip(e,n);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(t){let e,n,o,l;return isObject$1(t)?(e=t.top,n=t.right,o=t.bottom,l=t.left):e=n=o=l=t,{top:e,right:n,bottom:o,left:l,disabled:t===!1}}function getSortedDatasetIndices(t,e){const n=[],o=t._getSortedDatasetMetas(e);let l,u;for(l=0,u=o.length;l<u;++l)n.push(o[l].index);return n}function applyStack(t,e,n,o={}){const l=t.keys,u=o.mode==="single";let h,f,d,p;if(e===null)return;let m=!1;for(h=0,f=l.length;h<f;++h){if(d=+l[h],d===n){if(m=!0,o.all)continue;break}p=t.values[d],isNumberFinite(p)&&(u||e===0||sign$2(e)===sign$2(p))&&(e+=p)}return!m&&!o.all?0:e}function convertObjectDataToArray(t,e){const{iScale:n,vScale:o}=e,l=n.axis==="x"?"x":"y",u=o.axis==="x"?"x":"y",h=Object.keys(t),f=new Array(h.length);let d,p,m;for(d=0,p=h.length;d<p;++d)m=h[d],f[d]={[l]:m,[u]:t[m]};return f}function isStacked(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function getStackKey(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function getUserBounds(t){const{min:e,max:n,minDefined:o,maxDefined:l}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,n){const o=t[e]||(t[e]={});return o[n]||(o[n]={})}function getLastIndexInStack(t,e,n,o){for(const l of e.getMatchingVisibleMetas(o).reverse()){const u=t[l.index];if(n&&u>0||!n&&u<0)return l.index}return null}function updateStacks(t,e){const{chart:n,_cachedMeta:o}=t,l=n._stacks||(n._stacks={}),{iScale:u,vScale:h,index:f}=o,d=u.axis,p=h.axis,m=getStackKey(u,h,o),v=e.length;let _;for(let S=0;S<v;++S){const T=e[S],{[d]:A,[p]:w}=T,C=T._stacks||(T._stacks={});_=C[p]=getOrCreateStack(l,m,A),_[f]=w,_._top=getLastIndexInStack(_,h,!0,o.type),_._bottom=getLastIndexInStack(_,h,!1,o.type);const O=_._visualValues||(_._visualValues={});O[f]=w}}function getFirstScaleId(t,e){const n=t.scales;return Object.keys(n).filter(o=>n[o].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,n){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const n=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const l of e){const u=l._stacks;if(!u||u[o]===void 0||u[o][n]===void 0)return;delete u[o][n],u[o]._visualValues!==void 0&&u[o]._visualValues[n]!==void 0&&delete u[o]._visualValues[n]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(n,!0),values:null};class DatasetController{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,o=this.getDataset(),l=(v,_,S,T)=>v==="x"?_:v==="r"?T:S,u=n.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),h=n.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),f=n.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),d=n.indexAxis,p=n.iAxisID=l(d,u,h,f),m=n.vAxisID=l(d,h,u,f);n.xScale=this.getScaleForId(u),n.yScale=this.getScaleForId(h),n.rScale=this.getScaleForId(f),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),o=this._data;if(isObject$1(n)){const l=this._cachedMeta;this._data=convertObjectDataToArray(n,l)}else if(o!==n){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}n&&Object.isExtensible(n)&&listenArrayEvents(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const u=n._stacked;n._stacked=isStacked(n.vScale,n),n.stack!==o.stack&&(l=!0,clearStacks(n),n.stack=o.stack),this._resyncElements(e),(l||u!==n._stacked)&&(updateStacks(this,n._parsed),n._stacked=isStacked(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:o,_data:l}=this,{iScale:u,_stacked:h}=o,f=u.axis;let d=e===0&&n===l.length?!0:o._sorted,p=e>0&&o._parsed[e-1],m,v,_;if(this._parsing===!1)o._parsed=l,o._sorted=!0,_=l;else{isArray$1(l[e])?_=this.parseArrayData(o,l,e,n):isObject$1(l[e])?_=this.parseObjectData(o,l,e,n):_=this.parsePrimitiveData(o,l,e,n);const S=()=>v[f]===null||p&&v[f]<p[f];for(m=0;m<n;++m)o._parsed[m+e]=v=_[m],d&&(S()&&(d=!1),p=v);o._sorted=d}h&&updateStacks(this,_)}parsePrimitiveData(e,n,o,l){const{iScale:u,vScale:h}=e,f=u.axis,d=h.axis,p=u.getLabels(),m=u===h,v=new Array(l);let _,S,T;for(_=0,S=l;_<S;++_)T=_+o,v[_]={[f]:m||u.parse(p[T],T),[d]:h.parse(n[T],T)};return v}parseArrayData(e,n,o,l){const{xScale:u,yScale:h}=e,f=new Array(l);let d,p,m,v;for(d=0,p=l;d<p;++d)m=d+o,v=n[m],f[d]={x:u.parse(v[0],m),y:h.parse(v[1],m)};return f}parseObjectData(e,n,o,l){const{xScale:u,yScale:h}=e,{xAxisKey:f="x",yAxisKey:d="y"}=this._parsing,p=new Array(l);let m,v,_,S;for(m=0,v=l;m<v;++m)_=m+o,S=n[_],p[m]={x:u.parse(resolveObjectKey(S,f),_),y:h.parse(resolveObjectKey(S,d),_)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,o){const l=this.chart,u=this._cachedMeta,h=n[e.axis],f={keys:getSortedDatasetIndices(l,!0),values:n._stacks[e.axis]._visualValues};return applyStack(f,h,u.index,{mode:o})}updateRangeFromParsed(e,n,o,l){const u=o[n.axis];let h=u===null?NaN:u;const f=l&&o._stacks[n.axis];l&&f&&(l.values=f,h=applyStack(l,u,this._cachedMeta.index)),e.min=Math.min(e.min,h),e.max=Math.max(e.max,h)}getMinMax(e,n){const o=this._cachedMeta,l=o._parsed,u=o._sorted&&e===o.iScale,h=l.length,f=this._getOtherScale(e),d=createStack(n,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=getUserBounds(f);let _,S;function T(){S=l[_];const A=S[f.axis];return!isNumberFinite(S[e.axis])||m>A||v<A}for(_=0;_<h&&!(!T()&&(this.updateRangeFromParsed(p,e,S,d),u));++_);if(u){for(_=h-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(p,e,S,d);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,o=[];let l,u,h;for(l=0,u=n.length;l<u;++l)h=n[l][e.axis],isNumberFinite(h)&&o.push(h);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,o=n.iScale,l=n.vScale,u=this.getParsed(e);return{label:o?""+o.getLabelForValue(u[o.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=toClip(valueOrDefault(this.options.clip,defaultClip(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,o=this._cachedMeta,l=o.data||[],u=n.chartArea,h=[],f=this._drawStart||0,d=this._drawCount||l.length-f,p=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,u,f,d),m=f;m<f+d;++m){const v=l[m];v.hidden||(v.active&&p?h.push(v):v.draw(e,u))}for(m=0;m<h.length;++m)h[m].draw(e,u)}getStyle(e,n){const o=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,n,o){const l=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const h=this._cachedMeta.data[e];u=h.$context||(h.$context=createDataContext(this.getContext(),e,h)),u.parsed=this.getParsed(e),u.raw=l.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!n,u.mode=o,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",o){const l=n==="active",u=this._cachedDataOpts,h=e+"-"+n,f=u[h],d=this.enableOptionSharing&&defined$1(o);if(f)return cloneIfNotShared(f,d);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=l?[`${e}Hover`,"hover",e,""]:[e,""],_=p.getOptionScopes(this.getDataset(),m),S=Object.keys(defaults$1.elements[e]),T=()=>this.getContext(o,l,n),A=p.resolveNamedOptions(_,S,T,v);return A.$shared&&(A.$shared=d,u[h]=Object.freeze(cloneIfNotShared(A,d))),A}_resolveAnimations(e,n,o){const l=this.chart,u=this._cachedDataOpts,h=`animation-${n}`,f=u[h];if(f)return f;let d;if(l.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,n),_=m.getOptionScopes(this.getDataset(),v);d=m.createResolver(_,this.getContext(e,o,n))}const p=new Animations(l,d&&d.animations);return d&&d._cacheable&&(u[h]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const o=this.resolveDataElementOptions(e,n),l=this._sharedOptions,u=this.getSharedOptions(o),h=this.includeOptions(n,u)||u!==l;return this.updateSharedOptions(u,n,o),{sharedOptions:u,includeOptions:h}}updateElement(e,n,o,l){isDirectUpdateMode(l)?Object.assign(e,o):this._resolveAnimations(n,l).update(e,o)}updateSharedOptions(e,n,o){e&&!isDirectUpdateMode(n)&&this._resolveAnimations(void 0,n).update(e,o)}_setStyle(e,n,o,l){e.active=l;const u=this.getStyle(n,l);this._resolveAnimations(n,o,l).update(e,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(e,n,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,n,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,o=this._cachedMeta.data;for(const[f,d,p]of this._syncList)this[f](d,p);this._syncList=[];const l=o.length,u=n.length,h=Math.min(u,l);h&&this.parse(0,h),u>l?this._insertElements(l,u-l,e):u<l&&this._removeElements(u,l-u)}_insertElements(e,n,o=!0){const l=this._cachedMeta,u=l.data,h=e+n;let f;const d=p=>{for(p.length+=n,f=p.length-1;f>=h;f--)p[f]=p[f-n]};for(d(u),f=e;f<h;++f)u[f]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(e,n),o&&this.updateElements(u,e,n,"reset")}updateElements(e,n,o,l){}_removeElements(e,n){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(e,n);o._stacked&&clearStacks(o,l)}o.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,o,l]=e;this[n](o,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dn(DatasetController,"defaults",{}),dn(DatasetController,"datasetElementType",null),dn(DatasetController,"dataElementType",null);class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:o,data:l=[],_dataset:u}=n,h=this.chart._animationsDisabled;let{start:f,count:d}=_getStartAndCountOfVisiblePoints(n,l,h);this._drawStart=f,this._drawCount=d,_scaleRangesChanged(n)&&(f=0,d=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!u._decimated,o.points=l;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!h,options:p},e),this.updateElements(l,f,d,e)}updateElements(e,n,o,l){const u=l==="reset",{iScale:h,vScale:f,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,l),_=h.axis,S=f.axis,{spanGaps:T,segment:A}=this.options,w=isNumber$2(T)?T:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||u||l==="none",O=n+o,L=e.length;let F=n>0&&this.getParsed(n-1);for(let B=0;B<L;++B){const U=e[B],V=C?U:{};if(B<n||B>=O){V.skip=!0;continue}const q=this.getParsed(B),H=isNullOrUndef(q[S]),G=V[_]=h.getPixelForValue(q[_],B),Y=V[S]=u||H?f.getBasePixel():f.getPixelForValue(d?this.applyStack(f,q,d):q[S],B);V.skip=isNaN(G)||isNaN(Y)||H,V.stop=B>0&&Math.abs(q[_]-F[_])>w,A&&(V.parsed=q,V.raw=p.data[B]),v&&(V.options=m||this.resolveDataElementOptions(B,U.active?"active":l)),C||this.updateElement(U,B,V,l),F=q}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,o=n.options&&n.options.borderWidth||0,l=e.data||[];if(!l.length)return o;const u=l[0].size(this.resolveDataElementOptions(0)),h=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,u,h)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}dn(LineController,"id","line"),dn(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dn(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){dn(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,n,o){const{controller:l,data:u,_sorted:h}=t,f=l._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(f&&e===f.axis&&e!=="r"&&h&&u.length){const p=f._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const m=u[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const _=p(u,e,n-v),S=p(u,e,n+v);return{lo:_.lo,hi:S.hi}}}}else{const m=p(u,e,n);if(d){const{vScale:v}=l._cachedMeta,{_parsed:_}=t,S=_.slice(0,m.lo+1).reverse().findIndex(A=>!isNullOrUndef(A[v.axis]));m.lo-=Math.max(0,S);const T=_.slice(m.hi).findIndex(A=>!isNullOrUndef(A[v.axis]));m.hi+=Math.max(0,T)}return m}}return{lo:0,hi:u.length-1}}function evaluateInteractionItems(t,e,n,o,l){const u=t.getSortedVisibleDatasetMetas(),h=n[e];for(let f=0,d=u.length;f<d;++f){const{index:p,data:m}=u[f],{lo:v,hi:_}=binarySearch(u[f],e,h,l);for(let S=v;S<=_;++S){const T=m[S];T.skip||o(T,p,S)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(o,l){const u=e?Math.abs(o.x-l.x):0,h=n?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(h,2))}}function getIntersectItems(t,e,n,o,l){const u=[];return!l&&!t.isPointInArea(e)||evaluateInteractionItems(t,n,e,function(f,d,p){!l&&!_isPointInArea(f,t.chartArea,0)||f.inRange(e.x,e.y,o)&&u.push({element:f,datasetIndex:d,index:p})},!0),u}function getNearestRadialItems(t,e,n,o){let l=[];function u(h,f,d){const{startAngle:p,endAngle:m}=h.getProps(["startAngle","endAngle"],o),{angle:v}=getAngleFromPoint(h,{x:e.x,y:e.y});_angleBetween(v,p,m)&&l.push({element:h,datasetIndex:f,index:d})}return evaluateInteractionItems(t,n,e,u),l}function getNearestCartesianItems(t,e,n,o,l,u){let h=[];const f=getDistanceMetricForAxis(n);let d=Number.POSITIVE_INFINITY;function p(m,v,_){const S=m.inRange(e.x,e.y,l);if(o&&!S)return;const T=m.getCenterPoint(l);if(!(!!u||t.isPointInArea(T))&&!S)return;const w=f(e,T);w<d?(h=[{element:m,datasetIndex:v,index:_}],d=w):w===d&&h.push({element:m,datasetIndex:v,index:_})}return evaluateInteractionItems(t,n,e,p),h}function getNearestItems(t,e,n,o,l,u){return!u&&!t.isPointInArea(e)?[]:n==="r"&&!o?getNearestRadialItems(t,e,n,l):getNearestCartesianItems(t,e,n,o,l,u)}function getAxisItems(t,e,n,o,l){const u=[],h=n==="x"?"inXRange":"inYRange";let f=!1;return evaluateInteractionItems(t,n,e,(d,p,m)=>{d[h]&&d[h](e[n],l)&&(u.push({element:d,datasetIndex:p,index:m}),f=f||d.inRange(e.x,e.y,l))}),o&&!f?[]:u}var Interaction={modes:{index(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"x",h=n.includeInvisible||!1,f=n.intersect?getIntersectItems(t,l,u,o,h):getNearestItems(t,l,u,!1,o,h),d=[];return f.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const m=f[0].index,v=p.data[m];v&&!v.skip&&d.push({element:v,datasetIndex:p.index,index:m})}),d):[]},dataset(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;let f=n.intersect?getIntersectItems(t,l,u,o,h):getNearestItems(t,l,u,!1,o,h);if(f.length>0){const d=f[0].datasetIndex,p=t.getDatasetMeta(d).data;f=[];for(let m=0;m<p.length;++m)f.push({element:p[m],datasetIndex:d,index:m})}return f},point(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;return getIntersectItems(t,l,u,o,h)},nearest(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;return getNearestItems(t,l,u,n.intersect,o,h)},x(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"x",n.intersect,o)},y(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"y",n.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(n=>n.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(n=>STATIC_POSITIONS.indexOf(n.pos)===-1&&n.box.axis===e)}function sortByWeight(t,e){return t.sort((n,o)=>{const l=e?o:n,u=e?n:o;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function wrapBoxes(t){const e=[];let n,o,l,u,h,f;for(n=0,o=(t||[]).length;n<o;++n)l=t[n],{position:u,options:{stack:h,stackWeight:f=1}}=l,e.push({index:n,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:h&&u+h,stackWeight:f});return e}function buildStacks(t){const e={};for(const n of t){const{stack:o,pos:l,stackWeight:u}=n;if(!o||!STATIC_POSITIONS.includes(l))continue;const h=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=u}return e}function setLayoutDims(t,e){const n=buildStacks(t),{vBoxMaxWidth:o,hBoxMaxHeight:l}=e;let u,h,f;for(u=0,h=t.length;u<h;++u){f=t[u];const{fullSize:d}=f.box,p=n[f.stack],m=p&&f.stackWeight/p.weight;f.horizontal?(f.width=m?m*o:d&&e.availableWidth,f.height=l):(f.width=o,f.height=m?m*l:d&&e.availableHeight)}return n}function buildLayoutBoxes(t){const e=wrapBoxes(t),n=sortByWeight(e.filter(p=>p.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),l=sortByWeight(filterByPosition(e,"right")),u=sortByWeight(filterByPosition(e,"top"),!0),h=sortByWeight(filterByPosition(e,"bottom")),f=filterDynamicPositionByAxis(e,"x"),d=filterDynamicPositionByAxis(e,"y");return{fullSize:n,leftAndTop:o.concat(u),rightAndBottom:l.concat(d).concat(h).concat(f),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(l).concat(d),horizontal:u.concat(h).concat(f)}}function getCombinedMax(t,e,n,o){return Math.max(t[n],e[n])+Math.max(t[o],e[o])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,n,o){const{pos:l,box:u}=n,h=t.maxPadding;if(!isObject$1(l)){n.size&&(t[l]-=n.size);const v=o[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?u.height:u.width),n.size=v.size/v.count,t[l]+=n.size}u.getPadding&&updateMaxPadding(h,u.getPadding());const f=Math.max(0,e.outerWidth-getCombinedMax(h,t,"left","right")),d=Math.max(0,e.outerHeight-getCombinedMax(h,t,"top","bottom")),p=f!==t.w,m=d!==t.h;return t.w=f,t.h=d,n.horizontal?{same:p,other:m}:{same:m,other:p}}function handleMaxPadding(t){const e=t.maxPadding;function n(o){const l=Math.max(e[o]-t[o],0);return t[o]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function getMargins(t,e){const n=e.maxPadding;function o(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(h=>{u[h]=Math.max(e[h],n[h])}),u}return o(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,n,o){const l=[];let u,h,f,d,p,m;for(u=0,h=t.length,p=0;u<h;++u){f=t[u],d=f.box,d.update(f.width||e.w,f.height||e.h,getMargins(f.horizontal,e));const{same:v,other:_}=updateDims(e,n,f,o);p|=v&&l.length,m=m||_,d.fullSize||l.push(f)}return p&&fitBoxes(l,e,n,o)||m}function setBoxDims(t,e,n,o,l){t.top=n,t.left=e,t.right=e+o,t.bottom=n+l,t.width=o,t.height=l}function placeBoxes(t,e,n,o){const l=n.padding;let{x:u,y:h}=e;for(const f of t){const d=f.box,p=o[f.stack]||{placed:0,weight:1},m=f.stackWeight/p.weight||1;if(f.horizontal){const v=e.w*m,_=p.size||d.height;defined$1(p.start)&&(h=p.start),d.fullSize?setBoxDims(d,l.left,h,n.outerWidth-l.right-l.left,_):setBoxDims(d,e.left+p.placed,h,v,_),p.start=h,p.placed+=v,h=d.bottom}else{const v=e.h*m,_=p.size||d.width;defined$1(p.start)&&(u=p.start),d.fullSize?setBoxDims(d,u,l.top,_,n.outerHeight-l.bottom-l.top):setBoxDims(d,u,e.top+p.placed,_,v),p.start=u,p.placed+=v,u=d.right}}e.x=u,e.y=h}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,o){if(!t)return;const l=toPadding(t.options.layout.padding),u=Math.max(e-l.width,0),h=Math.max(n-l.height,0),f=buildLayoutBoxes(t.boxes),d=f.vertical,p=f.horizontal;each(t.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const m=d.reduce((A,w)=>w.box.options&&w.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:u,availableHeight:h,vBoxMaxWidth:u/2/m,hBoxMaxHeight:h/2}),_=Object.assign({},l);updateMaxPadding(_,toPadding(o));const S=Object.assign({maxPadding:_,w:u,h,x:l.left,y:l.top},l),T=setLayoutDims(d.concat(p),v);fitBoxes(f.fullSize,S,v,T),fitBoxes(d,S,v,T),fitBoxes(p,S,v,T)&&fitBoxes(d,S,v,T),handleMaxPadding(S),placeBoxes(f.leftAndTop,S,v,T),S.x+=S.w,S.y+=S.h,placeBoxes(f.rightAndBottom,S,v,T),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},each(f.chartArea,A=>{const w=A.box;Object.assign(w,t.chartArea),w.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,o){}removeEventListener(e,n,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,o,l){return n=Math.max(0,n||e.width),o=o||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const n=t.style,o=t.getAttribute("height"),l=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:o,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(l)){const u=readUsedSize(t,"width");u!==void 0&&(t.width=u)}if(isNullOrEmpty(o))if(t.style.height==="")t.height=t.width/(e||2);else{const u=readUsedSize(t,"height");u!==void 0&&(t.height=u)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,n){t&&t.addEventListener(e,n,eventListenerOptions)}function removeListener(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,eventListenerOptions)}function fromNativeEvent(t,e){const n=EVENT_TYPES[t.type]||t.type,{x:o,y:l}=getRelativePosition(t,e);return{type:n,chart:e,native:t,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function createAttachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let h=!1;for(const f of u)h=h||nodeListContains(f.addedNodes,o),h=h&&!nodeListContains(f.removedNodes,o);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let h=!1;for(const f of u)h=h||nodeListContains(f.removedNodes,o),h=h&&!nodeListContains(f.addedNodes,o);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,n){const o=t.canvas,l=o&&_getParentNode(o);if(!l)return;const u=throttled((f,d)=>{const p=l.clientWidth;n(f,d),p<l.clientWidth&&n()},window),h=new ResizeObserver(f=>{const d=f[0],p=d.contentRect.width,m=d.contentRect.height;p===0&&m===0||u(p,m)});return h.observe(l),listenDevicePixelRatioChanges(t,u),h}function releaseObserver(t,e,n){n&&n.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,n){const o=t.canvas,l=throttled(u=>{t.ctx!==null&&n(fromNativeEvent(u,t))},t);return addListener(o,e,l),l}class DomPlatform extends BasePlatform{acquireContext(e,n){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,n),o):null}releaseContext(e){const n=e.canvas;if(!n[EXPANDO_KEY])return!1;const o=n[EXPANDO_KEY].initial;["height","width"].forEach(u=>{const h=o[u];isNullOrUndef(h)?n.removeAttribute(u):n.setAttribute(u,h)});const l=o.style||{};return Object.keys(l).forEach(u=>{n.style[u]=l[u]}),n.width=n.width,delete n[EXPANDO_KEY],!0}addEventListener(e,n,o){this.removeEventListener(e,n);const l=e.$proxies||(e.$proxies={}),h={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[n]||createProxyAndListen;l[n]=h(e,n,o)}removeEventListener(e,n){const o=e.$proxies||(e.$proxies={}),l=o[n];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[n]||removeListener)(e,n,l),o[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,o,l){return getMaximumSize(e,n,o,l)}isAttached(e){const n=e&&_getParentNode(e);return!!(n&&n.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var au;let Element$1=(au=class{constructor(){dn(this,"x");dn(this,"y");dn(this,"active",!1);dn(this,"options");dn(this,"$animations")}tooltipPosition(e){const{x:n,y:o}=this.getProps(["x","y"],e);return{x:n,y:o}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(e,n){const o=this.$animations;if(!n||!o)return this;const l={};return e.forEach(u=>{l[u]=o[u]&&o[u].active()?o[u]._to:this[u]}),l}},dn(au,"defaults",{}),dn(au,"defaultRoutes"),au);function autoSkip(t,e){const n=t.options.ticks,o=determineMaxTicks(t),l=Math.min(n.maxTicksLimit||o,o),u=n.major.enabled?getMajorIndices(e):[],h=u.length,f=u[0],d=u[h-1],p=[];if(h>l)return skipMajors(e,p,u,h/l),p;const m=calculateSpacing(u,e,l);if(h>0){let v,_;const S=h>1?Math.round((d-f)/(h-1)):null;for(skip(e,p,m,isNullOrUndef(S)?0:f-S,f),v=0,_=h-1;v<_;v++)skip(e,p,m,u[v],u[v+1]);return skip(e,p,m,d,isNullOrUndef(S)?e.length:d+S),p}return skip(e,p,m),p}function determineMaxTicks(t){const e=t.options.offset,n=t._tickSize(),o=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(o,l))}function calculateSpacing(t,e,n){const o=getEvenSpacing(t),l=e.length/n;if(!o)return Math.max(l,1);const u=_factorize(o);for(let h=0,f=u.length-1;h<f;h++){const d=u[h];if(d>l)return d}return Math.max(l,1)}function getMajorIndices(t){const e=[];let n,o;for(n=0,o=t.length;n<o;n++)t[n].major&&e.push(n);return e}function skipMajors(t,e,n,o){let l=0,u=n[0],h;for(o=Math.ceil(o),h=0;h<t.length;h++)h===u&&(e.push(t[h]),l++,u=n[l*o])}function skip(t,e,n,o,l){const u=valueOrDefault(o,0),h=Math.min(valueOrDefault(l,t.length),t.length);let f=0,d,p,m;for(n=Math.ceil(n),l&&(d=l-o,n=d/Math.floor(d/n)),m=u;m<0;)f++,m=Math.round(u+f*n);for(p=Math.max(u,0);p<h;p++)p===m&&(e.push(t[p]),f++,m=Math.round(u+f*n))}function getEvenSpacing(t){const e=t.length;let n,o;if(e<2)return!1;for(o=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==o)return!1;return o}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const n=[],o=t.length/e,l=t.length;let u=0;for(;u<l;u+=o)n.push(t[Math.floor(u)]);return n}function getPixelForGridLine(t,e,n){const o=t.ticks.length,l=Math.min(e,o-1),u=t._startPixel,h=t._endPixel,f=1e-6;let d=t.getPixelForTick(l),p;if(!(n&&(o===1?p=Math.max(d-u,h-d):e===0?p=(t.getPixelForTick(1)-d)/2:p=(d-t.getPixelForTick(l-1))/2,d+=l<e?p:-p,d<u-f||d>h+f)))return d}function garbageCollect(t,e){each(t,n=>{const o=n.gc,l=o.length/2;let u;if(l>e){for(u=0;u<l;++u)delete n.data[o[u]];o.splice(0,l)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const n=toFont(t.font,e),o=toPadding(t.padding);return(isArray$1(t.text)?t.text.length:1)*n.lineHeight+o.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,n){return createContext(t,{tick:n,index:e,type:"tick"})}function titleAlign(t,e,n){let o=_toLeftRightCenter(t);return(n&&e!=="right"||!n&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(t,e,n,o){const{top:l,left:u,bottom:h,right:f,chart:d}=t,{chartArea:p,scales:m}=d;let v=0,_,S,T;const A=h-l,w=f-u;if(t.isHorizontal()){if(S=_alignStartEnd(o,u,f),isObject$1(n)){const C=Object.keys(n)[0],O=n[C];T=m[C].getPixelForValue(O)+A-e}else n==="center"?T=(p.bottom+p.top)/2+A-e:T=offsetFromEdge(t,n,e);_=f-u}else{if(isObject$1(n)){const C=Object.keys(n)[0],O=n[C];S=m[C].getPixelForValue(O)-w+e}else n==="center"?S=(p.left+p.right)/2-w+e:S=offsetFromEdge(t,n,e);T=_alignStartEnd(o,h,l),v=n==="left"?-HALF_PI:HALF_PI}return{titleX:S,titleY:T,maxWidth:_,rotation:v}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:o,_suggestedMax:l}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),n=finiteOrDefault(n,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(n,l),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(n)}}getMinMax(e){let{min:n,max:o,minDefined:l,maxDefined:u}=this.getUserBounds(),h;if(l&&u)return{min:n,max:o};const f=this.getMatchingVisibleMetas();for(let d=0,p=f.length;d<p;++d)h=f[d].controller.getMinMax(this,e),l||(n=Math.min(n,h.min)),u||(o=Math.max(o,h.max));return n=u&&n>o?o:n,o=l&&n>o?n:o,{min:finiteOrDefault(n,finiteOrDefault(o,n)),max:finiteOrDefault(o,finiteOrDefault(n,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,n,o){const{beginAtZero:l,grace:u,ticks:h}=this.options,f=h.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=f<this.ticks.length;this._convertTicksToLabels(d?sample(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||h.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,o;this.isHorizontal()?(n=this.left,o=this.right):(n=this.top,o=this.bottom,e=!e),this._startPixel=n,this._endPixel=o,this._reversePixels=e,this._length=o-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let o,l,u;for(o=0,l=e.length;o<l;o++)u=e[o],u.label=callback(n.callback,[u.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,o=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,u=n.maxRotation;let h=l,f,d,p;if(!this._isVisible()||!n.display||l>=u||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),v=m.widest.width,_=m.highest.height,S=_limitValue(this.chart.width-v,0,this.maxWidth);f=e.offset?this.maxWidth/o:S/(o-1),v+6>f&&(f=S/(o-(e.offset?.5:1)),d=this.maxHeight-getTickMarkLength(e.grid)-n.padding-getTitleHeight(e.title,this.chart.options.font),p=Math.sqrt(v*v+_*_),h=toDegrees(Math.min(Math.asin(_limitValue((m.highest.height+6)/f,-1,1)),Math.asin(_limitValue(d/p,-1,1))-Math.asin(_limitValue(_/p,-1,1)))),h=Math.max(l,Math.min(u,h))),this.labelRotation=h}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:o,title:l,grid:u}}=this,h=this._isVisible(),f=this.isHorizontal();if(h){const d=getTitleHeight(l,n.options.font);if(f?(e.width=this.maxWidth,e.height=getTickMarkLength(u)+d):(e.height=this.maxHeight,e.width=getTickMarkLength(u)+d),o.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:_}=this._getLabelSizes(),S=o.padding*2,T=toRadians(this.labelRotation),A=Math.cos(T),w=Math.sin(T);if(f){const C=o.mirror?0:w*v.width+A*_.height;e.height=Math.min(this.maxHeight,e.height+C+S)}else{const C=o.mirror?0:A*v.width+w*_.height;e.width=Math.min(this.maxWidth,e.width+C+S)}this._calculatePadding(p,m,w,A)}}this._handleMargins(),f?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,o,l){const{ticks:{align:u,padding:h},position:f}=this.options,d=this.labelRotation!==0,p=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,S=0;d?p?(_=l*e.width,S=o*n.height):(_=o*e.height,S=l*n.width):u==="start"?S=n.width:u==="end"?_=e.width:u!=="inner"&&(_=e.width/2,S=n.width/2),this.paddingLeft=Math.max((_-m+h)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-v+h)*this.width/(this.width-v),0)}else{let m=n.height/2,v=e.height/2;u==="start"?(m=0,v=e.height):u==="end"&&(m=n.height,v=0),this.paddingTop=m+h,this.paddingBottom=v+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,o;for(n=0,o=e.length;n<o;n++)isNullOrUndef(e[n].label)&&(e.splice(n,1),o--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let o=this.ticks;n<o.length&&(o=sample(o,n)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,o){const{ctx:l,_longestTextCache:u}=this,h=[],f=[],d=Math.floor(n/getTicksLimit(n,o));let p=0,m=0,v,_,S,T,A,w,C,O,L,F,B;for(v=0;v<n;v+=d){if(T=e[v].label,A=this._resolveTickFontOptions(v),l.font=w=A.string,C=u[w]=u[w]||{data:{},gc:[]},O=A.lineHeight,L=F=0,!isNullOrUndef(T)&&!isArray$1(T))L=_measureText(l,C.data,C.gc,L,T),F=O;else if(isArray$1(T))for(_=0,S=T.length;_<S;++_)B=T[_],!isNullOrUndef(B)&&!isArray$1(B)&&(L=_measureText(l,C.data,C.gc,L,B),F+=O);h.push(L),f.push(F),p=Math.max(L,p),m=Math.max(F,m)}garbageCollect(u,n);const U=h.indexOf(p),V=f.indexOf(m),q=H=>({width:h[H]||0,height:f[H]||0});return{first:q(0),last:q(n-1),widest:q(U),highest:q(V),widths:h,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const o=n[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=toRadians(this.labelRotation),o=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),u=this._getLabelSizes(),h=e.autoSkipPadding||0,f=u?u.widest.width+h:0,d=u?u.highest.height+h:0;return this.isHorizontal()?d*o>f*l?f/o:d/l:d*l<f*o?d/o:f/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,o=this.chart,l=this.options,{grid:u,position:h,border:f}=l,d=u.offset,p=this.isHorizontal(),v=this.ticks.length+(d?1:0),_=getTickMarkLength(u),S=[],T=f.setContext(this.getContext()),A=T.display?T.width:0,w=A/2,C=function(he){return _alignPixel(o,he,A)};let O,L,F,B,U,V,q,H,G,Y,Q,ie;if(h==="top")O=C(this.bottom),V=this.bottom-_,H=O-w,Y=C(e.top)+w,ie=e.bottom;else if(h==="bottom")O=C(this.top),Y=e.top,ie=C(e.bottom)-w,V=O+w,H=this.top+_;else if(h==="left")O=C(this.right),U=this.right-_,q=O-w,G=C(e.left)+w,Q=e.right;else if(h==="right")O=C(this.left),G=e.left,Q=C(e.right)-w,U=O+w,q=this.left+_;else if(n==="x"){if(h==="center")O=C((e.top+e.bottom)/2+.5);else if(isObject$1(h)){const he=Object.keys(h)[0],ge=h[he];O=C(this.chart.scales[he].getPixelForValue(ge))}Y=e.top,ie=e.bottom,V=O+w,H=V+_}else if(n==="y"){if(h==="center")O=C((e.left+e.right)/2);else if(isObject$1(h)){const he=Object.keys(h)[0],ge=h[he];O=C(this.chart.scales[he].getPixelForValue(ge))}U=O-w,q=U-_,G=e.left,Q=e.right}const ae=valueOrDefault(l.ticks.maxTicksLimit,v),le=Math.max(1,Math.ceil(v/ae));for(L=0;L<v;L+=le){const he=this.getContext(L),ge=u.setContext(he),J=f.setContext(he),se=ge.lineWidth,ce=ge.color,te=J.dash||[],fe=J.dashOffset,_e=ge.tickWidth,ye=ge.tickColor,xe=ge.tickBorderDash||[],Me=ge.tickBorderDashOffset;F=getPixelForGridLine(this,L,d),F!==void 0&&(B=_alignPixel(o,F,se),p?U=q=G=Q=B:V=H=Y=ie=B,S.push({tx1:U,ty1:V,tx2:q,ty2:H,x1:G,y1:Y,x2:Q,y2:ie,width:se,color:ce,borderDash:te,borderDashOffset:fe,tickWidth:_e,tickColor:ye,tickBorderDash:xe,tickBorderDashOffset:Me}))}return this._ticksLength=v,this._borderValue=O,S}_computeLabelItems(e){const n=this.axis,o=this.options,{position:l,ticks:u}=o,h=this.isHorizontal(),f=this.ticks,{align:d,crossAlign:p,padding:m,mirror:v}=u,_=getTickMarkLength(o.grid),S=_+m,T=v?-m:S,A=-toRadians(this.labelRotation),w=[];let C,O,L,F,B,U,V,q,H,G,Y,Q,ie="middle";if(l==="top")U=this.bottom-T,V=this._getXAxisLabelAlignment();else if(l==="bottom")U=this.top+T,V=this._getXAxisLabelAlignment();else if(l==="left"){const le=this._getYAxisLabelAlignment(_);V=le.textAlign,B=le.x}else if(l==="right"){const le=this._getYAxisLabelAlignment(_);V=le.textAlign,B=le.x}else if(n==="x"){if(l==="center")U=(e.top+e.bottom)/2+S;else if(isObject$1(l)){const le=Object.keys(l)[0],he=l[le];U=this.chart.scales[le].getPixelForValue(he)+S}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")B=(e.left+e.right)/2-S;else if(isObject$1(l)){const le=Object.keys(l)[0],he=l[le];B=this.chart.scales[le].getPixelForValue(he)}V=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(d==="start"?ie="top":d==="end"&&(ie="bottom"));const ae=this._getLabelSizes();for(C=0,O=f.length;C<O;++C){L=f[C],F=L.label;const le=u.setContext(this.getContext(C));q=this.getPixelForTick(C)+u.labelOffset,H=this._resolveTickFontOptions(C),G=H.lineHeight,Y=isArray$1(F)?F.length:1;const he=Y/2,ge=le.color,J=le.textStrokeColor,se=le.textStrokeWidth;let ce=V;h?(B=q,V==="inner"&&(C===O-1?ce=this.options.reverse?"left":"right":C===0?ce=this.options.reverse?"right":"left":ce="center"),l==="top"?p==="near"||A!==0?Q=-Y*G+G/2:p==="center"?Q=-ae.highest.height/2-he*G+G:Q=-ae.highest.height+G/2:p==="near"||A!==0?Q=G/2:p==="center"?Q=ae.highest.height/2-he*G:Q=ae.highest.height-Y*G,v&&(Q*=-1),A!==0&&!le.showLabelBackdrop&&(B+=G/2*Math.sin(A))):(U=q,Q=(1-Y)*G/2);let te;if(le.showLabelBackdrop){const fe=toPadding(le.backdropPadding),_e=ae.heights[C],ye=ae.widths[C];let xe=Q-fe.top,Me=0-fe.left;switch(ie){case"middle":xe-=_e/2;break;case"bottom":xe-=_e;break}switch(V){case"center":Me-=ye/2;break;case"right":Me-=ye;break;case"inner":C===O-1?Me-=ye:C>0&&(Me-=ye/2);break}te={left:Me,top:xe,width:ye+fe.width,height:_e+fe.height,color:le.backdropColor}}w.push({label:F,font:H,textOffset:Q,options:{rotation:A,color:ge,strokeColor:J,strokeWidth:se,textAlign:ce,textBaseline:ie,translation:[B,U],backdrop:te}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:o,mirror:l,padding:u}}=this.options,h=this._getLabelSizes(),f=e+u,d=h.widest.width;let p,m;return n==="left"?l?(m=this.right+u,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m+=d)):(m=this.right-f,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m=this.left)):n==="right"?l?(m=this.left+u,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m-=d)):(m=this.left+f,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:o,top:l,width:u,height:h}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(o,l,u,h),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(u=>u.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const n=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,h;const f=(d,p,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(p.x,p.y),o.stroke(),o.restore())};if(n.display)for(u=0,h=l.length;u<h;++u){const d=l[u];n.drawOnChartArea&&f({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&f({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:o,grid:l}}=this,u=o.setContext(this.getContext()),h=o.display?u.width:0;if(!h)return;const f=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,m,v,_;this.isHorizontal()?(p=_alignPixel(e,this.left,h)-h/2,m=_alignPixel(e,this.right,f)+f/2,v=_=d):(v=_alignPixel(e,this.top,h)-h/2,_=_alignPixel(e,this.bottom,f)+f/2,p=m=d),n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.beginPath(),n.moveTo(p,v),n.lineTo(m,_),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const u=this.getLabelItems(e);for(const h of u){const f=h.options,d=h.font,p=h.label,m=h.textOffset;renderText(o,p,0,m,d,f)}l&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:n,title:o,reverse:l}}=this;if(!o.display)return;const u=toFont(o.font),h=toPadding(o.padding),f=o.align;let d=u.lineHeight/2;n==="bottom"||n==="center"||isObject$1(n)?(d+=h.bottom,isArray$1(o.text)&&(d+=u.lineHeight*(o.text.length-1))):d+=h.top;const{titleX:p,titleY:m,maxWidth:v,rotation:_}=titleArgs(this,d,n,f);renderText(e,o.text,0,0,u,{color:o.color,maxWidth:v,rotation:_,textAlign:titleAlign(f,n,l),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1),l=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:n,draw:u=>{this.draw(u)}}]:[{z:o,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let u,h;for(u=0,h=n.length;u<h;++u){const f=n[u];f[o]===this.id&&(!e||f.type===e)&&l.push(f)}return l}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return toFont(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,n,o){this.type=e,this.scope=n,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let o;isIChartComponent(n)&&(o=this.register(n));const l=this.items,u=e.id,h=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in l||(l[u]=e,registerDefaults(e,h,o),this.override&&defaults$1.override(e.id,e.overrides)),h}get(e){return this.items[e]}unregister(e){const n=this.items,o=e.id,l=this.scope;o in n&&delete n[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(t,e,n){const o=merge(Object.create(null),[n?defaults$1.get(n):{},defaults$1.get(e),t.defaults]);defaults$1.set(e,o),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults$1.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(n=>{const o=n.split("."),l=o.pop(),u=[t].concat(o).join("."),h=e[n].split("."),f=h.pop(),d=h.join(".");defaults$1.route(u,l,d,f)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,o){[...n].forEach(l=>{const u=o||this._getRegistryForType(l);o||u.isForType(l)||u===this.plugins&&l.id?this._exec(e,u,l):each(l,h=>{const f=o||this._getRegistryForType(h);this._exec(e,f,h)})})}_exec(e,n,o){const l=_capitalize(e);callback(o["before"+l],[],o),n[e](o),callback(o["after"+l],[],o)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const o=this._typedRegistries[n];if(o.isForType(e))return o}return this.plugins}_get(e,n,o){const l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,n,o,l){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const u=l?this._descriptors(e).filter(l):this._descriptors(e),h=this._notify(u,e,n,o);return n==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall")),h}_notify(e,n,o,l){l=l||{};for(const u of e){const h=u.plugin,f=h[o],d=[n,l,u.options];if(callback(f,d,h)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const o=e&&e.config,l=valueOrDefault(o.options&&o.options.plugins,{}),u=allPlugins(o);return l===!1&&!n?[]:createDescriptors(e,u,l,n)}_notifyStateChanges(e){const n=this._oldCache||[],o=this._cache,l=(u,h)=>u.filter(f=>!h.some(d=>f.plugin.id===d.plugin.id));this._notify(l(n,o),e,"stop"),this._notify(l(o,n),e,"start")}}function allPlugins(t){const e={},n=[],o=Object.keys(registry.plugins.items);for(let u=0;u<o.length;u++)n.push(registry.getPlugin(o[u]));const l=t.plugins||[];for(let u=0;u<l.length;u++){const h=l[u];n.indexOf(h)===-1&&(n.push(h),e[h.id]=!0)}return{plugins:n,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:n},o,l){const u=[],h=t.getContext();for(const f of e){const d=f.id,p=getOpts(o[d],l);p!==null&&u.push({plugin:f,options:pluginOpts(t.config,{plugin:f,local:n[d]},p,h)})}return u}function pluginOpts(t,{plugin:e,local:n},o,l){const u=t.pluginScopeKeys(e),h=t.getOptionScopes(o,u);return n&&e.defaults&&h.push(e.defaults),t.createResolver(h,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const n=defaults$1.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const n of e){const o=n.axis||axisFromPosition(n.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(o=>o.xAxisID===t||o.yAxisID===t);if(n.length)return getAxisFromDataset(t,"x",n[0])||getAxisFromDataset(t,"y",n[0])}return{}}function mergeScaleConfig(t,e){const n=overrides[t.type]||{scales:{}},o=e.scales||{},l=getIndexAxis(t.type,e),u=Object.create(null);return Object.keys(o).forEach(h=>{const f=o[h];if(!isObject$1(f))return console.error(`Invalid scale configuration for scale: ${h}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);const d=determineAxis(h,f,retrieveAxisFromDatasets(h,t),defaults$1.scales[f.type]),p=getDefaultScaleIDFromAxis(d,l),m=n.scales||{};u[h]=mergeIf(Object.create(null),[{axis:d},f,m[d],m[p]])}),t.data.datasets.forEach(h=>{const f=h.type||t.type,d=h.indexAxis||getIndexAxis(f,e),m=(overrides[f]||{}).scales||{};Object.keys(m).forEach(v=>{const _=getAxisFromDefaultScaleID(v,d),S=h[_+"AxisID"]||_;u[S]=u[S]||Object.create(null),mergeIf(u[S],[{axis:_},o[S],m[v]])})}),Object.keys(u).forEach(h=>{const f=u[h];mergeIf(f,[defaults$1.scales[f.type],defaults$1.scale])}),u}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let n=keyCache.get(t);return n||(n=e(),keyCache.set(t,n),keysCached.add(n)),n}const addIfFound=(t,e,n)=>{const o=resolveObjectKey(e,n);o!==void 0&&t.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cachedKeys(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cachedKeys(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,o=this.type;return cachedKeys(`${o}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const o=this._scopeCache;let l=o.get(e);return(!l||n)&&(l=new Map,o.set(e,l)),l}getOptionScopes(e,n,o){const{options:l,type:u}=this,h=this._cachedScopes(e,o),f=h.get(n);if(f)return f;const d=new Set;n.forEach(m=>{e&&(d.add(e),m.forEach(v=>addIfFound(d,e,v))),m.forEach(v=>addIfFound(d,l,v)),m.forEach(v=>addIfFound(d,overrides[u]||{},v)),m.forEach(v=>addIfFound(d,defaults$1,v)),m.forEach(v=>addIfFound(d,descriptors,v))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),keysCached.has(n)&&h.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,overrides[n]||{},defaults$1.datasets[n]||{},{type:n},defaults$1,descriptors]}resolveNamedOptions(e,n,o,l=[""]){const u={$shared:!0},{resolver:h,subPrefixes:f}=getResolver(this._resolverCache,e,l);let d=h;if(needContext(h,n)){u.$shared=!1,o=isFunction$1(o)?o():o;const p=this.createResolver(e,o,f);d=_attachContext(h,o,p)}for(const p of n)u[p]=d[p];return u}createResolver(e,n,o=[""],l){const{resolver:u}=getResolver(this._resolverCache,e,o);return isObject$1(n)?_attachContext(u,n,void 0,l):u}}function getResolver(t,e,n){let o=t.get(e);o||(o=new Map,t.set(e,o));const l=n.join();let u=o.get(l);return u||(u={resolver:_createResolver(e,n),subPrefixes:n.filter(f=>!f.toLowerCase().includes("hover"))},o.set(l,u)),u}const hasFunction=t=>isObject$1(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction$1(t[e]));function needContext(t,e){const{isScriptable:n,isIndexable:o}=_descriptors(t);for(const l of e){const u=n(l),h=o(l),f=(h||u)&&t[l];if(u&&(isFunction$1(f)||hasFunction(f))||h&&isArray$1(f))return!0}return!1}var version="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(n,o){return n[t]===o[t]?n[e]-o[e]:n[t]-o[t]}}function onAnimationsComplete(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),callback(n&&n.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,n=e.options.animation;callback(n&&n.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(n=>n.canvas===e).pop()};function moveNumericKeys(t,e,n){const o=Object.keys(t);for(const l of o){const u=+l;if(u>=e){const h=t[l];delete t[l],(n>0||u>e)&&(t[u+n]=h)}}}function determineLastEvent(t,e,n,o){return!n||t.type==="mouseout"?null:o?e:t}var Js;let Chart$1=(Js=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,n){const o=this.config=new Config(n),l=getCanvas(e),u=getChart(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const h=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const f=this.platform.acquireContext(l,h.aspectRatio),d=f&&f.canvas,p=d&&d.height,m=d&&d.width;if(this.id=uid(),this.ctx=f,this.canvas=d,this.width=m,this.height=p,this._options=h,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(v=>this.update(v),h.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!f||!d){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:o,height:l,_aspectRatio:u}=this;return isNullOrUndef(e)?n&&u?u:l?o/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,n){animator.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const o=this.options,l=this.canvas,u=o.maintainAspectRatio&&this.aspectRatio,h=this.platform.getMaximumSize(l,e,n,u),f=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=h.width,this.height=h.height,this._aspectRatio=this.aspectRatio,retinaScale(this,f,!0)&&(this.notifyPlugins("resize",{size:h}),callback(o.onResize,[this,h],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};each(n,(o,l)=>{o.id=l})}buildOrUpdateScales(){const e=this.options,n=e.scales,o=this.scales,l=Object.keys(o).reduce((h,f)=>(h[f]=!1,h),{});let u=[];n&&(u=u.concat(Object.keys(n).map(h=>{const f=n[h],d=determineAxis(h,f),p=d==="r",m=d==="x";return{options:f,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),each(u,h=>{const f=h.options,d=f.id,p=determineAxis(d,f),m=valueOrDefault(f.type,h.dtype);(f.position===void 0||positionIsHorizontal(f.position,p)!==positionIsHorizontal(h.dposition))&&(f.position=h.dposition),l[d]=!0;let v=null;if(d in o&&o[d].type===m)v=o[d];else{const _=registry.getScale(m);v=new _({id:d,type:m,ctx:this.ctx,chart:this}),o[v.id]=v}v.init(f,e)}),each(l,(h,f)=>{h||delete o[f]}),each(o,h=>{layouts.configure(this,h,h.options),layouts.addBox(this,h)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,o=e.length;if(e.sort((l,u)=>l.index-u.index),o>n){for(let l=n;l<o;++l)this._destroyDatasetMeta(l);e.splice(n,o-n)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((o,l)=>{n.filter(u=>u===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=n.length;o<l;o++){const u=n[o];let h=this.getDatasetMeta(o);const f=u.type||this.config.type;if(h.type&&h.type!==f&&(this._destroyDatasetMeta(o),h=this.getDatasetMeta(o)),h.type=f,h.indexAxis=u.indexAxis||getIndexAxis(f,this.options),h.order=u.order||0,h.index=o,h.label=""+u.label,h.visible=this.isDatasetVisible(o),h.controller)h.controller.updateIndex(o),h.controller.linkScales();else{const d=registry.getController(f),{datasetElementType:p,dataElementType:m}=defaults$1.datasets[f];Object.assign(d,{dataElementType:registry.getElement(m),datasetElementType:p&&registry.getElement(p)}),h.controller=new d(this,o),e.push(h.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const o=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let h=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),_=!l&&u.indexOf(v)===-1;v.buildOrUpdateElements(_),h=Math.max(+v.getMaxOverflow(),h)}h=this._minPadding=o.layout.autoPadding?h:0,this._updateLayout(h),l||each(u,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:f,_lastEvent:d}=this;d?this._eventHandler(d,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(n,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:u}of n){const h=o==="_removeElements"?-u:u;moveNumericKeys(e,l,h)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,o=u=>new Set(e.filter(h=>h[0]===u).map((h,f)=>f+","+h.splice(1).join(","))),l=o(0);for(let u=1;u<n;u++)if(!setsEqual(l,o(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const n=this.chartArea,o=n.width<=0||n.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,o=this.data.datasets.length;n<o;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,o=this.data.datasets.length;n<o;++n)this._updateDataset(n,isFunction$1(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const o=this.getDatasetMeta(e),l={meta:o,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,o=[];let l,u;for(l=0,u=n.length;l<u;++l){const h=n[l];(!e||h.visible)&&o.push(h)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,o={meta:e,index:e.index,cancelable:!0},l=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(l&&clipArea(n,l),e.controller.draw(),l&&unclipArea(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,o,l){const u=Interaction.modes[n];return typeof u=="function"?u(this,e,o,l):[]}getDatasetMeta(e){const n=this.data.datasets[e],o=this._metasets;let l=o.filter(u=>u&&u._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!n.hidden}setDatasetVisibility(e,n){const o=this.getDatasetMeta(e);o.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,o){const l=o?"show":"hide",u=this.getDatasetMeta(e),h=u.controller._resolveAnimations(void 0,l);defined$1(n)?(u.data[n].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),h.update(u,{visible:o}),this.update(f=>f.datasetIndex===e?l:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),animator.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,o=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},l=(u,h,f)=>{u.offsetX=h,u.offsetY=f,this._eventHandler(u)};each(this.options.events,u=>o(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,o=(d,p)=>{n.addEventListener(this,d,p),e[d]=p},l=(d,p)=>{e[d]&&(n.removeEventListener(this,d,p),delete e[d])},u=(d,p)=>{this.canvas&&this.resize(d,p)};let h;const f=()=>{l("attach",f),this.attached=!0,this.resize(),o("resize",u),o("detach",h)};h=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),o("attach",f)},n.isAttached(this.canvas)?f():h()}unbindEvents(){each(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},each(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,o){const l=o?"set":"remove";let u,h,f,d;for(n==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),f=0,d=e.length;f<d;++f){h=e[f];const p=h&&this.getDatasetMeta(h.datasetIndex).controller;p&&p[l+"HoverStyle"](h.element,h.datasetIndex,h.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],o=e.map(({datasetIndex:u,index:h})=>{const f=this.getDatasetMeta(u);if(!f)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:f.data[h],index:h}});!_elementsEqual(o,n)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,n))}notifyPlugins(e,n,o){return this._plugins.notify(this,e,n,o)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,o){const l=this.options.hover,u=(d,p)=>d.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),h=u(n,e),f=o?e:u(e,n);h.length&&this.updateHoverStyle(h,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(e,n){const o={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},l=h=>(h.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const u=this._handleEvent(e,n,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(u||o.changed)&&this.render(),this}_handleEvent(e,n,o){const{_active:l=[],options:u}=this,h=n,f=this._getActiveElements(e,l,o,h),d=_isClickEvent(e),p=determineLastEvent(e,this._lastEvent,o,d);o&&(this._lastEvent=null,callback(u.onHover,[e,f,this],this),d&&callback(u.onClick,[e,f,this],this));const m=!_elementsEqual(f,l);return(m||n)&&(this._active=f,this._updateHoverStyles(f,l,n)),this._lastEvent=p,m}_getActiveElements(e,n,o,l){if(e.type==="mouseout")return[];if(!o)return n;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,l)}},dn(Js,"defaults",defaults$1),dn(Js,"instances",instances),dn(Js,"overrides",overrides),dn(Js,"registry",registry),dn(Js,"version",version),dn(Js,"getChart",getChart),Js);function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function setStyle(t,e,n=e){t.lineCap=valueOrDefault(n.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(n.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(n.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(n.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(n.borderColor,e.borderColor)}function lineTo(t,e,n){t.lineTo(n.x,n.y)}function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||t.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(t,e,n={}){const o=t.length,{start:l=0,end:u=o-1}=n,{start:h,end:f}=e,d=Math.max(l,h),p=Math.min(u,f),m=l<h&&u<h||l>f&&u>f;return{count:o,start:d,loop:e.loop,ilen:p<d&&!m?o+p-d:p-d}}function pathSegment(t,e,n,o){const{points:l,options:u}=e,{count:h,start:f,loop:d,ilen:p}=pathVars(l,n,o),m=getLineMethod(u);let{move:v=!0,reverse:_}=o||{},S,T,A;for(S=0;S<=p;++S)T=l[(f+(_?p-S:S))%h],!T.skip&&(v?(t.moveTo(T.x,T.y),v=!1):m(t,A,T,_,u.stepped),A=T);return d&&(T=l[(f+(_?p:0))%h],m(t,A,T,_,u.stepped)),!!d}function fastPathSegment(t,e,n,o){const l=e.points,{count:u,start:h,ilen:f}=pathVars(l,n,o),{move:d=!0,reverse:p}=o||{};let m=0,v=0,_,S,T,A,w,C;const O=F=>(h+(p?f-F:F))%u,L=()=>{A!==w&&(t.lineTo(m,w),t.lineTo(m,A),t.lineTo(m,C))};for(d&&(S=l[O(0)],t.moveTo(S.x,S.y)),_=0;_<=f;++_){if(S=l[O(_)],S.skip)continue;const F=S.x,B=S.y,U=F|0;U===T?(B<A?A=B:B>w&&(w=B),m=(v*m+F)/++v):(L(),t.lineTo(F,B),T=U,v=0,A=w=B),C=B}L()}function _getSegmentMethod(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fastPathSegment:pathSegment}function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||t.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(t,e,n,o){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,o)&&l.closePath()),setStyle(t,e.options),t.stroke(l)}function strokePathDirect(t,e,n,o){const{segments:l,options:u}=e,h=_getSegmentMethod(e);for(const f of l)setStyle(t,u,f.style),t.beginPath(),h(t,e,f,{start:n,end:n+o-1})&&t.closePath(),t.stroke()}const usePath2D=typeof Path2D=="function";function draw(t,e,n,o){usePath2D&&!e.options.segment?strokePathWithCache(t,e,n,o):strokePathDirect(t,e,n,o)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,l,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,o=e.length;return o&&n[e[o-1].end]}interpolate(e,n){const o=this.options,l=e[n],u=this.points,h=_boundSegments(this,{property:n,start:l,end:l});if(!h.length)return;const f=[],d=_getInterpolationMethod(o);let p,m;for(p=0,m=h.length;p<m;++p){const{start:v,end:_}=h[p],S=u[v],T=u[_];if(S===T){f.push(S);continue}const A=Math.abs((l-S[n])/(T[n]-S[n])),w=d(S,T,A,o.stepped);w[n]=e[n],f.push(w)}return f.length===1?f[0]:f}pathSegment(e,n,o){return _getSegmentMethod(this)(e,this,n,o)}path(e,n,o){const l=this.segments,u=_getSegmentMethod(this);let h=this._loop;n=n||0,o=o||this.points.length-n;for(const f of l)h&=u(e,this,f,{start:n,end:n+o-1});return!!h}draw(e,n,o,l){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),draw(e,this,o,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dn(LineElement,"id","line"),dn(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dn(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dn(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(t,e,n,o){const l=t.options,{[n]:u}=t.getProps([n],o);return Math.abs(e-u)<l.radius+l.hitRadius}class PointElement extends Element$1{constructor(n){super();dn(this,"parsed");dn(this,"skip");dn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,o,l){const u=this.options,{x:h,y:f}=this.getProps(["x","y"],l);return Math.pow(n-h,2)+Math.pow(o-f,2)<Math.pow(u.hitRadius+u.radius,2)}inXRange(n,o){return inRange$1(this,n,"x",o)}inYRange(n,o){return inRange$1(this,n,"y",o)}getCenterPoint(n){const{x:o,y:l}=this.getProps(["x","y"],n);return{x:o,y:l}}size(n){n=n||this.options||{};let o=n.radius||0;o=Math.max(o,o&&n.hoverRadius||0);const l=o&&n.borderWidth||0;return(o+l)*2}draw(n,o){const l=this.options;this.skip||l.radius<.1||!_isPointInArea(this,o,this.size(l)/2)||(n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.fillStyle=l.backgroundColor,drawPoint(n,l,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}dn(PointElement,"id","point"),dn(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dn(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(t,e)=>{let{boxHeight:n=e,boxWidth:o=e}=t;return t.usePointStyle&&(n=Math.min(n,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(e,n)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let Legend$1=class extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,o){this.maxWidth=e,this.maxHeight=n,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(o=>e.filter(o,this.chart.data))),e.sort&&(n=n.sort((o,l)=>e.sort(o,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,l=toFont(o.font),u=l.size,h=this._computeTitleHeight(),{boxWidth:f,itemHeight:d}=getBoxSize(o,u);let p,m;n.font=l.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(h,u,f,d)+10):(m=this.maxHeight,p=this._fitCols(h,l,f,d)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,o,l){const{ctx:u,maxWidth:h,options:{labels:{padding:f}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],m=l+f;let v=e;u.textAlign="left",u.textBaseline="middle";let _=-1,S=-m;return this.legendItems.forEach((T,A)=>{const w=o+n/2+u.measureText(T.text).width;(A===0||p[p.length-1]+w+2*f>h)&&(v+=m,p[p.length-(A>0?0:1)]=0,S+=m,_++),d[A]={left:0,top:S,row:_,width:w,height:l},p[p.length-1]+=w+f}),v}_fitCols(e,n,o,l){const{ctx:u,maxHeight:h,options:{labels:{padding:f}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],m=h-e;let v=f,_=0,S=0,T=0,A=0;return this.legendItems.forEach((w,C)=>{const{itemWidth:O,itemHeight:L}=calculateItemSize(o,n,u,w,l);C>0&&S+L+2*f>m&&(v+=_+f,p.push({width:_,height:S}),T+=_+f,A++,_=S=0),d[C]={left:T,top:S,col:A,width:O,height:L},_=Math.max(_,O),S+=L+f}),v+=_,p.push({width:_,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:o,labels:{padding:l},rtl:u}}=this,h=getRtlAdapter(u,this.left,this.width);if(this.isHorizontal()){let f=0,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[f]);for(const p of n)f!==p.row&&(f=p.row,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[f])),p.top+=this.top+e+l,p.left=h.leftForLtr(h.x(d),p.width),d+=p.width+l}else{let f=0,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[f].height);for(const p of n)p.col!==f&&(f=p.col,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[f].height)),p.top=d,p.left+=this.left+l,p.left=h.leftForLtr(h.x(p.left),p.width),d+=p.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:o,ctx:l}=this,{align:u,labels:h}=e,f=defaults$1.color,d=getRtlAdapter(e.rtl,this.left,this.width),p=toFont(h.font),{padding:m}=h,v=p.size,_=v/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=p.string;const{boxWidth:T,boxHeight:A,itemHeight:w}=getBoxSize(h,v),C=function(U,V,q){if(isNaN(T)||T<=0||isNaN(A)||A<0)return;l.save();const H=valueOrDefault(q.lineWidth,1);if(l.fillStyle=valueOrDefault(q.fillStyle,f),l.lineCap=valueOrDefault(q.lineCap,"butt"),l.lineDashOffset=valueOrDefault(q.lineDashOffset,0),l.lineJoin=valueOrDefault(q.lineJoin,"miter"),l.lineWidth=H,l.strokeStyle=valueOrDefault(q.strokeStyle,f),l.setLineDash(valueOrDefault(q.lineDash,[])),h.usePointStyle){const G={radius:A*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:H},Y=d.xPlus(U,T/2),Q=V+_;drawPointLegend(l,G,Y,Q,h.pointStyleWidth&&T)}else{const G=V+Math.max((v-A)/2,0),Y=d.leftForLtr(U,T),Q=toTRBLCorners(q.borderRadius);l.beginPath(),Object.values(Q).some(ie=>ie!==0)?addRoundedRectPath(l,{x:Y,y:G,w:T,h:A,radius:Q}):l.rect(Y,G,T,A),l.fill(),H!==0&&l.stroke()}l.restore()},O=function(U,V,q){renderText(l,q.text,U,V+w/2,p,{strikethrough:q.hidden,textAlign:d.textAlign(q.textAlign)})},L=this.isHorizontal(),F=this._computeTitleHeight();L?S={x:_alignStartEnd(u,this.left+m,this.right-o[0]),y:this.top+m+F,line:0}:S={x:this.left+m,y:_alignStartEnd(u,this.top+F+m,this.bottom-n[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const B=w+m;this.legendItems.forEach((U,V)=>{l.strokeStyle=U.fontColor,l.fillStyle=U.fontColor;const q=l.measureText(U.text).width,H=d.textAlign(U.textAlign||(U.textAlign=h.textAlign)),G=T+_+q;let Y=S.x,Q=S.y;d.setWidth(this.width),L?V>0&&Y+G+m>this.right&&(Q=S.y+=B,S.line++,Y=S.x=_alignStartEnd(u,this.left+m,this.right-o[S.line])):V>0&&Q+B>this.bottom&&(Y=S.x=Y+n[S.line].width+m,S.line++,Q=S.y=_alignStartEnd(u,this.top+F+m,this.bottom-n[S.line].height));const ie=d.x(Y);if(C(ie,Q,U),Y=_textX(H,Y+T+_,L?Y+G:this.right,e.rtl),O(d.x(Y),Q,U),L)S.x+=G+m;else if(typeof U.text!="string"){const ae=p.lineHeight;S.y+=calculateLegendItemHeight(U,ae)+m}else S.y+=B}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,o=toFont(n.font),l=toPadding(n.padding);if(!n.display)return;const u=getRtlAdapter(e.rtl,this.left,this.width),h=this.ctx,f=n.position,d=o.size/2,p=l.top+d;let m,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),m=this.top+p,v=_alignStartEnd(e.align,v,this.right-_);else{const T=this.columnSizes.reduce((A,w)=>Math.max(A,w.height),0);m=p+_alignStartEnd(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const S=_alignStartEnd(f,v,v+_);h.textAlign=u.textAlign(_toLeftRightCenter(f)),h.textBaseline="middle",h.strokeStyle=n.color,h.fillStyle=n.color,h.font=o.string,renderText(h,n.text,S,m,o)}_computeTitleHeight(){const e=this.options.title,n=toFont(e.font),o=toPadding(e.padding);return e.display?n.lineHeight+o.height:0}_getLegendItemAt(e,n){let o,l,u;if(_isBetween(e,this.left,this.right)&&_isBetween(n,this.top,this.bottom)){for(u=this.legendHitBoxes,o=0;o<u.length;++o)if(l=u[o],_isBetween(e,l.left,l.left+l.width)&&_isBetween(n,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(e){const n=this.options;if(!isListened(e.type,n))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,u=itemsEqual(l,o);l&&!u&&callback(n.onLeave,[e,l,this],this),this._hoveredItem=o,o&&!u&&callback(n.onHover,[e,o,this],this)}else o&&callback(n.onClick,[e,o,this],this)}};function calculateItemSize(t,e,n,o,l){const u=calculateItemWidth(o,t,e,n),h=calculateItemHeight(l,o,e.lineHeight);return{itemWidth:u,itemHeight:h}}function calculateItemWidth(t,e,n,o){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((u,h)=>u.length>h.length?u:h)),e+n.size/2+o.measureText(l).width}function calculateItemHeight(t,e,n){let o=t;return typeof e.text!="string"&&(o=calculateLegendItemHeight(e,n)),o}function calculateLegendItemHeight(t,e){const n=t.text?t.text.length:0;return e*n}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(t,e,n){const o=t.legend=new Legend$1({ctx:t.ctx,options:n,chart:t});layouts.configure(t,o,n),layouts.addBox(t,o)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const o=t.legend;layouts.configure(t,o,n),o.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const o=e.datasetIndex,l=n.chart;l.isDatasetVisible(o)?(l.hide(o),e.hidden=!0):(l.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:l,color:u,useBorderRadius:h,borderRadius:f}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(n?0:void 0),m=toPadding(p.borderWidth);return{text:e[d.index].label,fillStyle:p.backgroundColor,fontColor:u,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:o||p.pointStyle,rotation:p.rotation,textAlign:l||p.textAlign,borderRadius:h&&(f||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const l=isArray$1(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const u=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:o,bottom:l,right:u,options:h}=this,f=h.align;let d=0,p,m,v;return this.isHorizontal()?(m=_alignStartEnd(f,o,u),v=n+e,p=u-o):(h.position==="left"?(m=o+e,v=_alignStartEnd(f,l,n),d=PI*-.5):(m=u-e,v=_alignStartEnd(f,n,l),d=PI*.5),p=l-n),{titleX:m,titleY:v,maxWidth:p,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const o=toFont(n.font),u=o.lineHeight/2+this._padding.top,{titleX:h,titleY:f,maxWidth:d,rotation:p}=this._drawArgs(u);renderText(e,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:p,textAlign:_toLeftRightCenter(n.align),textBaseline:"middle",translation:[h,f]})}}function createTitle(t,e){const n=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,n,e),layouts.addBox(t,n),t.titleBlock=n}var plugin_title={id:"title",_element:Title,start(t,e,n){createTitle(t,n)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const o=t.titleBlock;layouts.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,n,o=new Set,l=0,u=0;for(e=0,n=t.length;e<n;++e){const f=t[e].element;if(f&&f.hasValue()){const d=f.tooltipPosition();o.add(d.x),l+=d.y,++u}}return u===0||o.size===0?!1:{x:[...o].reduce((f,d)=>f+d)/o.size,y:l/u}},nearest(t,e){if(!t.length)return!1;let n=e.x,o=e.y,l=Number.POSITIVE_INFINITY,u,h,f;for(u=0,h=t.length;u<h;++u){const d=t[u].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),m=distanceBetweenPoints$1(e,p);m<l&&(l=m,f=d)}}if(f){const d=f.tooltipPosition();n=d.x,o=d.y}return{x:n,y:o}}};function pushOrConcat(t,e){return e&&(isArray$1(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:n,datasetIndex:o,index:l}=e,u=t.getDatasetMeta(o).controller,{label:h,value:f}=u.getLabelAndValue(l);return{chart:t,label:h,parsed:u.getParsed(l),raw:t.data.datasets[o].data[l],formattedValue:f,dataset:u.getDataset(),dataIndex:l,datasetIndex:o,element:n}}function getTooltipSize(t,e){const n=t.chart.ctx,{body:o,footer:l,title:u}=t,{boxWidth:h,boxHeight:f}=e,d=toFont(e.bodyFont),p=toFont(e.titleFont),m=toFont(e.footerFont),v=u.length,_=l.length,S=o.length,T=toPadding(e.padding);let A=T.height,w=0,C=o.reduce((F,B)=>F+B.before.length+B.lines.length+B.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,v&&(A+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),C){const F=e.displayColors?Math.max(f,d.lineHeight):d.lineHeight;A+=S*F+(C-S)*d.lineHeight+(C-1)*e.bodySpacing}_&&(A+=e.footerMarginTop+_*m.lineHeight+(_-1)*e.footerSpacing);let O=0;const L=function(F){w=Math.max(w,n.measureText(F).width+O)};return n.save(),n.font=p.string,each(t.title,L),n.font=d.string,each(t.beforeBody.concat(t.afterBody),L),O=e.displayColors?h+2+e.boxPadding:0,each(o,F=>{each(F.before,L),each(F.lines,L),each(F.after,L)}),O=0,n.font=m.string,each(t.footer,L),n.restore(),w+=T.width,{width:w,height:A}}function determineYAlign(t,e){const{y:n,height:o}=e;return n<o/2?"top":n>t.height-o/2?"bottom":"center"}function doesNotFitWithAlign(t,e,n,o){const{x:l,width:u}=o,h=n.caretSize+n.caretPadding;if(t==="left"&&l+u+h>e.width||t==="right"&&l-u-h<0)return!0}function determineXAlign(t,e,n,o){const{x:l,width:u}=n,{width:h,chartArea:{left:f,right:d}}=t;let p="center";return o==="center"?p=l<=(f+d)/2?"left":"right":l<=u/2?p="left":l>=h-u/2&&(p="right"),doesNotFitWithAlign(p,t,e,n)&&(p="center"),p}function determineAlignment(t,e,n){const o=n.yAlign||e.yAlign||determineYAlign(t,n);return{xAlign:n.xAlign||e.xAlign||determineXAlign(t,e,n,o),yAlign:o}}function alignX(t,e){let{x:n,width:o}=t;return e==="right"?n-=o:e==="center"&&(n-=o/2),n}function alignY(t,e,n){let{y:o,height:l}=t;return e==="top"?o+=n:e==="bottom"?o-=l+n:o-=l/2,o}function getBackgroundPoint(t,e,n,o){const{caretSize:l,caretPadding:u,cornerRadius:h}=t,{xAlign:f,yAlign:d}=n,p=l+u,{topLeft:m,topRight:v,bottomLeft:_,bottomRight:S}=toTRBLCorners(h);let T=alignX(e,f);const A=alignY(e,d,p);return d==="center"?f==="left"?T+=p:f==="right"&&(T-=p):f==="left"?T-=Math.max(m,_)+l:f==="right"&&(T+=Math.max(v,S)+l),{x:_limitValue(T,0,o.width-e.width),y:_limitValue(A,0,o.height-e.height)}}function getAlignedX(t,e,n){const o=toPadding(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,n){return createContext(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function overrideCallbacks(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const defaultCallbacks={beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,o=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return n[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return isNullOrUndef(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(t,e,n,o){const l=t[e].call(n,o);return typeof l>"u"?defaultCallbacks[e].call(n,o):l}var Ou;let Tooltip$1=(Ou=class extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&n.options.animation&&o.animations,u=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeTitle",this,e),u=invokeCallbackWithFallback(o,"title",this,e),h=invokeCallbackWithFallback(o,"afterTitle",this,e);let f=[];return f=pushOrConcat(f,splitNewlines(l)),f=pushOrConcat(f,splitNewlines(u)),f=pushOrConcat(f,splitNewlines(h)),f}getBeforeBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:o}=n,l=[];return each(e,u=>{const h={before:[],lines:[],after:[]},f=overrideCallbacks(o,u);pushOrConcat(h.before,splitNewlines(invokeCallbackWithFallback(f,"beforeLabel",this,u))),pushOrConcat(h.lines,invokeCallbackWithFallback(f,"label",this,u)),pushOrConcat(h.after,splitNewlines(invokeCallbackWithFallback(f,"afterLabel",this,u))),l.push(h)}),l}getAfterBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeFooter",this,e),u=invokeCallbackWithFallback(o,"footer",this,e),h=invokeCallbackWithFallback(o,"afterFooter",this,e);let f=[];return f=pushOrConcat(f,splitNewlines(l)),f=pushOrConcat(f,splitNewlines(u)),f=pushOrConcat(f,splitNewlines(h)),f}_createItems(e){const n=this._active,o=this.chart.data,l=[],u=[],h=[];let f=[],d,p;for(d=0,p=n.length;d<p;++d)f.push(createTooltipItem(this.chart,n[d]));return e.filter&&(f=f.filter((m,v,_)=>e.filter(m,v,_,o))),e.itemSort&&(f=f.sort((m,v)=>e.itemSort(m,v,o))),each(f,m=>{const v=overrideCallbacks(e.callbacks,m);l.push(invokeCallbackWithFallback(v,"labelColor",this,m)),u.push(invokeCallbackWithFallback(v,"labelPointStyle",this,m)),h.push(invokeCallbackWithFallback(v,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=h,this.dataPoints=f,f}update(e,n){const o=this.options.setContext(this.getContext()),l=this._active;let u,h=[];if(!l.length)this.opacity!==0&&(u={opacity:0});else{const f=positioners[o.position].call(this,l,this._eventPosition);h=this._createItems(o),this.title=this.getTitle(h,o),this.beforeBody=this.getBeforeBody(h,o),this.body=this.getBody(h,o),this.afterBody=this.getAfterBody(h,o),this.footer=this.getFooter(h,o);const d=this._size=getTooltipSize(this,o),p=Object.assign({},f,d),m=determineAlignment(this.chart,o,p),v=getBackgroundPoint(o,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,u={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:f.x,caretY:f.y}}this._tooltipItems=h,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,o,l){const u=this.getCaretPosition(e,o,l);n.lineTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineTo(u.x3,u.y3)}getCaretPosition(e,n,o){const{xAlign:l,yAlign:u}=this,{caretSize:h,cornerRadius:f}=o,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:v}=toTRBLCorners(f),{x:_,y:S}=e,{width:T,height:A}=n;let w,C,O,L,F,B;return u==="center"?(F=S+A/2,l==="left"?(w=_,C=w-h,L=F+h,B=F-h):(w=_+T,C=w+h,L=F-h,B=F+h),O=w):(l==="left"?C=_+Math.max(d,m)+h:l==="right"?C=_+T-Math.max(p,v)-h:C=this.caretX,u==="top"?(L=S,F=L-h,w=C-h,O=C+h):(L=S+A,F=L+h,w=C+h,O=C-h),B=L),{x1:w,x2:C,x3:O,y1:L,y2:F,y3:B}}drawTitle(e,n,o){const l=this.title,u=l.length;let h,f,d;if(u){const p=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),n.textAlign=p.textAlign(o.titleAlign),n.textBaseline="middle",h=toFont(o.titleFont),f=o.titleSpacing,n.fillStyle=o.titleColor,n.font=h.string,d=0;d<u;++d)n.fillText(l[d],p.x(e.x),e.y+h.lineHeight/2),e.y+=h.lineHeight+f,d+1===u&&(e.y+=o.titleMarginBottom-f)}}_drawColorBox(e,n,o,l,u){const h=this.labelColors[o],f=this.labelPointStyles[o],{boxHeight:d,boxWidth:p}=u,m=toFont(u.bodyFont),v=getAlignedX(this,"left",u),_=l.x(v),S=d<m.lineHeight?(m.lineHeight-d)/2:0,T=n.y+S;if(u.usePointStyle){const A={radius:Math.min(p,d)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},w=l.leftForLtr(_,p)+p/2,C=T+d/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,drawPoint(e,A,w,C),e.strokeStyle=h.borderColor,e.fillStyle=h.backgroundColor,drawPoint(e,A,w,C)}else{e.lineWidth=isObject$1(h.borderWidth)?Math.max(...Object.values(h.borderWidth)):h.borderWidth||1,e.strokeStyle=h.borderColor,e.setLineDash(h.borderDash||[]),e.lineDashOffset=h.borderDashOffset||0;const A=l.leftForLtr(_,p),w=l.leftForLtr(l.xPlus(_,1),p-2),C=toTRBLCorners(h.borderRadius);Object.values(C).some(O=>O!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,addRoundedRectPath(e,{x:A,y:T,w:p,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=h.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:w,y:T+1,w:p-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(A,T,p,d),e.strokeRect(A,T,p,d),e.fillStyle=h.backgroundColor,e.fillRect(w,T+1,p-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,n,o){const{body:l}=this,{bodySpacing:u,bodyAlign:h,displayColors:f,boxHeight:d,boxWidth:p,boxPadding:m}=o,v=toFont(o.bodyFont);let _=v.lineHeight,S=0;const T=getRtlAdapter(o.rtl,this.x,this.width),A=function(q){n.fillText(q,T.x(e.x+S),e.y+_/2),e.y+=_+u},w=T.textAlign(h);let C,O,L,F,B,U,V;for(n.textAlign=h,n.textBaseline="middle",n.font=v.string,e.x=getAlignedX(this,w,o),n.fillStyle=o.bodyColor,each(this.beforeBody,A),S=f&&w!=="right"?h==="center"?p/2+m:p+2+m:0,F=0,U=l.length;F<U;++F){for(C=l[F],O=this.labelTextColors[F],n.fillStyle=O,each(C.before,A),L=C.lines,f&&L.length&&(this._drawColorBox(n,e,F,T,o),_=Math.max(v.lineHeight,d)),B=0,V=L.length;B<V;++B)A(L[B]),_=v.lineHeight;each(C.after,A)}S=0,_=v.lineHeight,each(this.afterBody,A),e.y-=u}drawFooter(e,n,o){const l=this.footer,u=l.length;let h,f;if(u){const d=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,n.textAlign=d.textAlign(o.footerAlign),n.textBaseline="middle",h=toFont(o.footerFont),n.fillStyle=o.footerColor,n.font=h.string,f=0;f<u;++f)n.fillText(l[f],d.x(e.x),e.y+h.lineHeight/2),e.y+=h.lineHeight+o.footerSpacing}}drawBackground(e,n,o,l){const{xAlign:u,yAlign:h}=this,{x:f,y:d}=e,{width:p,height:m}=o,{topLeft:v,topRight:_,bottomLeft:S,bottomRight:T}=toTRBLCorners(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(f+v,d),h==="top"&&this.drawCaret(e,n,o,l),n.lineTo(f+p-_,d),n.quadraticCurveTo(f+p,d,f+p,d+_),h==="center"&&u==="right"&&this.drawCaret(e,n,o,l),n.lineTo(f+p,d+m-T),n.quadraticCurveTo(f+p,d+m,f+p-T,d+m),h==="bottom"&&this.drawCaret(e,n,o,l),n.lineTo(f+S,d+m),n.quadraticCurveTo(f,d+m,f,d+m-S),h==="center"&&u==="left"&&this.drawCaret(e,n,o,l),n.lineTo(f,d+v),n.quadraticCurveTo(f,d,f+v,d),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,o=this.$animations,l=o&&o.x,u=o&&o.y;if(l||u){const h=positioners[e.position].call(this,this._active,this._eventPosition);if(!h)return;const f=this._size=getTooltipSize(this,e),d=Object.assign({},h,this._size),p=determineAlignment(n,e,d),m=getBackgroundPoint(e,d,p,n);(l._to!==m.x||u._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=f.width,this.height=f.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const h=toPadding(n.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&f&&(e.save(),e.globalAlpha=o,this.drawBackground(u,e,l,n),overrideTextDirection(e,n.textDirection),u.y+=h.top,this.drawTitle(u,e,n),this.drawBody(u,e,n),this.drawFooter(u,e,n),restoreTextDirection(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const o=this._active,l=e.map(({datasetIndex:f,index:d})=>{const p=this.chart.getDatasetMeta(f);if(!p)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:p.data[d],index:d}}),u=!_elementsEqual(o,l),h=this._positionChanged(l,n);(u||h)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,o=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],h=this._getActiveElements(e,u,n,o),f=this._positionChanged(h,e),d=n||!_elementsEqual(h,u)||f;return d&&(this._active=h,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,o,l){const u=this.options;if(e.type==="mouseout")return[];if(!l)return n.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const h=this.chart.getElementsAtEventForMode(e,u.mode,u,o);return u.reverse&&h.reverse(),h}_positionChanged(e,n){const{caretX:o,caretY:l,options:u}=this,h=positioners[u.position].call(this,e,n);return h!==!1&&(o!==h.x||l!==h.y)}},dn(Ou,"positioners",positioners),Ou);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(t,e,n){n&&(t.tooltip=new Tooltip$1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,n,o)=>(typeof e=="string"?(n=t.push(e)-1,o.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function findOrAddLabel(t,e,n,o){const l=t.indexOf(e);if(l===-1)return addIfString(t,e,n,o);const u=t.lastIndexOf(e);return l!==u?n:l}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const o=this.getLabels();for(const{index:l,label:u}of n)o[l]===u&&o.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(isNullOrUndef(e))return null;const o=this.getLabels();return n=isFinite(n)&&o[n]===e?n:findOrAddLabel(o,e,valueOrDefault(n,e),this._addedLabels),validIndex(n,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),n||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const e=this.min,n=this.max,o=this.options.offset,l=[];let u=this.getLabels();u=e===0&&n===u.length-1?u:u.slice(e,n+1),this._valueRange=Math.max(u.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let h=e;h<=n;h++)l.push({value:h});return l}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dn(CategoryScale,"id","category"),dn(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(t,e){const n=[],{bounds:l,step:u,min:h,max:f,precision:d,count:p,maxTicks:m,maxDigits:v,includeBounds:_}=t,S=u||1,T=m-1,{min:A,max:w}=e,C=!isNullOrUndef(h),O=!isNullOrUndef(f),L=!isNullOrUndef(p),F=(w-A)/(v+1);let B=niceNum((w-A)/T/S)*S,U,V,q,H;if(B<1e-14&&!C&&!O)return[{value:A},{value:w}];H=Math.ceil(w/B)-Math.floor(A/B),H>T&&(B=niceNum(H*B/T/S)*S),isNullOrUndef(d)||(U=Math.pow(10,d),B=Math.ceil(B*U)/U),l==="ticks"?(V=Math.floor(A/B)*B,q=Math.ceil(w/B)*B):(V=A,q=w),C&&O&&u&&almostWhole((f-h)/u,B/1e3)?(H=Math.round(Math.min((f-h)/B,m)),B=(f-h)/H,V=h,q=f):L?(V=C?h:V,q=O?f:q,H=p-1,B=(q-V)/H):(H=(q-V)/B,almostEquals(H,Math.round(H),B/1e3)?H=Math.round(H):H=Math.ceil(H));const G=Math.max(_decimalPlaces(B),_decimalPlaces(V));U=Math.pow(10,isNullOrUndef(d)?G:d),V=Math.round(V*U)/U,q=Math.round(q*U)/U;let Y=0;for(C&&(_&&V!==h?(n.push({value:h}),V<h&&Y++,almostEquals(Math.round((V+Y*B)*U)/U,h,relativeLabelSize(h,F,t))&&Y++):V<h&&Y++);Y<H;++Y){const Q=Math.round((V+Y*B)*U)/U;if(O&&Q>f)break;n.push({value:Q})}return O&&_&&q!==f?n.length&&almostEquals(n[n.length-1].value,f,relativeLabelSize(f,F,t))?n[n.length-1].value=f:n.push({value:f}):(!O||q===f)&&n.push({value:q}),n}function relativeLabelSize(t,e,{horizontal:n,minRotation:o}){const l=toRadians(o),u=(n?Math.sin(l):Math.cos(l))||.001,h=.75*e*(""+t).length;return Math.min(e/u,h)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:o}=this.getUserBounds();let{min:l,max:u}=this;const h=d=>l=n?l:d,f=d=>u=o?u:d;if(e){const d=sign$2(l),p=sign$2(u);d<0&&p<0?f(0):d>0&&p>0&&h(0)}if(l===u){let d=u===0?1:Math.abs(u*.05);f(u+d),e||h(l-d)}this.min=l,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:o}=e,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},u=this._range||this,h=generateTicks$1(l,u);return e.bounds==="ticks"&&_setMinAndMaxByKey(h,this,"value"),e.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const e=this.ticks;let n=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const l=(o-n)/Math.max(e.length-1,1)/2;n-=l,o+=l}this._startValue=n,this._endValue=o,this._valueRange=o-n}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(e?Math.sin(o):Math.cos(o))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,u.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dn(LinearScale,"id","linear"),dn(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const n=t._adapter,{parser:o,round:l,isoWeekday:u}=t._parseOpts;let h=e;return typeof o=="function"&&(h=o(h)),isNumberFinite(h)||(h=typeof o=="string"?n.parse(h,o):n.parse(h)),h===null?null:(l&&(h=l==="week"&&(isNumber$2(u)||u===!0)?n.startOf(h,"isoWeek",u):n.startOf(h,l)),+h)}function determineUnitForAutoTicks(t,e,n,o){const l=UNITS.length;for(let u=UNITS.indexOf(t);u<l-1;++u){const h=INTERVALS[UNITS[u]],f=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((n-e)/(f*h.size))<=o)return UNITS[u]}return UNITS[l-1]}function determineUnitForFormatting(t,e,n,o,l){for(let u=UNITS.length-1;u>=UNITS.indexOf(n);u--){const h=UNITS[u];if(INTERVALS[h].common&&t._adapter.diff(l,o,h)>=e-1)return h}return UNITS[n?UNITS.indexOf(n):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,n=UNITS.length;e<n;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:o,hi:l}=_lookup(n,e),u=n[o]>=e?n[o]:n[l];t[u]=!0}}function setMajorTicks(t,e,n,o){const l=t._adapter,u=+l.startOf(e[0].value,o),h=e[e.length-1].value;let f,d;for(f=u;f<=h;f=+l.add(f,1,o))d=n[f],d>=0&&(e[d].major=!0);return e}function ticksFromTimestamps(t,e,n){const o=[],l={},u=e.length;let h,f;for(h=0;h<u;++h)f=e[h],l[f]=h,o.push({value:f,major:!1});return u===0||!n?o:setMajorTicks(t,o,l,n)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const o=e.time||(e.time={}),l=this._adapter=new adapters._date(e.adapters.date);l.init(n),mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,o=e.time.unit||"day";let{min:l,max:u,minDefined:h,maxDefined:f}=this.getUserBounds();function d(p){!h&&!isNaN(p.min)&&(l=Math.min(l,p.min)),!f&&!isNaN(p.max)&&(u=Math.max(u,p.max))}(!h||!f)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+n.startOf(Date.now(),o),u=isNumberFinite(u)&&!isNaN(u)?u:+n.endOf(Date.now(),o)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],o=e[e.length-1]),{min:n,max:o}}buildTicks(){const e=this.options,n=e.time,o=e.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,h=this.max,f=_filterBetween(l,u,h);return this._unit=n.unit||(o.autoSkip?determineUnitForAutoTicks(n.minUnit,this.min,this.max,this._getLabelCapacity(u)):determineUnitForFormatting(this,f.length,n.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),e.reverse&&f.reverse(),ticksFromTimestamps(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,o=0,l,u;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?n=1-l:n=(this.getDecimalForValue(e[1])-l)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?o=u:o=(u-this.getDecimalForValue(e[e.length-2]))/2);const h=e.length<3?.5:.25;n=_limitValue(n,0,h),o=_limitValue(o,0,h),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const e=this._adapter,n=this.min,o=this.max,l=this.options,u=l.time,h=u.unit||determineUnitForAutoTicks(u.minUnit,n,o,this._getLabelCapacity(n)),f=valueOrDefault(l.ticks.stepSize,1),d=h==="week"?u.isoWeekday:!1,p=isNumber$2(d)||d===!0,m={};let v=n,_,S;if(p&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,p?"day":h),e.diff(o,n,h)>1e5*f)throw new Error(n+" and "+o+" are too far apart with stepSize of "+f+" "+h);const T=l.ticks.source==="data"&&this.getDataTimestamps();for(_=v,S=0;_<o;_=+e.add(_,f,h),S++)addTick(m,_,T);return(_===o||l.bounds==="ticks"||S===1)&&addTick(m,_,T),Object.keys(m).sort(sorter).map(A=>+A)}getLabelForValue(e){const n=this._adapter,o=this.options.time;return o.tooltipFormat?n.format(e,o.tooltipFormat):n.format(e,o.displayFormats.datetime)}format(e,n){const l=this.options.time.displayFormats,u=this._unit,h=n||l[u];return this._adapter.format(e,h)}_tickFormatFunction(e,n,o,l){const u=this.options,h=u.ticks.callback;if(h)return callback(h,[e,n,o],this);const f=u.time.displayFormats,d=this._unit,p=this._majorUnit,m=d&&f[d],v=p&&f[p],_=o[n],S=p&&v&&_&&_.major;return this._adapter.format(e,l||(S?v:m))}generateTickLabels(e){let n,o,l;for(n=0,o=e.length;n<o;++n)l=e[n],l.label=this._tickFormatFunction(l.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+o)*n.factor)}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,o=this.ctx.measureText(e).width,l=toRadians(this.isHorizontal()?n.maxRotation:n.minRotation),u=Math.cos(l),h=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:o*u+f*h,h:o*h+f*u}}_getLabelCapacity(e){const n=this.options.time,o=n.displayFormats,l=o[n.unit]||o.millisecond,u=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),l),h=this._getLabelSize(u),f=Math.floor(this.isHorizontal()?this.width/h.w:this.height/h.h)-1;return f>0?f:1}getDataTimestamps(){let e=this._cache.data||[],n,o;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,o=l.length;n<o;++n)e=e.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,o;if(e.length)return e;const l=this.getLabels();for(n=0,o=l.length;n<o;++n)e.push(parse(this,l[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}dn(TimeScale,"id","time"),dn(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate$1(t,e,n){let o=0,l=t.length-1,u,h,f,d;n?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=_lookupByKey(t,"pos",e)),{pos:u,time:f}=t[o],{pos:h,time:d}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=_lookupByKey(t,"time",e)),{time:u,pos:f}=t[o],{time:h,pos:d}=t[l]);const p=h-u;return p?f+(d-f)*(e-u)/p:f}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=interpolate$1(n,this.min),this._tableRange=interpolate$1(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:o}=this,l=[],u=[];let h,f,d,p,m;for(h=0,f=e.length;h<f;++h)p=e[h],p>=n&&p<=o&&l.push(p);if(l.length<2)return[{time:n,pos:0},{time:o,pos:1}];for(h=0,f=l.length;h<f;++h)m=l[h+1],d=l[h-1],p=l[h],Math.round((m+d)/2)!==p&&u.push({time:p,pos:h/(f-1)});return u}_generate(){const e=this.min,n=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(n)||o.length===1)&&o.push(n),o.sort((l,u)=>l-u)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),o=this.getLabelTimestamps();return n.length&&o.length?e=this.normalize(n.concat(o)):e=n.length?n:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate$1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return interpolate$1(this._table,o*this._tableRange+this._minPos,!0)}}dn(TimeSeriesScale,"id","timeseries"),dn(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function setOptions(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const o=[];t.datasets=e.map(l=>{const u=t.datasets.find(h=>h[n]===l[n]);return!u||!l.data||o.includes(u)?{...l}:(o.push(u),Object.assign(u,l),u)})}function cloneData(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const n={labels:[],datasets:[]};return setLabels(n,t.labels),setDatasets(n,t.datasets,e),n}function ChartComponent(t,e){const{height:n=150,width:o=300,redraw:l=!1,datasetIdKey:u,type:h,data:f,options:d,plugins:p=[],fallbackContent:m,updateMode:v,..._}=t,S=reactExports.useRef(null),T=reactExports.useRef(null),A=()=>{S.current&&(T.current=new Chart$1(S.current,{type:h,data:cloneData(f,u),options:d&&{...d},plugins:p}),reforwardRef(e,T.current))},w=()=>{reforwardRef(e,null),T.current&&(T.current.destroy(),T.current=null)};return reactExports.useEffect(()=>{!l&&T.current&&d&&setOptions(T.current,d)},[l,d]),reactExports.useEffect(()=>{!l&&T.current&&setLabels(T.current.config.data,f.labels)},[l,f.labels]),reactExports.useEffect(()=>{!l&&T.current&&f.datasets&&setDatasets(T.current.config.data,f.datasets,u)},[l,f.datasets]),reactExports.useEffect(()=>{T.current&&(l?(w(),setTimeout(A)):T.current.update(v))},[l,d,f.labels,f.datasets,v]),reactExports.useEffect(()=>{T.current&&(w(),setTimeout(A))},[h]),reactExports.useEffect(()=>(A(),()=>w()),[]),React.createElement("canvas",{ref:S,role:"img",height:n,width:o,..._},m)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(t,e){return Chart$1.register(e),reactExports.forwardRef((n,o)=>React.createElement(Chart,{...n,ref:o,type:t}))}const Line$1=createTypedChart("line",LineController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const YieldGapChart=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.1}),o={labels:["2000","2005","2010","2015","2020","2025"],datasets:[{label:"Produtividade Potencial (PP)",data:[5400,5500,5600,5700,5800,5900],borderColor:"rgba(46, 125, 50, 0.8)",backgroundColor:"rgba(46, 125, 50, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Atingvel (PA)",data:[4300,4400,4500,4600,4700,4800],borderColor:"rgba(219, 123, 34, 0.8)",backgroundColor:"rgba(219, 123, 34, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Real (PR)",data:[2600,2900,3200,3400,3600,3800],borderColor:"rgba(255, 152, 0, 0.8)",backgroundColor:"rgba(255, 152, 0, 0.1)",borderWidth:3,tension:.3,fill:!1}]},l={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(u){return`${u.dataset.label}: ${u.parsed.y} kg/ha`}}}},scales:{y:{beginAtZero:!1,min:2e3,title:{display:!0,text:"Produtividade (kg/ha)"}},x:{title:{display:!0,text:"Ano"}}}};return jsxRuntimeExports.jsxs(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-primary-800 text-center",children:"Evoluo do Yield Gap no Algodo Brasileiro (2000-2025)"}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Line$1,{options:l,data:o})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-primary-800",children:"Yield Gap 2000"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary-700",children:"1700 kg/ha"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-primary-800",children:"Yield Gap 2025"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary-700",children:"1000 kg/ha"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-success-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-success-600",children:"Reduo do Gap"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-success-600",children:"41%"})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-sm text-gray-600 italic",children:"Nota: Os dados so baseados em estimativas e projees de pesquisas agrcolas brasileiras. O yield gap est diminuindo, mas ainda h um potencial significativo para aumentar a produtividade real."})]})},HistoricalEvolution=()=>{reactExports.useEffect(()=>{document.title="Evoluo Histrica do Yield Gap | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),n=[{year:"2000-2005",title:"Expanso do Algodo no Cerrado",description:"O incio da expanso da cultura do algodo no Cerrado brasileiro, com a adaptao de variedades e sistema de produo especficos para a regio.",achievement:"Reduo inicial do yield gap com adaptao de cultivares para o Cerrado.",color:"bg-primary-600"},{year:"2006-2010",title:"Adoo de Cultivares Transgnicas",description:"Introduo de cultivares com tecnologias Bt e resistentes a herbicidas, alterando o manejo de pragas e plantas daninhas.",achievement:"Melhor controle de pragas e reduo de perdas, diminuindo o yield gap em cerca de 15%.",color:"bg-primary-700"},{year:"2011-2015",title:"Avanos em Agricultura de Preciso",description:"Implementao de tecnologias de agricultura de preciso, incluindo mapeamento de solo, aplicao varivel de insumos e monitoramento remoto.",achievement:"Uso mais eficiente de insumos e manejo especfico por local, reduzindo o yield gap em mais 10%.",color:"bg-primary-800"},{year:"2016-2020",title:"Intensificao Sustentvel",description:"Adoo de sistemas integrados de produo, rotao de culturas e prticas conservacionistas de manejo do solo.",achievement:"Melhoria da sade do solo e reduo de estresses biticos, contribuindo para diminuir o yield gap em mais 8%.",color:"bg-primary-900"},{year:"2021-2025",title:"Era Digital na Cotonicultura",description:"Implementao de ferramentas digitais, inteligncia artificial e internet das coisas (IoT) para monitoramento e tomada de deciso em tempo real.",achievement:"Manejo mais preciso e responsivo, com potencial para reduzir o yield gap em mais 12% at 2025.",color:"bg-primary-950"}];return jsxRuntimeExports.jsxs("div",{className:"pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Evoluo Histrica (2000-2025)",subtitle:"Acompanhe a trajetria e as transformaes do yield gap na cotonicultura brasileira ao longo das ltimas dcadas",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800 text-center md:text-left",children:"Uma Jornada de Transformao"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700 text-base md:text-lg",children:"Desde o ano 2000, a cotonicultura brasileira passou por profundas transformaes tecnolgicas, gerenciais e estruturais. Essas mudanas impactaram diretamente a produtividade das lavouras e, consequentemente, o yield gap do algodo no pas."}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700 text-base md:text-lg",children:"O Brasil saiu da posio de importador para se tornar um dos maiores exportadores mundiais de algodo, com avanos significativos em produtividade. No entanto, apesar desses avanos, ainda existe um potencial considervel para reduo do yield gap em diversas regies produtoras."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-base md:text-lg",children:"Nesta seo, exploramos os principais marcos dessa jornada, os fatores que influenciaram as mudanas na produtividade e as tendncias para o futuro da cotonicultura brasileira."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/3680313/pexels-photo-3680313.jpeg",alt:"Evoluo da agricultura do algodo",className:"rounded-lg shadow-md w-full max-w-full h-auto"})})]}),jsxRuntimeExports.jsx(YieldGapChart,{})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Linha do Tempo do Yield Gap no Algodo Brasileiro",subtitle:"Principais marcos e avanos que contriburam para a reduo do yield gap no perodo de 2000 a 2025",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary-200"}),n.map((o,l)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0,amount:.3},className:`relative flex flex-col-reverse md:flex-row items-center md:justify-between gap-4 mb-12 ${l%2===0?"md:flex-row-reverse":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-5/12",children:jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border-l-4 border-primary-600 h-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2 text-primary-800",children:o.title}),jsxRuntimeExports.jsx("div",{className:"inline-block px-3 py-1 text-sm font-semibold text-white rounded-full mb-3 mt-1 bg-primary-600",children:o.year}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-3 text-base md:text-lg",children:o.description}),jsxRuntimeExports.jsx("div",{className:"mt-3 p-3 bg-primary-50 rounded-md",children:jsxRuntimeExports.jsxs("p",{className:"text-primary-800 font-medium text-sm md:text-base",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Conquista:"})," ",o.achievement]})})]})}),jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-primary-600 border-4 border-white shadow"}),jsxRuntimeExports.jsx("div",{className:"hidden md:block w-full md:w-5/12"})]},l))]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Fatores Que Influenciaram a Evoluo",subtitle:"Compreenda os principais elementos que impactaram a produtividade do algodo brasileiro e o yield gap ao longo do tempo",centered:!0}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"Avanos Tecnolgicos",items:["Desenvolvimento de cultivares mais adaptadas e produtivas","Adoo de biotecnologia (cultivares Bt e RR)","Mecanizao e automao de processos","Agricultura de preciso e ferramentas digitais","Sistemas de irrigao mais eficientes"]},{title:"Fatores Econmicos",items:["Flutuaes nos preos internacionais do algodo","Polticas de crdito e financiamento agrcola","Investimentos em pesquisa e desenvolvimento","Formao de clusters produtivos","Integrao com mercados globais"]},{title:"Mudanas Climticas",items:["Alteraes nos padres de precipitao","Aumento de temperaturas extremas","Incidncia de eventos climticos severos","Adaptao de sistemas de produo","Desenvolvimento de variedades mais resistentes a estresses"]},{title:"Prticas de Manejo",items:["Adoo do plantio direto e cobertura permanente do solo","Manejo integrado de pragas e doenas","Rotao e diversificao de culturas","Manejo nutricional especfico","Adensamento de plantio"]},{title:"Fatores Institucionais",items:["Programas de pesquisa em algodo (pblicos e privados)","Criao de associaes de produtores","Regulamentaes ambientais e de uso de insumos","Transferncia de tecnologia e extenso rural","Polticas setoriais especficas"]},{title:"Desafios Fitossanitrios",items:["Surgimento de novas pragas e doenas","Desenvolvimento de resistncia a defensivos","Introduo de tecnologias Bt e manejo de resistncia","Sistemas de monitoramento e alerta","Controle biolgico e manejo integrado"]}].map((o,l)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0},className:"card p-4 sm:p-6 rounded-lg shadow-md bg-white h-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800 text-center md:text-left",children:o.title}),jsxRuntimeExports.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 text-base md:text-lg",children:o.items.map((u,h)=>jsxRuntimeExports.jsx("li",{children:u},h))})]},l))})]})})]})},ToolsForYieldGap=()=>{reactExports.useEffect(()=>{document.title="Ferramentas para Descobrir o Yield Gap | AlgodoTech"},[]);const t=[{title:"Modelos de Simulao de Culturas",description:"Ferramentas computacionais que simulam o crescimento e desenvolvimento das plantas de algodo em diferentes condies ambientais e de manejo.",icon:LineChart,examples:["DSSAT","APSIM","CropSyst"],advantages:["Permite estimar o potencial produtivo terico","Ajuda a entender interaes complexas entre gentipo, ambiente e manejo","Possibilita simular diferentes cenrios"]},{title:"Sensoriamento Remoto",description:"Uso de imagens de satlite e drones para monitorar o desenvolvimento das lavouras e identificar reas com problemas de crescimento ou produtividade.",icon:Satellite,examples:["ndice de Vegetao por Diferena Normalizada (NDVI)","Imagens multiespectrais e hiperespectrais","Termografia"],advantages:["Cobertura de grandes reas","Monitoramento contnuo ao longo do ciclo","Identificao precoce de estresses"]},{title:"Anlise de Dados e Machine Learning",description:"Aplicao de tcnicas estatsticas avanadas e inteligncia artificial para analisar grandes volumes de dados e identificar padres relacionados ao yield gap.",icon:BrainCircuit,examples:["Algoritmos de aprendizado de mquina","Redes neurais","Anlise preditiva"],advantages:["Processamento de mltiplas variveis simultaneamente","Identificao de relaes no bvias entre fatores","Gerao de modelos preditivos"]},{title:"Anlise Comparativa de Desempenho",description:"Comparao sistemtica entre produtores ou regies com diferentes nveis de produtividade para identificar prticas de manejo e fatores associados a altos rendimentos.",icon:BarChart$1,examples:["Benchmarking","Anlise de eficincia","Estudos de caso"],advantages:["Baseado em dados reais de produo","Identifica boas prticas aplicveis localmente","Facilita a transferncia de conhecimento"]},{title:"Bancos de Dados Agrcolas",description:"Sistemas que integram e organizam informaes sobre solo, clima, prticas de manejo e produtividade para facilitar a anlise do yield gap em diferentes escalas.",icon:Database,examples:["Sistema de Informaes Geogrficas (SIG)","Bancos de dados de produtividade regional","Plataformas de gesto agrcola"],advantages:["Centralizao de informaes","Anlises temporais e espaciais","Suporte  tomada de deciso"]},{title:"Experimentos de Campo",description:"Conduo de ensaios experimentais para quantificar o impacto de diferentes prticas de manejo na produtividade do algodo e identificar limitaes especficas.",icon:Ruler,examples:["Experimentos fatoriais","Ensaios de variedades","Parcelas demonstrativas"],advantages:["Resultados localmente adaptados","Validao de hipteses especficas","Demonstrao prtica de potencial produtivo"]}];return jsxRuntimeExports.jsxs("div",{className:"pt-24 px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Ferramentas para Descobrir o Yield Gap",subtitle:"Conhea as principais metodologias e tecnologias utilizadas para identificar e quantificar o yield gap na cultura do algodo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"A Importncia da Diagnose Precisa"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Para reduzir efetivamente o yield gap,  fundamental primeiro identific-lo e compreender suas causas especficas. Isso requer ferramentas e metodologias apropriadas que permitam quantificar a diferena entre a produtividade potencial ou atingvel e a produtividade real obtida pelos agricultores."}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Diferentes abordagens podem ser utilizadas, desde modelos de simulao que estimam o potencial terico at anlises de dados em larga escala que identificam padres e tendncias em situaes reais de cultivo."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"A combinao dessas ferramentas permite no apenas determinar a magnitude do yield gap, mas tambm identificar os fatores limitantes especficos para cada regio ou sistema de produo, orientando intervenes mais eficazes."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/1181248/pexels-photo-1181248.jpeg",alt:"Anlise de dados agrcolas",className:"rounded-lg shadow-md w-full h-auto"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary-100 rounded-full mr-4",children:jsxRuntimeExports.jsx(e.icon,{size:24,className:"text-primary-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-primary-800",children:e.title})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Exemplos:"}),jsxRuntimeExports.jsx("ul",{className:"text-gray-700 pl-5 list-disc",children:e.examples.map((o,l)=>jsxRuntimeExports.jsx("li",{children:o},l))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Vantagens:"}),jsxRuntimeExports.jsx("ul",{className:"text-gray-700 pl-5 list-disc",children:e.advantages.map((o,l)=>jsxRuntimeExports.jsx("li",{children:o},l))})]})]},n))})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Integrando Ferramentas para Uma Anlise Completa",subtitle:"Abordagem sistemtica para identificao e quantificao do yield gap no algodo",centered:!0}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-6 text-primary-800",children:"Metodologia em Cinco Etapas"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:[1,2,3,4,5].map((e,n)=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:e}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:["Definio dos Nveis de Referncia","Quantificao da Produtividade Real","Anlise Espacial e Temporal","Identificao de Fatores Limitantes","Validao em Campo"][n]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:["Estabelecer claramente os nveis de produtividade de referncia (potencial, atingvel) para a regio ou sistema de produo especfico, utilizando modelos de simulao calibrados para as condies locais.","Coletar dados de produtividade real de mltiplas fontes (agricultores, experimentos, estatsticas oficiais) e valid-los para garantir sua representatividade e preciso.","Utilizar ferramentas de sensoriamento remoto e SIG para analisar a variabilidade espacial do yield gap, e dados histricos para compreender sua evoluo ao longo do tempo.","Aplicar anlises estatsticas e tcnicas de machine learning para identificar os principais fatores associados ao yield gap, considerando variveis climticas, edficas, biticas e de manejo.","Conduzir experimentos de campo para validar os fatores limitantes identificados e quantificar seu impacto na produtividade, desenvolvendo recomendaes especficas para reduo do yield gap."][n]})]},n))})]})]})})]})},buque="/FlowCot/assets/buquecotton-BKwbA_FC.jpg",SolutionCard=({title:t,description:e,icon:n,impactLevel:o,implementationLevel:l,delay:u=0})=>{const[h,f]=useInView({triggerOnce:!0,threshold:.1}),d=()=>{switch(o){case"high":return"bg-success-500";case"medium":return"bg-accent-500";case"low":return"bg-warning-500";default:return"bg-gray-500"}},p=()=>{switch(l){case"easy":return"bg-success-500";case"medium":return"bg-accent-500";case"complex":return"bg-warning-500";default:return"bg-gray-500"}};return jsxRuntimeExports.jsx(motion.div,{ref:h,initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"card hover:shadow-xl transition-all duration-300 p-4 sm:p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 sm:p-3 bg-primary-50 rounded-full mr-3 sm:mr-4",children:React.cloneElement(n,{size:20})}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-primary-800",children:t})]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 sm:mb-6 flex-grow",children:e}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm text-gray-600 mr-2",children:"Impacto:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${d()}`,children:o==="high"?"Alto":o==="medium"?"Mdio":"Baixo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm text-gray-600 mr-2",children:"Implementao:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${p()}`,children:l==="easy"?"Fcil":l==="medium"?"Mdia":"Complexa"})]})]})})]})})},CaseStudyCard=({title:t,location:e,result:n,description:o,image:l,delay:u=0})=>{const[h,f]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs(motion.div,{ref:h,initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"bg-white rounded-xl shadow-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-40 sm:h-48",children:[jsxRuntimeExports.jsx("img",{src:l,alt:t,className:"w-full h-full object-cover",loading:"lazy"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:jsxRuntimeExports.jsxs("div",{className:"p-3 sm:p-4 text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:t}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-200",children:e})]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 sm:p-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 text-primary-800 font-semibold px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm inline-block mb-2 sm:mb-3",children:["Resultado: ",n]}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:o})]})]})},SolveYieldGap=()=>{reactExports.useEffect(()=>{document.title="Solues para o Yield Gap | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{className:"pt-20 sm:pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50 px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Solues para o Yield Gap",subtitle:"Estratgias e prticas eficazes para reduzir a lacuna de produtividade no algodo brasileiro",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-10 items-center mb-10 sm:mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-primary-800",children:"Transformando Potencial em Realidade"}),jsxRuntimeExports.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base text-gray-700",children:"Reduzir o yield gap na cotonicultura brasileira no  apenas uma questo de adotar novas tecnologias, mas sim de implementar um conjunto integrado de prticas e estratgias adaptadas s condies especficas de cada regio produtora."}),jsxRuntimeExports.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base text-gray-700",children:"Nesta seo, apresentamos solues prticas, baseadas em evidncias cientficas e experincias bem-sucedidas, que podem ajudar produtores a diminuir a diferena entre a produtividade atingvel e a produtividade real em suas lavouras de algodo."}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:"O caminho para a reduo do yield gap passa por quatro pilares fundamentais: manejo adequado do solo, irrigao eficiente, controle integrado de pragas e doenas, e adoo estratgica de tecnologias. Juntos, esses pilares formam a base para uma cotonicultura mais produtiva e sustentvel."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"order-first lg:order-last",children:jsxRuntimeExports.jsx("img",{src:buque,alt:"Lavoura de algodo de alta produtividade",className:"rounded-lg shadow-md w-full h-auto",loading:"lazy"})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Solues por Categoria",subtitle:"Conhea as principais estratgias para reduzir o yield gap de acordo com diferentes reas de manejo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-10 sm:mb-16",children:[jsxRuntimeExports.jsx(SolutionCard,{title:"Manejo Adequado do Solo",description:"Implementao de prticas de plantio direto, rotao de culturas e cobertura permanente do solo, combinadas com anlises regulares de solo e aplicao precisa de corretivos e fertilizantes.",icon:jsxRuntimeExports.jsx(Scaling,{className:"text-primary-600"}),impactLevel:"high",implementationLevel:"medium",delay:0}),jsxRuntimeExports.jsx(SolutionCard,{title:"Irrigao Eficiente",description:"Uso de sistemas de irrigao de preciso, com monitoramento contnuo da umidade do solo e da demanda hdrica da cultura, permitindo aplicaes de gua no momento certo e na quantidade adequada.",icon:jsxRuntimeExports.jsx(Droplet,{className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:1}),jsxRuntimeExports.jsx(SolutionCard,{title:"Controle Integrado de Pragas e Doenas",description:"Adoo do Manejo Integrado de Pragas (MIP), combinando monitoramento constante, controle biolgico, uso racional de defensivos e manejo cultural para reduzir perdas por fatores biticos.",icon:jsxRuntimeExports.jsx(Bug,{className:"text-primary-600"}),impactLevel:"medium",implementationLevel:"medium",delay:2}),jsxRuntimeExports.jsx(SolutionCard,{title:"Adoo Estratgica de Tecnologias",description:"Integrao de agricultura de preciso, cultivares melhoradas, automao de processos e ferramentas digitais de suporte  deciso, implementadas de forma gradual e adaptada  realidade de cada produtor.",icon:jsxRuntimeExports.jsx(Cpu,{className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:3})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 rounded-xl p-4 sm:p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx(ShieldCheck,{size:24,className:"text-primary-600 mr-2 sm:mr-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-primary-800",children:"Abordagem Integrada: A Chave do Sucesso"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 sm:mb-6",children:"A experincia tem mostrado que a maior reduo do yield gap  obtida quando as solues so implementadas de forma integrada, considerando as interaes entre diferentes prticas e as especificidades de cada ambiente produtivo."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fase 1: Diagnstico"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Identificar os fatores especficos que limitam a produtividade na propriedade"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fase 2: Planejamento"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Selecionar e priorizar as solues mais adequadas para o contexto local"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-800 mb-1 sm:mb-2",children:"Fase 3: Implementao"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Executar as prticas de forma gradual e monitorar constantemente os resultados"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs(Link,{to:"/steps-to-avoid",className:"btn btn-primary flex items-center gap-2 text-sm sm:text-base",children:["Ver Passos Prticos ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50 px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Detalhamento das Solues",subtitle:"Aprofunde-se nas principais estratgias para reduzir o yield gap no algodo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-10 sm:space-y-16",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-2 sm:p-3 bg-primary-600 rounded-full mr-3 sm:mr-4",children:jsxRuntimeExports.jsx(Scaling,{size:20,className:"text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-primary-800",children:"Manejo Adequado do Solo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h4",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-700",children:"Principais Prticas"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Sistema Plantio Direto"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Manter o solo permanentemente coberto, minimizando a perturbao mecnica e rotacionando culturas. Isso aumenta a matria orgnica, reduz eroso e melhora a estrutura fsica do solo."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Correo do Solo"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Realizar anlises peridicas e aplicar calcrio e gesso em doses e pocas adequadas para corrigir acidez e fornecer clcio em profundidade, favorecendo o desenvolvimento radicular do algodoeiro."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Adubao Balanceada"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Fornecer nutrientes de forma equilibrada, considerando resultados de anlises de solo e foliar, histrico da rea e expectativa de produtividade, priorizando o parcelamento da adubao nitrogenada."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Descompactao Biolgica"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Utilizar plantas de cobertura com sistema radicular vigoroso (como braquirias e crotalrias) para romper camadas compactadas e melhorar a estrutura fsica do solo em profundidade."})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-4 sm:p-6 h-full",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-700",children:"Impacto no Yield Gap"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Potencial de Reduo do Gap"}),jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary-700",children:"25-35%"})]}),jsxRuntimeExports.jsx("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"30%"}})})]}),jsxRuntimeExports.jsx("h5",{className:"font-semibold text-sm sm:text-base text-gray-800 mb-1 sm:mb-2",children:"Principais Benefcios:"}),jsxRuntimeExports.jsxs("ul",{className:"text-xs sm:text-sm text-gray-700 space-y-1 sm:space-y-2 mb-3 sm:mb-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior disponibilidade de gua e nutrientes"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Desenvolvimento radicular mais profundo"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Reduo de estresses abiticos"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior resistncia a perodos de dficit hdrico"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-50 p-2 sm:p-3 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Tempo para resultados: Mdio a longo prazo (2-3 safras para efeitos completos)"})})]})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-2 sm:p-3 bg-accent-500 rounded-full mr-3 sm:mr-4",children:jsxRuntimeExports.jsx(Droplet,{size:20,className:"text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-primary-800",children:"Irrigao Eficiente"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3 order-2 lg:order-1",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h4",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-700",children:"Principais Prticas"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Manejo da Irrigao baseado em Dados"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Utilizar sensores de umidade do solo, estaes meteorolgicas e modelos de balano hdrico para determinar o momento e a quantidade exata de gua a ser aplicada em cada fase da cultura."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Sistemas de Irrigao de Preciso"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Implementar sistemas como gotejamento, piv central com LEPA (Low Energy Precision Application) ou asperso de preciso, que oferecem maior uniformidade e eficincia na aplicao de gua."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Irrigao Deficitria Controlada"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Aplicar estratgias de irrigao deficitria em fases menos sensveis da cultura, visando otimizar o uso da gua sem comprometer significativamente a produtividade."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Fertirrigao"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Aplicar nutrientes via gua de irrigao, permitindo maior parcelamento, uniformidade e eficincia na nutrio das plantas, especialmente para nitrognio e potssio."})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-4 sm:p-6 h-full",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-700",children:"Impacto no Yield Gap"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Potencial de Reduo do Gap"}),jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary-700",children:"35-45%"})]}),jsxRuntimeExports.jsx("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"40%"}})})]}),jsxRuntimeExports.jsx("h5",{className:"font-semibold text-sm sm:text-base text-gray-800 mb-1 sm:mb-2",children:"Principais Benefcios:"}),jsxRuntimeExports.jsxs("ul",{className:"text-xs sm:text-sm text-gray-700 space-y-1 sm:space-y-2 mb-3 sm:mb-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Eliminao do estresse hdrico"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior absoro e eficincia de nutrientes"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Reduo de abortamento de estruturas reprodutivas"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary-600 rounded-full mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{children:"Estabilidade de produo entre safras"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-50 p-2 sm:p-3 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Tempo para resultados: Imediato a curto prazo (mesma safra de implementao)"})})]})})]})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Casos de Sucesso",subtitle:"Exemplos reais de reduo do yield gap em diferentes regies produtoras",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-10",children:[jsxRuntimeExports.jsx(CaseStudyCard,{title:"Fazenda Esperana",location:"Oeste da Bahia",result:"Reduo de 40% no yield gap",description:"Implementao de sistema de plantio direto combinado com manejo de irrigao de preciso e cultivares adaptadas  regio, resultando em um aumento de produtividade de 3.200 para 4.500 kg/ha em trs safras.",image:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg",delay:0}),jsxRuntimeExports.jsx(CaseStudyCard,{title:"Grupo Santa F",location:"Mato Grosso",result:"Reduo de 35% no yield gap",description:"Adoo de agricultura de preciso integrada com manejo biolgico de solo e controle integrado de pragas, elevando a produtividade mdia de 3.800 para 4.900 kg/ha e reduzindo custos com defensivos em 20%.",image:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg",delay:1}),jsxRuntimeExports.jsx(CaseStudyCard,{title:"Fazenda Nova Fronteira",location:"Gois",result:"Reduo de 30% no yield gap",description:"Foco na nutrio balanceada com base em anlises de solo e foliar, associada  rotao com leguminosas e monitoramento intensivo de pragas, aumentando a produtividade de 3.600 para 4.400 kg/ha.",image:"https://images.pexels.com/photos/1483880/pexels-photo-1483880.jpeg",delay:2})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-4 sm:p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx(BarChart2,{size:20,className:"text-primary-600 mr-2 sm:mr-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-primary-800",children:"Fatores Comuns de Sucesso"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-700 mb-1 sm:mb-2",children:"Abordagem Integrada"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Implementao de mltiplas solues de forma coordenada, considerando as interaes entre diferentes prticas"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-700 mb-1 sm:mb-2",children:"Monitoramento Constante"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Acompanhamento regular de indicadores de solo, planta e ambiente para ajustes rpidos no manejo"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-700 mb-1 sm:mb-2",children:"Capacitao Tcnica"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Investimento na formao da equipe e acesso a assistncia tcnica especializada"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm sm:text-base text-primary-700 mb-1 sm:mb-2",children:"Persistncia"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Compromisso com a melhoria contnua e pacincia para resultados que podem levar mais de uma safra"})]})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50 px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Vdeo Educacional",subtitle:"Especialistas discutem as melhores prticas para reduzir o yield gap no algodo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-10 items-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-lg bg-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4",children:[jsxRuntimeExports.jsx(Video,{size:40,className:"text-primary-600 mb-3 sm:mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm sm:text-base text-gray-700",children:"Vdeo em produo"}),jsxRuntimeExports.jsx("p",{className:"text-center text-xs sm:text-sm text-gray-500 mt-1 sm:mt-2",children:"Em breve, especialistas discutiro estratgias prticas para reduo do yield gap"})]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-primary-800",children:"O que voc vai aprender"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Diagnstico e Identificao"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Como identificar os principais fatores limitantes da produtividade em sua lavoura"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Planejamento Estratgico"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Elaborao de um plano de ao customizado para a realidade de sua propriedade"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Implementao Eficiente"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Dicas prticas para a adoo de novas tecnologias e prticas de manejo"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:18,className:"text-primary-600 mt-0.5 sm:mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm sm:text-base text-gray-800",children:"Avaliao de Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Mtodos para mensurar o impacto das intervenes na reduo do yield gap"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 sm:mt-6",children:jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"btn btn-primary text-sm sm:text-base",children:"Ver Guia Prtico"})})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-gray-900 text-white px-4 sm:px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-custom text-center py-8 sm:py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6 text-white",children:"Pronto para transformar sua produtividade?"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-300 mb-6 sm:mb-8 max-w-3xl mx-auto",children:"Conhea as estratgias prticas para reduzir o yield gap em sua lavoura de algodo e maximize seus resultados."}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4"})]})})]})};function MinecraftYieldGap(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Minecraft & Yield Gap",subtitle:"Understanding agricultural concepts through gaming"}),jsxRuntimeExports.jsxs("div",{className:"mt-8 prose prose-lg max-w-none",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Minecraft serves as an innovative educational tool for understanding agricultural yield gaps. Through its farming mechanics, players can experience firsthand the challenges and factors that affect crop yields in a simplified but engaging way."}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 my-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Key Learning Points in Minecraft Farming"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:"Resource management and irrigation systems"}),jsxRuntimeExports.jsx("li",{children:"Impact of environmental conditions on crop growth"}),jsxRuntimeExports.jsx("li",{children:"Importance of soil fertility and crop spacing"}),jsxRuntimeExports.jsx("li",{children:"Basic concepts of agricultural optimization"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"By bridging the gap between gaming and agricultural education, Minecraft provides an accessible platform for students and enthusiasts to learn about yield gap concepts in an interactive environment."})]})]})}const PassosParaEvitar=()=>jsxRuntimeExports.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Passos para Evitar",subtitle:"Aprenda sobre armadilhas comuns e como prevenir lacunas de produtividade"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 sm:mt-8 space-y-6 sm:space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Erros Comuns a Evitar"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-red-500 pl-3 sm:pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Manejo Inadequado do Solo"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Negligenciar a sade do solo e o manejo adequado de nutrientes pode impactar significativamente a produtividade."})]}),jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-yellow-500 pl-3 sm:pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Momento Inadequado"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Plantio ou colheita em momentos no ideais podem levar  reduo de produtividade."})]}),jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-blue-500 pl-3 sm:pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Manejo Hdrico Inadequado"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Tanto o excesso quanto a falta de irrigao podem causar lacunas significativas de produtividade."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Estratgias de Preveno"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Monitoramento Regular"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Implemente prticas consistentes de monitoramento para identificar problemas precocemente."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Decises Baseadas em Dados"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Utilize dados agrcolas e anlises para tomar decises agrcolas informadas."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Consultoria Especializada"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Consulte regularmente especialistas agrcolas e servios de extenso rural."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Integrao Tecnolgica"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Adote solues tecnolgicas apropriadas para melhor gesto da propriedade."})]})]})]})]})]});function AboutUs(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"About Us",subtitle:"Learn more about our team and mission"}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto mt-8",children:[jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We are a dedicated team of agricultural researchers and technology enthusiasts working to bridge the yield gap in global agriculture. Our mission is to help farmers and agricultural professionals understand and overcome the challenges that prevent achieving optimal crop yields."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Through research, education, and innovative tools, we strive to make agricultural best practices more accessible and help create a more sustainable and productive farming future."})]})]})}function Conclusions(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Conclusions",subtitle:"Key takeaways about yield gap and its solutions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[jsxRuntimeExports.jsx(InfoCard,{title:"Understanding Yield Gap",content:"The yield gap represents the difference between potential and actual crop yields, influenced by various environmental, technological, and management factors.",icon:BookOpen}),jsxRuntimeExports.jsx(InfoCard,{title:"Solutions and Implementation",content:"Addressing yield gaps requires a combination of improved farming practices, technology adoption, and knowledge sharing among agricultural communities.",icon:BarChart2}),jsxRuntimeExports.jsx(InfoCard,{title:"Future Outlook",content:"Continuous research and development in agricultural practices will help reduce yield gaps and contribute to global food security.",icon:Lightbulb}),jsxRuntimeExports.jsx(InfoCard,{title:"Call to Action",content:"Join us in our mission to minimize yield gaps and create a more sustainable agricultural future through education and implementation of best practices.",icon:ArrowRight})]})]})}const NotFound=()=>jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-9xl font-bold text-primary-600 leading-tight",children:"Bem-Vindo ao FlowCot"}),jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mt-4 mb-6",children:"Estamos aqui para te ajudar!"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-8 px-2",children:"A pgina que voc est procurando no foi encontrada, mas estamos prontos para te guiar de volta."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"btn btn-primary flex items-center gap-2 px-6 py-3 text-sm sm:text-base",children:[jsxRuntimeExports.jsx(Home,{size:18}),"Pgina Inicial"]})})]})}),mascoteAnimadoVideo="/FlowCot/assets/Cotton-C-XI14eJ.mp4",ParrotMascot=({position:t="right",isMobile:e=!1})=>{const n=useAnimation(),o=reactExports.useRef(null),l=reactExports.useRef(null),u=reactExports.useRef(null),[h,f]=reactExports.useState(!1),[d,p]=reactExports.useState(""),[m,v]=reactExports.useState([{text:"Ol! Eu sou o Algodinho, especialista em algodo e yield gap! Como posso ajudar?",type:"bot"}]),[_,S]=reactExports.useState(!1),T=e?"w-[calc(100vw-32px)]":"w-full max-w-md",A=e?"max-h-[65vh]":"max-h-[60vh]",w=e?"text-sm":"text-base";reactExports.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[m]),reactExports.useEffect(()=>{var L;n.start({y:[0,-10,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(L=l.current)==null||L.play()},[n]);const C=async L=>{S(!0),await new Promise(B=>setTimeout(B,1e3+Math.random()*1e3));const F=L.toLowerCase();return F.includes("yield gap")||F.includes("lacuna de produtividade")?(S(!1),"O yield gap (lacuna de produtividade)  a diferena entre a produtividade potencial que poderia ser alcanada em condies ideais e a produtividade real obtida nas fazendas. Na cultura do algodo, fatores como manejo, clima, solo e tecnologia aplicada influenciam diretamente essa diferena."):F.includes("algodo")||F.includes("algodao")?(S(!1),"O algodo  uma das culturas mais importantes do agronegcio brasileiro. O Brasil  um dos maiores produtores e exportadores mundiais. A cultura exige cuidados especficos com irrigao, controle de pragas e manejo adequado para atingir altos rendimentos."):F.includes("tecnologia")||F.includes("agricultura 4.0")?(S(!1),"Na cotonicultura, tecnologias como sensores IoT, imagens de satlite, drones e IA ajudam a monitorar a lavoura, otimizar irrigao, detectar pragas precocemente e prever produtividade. Isso reduz o yield gap e aumenta a eficincia."):F.includes("produtividade")||F.includes("rendimento")?(S(!1),"Para aumentar a produtividade do algodo,  essencial: 1) Melhoramento gentico, 2) Manejo integrado de pragas, 3) Irrigao eficiente, 4) Adubao balanceada, 5) Colheita no momento certo. A tecnologia pode ajudar em cada uma dessas etapas!"):F.includes("praga")||F.includes("doena")?(S(!1),"As principais pragas do algodo so o bicudo-do-algodoeiro, pulges e lagartas. Doenas como ramulria e mofo-branco tambm causam perdas. O MIP (Manejo Integrado de Pragas) combinado com monitoramento tecnolgico  a melhor estratgia de controle."):F.includes("solo")||F.includes("fertilidade")?(S(!1),"O algodo se desenvolve melhor em solos profundos, bem drenados e com boa fertilidade. Anlises de solo regulares e agricultura de preciso ajudam a aplicar fertilizantes de forma otimizada, reduzindo custos e aumentando produtividade."):(S(!1),"Como especialista em algodo, posso te ajudar com informaes sobre: yield gap, tecnologias agrcolas, manejo do algodo, aumento de produtividade e controle de pragas. Sobre o que voc gostaria de saber? ")},O=async L=>{if(L.preventDefault(),!d.trim())return;const F={text:d,type:"user"};v(V=>[...V,F]),p("");const U={text:await C(d),type:"bot"};v(V=>[...V,U])};return jsxRuntimeExports.jsx(motion.div,{ref:o,animate:n,className:`fixed z-50 ${t==="right"?"right-2 xs:right-4":"left-2 xs:left-4"} bottom-2 xs:bottom-4 flex items-end gap-2 xs:gap-3 ${t==="left"?"flex-row-reverse":""}`,children:h?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:`bg-white rounded-lg xs:rounded-xl sm:rounded-2xl shadow-lg xs:shadow-xl sm:shadow-2xl ${T} overflow-hidden border border-primary-100`,children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-2 xs:p-3 sm:p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 sm:w-12 sm:h-12 rounded-full bg-primary-50 p-1 flex items-center justify-center overflow-hidden",children:jsxRuntimeExports.jsx("video",{src:mascoteAnimadoVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-medium text-xs xs:text-sm sm:text-base",children:"Algodinho"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>f(!1),className:"text-white hover:text-primary-100 transition-colors","aria-label":"Fechar chat",children:jsxRuntimeExports.jsx(X$1,{size:e?16:20})})]}),jsxRuntimeExports.jsxs("div",{ref:u,className:`${A} overflow-y-auto p-2 xs:p-3 sm:p-4 space-y-2 xs:space-y-3 sm:space-y-4 bg-gradient-to-b from-primary-50/30 to-transparent`,children:[m.map((L,F)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${L.type==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[90%] xs:max-w-[85%] sm:max-w-[80%] p-2 xs:p-3 rounded-lg xs:rounded-xl text-xs xs:text-sm sm:text-base ${L.type==="user"?"bg-primary-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"}`,children:L.text})},F)),_&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-1 xs:gap-2 px-2 xs:px-3 py-1 xs:py-2 bg-gray-100 rounded-full w-14 xs:w-16 sm:w-20",children:[0,.2,.4].map(L=>jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-4,0]},transition:{duration:.5,repeat:1/0,delay:L},className:"w-2 h-2 xs:w-2.5 xs:h-2.5 bg-primary-600 rounded-full"},L))})]}),jsxRuntimeExports.jsx("form",{onSubmit:O,className:"p-2 xs:p-3 sm:p-4 border-t border-gray-100 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1 xs:gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:d,onChange:L=>p(L.target.value),placeholder:"Digite sua pergunta...",className:`flex-1 px-3 xs:px-4 py-1 xs:py-2 ${w} border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent`}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-primary-600 text-white p-2 xs:p-3 rounded-full hover:bg-primary-700 transition-colors shadow hover:shadow-md active:scale-95","aria-label":"Enviar mensagem",children:jsxRuntimeExports.jsx(Send,{size:e?16:20})})]})})]}):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white p-2 xs:p-3 rounded-lg xs:rounded-xl shadow-md hover:shadow-lg cursor-pointer flex items-center gap-2 xs:gap-3 border border-primary-100",onClick:()=>f(!0),role:"button","aria-label":"Abrir chat com Algodinho",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 rounded-full bg-primary-50 p-1 flex items-center justify-center overflow-hidden",children:jsxRuntimeExports.jsx("video",{src:mascoteAnimadoVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium text-xs xs:text-sm",children:"Ol! Posso ajudar? "}),jsxRuntimeExports.jsx("div",{className:`absolute ${t==="right"?"-right-1.5 xs:-right-2":"-left-1.5 xs:-left-2"} top-1/2 -translate-y-1/2 w-3 h-3 xs:w-3.5 xs:h-3.5 bg-white transform rotate-45 border-r border-b border-primary-100`})]})})},AnimatedBackground=()=>jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:.1},transition:{duration:1},className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary-100 to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-to-bl from-accent-100 to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-to-tr from-secondary-100 to-transparent"})]}),[...Array(50)].map((t,e)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute w-2 h-2 bg-primary-200 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-20,0],scale:[1,1.2,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},e))]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])})(t,e)};function __extends(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}extendStatics(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)};function __awaiter(t,e,n,o){return new(n||(n=Promise))(function(l,u){function h(p){try{d(o.next(p))}catch(m){u(m)}}function f(p){try{d(o.throw(p))}catch(m){u(m)}}function d(p){var m;p.done?l(p.value):(m=p.value,m instanceof n?m:new n(function(v){v(m)})).then(h,f)}d((o=o.apply(t,[])).next())})}function __generator(t,e){var n,o,l,u,h={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(d){return function(p){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,o&&(l=2&m[0]?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return h.label++,{value:m[1],done:!1};case 5:h.label++,o=m[1],m=[0];continue;case 7:m=h.ops.pop(),h.trys.pop();continue;default:if(l=h.trys,!((l=l.length>0&&l[l.length-1])||m[0]!==6&&m[0]!==2)){h=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){h.label=m[1];break}if(m[0]===6&&h.label<l[1]){h.label=l[1],l=m;break}if(l&&h.label<l[2]){h.label=l[2],h.ops.push(m);break}l[2]&&h.ops.pop(),h.trys.pop();continue}m=e.call(t,h)}catch(v){m=[6,v],o=0}finally{n=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,p])}}}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,o,l=t.length;for(n=0;n<l;n+=1)for(var u in o=t[n].prototype)Object.prototype.hasOwnProperty.call(o,u)&&(e.prototype[u]=o[u])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].pause()},resume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].resume()},setRate:function(e){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(e,n){var o,l=0,u=[];switch(e){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<n;l+=1)u.push(o);return u}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(e,n){return e==="float32"?new Float32Array(n):e==="int16"?new Int16Array(n):e==="uint8c"?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){if(_typeof$6(t)==="object"&&t.length){var e,n=createSizedArray(t.length),o=t.length;for(e=0;e<o;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,o){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=o<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,o){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var o,l,u,h,f,d,p,m;switch(d=n*(1-e),p=n*(1-(f=6*t-(h=Math.floor(6*t)))*e),m=n*(1-(1-f)*e),h%6){case 0:o=n,l=m,u=d;break;case 1:o=p,l=n,u=d;break;case 2:o=d,l=n,u=m;break;case 3:o=d,l=p,u=n;break;case 4:o=m,l=d,u=n;break;case 5:o=n,l=d,u=p}return[o,l,u]}function RGBtoHSV(t,e,n){var o,l=Math.max(t,e,n),u=Math.min(t,e,n),h=l-u,f=l===0?0:h/l,d=l/255;switch(l){case u:o=0;break;case t:o=e-n+h*(e<n?6:0),o/=6*h;break;case e:o=n-t+2*h,o/=6*h;break;case n:o=t-e+4*h,o/=6*h}return[o,f,d]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=e.length===1?"0"+e:e;return function(o,l,u){return o<0&&(o=0),l<0&&(l=0),u<0&&(u=0),"#"+n[o]+n[l]+n[u]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var dataManager=function(){var t,e,n=1,o=[],l={onmessage:function(){},postMessage:function(d){t({data:d})}},u={postMessage:function(d){l.onmessage({data:d})}};function h(){e||((e=function(d){if(window.Worker&&window.Blob&&getWebWorker()){var p=new Blob(["var _workerSelf = self; self.onmessage = ",d.toString()],{type:"text/javascript"}),m=URL.createObjectURL(p);return new Worker(m)}return t=d,l}(function(d){if(u.dataManager||(u.dataManager=function(){function m(V,q){var H,G,Y,Q,ie,ae,le=V.length;for(G=0;G<le;G+=1)if("ks"in(H=V[G])&&!H.completed){if(H.completed=!0,H.hasMask){var he=H.masksProperties;for(Q=he.length,Y=0;Y<Q;Y+=1)if(he[Y].pt.k.i)S(he[Y].pt.k);else for(ae=he[Y].pt.k.length,ie=0;ie<ae;ie+=1)he[Y].pt.k[ie].s&&S(he[Y].pt.k[ie].s[0]),he[Y].pt.k[ie].e&&S(he[Y].pt.k[ie].e[0])}H.ty===0?(H.layers=v(H.refId,q),m(H.layers,q)):H.ty===4?_(H.shapes):H.ty===5&&B(H)}}function v(V,q){var H=function(G,Y){for(var Q=0,ie=Y.length;Q<ie;){if(Y[Q].id===G)return Y[Q];Q+=1}return null}(V,q);return H?H.layers.__used?JSON.parse(JSON.stringify(H.layers)):(H.layers.__used=!0,H.layers):null}function _(V){var q,H,G;for(q=V.length-1;q>=0;q-=1)if(V[q].ty==="sh")if(V[q].ks.k.i)S(V[q].ks.k);else for(G=V[q].ks.k.length,H=0;H<G;H+=1)V[q].ks.k[H].s&&S(V[q].ks.k[H].s[0]),V[q].ks.k[H].e&&S(V[q].ks.k[H].e[0]);else V[q].ty==="gr"&&_(V[q].it)}function S(V){var q,H=V.i.length;for(q=0;q<H;q+=1)V.i[q][0]+=V.v[q][0],V.i[q][1]+=V.v[q][1],V.o[q][0]+=V.v[q][0],V.o[q][1]+=V.v[q][1]}function T(V,q){var H=q?q.split("."):[100,100,100];return V[0]>H[0]||!(H[0]>V[0])&&(V[1]>H[1]||!(H[1]>V[1])&&(V[2]>H[2]||!(H[2]>V[2])&&null))}var A,w=function(){var V=[4,4,14];function q(H){var G,Y,Q,ie=H.length;for(G=0;G<ie;G+=1)H[G].ty===5&&(Y=H[G],Q=void 0,Q=Y.t.d,Y.t.d={k:[{s:Q,t:0}]})}return function(H){if(T(V,H.v)&&(q(H.layers),H.assets)){var G,Y=H.assets.length;for(G=0;G<Y;G+=1)H.assets[G].layers&&q(H.assets[G].layers)}}}(),C=(A=[4,7,99],function(V){if(V.chars&&!T(A,V.v)){var q,H=V.chars.length;for(q=0;q<H;q+=1){var G=V.chars[q];G.data&&G.data.shapes&&(_(G.data.shapes),G.data.ip=0,G.data.op=99999,G.data.st=0,G.data.sr=1,G.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},V.chars[q].t||(G.data.shapes.push({ty:"no"}),G.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),O=function(){var V=[5,7,15];function q(H){var G,Y,Q,ie=H.length;for(G=0;G<ie;G+=1)H[G].ty===5&&(Y=H[G],Q=void 0,typeof(Q=Y.t.p).a=="number"&&(Q.a={a:0,k:Q.a}),typeof Q.p=="number"&&(Q.p={a:0,k:Q.p}),typeof Q.r=="number"&&(Q.r={a:0,k:Q.r}))}return function(H){if(T(V,H.v)&&(q(H.layers),H.assets)){var G,Y=H.assets.length;for(G=0;G<Y;G+=1)H.assets[G].layers&&q(H.assets[G].layers)}}}(),L=function(){var V=[4,1,9];function q(G){var Y,Q,ie,ae=G.length;for(Y=0;Y<ae;Y+=1)if(G[Y].ty==="gr")q(G[Y].it);else if(G[Y].ty==="fl"||G[Y].ty==="st")if(G[Y].c.k&&G[Y].c.k[0].i)for(ie=G[Y].c.k.length,Q=0;Q<ie;Q+=1)G[Y].c.k[Q].s&&(G[Y].c.k[Q].s[0]/=255,G[Y].c.k[Q].s[1]/=255,G[Y].c.k[Q].s[2]/=255,G[Y].c.k[Q].s[3]/=255),G[Y].c.k[Q].e&&(G[Y].c.k[Q].e[0]/=255,G[Y].c.k[Q].e[1]/=255,G[Y].c.k[Q].e[2]/=255,G[Y].c.k[Q].e[3]/=255);else G[Y].c.k[0]/=255,G[Y].c.k[1]/=255,G[Y].c.k[2]/=255,G[Y].c.k[3]/=255}function H(G){var Y,Q=G.length;for(Y=0;Y<Q;Y+=1)G[Y].ty===4&&q(G[Y].shapes)}return function(G){if(T(V,G.v)&&(H(G.layers),G.assets)){var Y,Q=G.assets.length;for(Y=0;Y<Q;Y+=1)G.assets[Y].layers&&H(G.assets[Y].layers)}}}(),F=function(){var V=[4,4,18];function q(G){var Y,Q,ie;for(Y=G.length-1;Y>=0;Y-=1)if(G[Y].ty==="sh")if(G[Y].ks.k.i)G[Y].ks.k.c=G[Y].closed;else for(ie=G[Y].ks.k.length,Q=0;Q<ie;Q+=1)G[Y].ks.k[Q].s&&(G[Y].ks.k[Q].s[0].c=G[Y].closed),G[Y].ks.k[Q].e&&(G[Y].ks.k[Q].e[0].c=G[Y].closed);else G[Y].ty==="gr"&&q(G[Y].it)}function H(G){var Y,Q,ie,ae,le,he,ge=G.length;for(Q=0;Q<ge;Q+=1){if((Y=G[Q]).hasMask){var J=Y.masksProperties;for(ae=J.length,ie=0;ie<ae;ie+=1)if(J[ie].pt.k.i)J[ie].pt.k.c=J[ie].cl;else for(he=J[ie].pt.k.length,le=0;le<he;le+=1)J[ie].pt.k[le].s&&(J[ie].pt.k[le].s[0].c=J[ie].cl),J[ie].pt.k[le].e&&(J[ie].pt.k[le].e[0].c=J[ie].cl)}Y.ty===4&&q(Y.shapes)}}return function(G){if(T(V,G.v)&&(H(G.layers),G.assets)){var Y,Q=G.assets.length;for(Y=0;Y<Q;Y+=1)G.assets[Y].layers&&H(G.assets[Y].layers)}}}();function B(V){V.t.a.length===0&&V.t.p}var U={completeData:function(V){V.__complete||(L(V),w(V),C(V),O(V),F(V),m(V.layers,V.assets),function(q,H){if(q){var G=0,Y=q.length;for(G=0;G<Y;G+=1)q[G].t===1&&(q[G].data.layers=v(q[G].data.refId,H),m(q[G].data.layers,H))}}(V.chars,V.assets),V.__complete=!0)}};return U.checkColors=L,U.checkChars=C,U.checkPathProperties=O,U.checkShapes=F,U.completeLayers=m,U}()),u.assetLoader||(u.assetLoader=function(){function m(v){var _=v.getResponseHeader("content-type");return _&&v.responseType==="json"&&_.indexOf("json")!==-1||v.response&&_typeof$5(v.response)==="object"?v.response:v.response&&typeof v.response=="string"?JSON.parse(v.response):v.responseText?JSON.parse(v.responseText):null}return{load:function(v,_,S,T){var A,w=new XMLHttpRequest;try{w.responseType="json"}catch{}w.onreadystatechange=function(){if(w.readyState===4)if(w.status===200)A=m(w),S(A);else try{A=m(w),S(A)}catch(C){T&&T(C)}};try{w.open(["G","E","T"].join(""),v,!0)}catch{w.open(["G","E","T"].join(""),_+"/"+v,!0)}w.send()}}}()),d.data.type==="loadAnimation")u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.dataManager.completeData(m),u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})});else if(d.data.type==="complete"){var p=d.data.animation;u.dataManager.completeData(p),u.postMessage({id:d.data.id,payload:p,status:"success"})}else d.data.type==="loadData"&&u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})})})).onmessage=function(d){var p=d.data,m=p.id,v=o[m];o[m]=null,p.status==="success"?v.onComplete(p.payload):v.onError&&v.onError()})}function f(d,p){var m="processId_"+(n+=1);return o[m]={onComplete:d,onError:p},m}return{loadAnimation:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"loadAnimation",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},loadData:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"loadData",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},completeAnimation:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"complete",animation:d,id:v})}}}(),ImagePreloader=function(){var t=function(){var f=createTag("canvas");f.width=1,f.height=1;var d=f.getContext("2d");return d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,1,1),f}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(f,d,p){var m="";if(f.e)m=f.p;else if(d){var v=f.p;v.indexOf("images/")!==-1&&(v=v.split("/")[1]),m=d+v}else m=p,m+=f.u?f.u:"",m+=f.p;return m}function l(f){var d=0,p=setInterval((function(){(f.getBBox().width||d>500)&&(this._imageLoaded(),clearInterval(p)),d+=1}).bind(this),50)}function u(f){var d={assetData:f},p=o(f,this.assetsPath,this.path);return dataManager.loadData(p,(function(m){d.img=m,this._footageLoaded()}).bind(this),(function(){d.img={},this._footageLoaded()}).bind(this)),d}function h(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=u.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return h.prototype={loadAssets:function(f,d){var p;this.imagesLoadedCb=d;var m=f.length;for(p=0;p<m;p+=1)f[p].layers||(f[p].t&&f[p].t!=="seq"?f[p].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(f[p]))):(this.totalImages+=1,this.images.push(this._createImageData(f[p]))))},setAssetsPath:function(f){this.assetsPath=f||""},setPath:function(f){this.path=f||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(f){for(var d=0,p=this.images.length;d<p;){if(this.images[d].assetData===f)return this.images[d].img;d+=1}return null},createImgData:function(f){var d=o(f,this.assetsPath,this.path),p=createTag("img");p.crossOrigin="anonymous",p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.src=d;var m={img:p,assetData:f};return m},createImageData:function(f){var d=o(f,this.assetsPath,this.path),p=createNS("image");isSafari?this.testImageLoaded(p):p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this._elementHelper.append?this._elementHelper.append(p):this._elementHelper.appendChild(p);var m={img:p,assetData:f};return m},imageLoaded:e,footageLoaded:n,setCacheType:function(f,d){f==="svg"?(this._elementHelper=d,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},h}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],o=0;o<n.length;o+=1)n[o](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,o=this._cbs[t].length;n<o;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,o-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(e){for(var n,o=e.split(`\r
`),l={},u=0,h=0;h<o.length;h+=1)(n=o[h].split(":")).length===2&&(l[n[0]]=n[1].trim(),u+=1);if(u===0)throw new Error;return l}return function(e){for(var n=[],o=0;o<e.length;o+=1){var l=e[o],u={time:l.tm,duration:l.dr};try{u.payload=JSON.parse(e[o].cm)}catch{try{u.payload=t(e[o].cm)}catch{u.payload={name:e[o].cm}}}n.push(u)}return n}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===n)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},o=t.attributes;n.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",n.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?n.loop=!1:l==="true"?n.loop=!0:l!==""&&(n.loop=parseInt(l,10));var u=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;n.autoplay=u!=="false",n.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,o=this.animationData.layers,l=o.length,u=t.layers,h=u.length;for(n=0;n<h;n+=1)for(e=0;e<l;){if(o[e].id===u[n].id){o[e]=u[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(l=t.assets.length,e=0;e<l;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,o=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,o)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&this.goToAndStop(l.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,o=t.length;for(n=0;n<o;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,o=0,l=0,u=!0,h=!1;function f(A){for(var w=0,C=A.target;w<o;)e[w].animation===C&&(e.splice(w,1),w-=1,o-=1,C.isPaused||m()),w+=1}function d(A,w){if(!A)return null;for(var C=0;C<o;){if(e[C].elem===A&&e[C].elem!==null)return e[C].animation;C+=1}var O=new AnimationItem;return v(O,A),O.setData(A,w),O}function p(){l+=1,T()}function m(){l-=1}function v(A,w){A.addEventListener("destroy",f),A.addEventListener("_active",p),A.addEventListener("_idle",m),e.push({elem:w,animation:A}),o+=1}function _(A){var w,C=A-n;for(w=0;w<o;w+=1)e[w].animation.advanceTime(C);n=A,l&&!h?window.requestAnimationFrame(_):u=!0}function S(A){n=A,window.requestAnimationFrame(_)}function T(){!h&&l&&u&&(window.requestAnimationFrame(S),u=!1)}return t.registerAnimation=d,t.loadAnimation=function(A){var w=new AnimationItem;return v(w,null),w.setParams(A),w},t.setSpeed=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setSpeed(A,w)},t.setDirection=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setDirection(A,w)},t.play=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.play(A)},t.pause=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.pause(A)},t.stop=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.stop(A)},t.togglePause=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.togglePause(A)},t.searchAnimations=function(A,w,C){var O,L=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),F=L.length;for(O=0;O<F;O+=1)C&&L[O].setAttribute("data-bm-type",C),d(L[O],A);if(w&&F===0){C||(C="svg");var B=document.getElementsByTagName("body")[0];B.innerText="";var U=createTag("div");U.style.width="100%",U.style.height="100%",U.setAttribute("data-bm-type",C),B.appendChild(U),d(U,A)}},t.resize=function(){var A;for(A=0;A<o;A+=1)e[A].animation.resize()},t.goToAndStop=function(A,w,C){var O;for(O=0;O<o;O+=1)e[O].animation.goToAndStop(A,w,C)},t.destroy=function(A){var w;for(w=o-1;w>=0;w-=1)e[w].animation.destroy(A)},t.freeze=function(){h=!0},t.unfreeze=function(){h=!1,T()},t.setVolume=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setVolume(A,w)},t.mute=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.mute(A)},t.unmute=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.unmute(A)},t.getRegisteredAnimations=function(){var A,w=e.length,C=[];for(A=0;A<w;A+=1)C.push(e[A].animation);return C},t}(),BezierFactory=function(){var t={getBezierEasing:function(p,m,v,_,S){var T=S||("bez_"+p+"_"+m+"_"+v+"_"+_).replace(/\./g,"p");if(e[T])return e[T];var A=new d([p,m,v,_]);return e[T]=A,A}},e={},n=typeof Float32Array=="function";function o(p,m){return 1-3*m+3*p}function l(p,m){return 3*m-6*p}function u(p){return 3*p}function h(p,m,v){return((o(m,v)*p+l(m,v))*p+u(m))*p}function f(p,m,v){return 3*o(m,v)*p*p+2*l(m,v)*p+u(m)}function d(p){this._p=p,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(p){var m=this._p[0],v=this._p[1],_=this._p[2],S=this._p[3];return this._precomputed||this._precompute(),m===v&&_===S?p:p===0?0:p===1?1:h(this._getTForX(p),v,S)},_precompute:function(){var p=this._p[0],m=this._p[1],v=this._p[2],_=this._p[3];this._precomputed=!0,p===m&&v===_||this._calcSampleValues()},_calcSampleValues:function(){for(var p=this._p[0],m=this._p[2],v=0;v<11;++v)this._mSampleValues[v]=h(.1*v,p,m)},_getTForX:function(p){for(var m=this._p[0],v=this._p[2],_=this._mSampleValues,S=0,T=1;T!==10&&_[T]<=p;++T)S+=.1;var A=S+.1*((p-_[--T])/(_[T+1]-_[T])),w=f(A,m,v);return w>=.001?function(C,O,L,F){for(var B=0;B<4;++B){var U=f(O,L,F);if(U===0)return O;O-=(h(O,L,F)-C)/U}return O}(p,A,m,v):w===0?A:function(C,O,L,F,B){var U,V,q=0;do(U=h(V=O+(L-O)/2,F,B)-C)>0?L=V:O=V;while(Math.abs(U)>1e-7&&++q<10);return V}(p,S,S+.1,m,v)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,n){var o=0,l=t,u=createSizedArray(l);return{newElement:function(){return o?u[o-=1]:e()},release:function(h){o===l&&(u=pooling.double(u),l*=2),n&&n(h),u[o]=h,o+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0});function bezFunction(){var t=Math;function e(p,m,v,_,S,T){var A=p*_+m*S+v*T-S*_-T*p-v*m;return A>-.001&&A<.001}var n=function(p,m,v,_){var S,T,A,w,C,O,L=getDefaultCurveSegments(),F=0,B=[],U=[],V=bezierLengthPool.newElement();for(A=v.length,S=0;S<L;S+=1){for(C=S/(L-1),O=0,T=0;T<A;T+=1)w=bmPow(1-C,3)*p[T]+3*bmPow(1-C,2)*C*v[T]+3*(1-C)*bmPow(C,2)*_[T]+bmPow(C,3)*m[T],B[T]=w,U[T]!==null&&(O+=bmPow(B[T]-U[T],2)),U[T]=B[T];O&&(F+=O=bmSqrt(O)),V.percents[S]=C,V.lengths[S]=F}return V.addedLength=F,V};function o(p){this.segmentLength=0,this.points=new Array(p)}function l(p,m){this.partialLength=p,this.point=m}var u,h=(u={},function(p,m,v,_){var S=(p[0]+"_"+p[1]+"_"+m[0]+"_"+m[1]+"_"+v[0]+"_"+v[1]+"_"+_[0]+"_"+_[1]).replace(/\./g,"p");if(!u[S]){var T,A,w,C,O,L,F,B=getDefaultCurveSegments(),U=0,V=null;p.length===2&&(p[0]!==m[0]||p[1]!==m[1])&&e(p[0],p[1],m[0],m[1],p[0]+v[0],p[1]+v[1])&&e(p[0],p[1],m[0],m[1],m[0]+_[0],m[1]+_[1])&&(B=2);var q=new o(B);for(w=v.length,T=0;T<B;T+=1){for(F=createSizedArray(w),O=T/(B-1),L=0,A=0;A<w;A+=1)C=bmPow(1-O,3)*p[A]+3*bmPow(1-O,2)*O*(p[A]+v[A])+3*(1-O)*bmPow(O,2)*(m[A]+_[A])+bmPow(O,3)*m[A],F[A]=C,V!==null&&(L+=bmPow(F[A]-V[A],2));U+=L=bmSqrt(L),q.points[T]=new l(L,F),V=F}q.segmentLength=U,u[S]=q}return u[S]});function f(p,m){var v=m.percents,_=m.lengths,S=v.length,T=bmFloor((S-1)*p),A=p*m.addedLength,w=0;if(T===S-1||T===0||A===_[T])return v[T];for(var C=_[T]>A?-1:1,O=!0;O;)if(_[T]<=A&&_[T+1]>A?(w=(A-_[T])/(_[T+1]-_[T]),O=!1):T+=C,T<0||T>=S-1){if(T===S-1)return v[T];O=!1}return v[T]+(v[T+1]-v[T])*w}var d=createTypedArray("float32",8);return{getSegmentsLength:function(p){var m,v=segmentsLengthPool.newElement(),_=p.c,S=p.v,T=p.o,A=p.i,w=p._length,C=v.lengths,O=0;for(m=0;m<w-1;m+=1)C[m]=n(S[m],S[m+1],T[m],A[m+1]),O+=C[m].addedLength;return _&&w&&(C[m]=n(S[m],S[0],T[m],A[0]),O+=C[m].addedLength),v.totalLength=O,v},getNewSegment:function(p,m,v,_,S,T,A){S<0?S=0:S>1&&(S=1);var w,C=f(S,A),O=f(T=T>1?1:T,A),L=p.length,F=1-C,B=1-O,U=F*F*F,V=C*F*F*3,q=C*C*F*3,H=C*C*C,G=F*F*B,Y=C*F*B+F*C*B+F*F*O,Q=C*C*B+F*C*O+C*F*O,ie=C*C*O,ae=F*B*B,le=C*B*B+F*O*B+F*B*O,he=C*O*B+F*O*O+C*B*O,ge=C*O*O,J=B*B*B,se=O*B*B+B*O*B+B*B*O,ce=O*O*B+B*O*O+O*B*O,te=O*O*O;for(w=0;w<L;w+=1)d[4*w]=t.round(1e3*(U*p[w]+V*v[w]+q*_[w]+H*m[w]))/1e3,d[4*w+1]=t.round(1e3*(G*p[w]+Y*v[w]+Q*_[w]+ie*m[w]))/1e3,d[4*w+2]=t.round(1e3*(ae*p[w]+le*v[w]+he*_[w]+ge*m[w]))/1e3,d[4*w+3]=t.round(1e3*(J*p[w]+se*v[w]+ce*_[w]+te*m[w]))/1e3;return d},getPointInSegment:function(p,m,v,_,S,T){var A=f(S,T),w=1-A;return[t.round(1e3*(w*w*w*p[0]+(A*w*w+w*A*w+w*w*A)*v[0]+(A*A*w+w*A*A+A*w*A)*_[0]+A*A*A*m[0]))/1e3,t.round(1e3*(w*w*w*p[1]+(A*w*w+w*A*w+w*w*A)*v[1]+(A*A*w+w*A*A+A*w*A)*_[1]+A*A*A*m[1]))/1e3]},buildBezierData:h,pointOnLine2D:e,pointOnLine3D:function(p,m,v,_,S,T,A,w,C){if(v===0&&T===0&&C===0)return e(p,m,_,S,A,w);var O,L=t.sqrt(t.pow(_-p,2)+t.pow(S-m,2)+t.pow(T-v,2)),F=t.sqrt(t.pow(A-p,2)+t.pow(w-m,2)+t.pow(C-v,2)),B=t.sqrt(t.pow(A-_,2)+t.pow(w-S,2)+t.pow(C-T,2));return(O=L>F?L>B?L-F-B:B-F-L:B>F?B-F-L:F-L-B)>-1e-4&&O<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,o=this.offsetTime;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var l,u,h,f,d,p,m,v,_,S=e.lastIndex,T=S,A=this.keyframes.length-1,w=!0;w;){if(l=this.keyframes[T],u=this.keyframes[T+1],T===A-1&&t>=u.t-o){l.h&&(l=u),S=0;break}if(u.t-o>t){S=T;break}T<A-1?T+=1:(S=0,w=!1)}h=this.keyframesMetadata[T]||{};var C,O=u.t-o,L=l.t-o;if(l.to){h.bezierData||(h.bezierData=bez.buildBezierData(l.s,u.s||l.e,l.to,l.ti));var F=h.bezierData;if(t>=O||t<L){var B=t>=O?F.points.length-1:0;for(d=F.points[B].point.length,f=0;f<d;f+=1)n[f]=F.points[B].point[f]}else{h.__fnct?_=h.__fnct:(_=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,h.__fnct=_),p=_((t-L)/(O-L));var U,V=F.segmentLength*p,q=e.lastFrame<t&&e._lastKeyframeIndex===T?e._lastAddedLength:0;for(v=e.lastFrame<t&&e._lastKeyframeIndex===T?e._lastPoint:0,w=!0,m=F.points.length;w;){if(q+=F.points[v].partialLength,V===0||p===0||v===F.points.length-1){for(d=F.points[v].point.length,f=0;f<d;f+=1)n[f]=F.points[v].point[f];break}if(V>=q&&V<q+F.points[v+1].partialLength){for(U=(V-q)/F.points[v+1].partialLength,d=F.points[v].point.length,f=0;f<d;f+=1)n[f]=F.points[v].point[f]+(F.points[v+1].point[f]-F.points[v].point[f])*U;break}v<m-1?v+=1:w=!1}e._lastPoint=v,e._lastAddedLength=q-F.points[v].partialLength,e._lastKeyframeIndex=T}}else{var H,G,Y,Q,ie;if(A=l.s.length,C=u.s||l.e,this.sh&&l.h!==1)t>=O?(n[0]=C[0],n[1]=C[1],n[2]=C[2]):t<=L?(n[0]=l.s[0],n[1]=l.s[1],n[2]=l.s[2]):quaternionToEuler(n,slerp(createQuaternion(l.s),createQuaternion(C),(t-L)/(O-L)));else for(T=0;T<A;T+=1)l.h!==1&&(t>=O?p=1:t<L?p=0:(l.o.x.constructor===Array?(h.__fnct||(h.__fnct=[]),h.__fnct[T]?_=h.__fnct[T]:(H=l.o.x[T]===void 0?l.o.x[0]:l.o.x[T],G=l.o.y[T]===void 0?l.o.y[0]:l.o.y[T],Y=l.i.x[T]===void 0?l.i.x[0]:l.i.x[T],Q=l.i.y[T]===void 0?l.i.y[0]:l.i.y[T],_=BezierFactory.getBezierEasing(H,G,Y,Q).get,h.__fnct[T]=_)):h.__fnct?_=h.__fnct:(H=l.o.x,G=l.o.y,Y=l.i.x,Q=l.i.y,_=BezierFactory.getBezierEasing(H,G,Y,Q).get,l.keyframeMetadata=_),p=_((t-L)/(O-L)))),C=u.s||l.e,ie=l.h===1?l.s[T]:l.s[T]+(C[T]-l.s[T])*p,this.propType==="multidimensional"?n[T]=ie:n=ie}return e.lastIndex=S,n}function slerp(t,e,n){var o,l,u,h,f,d=[],p=t[0],m=t[1],v=t[2],_=t[3],S=e[0],T=e[1],A=e[2],w=e[3];return(l=p*S+m*T+v*A+_*w)<0&&(l=-l,S=-S,T=-T,A=-A,w=-w),1-l>1e-6?(o=Math.acos(l),u=Math.sin(o),h=Math.sin((1-n)*o)/u,f=Math.sin(n*o)/u):(h=1-n,f=n),d[0]=h*p+f*S,d[1]=h*m+f*T,d[2]=h*v+f*A,d[3]=h*_+f*w,d}function quaternionToEuler(t,e){var n=e[0],o=e[1],l=e[2],u=e[3],h=Math.atan2(2*o*u-2*n*l,1-2*o*o-2*l*l),f=Math.asin(2*n*o+2*l*u),d=Math.atan2(2*n*u-2*o*l,1-2*n*n-2*l*l);t[0]=h/degToRads,t[1]=f/degToRads,t[2]=d/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,o=t[2]*degToRads,l=Math.cos(e/2),u=Math.cos(n/2),h=Math.cos(o/2),f=Math.sin(e/2),d=Math.sin(n/2),p=Math.sin(o/2);return[f*d*h+l*u*p,f*u*h+l*d*p,l*d*h-f*u*p,l*u*h-f*d*p]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,o){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,o){var l;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var u=e.k.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),this.vel=createTypedArray("float32",u),l=0;l<u;l+=1)this.v[l]=e.k[l]*this.mult,this.pv[l]=e.k[l];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,o){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,o){var l;this.propType="multidimensional";var u,h,f,d,p=e.k.length;for(l=0;l<p-1;l+=1)e.k[l].to&&e.k[l].s&&e.k[l+1]&&e.k[l+1].s&&(u=e.k[l].s,h=e.k[l+1].s,f=e.k[l].to,d=e.k[l].ti,(u.length===2&&(u[0]!==h[0]||u[1]!==h[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],u[0]+f[0],u[1]+f[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],h[0]+d[0],h[1]+d[1])||u.length===3&&(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],u[0]+f[0],u[1]+f[1],u[2]+f[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],h[0]+d[0],h[1]+d[1],h[2]+d[2]))&&(e.k[l].to=null,e.k[l].ti=null),u[0]===h[0]&&u[1]===h[1]&&f[0]===0&&f[1]===0&&d[0]===0&&d[1]===0&&(u.length===2||u[2]===h[2]&&f[2]===0&&d[2]===0)&&(e.k[l].to=null,e.k[l].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var m=e.k[0].s.length;for(this.v=createTypedArray("float32",m),this.pv=createTypedArray("float32",m),l=0;l<m;l+=1)this.v[l]=initFrame,this.pv[l]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",m)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,n,o,l){var u;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if(typeof e.k[0]=="number")u=new MultiDimensionalProperty(t,e,o,l);else switch(n){case 0:u=new KeyframedValueProperty(t,e,o,l);break;case 1:u=new KeyframedMultidimensionalProperty(t,e,o,l)}else u=new ValueProperty(t,e,o,l);return u.effectsSequence.length&&l.addDynamicProperty(u),u}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,o,l){var u;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":u=this.v;break;case"i":u=this.i;break;case"o":u=this.o;break;default:u=[]}(!u[o]||u[o]&&!l)&&(u[o]=pointPool.newElement()),u[o][0]=t,u[o][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,o,l,u,h,f){this.setXYAt(t,e,"v",h,f),this.setXYAt(n,o,"o",h,f),this.setXYAt(l,u,"i",h,f)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,o=this.i,l=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],n[0][0],n[0][1],0,!1),l=1);var u,h=this._length-1,f=this._length;for(u=l;u<f;u+=1)t.setTripleAt(e[h][0],e[h][1],o[h][0],o[h][1],n[h][0],n[h][1],u,!1),h-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,n=factory.newElement(),o=t._length===void 0?t.v.length:t._length;for(n.setLength(o),n.c=t.c,e=0;e<o;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,n=t._length;for(e=0;e<n;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function t(_,S,T){var A,w,C,O,L,F,B,U,V,q=T.lastIndex,H=this.keyframes;if(_<H[0].t-this.offsetTime)A=H[0].s[0],C=!0,q=0;else if(_>=H[H.length-1].t-this.offsetTime)A=H[H.length-1].s?H[H.length-1].s[0]:H[H.length-2].e[0],C=!0;else{for(var G,Y,Q,ie=q,ae=H.length-1,le=!0;le&&(G=H[ie],!((Y=H[ie+1]).t-this.offsetTime>_));)ie<ae-1?ie+=1:le=!1;if(Q=this.keyframesMetadata[ie]||{},q=ie,!(C=G.h===1)){if(_>=Y.t-this.offsetTime)U=1;else if(_<G.t-this.offsetTime)U=0;else{var he;Q.__fnct?he=Q.__fnct:(he=BezierFactory.getBezierEasing(G.o.x,G.o.y,G.i.x,G.i.y).get,Q.__fnct=he),U=he((_-(G.t-this.offsetTime))/(Y.t-this.offsetTime-(G.t-this.offsetTime)))}w=Y.s?Y.s[0]:G.e[0]}A=G.s[0]}for(F=S._length,B=A.i[0].length,T.lastIndex=q,O=0;O<F;O+=1)for(L=0;L<B;L+=1)V=C?A.i[O][L]:A.i[O][L]+(w.i[O][L]-A.i[O][L])*U,S.i[O][L]=V,V=C?A.o[O][L]:A.o[O][L]+(w.o[O][L]-A.o[O][L])*U,S.o[O][L]=V,V=C?A.v[O][L]:A.v[O][L]+(w.v[O][L]-A.v[O][L])*U,S.v[O][L]=V}function e(){var _=this.comp.renderedFrame-this.offsetTime,S=this.keyframes[0].t-this.offsetTime,T=this.keyframes[this.keyframes.length-1].t-this.offsetTime,A=this._caching.lastFrame;return A!==-999999&&(A<S&&_<S||A>T&&_>T)||(this._caching.lastIndex=A<_?this._caching.lastIndex:0,this.interpolateShape(_,this.pv,this._caching)),this._caching.lastFrame=_,this.pv}function n(){this.paths=this.localShapeCollection}function o(_){(function(S,T){if(S._length!==T._length||S.c!==T.c)return!1;var A,w=S._length;for(A=0;A<w;A+=1)if(S.v[A][0]!==T.v[A][0]||S.v[A][1]!==T.v[A][1]||S.o[A][0]!==T.o[A][0]||S.o[A][1]!==T.o[A][1]||S.i[A][0]!==T.i[A][0]||S.i[A][1]!==T.i[A][1])return!1;return!0})(this.v,_)||(this.v=shapePool.clone(_),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var _,S;this.lock=!0,this._mdf=!1,_=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var T=this.effectsSequence.length;for(S=0;S<T;S+=1)_=this.effectsSequence[S](_);this.setVValue(_),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function u(_,S,T){this.propType="shape",this.comp=_.comp,this.container=_,this.elem=_,this.data=S,this.k=!1,this.kf=!1,this._mdf=!1;var A=T===3?S.pt.k:S.ks.k;this.v=shapePool.clone(A),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function h(_){this.effectsSequence.push(_),this.container.addDynamicProperty(this)}function f(_,S,T){this.propType="shape",this.comp=_.comp,this.elem=_,this.container=_,this.offsetTime=_.data.st,this.keyframes=T===3?S.pt.k:S.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var A=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,A),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}u.prototype.interpolateShape=t,u.prototype.getValue=l,u.prototype.setVValue=o,u.prototype.addEffect=h,f.prototype.getValue=l,f.prototype.interpolateShape=t,f.prototype.setVValue=o,f.prototype.addEffect=h;var d=function(){var _=roundCorner;function S(T,A){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=A.d,this.elem=T,this.comp=T.comp,this.frameId=-1,this.initDynamicPropertyContainer(T),this.p=PropertyFactory.getProp(T,A.p,1,0,this),this.s=PropertyFactory.getProp(T,A.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return S.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var T=this.p.v[0],A=this.p.v[1],w=this.s.v[0]/2,C=this.s.v[1]/2,O=this.d!==3,L=this.v;L.v[0][0]=T,L.v[0][1]=A-C,L.v[1][0]=O?T+w:T-w,L.v[1][1]=A,L.v[2][0]=T,L.v[2][1]=A+C,L.v[3][0]=O?T-w:T+w,L.v[3][1]=A,L.i[0][0]=O?T-w*_:T+w*_,L.i[0][1]=A-C,L.i[1][0]=O?T+w:T-w,L.i[1][1]=A-C*_,L.i[2][0]=O?T+w*_:T-w*_,L.i[2][1]=A+C,L.i[3][0]=O?T-w:T+w,L.i[3][1]=A+C*_,L.o[0][0]=O?T+w*_:T-w*_,L.o[0][1]=A-C,L.o[1][0]=O?T+w:T-w,L.o[1][1]=A+C*_,L.o[2][0]=O?T-w*_:T+w*_,L.o[2][1]=A+C,L.o[3][0]=O?T-w:T+w,L.o[3][1]=A-C*_}},extendPrototype([DynamicPropertyContainer],S),S}(),p=function(){function _(S,T){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=S,this.comp=S.comp,this.data=T,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(S),T.sy===1?(this.ir=PropertyFactory.getProp(S,T.ir,0,0,this),this.is=PropertyFactory.getProp(S,T.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(S,T.pt,0,0,this),this.p=PropertyFactory.getProp(S,T.p,1,0,this),this.r=PropertyFactory.getProp(S,T.r,0,degToRads,this),this.or=PropertyFactory.getProp(S,T.or,0,0,this),this.os=PropertyFactory.getProp(S,T.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var S,T,A,w,C=2*Math.floor(this.pt.v),O=2*Math.PI/C,L=!0,F=this.or.v,B=this.ir.v,U=this.os.v,V=this.is.v,q=2*Math.PI*F/(2*C),H=2*Math.PI*B/(2*C),G=-Math.PI/2;G+=this.r.v;var Y=this.data.d===3?-1:1;for(this.v._length=0,S=0;S<C;S+=1){A=L?U:V,w=L?q:H;var Q=(T=L?F:B)*Math.cos(G),ie=T*Math.sin(G),ae=Q===0&&ie===0?0:ie/Math.sqrt(Q*Q+ie*ie),le=Q===0&&ie===0?0:-Q/Math.sqrt(Q*Q+ie*ie);Q+=+this.p.v[0],ie+=+this.p.v[1],this.v.setTripleAt(Q,ie,Q-ae*w*A*Y,ie-le*w*A*Y,Q+ae*w*A*Y,ie+le*w*A*Y,S,!0),L=!L,G+=O*Y}},convertPolygonToPath:function(){var S,T=Math.floor(this.pt.v),A=2*Math.PI/T,w=this.or.v,C=this.os.v,O=2*Math.PI*w/(4*T),L=.5*-Math.PI,F=this.data.d===3?-1:1;for(L+=this.r.v,this.v._length=0,S=0;S<T;S+=1){var B=w*Math.cos(L),U=w*Math.sin(L),V=B===0&&U===0?0:U/Math.sqrt(B*B+U*U),q=B===0&&U===0?0:-B/Math.sqrt(B*B+U*U);B+=+this.p.v[0],U+=+this.p.v[1],this.v.setTripleAt(B,U,B-V*O*C*F,U-q*O*C*F,B+V*O*C*F,U+q*O*C*F,S,!0),L+=A*F}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_),_}(),m=function(){function _(S,T){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=S,this.comp=S.comp,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(S),this.p=PropertyFactory.getProp(S,T.p,1,0,this),this.s=PropertyFactory.getProp(S,T.s,1,0,this),this.r=PropertyFactory.getProp(S,T.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _.prototype={convertRectToPath:function(){var S=this.p.v[0],T=this.p.v[1],A=this.s.v[0]/2,w=this.s.v[1]/2,C=bmMin(A,w,this.r.v),O=C*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(S+A,T-w+C,S+A,T-w+C,S+A,T-w+O,0,!0),this.v.setTripleAt(S+A,T+w-C,S+A,T+w-O,S+A,T+w-C,1,!0),C!==0?(this.v.setTripleAt(S+A-C,T+w,S+A-C,T+w,S+A-O,T+w,2,!0),this.v.setTripleAt(S-A+C,T+w,S-A+O,T+w,S-A+C,T+w,3,!0),this.v.setTripleAt(S-A,T+w-C,S-A,T+w-C,S-A,T+w-O,4,!0),this.v.setTripleAt(S-A,T-w+C,S-A,T-w+O,S-A,T-w+C,5,!0),this.v.setTripleAt(S-A+C,T-w,S-A+C,T-w,S-A+O,T-w,6,!0),this.v.setTripleAt(S+A-C,T-w,S+A-O,T-w,S+A-C,T-w,7,!0)):(this.v.setTripleAt(S-A,T+w,S-A+O,T+w,S-A,T+w,2),this.v.setTripleAt(S-A,T-w,S-A,T-w+O,S-A,T-w,3))):(this.v.setTripleAt(S+A,T-w+C,S+A,T-w+O,S+A,T-w+C,0,!0),C!==0?(this.v.setTripleAt(S+A-C,T-w,S+A-C,T-w,S+A-O,T-w,1,!0),this.v.setTripleAt(S-A+C,T-w,S-A+O,T-w,S-A+C,T-w,2,!0),this.v.setTripleAt(S-A,T-w+C,S-A,T-w+C,S-A,T-w+O,3,!0),this.v.setTripleAt(S-A,T+w-C,S-A,T+w-O,S-A,T+w-C,4,!0),this.v.setTripleAt(S-A+C,T+w,S-A+C,T+w,S-A+O,T+w,5,!0),this.v.setTripleAt(S+A-C,T+w,S+A-O,T+w,S+A-C,T+w,6,!0),this.v.setTripleAt(S+A,T+w-C,S+A,T+w-C,S+A,T+w-O,7,!0)):(this.v.setTripleAt(S-A,T-w,S-A+O,T-w,S-A,T-w,1,!0),this.v.setTripleAt(S-A,T+w,S-A,T+w-O,S-A,T+w,2,!0),this.v.setTripleAt(S+A,T+w,S+A-O,T+w,S+A,T+w,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],_),_}(),v={getShapeProp:function(_,S,T){var A;return T===3||T===4?A=(T===3?S.pt:S.ks).k.length?new f(_,S,T):new u(_,S,T):T===5?A=new m(_,S):T===6?A=new d(_,S):T===7&&(A=new p(_,S)),A.k&&_.addDynamicProperty(A),A},getConstructorFunction:function(){return u},getKeyframedConstructorFunction:function(){return f}};return v}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function u(J){if(J===0)return this;var se=t(J),ce=e(J);return this._t(se,-ce,0,0,ce,se,0,0,0,0,1,0,0,0,0,1)}function h(J){if(J===0)return this;var se=t(J),ce=e(J);return this._t(1,0,0,0,0,se,-ce,0,0,ce,se,0,0,0,0,1)}function f(J){if(J===0)return this;var se=t(J),ce=e(J);return this._t(se,0,ce,0,0,1,0,0,-ce,0,se,0,0,0,0,1)}function d(J){if(J===0)return this;var se=t(J),ce=e(J);return this._t(se,-ce,0,0,ce,se,0,0,0,0,1,0,0,0,0,1)}function p(J,se){return this._t(1,se,J,1,0,0)}function m(J,se){return this.shear(n(J),n(se))}function v(J,se){var ce=t(se),te=e(se);return this._t(ce,te,0,0,-te,ce,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(J),1,0,0,0,0,1,0,0,0,0,1)._t(ce,-te,0,0,te,ce,0,0,0,0,1,0,0,0,0,1)}function _(J,se,ce){return ce||ce===0||(ce=1),J===1&&se===1&&ce===1?this:this._t(J,0,0,0,0,se,0,0,0,0,ce,0,0,0,0,1)}function S(J,se,ce,te,fe,_e,ye,xe,Me,be,Ce,Re,Ne,Oe,Te,tt){return this.props[0]=J,this.props[1]=se,this.props[2]=ce,this.props[3]=te,this.props[4]=fe,this.props[5]=_e,this.props[6]=ye,this.props[7]=xe,this.props[8]=Me,this.props[9]=be,this.props[10]=Ce,this.props[11]=Re,this.props[12]=Ne,this.props[13]=Oe,this.props[14]=Te,this.props[15]=tt,this}function T(J,se,ce){return ce=ce||0,J!==0||se!==0||ce!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,J,se,ce,1):this}function A(J,se,ce,te,fe,_e,ye,xe,Me,be,Ce,Re,Ne,Oe,Te,tt){var de=this.props;if(J===1&&se===0&&ce===0&&te===0&&fe===0&&_e===1&&ye===0&&xe===0&&Me===0&&be===0&&Ce===1&&Re===0)return de[12]=de[12]*J+de[15]*Ne,de[13]=de[13]*_e+de[15]*Oe,de[14]=de[14]*Ce+de[15]*Te,de[15]*=tt,this._identityCalculated=!1,this;var Xe=de[0],qe=de[1],Ye=de[2],Ie=de[3],et=de[4],Ue=de[5],ke=de[6],ct=de[7],me=de[8],ue=de[9],Ae=de[10],We=de[11],$e=de[12],je=de[13],ft=de[14],ht=de[15];return de[0]=Xe*J+qe*fe+Ye*Me+Ie*Ne,de[1]=Xe*se+qe*_e+Ye*be+Ie*Oe,de[2]=Xe*ce+qe*ye+Ye*Ce+Ie*Te,de[3]=Xe*te+qe*xe+Ye*Re+Ie*tt,de[4]=et*J+Ue*fe+ke*Me+ct*Ne,de[5]=et*se+Ue*_e+ke*be+ct*Oe,de[6]=et*ce+Ue*ye+ke*Ce+ct*Te,de[7]=et*te+Ue*xe+ke*Re+ct*tt,de[8]=me*J+ue*fe+Ae*Me+We*Ne,de[9]=me*se+ue*_e+Ae*be+We*Oe,de[10]=me*ce+ue*ye+Ae*Ce+We*Te,de[11]=me*te+ue*xe+Ae*Re+We*tt,de[12]=$e*J+je*fe+ft*Me+ht*Ne,de[13]=$e*se+je*_e+ft*be+ht*Oe,de[14]=$e*ce+je*ye+ft*Ce+ht*Te,de[15]=$e*te+je*xe+ft*Re+ht*tt,this._identityCalculated=!1,this}function w(J){var se=J.props;return this.transform(se[0],se[1],se[2],se[3],se[4],se[5],se[6],se[7],se[8],se[9],se[10],se[11],se[12],se[13],se[14],se[15])}function C(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function O(J){for(var se=0;se<16;){if(J.props[se]!==this.props[se])return!1;se+=1}return!0}function L(J){var se;for(se=0;se<16;se+=1)J.props[se]=this.props[se];return J}function F(J){var se;for(se=0;se<16;se+=1)this.props[se]=J[se]}function B(J,se,ce){return{x:J*this.props[0]+se*this.props[4]+ce*this.props[8]+this.props[12],y:J*this.props[1]+se*this.props[5]+ce*this.props[9]+this.props[13],z:J*this.props[2]+se*this.props[6]+ce*this.props[10]+this.props[14]}}function U(J,se,ce){return J*this.props[0]+se*this.props[4]+ce*this.props[8]+this.props[12]}function V(J,se,ce){return J*this.props[1]+se*this.props[5]+ce*this.props[9]+this.props[13]}function q(J,se,ce){return J*this.props[2]+se*this.props[6]+ce*this.props[10]+this.props[14]}function H(){var J=this.props[0]*this.props[5]-this.props[1]*this.props[4],se=this.props[5]/J,ce=-this.props[1]/J,te=-this.props[4]/J,fe=this.props[0]/J,_e=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/J,ye=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/J,xe=new Matrix;return xe.props[0]=se,xe.props[1]=ce,xe.props[4]=te,xe.props[5]=fe,xe.props[12]=_e,xe.props[13]=ye,xe}function G(J){return this.getInverseMatrix().applyToPointArray(J[0],J[1],J[2]||0)}function Y(J){var se,ce=J.length,te=[];for(se=0;se<ce;se+=1)te[se]=G(J[se]);return te}function Q(J,se,ce){var te=createTypedArray("float32",6);if(this.isIdentity())te[0]=J[0],te[1]=J[1],te[2]=se[0],te[3]=se[1],te[4]=ce[0],te[5]=ce[1];else{var fe=this.props[0],_e=this.props[1],ye=this.props[4],xe=this.props[5],Me=this.props[12],be=this.props[13];te[0]=J[0]*fe+J[1]*ye+Me,te[1]=J[0]*_e+J[1]*xe+be,te[2]=se[0]*fe+se[1]*ye+Me,te[3]=se[0]*_e+se[1]*xe+be,te[4]=ce[0]*fe+ce[1]*ye+Me,te[5]=ce[0]*_e+ce[1]*xe+be}return te}function ie(J,se,ce){return this.isIdentity()?[J,se,ce]:[J*this.props[0]+se*this.props[4]+ce*this.props[8]+this.props[12],J*this.props[1]+se*this.props[5]+ce*this.props[9]+this.props[13],J*this.props[2]+se*this.props[6]+ce*this.props[10]+this.props[14]]}function ae(J,se){if(this.isIdentity())return J+","+se;var ce=this.props;return Math.round(100*(J*ce[0]+se*ce[4]+ce[12]))/100+","+Math.round(100*(J*ce[1]+se*ce[5]+ce[13]))/100}function le(){for(var J=0,se=this.props,ce="matrix3d(";J<16;)ce+=o(1e4*se[J])/1e4,ce+=J===15?")":",",J+=1;return ce}function he(J){return J<1e-6&&J>0||J>-1e-6&&J<0?o(1e4*J)/1e4:J}function ge(){var J=this.props;return"matrix("+he(J[0])+","+he(J[1])+","+he(J[4])+","+he(J[5])+","+he(J[12])+","+he(J[13])+")"}return function(){this.reset=l,this.rotate=u,this.rotateX=h,this.rotateY=f,this.rotateZ=d,this.skew=m,this.skewFromAxis=v,this.shear=p,this.scale=_,this.setTransform=S,this.translate=T,this.transform=A,this.multiply=w,this.applyToPoint=B,this.applyToX=U,this.applyToY=V,this.applyToZ=q,this.applyToPointArray=ie,this.applyToTriplePoints=Q,this.applyToPointStringified=ae,this.toCSS=le,this.to2dCSS=ge,this.clone=L,this.cloneFromProps=F,this.equals=O,this.inversePoints=Y,this.inversePoint=G,this.getInverseMatrix=H,this._t=this.transform,this.isIdentity=C,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var o=e[n].split("=");if(decodeURIComponent(o[0])==t)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(n,o){e[n]||(e[n]=o)},t.getModifier=function(n,o,l){return new e[n](o,l)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,o,l){var u=[];e<=1?u.push({s:t,e}):t>=1?u.push({s:t-1,e:e-1}):(u.push({s:t,e:1}),u.push({s:0,e:e-1}));var h,f,d=[],p=u.length;for(h=0;h<p;h+=1){var m,v;(f=u[h]).e*l<o||f.s*l>o+n||(m=f.s*l<=o?0:(f.s*l-o)/n,v=f.e*l>=o+n?1:(f.e*l-o)/n,d.push([m,v]))}return d.length||d.push([0,0]),d},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,o,l;if(this._mdf||t){var u=this.o.v%360/360;if(u<0&&(u+=1),(e=this.s.v>1?1+u:this.s.v<0?0+u:this.s.v+u)>(n=this.e.v>1?1+u:this.e.v<0?0+u:this.e.v+u)){var h=e;e=n,n=h}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var f,d,p,m,v,_=this.shapes.length,S=0;if(n===e)for(l=0;l<_;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(l=0;l<_;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var T,A,w=[];for(l=0;l<_;l+=1)if((T=this.shapes[l]).shape._mdf||this._mdf||t||this.m===2){if(d=(o=T.shape.paths)._length,v=0,!T.shape._mdf&&T.pathsData.length)v=T.totalShapeLength;else{for(p=this.releasePathsData(T.pathsData),f=0;f<d;f+=1)m=bez.getSegmentsLength(o.shapes[f]),p.push(m),v+=m.totalLength;T.totalShapeLength=v,T.pathsData=p}S+=v,T.shape._mdf=!0}else T.shape.paths=T.localShapeCollection;var C,O=e,L=n,F=0;for(l=_-1;l>=0;l-=1)if((T=this.shapes[l]).shape._mdf){for((A=T.localShapeCollection).releaseShapes(),this.m===2&&_>1?(C=this.calculateShapeEdges(e,n,T.totalShapeLength,F,S),F+=T.totalShapeLength):C=[[O,L]],d=C.length,f=0;f<d;f+=1){O=C[f][0],L=C[f][1],w.length=0,L<=1?w.push({s:T.totalShapeLength*O,e:T.totalShapeLength*L}):O>=1?w.push({s:T.totalShapeLength*(O-1),e:T.totalShapeLength*(L-1)}):(w.push({s:T.totalShapeLength*O,e:T.totalShapeLength}),w.push({s:0,e:T.totalShapeLength*(L-1)}));var B=this.addShapes(T,w[0]);if(w[0].s!==w[0].e){if(w.length>1)if(T.shape.paths.shapes[T.shape.paths._length-1].c){var U=B.pop();this.addPaths(B,A),B=this.addShapes(T,w[1],U)}else this.addPaths(B,A),B=this.addShapes(T,w[1]);this.addPaths(B,A)}}T.shape.paths=A}}},TrimModifier.prototype.addPaths=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,o,l,u,h){l.setXYAt(e[0],e[1],"o",u),l.setXYAt(n[0],n[1],"i",u+1),h&&l.setXYAt(t[0],t[1],"v",u),l.setXYAt(o[0],o[1],"v",u+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,o){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),o&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var o,l,u,h,f,d,p,m,v=t.pathsData,_=t.shape.paths.shapes,S=t.shape.paths._length,T=0,A=[],w=!0;for(n?(f=n._length,m=n._length):(n=shapePool.newElement(),f=0,m=0),A.push(n),o=0;o<S;o+=1){for(d=v[o].lengths,n.c=_[o].c,u=_[o].c?d.length:d.length+1,l=1;l<u;l+=1)if(T+(h=d[l-1]).addedLength<e.s)T+=h.addedLength,n.c=!1;else{if(T>e.e){n.c=!1;break}e.s<=T&&e.e>=T+h.addedLength?(this.addSegment(_[o].v[l-1],_[o].o[l-1],_[o].i[l],_[o].v[l],n,f,w),w=!1):(p=bez.getNewSegment(_[o].v[l-1],_[o].v[l],_[o].o[l-1],_[o].i[l],(e.s-T)/h.addedLength,(e.e-T)/h.addedLength,d[l-1]),this.addSegmentFromArray(p,n,f,w),w=!1,n.c=!1),T+=h.addedLength,f+=1}if(_[o].c&&d.length){if(h=d[l-1],T<=e.e){var C=d[l-1].addedLength;e.s<=T&&e.e>=T+C?(this.addSegment(_[o].v[l-1],_[o].o[l-1],_[o].i[0],_[o].v[0],n,f,w),w=!1):(p=bez.getNewSegment(_[o].v[l-1],_[o].v[0],_[o].o[l-1],_[o].i[0],(e.s-T)/C,(e.e-T)/C,d[l-1]),this.addSegmentFromArray(p,n,f,w),w=!1,n.c=!1)}else n.c=!1;T+=h.addedLength,f+=1}if(n._length&&(n.setXYAt(n.v[m][0],n.v[m][1],"i",m),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),T>e.e)break;o<S-1&&(n=shapePool.newElement(),w=!0,A.push(n),f=0)}return A},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,o=[0,0],l=t._length,u=0;for(u=0;u<l;u+=1)o[0]+=t.v[u][0],o[1]+=t.v[u][1];o[0]/=l,o[1]/=l;var h,f,d,p,m,v,_=shapePool.newElement();for(_.c=t.c,u=0;u<l;u+=1)h=t.v[u][0]+(o[0]-t.v[u][0])*n,f=t.v[u][1]+(o[1]-t.v[u][1])*n,d=t.o[u][0]+(o[0]-t.o[u][0])*-n,p=t.o[u][1]+(o[1]-t.o[u][1])*-n,m=t.i[u][0]+(o[0]-t.i[u][0])*-n,v=t.i[u][1]+(o[1]-t.i[u][1])*-n,_.setTripleAt(h,f,d,p,m,v,u);return _},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amount.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(n,o,l){if(this.elem=n,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||n),o.p&&o.p.s?(this.px=PropertyFactory.getProp(n,o.p.x,0,0,this),this.py=PropertyFactory.getProp(n,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(n,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(n,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(n,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(n,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(n,o.rz,0,degToRads,this),o.or.k[0].ti){var u,h=o.or.k.length;for(u=0;u<h;u+=1)o.or.k[u].to=null,o.or.k[u].ti=null}this.or=PropertyFactory.getProp(n,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(n,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(n,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(n,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(n,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(n,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(n,o.o,0,.01,n):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(n){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&n.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&n.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&n.skewFromAxis(-this.sk.v,this.sa.v),this.r?n.rotate(-this.r.v):n.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?n.translate(this.px.v,this.py.v,-this.pz.v):n.translate(this.px.v,this.py.v,0):n.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(n){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||n){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,u;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),u=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),u=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,u=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],u=[];var h=this.px,f=this.py;h._caching.lastFrame+h.offsetTime<=h.keyframes[0].t?(l[0]=h.getValueAtTime((h.keyframes[0].t+.01)/o,0),l[1]=f.getValueAtTime((f.keyframes[0].t+.01)/o,0),u[0]=h.getValueAtTime(h.keyframes[0].t/o,0),u[1]=f.getValueAtTime(f.keyframes[0].t/o,0)):h._caching.lastFrame+h.offsetTime>=h.keyframes[h.keyframes.length-1].t?(l[0]=h.getValueAtTime(h.keyframes[h.keyframes.length-1].t/o,0),l[1]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/o,0),u[0]=h.getValueAtTime((h.keyframes[h.keyframes.length-1].t-.01)/o,0),u[1]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/o,0)):(l=[h.pv,f.pv],u[0]=h.getValueAtTime((h._caching.lastFrame+h.offsetTime-.01)/o,h.offsetTime),u[1]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/o,f.offsetTime))}else l=u=t;this.v.rotate(-Math.atan2(l[1]-u[1],l[0]-u[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(n){this._addDynamicProperty(n),this.elem.addDynamicProperty(n),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(n,o,l){return new e(n,o,l)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var o=e*e-4*t*n;if(o<0)return[];var l=-e/(2*t);if(o===0)return[l];var u=Math.sqrt(o)/(2*t);return[l-u,l+u]}function polynomialCoefficients(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,o,l){l&&pointEqual(t,e)&&(e=lerpPoint(t,o,1/3)),l&&pointEqual(n,o)&&(n=lerpPoint(t,o,2/3));var u=polynomialCoefficients(t[0],e[0],n[0],o[0]),h=polynomialCoefficients(t[1],e[1],n[1],o[1]);this.a=[u[0],h[0]],this.b=[u[1],h[1]],this.c=[u[2],h[2]],this.d=[u[3],h[3]],this.points=[t,e,n,o]}function extrema(t,e){var n=t.points[0][e],o=t.points[t.points.length-1][e];if(n>o){var l=o;o=n,n=l}for(var u=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),h=0;h<u.length;h+=1)if(u[h]>0&&u[h]<1){var f=t.point(u[h])[e];f<n?n=f:f>o&&(o=f)}return{min:n,max:o}}function intersectData(t,e,n){var o=t.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,o,l,u){if(boxIntersect(t,e))if(n>=u||t.width<=o&&t.height<=o&&e.width<=o&&e.height<=o)l.push([t.t,e.t]);else{var h=splitData(t),f=splitData(e);intersectsImpl(h[0],f[0],n+1,o,l,u),intersectsImpl(h[0],f[1],n+1,o,l,u),intersectsImpl(h[1],f[0],n+1,o,l,u),intersectsImpl(h[1],f[1],n+1,o,l,u)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,o){var l=[t[0],t[1],1],u=[e[0],e[1],1],h=[n[0],n[1],1],f=[o[0],o[1],1],d=crossProduct(crossProduct(l,u),crossProduct(h,f));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,o,l,u,h){var f=n-Math.PI/2,d=n+Math.PI/2,p=e[0]+Math.cos(n)*o*l,m=e[1]-Math.sin(n)*o*l;t.setTripleAt(p,m,p+Math.cos(f)*u,m-Math.sin(f)*u,p+Math.cos(d)*h,m-Math.sin(d)*h,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],o=.5*-Math.PI;return[Math.cos(o)*n[0]-Math.sin(o)*n[1],Math.sin(o)*n[0]+Math.cos(o)*n[1]]}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,o=(e+1)%t.length(),l=getPerpendicularVector(t.v[n],t.v[o]);return Math.atan2(0,1)-Math.atan2(l[1],l[0])}function zigZagCorner(t,e,n,o,l,u,h){var f=getProjectingAngle(e,n),d=e.v[n%e._length],p=e.v[n===0?e._length-1:n-1],m=e.v[(n+1)%e._length],v=u===2?Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)):0,_=u===2?Math.sqrt(Math.pow(d[0]-m[0],2)+Math.pow(d[1]-m[1],2)):0;setPoint(t,e.v[n%e._length],f,h,o,_/(2*(l+1)),v/(2*(l+1)))}function zigZagSegment(t,e,n,o,l,u){for(var h=0;h<o;h+=1){var f=(h+1)/(o+1),d=l===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,p=e.normalAngle(f);setPoint(t,e.point(f),p,u,n,d/(2*(o+1)),d/(2*(o+1))),u=-u}return u}function linearOffset(t,e,n){var o=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,o,n),polarOffset(e,o,n)]}function offsetSegment(t,e){var n,o,l,u,h,f,d;n=(d=linearOffset(t.points[0],t.points[1],e))[0],o=d[1],l=(d=linearOffset(t.points[1],t.points[2],e))[0],u=d[1],h=(d=linearOffset(t.points[2],t.points[3],e))[0],f=d[1];var p=lineIntersection(n,o,l,u);p===null&&(p=o);var m=lineIntersection(h,f,l,u);return m===null&&(m=h),new PolynomialBezier(n,p,m,f)}function joinLines(t,e,n,o,l){var u=e.points[3],h=n.points[0];if(o===3||pointEqual(u,h))return u;if(o===2){var f=-e.tangentAngle(1),d=-n.tangentAngle(0)+Math.PI,p=lineIntersection(u,polarOffset(u,f+Math.PI/2,100),h,polarOffset(h,f+Math.PI/2,100)),m=p?pointDistance(p,u):pointDistance(u,h)/2,v=polarOffset(u,f,2*m*roundCorner);return t.setXYAt(v[0],v[1],"o",t.length()-1),v=polarOffset(h,d,2*m*roundCorner),t.setTripleAt(h[0],h[1],h[0],h[1],v[0],v[1],t.length()),h}var _=lineIntersection(pointEqual(u,e.points[2])?e.points[0]:e.points[2],u,h,pointEqual(h,n.points[1])?n.points[3]:n.points[1]);return _&&pointDistance(_,u)<l?(t.setTripleAt(_[0],_[1],_[0],_[1],_[0],_[1],t.length()),_):u}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),o=e.slice(),l=getIntersection(t[t.length-1],e[0]);return l&&(n[t.length-1]=t[t.length-1].split(l[0])[0],o[0]=e[0].split(l[1])[1]),t.length>1&&e.length>1&&(l=getIntersection(t[0],e[e.length-1]))?[[t[0].split(l[0])[0]],[e[e.length-1].split(l[1])[1]]]:[n,o]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,o,l,u,h=t.inflectionPoints();if(h.length===0)return[offsetSegment(t,e)];if(h.length===1||floatEqual(h[1],1))return n=(l=t.split(h[0]))[0],o=l[1],[offsetSegment(n,e),offsetSegment(o,e)];n=(l=t.split(h[0]))[0];var f=(h[1]-h[0])/(1-h[0]);return u=(l=l[1].split(f))[0],o=l[1],[offsetSegment(n,e),offsetSegment(u,e),offsetSegment(o,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",o="normal",l=e.length,u=0;u<l;u+=1)switch(e[u].toLowerCase()){case"italic":o="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:o,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,o,l,u){var h=u?-1:1,f=o.s.v[0]+(1-o.s.v[0])*(1-l),d=o.s.v[1]+(1-o.s.v[1])*(1-l);t.translate(o.p.v[0]*h*l,o.p.v[1]*h*l,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*h*l),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),n.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),n.scale(u?1/f:f,u?1/d:d),n.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,o){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,o,l,u,h=!1;if(this._mdf||t){var f,d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var p={it:this.cloneElements(this._elements),ty:"gr"};p.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,p),this._groups.splice(0,0,p),this._currentCopies+=1}this.elem.reloadShapes(),h=!0}for(u=0,o=0;o<=this._groups.length-1;o+=1){if(f=u<d,this._groups[o]._render=f,this.changeGroupRender(this._groups[o].it,f),!f){var m=this.elemsData[o].it,v=m[m.length-1];v.transform.op.v!==0?(v.transform.op._mdf=!0,v.transform.op.v=0):v.transform.op._mdf=!1}u+=1}this._currentCopies=d;var _=this.o.v,S=_%1,T=_>0?Math.floor(_):Math.ceil(_),A=this.pMatrix.props,w=this.rMatrix.props,C=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var O,L,F=0;if(_>0){for(;F<T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),F+=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,S,!1),F+=S)}else if(_<0){for(;F>T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),F-=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-S,!0),F-=S)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,u=this._currentCopies;u;){if(L=(n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),F!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15]),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),O=0;O<L;O+=1)n[O]=this.matrix.props[O];this.matrix.reset()}else for(this.matrix.reset(),O=0;O<L;O+=1)n[O]=this.matrix.props[O];F+=1,u-=1,o+=l}}else for(u=this._currentCopies,o=0,l=1;u;)n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,u-=1,o+=l;return h},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,o=shapePool.newElement();o.c=t.c;var l,u,h,f,d,p,m,v,_,S,T,A,w=t._length,C=0;for(n=0;n<w;n+=1)l=t.v[n],h=t.o[n],u=t.i[n],l[0]===h[0]&&l[1]===h[1]&&l[0]===u[0]&&l[1]===u[1]?n!==0&&n!==w-1||t.c?(f=n===0?t.v[w-1]:t.v[n-1],p=(d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)))?Math.min(d/2,e)/d:0,m=T=l[0]+(f[0]-l[0])*p,v=A=l[1]-(l[1]-f[1])*p,_=m-(m-l[0])*roundCorner,S=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,_,S,T,A,C),C+=1,f=n===w-1?t.v[0]:t.v[n+1],p=(d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)))?Math.min(d/2,e)/d:0,m=_=l[0]+(f[0]-l[0])*p,v=S=l[1]+(f[1]-l[1])*p,T=m-(m-l[0])*roundCorner,A=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,_,S,T,A,C),C+=1):(o.setTripleAt(l[0],l[1],h[0],h[1],u[0],u[1],C),C+=1):(o.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],C),C+=1);return o},RoundCornersModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.rd.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var o=Math.sqrt(n);return floatZero(o)?o>0&&o<1?[e]:[]:[e-o,e+o].filter(function(l){return l>0&&l<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),o=lerpPoint(this.points[2],this.points[3],t),l=lerpPoint(e,n,t),u=lerpPoint(n,o,t),h=lerpPoint(l,u,t);return[new PolynomialBezier(this.points[0],e,l,h,!0),new PolynomialBezier(h,u,o,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,o,n),o},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(t,e,n,o){var l=t._length,u=shapePool.newElement();if(u.c=t.c,t.c||(l-=1),l===0)return u;var h=-1,f=PolynomialBezier.shapeSegment(t,0);zigZagCorner(u,t,0,e,n,o,h);for(var d=0;d<l;d+=1)h=zigZagSegment(u,f,e,n,o,-h),f=d!==l-1||t.c?PolynomialBezier.shapeSegment(t,(d+1)%l):null,zigZagCorner(u,t,d+1,e,n,o,h);return u},ZigZagModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amplitude.v,p=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d,p,m));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,o){var l=shapePool.newElement();l.c=t.c;var u,h,f,d=t.length();t.c||(d-=1);var p=[];for(u=0;u<d;u+=1)f=PolynomialBezier.shapeSegment(t,u),p.push(offsetSegmentSplit(f,e));if(!t.c)for(u=d-1;u>=0;u-=1)f=PolynomialBezier.shapeSegmentInverted(t,u),p.push(offsetSegmentSplit(f,e));p=pruneIntersections(p);var m=null,v=null;for(u=0;u<p.length;u+=1){var _=p[u];for(v&&(m=joinLines(l,v,_[0],n,o)),v=_[_.length-1],h=0;h<_.length;h+=1)f=_[h],m&&pointEqual(f.points[0],m)?l.setXYAt(f.points[1][0],f.points[1][1],"o",l.length()-1):l.setTripleAt(f.points[0][0],f.points[0][1],f.points[1][0],f.points[1][1],f.points[0][0],f.points[0][1],l.length()),l.setTripleAt(f.points[3][0],f.points[3][1],f.points[3][0],f.points[3][1],f.points[2][0],f.points[2][1],l.length()),m=f.points[3]}return p.length&&joinLines(l,v,p[0][0],n,o),l},OffsetPathModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amount.v,p=this.miterLimit.v,m=this.lineJoin;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d,m,p));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function o(d,p){var m=createTag("span");m.setAttribute("aria-hidden",!0),m.style.fontFamily=p;var v=createTag("span");v.innerText="giItT1WQy@!-/#",m.style.position="absolute",m.style.left="-10000px",m.style.top="-10000px",m.style.fontSize="300px",m.style.fontVariant="normal",m.style.fontStyle="normal",m.style.fontWeight="normal",m.style.letterSpacing="0",m.appendChild(v),document.body.appendChild(m);var _=v.offsetWidth;return v.style.fontFamily=function(S){var T,A=S.split(","),w=A.length,C=[];for(T=0;T<w;T+=1)A[T]!=="sans-serif"&&A[T]!=="monospace"&&C.push(A[T]);return C.join(",")}(d)+", "+p,{node:v,w:_,parent:m}}function l(d,p){var m,v=document.body&&p?"svg":"canvas",_=getFontProperties(d);if(v==="svg"){var S=createNS("text");S.style.fontSize="100px",S.setAttribute("font-family",d.fFamily),S.setAttribute("font-style",_.style),S.setAttribute("font-weight",_.weight),S.textContent="1",d.fClass?(S.style.fontFamily="inherit",S.setAttribute("class",d.fClass)):S.style.fontFamily=d.fFamily,p.appendChild(S),m=S}else{var T=new OffscreenCanvas(500,500).getContext("2d");T.font=_.style+" "+_.weight+" 100px "+d.fFamily,m=T}return{measureText:function(A){return v==="svg"?(m.textContent=A,m.getComputedTextLength()):m.measureText(A).width}}}function u(d){var p=0,m=d.charCodeAt(0);if(m>=55296&&m<=56319){var v=d.charCodeAt(1);v>=56320&&v<=57343&&(p=1024*(m-55296)+v-56320+65536)}return p}function h(d){var p=u(d);return p>=127462&&p<=127487}var f=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return f.isModifier=function(d,p){var m=d.toString(16)+p.toString(16);return n.indexOf(m)!==-1},f.isZeroWidthJoiner=function(d){return d===8205},f.isFlagEmoji=function(d){return h(d.substr(0,2))&&h(d.substr(2,2))},f.isRegionalCode=h,f.isCombinedCharacter=function(d){return e.indexOf(d)!==-1},f.isRegionalFlag=function(d,p){var m=u(d.substr(p,2));if(m!==127988)return!1;var v=0;for(p+=2;v<5;){if((m=u(d.substr(p,2)))<917601||m>917626)return!1;v+=1,p+=2}return u(d.substr(p,2))===917631},f.isVariationSelector=function(d){return d===65039},f.BLACK_FLAG_CODE_POINT=127988,f.prototype={addChars:function(d){if(d){var p;this.chars||(this.chars=[]);var m,v,_=d.length,S=this.chars.length;for(p=0;p<_;p+=1){for(m=0,v=!1;m<S;)this.chars[m].style===d[p].style&&this.chars[m].fFamily===d[p].fFamily&&this.chars[m].ch===d[p].ch&&(v=!0),m+=1;v||(this.chars.push(d[p]),S+=1)}}},addFonts:function(d,p){if(d){if(this.chars)return this.isLoaded=!0,void(this.fonts=d.list);if(!document.body)return this.isLoaded=!0,d.list.forEach(function(F){F.helper=l(F),F.cache={}}),void(this.fonts=d.list);var m,v=d.list,_=v.length,S=_;for(m=0;m<_;m+=1){var T,A,w=!0;if(v[m].loaded=!1,v[m].monoCase=o(v[m].fFamily,"monospace"),v[m].sansCase=o(v[m].fFamily,"sans-serif"),v[m].fPath){if(v[m].fOrigin==="p"||v[m].origin===3){if((T=document.querySelectorAll('style[f-forigin="p"][f-family="'+v[m].fFamily+'"], style[f-origin="3"][f-family="'+v[m].fFamily+'"]')).length>0&&(w=!1),w){var C=createTag("style");C.setAttribute("f-forigin",v[m].fOrigin),C.setAttribute("f-origin",v[m].origin),C.setAttribute("f-family",v[m].fFamily),C.type="text/css",C.innerText="@font-face {font-family: "+v[m].fFamily+"; font-style: normal; src: url('"+v[m].fPath+"');}",p.appendChild(C)}}else if(v[m].fOrigin==="g"||v[m].origin===1){for(T=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),A=0;A<T.length;A+=1)T[A].href.indexOf(v[m].fPath)!==-1&&(w=!1);if(w){var O=createTag("link");O.setAttribute("f-forigin",v[m].fOrigin),O.setAttribute("f-origin",v[m].origin),O.type="text/css",O.rel="stylesheet",O.href=v[m].fPath,document.body.appendChild(O)}}else if(v[m].fOrigin==="t"||v[m].origin===2){for(T=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),A=0;A<T.length;A+=1)v[m].fPath===T[A].src&&(w=!1);if(w){var L=createTag("link");L.setAttribute("f-forigin",v[m].fOrigin),L.setAttribute("f-origin",v[m].origin),L.setAttribute("rel","stylesheet"),L.setAttribute("href",v[m].fPath),p.appendChild(L)}}}else v[m].loaded=!0,S-=1;v[m].helper=l(v[m],p),v[m].cache={},this.fonts.push(v[m])}S===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(d,p,m){for(var v=0,_=this.chars.length;v<_;){if(this.chars[v].ch===d&&this.chars[v].style===p&&this.chars[v].fFamily===m)return this.chars[v];v+=1}return(typeof d=="string"&&d.charCodeAt(0)!==13||!d)&&console&&console.warn&&!this._warned&&(this._warned=!0),t},getFontByName:function(d){for(var p=0,m=this.fonts.length;p<m;){if(this.fonts[p].fName===d)return this.fonts[p];p+=1}return this.fonts[0]},measureText:function(d,p,m){var v=this.getFontByName(p),_=d;if(!v.cache[_]){var S=v.helper;if(d===" "){var T=S.measureText("|"+d+"|"),A=S.measureText("||");v.cache[_]=(T-A)/100}else v.cache[_]=S.measureText(d)/100}return v.cache[_]*m},checkLoadedFonts:function(){var d,p,m,v=this.fonts.length,_=v;for(d=0;d<v;d+=1)this.fonts[d].loaded?_-=1:this.fonts[d].fOrigin==="n"||this.fonts[d].origin===0?this.fonts[d].loaded=!0:(p=this.fonts[d].monoCase.node,m=this.fonts[d].monoCase.w,p.offsetWidth!==m?(_-=1,this.fonts[d].loaded=!0):(p=this.fonts[d].sansCase.node,m=this.fonts[d].sansCase.w,p.offsetWidth!==m&&(_-=1,this.fonts[d].loaded=!0)),this.fonts[d].loaded&&(this.fonts[d].sansCase.parent.parentNode.removeChild(this.fonts[d].sansCase.parent),this.fonts[d].monoCase.parent.parentNode.removeChild(this.fonts[d].monoCase.parent)));_!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},f}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,o=t.ef||[];this.effectElements=[];var l,u=o.length;for(n=0;n<u;n+=1)l=new GroupEffect(o[n],e),this.effectElements.push(l)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var o,l=this.data.ef.length,u=this.data.ef;for(n=0;n<l;n+=1){switch(o=null,u[n].ty){case 0:o=new SliderEffect(u[n],e,this);break;case 1:o=new AngleEffect(u[n],e,this);break;case 2:o=new ColorEffect(u[n],e,this);break;case 3:o=new PointEffect(u[n],e,this);break;case 4:case 7:o=new CheckboxEffect(u[n],e,this);break;case 10:o=new LayerIndexEffect(u[n],e,this);break;case 11:o=new MaskIndexEffect(u[n],e,this);break;case 5:o=new EffectsManager(u[n],e);break;default:o=new NoValueEffect(u[n])}o&&this.effectElements.push(o)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),o=t("shape"),l=t("text"),u=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var h=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(h),this.data.ty===0||this.data.xt?this.compInterface=u(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,o=this.dynamicProperties.length;for(n=0;n<o;n+=1)(e||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,o=this.layers.length;for(this.completeLayers=!0,e=o-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,o=t.length,l=this.layers.length;for(e=0;e<o;e+=1)for(n=0;n<l;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var o=this.elements,l=this.layers,u=0,h=l.length;u<h;)l[u].ind==e&&(o[u]&&o[u]!==!0?(n.push(o[u]),o[u].setAsParent(),l[u].parent!==void 0?this.buildElementParenting(t,l[u].parent,n):t.setHierarchy(n)):(this.buildItem(u),this.addPendingElement(t))),u+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var o=this.createComp(t[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if(typeof n=="number")e=this.elements[n];else{var o,l=this.elements.length;for(o=0;o<l;o+=1)if(this.elements[o].data.nm===n){e=this.elements[o];break}}return t.length===0?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,u=this.globalData.defs,h=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(h),this.solidPath="";var f,d,p,m,v,_,S=this.masksProperties,T=0,A=[],w=createElementID(),C="clipPath",O="clip-path";for(o=0;o<h;o+=1)if((S[o].mode!=="a"&&S[o].mode!=="n"||S[o].inv||S[o].o.k!==100||S[o].o.x)&&(C="mask",O="mask"),S[o].mode!=="s"&&S[o].mode!=="i"||T!==0?p=null:((p=createNS("rect")).setAttribute("fill","#ffffff"),p.setAttribute("width",this.element.comp.data.w||0),p.setAttribute("height",this.element.comp.data.h||0),A.push(p)),l=createNS("path"),S[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),elem:l,lastPath:""},u.appendChild(l);else{var L;if(T+=1,l.setAttribute("fill",S[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),S[o].x.k!==0?(C="mask",O="mask",_=PropertyFactory.getProp(this.element,S[o].x,0,null,this.element),L=createElementID(),(m=createNS("filter")).setAttribute("id",L),(v=createNS("feMorphology")).setAttribute("operator","erode"),v.setAttribute("in","SourceGraphic"),v.setAttribute("radius","0"),m.appendChild(v),u.appendChild(m),l.setAttribute("stroke",S[o].mode==="s"?"#000000":"#ffffff")):(v=null,_=null),this.storedData[o]={elem:l,x:_,expan:v,lastPath:"",lastOperator:"",filterId:L,lastRadius:0},S[o].mode==="i"){d=A.length;var F=createNS("g");for(f=0;f<d;f+=1)F.appendChild(A[f]);var B=createNS("mask");B.setAttribute("mask-type","alpha"),B.setAttribute("id",w+"_"+T),B.appendChild(l),u.appendChild(B),F.setAttribute("mask","url("+getLocationHref()+"#"+w+"_"+T+")"),A.length=0,A.push(F)}else A.push(l);S[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),invRect:p},this.viewData[o].prop.k||this.drawPath(S[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(C),h=A.length,o=0;o<h;o+=1)this.maskElement.appendChild(A[o]);T>0&&(this.maskElement.setAttribute("id",w),this.element.maskedElement.setAttribute(O,"url("+getLocationHref()+"#"+w+")"),u.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<o;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<o;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var o=this.localTransforms[t].matrix;n.multiply(o)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)l*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&e.splice(0,0,l.finalTransform),l=l.comp):o=!1;var u,h=e.length;for(n=0;n<h;n+=1)u=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-u[0],t[1]-u[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,o=this.masksProperties.length;for(e=0;e<o;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var l=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),l.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var o,l,u=" M"+e.v[0][0]+","+e.v[0][1];for(l=e._length,o=1;o<l;o+=1)u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==u){var h="";n.elem&&(e.c&&(h=t.inv?this.solidPath+u:u),n.elem.setAttribute("d",h)),n.lastPath=u}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};return t.createFilter=function(e,n){var o=createNS("filter");return o.setAttribute("id",e),n!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},t.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,o="SourceGraphic",l=t.data.ef?t.data.ef.length:0,u=createElementID(),h=filtersFactory.createFilter(u,!0),f=0;for(this.filters=[],e=0;e<l;e+=1){n=null;var d=t.data.ef[e].ty;registeredEffects$1[d]&&(n=new registeredEffects$1[d].effect(h,t.effectsManager.effectElements[e],t,idPrefix+f,o),o=idPrefix+f,registeredEffects$1[d].countsAsEffect&&(f+=1)),n&&this.filters.push(n)}f&&(t.globalData.defs.appendChild(h),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+u+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(n.setAttribute("id",l),n.appendChild(o),this.globalData.defs.appendChild(n),this.checkMasks()){var u=createNS("g");u.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),u.appendChild(this.layerElement),this.transformedElement=u,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,o,l,u=this.layerId+"_"+t;if(t===1||t===3){var h=createNS("mask");h.setAttribute("id",u),h.setAttribute("mask-type",t===3?"luminance":"alpha"),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),h.appendChild(o),this.globalData.defs.appendChild(h),featureSupport.maskType||t!==1||(h.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(l=createNS("g")).appendChild(o),h.appendChild(l),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(t===2){var f=createNS("mask");f.setAttribute("id",u),f.setAttribute("mask-type","alpha");var d=createNS("g");f.appendChild(d),e=createElementID(),n=filtersFactory.createFilter(e);var p=createNS("feComponentTransfer");p.setAttribute("in","SourceGraphic"),n.appendChild(p);var m=createNS("feFuncA");m.setAttribute("type","table"),m.setAttribute("tableValues","1.0 0.0"),p.appendChild(m),this.globalData.defs.appendChild(n);var v=createNS("rect");v.setAttribute("width",this.comp.data.w),v.setAttribute("height",this.comp.data.h),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("fill","#ffffff"),v.setAttribute("opacity","0"),d.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),d.appendChild(v),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(o),featureSupport.maskType||(f.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),l=createNS("g"),d.appendChild(v),l.appendChild(this.layerElement),d.appendChild(l)),this.globalData.defs.appendChild(f)}this.matteMasks[t]=u}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,o=e.length;n<o;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,o=n.length;o;)if(n[o-=1].elem===t)return void(n[o].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var o=0,l=t.length;o<l;){if(t[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,o){var l;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var u,h=e.length||0;for(l=0;l<h;l+=1)u=PropertyFactory.getProp(t,e[l].v,0,0,this),this.k=u.k||this.k,this.dataProps[l]={n:e[l].n,p:u};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var o=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,o=this.o.length/2;n<o;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,o,l=4*this.data.p;for(e=0;e<l;e+=1)n=e%4==0?100:255,o=Math.round(this.prop.v[e]*n),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(l=this.prop.v.length,e=4*this.data.p;e<l;e+=1)n=e%2==0?100:1,o=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==o&&(this.o[e-4*this.data.p]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",n),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,u,h,f=[];for(h=4*e.g.p,u=0;u<h;u+=4)l=createNS("stop"),o.appendChild(l),f.push(l);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=o,this.cst=f},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,o,l,u=createNS("mask"),h=createNS("path");u.appendChild(h);var f=createElementID(),d=createElementID();u.setAttribute("id",d);var p=createNS(t.t===1?"linearGradient":"radialGradient");p.setAttribute("id",f),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),l=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var m=this.stops;for(o=4*t.g.p;o<l;o+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(n),m.push(n);h.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),t.ty==="gs"&&(h.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),h.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&h.setAttribute("stroke-miterlimit",t.ml)),this.of=p,this.ms=u,this.ost=m,this.maskId=d,e.msElem=h}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,o){if(e===0)return"";var l,u=t.o,h=t.i,f=t.v,d=" M"+o.applyToPointStringified(f[0][0],f[0][1]);for(l=1;l<e;l+=1)d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(h[l][0],h[l][1])+" "+o.applyToPointStringified(f[l][0],f[l][1]);return n&&e&&(d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(h[0][0],h[0][1])+" "+o.applyToPointStringified(f[0][0],f[0][1]),d+="z"),d},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(p,m,v){(v||m.transform.op._mdf)&&m.transform.container.setAttribute("opacity",m.transform.op.v),(v||m.transform.mProps._mdf)&&m.transform.container.setAttribute("transform",m.transform.mProps.v.to2dCSS())}function o(){}function l(p,m,v){var _,S,T,A,w,C,O,L,F,B,U=m.styles.length,V=m.lvl;for(C=0;C<U;C+=1){if(A=m.sh._mdf||v,m.styles[C].lvl<V){for(L=e.reset(),F=V-m.styles[C].lvl,B=m.transformers.length-1;!A&&F>0;)A=m.transformers[B].mProps._mdf||A,F-=1,B-=1;if(A)for(F=V-m.styles[C].lvl,B=m.transformers.length-1;F>0;)L.multiply(m.transformers[B].mProps.v),F-=1,B-=1}else L=t;if(S=(O=m.sh.paths)._length,A){for(T="",_=0;_<S;_+=1)(w=O.shapes[_])&&w._length&&(T+=buildShapeString(w,w._length,w.c,L));m.caches[C]=T}else T=m.caches[C];m.styles[C].d+=p.hd===!0?"":T,m.styles[C]._mdf=A||m.styles[C]._mdf}}function u(p,m,v){var _=m.style;(m.c._mdf||v)&&_.pElem.setAttribute("fill","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&_.pElem.setAttribute("fill-opacity",m.o.v)}function h(p,m,v){f(p,m,v),d(p,m,v)}function f(p,m,v){var _,S,T,A,w,C=m.gf,O=m.g._hasOpacity,L=m.s.v,F=m.e.v;if(m.o._mdf||v){var B=p.ty==="gf"?"fill-opacity":"stroke-opacity";m.style.pElem.setAttribute(B,m.o.v)}if(m.s._mdf||v){var U=p.t===1?"x1":"cx",V=U==="x1"?"y1":"cy";C.setAttribute(U,L[0]),C.setAttribute(V,L[1]),O&&!m.g._collapsable&&(m.of.setAttribute(U,L[0]),m.of.setAttribute(V,L[1]))}if(m.g._cmdf||v){_=m.cst;var q=m.g.c;for(T=_.length,S=0;S<T;S+=1)(A=_[S]).setAttribute("offset",q[4*S]+"%"),A.setAttribute("stop-color","rgb("+q[4*S+1]+","+q[4*S+2]+","+q[4*S+3]+")")}if(O&&(m.g._omdf||v)){var H=m.g.o;for(T=(_=m.g._collapsable?m.cst:m.ost).length,S=0;S<T;S+=1)A=_[S],m.g._collapsable||A.setAttribute("offset",H[2*S]+"%"),A.setAttribute("stop-opacity",H[2*S+1])}if(p.t===1)(m.e._mdf||v)&&(C.setAttribute("x2",F[0]),C.setAttribute("y2",F[1]),O&&!m.g._collapsable&&(m.of.setAttribute("x2",F[0]),m.of.setAttribute("y2",F[1])));else if((m.s._mdf||m.e._mdf||v)&&(w=Math.sqrt(Math.pow(L[0]-F[0],2)+Math.pow(L[1]-F[1],2)),C.setAttribute("r",w),O&&!m.g._collapsable&&m.of.setAttribute("r",w)),m.e._mdf||m.h._mdf||m.a._mdf||v){w||(w=Math.sqrt(Math.pow(L[0]-F[0],2)+Math.pow(L[1]-F[1],2)));var G=Math.atan2(F[1]-L[1],F[0]-L[0]),Y=m.h.v;Y>=1?Y=.99:Y<=-1&&(Y=-.99);var Q=w*Y,ie=Math.cos(G+m.a.v)*Q+L[0],ae=Math.sin(G+m.a.v)*Q+L[1];C.setAttribute("fx",ie),C.setAttribute("fy",ae),O&&!m.g._collapsable&&(m.of.setAttribute("fx",ie),m.of.setAttribute("fy",ae))}}function d(p,m,v){var _=m.style,S=m.d;S&&(S._mdf||v)&&S.dashStr&&(_.pElem.setAttribute("stroke-dasharray",S.dashStr),_.pElem.setAttribute("stroke-dashoffset",S.dashoffset[0])),m.c&&(m.c._mdf||v)&&_.pElem.setAttribute("stroke","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&_.pElem.setAttribute("stroke-opacity",m.o.v),(m.w._mdf||v)&&(_.pElem.setAttribute("stroke-width",m.w.v),_.msElem&&_.msElem.setAttribute("stroke-width",m.w.v))}return{createRenderFunction:function(p){switch(p.ty){case"fl":return u;case"gf":return f;case"gs":return h;case"st":return d;case"sh":case"el":case"rc":case"sr":return l;case"tr":return n;case"no":return o;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,o,l,u){this.o=t,this.sw=e,this.sc=n,this.fc=o,this.m=l,this.p=u,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!o,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,o,l=this.shapes.length,u=this.stylesList.length,h=[],f=!1;for(n=0;n<u;n+=1){for(o=this.stylesList[n],f=!1,h.length=0,t=0;t<l;t+=1)(e=this.shapes[t]).styles.indexOf(o)!==-1&&(h.push(e),f=e._isAnimated||f);h.length>1&&f&&this.setShapesAsAnimated(h)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,o=new SVGStyleData(t,e),l=o.pElem;return t.ty==="st"?n=new SVGStrokeStyleData(this,t,o):t.ty==="fl"?n=new SVGFillStyleData(this,t,o):t.ty==="gf"||t.ty==="gs"?(n=new(t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,o),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),l.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):t.ty==="no"&&(n=new SVGNoStyleData(this,t,o)),t.ty!=="st"&&t.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),l.setAttribute("fill-opacity","0"),t.lj===1&&l.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&l.setAttribute("fill-rule","evenodd"),t.ln&&l.setAttribute("id",t.ln),t.cl&&l.setAttribute("class",t.cl),t.bm&&(l.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(o),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),o=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var o=4;t.ty==="rc"?o=5:t.ty==="el"?o=6:t.ty==="sr"&&(o=7);var l=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,o=this.animatedContents.length;n<o;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,o=this.stylesList.length;for(e=0;e<o;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,o,l,u,h){var f,d,p,m,v,_,S=[].concat(u),T=t.length-1,A=[],w=[];for(f=T;f>=0;f-=1){if((_=this.searchProcessedElement(t[f]))?e[f]=n[_-1]:t[f]._render=h,t[f].ty==="fl"||t[f].ty==="st"||t[f].ty==="gf"||t[f].ty==="gs"||t[f].ty==="no")_?e[f].style.closed=!1:e[f]=this.createStyleElement(t[f],l),t[f]._render&&e[f].style.pElem.parentNode!==o&&o.appendChild(e[f].style.pElem),A.push(e[f].style);else if(t[f].ty==="gr"){if(_)for(p=e[f].it.length,d=0;d<p;d+=1)e[f].prevViewData[d]=e[f].it[d];else e[f]=this.createGroupElement(t[f]);this.searchShapes(t[f].it,e[f].it,e[f].prevViewData,e[f].gr,l+1,S,h),t[f]._render&&e[f].gr.parentNode!==o&&o.appendChild(e[f].gr)}else t[f].ty==="tr"?(_||(e[f]=this.createTransformElement(t[f],o)),m=e[f].transform,S.push(m)):t[f].ty==="sh"||t[f].ty==="rc"||t[f].ty==="el"||t[f].ty==="sr"?(_||(e[f]=this.createShapeElement(t[f],S,l)),this.setElementStyles(e[f])):t[f].ty==="tm"||t[f].ty==="rd"||t[f].ty==="ms"||t[f].ty==="pb"||t[f].ty==="zz"||t[f].ty==="op"?(_?(v=e[f]).closed=!1:((v=ShapeModifiers.getModifier(t[f].ty)).init(this,t[f]),e[f]=v,this.shapeModifiers.push(v)),w.push(v)):t[f].ty==="rp"&&(_?(v=e[f]).closed=!0:(v=ShapeModifiers.getModifier(t[f].ty),e[f]=v,v.init(this,t,f,e),this.shapeModifiers.push(v),h=!1),w.push(v));this.addProcessedElement(t[f],f+1)}for(T=A.length,f=0;f<T;f+=1)A[f].closed=!0;for(T=w.length,f=0;f<T;f+=1)w[f].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,o,l,u){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var h=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,h=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,h=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,h=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,h=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,h=!0),!u.length||this.p[0]===u[0]&&this.p[1]===u[1]&&this.p[4]===u[4]&&this.p[5]===u[5]&&this.p[12]===u[12]&&this.p[13]===u[13]||(this.p=u,this._mdf.p=!0,h=!0),h},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,u=t||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)u=n!==this.keysIndex?this.effectsSequence[o](u,u.t):this.effectsSequence[o](this.currentData,u.t);e!==u&&this.setCurrentData(u),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,o=t.length;n<=o-1&&!(n===o-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,o=[],l=0,u=t.length,h=!1,f=!1,d="";l<u;)h=f,f=!1,e=t.charCodeAt(l),d=t.charAt(l),FontManager.isCombinedCharacter(e)?h=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,l)?d=t.substr(l,14):(n=t.charCodeAt(l+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(d=t.substr(l,2),h=!0):d=FontManager.isFlagEmoji(t.substr(l,4))?t.substr(l,4):t.substr(l,2)):e>56319?(n=t.charCodeAt(l+1),FontManager.isVariationSelector(e)&&(h=!0)):FontManager.isZeroWidthJoiner(e)&&(h=!0,f=!0),h?(o[o.length-1]+=d,h=!1):o.push(d),l+=d.length;return o},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,o,l,u,h,f,d=this.elem.globalData.fontManager,p=this.data,m=[],v=0,_=p.m.g,S=0,T=0,A=0,w=[],C=0,O=0,L=d.getFontByName(t.f),F=0,B=getFontProperties(L);t.fWeight=B.weight,t.fStyle=B.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var U,V=t.tr/1e3*t.finalSize;if(t.sz)for(var q,H,G=!0,Y=t.sz[0],Q=t.sz[1];G;){q=0,C=0,n=(H=this.buildFinalText(t.t)).length,V=t.tr/1e3*t.finalSize;var ie=-1;for(e=0;e<n;e+=1)U=H[e].charCodeAt(0),o=!1,H[e]===" "?ie=e:U!==13&&U!==3||(C=0,o=!0,q+=t.finalLineHeight||1.2*t.finalSize),d.chars?(f=d.getCharData(H[e],L.fStyle,L.fFamily),F=o?0:f.w*t.finalSize/100):F=d.measureText(H[e],t.f,t.finalSize),C+F>Y&&H[e]!==" "?(ie===-1?n+=1:e=ie,q+=t.finalLineHeight||1.2*t.finalSize,H.splice(e,ie===e?1:0,"\r"),ie=-1,C=0):(C+=F,C+=V);q+=L.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&Q<q?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=H,n=t.finalText.length,G=!1)}C=-V,F=0;var ae,le=0;for(e=0;e<n;e+=1)if(o=!1,(U=(ae=t.finalText[e]).charCodeAt(0))===13||U===3?(le=0,w.push(C),O=C>O?C:O,C=-2*V,l="",o=!0,A+=1):l=ae,d.chars?(f=d.getCharData(ae,L.fStyle,d.getFontByName(t.f).fFamily),F=o?0:f.w*t.finalSize/100):F=d.measureText(l,t.f,t.finalSize),ae===" "?le+=F+V:(C+=F+V+le,le=0),m.push({l:F,an:F,add:S,n:o,anIndexes:[],val:l,line:A,animatorJustifyOffset:0}),_==2){if(S+=F,l===""||l===" "||e===n-1){for(l!==""&&l!==" "||(S-=F);T<=e;)m[T].an=S,m[T].ind=v,m[T].extra=F,T+=1;v+=1,S=0}}else if(_==3){if(S+=F,l===""||e===n-1){for(l===""&&(S-=F);T<=e;)m[T].an=S,m[T].ind=v,m[T].extra=F,T+=1;S=0,v+=1}}else m[v].ind=v,m[v].extra=0,v+=1;if(t.l=m,O=C>O?C:O,w.push(C),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=O,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=w;var he,ge,J,se,ce=p.a;h=ce.length;var te=[];for(u=0;u<h;u+=1){for((he=ce[u]).a.sc&&(t.strokeColorAnim=!0),he.a.sw&&(t.strokeWidthAnim=!0),(he.a.fc||he.a.fh||he.a.fs||he.a.fb)&&(t.fillColorAnim=!0),se=0,J=he.s.b,e=0;e<n;e+=1)(ge=m[e]).anIndexes[u]=se,(J==1&&ge.val!==""||J==2&&ge.val!==""&&ge.val!==" "||J==3&&(ge.n||ge.val==" "||e==n-1)||J==4&&(ge.n||e==n-1))&&(he.s.rn===1&&te.push(se),se+=1);p.a[u].s.totalChars=se;var fe,_e=-1;if(he.s.rn===1)for(e=0;e<n;e+=1)_e!=(ge=m[e]).anIndexes[u]&&(_e=ge.anIndexes[u],fe=te.splice(Math.floor(Math.random()*te.length),1)[0]),ge.anIndexes[u]=fe}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=L.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function o(l,u){this._currentTextLength=-1,this.k=!1,this.data=u,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,u.s||{k:0},0,0,this),this.e="e"in u?PropertyFactory.getProp(l,u.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,u.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,u.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,u.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,u.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,u.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var u=0,h=0,f=1,d=1;this.ne.v>0?u=this.ne.v/100:h=-this.ne.v/100,this.xe.v>0?f=1-this.xe.v/100:d=1+this.xe.v/100;var p=BezierFactory.getBezierEasing(u,h,f,d).get,m=0,v=this.finalS,_=this.finalE,S=this.data.sh;if(S===2)m=p(m=_===v?l>=_?1:0:t(0,e(.5/(_-v)+(l-v)/(_-v),1)));else if(S===3)m=p(m=_===v?l>=_?0:1:1-t(0,e(.5/(_-v)+(l-v)/(_-v),1)));else if(S===4)_===v?m=0:(m=t(0,e(.5/(_-v)+(l-v)/(_-v),1)))<.5?m*=2:m=1-2*(m-.5),m=p(m);else if(S===5){if(_===v)m=0;else{var T=_-v,A=-T/2+(l=e(t(0,l+.5-v),_-v)),w=T/2;m=Math.sqrt(1-A*A/(w*w))}m=p(m)}else S===6?(_===v?m=0:(l=e(t(0,l+.5-v),_-v),m=(1+Math.cos(Math.PI+2*Math.PI*l/(_-v)))/2),m=p(m)):(l>=n(v)&&(m=t(0,e(l-v<0?e(_,1)-(v-l):_-l,1))),m=p(m));if(this.sm.v!==100){var C=.01*this.sm.v;C===0&&(C=1e-8);var O=.5-.5*C;m<O?m=0:(m=(m-O)/C)>1&&(m=1)}return m*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var u=this.data.r===2?1:100/this.data.totalChars,h=this.o.v/u,f=this.s.v/u+h,d=this.e.v/u+h;if(f>d){var p=f;f=d,d=p}this.finalS=f,this.finalE=d}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,u,h){return new o(l,u)}}}();function TextAnimatorDataProperty(t,e,n){var o={propType:!1},l=PropertyFactory.getProp,u=e.a;this.a={r:u.r?l(t,u.r,0,degToRads,n):o,rx:u.rx?l(t,u.rx,0,degToRads,n):o,ry:u.ry?l(t,u.ry,0,degToRads,n):o,sk:u.sk?l(t,u.sk,0,degToRads,n):o,sa:u.sa?l(t,u.sa,0,degToRads,n):o,s:u.s?l(t,u.s,1,.01,n):o,a:u.a?l(t,u.a,1,0,n):o,o:u.o?l(t,u.o,0,.01,n):o,p:u.p?l(t,u.p,1,0,n):o,sw:u.sw?l(t,u.sw,0,0,n):o,sc:u.sc?l(t,u.sc,1,0,n):o,fc:u.fc?l(t,u.fc,1,0,n):o,fh:u.fh?l(t,u.fh,0,0,n):o,fs:u.fs?l(t,u.fs,0,.01,n):o,fb:u.fb?l(t,u.fb,0,.01,n):o,t:u.t?l(t,u.t,0,0,n):o},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,o=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,o,l,u,h,f,d,p,m,v,_,S,T,A,w,C,O,L,F,B=this._moreOptions.alignment.v,U=this._animatorsData,V=this._textData,q=this.mHelper,H=this._renderType,G=this.renderedLetters.length,Y=t.l;if(this._hasMaskedPath){if(F=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Q,ie=F.v;for(this._pathData.r.v&&(ie=ie.reverse()),h={tLength:0,segments:[]},u=ie._length-1,C=0,l=0;l<u;l+=1)Q=bez.buildBezierData(ie.v[l],ie.v[l+1],[ie.o[l][0]-ie.v[l][0],ie.o[l][1]-ie.v[l][1]],[ie.i[l+1][0]-ie.v[l+1][0],ie.i[l+1][1]-ie.v[l+1][1]]),h.tLength+=Q.segmentLength,h.segments.push(Q),C+=Q.segmentLength;l=u,F.v.c&&(Q=bez.buildBezierData(ie.v[l],ie.v[0],[ie.o[l][0]-ie.v[l][0],ie.o[l][1]-ie.v[l][1]],[ie.i[0][0]-ie.v[0][0],ie.i[0][1]-ie.v[0][1]]),h.tLength+=Q.segmentLength,h.segments.push(Q),C+=Q.segmentLength),this._pathData.pi=h}if(h=this._pathData.pi,f=this._pathData.f.v,_=0,v=1,p=0,m=!0,A=h.segments,f<0&&F.v.c)for(h.tLength<Math.abs(f)&&(f=-Math.abs(f)%h.tLength),v=(T=A[_=A.length-1].points).length-1;f<0;)f+=T[v].partialLength,(v-=1)<0&&(v=(T=A[_-=1].points).length-1);S=(T=A[_].points)[v-1],w=(d=T[v]).partialLength}u=Y.length,n=0,o=0;var ae,le,he,ge,J,se=1.2*t.finalSize*.714,ce=!0;he=U.length;var te,fe,_e,ye,xe,Me,be,Ce,Re,Ne,Oe,Te,tt=-1,de=f,Xe=_,qe=v,Ye=-1,Ie="",et=this.defaultPropsArray;if(t.j===2||t.j===1){var Ue=0,ke=0,ct=t.j===2?-.5:-1,me=0,ue=!0;for(l=0;l<u;l+=1)if(Y[l].n){for(Ue&&(Ue+=ke);me<l;)Y[me].animatorJustifyOffset=Ue,me+=1;Ue=0,ue=!0}else{for(le=0;le<he;le+=1)(ae=U[le].a).t.propType&&(ue&&t.j===2&&(ke+=ae.t.v*ct),(J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars)).length?Ue+=ae.t.v*J[0]*ct:Ue+=ae.t.v*J*ct);ue=!1}for(Ue&&(Ue+=ke);me<l;)Y[me].animatorJustifyOffset=Ue,me+=1}for(l=0;l<u;l+=1){if(q.reset(),ye=1,Y[l].n)n=0,o+=t.yOffset,o+=ce?1:0,f=de,ce=!1,this._hasMaskedPath&&(v=qe,S=(T=A[_=Xe].points)[v-1],w=(d=T[v]).partialLength,p=0),Ie="",Oe="",Re="",Te="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ye!==Y[l].line){switch(t.j){case 1:f+=C-t.lineWidths[Y[l].line];break;case 2:f+=(C-t.lineWidths[Y[l].line])/2}Ye=Y[l].line}tt!==Y[l].ind&&(Y[tt]&&(f+=Y[tt].extra),f+=Y[l].an/2,tt=Y[l].ind),f+=B[0]*Y[l].an*.005;var Ae=0;for(le=0;le<he;le+=1)(ae=U[le].a).p.propType&&((J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars)).length?Ae+=ae.p.v[0]*J[0]:Ae+=ae.p.v[0]*J),ae.a.propType&&((J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars)).length?Ae+=ae.a.v[0]*J[0]:Ae+=ae.a.v[0]*J);for(m=!0,this._pathData.a.v&&(f=.5*Y[0].an+(C-this._pathData.f.v-.5*Y[0].an-.5*Y[Y.length-1].an)*tt/(u-1),f+=this._pathData.f.v);m;)p+w>=f+Ae||!T?(O=(f+Ae-p)/d.partialLength,fe=S.point[0]+(d.point[0]-S.point[0])*O,_e=S.point[1]+(d.point[1]-S.point[1])*O,q.translate(-B[0]*Y[l].an*.005,-B[1]*se*.01),m=!1):T&&(p+=d.partialLength,(v+=1)>=T.length&&(v=0,A[_+=1]?T=A[_].points:F.v.c?(v=0,T=A[_=0].points):(p-=d.partialLength,T=null)),T&&(S=d,w=(d=T[v]).partialLength));te=Y[l].an/2-Y[l].add,q.translate(-te,0,0)}else te=Y[l].an/2-Y[l].add,q.translate(-te,0,0),q.translate(-B[0]*Y[l].an*.005,-B[1]*se*.01,0);for(le=0;le<he;le+=1)(ae=U[le].a).t.propType&&(J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars),n===0&&t.j===0||(this._hasMaskedPath?J.length?f+=ae.t.v*J[0]:f+=ae.t.v*J:J.length?n+=ae.t.v*J[0]:n+=ae.t.v*J));for(t.strokeWidthAnim&&(Me=t.sw||0),t.strokeColorAnim&&(xe=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(be=[t.fc[0],t.fc[1],t.fc[2]]),le=0;le<he;le+=1)(ae=U[le].a).a.propType&&((J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars)).length?q.translate(-ae.a.v[0]*J[0],-ae.a.v[1]*J[1],ae.a.v[2]*J[2]):q.translate(-ae.a.v[0]*J,-ae.a.v[1]*J,ae.a.v[2]*J));for(le=0;le<he;le+=1)(ae=U[le].a).s.propType&&((J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars)).length?q.scale(1+(ae.s.v[0]-1)*J[0],1+(ae.s.v[1]-1)*J[1],1):q.scale(1+(ae.s.v[0]-1)*J,1+(ae.s.v[1]-1)*J,1));for(le=0;le<he;le+=1){if(ae=U[le].a,J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars),ae.sk.propType&&(J.length?q.skewFromAxis(-ae.sk.v*J[0],ae.sa.v*J[1]):q.skewFromAxis(-ae.sk.v*J,ae.sa.v*J)),ae.r.propType&&(J.length?q.rotateZ(-ae.r.v*J[2]):q.rotateZ(-ae.r.v*J)),ae.ry.propType&&(J.length?q.rotateY(ae.ry.v*J[1]):q.rotateY(ae.ry.v*J)),ae.rx.propType&&(J.length?q.rotateX(ae.rx.v*J[0]):q.rotateX(ae.rx.v*J)),ae.o.propType&&(J.length?ye+=(ae.o.v*J[0]-ye)*J[0]:ye+=(ae.o.v*J-ye)*J),t.strokeWidthAnim&&ae.sw.propType&&(J.length?Me+=ae.sw.v*J[0]:Me+=ae.sw.v*J),t.strokeColorAnim&&ae.sc.propType)for(Ce=0;Ce<3;Ce+=1)J.length?xe[Ce]+=(ae.sc.v[Ce]-xe[Ce])*J[0]:xe[Ce]+=(ae.sc.v[Ce]-xe[Ce])*J;if(t.fillColorAnim&&t.fc){if(ae.fc.propType)for(Ce=0;Ce<3;Ce+=1)J.length?be[Ce]+=(ae.fc.v[Ce]-be[Ce])*J[0]:be[Ce]+=(ae.fc.v[Ce]-be[Ce])*J;ae.fh.propType&&(be=J.length?addHueToRGB(be,ae.fh.v*J[0]):addHueToRGB(be,ae.fh.v*J)),ae.fs.propType&&(be=J.length?addSaturationToRGB(be,ae.fs.v*J[0]):addSaturationToRGB(be,ae.fs.v*J)),ae.fb.propType&&(be=J.length?addBrightnessToRGB(be,ae.fb.v*J[0]):addBrightnessToRGB(be,ae.fb.v*J))}}for(le=0;le<he;le+=1)(ae=U[le].a).p.propType&&(J=U[le].s.getMult(Y[l].anIndexes[le],V.a[le].s.totalChars),this._hasMaskedPath?J.length?q.translate(0,ae.p.v[1]*J[0],-ae.p.v[2]*J[1]):q.translate(0,ae.p.v[1]*J,-ae.p.v[2]*J):J.length?q.translate(ae.p.v[0]*J[0],ae.p.v[1]*J[1],-ae.p.v[2]*J[2]):q.translate(ae.p.v[0]*J,ae.p.v[1]*J,-ae.p.v[2]*J));if(t.strokeWidthAnim&&(Re=Me<0?0:Me),t.strokeColorAnim&&(Ne="rgb("+Math.round(255*xe[0])+","+Math.round(255*xe[1])+","+Math.round(255*xe[2])+")"),t.fillColorAnim&&t.fc&&(Oe="rgb("+Math.round(255*be[0])+","+Math.round(255*be[1])+","+Math.round(255*be[2])+")"),this._hasMaskedPath){if(q.translate(0,-t.ls),q.translate(0,B[1]*se*.01+o,0),this._pathData.p.v){L=(d.point[1]-S.point[1])/(d.point[0]-S.point[0]);var We=180*Math.atan(L)/Math.PI;d.point[0]<S.point[0]&&(We+=180),q.rotate(-We*Math.PI/180)}q.translate(fe,_e,0),f-=B[0]*Y[l].an*.005,Y[l+1]&&tt!==Y[l+1].ind&&(f+=Y[l].an/2,f+=.001*t.tr*t.finalSize)}else{switch(q.translate(n,o,0),t.ps&&q.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:q.translate(Y[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[Y[l].line]),0,0);break;case 2:q.translate(Y[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[Y[l].line])/2,0,0)}q.translate(0,-t.ls),q.translate(te,0,0),q.translate(B[0]*Y[l].an*.005,B[1]*se*.01,0),n+=Y[l].l+.001*t.tr*t.finalSize}H==="html"?Ie=q.toCSS():H==="svg"?Ie=q.to2dCSS():et=[q.props[0],q.props[1],q.props[2],q.props[3],q.props[4],q.props[5],q.props[6],q.props[7],q.props[8],q.props[9],q.props[10],q.props[11],q.props[12],q.props[13],q.props[14],q.props[15]],Te=ye}G<=l?(ge=new LetterProps(Te,Re,Ne,Oe,Ie,et),this.renderedLetters.push(ge),G+=1,this.lettersChangedFlag=!0):(ge=this.renderedLetters[l],this.lettersChangedFlag=ge.update(Te,Re,Ne,Oe,Ie,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,o,l=e.length,u="";for(n=0;n<l;n+=1)e[n].ty==="sh"&&(o=e[n].ks.k,u+=buildShapeString(o,o.i.length,!0,t));return u},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,o,l){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(o,l,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=e.title,this.svgElement.appendChild(o),n+=l}if(e&&e.description){var u=createNS("desc"),h=createElementID();u.setAttribute("id",h),u.textContent=e.description,this.svgElement.appendChild(u),n+=" "+h}n&&this.svgElement.setAttribute("aria-labelledby",n);var f=createNS("defs");this.svgElement.appendChild(f);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:f,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,o=[],l="";e<n;)t[e]==="\r"||t[e]===""?(o.push(l),l=""):l+=t[e],e+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var o=n.it[n.it.length-1];o.s&&(o.s.k[0]=e,o.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var o=this.globalData.fontManager.getFontByName(n.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=n.fWeight,u=n.fStyle;this.layerElement.setAttribute("font-style",u),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",n.t);var h,f=n.l||[],d=!!this.globalData.fontManager.chars;e=f.length;var p=this.mHelper,m=this.data.singleShape,v=0,_=0,S=!0,T=.001*n.tr*n.finalSize;if(!m||d||n.sz){var A,w=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!d||!m||t===0){if(h=w>t?this.textSpans[t].span:createNS(d?"g":"text"),w<=t){if(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=h,d){var C=createNS("g");h.appendChild(C),this.textSpans[t].childSpan=C}this.textSpans[t].span=h,this.layerElement.appendChild(h)}h.style.display="inherit"}if(p.reset(),m&&(f[t].n&&(v=-T,_+=n.yOffset,_+=S?1:0,S=!1),this.applyTextPropertiesToMatrix(n,p,f[t].line,v,_),v+=f[t].l||0,v+=T),d){var O;if((A=this.globalData.fontManager.getCharData(n.finalText[t],o.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t===1)O=new SVGCompElement(A.data,this.globalData,this);else{var L=emptyShapeData;A.data&&A.data.shapes&&(L=this.buildShapeData(A.data,n.finalSize)),O=new SVGShapeElement(L,this.globalData,this)}if(this.textSpans[t].glyph){var F=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(F.layerElement),F.destroy()}this.textSpans[t].glyph=O,O._debug=!0,O.prepareFrame(0),O.renderFrame(),this.textSpans[t].childSpan.appendChild(O.layerElement),A.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else m&&h.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),h.textContent=f[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&h&&h.setAttribute("d","")}else{var B=this.textContainer,U="start";switch(n.j){case 1:U="end";break;case 2:U="middle";break;default:U="start"}B.setAttribute("text-anchor",U),B.setAttribute("letter-spacing",T);var V=this.buildTextContents(n.finalText);for(e=V.length,_=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(h=this.textSpans[t].span||createNS("tspan")).textContent=V[t],h.setAttribute("x",0),h.setAttribute("y",_),h.style.display="inherit",B.appendChild(h),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=h,_+=n.finalLineHeight;this.layerElement.appendChild(B)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,o,l,u=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(e=h.length,t=0;t<e;t+=1)h[t].n||(n=u[t],o=this.textSpans[t].span,(l=this.textSpans[t].glyph)&&l.renderFrame(),n._mdf.m&&o.setAttribute("transform",n.m),n._mdf.o&&o.setAttribute("opacity",n.o),n._mdf.sw&&o.setAttribute("stroke-width",n.sw),n._mdf.sc&&o.setAttribute("stroke",n.sc),n._mdf.fc&&o.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",t.w),o.setAttribute("height",t.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();n.setAttribute("id",l),n.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var o="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(o===-1)return;if(this.elements[o]&&this.elements[o]!==!0){var l=e[o].getMatte(this.layers[t].tt);n.setMatte(l)}else this.buildItem(o),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var o="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,l=this.elements[o].getMatte(this.layers[e].tt);t.setMatte(l);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var o,l=0;l<e;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(n,o):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,o="_";for(e=0;e<n;e+=1)o+=t[e].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(t,e){for(var n=0,o=t.transforms.length,l=e;n<o&&!e;){if(t.transforms[n].transform.mProps._mdf){l=!0;break}n+=1}if(l)for(t.finalTransform.reset(),n=o-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=l},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,o=null;function l(){var u,h,f;e||(u=createNS("svg"),h=createNS("filter"),f=createNS("feColorMatrix"),h.setAttribute("id",t),f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),h.appendChild(f),u.appendChild(h),u.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(u.style.display="none"),o=u,document.body.appendChild(o),e=createTag("canvas"),(n=e.getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:l,get:function(u){return e||l(),e.width=u.width,e.height=u.height,n.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,n,o=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<o;e+=1){n=null;var l=t.data.ef[e].ty;registeredEffects[l]&&(n=new registeredEffects[l].effect(t.effectsManager.effectElements[e],t)),n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(n=0;n<o;n+=1)this.masksProperties[n].mode!=="n"&&(l=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,o,l=this.element.finalTransform.mat,u=this.element.canvasContext,h=this.masksProperties.length;for(u.beginPath(),t=0;t<h;t+=1)if(this.masksProperties[t].mode!=="n"){var f;this.masksProperties[t].inv&&(u.moveTo(0,0),u.lineTo(this.element.globalData.compSize.w,0),u.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),u.lineTo(0,this.element.globalData.compSize.h),u.lineTo(0,0)),o=this.viewData[t].v,e=l.applyToPointArray(o.v[0][0],o.v[0][1],0),u.moveTo(e[0],e[1]);var d=o._length;for(f=1;f<d;f+=1)n=l.applyToTriplePoints(o.o[f-1],o.i[f],o.v[f]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=l.applyToTriplePoints(o.o[f-1],o.i[0],o.v[0]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),u.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,u=4;e.ty==="rc"?u=5:e.ty==="el"?u=6:e.ty==="sr"&&(u=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,u,t);var h,f=n.length;for(l=0;l<f;l+=1)n[l].closed||(h={transforms:o.addTransformSequence(n[l].transforms),trNodes:[]},this.styledShapes.push(h),n[l].elements.push(h))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||e.clearCanvas===void 0||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,t.pe,0,0,this),t.ks.p.s?(this.px=o(this,t.ks.p.x,1,0,this),this.py=o(this,t.ks.p.y,1,0,this),this.pz=o(this,t.ks.p.z,1,0,this)):this.p=o(this,t.ks.p,1,0,this),t.ks.a&&(this.a=o(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var l,u=t.ks.or.k.length;for(l=0;l<u;l+=1)t.ks.or.k[l].to=null,t.ks.or.k[l].ti=null}this.or=o(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,t.ks.rx,0,degToRads,this),this.ry=o(this,t.ks.ry,0,degToRads,this),this.rz=o(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},o={};if(t.ty==="fl"||t.ty==="st"?(o.c=PropertyFactory.getProp(this,t.c,1,255,this),o.c.k||(n.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):t.ty!=="gf"&&t.ty!=="gs"||(o.s=PropertyFactory.getProp(this,t.s,1,null,this),o.e=PropertyFactory.getProp(this,t.e,1,null,this),o.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,t.g,this)),o.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),o.w=PropertyFactory.getProp(this,t.w,0,null,this),o.w.k||(n.wi=o.w.v),t.d){var l=new DashProperty(this,t.d,"canvas",this);o.d=l,o.d.k||(n.da=o.d.dashArray,n.do=o.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),o.style=n,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,o,l){var u,h,f,d,p,m,v=t.length-1,_=[],S=[],T=[].concat(l);for(u=v;u>=0;u-=1){if((d=this.searchProcessedElement(t[u]))?e[u]=n[d-1]:t[u]._shouldRender=o,t[u].ty==="fl"||t[u].ty==="st"||t[u].ty==="gf"||t[u].ty==="gs")d?e[u].style.closed=!1:e[u]=this.createStyleElement(t[u],T),_.push(e[u].style);else if(t[u].ty==="gr"){if(d)for(f=e[u].it.length,h=0;h<f;h+=1)e[u].prevViewData[h]=e[u].it[h];else e[u]=this.createGroupElement(t[u]);this.searchShapes(t[u].it,e[u].it,e[u].prevViewData,o,T)}else t[u].ty==="tr"?(d||(m=this.createTransformElement(t[u]),e[u]=m),T.push(e[u]),this.addTransformToStyleList(e[u])):t[u].ty==="sh"||t[u].ty==="rc"||t[u].ty==="el"||t[u].ty==="sr"?d||(e[u]=this.createShapeElement(t[u])):t[u].ty==="tm"||t[u].ty==="rd"||t[u].ty==="pb"||t[u].ty==="zz"||t[u].ty==="op"?(d?(p=e[u]).closed=!1:((p=ShapeModifiers.getModifier(t[u].ty)).init(this,t[u]),e[u]=p,this.shapeModifiers.push(p)),S.push(p)):t[u].ty==="rp"&&(d?(p=e[u]).closed=!0:(p=ShapeModifiers.getModifier(t[u].ty),e[u]=p,p.init(this,t,u,e),this.shapeModifiers.push(p),o=!1),S.push(p));this.addProcessedElement(t[u],u+1)}for(this.removeTransformFromStyleList(),this.closeStyles(_),v=S.length,u=0;u<v;u+=1)S[u].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,o,l,u,h,f,d,p=this.stylesList.length,m=this.globalData.renderer,v=this.globalData.canvasContext;for(t=0;t<p;t+=1)if(((f=(d=this.stylesList[t]).type)!=="st"&&f!=="gs"||d.wi!==0)&&d.data._shouldRender&&d.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(m.save(),u=d.elements,f==="st"||f==="gs"?(m.ctxStrokeStyle(f==="st"?d.co:d.grd),m.ctxLineWidth(d.wi),m.ctxLineCap(d.lc),m.ctxLineJoin(d.lj),m.ctxMiterLimit(d.ml||0)):m.ctxFillStyle(f==="fl"?d.co:d.grd),m.ctxOpacity(d.coOp),f!=="st"&&f!=="gs"&&v.beginPath(),m.ctxTransform(d.preTransforms.finalTransform.props),n=u.length,e=0;e<n;e+=1){for(f!=="st"&&f!=="gs"||(v.beginPath(),d.da&&(v.setLineDash(d.da),v.lineDashOffset=d.do)),l=(h=u[e].trNodes).length,o=0;o<l;o+=1)h[o].t==="m"?v.moveTo(h[o].p[0],h[o].p[1]):h[o].t==="c"?v.bezierCurveTo(h[o].pts[0],h[o].pts[1],h[o].pts[2],h[o].pts[3],h[o].pts[4],h[o].pts[5]):v.closePath();f!=="st"&&f!=="gs"||(m.ctxStroke(),d.da&&v.setLineDash(this.dashResetter))}f!=="st"&&f!=="gs"&&this.globalData.renderer.ctxFill(d.r),m.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,o){var l,u;for(u=t,l=e.length-1;l>=0;l-=1)e[l].ty==="tr"?(u=n[l].transform,this.renderShapeTransform(t,u)):e[l].ty==="sh"||e[l].ty==="el"||e[l].ty==="rc"||e[l].ty==="sr"?this.renderPath(e[l],n[l]):e[l].ty==="fl"?this.renderFill(e[l],n[l],u):e[l].ty==="st"?this.renderStroke(e[l],n[l],u):e[l].ty==="gf"||e[l].ty==="gs"?this.renderGradientFill(e[l],n[l],u):e[l].ty==="gr"?this.renderShape(u,e[l].it,n[l].it):e[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,o,l,u=t.trNodes,h=e.paths,f=h._length;u.length=0;var d=t.transforms.finalTransform;for(l=0;l<f;l+=1){var p=h.shapes[l];if(p&&p.v){for(o=p._length,n=1;n<o;n+=1)n===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[n],p.v[n])});o===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&o&&(u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[0],p.v[0])}),u.push({t:"z"}))}}t.trNodes=u}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,o=e.styledShapes.length;for(n=0;n<o;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var o,l=e.style;if(!l.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var u,h=this.globalData.canvasContext,f=e.s.v,d=e.e.v;if(t.t===1)o=h.createLinearGradient(f[0],f[1],d[0],d[1]);else{var p=Math.sqrt(Math.pow(f[0]-d[0],2)+Math.pow(f[1]-d[1],2)),m=Math.atan2(d[1]-f[1],d[0]-f[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var _=p*v,S=Math.cos(m+e.a.v)*_+f[0],T=Math.sin(m+e.a.v)*_+f[1];o=h.createRadialGradient(S,T,0,f[0],f[1],p)}var A=t.g.p,w=e.g.c,C=1;for(u=0;u<A;u+=1)e.g._hasOpacity&&e.g._collapsable&&(C=e.g.o[2*u+1]),o.addColorStop(w[4*u]/100,"rgba("+w[4*u+1]+","+w[4*u+2]+","+w[4*u+3]+","+C+")");l.grd=o}l.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var o=e.style,l=e.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var o,l,u,h,f,d,p,m,v,_,S,T,A=this.globalData.fontManager.getFontByName(t.f),w=t.l,C=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var O=this.data.singleShape,L=.001*t.tr*t.finalSize,F=0,B=0,U=!0,V=0;for(o=0;o<l;o+=1){h=(u=this.globalData.fontManager.getCharData(t.finalText[o],A.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&u.data||{},C.reset(),O&&w[o].n&&(F=-L,B+=t.yOffset,B+=U?1:0,U=!1),v=(p=h.shapes?h.shapes[0].it:[]).length,C.scale(t.finalSize/100,t.finalSize/100),O&&this.applyTextPropertiesToMatrix(t,C,w[o].line,F,B),S=createSizedArray(v-1);var q=0;for(m=0;m<v;m+=1)if(p[m].ty==="sh"){for(d=p[m].ks.k.i.length,_=p[m].ks.k,T=[],f=1;f<d;f+=1)f===1&&T.push(C.applyToX(_.v[0][0],_.v[0][1],0),C.applyToY(_.v[0][0],_.v[0][1],0)),T.push(C.applyToX(_.o[f-1][0],_.o[f-1][1],0),C.applyToY(_.o[f-1][0],_.o[f-1][1],0),C.applyToX(_.i[f][0],_.i[f][1],0),C.applyToY(_.i[f][0],_.i[f][1],0),C.applyToX(_.v[f][0],_.v[f][1],0),C.applyToY(_.v[f][0],_.v[f][1],0));T.push(C.applyToX(_.o[f-1][0],_.o[f-1][1],0),C.applyToY(_.o[f-1][0],_.o[f-1][1],0),C.applyToX(_.i[0][0],_.i[0][1],0),C.applyToY(_.i[0][0],_.i[0][1],0),C.applyToX(_.v[0][0],_.v[0][1],0),C.applyToY(_.v[0][0],_.v[0][1],0)),S[q]=T,q+=1}O&&(F+=w[o].l,F+=L),this.textSpans[V]?this.textSpans[V].elem=S:this.textSpans[V]={elem:S},V+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,o,l,u;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,f=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;e=d.length;var p,m,v=null,_=null,S=null,T=this.globalData.renderer;for(t=0;t<e;t+=1)if(!d[t].n){if((h=f[t])&&(T.save(),T.ctxTransform(h.p),T.ctxOpacity(h.o)),this.fill){for(h&&h.fc?v!==h.fc&&(T.ctxFillStyle(h.fc),v=h.fc):v!==this.values.fill&&(v=this.values.fill,T.ctxFillStyle(this.values.fill)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(h&&h.sw?S!==h.sw&&(S=h.sw,T.ctxLineWidth(h.sw)):S!==this.values.sWidth&&(S=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),h&&h.sc?_!==h.sc&&(_=h.sc,T.ctxStrokeStyle(h.sc)):_!==this.values.stroke&&(_=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}h&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,o=t.getContext("2d"),l=this.img.width,u=this.img.height,h=l/u,f=this.assetData.w/this.assetData.h,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;h>f&&d==="xMidYMid slice"||h<f&&d!=="xMidYMid slice"?e=(n=u)*f:n=(e=l)/f,o.drawImage(this.img,(l-e)/2,(u-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,o){this.canvasContext.fillRect(t,e,n,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,o,l,u;if(this.reset(),t?(n=t,o=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var h=this.renderConfig.preserveAspectRatio.split(" "),f=h[1]||"meet",d=h[0]||"xMidYMid",p=d.substr(0,4),m=d.substr(4);l=n/o,(u=this.transformCanvas.w/this.transformCanvas.h)>l&&f==="meet"||u<l&&f==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=p==="xMid"&&(u<l&&f==="meet"||u>l&&f==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(u<l&&f==="meet"||u>l&&f==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=m==="YMid"&&(u>l&&f==="meet"||u<l&&f==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:m==="YMax"&&(u>l&&f==="meet"||u<l&&f==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||this.renderConfig.clearCanvas!==!0||e)&&!this.destroyed&&t!==-1){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var o=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],o=n.transform,l=this.cTr.props;for(e=0;e<16;e+=1)l[e]=o[e];if(t){this.nativeContext.restore();var u=this.stack[this.cArrPos+1];this.appliedFillStyle=u.fillStyle,this.appliedStrokeStyle=u.strokeStyle,this.appliedLineWidth=u.lineWidth,this.appliedLineCap=u.lineCap,this.appliedLineJoin=u.lineJoin,this.appliedMiterLimit=u.miterLimit}this.nativeContext.setTransform(o[0],o[1],o[4],o[5],o[12],o[13]),(t||n.opacity!==-1&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,o=this.stack[this.cArrPos];for(n=0;n<16;n+=1)o.transform[n]=e[n];this.cArrPos+=1;var l=this.stack[this.cArrPos];l.opacity=o.opacity,l.fillStyle=o.fillStyle,l.strokeStyle=o.strokeStyle,l.lineWidth=o.lineWidth,l.lineCap=o.lineCap,l.lineJoin=o.lineJoin,l.miterLimit=o.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,o,l,u,h,f=t.sh.v,d=t.transformers,p=f._length;if(!(p<=1)){for(n=0;n<p-1;n+=1)o=this.getTransformedPoint(d,f.v[n]),l=this.getTransformedPoint(d,f.o[n]),u=this.getTransformedPoint(d,f.i[n+1]),h=this.getTransformedPoint(d,f.v[n+1]),this.checkBounds(o,l,u,h,e);f.c&&(o=this.getTransformedPoint(d,f.v[n]),l=this.getTransformedPoint(d,f.o[n]),u=this.getTransformedPoint(d,f.i[0]),h=this.getTransformedPoint(d,f.v[0]),this.checkBounds(o,l,u,h,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,o,l){this.getBoundsOfCurve(t,e,n,o);var u=this.shapeBoundingBox;l.x=bmMin(u.left,l.x),l.xMax=bmMax(u.right,l.xMax),l.y=bmMin(u.top,l.y),l.yMax=bmMax(u.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,o){for(var l,u,h,f,d,p,m,v=[[t[0],o[0]],[t[1],o[1]]],_=0;_<2;++_)u=6*t[_]-12*e[_]+6*n[_],l=-3*t[_]+9*e[_]-9*n[_]+3*o[_],h=3*e[_]-3*t[_],u|=0,h|=0,(l|=0)===0&&u===0||(l===0?(f=-h/u)>0&&f<1&&v[_].push(this.calculateF(f,t,e,n,o,_)):(d=u*u-4*h*l)>=0&&((p=(-u+bmSqrt(d))/(2*l))>0&&p<1&&v[_].push(this.calculateF(p,t,e,n,o,_)),(m=(-u-bmSqrt(d))/(2*l))>0&&m<1&&v[_].push(this.calculateF(m,t,e,n,o,_))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(t,e,n,o,l,u){return bmPow(1-t,3)*e[u]+3*bmPow(1-t,2)*t*n[u]+3*(1-t)*bmPow(t,2)*o[u]+bmPow(t,3)*l[u]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var o=0;o<t.keyframes.length;o+=1){var l=t.keyframes[o].s;l>n&&(n=l)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var o,l,u=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",u.fClass)this.innerElem.className=u.fClass;else{e.fontFamily=u.fFamily;var h=t.fWeight,f=t.fStyle;e.fontStyle=f,e.fontWeight=h}var d,p,m,v=t.l;l=v.length;var _,S=this.mHelper,T="",A=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[A]?d=this.textPaths[A]:((d=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),d.setAttribute("stroke-linejoin",lineJoinEnum[2]),d.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[A]?m=(p=this.textSpans[A]).children[0]:((p=createTag("div")).style.lineHeight=0,(m=createNS("svg")).appendChild(d),styleDiv(p)))):this.isMasked?d=this.textPaths[A]?this.textPaths[A]:createNS("text"):this.textSpans[A]?(p=this.textSpans[A],d=this.textPaths[A]):(styleDiv(p=createTag("span")),styleDiv(d=createTag("span")),p.appendChild(d)),this.globalData.fontManager.chars){var w,C=this.globalData.fontManager.getCharData(t.finalText[o],u.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(w=C?C.data:null,S.reset(),w&&w.shapes&&w.shapes.length&&(_=w.shapes[0].it,S.scale(t.finalSize/100,t.finalSize/100),T=this.createPathShape(S,_),d.setAttribute("d",T)),this.isMasked)this.innerElem.appendChild(d);else{if(this.innerElem.appendChild(p),w&&w.shapes){document.body.appendChild(m);var O=m.getBBox();m.setAttribute("width",O.width+2),m.setAttribute("height",O.height+2),m.setAttribute("viewBox",O.x-1+" "+(O.y-1)+" "+(O.width+2)+" "+(O.height+2));var L=m.style,F="translate("+(O.x-1)+"px,"+(O.y-1)+"px)";L.transform=F,L.webkitTransform=F,v[o].yOffset=O.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);p.appendChild(m)}}else if(d.textContent=v[o].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(d);else{this.innerElem.appendChild(p);var B=d.style,U="translate3d(0,"+-t.finalSize/1.2+"px,0)";B.transform=U,B.webkitTransform=U}this.isMasked?this.textSpans[A]=d:this.textSpans[A]=p,this.textSpans[A].style.display="block",this.textPaths[A]=d,A+=1}for(;A<this.textSpans.length;)this.textSpans[A].style.display="none",A+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,o,l,u,h,f=0,d=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;for(o=p.length,n=0;n<o;n+=1)p[n].n?f+=1:(u=this.textSpans[n],h=this.textPaths[n],l=d[f],f+=1,l._mdf.m&&(this.isMasked?u.setAttribute("transform",l.m):(u.style.webkitTransform=l.m,u.style.transform=l.m)),u.style.opacity=l.o,l.sw&&l._mdf.sw&&h.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&h.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(h.setAttribute("fill",l.fc),h.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var m=this.innerElem.getBBox();if(this.currentBBox.w!==m.width&&(this.currentBBox.w=m.width,this.svgElement.setAttribute("width",m.width)),this.currentBBox.h!==m.height&&(this.currentBBox.h=m.height,this.svgElement.setAttribute("height",m.height)),this.currentBBox.w!==m.width+2||this.currentBBox.h!==m.height+2||this.currentBBox.x!==m.x-1||this.currentBBox.y!==m.y-1){this.currentBBox.w=m.width+2,this.currentBBox.h=m.height+2,this.currentBBox.x=m.x-1,this.currentBBox.y=m.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=v,t.webkitTransform=v}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,o,l=this.comp.threeDElements.length;for(t=0;t<l;t+=1)if((e=this.comp.threeDElements[t]).type==="3d"){n=e.perspectiveElem.style,o=e.container.style;var u=this.pe.v+"px",h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=u,n.webkitPerspective=u,o.transformOrigin="0px 0px 0px",o.mozTransformOrigin="0px 0px 0px",o.webkitTransformOrigin="0px 0px 0px",n.transform=h,n.webkitTransform=h}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var u=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),h=[l[0]/u,l[1]/u,l[2]/u],f=Math.sqrt(h[2]*h[2]+h[0]*h[0]),d=Math.atan2(h[1],f),p=Math.atan2(h[0],-h[2]);this.mat.rotateY(p).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var m=!this._prevMat.equals(this.mat);if((m||this.pe._mdf)&&this.comp.threeDElements){var v,_,S;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if((v=this.comp.threeDElements[t]).type==="3d"){if(m){var T=this.mat.toCSS();(S=v.container.style).transform=T,S.webkitTransform=T}this.pe._mdf&&((_=v.perspectiveElem.style).perspective=this.pe.v+"px",_.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var o=this.layers[e];if(o.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var l,u,h=0;h<e;)this.elements[h]&&this.elements[h]!==!0&&this.elements[h].getBaseElement&&(u=this.elements[h],l=(this.layers[h].ddd?this.getThreeDContainerByPos(h):u.getBaseElement())||l),h+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(n,l):o.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,o,l=createTag("div");styleDiv(l);var u=createTag("div");if(styleDiv(u),e==="3d"){(n=l.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px",n.webkitTransformOrigin="50% 50%",n.mozTransformOrigin="50% 50%",n.transformOrigin="50% 50%";var h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=u.style).transform=h,o.webkitTransform=h}l.appendChild(u);var f={container:u,perspectiveElem:l,startPos:t,endPos:t,type:e};return this.threeDElements.push(f),f},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,o="";for(t=0;t<n;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(o!=="3d"&&(o="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):(o!=="2d"&&(o="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,o=this.threeDElements.length;n<o;){if(e<=this.threeDElements[n].endPos){for(var l,u=this.threeDElements[n].startPos;u<e;)this.elements[u]&&this.elements[u].getBaseElement&&(l=this.elements[u].getBaseElement()),u+=1;l?this.threeDElements[n].container.insertBefore(t,l):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,o=e.style;o.width=t.w+"px",o.height=t.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var u=createNS("defs");l.appendChild(u),this.data=t,this.setupGlobalData(t,l),this.globalData.defs=u,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,o,l=this.animationItem.wrapper.offsetWidth,u=this.animationItem.wrapper.offsetHeight,h=l/u;this.globalData.compSize.w/this.globalData.compSize.h>h?(t=l/this.globalData.compSize.w,e=l/this.globalData.compSize.w,n=0,o=(u-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(t=u/this.globalData.compSize.h,e=u/this.globalData.compSize.h,n=(l-this.globalData.compSize.w*(u/this.globalData.compSize.h))/2,o=0);var f=this.resizerElem.style;f.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+o+",0,1)",f.transform=f.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,o=this.threeDElements.length;for(t=0;t<o;t+=1){var l=this.threeDElements[t].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",l.perspective=l.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,o=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var l=this.createComp(t[e],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,o=0;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(n){for(var o=0,l=t.layers.length;o<l;){if(t.layers[o].nm===n||t.layers[o].ind===n)return t.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function seedRandom(t,e){var n=this,o=e.pow(256,6),l=e.pow(2,52),u=2*l;function h(m){var v,_=m.length,S=this,T=0,A=S.i=S.j=0,w=S.S=[];for(_||(m=[_++]);T<256;)w[T]=T++;for(T=0;T<256;T++)w[T]=w[A=255&A+m[T%_]+(v=w[T])],w[A]=v;S.g=function(C){for(var O,L=0,F=S.i,B=S.j,U=S.S;C--;)O=U[F=255&F+1],L=256*L+U[255&(U[F]=U[B=255&B+O])+(U[B]=O)];return S.i=F,S.j=B,L}}function f(m,v){return v.i=m.i,v.j=m.j,v.S=m.S.slice(),v}function d(m,v){for(var _,S=m+"",T=0;T<S.length;)v[255&T]=255&(_^=19*v[255&T])+S.charCodeAt(T++);return p(v)}function p(m){return String.fromCharCode.apply(0,m)}e.seedrandom=function(m,v,_){var S=[],T=d(function C(O,L){var F,B=[],U=_typeof$2(O);if(L&&U=="object")for(F in O)try{B.push(C(O[F],L-1))}catch{}return B.length?B:U=="string"?O:O+"\0"}((v=v===!0?{entropy:!0}:v||{}).entropy?[m,p(t)]:m===null?function(){try{var C=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(C),p(C)}catch{var O=n.navigator,L=O&&O.plugins;return[+new Date,n,L,n.screen,p(t)]}}():m,3),S),A=new h(S),w=function(){for(var C=A.g(6),O=o,L=0;C<l;)C=256*(C+L),O*=256,L=A.g(1);for(;C>=u;)C/=2,O/=2,L>>>=1;return(C+L)/O};return w.int32=function(){return 0|A.g(4)},w.quick=function(){return A.g(4)/4294967296},w.double=w,d(p(A.S),t),(v.pass||_||function(C,O,L,F){return F&&(F.S&&f(F,A),C.state=function(){return f(A,{})}),L?(e.random=C,O):C})(w,T,"global"in v?v.global:this==e,v.state)},d(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,o=t.length,l=[];for(n=0;n<o;n+=1)l[n]=-t[n];return l}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e)||n==="string"||o==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,h=e.length,f=[];l<u||l<h;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?f[l]=t[l]+e[l]:f[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return f}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e))return n==="string"&&(t=parseInt(t,10)),o==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,h=e.length,f=[];l<u||l<h;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?f[l]=t[l]-e[l]:f[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return f}return 0}function mul(t,e){var n,o,l,u=_typeof$1(t),h=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(h,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(h,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]*e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t*e[o];return n}return 0}function div(t,e){var n,o,l,u=_typeof$1(t),h=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(h,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(h,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]/e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t/e[o];return n}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var o=n;n=e,e=o}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var o=Math.min(t.length,e.length),l=0;for(n=0;n<o;n+=1)l+=Math.pow(e[n]-t[n],2);return Math.sqrt(l)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,o=t[0],l=t[1],u=t[2],h=Math.max(o,l,u),f=Math.min(o,l,u),d=(h+f)/2;if(h===f)e=0,n=0;else{var p=h-f;switch(n=d>.5?p/(2-h-f):p/(h+f),h){case o:e=(l-u)/p+(l<u?6:0);break;case l:e=(u-o)/p+2;break;case u:e=(o-l)/p+4}e/=6}return[e,n,d,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,o,l=t[0],u=t[1],h=t[2];if(u===0)e=h,o=h,n=h;else{var f=h<.5?h*(1+u):h+u-h*u,d=2*h-f;e=hue2rgb(d,f,l+1/3),n=hue2rgb(d,f,l),o=hue2rgb(d,f,l-1/3)}return[e,n,o,t[3]]}function linear(t,e,n,o,l){if(o!==void 0&&l!==void 0||(o=e,l=n,e=0,n=1),n<e){var u=n;n=e,e=u}if(t<=e)return o;if(t>=n)return l;var h,f=n===e?0:(t-e)/(n-e);if(!o.length)return o+(l-o)*f;var d=o.length,p=createTypedArray("float32",d);for(h=0;h<d;h+=1)p[h]=o[h]+(l[h]-o[h])*f;return p}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,o=e.length;t||(t=createTypedArray("float32",o));var l=createTypedArray("float32",o),u=BMMath.random();for(n=0;n<o;n+=1)l[n]=t[n]+u*(e[n]-t[n]);return l}return t===void 0&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,o){var l,u=t.length,h=shapePool.newElement();h.setPathData(!!o,u);var f,d,p=[0,0];for(l=0;l<u;l+=1)f=e&&e[l]?e[l]:p,d=n&&n[l]?n[l]:p,h.setTripleAt(t[l][0],t[l][1],d[0]+t[l][0],d[1]+t[l][1],f[0]+t[l][0],f[1]+t[l][1],l,!0);return h}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(t,e){var n,o,l=this.pv.length?this.pv.length:1,u=createTypedArray("float32",l),h=Math.floor(5*time);for(n=0,o=0;n<h;){for(o=0;o<l;o+=1)u[o]+=-e+2*e*BMMath.random();n+=1}var f=5*time,d=f-Math.floor(f),p=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)p[o]=this.pv[o]+u[o]+(-e+2*e*BMMath.random())*d;return p}return this.pv+u[0]+(-e+2*e*BMMath.random())*d}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],o=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,o,0]}function easeOut(t,e,n,o,l){return applyEase(easeOutBez,t,e,n,o,l)}function easeIn(t,e,n,o,l){return applyEase(easeInBez,t,e,n,o,l)}function ease(t,e,n,o,l){return applyEase(easeInOutBez,t,e,n,o,l)}function applyEase(t,e,n,o,l,u){l===void 0?(l=n,u=o):e=(e-n)/(o-n),e>1?e=1:e<0&&(e=0);var h=t(e);if($bm_isInstanceOfArray(l)){var f,d=l.length,p=createTypedArray("float32",d);for(f=0;f<d;f+=1)p[f]=(u[f]-l[f])*h+l[f];return p}return(u-l)*h+l}function nearestKey(t){var e,n,o,l=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,o=data.k[0].t;else{for(e=0;e<l-1;e+=1){if(t===data.k[e].t){n=e+1,o=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,o=data.k[e+1].t):(n=e+1,o=data.k[e].t);break}}n===-1&&(n=e+1,o=data.k[e].t)}else n=0,o=0;var u={};return u.index=n,u.time=o/elem.comp.globalData.frameRate,u}function key(t){var e,n,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var l=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(o=l.length,n=0;n<o;n+=1)e[n]=l[n],e.value[n]=l[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||t===0||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function(e){var n=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){n+=1},e.renderer.globalData.popExpression=function(){(n-=1)===0&&function(){var l,u=o.length;for(l=0;l<u;l+=1)o[l].release();o.length=0}()},e.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(e,n){this._mask=e,this._data=n}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,o=createSizedArray(e.viewData.length),l=e.viewData.length;for(n=0;n<l;n+=1)o[n]=new t(e.viewData[n],e.masksProperties[n]);return function(u){for(n=0;n<l;){if(e.masksProperties[n].nm===u)return o[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(l,u,h){Object.defineProperty(l,"velocity",{get:function(){return u.getVelocityAtTime(u.comp.currentFrame)}}),l.numKeys=u.keyframes?u.keyframes.length:0,l.key=function(f){if(!l.numKeys)return 0;var d="";d="s"in u.keyframes[f-1]?u.keyframes[f-1].s:"e"in u.keyframes[f-2]?u.keyframes[f-2].e:u.keyframes[f-2].s;var p=h==="unidimensional"?new Number(d):Object.assign({},d);return p.time=u.keyframes[f-1].t/u.elem.comp.globalData.frameRate,p.value=h==="unidimensional"?d[0]:d,p},l.valueAtTime=u.getValueAtTime,l.speedAtTime=u.getSpeedAtTime,l.velocityAtTime=u.getVelocityAtTime,l.propertyGroup=u.propertyGroup}function o(){return t}return function(l){return l?l.propType==="unidimensional"?function(u){u&&"pv"in u||(u=t);var h=1/u.mult,f=u.pv*h,d=new Number(f);return d.value=f,n(d,u,"unidimensional"),function(){return u.k&&u.getValue(),f=u.v*h,d.value!==f&&((d=new Number(f)).value=f,n(d,u,"unidimensional")),d}}(l):function(u){u&&"pv"in u||(u=e);var h=1/u.mult,f=u.data&&u.data.l||u.pv.length,d=createTypedArray("float32",f),p=createTypedArray("float32",f);return d.value=p,n(d,u,"multidimensional"),function(){u.k&&u.getValue();for(var m=0;m<f;m+=1)p[m]=u.v[m]*h,d[m]=p[m];return d}}(l):o}}(),TransformExpressionInterface=function(t){function e(h){switch(h){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,o,l,u;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?u=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),o=ExpressionPropertyInterface(t.py),t.pz&&(l=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?u():[n(),o(),l?l():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(p){var m=new Matrix;return p!==void 0?this._elem.finalTransform.mProp.getValueAtTime(p).clone(m):this._elem.finalTransform.mProp.applyToMatrix(m),m}function e(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.applyPoint(v,p)}function n(p,m){var v=this.getMatrix(m);return this.applyPoint(v,p)}function o(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.invertPoint(v,p)}function l(p,m){var v=this.getMatrix(m);return this.invertPoint(v,p)}function u(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(m[0],m[1],m[2]||0)}function h(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(m)}function f(p){var m=new Matrix;if(m.reset(),this._elem.finalTransform.mProp.applyToMatrix(m),this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(m);return m.inversePoint(p)}return m.inversePoint(p)}function d(){return[1,1,1,1]}return function(p){var m;function v(S){switch(S){case"ADBE Root Vectors Group":case"Contents":case 2:return v.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return m;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return v.effect;case"ADBE Text Properties":return v.textInterface;default:return null}}v.getMatrix=t,v.invertPoint=h,v.applyPoint=u,v.toWorld=n,v.toWorldVec=e,v.fromWorld=l,v.fromWorldVec=o,v.toComp=n,v.fromComp=f,v.sampleImage=d,v.sourceRectAtTime=p.sourceRectAtTime.bind(p),v._elem=p;var _=getDescriptor(m=TransformExpressionInterface(p.finalTransform.mProp),"anchorPoint");return Object.defineProperties(v,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(m,"rotation"),scale:getDescriptor(m,"scale"),position:getDescriptor(m,"position"),opacity:getDescriptor(m,"opacity"),anchorPoint:_,anchor_point:_,transform:{get:function(){return m}},active:{get:function(){return p.isInRange}}}),v.startTime=p.data.st,v.index=p.data.ind,v.source=p.data.refId,v.height=p.data.ty===0?p.data.h:100,v.width=p.data.ty===0?p.data.w:100,v.inPoint=p.data.ip/p.comp.globalData.frameRate,v.outPoint=p.data.op/p.comp.globalData.frameRate,v._name=p.data.nm,v.registerMaskInterface=function(S){v.mask=new MaskManagerInterface(S,p)},v.registerEffectsInterface=function(S){v.effect=S},v}}(),propertyGroupFactory=function(t,e){return function(n){return(n=n===void 0?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(o){return(o=o===void 0?1:o)<=0?n:e(o-1)}},EffectsExpressionInterface=function(){function t(n,o,l,u){function h(v){for(var _=n.ef,S=0,T=_.length;S<T;){if(v===_[S].nm||v===_[S].mn||v===_[S].ix)return _[S].ty===5?p[S]:p[S]();S+=1}throw new Error}var f,d=propertyGroupFactory(h,l),p=[],m=n.ef.length;for(f=0;f<m;f+=1)n.ef[f].ty===5?p.push(t(n.ef[f],o.effectElements[f],o.effectElements[f].propertyGroup,u)):p.push(e(o.effectElements[f],n.ef[f].ty,u,d));return n.mn==="ADBE Color Control"&&Object.defineProperty(h,"color",{get:function(){return p[0]()}}),Object.defineProperties(h,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:d}}),h.enabled=n.en!==0,h.active=h.enabled,h}function e(n,o,l,u){var h=ExpressionPropertyInterface(n.p);return n.p.setGroupProperty&&n.p.setGroupProperty(PropertyInterface("",u)),function(){return o===10?l.comp.compInterface(n.p.v):h()}}return{createEffectsInterface:function(n,o){if(n.effectsManager){var l,u=[],h=n.data.ef,f=n.effectsManager.effectElements.length;for(l=0;l<f;l+=1)u.push(t(h[l],n.effectsManager.effectElements[l],o,n));var d=n.data.ef||[],p=function(m){for(l=0,f=d.length;l<f;){if(m===d[l].nm||m===d[l].mn||m===d[l].ix)return u[l];l+=1}return null};return Object.defineProperty(p,"numProperties",{get:function(){return d.length}}),p}return null}}}(),ShapePathInterface=function(t,e,n){var o=e.sh;function l(h){return h==="Shape"||h==="shape"||h==="Path"||h==="path"||h==="ADBE Vector Shape"||h===2?l.path:null}var u=propertyGroupFactory(l,n);return o.setGroupProperty(PropertyInterface("Path",u)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),l},ShapeExpressionInterface=function(){function t(S,T,A){var w,C=[],O=S?S.length:0;for(w=0;w<O;w+=1)S[w].ty==="gr"?C.push(e(S[w],T[w],A)):S[w].ty==="fl"?C.push(n(S[w],T[w],A)):S[w].ty==="st"?C.push(u(S[w],T[w],A)):S[w].ty==="tm"?C.push(h(S[w],T[w],A)):S[w].ty==="tr"||(S[w].ty==="el"?C.push(d(S[w],T[w],A)):S[w].ty==="sr"?C.push(p(S[w],T[w],A)):S[w].ty==="sh"?C.push(ShapePathInterface(S[w],T[w],A)):S[w].ty==="rc"?C.push(m(S[w],T[w],A)):S[w].ty==="rd"?C.push(v(S[w],T[w],A)):S[w].ty==="rp"?C.push(_(S[w],T[w],A)):S[w].ty==="gf"?C.push(o(S[w],T[w],A)):C.push(l(S[w],T[w])));return C}function e(S,T,A){var w=function(L){switch(L){case"ADBE Vectors Group":case"Contents":case 2:return w.content;default:return w.transform}};w.propertyGroup=propertyGroupFactory(w,A);var C=function(L,F,B){var U,V=function(H){for(var G=0,Y=U.length;G<Y;){if(U[G]._name===H||U[G].mn===H||U[G].propertyIndex===H||U[G].ix===H||U[G].ind===H)return U[G];G+=1}return typeof H=="number"?U[H-1]:null};V.propertyGroup=propertyGroupFactory(V,B),U=t(L.it,F.it,V.propertyGroup),V.numProperties=U.length;var q=f(L.it[L.it.length-1],F.it[F.it.length-1],V.propertyGroup);return V.transform=q,V.propertyIndex=L.cix,V._name=L.nm,V}(S,T,w.propertyGroup),O=f(S.it[S.it.length-1],T.it[T.it.length-1],w.propertyGroup);return w.content=C,w.transform=O,Object.defineProperty(w,"_name",{get:function(){return S.nm}}),w.numProperties=S.np,w.propertyIndex=S.ix,w.nm=S.nm,w.mn=S.mn,w}function n(S,T,A){function w(C){return C==="Color"||C==="color"?w.color:C==="Opacity"||C==="opacity"?w.opacity:null}return Object.defineProperties(w,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",A)),T.o.setGroupProperty(PropertyInterface("Opacity",A)),w}function o(S,T,A){function w(C){return C==="Start Point"||C==="start point"?w.startPoint:C==="End Point"||C==="end point"?w.endPoint:C==="Opacity"||C==="opacity"?w.opacity:null}return Object.defineProperties(w,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:S.nm},mn:{value:S.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",A)),T.e.setGroupProperty(PropertyInterface("End Point",A)),T.o.setGroupProperty(PropertyInterface("Opacity",A)),w}function l(){return function(){return null}}function u(S,T,A){var w,C=propertyGroupFactory(U,A),O=propertyGroupFactory(B,C);function L(V){Object.defineProperty(B,S.d[V].nm,{get:ExpressionPropertyInterface(T.d.dataProps[V].p)})}var F=S.d?S.d.length:0,B={};for(w=0;w<F;w+=1)L(w),T.d.dataProps[w].p.setGroupProperty(O);function U(V){return V==="Color"||V==="color"?U.color:V==="Opacity"||V==="opacity"?U.opacity:V==="Stroke Width"||V==="stroke width"?U.strokeWidth:null}return Object.defineProperties(U,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return B}},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",C)),T.o.setGroupProperty(PropertyInterface("Opacity",C)),T.w.setGroupProperty(PropertyInterface("Stroke Width",C)),U}function h(S,T,A){function w(O){return O===S.e.ix||O==="End"||O==="end"?w.end:O===S.s.ix?w.start:O===S.o.ix?w.offset:null}var C=propertyGroupFactory(w,A);return w.propertyIndex=S.ix,T.s.setGroupProperty(PropertyInterface("Start",C)),T.e.setGroupProperty(PropertyInterface("End",C)),T.o.setGroupProperty(PropertyInterface("Offset",C)),w.propertyIndex=S.ix,w.propertyGroup=A,Object.defineProperties(w,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm}}),w.mn=S.mn,w}function f(S,T,A){function w(O){return S.a.ix===O||O==="Anchor Point"?w.anchorPoint:S.o.ix===O||O==="Opacity"?w.opacity:S.p.ix===O||O==="Position"?w.position:S.r.ix===O||O==="Rotation"||O==="ADBE Vector Rotation"?w.rotation:S.s.ix===O||O==="Scale"?w.scale:S.sk&&S.sk.ix===O||O==="Skew"?w.skew:S.sa&&S.sa.ix===O||O==="Skew Axis"?w.skewAxis:null}var C=propertyGroupFactory(w,A);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",C)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",C)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",C)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",C)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",C)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",C)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",C))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",C)),Object.defineProperties(w,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:S.nm}}),w.ty="tr",w.mn=S.mn,w.propertyGroup=A,w}function d(S,T,A){function w(L){return S.p.ix===L?w.position:S.s.ix===L?w.size:null}var C=propertyGroupFactory(w,A);w.propertyIndex=S.ix;var O=T.sh.ty==="tm"?T.sh.prop:T.sh;return O.s.setGroupProperty(PropertyInterface("Size",C)),O.p.setGroupProperty(PropertyInterface("Position",C)),Object.defineProperties(w,{size:{get:ExpressionPropertyInterface(O.s)},position:{get:ExpressionPropertyInterface(O.p)},_name:{value:S.nm}}),w.mn=S.mn,w}function p(S,T,A){function w(L){return S.p.ix===L?w.position:S.r.ix===L?w.rotation:S.pt.ix===L?w.points:S.or.ix===L||L==="ADBE Vector Star Outer Radius"?w.outerRadius:S.os.ix===L?w.outerRoundness:!S.ir||S.ir.ix!==L&&L!=="ADBE Vector Star Inner Radius"?S.is&&S.is.ix===L?w.innerRoundness:null:w.innerRadius}var C=propertyGroupFactory(w,A),O=T.sh.ty==="tm"?T.sh.prop:T.sh;return w.propertyIndex=S.ix,O.or.setGroupProperty(PropertyInterface("Outer Radius",C)),O.os.setGroupProperty(PropertyInterface("Outer Roundness",C)),O.pt.setGroupProperty(PropertyInterface("Points",C)),O.p.setGroupProperty(PropertyInterface("Position",C)),O.r.setGroupProperty(PropertyInterface("Rotation",C)),S.ir&&(O.ir.setGroupProperty(PropertyInterface("Inner Radius",C)),O.is.setGroupProperty(PropertyInterface("Inner Roundness",C))),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(O.p)},rotation:{get:ExpressionPropertyInterface(O.r)},points:{get:ExpressionPropertyInterface(O.pt)},outerRadius:{get:ExpressionPropertyInterface(O.or)},outerRoundness:{get:ExpressionPropertyInterface(O.os)},innerRadius:{get:ExpressionPropertyInterface(O.ir)},innerRoundness:{get:ExpressionPropertyInterface(O.is)},_name:{value:S.nm}}),w.mn=S.mn,w}function m(S,T,A){function w(L){return S.p.ix===L?w.position:S.r.ix===L?w.roundness:S.s.ix===L||L==="Size"||L==="ADBE Vector Rect Size"?w.size:null}var C=propertyGroupFactory(w,A),O=T.sh.ty==="tm"?T.sh.prop:T.sh;return w.propertyIndex=S.ix,O.p.setGroupProperty(PropertyInterface("Position",C)),O.s.setGroupProperty(PropertyInterface("Size",C)),O.r.setGroupProperty(PropertyInterface("Rotation",C)),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(O.p)},roundness:{get:ExpressionPropertyInterface(O.r)},size:{get:ExpressionPropertyInterface(O.s)},_name:{value:S.nm}}),w.mn=S.mn,w}function v(S,T,A){function w(L){return S.r.ix===L||L==="Round Corners 1"?w.radius:null}var C=propertyGroupFactory(w,A),O=T;return w.propertyIndex=S.ix,O.rd.setGroupProperty(PropertyInterface("Radius",C)),Object.defineProperties(w,{radius:{get:ExpressionPropertyInterface(O.rd)},_name:{value:S.nm}}),w.mn=S.mn,w}function _(S,T,A){function w(L){return S.c.ix===L||L==="Copies"?w.copies:S.o.ix===L||L==="Offset"?w.offset:null}var C=propertyGroupFactory(w,A),O=T;return w.propertyIndex=S.ix,O.c.setGroupProperty(PropertyInterface("Copies",C)),O.o.setGroupProperty(PropertyInterface("Offset",C)),Object.defineProperties(w,{copies:{get:ExpressionPropertyInterface(O.c)},offset:{get:ExpressionPropertyInterface(O.o)},_name:{value:S.nm}}),w.mn=S.mn,w}return function(S,T,A){var w;function C(O){if(typeof O=="number")return(O=O===void 0?1:O)===0?A:w[O-1];for(var L=0,F=w.length;L<F;){if(w[L]._name===O)return w[L];L+=1}return null}return C.propertyGroup=propertyGroupFactory(C,function(){return A}),w=t(S,T,C.propertyGroup),C.numProperties=w.length,C._name="Contents",C}}(),TextExpressionInterface=function(t){var e;function n(o){switch(o){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return e&&o===e.value||((e=new String(o)).value=o||new String(o),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n};function _typeof(t){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(n){return n==="Outline"?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(n){var o="",l=n.getFootageData();function u(h){if(l[h])return o=h,_typeof(l=l[h])==="object"?u:l;var f=h.indexOf(o);if(f!==-1){var d=parseInt(h.substr(f+o.length),10);return _typeof(l=l[d])==="object"?u:l}return""}return function(){return o="",l=n.getFootageData(),u}}(t),e},function(t){function e(n){return n==="Data"?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),o=0;if(e.length){var l;for(l=0;l<e.length;l+=1)o+=Math.pow(n[l]-e[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(t){if(this.vel!==void 0)return this.vel;var e,n,o=this.getValueAtTime(t),l=this.getValueAtTime(t+-.001);if(o.length)for(e=createTypedArray("float32",o.length),n=0;n<o.length;n+=1)e[n]=(l[n]-o[n])/-.001;else e=(l-o)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(v,_,S){if(!this.k||!this.keyframes)return this.pv;v=v?v.toLowerCase():"";var T,A,w,C,O,L=this.comp.renderedFrame,F=this.keyframes,B=F[F.length-1].t;if(L<=B)return this.pv;if(S?A=B-(T=_?Math.abs(B-this.elem.comp.globalData.frameRate*_):Math.max(0,B-this.elem.data.ip)):((!_||_>F.length-1)&&(_=F.length-1),T=B-(A=F[F.length-1-_].t)),v==="pingpong"){if(Math.floor((L-A)/T)%2!=0)return this.getValueAtTime((T-(L-A)%T+A)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var U=this.getValueAtTime(A/this.comp.globalData.frameRate,0),V=this.getValueAtTime(B/this.comp.globalData.frameRate,0),q=this.getValueAtTime(((L-A)%T+A)/this.comp.globalData.frameRate,0),H=Math.floor((L-A)/T);if(this.pv.length){for(C=(O=new Array(U.length)).length,w=0;w<C;w+=1)O[w]=(V[w]-U[w])*H+q[w];return O}return(V-U)*H+q}if(v==="continue"){var G=this.getValueAtTime(B/this.comp.globalData.frameRate,0),Y=this.getValueAtTime((B-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(C=(O=new Array(G.length)).length,w=0;w<C;w+=1)O[w]=G[w]+(G[w]-Y[w])*((L-B)/this.comp.globalData.frameRate)/5e-4;return O}return G+(L-B)/.001*(G-Y)}}return this.getValueAtTime(((L-A)%T+A)/this.comp.globalData.frameRate,0)}function e(v,_,S){if(!this.k)return this.pv;v=v?v.toLowerCase():"";var T,A,w,C,O,L=this.comp.renderedFrame,F=this.keyframes,B=F[0].t;if(L>=B)return this.pv;if(S?A=B+(T=_?Math.abs(this.elem.comp.globalData.frameRate*_):Math.max(0,this.elem.data.op-B)):((!_||_>F.length-1)&&(_=F.length-1),T=(A=F[_].t)-B),v==="pingpong"){if(Math.floor((B-L)/T)%2==0)return this.getValueAtTime(((B-L)%T+B)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var U=this.getValueAtTime(B/this.comp.globalData.frameRate,0),V=this.getValueAtTime(A/this.comp.globalData.frameRate,0),q=this.getValueAtTime((T-(B-L)%T+B)/this.comp.globalData.frameRate,0),H=Math.floor((B-L)/T)+1;if(this.pv.length){for(C=(O=new Array(U.length)).length,w=0;w<C;w+=1)O[w]=q[w]-(V[w]-U[w])*H;return O}return q-(V-U)*H}if(v==="continue"){var G=this.getValueAtTime(B/this.comp.globalData.frameRate,0),Y=this.getValueAtTime((B+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(C=(O=new Array(G.length)).length,w=0;w<C;w+=1)O[w]=G[w]+(G[w]-Y[w])*(B-L)/.001;return O}return G+(G-Y)*(B-L)/.001}}return this.getValueAtTime((T-((B-L)%T+B))/this.comp.globalData.frameRate,0)}function n(v,_){if(!this.k)return this.pv;if(v=.5*(v||.4),(_=Math.floor(_||5))<=1)return this.pv;var S,T,A=this.comp.renderedFrame/this.comp.globalData.frameRate,w=A-v,C=_>1?(A+v-w)/(_-1):1,O=0,L=0;for(S=this.pv.length?createTypedArray("float32",this.pv.length):0;O<_;){if(T=this.getValueAtTime(w+O*C),this.pv.length)for(L=0;L<this.pv.length;L+=1)S[L]+=T[L];else S+=T;O+=1}if(this.pv.length)for(L=0;L<this.pv.length;L+=1)S[L]/=_;else S/=_;return S}function o(v){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var _=this._transformCachingAtTime.v;if(_.cloneFromProps(this.pre.props),this.appliedTransformations<1){var S=this.a.getValueAtTime(v);_.translate(-S[0]*this.a.mult,-S[1]*this.a.mult,S[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(v);_.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var A=this.sk.getValueAtTime(v),w=this.sa.getValueAtTime(v);_.skewFromAxis(-A*this.sk.mult,w*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var C=this.r.getValueAtTime(v);_.rotate(-C*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var O=this.rz.getValueAtTime(v),L=this.ry.getValueAtTime(v),F=this.rx.getValueAtTime(v),B=this.or.getValueAtTime(v);_.rotateZ(-O*this.rz.mult).rotateY(L*this.ry.mult).rotateX(F*this.rx.mult).rotateZ(-B[2]*this.or.mult).rotateY(B[1]*this.or.mult).rotateX(B[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var U=this.px.getValueAtTime(v),V=this.py.getValueAtTime(v);if(this.data.p.z){var q=this.pz.getValueAtTime(v);_.translate(U*this.px.mult,V*this.py.mult,-q*this.pz.mult)}else _.translate(U*this.px.mult,V*this.py.mult,0)}else{var H=this.p.getValueAtTime(v);_.translate(H[0]*this.p.mult,H[1]*this.p.mult,-H[2]*this.p.mult)}return _}function l(){return this.v.clone(new Matrix)}var u=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(v,_,S){var T=u(v,_,S);return T.dynamicProperties.length?T.getValueAtTime=o.bind(T):T.getValueAtTime=l.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(v,_,S,T,A){var w=h(v,_,S,T,A);w.kf?w.getValueAtTime=expressionHelpers.getValueAtTime.bind(w):w.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(w),w.setGroupProperty=expressionHelpers.setGroupProperty,w.loopOut=t,w.loopIn=e,w.smooth=n,w.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(w),w.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(w),w.numKeys=_.a===1?_.k.length:0,w.propertyIndex=_.ix;var C=0;return S!==0&&(C=createTypedArray("float32",_.a===1?_.k[0].s.length:_.k.length)),w._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:C},expressionHelpers.searchExpressions(v,_,w),w.k&&A.addDynamicProperty(w),w};var f=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();function p(){}p.prototype={vertices:function(v,_){this.k&&this.getValue();var S,T=this.v;_!==void 0&&(T=this.getValueAtTime(_,0));var A=T._length,w=T[v],C=T.v,O=createSizedArray(A);for(S=0;S<A;S+=1)O[S]=v==="i"||v==="o"?[w[S][0]-C[S][0],w[S][1]-C[S][1]]:[w[S][0],w[S][1]];return O},points:function(v){return this.vertices("v",v)},inTangents:function(v){return this.vertices("i",v)},outTangents:function(v){return this.vertices("o",v)},isClosed:function(){return this.v.c},pointOnPath:function(v,_){var S=this.v;_!==void 0&&(S=this.getValueAtTime(_,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(S));for(var T,A=this._segmentsLength,w=A.lengths,C=A.totalLength*v,O=0,L=w.length,F=0;O<L;){if(F+w[O].addedLength>C){var B=O,U=S.c&&O===L-1?0:O+1,V=(C-F)/w[O].addedLength;T=bez.getPointInSegment(S.v[B],S.v[U],S.o[B],S.i[U],V,w[O]);break}F+=w[O].addedLength,O+=1}return T||(T=S.c?[S.v[0][0],S.v[0][1]]:[S.v[S._length-1][0],S.v[S._length-1][1]]),T},vectorOnPath:function(v,_,S){v==1?v=this.v.c:v==0&&(v=.999);var T=this.pointOnPath(v,_),A=this.pointOnPath(v+.001,_),w=A[0]-T[0],C=A[1]-T[1],O=Math.sqrt(Math.pow(w,2)+Math.pow(C,2));return O===0?[0,0]:S==="tangent"?[w/O,C/O]:[-C/O,w/O]},tangentOnPath:function(v,_){return this.vectorOnPath(v,_,"tangent")},normalOnPath:function(v,_){return this.vectorOnPath(v,_,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([p],f),extendPrototype([p],d),d.prototype.getValueAtTime=function(v){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),v*=this.elem.globalData.frameRate,(v-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<v?this._caching.lastIndex:0,this._cachingAtTime.lastTime=v,this.interpolateShape(v,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},d.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(v,_,S,T,A){var w=m(v,_,S,T,A);return w.propertyIndex=_.ix,w.lock=!1,S===3?expressionHelpers.searchExpressions(v,_.pt,w):S===4&&expressionHelpers.searchExpressions(v,_.ks,w),w.k&&v.addDynamicProperty(w),w}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var o={};return this.copyData(o,t),o.t=n.toString(),o.__complete=!1,o}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,o,l=createNS("feMerge");for(l.setAttribute("result",t),o=0;o<e.length;o+=1)(n=createNS("feMergeNode")).setAttribute("in",e[o]),l.appendChild(n),l.appendChild(n);return l}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,o,l){this.filterManager=e;var u=createNS("feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","linearRGB"),u.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=u,u.setAttribute("result",o+"_tint_1"),t.appendChild(u),(u=createNS("feColorMatrix")).setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),u.setAttribute("result",o+"_tint_2"),t.appendChild(u),this.matrixFilter=u;var h=this.createMergeNode(o,[l,o+"_tint_1",o+"_tint_2"]);t.appendChild(h)}function SVGFillFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",o),t.appendChild(l),this.matrixFilter=l}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(l);var u=createNS("feComponentTransfer");u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),this.matrixFilter=u;var h=createNS("feFuncR");h.setAttribute("type","table"),u.appendChild(h),this.feFuncR=h;var f=createNS("feFuncG");f.setAttribute("type","table"),u.appendChild(f),this.feFuncG=f;var d=createNS("feFuncB");d.setAttribute("type","table"),u.appendChild(d),this.feFuncB=d,t.appendChild(u)}function SVGProLevelsFilter(t,e,n,o){this.filterManager=e;var l=this.filterManager.effectElements,u=createNS("feComponentTransfer");(l[10].p.k||l[10].p.v!==0||l[11].p.k||l[11].p.v!==1||l[12].p.k||l[12].p.v!==1||l[13].p.k||l[13].p.v!==0||l[14].p.k||l[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",u)),(l[17].p.k||l[17].p.v!==0||l[18].p.k||l[18].p.v!==1||l[19].p.k||l[19].p.v!==1||l[20].p.k||l[20].p.v!==0||l[21].p.k||l[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",u)),(l[24].p.k||l[24].p.v!==0||l[25].p.k||l[25].p.v!==1||l[26].p.k||l[26].p.v!==1||l[27].p.k||l[27].p.v!==0||l[28].p.k||l[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",u)),(l[31].p.k||l[31].p.v!==0||l[32].p.k||l[32].p.v!==1||l[33].p.k||l[33].p.v!==1||l[34].p.k||l[34].p.v!==0||l[35].p.k||l[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",u)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(u.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(u)),(l[3].p.k||l[3].p.v!==0||l[4].p.k||l[4].p.v!==1||l[5].p.k||l[5].p.v!==1||l[6].p.k||l[6].p.v!==0||l[7].p.k||l[7].p.v!==1)&&((u=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),t.appendChild(u),this.feFuncRComposed=this.createFeFunc("feFuncR",u),this.feFuncGComposed=this.createFeFunc("feFuncG",u),this.feFuncBComposed=this.createFeFunc("feFuncB",u))}function SVGDropShadowEffect(t,e,n,o,l){var u=e.container.globalData.renderConfig.filterSize,h=e.data.fs||u;t.setAttribute("x",h.x||u.x),t.setAttribute("y",h.y||u.y),t.setAttribute("width",h.width||u.width),t.setAttribute("height",h.height||u.height),this.filterManager=e;var f=createNS("feGaussianBlur");f.setAttribute("in","SourceAlpha"),f.setAttribute("result",o+"_drop_shadow_1"),f.setAttribute("stdDeviation","0"),this.feGaussianBlur=f,t.appendChild(f);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",o+"_drop_shadow_1"),d.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=d,t.appendChild(d);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=p,t.appendChild(p);var m=createNS("feComposite");m.setAttribute("in",o+"_drop_shadow_3"),m.setAttribute("in2",o+"_drop_shadow_2"),m.setAttribute("operator","in"),m.setAttribute("result",o+"_drop_shadow_4"),t.appendChild(m);var v=this.createMergeNode(o,[o+"_drop_shadow_4",l]);t.appendChild(v)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,n=0):o=(n=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<o;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(this.filterManager.effectElements[10].p.v===3){var u=createNS("mask"),h=createElementID();u.setAttribute("id",h),u.setAttribute("mask-type","alpha"),u.appendChild(e),this.elem.globalData.defs.appendChild(u);var f=createNS("g");for(f.setAttribute("mask","url("+getLocationHref()+"#"+h+")");l[0];)f.appendChild(l[0]);this.elem.layerElement.appendChild(f),this.masker=u,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,o,l=this.paths.length;for(e=0;e<l;e+=1)if(this.paths[e].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&o.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var u;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var h=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),f=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),d=o.getTotalLength();u="0 0 0 "+d*h+" ";var p,m=d*(f-h),v=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,_=Math.floor(m/v);for(p=0;p<_;p+=1)u+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";u+="0 "+10*d+" 0 0"}else u="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",u)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var S=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*S[0])+","+bmFloor(255*S[1])+","+bmFloor(255*S[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+n[0]+" "+e[0],u=o[1]+" "+n[1]+" "+e[1],h=o[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",u),this.feFuncB.setAttribute("tableValues",h)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,o,l){for(var u,h,f=0,d=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:256}),v=0,_=l-o,S=e-t;f<=256;)h=(u=f/256)<=d?S<0?l:o:u>=p?S<0?o:l:o+_*Math.pow((u-t)/S,1/n),m[v]=h,v+=1,f+=256/255;return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=n*Math.cos(o),u=n*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",u)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,o){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var l=createNS("feGaussianBlur");l.setAttribute("result",o),t.appendChild(l),this.feGaussianBlur=l}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var o,l=n.children,u=0,h=l.length;u<h&&l[u]!==t.layerElement;)u+=1;u<=h-2&&(o=l[u+1]);var f=createNS("use");f.setAttribute("href","#"+e),o?n.insertBefore(f,o):n.appendChild(f)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var l=t.globalData.defs;l.appendChild(o);var u=createNS("symbol");u.setAttribute("id",n),this.replaceInParent(e,n),u.appendChild(e.layerElement),l.appendChild(u);var h=createNS("use");h.setAttribute("href","#"+n),o.appendChild(h),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,o=e.length;n<o;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=n==3?0:e,l=n==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var u=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",u)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,o=e[1].p.v,l=e[2].p.v===1,u=e[3].p.v,h=l?u:e[4].p.v,f=e[5].p.v,d=e[6].p.v,p=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*h,.01*u,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-f*degToRads,(d+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.6.0",LOTTIE_WEB_VERSION="^5.12.2",PlayerState,PlayerEvent;function parseSrc(t){if(typeof t=="object")return t;try{return JSON.parse(t)}catch{}try{return new URL(t).toString()}catch{}return t}(function(t){t.Loading="loading",t.Playing="playing",t.Paused="paused",t.Stopped="stopped",t.Frozen="frozen",t.Error="error"})(PlayerState||(PlayerState={})),function(t){t.Load="load",t.InstanceSaved="instanceSaved",t.Error="error",t.Ready="ready",t.Play="play",t.Pause="pause",t.Stop="stop",t.Freeze="freeze",t.Loop="loop",t.Complete="complete",t.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(t){function e(n){var o=t.call(this,n)||this;return o.container=null,o.unmounted=!1,o.handleBgChange=function(l){o.setState({background:l})},o.triggerDownload=function(l,u){var h=document.createElement("a");h.href=l,h.download=u,document.body.appendChild(h),h.click(),document.body.removeChild(h)},o.snapshot=function(l){var u;l===void 0&&(l=!0);var h=o.props.id?o.props.id:"lottie",f=document.getElementById(h);if(o.props.renderer==="svg"){if(f){var d=f.querySelector("svg");if(d){var p=new XMLSerializer().serializeToString(d);u="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(p)}}l&&o.triggerDownload(u,"snapshot.svg")}else if(o.props.renderer==="canvas"){if(f){var m=f.querySelector("canvas");m&&(u=m.toDataURL("image/png"))}l&&o.triggerDownload(u,"snapshot.png")}return u},typeof window<"u"&&(window.lottie=lottie),o.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},o}return __extends(e,t),e.getDerivedStateFromProps=function(n,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(l){return n.background!==o.background?[2,{background:n.background}]:[2,null]})})},e.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},e.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},e.prototype.componentDidUpdate=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return this.props.src===n.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.render=function(){var n=this,o=this.props,l=o.children,u=o.loop,h=o.style,f=o.onBackgroundChange,d=o.className,p=this.state,m=p.animationData,v=p.instance,_=p.playerState,S=p.seeker,T=p.debug,A=p.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(w){return n.container=w},style:__assign({background:A,margin:"0 auto",outline:"none",overflow:"hidden"},h),className:d}),reactExports.Children.map(l,function(w){return reactExports.isValidElement(w)?reactExports.cloneElement(w,{animationData:m,background:A,debug:T,instance:v,loop:u,pause:function(){return n.pause()},play:function(){return n.play()},playerState:_,seeker:S,setBackground:function(C){n.setState({background:C}),typeof f=="function"&&f(C)},setSeeker:function(C,O){return n.setSeeker(C,O)},stop:function(){return n.stop()},toggleDebug:function(){return n.toggleDebug()},setLoop:function(C){return n.setLoop(C)},colorChangedEvent:function(C){n.handleBgChange(C)},snapshot:function(){n.snapshot()}}):null}))},e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},e.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,function(){var n,o,l,u,h,f,d,p,m,v,_,S,T,A,w=this;return __generator(this,function(C){switch(C.label){case 0:if(n=this.props,o=n.autoplay,l=n.direction,u=n.loop,h=n.lottieRef,f=n.renderer,d=n.speed,p=n.src,m=n.background,v=n.rendererSettings,_=n.hover,S=this.state.instance,!p||!this.container)return[2];C.label=1;case 1:return C.trys.push([1,5,,6]),typeof(T=parseSrc(p))!="string"?[3,4]:[4,fetch(T).catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,C.sent().json().catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:T=C.sent(),C.label=4;case 4:return S&&S.destroy(),A=lottie.loadAnimation({rendererSettings:v||defaultOptions,animationData:T,autoplay:o||!1,container:this.container,loop:u||!1,renderer:f}),d&&A.setSpeed(d),this.setState({animationData:T}),this.setState({instance:A},function(){w.triggerEvent(PlayerEvent.InstanceSaved),typeof h=="function"&&h(A),o&&w.play()}),A.addEventListener("enterFrame",function(){w.triggerEvent(PlayerEvent.Frame),w.setState({seeker:Math.floor(A.currentFrame)})}),A.addEventListener("DOMLoaded",function(){w.triggerEvent(PlayerEvent.Load)}),A.addEventListener("data_ready",function(){w.triggerEvent(PlayerEvent.Ready)}),A.addEventListener("data_failed",function(){w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error)}),A.addEventListener("loopComplete",function(){w.triggerEvent(PlayerEvent.Loop)}),A.addEventListener("complete",function(){w.triggerEvent(PlayerEvent.Complete),w.setState({playerState:PlayerState.Paused}),w.props.keepLastFrame&&!w.props.loop||w.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){_&&w.state.playerState!==PlayerState.Playing&&(w.props.keepLastFrame&&w.stop(),w.play())}),this.container.addEventListener("mouseleave",function(){_&&w.state.playerState===PlayerState.Playing&&w.stop()})),d&&this.setPlayerSpeed(d),l&&this.setPlayerDirection(l),m&&this.setState({background:m}),[3,6];case 5:return C.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},e.prototype.play=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Play),n.play(),this.setState({playerState:PlayerState.Playing}))},e.prototype.pause=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Pause),n.pause(),this.setState({playerState:PlayerState.Paused}))},e.prototype.stop=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Stop),n.stop(),this.setState({playerState:PlayerState.Stopped}))},e.prototype.setPlayerSpeed=function(n){var o=this.state.instance;o&&o.setSpeed(n)},e.prototype.setPlayerDirection=function(n){var o=this.state.instance;o&&o.setDirection(n)},e.prototype.setSeeker=function(n,o){o===void 0&&(o=!1);var l=this.state,u=l.instance,h=l.playerState;u&&(o&&h===PlayerState.Playing?u.goToAndPlay(n,!0):(u.goToAndStop(n,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},e.prototype.setLoop=function(n){var o=this.state.instance;o&&(o.loop=n,this.setState({instance:o}))},e.prototype.triggerEvent=function(n){var o=this.props.onEvent;o&&o(n)},e.defaultProps={loop:!1},e}(reactExports.Component);function styleInject(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},n.handleChange=function(o,l){if(o==="r"){var u="#"+(256|l).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1);n.setState({hex:u})}else o==="g"?(u="#"+(256|n.state.red).toString(16).slice(1)+(256|l).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1),n.setState({hex:u})):o==="b"&&(u="#"+(256|n.state.red).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|l).toString(16).slice(1),n.setState({hex:u}))},n.parseColor=function(o){var l;if(typeof o=="string"){if(o[0]==="#"){var u=o.length===4?[o.slice(1,2),o.slice(2,3),o.slice(3,4)].map(function(h){return parseInt(""+h+h,16)}):[o.slice(1,3),o.slice(3,5),o.slice(5,7)].map(function(h){return parseInt(h,16)});n.setState({colorComponents:u})}else o.startsWith("rgb")&&(u=(l=o.match(/\d+/g))===null||l===void 0?void 0:l.map(function(h){return parseInt(h)}))!==void 0&&n.setState({colorComponents:u});n.state.colorComponents.length&&(n.setState({red:n.state.colorComponents[0]}),n.setState({green:n.state.colorComponents[1]}),n.setState({blue:n.state.colorComponents[2]}))}},n}return __extends(e,t),e.prototype.componentDidUpdate=function(n,o){return this.props.colorChangedEvent&&this.state.hex!==o.hex&&this.props.colorChangedEvent(this.state.hex),!0},e.prototype.render=function(){var n=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(o){n.setState({hex:o.target.value}),n.parseColor(o.target.value)}}))))},e}(reactExports.Component),Popover=function(t){var e=t.children,n=t.icon,o=reactExports.useState(null),l=o[0],u=o[1],h=reactExports.useState(null),f=h[0],d=h[1],p=reactExports.useState(null),m=p[0],v=p[1],_=reactExports.useState(!1),S=_[0],T=_[1];return reactExports.useEffect(function(){if(l&&f){var A=l.getBoundingClientRect(),w=f.getBoundingClientRect(),C=A.left+w.width>window.innerWidth?-1:0;v(C)}},[m,f,l]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){T(!0)},onMouseLeave:function(){T(!1)},ref:function(A){u(A)}},reactExports.createElement("div",{className:" lf-player-btn"},n),reactExports.createElement("div",{className:"lf-popover-content",ref:function(A){d(A)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:S?"visible":"hidden"}},e))},Seeker=function(t){function e(n){var o=t.call(this,n)||this;return o.inputRef=reactExports.createRef(),o.handleChange=function(){return function(l){var u=l.target.value,h=Math.floor(u/100*o.props.max);o.props.onChange(h)}},o.state={value:0},o}return __extends(e,t),e.prototype.render=function(){var n=this.props.value/this.props.max*100,o={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+n+"%, rgba(15, 204, 206, 0.4)), color-stop("+n+"%, #DAE1E7))"},l={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},u={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:n,onInput:this.handleChange(),onChange:this.handleChange(),style:o}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:l},this.props.min),reactExports.createElement("div",{style:u},this.props.max)))},e}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"};(function(t){function e(n){var o=t.call(this,n)||this;return o.state={activeFrame:0,mouseDown:!1},o}return __extends(e,t),e.prototype.render=function(){var n=this,o=this.props,l=o.instance,u=o.playerState,h=o.seeker,f=o.setLoop,d=o.setSeeker,p=o.play,m=o.pause,v=o.stop,_=o.visible,S=o.buttons;if(!l||!_)return null;var T=!S||S.includes("play"),A=!S||S.includes("stop"),w=!S||S.includes("repeat"),C=!S||S.includes("frame"),O=!S||S.includes("background"),L=!S||S.includes("snapshot"),F={width:14,height:14,viewBox:"0 0 24 24"},B=Math.round(l.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},T&&reactExports.createElement("div",{role:"button","aria-label":u===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},onKeyDown:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},className:"lf-player-btn",style:ControlButtonStyle},u===PlayerState.Playing?reactExports.createElement("svg",__assign({},F),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),A&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return v&&v()},onKeyDown:function(){return v&&v()},className:u===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:l?l.totalFrames:1,value:h||0,onChange:function(U){d&&n.setState({activeFrame:U},function(){d(U,!1)})},onChangeEnd:function(U){d&&n.setState({activeFrame:U},function(){d(U,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),C&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:B,readOnly:!0})),w&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){l&&f&&f(!l.loop)},onKeyDown:function(){l&&f&&f(!l.loop)},className:l.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),O&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),L&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(U){d&&d(B+(U.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",B),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},e})(reactExports.Component);const Bird=({delay:t=0,reverse:e=!1})=>{const[n,o]=useInView({triggerOnce:!1,threshold:0}),l={y:[0,-15,0],x:e?[-1e3,window.innerWidth+100]:[window.innerWidth+100,-1e3]};return jsxRuntimeExports.jsx(motion.div,{ref:n,initial:{x:e?-100:window.innerWidth+100},animate:o?l:{},transition:{duration:20,delay:t,repeat:1/0,ease:"linear"},className:"absolute",style:{top:`${Math.random()*80}%`},children:jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,8,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:e?[-5,5,-5]:[5,-5,5]},transition:{duration:.5,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(Player,{autoplay:!0,loop:!0,src:"https://lottie.host/2a41d144-a431-47f9-8afb-210c2a5e0677/kDSHlpH8Aq.json",style:{width:"50px",height:"50px"}})})})})},FlyingBirds=()=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:[...Array(6)].map((t,e)=>jsxRuntimeExports.jsx(Bird,{delay:e*2,reverse:e%2===0},e))}),generateMockData=()=>{const t=[];for(let o=0;o<8;o++)for(let l=0;l<8;l++){const u=(o-4)*2.5,h=(l-8/2)*2.5,f=Math.abs(u),d=Math.random()*10,p=Math.min(95,Math.max(20,f<2?85+d:f<4?60+d:30+d)),m=Math.min(100,p+15+Math.random()*5);t.push({id:`region-${o}-${l}`,name:`Field ${String.fromCharCode(65+o)}${l+1}`,x:u,z:h,width:2,depth:2,dry:{waterAccessLevel:Math.round(p),precipitation:Math.round(100+Math.random()*150),temperature:Math.round(28+Math.random()*5),soilMoisture:Math.round(p*.8),lastUpdated:new Date},wet:{waterAccessLevel:Math.round(m),precipitation:Math.round(300+Math.random()*200),temperature:Math.round(24+Math.random()*3),soilMoisture:Math.round(m*.9),lastUpdated:new Date}})}return t},AppContext=reactExports.createContext(void 0),AppProvider=({children:t})=>{const[e,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,h]=reactExports.useState("dry");reactExports.useEffect(()=>{l(!0),setTimeout(()=>{const d=generateMockData();n(d),l(!1)},1500)},[]),reactExports.useEffect(()=>{l(!0),setTimeout(()=>{l(!1)},800)},[u]);const f=()=>{h(d=>d==="dry"?"wet":"dry")};return jsxRuntimeExports.jsx(AppContext.Provider,{value:{regions:e,isLoading:o,seasonType:u,setSeasonType:h,toggleSimulation:f},children:t})},useAppContext=()=>{const t=reactExports.useContext(AppContext);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t},Header=()=>(useAppContext(),jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-200 py-8 px-4 flex items-center justify-between shadow-sm"}));/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="177",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001,TimestampQuery={COMPUTE:"compute",RENDER:"render"},InterpolationSamplingType={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},InterpolationSamplingMode={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let EventDispatcher$1=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){const o=this._listeners;return o===void 0?!1:o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){const o=this._listeners;if(o===void 0)return;const l=o[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const o=n[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,h=l.length;u<h;u++)l[u].call(this,e);e.target=null}}};const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(_lut$1[t&255]+_lut$1[t>>8&255]+_lut$1[t>>16&255]+_lut$1[t>>24&255]+"-"+_lut$1[e&255]+_lut$1[e>>8&255]+"-"+_lut$1[e>>16&15|64]+_lut$1[e>>24&255]+"-"+_lut$1[n&63|128]+_lut$1[n>>8&255]+"-"+_lut$1[n>>16&255]+_lut$1[n>>24&255]+_lut$1[o&255]+_lut$1[o>>8&255]+_lut$1[o>>16&255]+_lut$1[o>>24&255]).toLowerCase()}function clamp(t,e,n){return Math.max(e,Math.min(n,t))}function euclideanModulo(t,e){return(t%e+e)%e}function mapLinear(t,e,n,o,l){return o+(t-e)*(l-o)/(n-e)}function inverseLerp(t,e,n){return t!==e?(n-t)/(e-t):0}function lerp(t,e,n){return(1-n)*t+n*e}function damp(t,e,n,o){return lerp(t,e,1-Math.exp(-n*o))}function pingpong(t,e=1){return e-Math.abs(euclideanModulo(t,e*2)-e)}function smoothstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function smootherstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function randInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function randFloat(t,e){return t+Math.random()*(e-t)}function randFloatSpread(t){return t*(.5-Math.random())}function seededRandom(t){t!==void 0&&(_seed=t);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(t){return t*DEG2RAD}function radToDeg(t){return t*RAD2DEG}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function ceilPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function setQuaternionFromProperEuler(t,e,n,o,l){const u=Math.cos,h=Math.sin,f=u(n/2),d=h(n/2),p=u((e+o)/2),m=h((e+o)/2),v=u((e-o)/2),_=h((e-o)/2),S=u((o-e)/2),T=h((o-e)/2);switch(l){case"XYX":t.set(f*m,d*v,d*_,f*p);break;case"YZY":t.set(d*_,f*m,d*v,f*p);break;case"ZXZ":t.set(d*v,d*_,f*m,f*p);break;case"XZX":t.set(f*m,d*T,d*S,f*p);break;case"YXY":t.set(d*S,f*m,d*T,f*p);break;case"ZYZ":t.set(d*T,d*S,f*m,f*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$1,denormalize};class Vector2{constructor(e=0,n=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,o=this.y,l=e.elements;return this.x=l[0]*n+l[3]*o+l[6],this.y=l[1]*n+l[4]*o+l[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=clamp(this.x,e.x,n.x),this.y=clamp(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=clamp(this.x,e,n),this.y=clamp(this.y,e,n),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(clamp(o,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y;return n*n+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const o=Math.cos(n),l=Math.sin(n),u=this.x-e.x,h=this.y-e.y;return this.x=u*o-h*l+e.x,this.y=u*l+h*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Quaternion{constructor(e=0,n=0,o=0,l=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=o,this._w=l}static slerpFlat(e,n,o,l,u,h,f){let d=o[l+0],p=o[l+1],m=o[l+2],v=o[l+3];const _=u[h+0],S=u[h+1],T=u[h+2],A=u[h+3];if(f===0){e[n+0]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v;return}if(f===1){e[n+0]=_,e[n+1]=S,e[n+2]=T,e[n+3]=A;return}if(v!==A||d!==_||p!==S||m!==T){let w=1-f;const C=d*_+p*S+m*T+v*A,O=C>=0?1:-1,L=1-C*C;if(L>Number.EPSILON){const B=Math.sqrt(L),U=Math.atan2(B,C*O);w=Math.sin(w*U)/B,f=Math.sin(f*U)/B}const F=f*O;if(d=d*w+_*F,p=p*w+S*F,m=m*w+T*F,v=v*w+A*F,w===1-f){const B=1/Math.sqrt(d*d+p*p+m*m+v*v);d*=B,p*=B,m*=B,v*=B}}e[n]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v}static multiplyQuaternionsFlat(e,n,o,l,u,h){const f=o[l],d=o[l+1],p=o[l+2],m=o[l+3],v=u[h],_=u[h+1],S=u[h+2],T=u[h+3];return e[n]=f*T+m*v+d*S-p*_,e[n+1]=d*T+m*_+p*v-f*S,e[n+2]=p*T+m*S+f*_-d*v,e[n+3]=m*T-f*v-d*_-p*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,o,l){return this._x=e,this._y=n,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const o=e._x,l=e._y,u=e._z,h=e._order,f=Math.cos,d=Math.sin,p=f(o/2),m=f(l/2),v=f(u/2),_=d(o/2),S=d(l/2),T=d(u/2);switch(h){case"XYZ":this._x=_*m*v+p*S*T,this._y=p*S*v-_*m*T,this._z=p*m*T+_*S*v,this._w=p*m*v-_*S*T;break;case"YXZ":this._x=_*m*v+p*S*T,this._y=p*S*v-_*m*T,this._z=p*m*T-_*S*v,this._w=p*m*v+_*S*T;break;case"ZXY":this._x=_*m*v-p*S*T,this._y=p*S*v+_*m*T,this._z=p*m*T+_*S*v,this._w=p*m*v-_*S*T;break;case"ZYX":this._x=_*m*v-p*S*T,this._y=p*S*v+_*m*T,this._z=p*m*T-_*S*v,this._w=p*m*v+_*S*T;break;case"YZX":this._x=_*m*v+p*S*T,this._y=p*S*v+_*m*T,this._z=p*m*T-_*S*v,this._w=p*m*v-_*S*T;break;case"XZY":this._x=_*m*v-p*S*T,this._y=p*S*v-_*m*T,this._z=p*m*T+_*S*v,this._w=p*m*v+_*S*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+h)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const o=n/2,l=Math.sin(o);return this._x=e.x*l,this._y=e.y*l,this._z=e.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,o=n[0],l=n[4],u=n[8],h=n[1],f=n[5],d=n[9],p=n[2],m=n[6],v=n[10],_=o+f+v;if(_>0){const S=.5/Math.sqrt(_+1);this._w=.25/S,this._x=(m-d)*S,this._y=(u-p)*S,this._z=(h-l)*S}else if(o>f&&o>v){const S=2*Math.sqrt(1+o-f-v);this._w=(m-d)/S,this._x=.25*S,this._y=(l+h)/S,this._z=(u+p)/S}else if(f>v){const S=2*Math.sqrt(1+f-o-v);this._w=(u-p)/S,this._x=(l+h)/S,this._y=.25*S,this._z=(d+m)/S}else{const S=2*Math.sqrt(1+v-o-f);this._w=(h-l)/S,this._x=(u+p)/S,this._y=(d+m)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let o=e.dot(n)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,n){const o=this.angleTo(e);if(o===0)return this;const l=Math.min(1,n/o);return this.slerp(e,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const o=e._x,l=e._y,u=e._z,h=e._w,f=n._x,d=n._y,p=n._z,m=n._w;return this._x=o*m+h*f+l*p-u*d,this._y=l*m+h*d+u*f-o*p,this._z=u*m+h*p+o*d-l*f,this._w=h*m-o*f-l*d-u*p,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const o=this._x,l=this._y,u=this._z,h=this._w;let f=h*e._w+o*e._x+l*e._y+u*e._z;if(f<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,f=-f):this.copy(e),f>=1)return this._w=h,this._x=o,this._y=l,this._z=u,this;const d=1-f*f;if(d<=Number.EPSILON){const S=1-n;return this._w=S*h+n*this._w,this._x=S*o+n*this._x,this._y=S*l+n*this._y,this._z=S*u+n*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,f),v=Math.sin((1-n)*m)/p,_=Math.sin(n*m)/p;return this._w=h*v+this._w*_,this._x=o*v+this._x*_,this._y=l*v+this._y*_,this._z=u*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,n,o){return this.copy(e).slerp(n,o)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),o=Math.random(),l=Math.sqrt(1-o),u=Math.sqrt(o);return this.set(l*Math.sin(e),l*Math.cos(e),u*Math.sin(n),u*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,n=0,o=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=n,this.z=o}set(e,n,o){return o===void 0&&(o=this.z),this.x=e,this.y=n,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[3]*o+u[6]*l,this.y=u[1]*n+u[4]*o+u[7]*l,this.z=u[2]*n+u[5]*o+u[8]*l,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=e.elements,h=1/(u[3]*n+u[7]*o+u[11]*l+u[15]);return this.x=(u[0]*n+u[4]*o+u[8]*l+u[12])*h,this.y=(u[1]*n+u[5]*o+u[9]*l+u[13])*h,this.z=(u[2]*n+u[6]*o+u[10]*l+u[14])*h,this}applyQuaternion(e){const n=this.x,o=this.y,l=this.z,u=e.x,h=e.y,f=e.z,d=e.w,p=2*(h*l-f*o),m=2*(f*n-u*l),v=2*(u*o-h*n);return this.x=n+d*p+h*v-f*m,this.y=o+d*m+f*p-u*v,this.z=l+d*v+u*m-h*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[4]*o+u[8]*l,this.y=u[1]*n+u[5]*o+u[9]*l,this.z=u[2]*n+u[6]*o+u[10]*l,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=clamp(this.x,e.x,n.x),this.y=clamp(this.y,e.y,n.y),this.z=clamp(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=clamp(this.x,e,n),this.y=clamp(this.y,e,n),this.z=clamp(this.z,e,n),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(clamp(o,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const o=e.x,l=e.y,u=e.z,h=n.x,f=n.y,d=n.z;return this.x=l*d-u*f,this.y=u*h-o*d,this.z=o*f-l*h,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const o=e.dot(this)/n;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y,l=this.z-e.z;return n*n+o*o+l*l}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,o){const l=Math.sin(n)*e;return this.x=l*Math.sin(o),this.y=Math.cos(n)*e,this.z=l*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,o){return this.x=e*Math.sin(n),this.y=o,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),l=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=o,this.z=l,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,o=Math.sqrt(1-n*n);return this.x=o*Math.cos(e),this.y=n,this.z=o*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Matrix3{constructor(e,n,o,l,u,h,f,d,p){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,h,f,d,p)}set(e,n,o,l,u,h,f,d,p){const m=this.elements;return m[0]=e,m[1]=l,m[2]=f,m[3]=n,m[4]=u,m[5]=d,m[6]=o,m[7]=h,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],this}extractBasis(e,n,o){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,h=o[0],f=o[3],d=o[6],p=o[1],m=o[4],v=o[7],_=o[2],S=o[5],T=o[8],A=l[0],w=l[3],C=l[6],O=l[1],L=l[4],F=l[7],B=l[2],U=l[5],V=l[8];return u[0]=h*A+f*O+d*B,u[3]=h*w+f*L+d*U,u[6]=h*C+f*F+d*V,u[1]=p*A+m*O+v*B,u[4]=p*w+m*L+v*U,u[7]=p*C+m*F+v*V,u[2]=_*A+S*O+T*B,u[5]=_*w+S*L+T*U,u[8]=_*C+S*F+T*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8];return n*h*m-n*f*p-o*u*m+o*f*d+l*u*p-l*h*d}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],v=m*h-f*p,_=f*d-m*u,S=p*u-h*d,T=n*v+o*_+l*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/T;return e[0]=v*A,e[1]=(l*p-m*o)*A,e[2]=(f*o-l*h)*A,e[3]=_*A,e[4]=(m*n-l*d)*A,e[5]=(l*u-f*n)*A,e[6]=S*A,e[7]=(o*d-p*n)*A,e[8]=(h*n-o*u)*A,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,o,l,u,h,f){const d=Math.cos(u),p=Math.sin(u);return this.set(o*d,o*p,-o*(d*h+p*f)+h+e,-l*p,l*d,-l*(-p*h+d*f)+f+n,0,0,1),this}scale(e,n){return this.premultiply(_m3.makeScale(e,n)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,n){return this.premultiply(_m3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,o,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<9;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<9;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(t,e){return new TYPED_ARRAYS[t](e)}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}function probeAsync(t,e,n){return new Promise(function(o,l){function u(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:l();break;case t.TIMEOUT_EXPIRED:setTimeout(u,n);break;default:o()}}setTimeout(u,n)})}function toNormalizedProjectionMatrix(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function toReversedProjectionMatrix(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const t={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(l,u,h){return this.enabled===!1||u===h||!u||!h||(this.spaces[u].transfer===SRGBTransfer&&(l.r=SRGBToLinear(l.r),l.g=SRGBToLinear(l.g),l.b=SRGBToLinear(l.b)),this.spaces[u].primaries!==this.spaces[h].primaries&&(l.applyMatrix3(this.spaces[u].toXYZ),l.applyMatrix3(this.spaces[h].fromXYZ)),this.spaces[h].transfer===SRGBTransfer&&(l.r=LinearToSRGB(l.r),l.g=LinearToSRGB(l.g),l.b=LinearToSRGB(l.b))),l},workingToColorSpace:function(l,u){return this.convert(l,this.workingColorSpace,u)},colorSpaceToWorking:function(l,u){return this.convert(l,u,this.workingColorSpace)},getPrimaries:function(l){return this.spaces[l].primaries},getTransfer:function(l){return l===NoColorSpace?LinearTransfer:this.spaces[l].transfer},getLuminanceCoefficients:function(l,u=this.workingColorSpace){return l.fromArray(this.spaces[u].luminanceCoefficients)},define:function(l){Object.assign(this.spaces,l)},_getMatrix:function(l,u,h){return l.copy(this.spaces[u].toXYZ).multiply(this.spaces[h].fromXYZ)},_getDrawingBufferColorSpace:function(l){return this.spaces[l].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(l=this.workingColorSpace){return this.spaces[l].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(l,u){return warnOnce("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(l,u)},toWorkingColorSpace:function(l,u){return warnOnce("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(l,u)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],o=[.3127,.329];return t.define({[LinearSRGBColorSpace]:{primaries:e,whitePoint:o,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:e,whitePoint:o,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),t}const ColorManagement=createColorManagement();function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let o;if(e instanceof HTMLCanvasElement)o=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const l=_canvas.getContext("2d");e instanceof ImageData?l.putImageData(e,0,0):l.drawImage(e,0,0,e.width,e.height),o=_canvas}return o.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=createElementNS("canvas");n.width=e.width,n.height=e.height;const o=n.getContext("2d");o.drawImage(e,0,0,e.width,e.height);const l=o.getImageData(0,0,e.width,e.height),u=l.data;for(let h=0;h<u.length;h++)u[h]=SRGBToLinear(u[h]/255)*255;return o.putImageData(l,0,0),n}else if(e.data){const n=e.data.slice(0);for(let o=0;o<n.length;o++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[o]=Math.floor(SRGBToLinear(n[o]/255)*255):n[o]=SRGBToLinear(n[o]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const o={uuid:this.uuid,url:""},l=this.data;if(l!==null){let u;if(Array.isArray(l)){u=[];for(let h=0,f=l.length;h<f;h++)l[h].isDataTexture?u.push(serializeImage(l[h].image)):u.push(serializeImage(l[h]))}else u=serializeImage(l);o.url=u}return n||(e.images[this.uuid]=o),o}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;const _tempVec3=new Vector3;class Texture extends EventDispatcher$1{constructor(e=Texture.DEFAULT_IMAGE,n=Texture.DEFAULT_MAPPING,o=ClampToEdgeWrapping,l=ClampToEdgeWrapping,u=LinearFilter,h=LinearMipmapLinearFilter,f=RGBAFormat,d=UnsignedByteType,p=Texture.DEFAULT_ANISOTROPY,m=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=o,this.wrapT=l,this.magFilter=u,this.minFilter=h,this.anisotropy=p,this.format=f,this.internalFormat=null,this.type=d,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(_tempVec3).x}get height(){return this.source.getSize(_tempVec3).y}get depth(){return this.source.getSize(_tempVec3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const o=e[n];if(o===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const l=this[n];if(l===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}l&&o&&l.isVector2&&o.isVector2||l&&o&&l.isVector3&&o.isVector3||l&&o&&l.isMatrix3&&o.isMatrix3?l.copy(o):this[n]=o}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(o.userData=this.userData),n||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,n=0,o=0,l=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=n,this.z=o,this.w=l}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,o,l){return this.x=e,this.y=n,this.z=o,this.w=l,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=this.w,h=e.elements;return this.x=h[0]*n+h[4]*o+h[8]*l+h[12]*u,this.y=h[1]*n+h[5]*o+h[9]*l+h[13]*u,this.z=h[2]*n+h[6]*o+h[10]*l+h[14]*u,this.w=h[3]*n+h[7]*o+h[11]*l+h[15]*u,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,o,l,u;const d=e.elements,p=d[0],m=d[4],v=d[8],_=d[1],S=d[5],T=d[9],A=d[2],w=d[6],C=d[10];if(Math.abs(m-_)<.01&&Math.abs(v-A)<.01&&Math.abs(T-w)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+A)<.1&&Math.abs(T+w)<.1&&Math.abs(p+S+C-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const L=(p+1)/2,F=(S+1)/2,B=(C+1)/2,U=(m+_)/4,V=(v+A)/4,q=(T+w)/4;return L>F&&L>B?L<.01?(o=0,l=.707106781,u=.707106781):(o=Math.sqrt(L),l=U/o,u=V/o):F>B?F<.01?(o=.707106781,l=0,u=.707106781):(l=Math.sqrt(F),o=U/l,u=q/l):B<.01?(o=.707106781,l=.707106781,u=0):(u=Math.sqrt(B),o=V/u,l=q/u),this.set(o,l,u,n),this}let O=Math.sqrt((w-T)*(w-T)+(v-A)*(v-A)+(_-m)*(_-m));return Math.abs(O)<.001&&(O=1),this.x=(w-T)/O,this.y=(v-A)/O,this.z=(_-m)/O,this.w=Math.acos((p+S+C-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=clamp(this.x,e.x,n.x),this.y=clamp(this.y,e.y,n.y),this.z=clamp(this.z,e.z,n.z),this.w=clamp(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=clamp(this.x,e,n),this.y=clamp(this.y,e,n),this.z=clamp(this.z,e,n),this.w=clamp(this.w,e,n),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(clamp(o,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this.w=e.w+(n.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(e=1,n=1,o={}){super(),o=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},o),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=o.depth,this.scissor=new Vector4(0,0,e,n),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,n);const l={width:e,height:n,depth:o.depth},u=new Texture(l);this.textures=[];const h=o.count;for(let f=0;f<h;f++)this.textures[f]=u.clone(),this.textures[f].isRenderTargetTexture=!0,this.textures[f].renderTarget=this;this._setTextureOptions(o),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.resolveDepthBuffer=o.resolveDepthBuffer,this.resolveStencilBuffer=o.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=o.depthTexture,this.samples=o.samples,this.multiview=o.multiview}_setTextureOptions(e={}){const n={minFilter:LinearFilter,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let o=0;o<this.textures.length;o++)this.textures[o].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,o=1){if(this.width!==e||this.height!==n||this.depth!==o){this.width=e,this.height=n,this.depth=o;for(let l=0,u=this.textures.length;l<u;l++)this.textures[l].image.width=e,this.textures[l].image.height=n,this.textures[l].image.depth=o,this.textures[l].isArrayTexture=this.textures[l].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,o=e.textures.length;n<o;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const l=Object.assign({},e.textures[n].image);this.textures[n].source=new Source(l)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,n=1,o={}){super(e,n,o),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGLArrayRenderTarget=!0,this.depth=o,this.texture=new DataArrayTexture(null,e,n,o),this._setTextureOptions(l),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGL3DRenderTarget=!0,this.depth=o,this.texture=new Data3DTexture(null,e,n,o),this._setTextureOptions(l),this.texture.isRenderTargetTexture=!0}}class Box3{constructor(e=new Vector3(1/0,1/0,1/0),n=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n+=3)this.expandByPoint(_vector$b.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,o=e.count;n<o;n++)this.expandByPoint(_vector$b.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$b.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const o=e.geometry;if(o!==void 0){const u=o.getAttribute("position");if(n===!0&&u!==void 0&&e.isInstancedMesh!==!0)for(let h=0,f=u.count;h<f;h++)e.isMesh===!0?e.getVertexPosition(h,_vector$b):_vector$b.fromBufferAttribute(u,h),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(o.boundingBox===null&&o.computeBoundingBox(),_box$4.copy(o.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const l=e.children;for(let u=0,h=l.length;u<h;u++)this.expandByObject(l[u],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,o;return e.normal.x>0?(n=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),n<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let n=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents)||(n=[1,0,0,0,1,0,0,0,1],!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),n=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,n,o,l){for(let u=0,h=t.length-3;u<=h;u+=3){_testAxis.fromArray(t,u);const f=l.x*Math.abs(_testAxis.x)+l.y*Math.abs(_testAxis.y)+l.z*Math.abs(_testAxis.z),d=e.dot(_testAxis),p=n.dot(_testAxis),m=o.dot(_testAxis);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>f)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const o=this.center;n!==void 0?o.copy(n):_box$3.setFromPoints(e).getCenter(o);let l=0;for(let u=0,h=e.length;u<h;u++)l=Math.max(l,o.distanceToSquared(e[u]));return this.radius=Math.sqrt(l),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const o=this.center.distanceToSquared(e);return n.copy(e),o>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const n=_v1$6.lengthSq();if(n>this.radius*this.radius){const o=Math.sqrt(n),l=(o-this.radius)*.5;this.center.addScaledVector(_v1$6,l/o),this.radius+=l}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,n=new Vector3(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const o=n.dot(this.direction);return o<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,o)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_vector$a.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,n),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,n,o,l){_segCenter.copy(e).add(n).multiplyScalar(.5),_segDir.copy(n).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const u=e.distanceTo(n)*.5,h=-this.direction.dot(_segDir),f=_diff.dot(this.direction),d=-_diff.dot(_segDir),p=_diff.lengthSq(),m=Math.abs(1-h*h);let v,_,S,T;if(m>0)if(v=h*d-f,_=h*f-d,T=u*m,v>=0)if(_>=-T)if(_<=T){const A=1/m;v*=A,_*=A,S=v*(v+h*_+2*f)+_*(h*v+_+2*d)+p}else _=u,v=Math.max(0,-(h*_+f)),S=-v*v+_*(_+2*d)+p;else _=-u,v=Math.max(0,-(h*_+f)),S=-v*v+_*(_+2*d)+p;else _<=-T?(v=Math.max(0,-(-h*u+f)),_=v>0?-u:Math.min(Math.max(-u,-d),u),S=-v*v+_*(_+2*d)+p):_<=T?(v=0,_=Math.min(Math.max(-u,-d),u),S=_*(_+2*d)+p):(v=Math.max(0,-(h*u+f)),_=v>0?u:Math.min(Math.max(-u,-d),u),S=-v*v+_*(_+2*d)+p);else _=h>0?-u:u,v=Math.max(0,-(h*_+f)),S=-v*v+_*(_+2*d)+p;return o&&o.copy(this.origin).addScaledVector(this.direction,v),l&&l.copy(_segCenter).addScaledVector(_segDir,_),S}intersectSphere(e,n){_vector$a.subVectors(e.center,this.origin);const o=_vector$a.dot(this.direction),l=_vector$a.dot(_vector$a)-o*o,u=e.radius*e.radius;if(l>u)return null;const h=Math.sqrt(u-l),f=o-h,d=o+h;return d<0?null:f<0?this.at(d,n):this.at(f,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/n;return o>=0?o:null}intersectPlane(e,n){const o=this.distanceToPlane(e);return o===null?null:this.at(o,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let o,l,u,h,f,d;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return p>=0?(o=(e.min.x-_.x)*p,l=(e.max.x-_.x)*p):(o=(e.max.x-_.x)*p,l=(e.min.x-_.x)*p),m>=0?(u=(e.min.y-_.y)*m,h=(e.max.y-_.y)*m):(u=(e.max.y-_.y)*m,h=(e.min.y-_.y)*m),o>h||u>l||((u>o||isNaN(o))&&(o=u),(h<l||isNaN(l))&&(l=h),v>=0?(f=(e.min.z-_.z)*v,d=(e.max.z-_.z)*v):(f=(e.max.z-_.z)*v,d=(e.min.z-_.z)*v),o>d||f>l)||((f>o||o!==o)&&(o=f),(d<l||l!==l)&&(l=d),l<0)?null:this.at(o>=0?o:l,n)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,n,o,l,u){_edge1.subVectors(n,e),_edge2.subVectors(o,e),_normal$1.crossVectors(_edge1,_edge2);let h=this.direction.dot(_normal$1),f;if(h>0){if(l)return null;f=1}else if(h<0)f=-1,h=-h;else return null;_diff.subVectors(this.origin,e);const d=f*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(d<0)return null;const p=f*this.direction.dot(_edge1.cross(_diff));if(p<0||d+p>h)return null;const m=-f*_diff.dot(_normal$1);return m<0?null:this.at(m/h,u)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,n,o,l,u,h,f,d,p,m,v,_,S,T,A,w){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,h,f,d,p,m,v,_,S,T,A,w)}set(e,n,o,l,u,h,f,d,p,m,v,_,S,T,A,w){const C=this.elements;return C[0]=e,C[4]=n,C[8]=o,C[12]=l,C[1]=u,C[5]=h,C[9]=f,C[13]=d,C[2]=p,C[6]=m,C[10]=v,C[14]=_,C[3]=S,C[7]=T,C[11]=A,C[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],this}copyPosition(e){const n=this.elements,o=e.elements;return n[12]=o[12],n[13]=o[13],n[14]=o[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,o){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,n,o){return this.set(e.x,n.x,o.x,0,e.y,n.y,o.y,0,e.z,n.z,o.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,o=e.elements,l=1/_v1$5.setFromMatrixColumn(e,0).length(),u=1/_v1$5.setFromMatrixColumn(e,1).length(),h=1/_v1$5.setFromMatrixColumn(e,2).length();return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n[3]=0,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=0,n[8]=o[8]*h,n[9]=o[9]*h,n[10]=o[10]*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,o=e.x,l=e.y,u=e.z,h=Math.cos(o),f=Math.sin(o),d=Math.cos(l),p=Math.sin(l),m=Math.cos(u),v=Math.sin(u);if(e.order==="XYZ"){const _=h*m,S=h*v,T=f*m,A=f*v;n[0]=d*m,n[4]=-d*v,n[8]=p,n[1]=S+T*p,n[5]=_-A*p,n[9]=-f*d,n[2]=A-_*p,n[6]=T+S*p,n[10]=h*d}else if(e.order==="YXZ"){const _=d*m,S=d*v,T=p*m,A=p*v;n[0]=_+A*f,n[4]=T*f-S,n[8]=h*p,n[1]=h*v,n[5]=h*m,n[9]=-f,n[2]=S*f-T,n[6]=A+_*f,n[10]=h*d}else if(e.order==="ZXY"){const _=d*m,S=d*v,T=p*m,A=p*v;n[0]=_-A*f,n[4]=-h*v,n[8]=T+S*f,n[1]=S+T*f,n[5]=h*m,n[9]=A-_*f,n[2]=-h*p,n[6]=f,n[10]=h*d}else if(e.order==="ZYX"){const _=h*m,S=h*v,T=f*m,A=f*v;n[0]=d*m,n[4]=T*p-S,n[8]=_*p+A,n[1]=d*v,n[5]=A*p+_,n[9]=S*p-T,n[2]=-p,n[6]=f*d,n[10]=h*d}else if(e.order==="YZX"){const _=h*d,S=h*p,T=f*d,A=f*p;n[0]=d*m,n[4]=A-_*v,n[8]=T*v+S,n[1]=v,n[5]=h*m,n[9]=-f*m,n[2]=-p*m,n[6]=S*v+T,n[10]=_-A*v}else if(e.order==="XZY"){const _=h*d,S=h*p,T=f*d,A=f*p;n[0]=d*m,n[4]=-v,n[8]=p*m,n[1]=_*v+A,n[5]=h*m,n[9]=S*v-T,n[2]=T*v-S,n[6]=f*m,n[10]=A*v+_}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,n,o){const l=this.elements;return _z.subVectors(e,n),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(o,_z),_x.lengthSq()===0&&(Math.abs(o.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(o,_z)),_x.normalize(),_y.crossVectors(_z,_x),l[0]=_x.x,l[4]=_y.x,l[8]=_z.x,l[1]=_x.y,l[5]=_y.y,l[9]=_z.y,l[2]=_x.z,l[6]=_y.z,l[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,h=o[0],f=o[4],d=o[8],p=o[12],m=o[1],v=o[5],_=o[9],S=o[13],T=o[2],A=o[6],w=o[10],C=o[14],O=o[3],L=o[7],F=o[11],B=o[15],U=l[0],V=l[4],q=l[8],H=l[12],G=l[1],Y=l[5],Q=l[9],ie=l[13],ae=l[2],le=l[6],he=l[10],ge=l[14],J=l[3],se=l[7],ce=l[11],te=l[15];return u[0]=h*U+f*G+d*ae+p*J,u[4]=h*V+f*Y+d*le+p*se,u[8]=h*q+f*Q+d*he+p*ce,u[12]=h*H+f*ie+d*ge+p*te,u[1]=m*U+v*G+_*ae+S*J,u[5]=m*V+v*Y+_*le+S*se,u[9]=m*q+v*Q+_*he+S*ce,u[13]=m*H+v*ie+_*ge+S*te,u[2]=T*U+A*G+w*ae+C*J,u[6]=T*V+A*Y+w*le+C*se,u[10]=T*q+A*Q+w*he+C*ce,u[14]=T*H+A*ie+w*ge+C*te,u[3]=O*U+L*G+F*ae+B*J,u[7]=O*V+L*Y+F*le+B*se,u[11]=O*q+L*Q+F*he+B*ce,u[15]=O*H+L*ie+F*ge+B*te,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[4],l=e[8],u=e[12],h=e[1],f=e[5],d=e[9],p=e[13],m=e[2],v=e[6],_=e[10],S=e[14],T=e[3],A=e[7],w=e[11],C=e[15];return T*(+u*d*v-l*p*v-u*f*_+o*p*_+l*f*S-o*d*S)+A*(+n*d*S-n*p*_+u*h*_-l*h*S+l*p*m-u*d*m)+w*(+n*p*v-n*f*S-u*h*v+o*h*S+u*f*m-o*p*m)+C*(-l*f*m-n*d*v+n*f*_+l*h*v-o*h*_+o*d*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,o){const l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=n,l[14]=o),this}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],v=e[9],_=e[10],S=e[11],T=e[12],A=e[13],w=e[14],C=e[15],O=v*w*p-A*_*p+A*d*S-f*w*S-v*d*C+f*_*C,L=T*_*p-m*w*p-T*d*S+h*w*S+m*d*C-h*_*C,F=m*A*p-T*v*p+T*f*S-h*A*S-m*f*C+h*v*C,B=T*v*d-m*A*d-T*f*_+h*A*_+m*f*w-h*v*w,U=n*O+o*L+l*F+u*B;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/U;return e[0]=O*V,e[1]=(A*_*u-v*w*u-A*l*S+o*w*S+v*l*C-o*_*C)*V,e[2]=(f*w*u-A*d*u+A*l*p-o*w*p-f*l*C+o*d*C)*V,e[3]=(v*d*u-f*_*u-v*l*p+o*_*p+f*l*S-o*d*S)*V,e[4]=L*V,e[5]=(m*w*u-T*_*u+T*l*S-n*w*S-m*l*C+n*_*C)*V,e[6]=(T*d*u-h*w*u-T*l*p+n*w*p+h*l*C-n*d*C)*V,e[7]=(h*_*u-m*d*u+m*l*p-n*_*p-h*l*S+n*d*S)*V,e[8]=F*V,e[9]=(T*v*u-m*A*u-T*o*S+n*A*S+m*o*C-n*v*C)*V,e[10]=(h*A*u-T*f*u+T*o*p-n*A*p-h*o*C+n*f*C)*V,e[11]=(m*f*u-h*v*u-m*o*p+n*v*p+h*o*S-n*f*S)*V,e[12]=B*V,e[13]=(m*A*l-T*v*l+T*o*_-n*A*_-m*o*w+n*v*w)*V,e[14]=(T*f*l-h*A*l-T*o*d+n*A*d+h*o*w-n*f*w)*V,e[15]=(h*v*l-m*f*l+m*o*d-n*v*d-h*o*_+n*f*_)*V,this}scale(e){const n=this.elements,o=e.x,l=e.y,u=e.z;return n[0]*=o,n[4]*=l,n[8]*=u,n[1]*=o,n[5]*=l,n[9]*=u,n[2]*=o,n[6]*=l,n[10]*=u,n[3]*=o,n[7]*=l,n[11]*=u,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],l=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,o,l))}makeTranslation(e,n,o){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,o,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const o=Math.cos(n),l=Math.sin(n),u=1-o,h=e.x,f=e.y,d=e.z,p=u*h,m=u*f;return this.set(p*h+o,p*f-l*d,p*d+l*f,0,p*f+l*d,m*f+o,m*d-l*h,0,p*d-l*f,m*d+l*h,u*d*d+o,0,0,0,0,1),this}makeScale(e,n,o){return this.set(e,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,n,o,l,u,h){return this.set(1,o,u,0,e,1,h,0,n,l,1,0,0,0,0,1),this}compose(e,n,o){const l=this.elements,u=n._x,h=n._y,f=n._z,d=n._w,p=u+u,m=h+h,v=f+f,_=u*p,S=u*m,T=u*v,A=h*m,w=h*v,C=f*v,O=d*p,L=d*m,F=d*v,B=o.x,U=o.y,V=o.z;return l[0]=(1-(A+C))*B,l[1]=(S+F)*B,l[2]=(T-L)*B,l[3]=0,l[4]=(S-F)*U,l[5]=(1-(_+C))*U,l[6]=(w+O)*U,l[7]=0,l[8]=(T+L)*V,l[9]=(w-O)*V,l[10]=(1-(_+A))*V,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this}decompose(e,n,o){const l=this.elements;let u=_v1$5.set(l[0],l[1],l[2]).length();const h=_v1$5.set(l[4],l[5],l[6]).length(),f=_v1$5.set(l[8],l[9],l[10]).length();this.determinant()<0&&(u=-u),e.x=l[12],e.y=l[13],e.z=l[14],_m1$2.copy(this);const p=1/u,m=1/h,v=1/f;return _m1$2.elements[0]*=p,_m1$2.elements[1]*=p,_m1$2.elements[2]*=p,_m1$2.elements[4]*=m,_m1$2.elements[5]*=m,_m1$2.elements[6]*=m,_m1$2.elements[8]*=v,_m1$2.elements[9]*=v,_m1$2.elements[10]*=v,n.setFromRotationMatrix(_m1$2),o.x=u,o.y=h,o.z=f,this}makePerspective(e,n,o,l,u,h,f=WebGLCoordinateSystem){const d=this.elements,p=2*u/(n-e),m=2*u/(o-l),v=(n+e)/(n-e),_=(o+l)/(o-l);let S,T;if(f===WebGLCoordinateSystem)S=-(h+u)/(h-u),T=-2*h*u/(h-u);else if(f===WebGPUCoordinateSystem)S=-h/(h-u),T=-h*u/(h-u);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+f);return d[0]=p,d[4]=0,d[8]=v,d[12]=0,d[1]=0,d[5]=m,d[9]=_,d[13]=0,d[2]=0,d[6]=0,d[10]=S,d[14]=T,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,n,o,l,u,h,f=WebGLCoordinateSystem){const d=this.elements,p=1/(n-e),m=1/(o-l),v=1/(h-u),_=(n+e)*p,S=(o+l)*m;let T,A;if(f===WebGLCoordinateSystem)T=(h+u)*v,A=-2*v;else if(f===WebGPUCoordinateSystem)T=u*v,A=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+f);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-_,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-S,d[2]=0,d[6]=0,d[10]=A,d[14]=-T,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<16;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<16;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e[n+9]=o[9],e[n+10]=o[10],e[n+11]=o[11],e[n+12]=o[12],e[n+13]=o[13],e[n+14]=o[14],e[n+15]=o[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,n=0,o=0,l=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=o,this._order=l}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,o,l=this._order){return this._x=e,this._y=n,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,o=!0){const l=e.elements,u=l[0],h=l[4],f=l[8],d=l[1],p=l[5],m=l[9],v=l[2],_=l[6],S=l[10];switch(n){case"XYZ":this._y=Math.asin(clamp(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,S),this._z=Math.atan2(-h,u)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(f,S),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,u),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-h,p)):(this._y=0,this._z=Math.atan2(d,u));break;case"ZYX":this._y=Math.asin(-clamp(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,S),this._z=Math.atan2(d,u)):(this._x=0,this._z=Math.atan2(-h,p));break;case"YZX":this._z=Math.asin(clamp(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,u)):(this._x=0,this._y=Math.atan2(f,S));break;case"XZY":this._z=Math.asin(-clamp(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(f,u)):(this._x=Math.atan2(-m,S),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,o){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,n,o)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,n=new Euler,o=new Quaternion,l=new Vector3(1,1,1);function u(){o.setFromEuler(n,!1)}function h(){n.setFromQuaternion(o,void 0,!1)}n._onChange(u),o._onChange(h),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,n){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(e,n,o){e.isVector3?_target.copy(e):_target.set(e,n,o);const l=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),l&&(_m1$1$1.extractRotation(l.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1$1),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let o=0,l=this.children.length;o<l;o++){const h=this.children[o].getObjectByProperty(e,n);if(h!==void 0)return h}}getObjectsByProperty(e,n,o=[]){this[e]===n&&o.push(this);const l=this.children;for(let u=0,h=l.length;u<h;u++)l[u].getObjectsByProperty(e,n,o);return o}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].updateMatrixWorld(e)}updateWorldMatrix(e,n){const o=this.parent;if(e===!0&&o!==null&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const l=this.children;for(let u=0,h=l.length;u<h;u++)l[u].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",o={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.castShadow===!0&&(l.castShadow=!0),this.receiveShadow===!0&&(l.receiveShadow=!0),this.visible===!1&&(l.visible=!1),this.frustumCulled===!1&&(l.frustumCulled=!1),this.renderOrder!==0&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.geometryInfo=this._geometryInfo.map(f=>({...f,boundingBox:f.boundingBox?f.boundingBox.toJSON():void 0,boundingSphere:f.boundingSphere?f.boundingSphere.toJSON():void 0})),l.instanceInfo=this._instanceInfo.map(f=>({...f})),l.availableInstanceIds=this._availableInstanceIds.slice(),l.availableGeometryIds=this._availableGeometryIds.slice(),l.nextIndexStart=this._nextIndexStart,l.nextVertexStart=this._nextVertexStart,l.geometryCount=this._geometryCount,l.maxInstanceCount=this._maxInstanceCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.matricesTexture=this._matricesTexture.toJSON(e),l.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(l.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(l.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(l.boundingBox=this.boundingBox.toJSON()));function u(f,d){return f[d.uuid]===void 0&&(f[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(l.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=u(e.geometries,this.geometry);const f=this.geometry.parameters;if(f!==void 0&&f.shapes!==void 0){const d=f.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const v=d[p];u(e.shapes,v)}else u(e.shapes,d)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(u(e.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const f=[];for(let d=0,p=this.material.length;d<p;d++)f.push(u(e.materials,this.material[d]));l.material=f}else l.material=u(e.materials,this.material);if(this.children.length>0){l.children=[];for(let f=0;f<this.children.length;f++)l.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){l.animations=[];for(let f=0;f<this.animations.length;f++){const d=this.animations[f];l.animations.push(u(e.animations,d))}}if(n){const f=h(e.geometries),d=h(e.materials),p=h(e.textures),m=h(e.images),v=h(e.shapes),_=h(e.skeletons),S=h(e.animations),T=h(e.nodes);f.length>0&&(o.geometries=f),d.length>0&&(o.materials=d),p.length>0&&(o.textures=p),m.length>0&&(o.images=m),v.length>0&&(o.shapes=v),_.length>0&&(o.skeletons=_),S.length>0&&(o.animations=S),T.length>0&&(o.nodes=T)}return o.object=l,o;function h(f){const d=[];for(const p in f){const m=f[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let o=0;o<e.children.length;o++){const l=e.children[o];this.add(l.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(e=new Vector3,n=new Vector3,o=new Vector3){this.a=e,this.b=n,this.c=o}static getNormal(e,n,o,l){l.subVectors(o,n),_v0$1.subVectors(e,n),l.cross(_v0$1);const u=l.lengthSq();return u>0?l.multiplyScalar(1/Math.sqrt(u)):l.set(0,0,0)}static getBarycoord(e,n,o,l,u){_v0$1.subVectors(l,n),_v1$3.subVectors(o,n),_v2$2.subVectors(e,n);const h=_v0$1.dot(_v0$1),f=_v0$1.dot(_v1$3),d=_v0$1.dot(_v2$2),p=_v1$3.dot(_v1$3),m=_v1$3.dot(_v2$2),v=h*p-f*f;if(v===0)return u.set(0,0,0),null;const _=1/v,S=(p*d-f*m)*_,T=(h*m-f*d)*_;return u.set(1-S-T,T,S)}static containsPoint(e,n,o,l){return this.getBarycoord(e,n,o,l,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,n,o,l,u,h,f,d){return this.getBarycoord(e,n,o,l,_v3$2)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(u,_v3$2.x),d.addScaledVector(h,_v3$2.y),d.addScaledVector(f,_v3$2.z),d)}static getInterpolatedAttribute(e,n,o,l,u,h){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(e,n),_v41.fromBufferAttribute(e,o),_v42.fromBufferAttribute(e,l),h.setScalar(0),h.addScaledVector(_v40,u.x),h.addScaledVector(_v41,u.y),h.addScaledVector(_v42,u.z),h}static isFrontFacing(e,n,o,l){return _v0$1.subVectors(o,n),_v1$3.subVectors(e,n),_v0$1.cross(_v1$3).dot(l)<0}set(e,n,o){return this.a.copy(e),this.b.copy(n),this.c.copy(o),this}setFromPointsAndIndices(e,n,o,l){return this.a.copy(e[n]),this.b.copy(e[o]),this.c.copy(e[l]),this}setFromAttributeAndIndices(e,n,o,l){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,l),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Triangle.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,o,l,u){return Triangle.getInterpolation(e,this.a,this.b,this.c,n,o,l,u)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const o=this.a,l=this.b,u=this.c;let h,f;_vab.subVectors(l,o),_vac.subVectors(u,o),_vap.subVectors(e,o);const d=_vab.dot(_vap),p=_vac.dot(_vap);if(d<=0&&p<=0)return n.copy(o);_vbp.subVectors(e,l);const m=_vab.dot(_vbp),v=_vac.dot(_vbp);if(m>=0&&v<=m)return n.copy(l);const _=d*v-m*p;if(_<=0&&d>=0&&m<=0)return h=d/(d-m),n.copy(o).addScaledVector(_vab,h);_vcp.subVectors(e,u);const S=_vab.dot(_vcp),T=_vac.dot(_vcp);if(T>=0&&S<=T)return n.copy(u);const A=S*p-d*T;if(A<=0&&p>=0&&T<=0)return f=p/(p-T),n.copy(o).addScaledVector(_vac,f);const w=m*T-S*v;if(w<=0&&v-m>=0&&S-T>=0)return _vbc.subVectors(u,l),f=(v-m)/(v-m+(S-T)),n.copy(l).addScaledVector(_vbc,f);const C=1/(w+A+_);return h=A*C,f=_*C,n.copy(o).addScaledVector(_vab,h).addScaledVector(_vac,f)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Color$1=class{constructor(e,n,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,o)}set(e,n,o){if(n===void 0&&o===void 0){const l=e;l&&l.isColor?this.copy(l):typeof l=="number"?this.setHex(l):typeof l=="string"&&this.setStyle(l)}else this.setRGB(e,n,o);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.colorSpaceToWorking(this,n),this}setRGB(e,n,o,l=ColorManagement.workingColorSpace){return this.r=e,this.g=n,this.b=o,ColorManagement.colorSpaceToWorking(this,l),this}setHSL(e,n,o,l=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),n=clamp(n,0,1),o=clamp(o,0,1),n===0)this.r=this.g=this.b=o;else{const u=o<=.5?o*(1+n):o+n-o*n,h=2*o-u;this.r=hue2rgb(h,u,e+1/3),this.g=hue2rgb(h,u,e),this.b=hue2rgb(h,u,e-1/3)}return ColorManagement.colorSpaceToWorking(this,l),this}setStyle(e,n=SRGBColorSpace){function o(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let l;if(l=/^(\w+)\(([^\)]*)\)/.exec(e)){let u;const h=l[1],f=l[2];switch(h){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setRGB(Math.min(255,parseInt(u[1],10))/255,Math.min(255,parseInt(u[2],10))/255,Math.min(255,parseInt(u[3],10))/255,n);if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setRGB(Math.min(100,parseInt(u[1],10))/100,Math.min(100,parseInt(u[2],10))/100,Math.min(100,parseInt(u[3],10))/100,n);break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setHSL(parseFloat(u[1])/360,parseFloat(u[2])/100,parseFloat(u[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(e)){const u=l[1],h=u.length;if(h===3)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,n);if(h===6)return this.setHex(parseInt(u,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=SRGBColorSpace){const o=_colorKeywords[e.toLowerCase()];return o!==void 0?this.setHex(o,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.workingToColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ColorManagement.workingColorSpace){ColorManagement.workingToColorSpace(_color.copy(this),n);const o=_color.r,l=_color.g,u=_color.b,h=Math.max(o,l,u),f=Math.min(o,l,u);let d,p;const m=(f+h)/2;if(f===h)d=0,p=0;else{const v=h-f;switch(p=m<=.5?v/(h+f):v/(2-h-f),h){case o:d=(l-u)/v+(l<u?6:0);break;case l:d=(u-o)/v+2;break;case u:d=(o-l)/v+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,n=ColorManagement.workingColorSpace){return ColorManagement.workingToColorSpace(_color.copy(this),n),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.workingToColorSpace(_color.copy(this),e);const n=_color.r,o=_color.g,l=_color.b;return e!==SRGBColorSpace?`color(${e} ${n.toFixed(3)} ${o.toFixed(3)} ${l.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(o*255)},${Math.round(l*255)})`}offsetHSL(e,n,o){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+n,_hslA.l+o)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,o){return this.r=e.r+(n.r-e.r)*o,this.g=e.g+(n.g-e.g)*o,this.b=e.b+(n.b-e.b)*o,this}lerpHSL(e,n){this.getHSL(_hslA),e.getHSL(_hslB);const o=lerp(_hslA.h,_hslB.h,n),l=lerp(_hslA.s,_hslB.s,n),u=lerp(_hslA.l,_hslB.l,n);return this.setHSL(o,l,u),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,o=this.g,l=this.b,u=e.elements;return this.r=u[0]*n+u[3]*o+u[6]*l,this.g=u[1]*n+u[4]*o+u[7]*l,this.b=u[2]*n+u[5]*o+u[8]*l,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const o=e[n];if(o===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const l=this[n];if(l===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[n]=o}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const o={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(o.dispersion=this.dispersion),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(o.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(o.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(o.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapRotation!==void 0&&(o.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(o.blending=this.blending),this.side!==FrontSide&&(o.side=this.side),this.vertexColors===!0&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(o.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(o.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(o.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(o.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(o.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(o.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(o.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(o.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(o.depthFunc=this.depthFunc),this.depthTest===!1&&(o.depthTest=this.depthTest),this.depthWrite===!1&&(o.depthWrite=this.depthWrite),this.colorWrite===!1&&(o.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(o.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(o.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(o.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(o.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(o.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(o.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(o.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(o.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaHash===!0&&(o.alphaHash=!0),this.alphaToCoverage===!0&&(o.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=!0),this.forceSinglePass===!0&&(o.forceSinglePass=!0),this.wireframe===!0&&(o.wireframe=!0),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=!0),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),Object.keys(this.userData).length>0&&(o.userData=this.userData);function l(u){const h=[];for(const f in u){const d=u[f];delete d.metadata,h.push(d)}return h}if(n){const u=l(e.textures),h=l(e.images);u.length>0&&(o.textures=u),h.length>0&&(o.images=h)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let o=null;if(n!==null){const l=n.length;o=new Array(l);for(let u=0;u!==l;++u)o[u]=n[u].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _tables=_generateTables();function _generateTables(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),o=new Uint32Array(512),l=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(o[d]=0,o[d|256]=32768,l[d]=24,l[d|256]=24):p<-14?(o[d]=1024>>-p-14,o[d|256]=1024>>-p-14|32768,l[d]=-p-1,l[d|256]=-p-1):p<=15?(o[d]=p+15<<10,o[d|256]=p+15<<10|32768,l[d]=13,l[d|256]=13):p<128?(o[d]=31744,o[d|256]=64512,l[d]=24,l[d|256]=24):(o[d]=31744,o[d|256]=64512,l[d]=13,l[d|256]=13)}const u=new Uint32Array(2048),h=new Uint32Array(64),f=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,u[d]=p|m}for(let d=1024;d<2048;++d)u[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)h[d]=d<<23;h[31]=1199570944,h[32]=2147483648;for(let d=33;d<63;++d)h[d]=2147483648+(d-32<<23);h[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(f[d]=1024);return{floatView:e,uint32View:n,baseTable:o,shiftTable:l,mantissaTable:u,exponentTable:h,offsetTable:f}}function toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=clamp(t,-65504,65504),_tables.floatView[0]=t;const e=_tables.uint32View[0],n=e>>23&511;return _tables.baseTable[n]+((e&8388607)>>_tables.shiftTable[n])}function fromHalfFloat(t){const e=t>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(t&1023)]+_tables.exponentTable[e],_tables.floatView[0]}class DataUtils{static toHalfFloat(e){return toHalfFloat(e)}static fromHalfFloat(e){return fromHalfFloat(e)}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor(e,n,o=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=o,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,o){e*=this.itemSize,o*=n.itemSize;for(let l=0,u=this.itemSize;l<u;l++)this.array[e+l]=n.array[o+l];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,o=this.count;n<o;n++)_vector2$1.fromBufferAttribute(this,n),_vector2$1.applyMatrix3(e),this.setXY(n,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix3(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix4(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyNormalMatrix(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.transformDirection(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let o=this.array[e*this.itemSize+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.array[e*this.itemSize+n]=o,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=n,this.array[e+1]=o,this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this.array[e+3]=u,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Int8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int8Array(e),n,o)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8Array(e),n,o)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8ClampedArray(e),n,o)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int16Array(e),n,o)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int32Array(e),n,o)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint32Array(e),n,o)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o),this.isFloat16BufferAttribute=!0}getX(e){let n=fromHalfFloat(this.array[e*this.itemSize]);return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=toHalfFloat(n),this}getY(e){let n=fromHalfFloat(this.array[e*this.itemSize+1]);return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=toHalfFloat(n),this}getZ(e){let n=fromHalfFloat(this.array[e*this.itemSize+2]);return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=toHalfFloat(n),this}getW(e){let n=fromHalfFloat(this.array[e*this.itemSize+3]);return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=toHalfFloat(n),this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this.array[e+3]=toHalfFloat(u),this}}class Float32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Float32Array(e),n,o)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,o=0){this.groups.push({start:e,count:n,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const u=new Matrix3().getNormalMatrix(e);o.applyNormalMatrix(u),o.needsUpdate=!0}const l=this.attributes.tangent;return l!==void 0&&(l.transformDirection(e),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$3.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$3),this}rotateX(e){return _m1$3.makeRotationX(e),this.applyMatrix4(_m1$3),this}rotateY(e){return _m1$3.makeRotationY(e),this.applyMatrix4(_m1$3),this}rotateZ(e){return _m1$3.makeRotationZ(e),this.applyMatrix4(_m1$3),this}translate(e,n,o){return _m1$3.makeTranslation(e,n,o),this.applyMatrix4(_m1$3),this}scale(e,n,o){return _m1$3.makeScale(e,n,o),this.applyMatrix4(_m1$3),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const o=[];for(let l=0,u=e.length;l<u;l++){const h=e[l];o.push(h.x,h.y,h.z||0)}this.setAttribute("position",new Float32BufferAttribute(o,3))}else{const o=Math.min(e.length,n.count);for(let l=0;l<o;l++){const u=e[l];n.setXYZ(l,u.x,u.y,u.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let o=0,l=n.length;o<l;o++){const u=n[o];_box$2.setFromBufferAttribute(u),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const o=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),n)for(let u=0,h=n.length;u<h;u++){const f=n[u];_boxMorphTargets.setFromBufferAttribute(f),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(o);let l=0;for(let u=0,h=e.count;u<h;u++)_vector$8.fromBufferAttribute(e,u),l=Math.max(l,o.distanceToSquared(_vector$8));if(n)for(let u=0,h=n.length;u<h;u++){const f=n[u],d=this.morphTargetsRelative;for(let p=0,m=f.count;p<m;p++)_vector$8.fromBufferAttribute(f,p),d&&(_offset.fromBufferAttribute(e,p),_vector$8.add(_offset)),l=Math.max(l,o.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=n.position,l=n.normal,u=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*o.count),4));const h=this.getAttribute("tangent"),f=[],d=[];for(let q=0;q<o.count;q++)f[q]=new Vector3,d[q]=new Vector3;const p=new Vector3,m=new Vector3,v=new Vector3,_=new Vector2,S=new Vector2,T=new Vector2,A=new Vector3,w=new Vector3;function C(q,H,G){p.fromBufferAttribute(o,q),m.fromBufferAttribute(o,H),v.fromBufferAttribute(o,G),_.fromBufferAttribute(u,q),S.fromBufferAttribute(u,H),T.fromBufferAttribute(u,G),m.sub(p),v.sub(p),S.sub(_),T.sub(_);const Y=1/(S.x*T.y-T.x*S.y);isFinite(Y)&&(A.copy(m).multiplyScalar(T.y).addScaledVector(v,-S.y).multiplyScalar(Y),w.copy(v).multiplyScalar(S.x).addScaledVector(m,-T.x).multiplyScalar(Y),f[q].add(A),f[H].add(A),f[G].add(A),d[q].add(w),d[H].add(w),d[G].add(w))}let O=this.groups;O.length===0&&(O=[{start:0,count:e.count}]);for(let q=0,H=O.length;q<H;++q){const G=O[q],Y=G.start,Q=G.count;for(let ie=Y,ae=Y+Q;ie<ae;ie+=3)C(e.getX(ie+0),e.getX(ie+1),e.getX(ie+2))}const L=new Vector3,F=new Vector3,B=new Vector3,U=new Vector3;function V(q){B.fromBufferAttribute(l,q),U.copy(B);const H=f[q];L.copy(H),L.sub(B.multiplyScalar(B.dot(H))).normalize(),F.crossVectors(U,H);const Y=F.dot(d[q])<0?-1:1;h.setXYZW(q,L.x,L.y,L.z,Y)}for(let q=0,H=O.length;q<H;++q){const G=O[q],Y=G.start,Q=G.count;for(let ie=Y,ae=Y+Q;ie<ae;ie+=3)V(e.getX(ie+0)),V(e.getX(ie+1)),V(e.getX(ie+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new BufferAttribute(new Float32Array(n.count*3),3),this.setAttribute("normal",o);else for(let _=0,S=o.count;_<S;_++)o.setXYZ(_,0,0,0);const l=new Vector3,u=new Vector3,h=new Vector3,f=new Vector3,d=new Vector3,p=new Vector3,m=new Vector3,v=new Vector3;if(e)for(let _=0,S=e.count;_<S;_+=3){const T=e.getX(_+0),A=e.getX(_+1),w=e.getX(_+2);l.fromBufferAttribute(n,T),u.fromBufferAttribute(n,A),h.fromBufferAttribute(n,w),m.subVectors(h,u),v.subVectors(l,u),m.cross(v),f.fromBufferAttribute(o,T),d.fromBufferAttribute(o,A),p.fromBufferAttribute(o,w),f.add(m),d.add(m),p.add(m),o.setXYZ(T,f.x,f.y,f.z),o.setXYZ(A,d.x,d.y,d.z),o.setXYZ(w,p.x,p.y,p.z)}else for(let _=0,S=n.count;_<S;_+=3)l.fromBufferAttribute(n,_+0),u.fromBufferAttribute(n,_+1),h.fromBufferAttribute(n,_+2),m.subVectors(h,u),v.subVectors(l,u),m.cross(v),o.setXYZ(_+0,m.x,m.y,m.z),o.setXYZ(_+1,m.x,m.y,m.z),o.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),o.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,o=e.count;n<o;n++)_vector$8.fromBufferAttribute(e,n),_vector$8.normalize(),e.setXYZ(n,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(f,d){const p=f.array,m=f.itemSize,v=f.normalized,_=new p.constructor(d.length*m);let S=0,T=0;for(let A=0,w=d.length;A<w;A++){f.isInterleavedBufferAttribute?S=d[A]*f.data.stride+f.offset:S=d[A]*m;for(let C=0;C<m;C++)_[T++]=p[S++]}return new BufferAttribute(_,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new BufferGeometry,o=this.index.array,l=this.attributes;for(const f in l){const d=l[f],p=e(d,o);n.setAttribute(f,p)}const u=this.morphAttributes;for(const f in u){const d=[],p=u[f];for(let m=0,v=p.length;m<v;m++){const _=p[m],S=e(_,o);d.push(S)}n.morphAttributes[f]=d}n.morphTargetsRelative=this.morphTargetsRelative;const h=this.groups;for(let f=0,d=h.length;f<d;f++){const p=h[f];n.addGroup(p.start,p.count,p.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const o=this.attributes;for(const d in o){const p=o[d];e.data.attributes[d]=p.toJSON(e.data)}const l={};let u=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let v=0,_=p.length;v<_;v++){const S=p[v];m.push(S.toJSON(e.data))}m.length>0&&(l[d]=m,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);const h=this.groups;h.length>0&&(e.data.groups=JSON.parse(JSON.stringify(h)));const f=this.boundingSphere;return f!==null&&(e.data.boundingSphere=f.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone());const l=e.attributes;for(const p in l){const m=l[p];this.setAttribute(p,m.clone(n))}const u=e.morphAttributes;for(const p in u){const m=[],v=u[p];for(let _=0,S=v.length;_<S;_++)m.push(v[_].clone(n));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const h=e.groups;for(let p=0,m=h.length;p<m;p++){const v=h[p];this.addGroup(v.start,v.count,v.materialIndex)}const f=e.boundingBox;f!==null&&(this.boundingBox=f.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,n=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}getVertexPosition(e,n){const o=this.geometry,l=o.attributes.position,u=o.morphAttributes.position,h=o.morphTargetsRelative;n.fromBufferAttribute(l,e);const f=this.morphTargetInfluences;if(u&&f){_morphA.set(0,0,0);for(let d=0,p=u.length;d<p;d++){const m=f[d],v=u[d];m!==0&&(_tempA.fromBufferAttribute(v,e),h?_morphA.addScaledVector(_tempA,m):_morphA.addScaledVector(_tempA.sub(n),m))}n.add(_morphA)}return n}raycast(e,n){const o=this.geometry,l=this.material,u=this.matrixWorld;l!==void 0&&(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$6.copy(o.boundingSphere),_sphere$6.applyMatrix4(u),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(u).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(o.boundingBox!==null&&_ray$3.intersectsBox(o.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$3)))}_computeIntersections(e,n,o){let l;const u=this.geometry,h=this.material,f=u.index,d=u.attributes.position,p=u.attributes.uv,m=u.attributes.uv1,v=u.attributes.normal,_=u.groups,S=u.drawRange;if(f!==null)if(Array.isArray(h))for(let T=0,A=_.length;T<A;T++){const w=_[T],C=h[w.materialIndex],O=Math.max(w.start,S.start),L=Math.min(f.count,Math.min(w.start+w.count,S.start+S.count));for(let F=O,B=L;F<B;F+=3){const U=f.getX(F),V=f.getX(F+1),q=f.getX(F+2);l=checkGeometryIntersection(this,C,e,o,p,m,v,U,V,q),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const T=Math.max(0,S.start),A=Math.min(f.count,S.start+S.count);for(let w=T,C=A;w<C;w+=3){const O=f.getX(w),L=f.getX(w+1),F=f.getX(w+2);l=checkGeometryIntersection(this,h,e,o,p,m,v,O,L,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}else if(d!==void 0)if(Array.isArray(h))for(let T=0,A=_.length;T<A;T++){const w=_[T],C=h[w.materialIndex],O=Math.max(w.start,S.start),L=Math.min(d.count,Math.min(w.start+w.count,S.start+S.count));for(let F=O,B=L;F<B;F+=3){const U=F,V=F+1,q=F+2;l=checkGeometryIntersection(this,C,e,o,p,m,v,U,V,q),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const T=Math.max(0,S.start),A=Math.min(d.count,S.start+S.count);for(let w=T,C=A;w<C;w+=3){const O=w,L=w+1,F=w+2;l=checkGeometryIntersection(this,h,e,o,p,m,v,O,L,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}}}function checkIntersection$1(t,e,n,o,l,u,h,f){let d;if(e.side===BackSide?d=o.intersectTriangle(h,u,l,!0,f):d=o.intersectTriangle(l,u,h,e.side===FrontSide,f),d===null)return null;_intersectionPointWorld.copy(f),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const p=n.ray.origin.distanceTo(_intersectionPointWorld);return p<n.near||p>n.far?null:{distance:p,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,n,o,l,u,h,f,d,p){t.getVertexPosition(f,_vA$1),t.getVertexPosition(d,_vB$1),t.getVertexPosition(p,_vC$1);const m=checkIntersection$1(t,e,n,o,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(m){const v=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,v),l&&(m.uv=Triangle.getInterpolatedAttribute(l,f,d,p,v,new Vector2)),u&&(m.uv1=Triangle.getInterpolatedAttribute(u,f,d,p,v,new Vector2)),h&&(m.normal=Triangle.getInterpolatedAttribute(h,f,d,p,v,new Vector3),m.normal.dot(o.direction)>0&&m.normal.multiplyScalar(-1));const _={a:f,b:d,c:p,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,_.normal),m.face=_,m.barycoord=v}return m}class BoxGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1,u=1,h=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:o,widthSegments:l,heightSegments:u,depthSegments:h};const f=this;l=Math.floor(l),u=Math.floor(u),h=Math.floor(h);const d=[],p=[],m=[],v=[];let _=0,S=0;T("z","y","x",-1,-1,o,n,e,h,u,0),T("z","y","x",1,-1,o,n,-e,h,u,1),T("x","z","y",1,1,e,o,n,l,h,2),T("x","z","y",1,-1,e,o,-n,l,h,3),T("x","y","z",1,-1,e,n,o,l,u,4),T("x","y","z",-1,-1,e,n,-o,l,u,5),this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(p,3)),this.setAttribute("normal",new Float32BufferAttribute(m,3)),this.setAttribute("uv",new Float32BufferAttribute(v,2));function T(A,w,C,O,L,F,B,U,V,q,H){const G=F/V,Y=B/q,Q=F/2,ie=B/2,ae=U/2,le=V+1,he=q+1;let ge=0,J=0;const se=new Vector3;for(let ce=0;ce<he;ce++){const te=ce*Y-ie;for(let fe=0;fe<le;fe++){const _e=fe*G-Q;se[A]=_e*O,se[w]=te*L,se[C]=ae,p.push(se.x,se.y,se.z),se[A]=0,se[w]=0,se[C]=U>0?1:-1,m.push(se.x,se.y,se.z),v.push(fe/V),v.push(1-ce/q),ge+=1}}for(let ce=0;ce<q;ce++)for(let te=0;te<V;te++){const fe=_+te+le*ce,_e=_+te+le*(ce+1),ye=_+(te+1)+le*(ce+1),xe=_+(te+1)+le*ce;d.push(fe,_e,xe),d.push(_e,ye,xe),J+=6}f.addGroup(S,J,H),S+=J,_+=ge}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const n in t){e[n]={};for(const o in t[n]){const l=t[n][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?l.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][o]=null):e[n][o]=l.clone():Array.isArray(l)?e[n][o]=l.slice():e[n][o]=l}}return e}function mergeUniforms(t){const e={};for(let n=0;n<t.length;n++){const o=cloneUniforms(t[n]);for(const l in o)e[l]=o[l]}return e}function cloneUniformsGroups(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function getUnlitUniformColorSpace(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const l in this.uniforms){const h=this.uniforms[l].value;h&&h.isTexture?n.uniforms[l]={type:"t",value:h.toJSON(e).uuid}:h&&h.isColor?n.uniforms[l]={type:"c",value:h.getHex()}:h&&h.isVector2?n.uniforms[l]={type:"v2",value:h.toArray()}:h&&h.isVector3?n.uniforms[l]={type:"v3",value:h.toArray()}:h&&h.isVector4?n.uniforms[l]={type:"v4",value:h.toArray()}:h&&h.isMatrix3?n.uniforms[l]={type:"m3",value:h.toArray()}:h&&h.isMatrix4?n.uniforms[l]={type:"m4",value:h.toArray()}:n.uniforms[l]={value:h}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const o={};for(const l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(n.extensions=o),n}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,n=1,o=.1,l=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,o){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),o.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,n){return this.getViewBounds(e,_minTarget,_maxTarget),n.subVectors(_maxTarget,_minTarget)}setViewOffset(e,n,o,l,u,h){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,o=2*n,l=this.aspect*o,u=-.5*l;const h=this.view;if(this.view!==null&&this.view.enabled){const d=h.fullWidth,p=h.fullHeight;u+=h.offsetX*l/d,n-=h.offsetY*o/p,l*=h.width/d,o*=h.height/p}const f=this.filmOffset;f!==0&&(u+=e*f/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+l,n,n-o,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,n,o){super(),this.type="CubeCamera",this.renderTarget=o,this.coordinateSystem=null,this.activeMipmapLevel=0;const l=new PerspectiveCamera(fov,aspect,e,n);l.layers=this.layers,this.add(l);const u=new PerspectiveCamera(fov,aspect,e,n);u.layers=this.layers,this.add(u);const h=new PerspectiveCamera(fov,aspect,e,n);h.layers=this.layers,this.add(h);const f=new PerspectiveCamera(fov,aspect,e,n);f.layers=this.layers,this.add(f);const d=new PerspectiveCamera(fov,aspect,e,n);d.layers=this.layers,this.add(d);const p=new PerspectiveCamera(fov,aspect,e,n);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[o,l,u,h,f,d]=n;for(const p of n)this.remove(p);if(e===WebGLCoordinateSystem)o.up.set(0,1,0),o.lookAt(1,0,0),l.up.set(0,1,0),l.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),h.up.set(0,0,1),h.lookAt(0,-1,0),f.up.set(0,1,0),f.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)o.up.set(0,-1,0),o.lookAt(-1,0,0),l.up.set(0,-1,0),l.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),h.up.set(0,0,-1),h.lookAt(0,-1,0),f.up.set(0,-1,0),f.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of n)this.add(p),p.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:o,activeMipmapLevel:l}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[u,h,f,d,p,m]=this.children,v=e.getRenderTarget(),_=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),T=e.xr.enabled;e.xr.enabled=!1;const A=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0,l),e.render(n,u),e.setRenderTarget(o,1,l),e.render(n,h),e.setRenderTarget(o,2,l),e.render(n,f),e.setRenderTarget(o,3,l),e.render(n,d),e.setRenderTarget(o,4,l),e.render(n,p),o.texture.generateMipmaps=A,e.setRenderTarget(o,5,l),e.render(n,m),e.setRenderTarget(v,_,S),e.xr.enabled=T,o.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e=[],n=CubeReflectionMapping,o,l,u,h,f,d,p,m){super(e,n,o,l,u,h,f,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const o={width:e,height:e,depth:1},l=[o,o,o,o,o,o];this.texture=new CubeTexture(l),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},l=new BoxGeometry(5,5,5),u=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:BackSide,blending:NoBlending});u.uniforms.tEquirect.value=n;const h=new Mesh(l,u),f=n.minFilter;return n.minFilter===LinearMipmapLinearFilter&&(n.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,h),n.minFilter=f,h.geometry.dispose(),h.material.dispose(),this}clear(e,n=!0,o=!0,l=!0){const u=e.getRenderTarget();for(let h=0;h<6;h++)e.setRenderTarget(this,h),e.clear(n,o,l);e.setRenderTarget(u)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const o of e.hand.values())this._getHandJoint(n,o)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,o){let l=null,u=null,h=null;const f=this._targetRay,d=this._grip,p=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(p&&e.hand){h=!0;for(const A of e.hand.values()){const w=n.getJointPose(A,o),C=this._getHandJoint(p,A);w!==null&&(C.matrix.fromArray(w.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.matrixWorldNeedsUpdate=!0,C.jointRadius=w.radius),C.visible=w!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],_=m.position.distanceTo(v.position),S=.02,T=.005;p.inputState.pinching&&_>S+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&_<=S-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(u=n.getPose(e.gripSpace,o),u!==null&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,u.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(u.linearVelocity)):d.hasLinearVelocity=!1,u.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(u.angularVelocity)):d.hasAngularVelocity=!1));f!==null&&(l=n.getPose(e.targetRaySpace,o),l===null&&u!==null&&(l=u),l!==null&&(f.matrix.fromArray(l.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,l.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(l.linearVelocity)):f.hasLinearVelocity=!1,l.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(l.angularVelocity)):f.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return f!==null&&(f.visible=l!==null),d!==null&&(d.visible=u!==null),p!==null&&(p.visible=h!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const o=new Group;o.matrixAutoUpdate=!1,o.visible=!1,e.joints[n.jointName]=o,e.add(o)}return e.joints[n.jointName]}}class FogExp2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(e),this.density=n}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,n=1,o=1e3){this.isFog=!0,this.name="",this.color=new Color$1(e),this.near=n,this.far=o}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class InterleavedBuffer{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,o){e*=this.stride,o*=n.stride;for(let l=0,u=this.stride;l<u;l++)this.array[e+l]=n.array[o+l];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(n,this.stride);return o.setUsage(this.usage),o}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(e,n,o,l=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=o,this.normalized=l}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,o=this.data.count;n<o;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.applyMatrix4(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.applyNormalMatrix(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.transformDirection(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(e,n){let o=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.data.array[e*this.data.stride+this.offset+n]=o,this}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=denormalize(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=denormalize(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=denormalize(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=denormalize(n,this.array)),n}setXY(e,n,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this}setXYZ(e,n,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this.data.array[e+3]=u,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return new BufferAttribute(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new InterleavedBuffer(n,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(o,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(o,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const o=this.material.rotation;let l,u;o!==0&&(u=Math.cos(o),l=Math.sin(o));const h=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,h,_worldScale,l,u),transformVertex(_vB.set(.5,-.5,0),_mvPosition,h,_worldScale,l,u),transformVertex(_vC.set(.5,.5,0),_mvPosition,h,_worldScale,l,u),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let f=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(f===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,h,_worldScale,l,u),_uvB.set(0,1),f=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),f===null))return;const d=e.ray.origin.distanceTo(_intersectPoint);d<e.near||d>e.far||n.push({distance:d,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(t,e,n,o,l,u){_alignedPosition.subVectors(t,n).addScalar(.5).multiply(o),l!==void 0?(_rotatedPosition.x=u*_alignedPosition.x-l*_alignedPosition.y,_rotatedPosition.y=l*_alignedPosition.x+u*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),t.copy(e),t.x+=_rotatedPosition.x,t.y+=_rotatedPosition.y,t.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let o=0,l=n.length;o<l;o++){const u=n[o];this.addLevel(u.object.clone(),u.distance,u.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,o=0){n=Math.abs(n);const l=this.levels;let u;for(u=0;u<l.length&&!(n<l[u].distance);u++);return l.splice(u,0,{distance:n,hysteresis:o,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let o=0;o<n.length;o++)if(n[o].distance===e){const l=n.splice(o,1);return this.remove(l[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let o,l;for(o=1,l=n.length;o<l;o++){let u=n[o].distance;if(n[o].object.visible&&(u-=u*n[o].hysteresis),e<u)break}return n[o-1].object}return null}raycast(e,n){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const l=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(l).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const o=_v1$2.distanceTo(_v2$1)/e.zoom;n[0].object.visible=!0;let l,u;for(l=1,u=n.length;l<u;l++){let h=n[l].distance;if(n[l].object.visible&&(h-=h*n[l].hysteresis),o>=h)n[l-1].object.visible=!1,n[l].object.visible=!0;else break}for(this._currentLevel=l-1;l<u;l++)n[l].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const o=this.levels;for(let l=0,u=o.length;l<u;l++){const h=o[l];n.object.levels.push({object:h.object.uuid,distance:h.distance,hysteresis:h.hysteresis})}return n}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const o=this.material,l=this.matrixWorld;o!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(l),e.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(l).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,n=this.geometry.attributes.skinWeight;for(let o=0,l=n.count;o<l;o++){e.fromBufferAttribute(n,o);const u=1/e.manhattanLength();u!==1/0?e.multiplyScalar(u):e.set(1,0,0,0),n.setXYZW(o,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const o=this.skeleton,l=this.geometry;_skinIndex.fromBufferAttribute(l.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(l.attributes.skinWeight,e),_basePosition.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let u=0;u<4;u++){const h=_skinWeight.getComponent(u);if(h!==0){const f=_skinIndex.getComponent(u);_matrix4.multiplyMatrices(o.bones[f].matrixWorld,o.boneInverses[f]),n.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),h)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,n=1,o=1,l,u,h,f,d,p=NearestFilter,m=NearestFilter,v,_){super(null,h,f,d,p,m,l,u,v,_),this.isDataTexture=!0,this.image={data:e,width:n,height:o},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(e=[],n=[]){this.uuid=generateUUID$1(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,l=this.bones.length;o<l;o++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const o=new Matrix4;this.bones[e]&&o.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&o.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const e=this.bones,n=this.boneInverses,o=this.boneMatrices,l=this.boneTexture;for(let u=0,h=e.length;u<h;u++){const f=e[u]?e[u].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(f,n[u]),_offsetMatrix.toArray(o,u*16)}l!==null&&(l.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const o=new DataTexture(n,e,e,RGBAFormat,FloatType);return o.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=o,this}getBoneByName(e){for(let n=0,o=this.bones.length;n<o;n++){const l=this.bones[n];if(l.name===e)return l}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let o=0,l=e.bones.length;o<l;o++){const u=e.bones[o];let h=n[u];h===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u),h=new Bone),this.bones.push(h),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[o]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,o=this.boneInverses;for(let l=0,u=n.length;l<u;l++){const h=n[l];e.bones.push(h.uuid);const f=o[l];e.boneInverses.push(f.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,n,o,l=1){super(e,n,o),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=l}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(e,n,o){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(o*16),16),this.instanceColor=null,this.morphTexture=null,this.count=o,this.boundingBox=null,this.boundingSphere=null;for(let l=0;l<o;l++)this.setMatrixAt(l,_identity)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_sphere$4.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const o=n.morphTargetInfluences,l=this.morphTexture.source.data.data,u=o.length+1,h=e*u+1;for(let f=0;f<o.length;f++)o[f]=l[h+f]}raycast(e,n){const o=this.matrixWorld,l=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(o),e.ray.intersectsSphere(_sphere$4)!==!1))for(let u=0;u<l;u++){this.getMatrixAt(u,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(o,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(e,_instanceIntersects);for(let h=0,f=_instanceIntersects.length;h<f;h++){const d=_instanceIntersects[h];d.instanceId=u,d.object=this,n.push(d)}_instanceIntersects.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const o=n.morphTargetInfluences,l=o.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(l*this.count),l,this.count,RedFormat,FloatType));const u=this.morphTexture.source.data.data;let h=0;for(let p=0;p<o.length;p++)h+=o[p];const f=this.geometry.morphTargetsRelative?1:1-h,d=l*e;u[d]=f,u.set(o,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,o,l){return this.normal.set(e,n,o),this.constant=l,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,o){const l=_vector1.subVectors(o,n).cross(_vector2.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(l,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const o=e.delta(_vector1),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const u=-(e.start.dot(this.normal)+this.constant)/l;return u<0||u>1?null:n.copy(e.start).addScaledVector(o,u)}intersectsLine(e){const n=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return n<0&&o>0||o<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const o=n||_normalMatrix.getNormalMatrix(e),l=this.coplanarPoint(_vector1).applyMatrix4(e),u=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(u),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,n=new Plane,o=new Plane,l=new Plane,u=new Plane,h=new Plane){this.planes=[e,n,o,l,u,h]}set(e,n,o,l,u,h){const f=this.planes;return f[0].copy(e),f[1].copy(n),f[2].copy(o),f[3].copy(l),f[4].copy(u),f[5].copy(h),this}copy(e){const n=this.planes;for(let o=0;o<6;o++)n[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e,n=WebGLCoordinateSystem){const o=this.planes,l=e.elements,u=l[0],h=l[1],f=l[2],d=l[3],p=l[4],m=l[5],v=l[6],_=l[7],S=l[8],T=l[9],A=l[10],w=l[11],C=l[12],O=l[13],L=l[14],F=l[15];if(o[0].setComponents(d-u,_-p,w-S,F-C).normalize(),o[1].setComponents(d+u,_+p,w+S,F+C).normalize(),o[2].setComponents(d+h,_+m,w+T,F+O).normalize(),o[3].setComponents(d-h,_-m,w-T,F-O).normalize(),o[4].setComponents(d-f,_-v,w-A,F-L).normalize(),n===WebGLCoordinateSystem)o[5].setComponents(d+f,_+v,w+A,F+L).normalize();else if(n===WebGPUCoordinateSystem)o[5].setComponents(f,v,A,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$3.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$3.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(e){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(e){const n=this.planes,o=e.center,l=-e.radius;for(let u=0;u<6;u++)if(n[u].distanceToPoint(o)<l)return!1;return!0}intersectsBox(e){const n=this.planes;for(let o=0;o<6;o++){const l=n[o];if(_vector$6.x=l.normal.x>0?e.max.x:e.min.x,_vector$6.y=l.normal.y>0?e.max.y:e.min.y,_vector$6.z=l.normal.z>0?e.max.z:e.min.z,l.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let o=0;o<6;o++)if(n[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _projScreenMatrix$2=new Matrix4,_frustum$1=new Frustum;class FrustumArray{constructor(){this.coordinateSystem=WebGLCoordinateSystem}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let o=0;o<n.cameras.length;o++){const l=n.cameras[o];if(_projScreenMatrix$2.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let o=0;o<n.cameras.length;o++){const l=n.cameras[o];if(_projScreenMatrix$2.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let o=0;o<n.cameras.length;o++){const l=n.cameras[o];if(_projScreenMatrix$2.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let o=0;o<n.cameras.length;o++){const l=n.cameras[o];if(_projScreenMatrix$2.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let o=0;o<n.cameras.length;o++){const l=n.cameras[o];if(_projScreenMatrix$2.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.containsPoint(e))return!0}return!1}clone(){return new FrustumArray}}function ascIdSort(t,e){return t-e}function sortOpaque(t,e){return t.z-e.z}function sortTransparent(t,e){return e.z-t.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,o,l){const u=this.pool,h=this.list;this.index>=u.length&&u.push({start:-1,count:-1,z:-1,index:-1});const f=u[this.index];h.push(f),this.index++,f.start=e,f.count=n,f.z=o,f.index=l}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color$1(1,1,1),_frustum=new Frustum,_frustumArray=new FrustumArray,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward$1=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(t,e,n=0){const o=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const l=t.count;for(let u=0;u<l;u++)for(let h=0;h<o;h++)e.setComponent(u+n,h,t.getComponent(u,h))}else e.array.set(t.array,n*o);e.needsUpdate=!0}function copyArrayContents(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let o=0;o<n;o++)e[o]=t[o]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class BatchedMesh extends Mesh{constructor(e,n,o=n*2,l){super(new BufferGeometry,l),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=o,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),o=new DataTexture(n,e,e,RGBAFormat,FloatType);this._matricesTexture=o}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),o=new DataTexture(n,e,e,RedIntegerFormat,UnsignedIntType);this._indirectTexture=o}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),o=new DataTexture(n,e,e,RGBAFormat,FloatType);o.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=o}_initializeGeometry(e){const n=this.geometry,o=this._maxVertexCount,l=this._maxIndexCount;if(this._geometryInitialized===!1){for(const u in e.attributes){const h=e.getAttribute(u),{array:f,itemSize:d,normalized:p}=h,m=new f.constructor(o*d),v=new BufferAttribute(m,d,p);n.setAttribute(u,v)}if(e.getIndex()!==null){const u=o>65535?new Uint32Array(l):new Uint16Array(l);n.setIndex(new BufferAttribute(u,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const o in n.attributes){if(!e.hasAttribute(o))throw new Error(`THREE.BatchedMesh: Added geometry missing "${o}". All geometries must have consistent attributes.`);const l=e.getAttribute(o),u=n.getAttribute(o);if(l.itemSize!==u.itemSize||l.normalized!==u.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let o=0,l=n.length;o<l;o++){if(n[o].active===!1)continue;const u=n[o].geometryIndex;this.getMatrixAt(o,_matrix$1),this.getBoundingBoxAt(u,_box$1).applyMatrix4(_matrix$1),e.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let o=0,l=n.length;o<l;o++){if(n[o].active===!1)continue;const u=n[o].geometryIndex;this.getMatrixAt(o,_matrix$1),this.getBoundingSphereAt(u,_sphere$2).applyMatrix4(_matrix$1),e.union(_sphere$2)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const o={visible:!0,active:!0,geometryIndex:e};let l=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),l=this._availableInstanceIds.shift(),this._instanceInfo[l]=o):(l=this._instanceInfo.length,this._instanceInfo.push(o));const u=this._matricesTexture;_matrix$1.identity().toArray(u.image.data,l*16),u.needsUpdate=!0;const h=this._colorsTexture;return h&&(_whiteColor.toArray(h.image.data,l*4),h.needsUpdate=!0),this._visibilityChanged=!0,l}addGeometry(e,n=-1,o=-1){this._initializeGeometry(e),this._validateGeometry(e);const l={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},u=this._geometryInfo;l.vertexStart=this._nextVertexStart,l.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const h=e.getIndex();if(h!==null&&(l.indexStart=this._nextIndexStart,l.reservedIndexCount=o===-1?h.count:o),l.indexStart!==-1&&l.indexStart+l.reservedIndexCount>this._maxIndexCount||l.vertexStart+l.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),d=this._availableGeometryIds.shift(),u[d]=l):(d=this._geometryCount,this._geometryCount++,u.push(l)),this.setGeometryAt(d,e),this._nextIndexStart=l.indexStart+l.reservedIndexCount,this._nextVertexStart=l.vertexStart+l.reservedVertexCount,d}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const o=this.geometry,l=o.getIndex()!==null,u=o.getIndex(),h=n.getIndex(),f=this._geometryInfo[e];if(l&&h.count>f.reservedIndexCount||n.attributes.position.count>f.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=f.vertexStart,p=f.reservedVertexCount;f.vertexCount=n.getAttribute("position").count;for(const m in o.attributes){const v=n.getAttribute(m),_=o.getAttribute(m);copyAttributeData(v,_,d);const S=v.itemSize;for(let T=v.count,A=p;T<A;T++){const w=d+T;for(let C=0;C<S;C++)_.setComponent(w,C,0)}_.needsUpdate=!0,_.addUpdateRange(d*S,p*S)}if(l){const m=f.indexStart,v=f.reservedIndexCount;f.indexCount=n.getIndex().count;for(let _=0;_<h.count;_++)u.setX(m+_,d+h.getX(_));for(let _=h.count,S=v;_<S;_++)u.setX(m+_,d);u.needsUpdate=!0,u.addUpdateRange(m,f.reservedIndexCount)}return f.start=l?f.indexStart:f.vertexStart,f.count=l?f.indexCount:f.vertexCount,f.boundingBox=null,n.boundingBox!==null&&(f.boundingBox=n.boundingBox.clone()),f.boundingSphere=null,n.boundingSphere!==null&&(f.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const o=this._instanceInfo;for(let l=0,u=o.length;l<u;l++)o[l].active&&o[l].geometryIndex===e&&this.deleteInstance(l);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const o=this._geometryInfo,l=o.map((h,f)=>f).sort((h,f)=>o[h].vertexStart-o[f].vertexStart),u=this.geometry;for(let h=0,f=o.length;h<f;h++){const d=l[h],p=o[d];if(p.active!==!1){if(u.index!==null){if(p.indexStart!==n){const{indexStart:m,vertexStart:v,reservedIndexCount:_}=p,S=u.index,T=S.array,A=e-v;for(let w=m;w<m+_;w++)T[w]=T[w]+A;S.array.copyWithin(n,m,m+_),S.addUpdateRange(n,_),p.indexStart=n}n+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:v}=p,_=u.attributes;for(const S in _){const T=_[S],{array:A,itemSize:w}=T;A.copyWithin(e*w,m*w,(m+v)*w),T.addUpdateRange(e*w,v*w)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=u.index?p.indexStart:p.vertexStart,this._nextIndexStart=u.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const o=this.geometry,l=this._geometryInfo[e];if(l.boundingBox===null){const u=new Box3,h=o.index,f=o.attributes.position;for(let d=l.start,p=l.start+l.count;d<p;d++){let m=d;h&&(m=h.getX(m)),u.expandByPoint(_vector$5.fromBufferAttribute(f,m))}l.boundingBox=u}return n.copy(l.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const o=this.geometry,l=this._geometryInfo[e];if(l.boundingSphere===null){const u=new Sphere;this.getBoundingBoxAt(e,_box$1),_box$1.getCenter(u.center);const h=o.index,f=o.attributes.position;let d=0;for(let p=l.start,m=l.start+l.count;p<m;p++){let v=p;h&&(v=h.getX(v)),_vector$5.fromBufferAttribute(f,v),d=Math.max(d,u.center.distanceToSquared(_vector$5))}u.radius=Math.sqrt(d),l.boundingSphere=u}return n.copy(l.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const o=this._matricesTexture,l=this._matricesTexture.image.data;return n.toArray(l,e*16),o.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const o=this._geometryInfo[e];return n.vertexStart=o.vertexStart,n.vertexCount=o.vertexCount,n.reservedVertexCount=o.reservedVertexCount,n.indexStart=o.indexStart,n.indexCount=o.indexCount,n.reservedIndexCount=o.reservedIndexCount,n.start=o.start,n.count=o.count,n}setInstanceCount(e){const n=this._availableInstanceIds,o=this._instanceInfo;for(n.sort(ascIdSort);n[n.length-1]===o.length;)o.pop(),n.pop();if(e<o.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const l=new Int32Array(e),u=new Int32Array(e);copyArrayContents(this._multiDrawCounts,l),copyArrayContents(this._multiDrawStarts,u),this._multiDrawCounts=l,this._multiDrawStarts=u,this._maxInstanceCount=e;const h=this._indirectTexture,f=this._matricesTexture,d=this._colorsTexture;h.dispose(),this._initIndirectTexture(),copyArrayContents(h.image.data,this._indirectTexture.image.data),f.dispose(),this._initMatricesTexture(),copyArrayContents(f.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),copyArrayContents(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const o=[...this._geometryInfo].filter(f=>f.active);if(Math.max(...o.map(f=>f.vertexStart+f.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...o.map(d=>d.indexStart+d.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const u=this.geometry;u.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(u));const h=this.geometry;u.index&&copyArrayContents(u.index.array,h.index.array);for(const f in u.attributes)copyArrayContents(u.attributes[f].array,h.attributes[f].array)}raycast(e,n){const o=this._instanceInfo,l=this._geometryInfo,u=this.matrixWorld,h=this.geometry;_mesh.material=this.material,_mesh.geometry.index=h.index,_mesh.geometry.attributes=h.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let f=0,d=o.length;f<d;f++){if(!o[f].visible||!o[f].active)continue;const p=o[f].geometryIndex,m=l[p];_mesh.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(f,_mesh.matrixWorld).premultiply(u),this.getBoundingBoxAt(p,_mesh.geometry.boundingBox),this.getBoundingSphereAt(p,_mesh.geometry.boundingSphere),_mesh.raycast(e,_batchIntersects);for(let v=0,_=_batchIntersects.length;v<_;v++){const S=_batchIntersects[v];S.object=this,S.batchId=f,n.push(S)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,o,l,u){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const h=l.getIndex(),f=h===null?1:h.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,_=this.perObjectFrustumCulled,S=this._indirectTexture,T=S.image.data,A=o.isArrayCamera?_frustumArray:_frustum;_&&!o.isArrayCamera&&(_matrix$1.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,e.coordinateSystem));let w=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(o.matrixWorld).applyMatrix4(_matrix$1),_forward$1.set(0,0,-1).transformDirection(o.matrixWorld).transformDirection(_matrix$1);for(let L=0,F=d.length;L<F;L++)if(d[L].visible&&d[L].active){const B=d[L].geometryIndex;this.getMatrixAt(L,_matrix$1),this.getBoundingSphereAt(B,_sphere$2).applyMatrix4(_matrix$1);let U=!1;if(_&&(U=!A.intersectsSphere(_sphere$2,o)),!U){const V=v[B],q=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward$1);_renderList.push(V.start,V.count,q,L)}}const C=_renderList.list,O=this.customSort;O===null?C.sort(u.transparent?sortTransparent:sortOpaque):O.call(this,C,o);for(let L=0,F=C.length;L<F;L++){const B=C[L];p[w]=B.start*f,m[w]=B.count,T[w]=B.index,w++}_renderList.reset()}else for(let C=0,O=d.length;C<O;C++)if(d[C].visible&&d[C].active){const L=d[C].geometryIndex;let F=!1;if(_&&(this.getMatrixAt(C,_matrix$1),this.getBoundingSphereAt(L,_sphere$2).applyMatrix4(_matrix$1),F=!A.intersectsSphere(_sphere$2,o)),!F){const B=v[L];p[w]=B.start*f,m[w]=B.count,T[w]=C,w++}}S.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,n,o,l,u,h){this.onBeforeRender(e,null,l,u,h)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(e=new BufferGeometry,n=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[0];for(let l=1,u=n.count;l<u;l++)_vStart.fromBufferAttribute(n,l-1),_vEnd.fromBufferAttribute(n,l),o[l]=o[l-1],o[l]+=_vStart.distanceTo(_vEnd);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Line.threshold,h=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$1.copy(o.boundingSphere),_sphere$1.applyMatrix4(l),_sphere$1.radius+=u,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(l).invert(),_ray$1$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const f=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=f*f,p=this.isLineSegments?2:1,m=o.index,_=o.attributes.position;if(m!==null){const S=Math.max(0,h.start),T=Math.min(m.count,h.start+h.count);for(let A=S,w=T-1;A<w;A+=p){const C=m.getX(A),O=m.getX(A+1),L=checkIntersection(this,e,_ray$1$1,d,C,O,A);L&&n.push(L)}if(this.isLineLoop){const A=m.getX(T-1),w=m.getX(S),C=checkIntersection(this,e,_ray$1$1,d,A,w,T-1);C&&n.push(C)}}else{const S=Math.max(0,h.start),T=Math.min(_.count,h.start+h.count);for(let A=S,w=T-1;A<w;A+=p){const C=checkIntersection(this,e,_ray$1$1,d,A,A+1,A);C&&n.push(C)}if(this.isLineLoop){const A=checkIntersection(this,e,_ray$1$1,d,T-1,S,T-1);A&&n.push(A)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}}function checkIntersection(t,e,n,o,l,u,h){const f=t.geometry.attributes.position;if(_vStart.fromBufferAttribute(f,l),_vEnd.fromBufferAttribute(f,u),n.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>o)return;_intersectPointOnRay.applyMatrix4(t.matrixWorld);const p=e.ray.origin.distanceTo(_intersectPointOnRay);if(!(p<e.near||p>e.far))return{distance:p,point:_intersectPointOnSegment.clone().applyMatrix4(t.matrixWorld),index:h,face:null,faceIndex:null,barycoord:null,object:t}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[];for(let l=0,u=n.count;l<u;l+=2)_start.fromBufferAttribute(n,l),_end.fromBufferAttribute(n,l+1),o[l]=l===0?0:o[l-1],o[l+1]=o[l]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,n=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Points.threshold,h=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere.copy(o.boundingSphere),_sphere.applyMatrix4(l),_sphere.radius+=u,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(l).invert(),_ray$4.copy(e.ray).applyMatrix4(_inverseMatrix);const f=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=f*f,p=o.index,v=o.attributes.position;if(p!==null){const _=Math.max(0,h.start),S=Math.min(p.count,h.start+h.count);for(let T=_,A=S;T<A;T++){const w=p.getX(T);_position$2.fromBufferAttribute(v,w),testPoint(_position$2,w,d,l,e,n,this)}}else{const _=Math.max(0,h.start),S=Math.min(v.count,h.start+h.count);for(let T=_,A=S;T<A;T++)_position$2.fromBufferAttribute(v,T),testPoint(_position$2,T,d,l,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}}function testPoint(t,e,n,o,l,u,h){const f=_ray$4.distanceSqToPoint(t);if(f<n){const d=new Vector3;_ray$4.closestPointToPoint(t,d),d.applyMatrix4(o);const p=l.ray.origin.distanceTo(d);if(p<l.near||p>l.far)return;u.push({distance:p,distanceToRay:Math.sqrt(f),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:h})}}class VideoTexture extends Texture{constructor(e,n,o,l,u=LinearFilter,h=LinearFilter,f,d,p){super(e,n,o,l,u,h,f,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VideoFrameTexture extends VideoTexture{constructor(e,n,o,l,u,h,f,d){super({},e,n,o,l,u,h,f,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class FramebufferTexture extends Texture{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p,m,v,_){super(null,h,f,d,p,m,l,u,v,_),this.isCompressedTexture=!0,this.image={width:n,height:o},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,n,o,l,u,h){super(e,n,o,u,h),this.isCompressedArrayTexture=!0,this.image.depth=l,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(e,n,o){super(void 0,e[0].width,e[0].height,n,o,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CanvasTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p){super(e,n,o,l,u,h,f,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(e,n,o=UnsignedIntType,l,u,h,f=NearestFilter,d=NearestFilter,p,m=DepthFormat,v=1){if(m!==DepthFormat&&m!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:e,height:n,depth:v};super(_,l,u,h,f,d,m,o,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Source(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class CapsuleGeometry extends BufferGeometry{constructor(e=1,n=1,o=4,l=8,u=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:o,radialSegments:l,heightSegments:u},n=Math.max(0,n),o=Math.max(1,Math.floor(o)),l=Math.max(3,Math.floor(l)),u=Math.max(1,Math.floor(u));const h=[],f=[],d=[],p=[],m=n/2,v=Math.PI/2*e,_=n,S=2*v+_,T=o*2+u,A=l+1,w=new Vector3,C=new Vector3;for(let O=0;O<=T;O++){let L=0,F=0,B=0,U=0;if(O<=o){const H=O/o,G=H*Math.PI/2;F=-m-e*Math.cos(G),B=e*Math.sin(G),U=-e*Math.cos(G),L=H*v}else if(O<=o+u){const H=(O-o)/u;F=-m+H*n,B=e,U=0,L=v+H*_}else{const H=(O-o-u)/o,G=H*Math.PI/2;F=m+e*Math.sin(G),B=e*Math.cos(G),U=e*Math.sin(G),L=v+_+H*v}const V=Math.max(0,Math.min(1,L/S));let q=0;O===0?q=.5/l:O===T&&(q=-.5/l);for(let H=0;H<=l;H++){const G=H/l,Y=G*Math.PI*2,Q=Math.sin(Y),ie=Math.cos(Y);C.x=-B*ie,C.y=F,C.z=B*Q,f.push(C.x,C.y,C.z),w.set(-B*ie,U,B*Q),w.normalize(),d.push(w.x,w.y,w.z),p.push(G+q,V)}if(O>0){const H=(O-1)*A;for(let G=0;G<l;G++){const Y=H+G,Q=H+G+1,ie=O*A+G,ae=O*A+G+1;h.push(Y,Q,ie),h.push(Q,ae,ie)}}}this.setIndex(h),this.setAttribute("position",new Float32BufferAttribute(f,3)),this.setAttribute("normal",new Float32BufferAttribute(d,3)),this.setAttribute("uv",new Float32BufferAttribute(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CapsuleGeometry(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,n=32,o=0,l=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:o,thetaLength:l},n=Math.max(3,n);const u=[],h=[],f=[],d=[],p=new Vector3,m=new Vector2;h.push(0,0,0),f.push(0,0,1),d.push(.5,.5);for(let v=0,_=3;v<=n;v++,_+=3){const S=o+v/n*l;p.x=e*Math.cos(S),p.y=e*Math.sin(S),h.push(p.x,p.y,p.z),f.push(0,0,1),m.x=(h[_]/e+1)/2,m.y=(h[_+1]/e+1)/2,d.push(m.x,m.y)}for(let v=1;v<=n;v++)u.push(v,v+1,0);this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("normal",new Float32BufferAttribute(f,3)),this.setAttribute("uv",new Float32BufferAttribute(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=32,u=1,h=!1,f=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:o,radialSegments:l,heightSegments:u,openEnded:h,thetaStart:f,thetaLength:d};const p=this;l=Math.floor(l),u=Math.floor(u);const m=[],v=[],_=[],S=[];let T=0;const A=[],w=o/2;let C=0;O(),h===!1&&(e>0&&L(!0),n>0&&L(!1)),this.setIndex(m),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function O(){const F=new Vector3,B=new Vector3;let U=0;const V=(n-e)/o;for(let q=0;q<=u;q++){const H=[],G=q/u,Y=G*(n-e)+e;for(let Q=0;Q<=l;Q++){const ie=Q/l,ae=ie*d+f,le=Math.sin(ae),he=Math.cos(ae);B.x=Y*le,B.y=-G*o+w,B.z=Y*he,v.push(B.x,B.y,B.z),F.set(le,V,he).normalize(),_.push(F.x,F.y,F.z),S.push(ie,1-G),H.push(T++)}A.push(H)}for(let q=0;q<l;q++)for(let H=0;H<u;H++){const G=A[H][q],Y=A[H+1][q],Q=A[H+1][q+1],ie=A[H][q+1];(e>0||H!==0)&&(m.push(G,Y,ie),U+=3),(n>0||H!==u-1)&&(m.push(Y,Q,ie),U+=3)}p.addGroup(C,U,0),C+=U}function L(F){const B=T,U=new Vector2,V=new Vector3;let q=0;const H=F===!0?e:n,G=F===!0?1:-1;for(let Q=1;Q<=l;Q++)v.push(0,w*G,0),_.push(0,G,0),S.push(.5,.5),T++;const Y=T;for(let Q=0;Q<=l;Q++){const ae=Q/l*d+f,le=Math.cos(ae),he=Math.sin(ae);V.x=H*he,V.y=w*G,V.z=H*le,v.push(V.x,V.y,V.z),_.push(0,G,0),U.x=le*.5+.5,U.y=he*.5*G+.5,S.push(U.x,U.y),T++}for(let Q=0;Q<l;Q++){const ie=B+Q,ae=Y+Q;F===!0?m.push(ae,ae+1,ie):m.push(ae+1,ae,ie),q+=3}p.addGroup(C,q,F===!0?1:2),C+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,n=1,o=32,l=1,u=!1,h=0,f=Math.PI*2){super(0,e,n,o,l,u,h,f),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:o,heightSegments:l,openEnded:u,thetaStart:h,thetaLength:f}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],n=[],o=1,l=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:o,detail:l};const u=[],h=[];f(l),p(o),m(),this.setAttribute("position",new Float32BufferAttribute(u,3)),this.setAttribute("normal",new Float32BufferAttribute(u.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(h,2)),l===0?this.computeVertexNormals():this.normalizeNormals();function f(O){const L=new Vector3,F=new Vector3,B=new Vector3;for(let U=0;U<n.length;U+=3)S(n[U+0],L),S(n[U+1],F),S(n[U+2],B),d(L,F,B,O)}function d(O,L,F,B){const U=B+1,V=[];for(let q=0;q<=U;q++){V[q]=[];const H=O.clone().lerp(F,q/U),G=L.clone().lerp(F,q/U),Y=U-q;for(let Q=0;Q<=Y;Q++)Q===0&&q===U?V[q][Q]=H:V[q][Q]=H.clone().lerp(G,Q/Y)}for(let q=0;q<U;q++)for(let H=0;H<2*(U-q)-1;H++){const G=Math.floor(H/2);H%2===0?(_(V[q][G+1]),_(V[q+1][G]),_(V[q][G])):(_(V[q][G+1]),_(V[q+1][G+1]),_(V[q+1][G]))}}function p(O){const L=new Vector3;for(let F=0;F<u.length;F+=3)L.x=u[F+0],L.y=u[F+1],L.z=u[F+2],L.normalize().multiplyScalar(O),u[F+0]=L.x,u[F+1]=L.y,u[F+2]=L.z}function m(){const O=new Vector3;for(let L=0;L<u.length;L+=3){O.x=u[L+0],O.y=u[L+1],O.z=u[L+2];const F=w(O)/2/Math.PI+.5,B=C(O)/Math.PI+.5;h.push(F,1-B)}T(),v()}function v(){for(let O=0;O<h.length;O+=6){const L=h[O+0],F=h[O+2],B=h[O+4],U=Math.max(L,F,B),V=Math.min(L,F,B);U>.9&&V<.1&&(L<.2&&(h[O+0]+=1),F<.2&&(h[O+2]+=1),B<.2&&(h[O+4]+=1))}}function _(O){u.push(O.x,O.y,O.z)}function S(O,L){const F=O*3;L.x=e[F+0],L.y=e[F+1],L.z=e[F+2]}function T(){const O=new Vector3,L=new Vector3,F=new Vector3,B=new Vector3,U=new Vector2,V=new Vector2,q=new Vector2;for(let H=0,G=0;H<u.length;H+=9,G+=6){O.set(u[H+0],u[H+1],u[H+2]),L.set(u[H+3],u[H+4],u[H+5]),F.set(u[H+6],u[H+7],u[H+8]),U.set(h[G+0],h[G+1]),V.set(h[G+2],h[G+3]),q.set(h[G+4],h[G+5]),B.copy(O).add(L).add(F).divideScalar(3);const Y=w(B);A(U,G+0,O,Y),A(V,G+2,L,Y),A(q,G+4,F,Y)}}function A(O,L,F,B){B<0&&O.x===1&&(h[L]=O.x-1),F.x===0&&F.z===0&&(h[L]=B/2/Math.PI+.5)}function w(O){return Math.atan2(O.z,-O.x)}function C(O){return Math.atan2(-O.y,Math.sqrt(O.x*O.x+O.z*O.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=1/o,u=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-o,0,-l,o,0,l,-o,0,l,o,-l,-o,0,-l,o,0,l,-o,0,l,o,0,-o,0,-l,o,0,-l,-o,0,l,o,0,l],h=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(u,h,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const l=Math.pow(10,4),u=Math.cos(DEG2RAD*n),h=e.getIndex(),f=e.getAttribute("position"),d=h?h.count:f.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),_={},S=[];for(let T=0;T<d;T+=3){h?(p[0]=h.getX(T),p[1]=h.getX(T+1),p[2]=h.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:A,b:w,c:C}=_triangle;if(A.fromBufferAttribute(f,p[0]),w.fromBufferAttribute(f,p[1]),C.fromBufferAttribute(f,p[2]),_triangle.getNormal(_normal),v[0]=`${Math.round(A.x*l)},${Math.round(A.y*l)},${Math.round(A.z*l)}`,v[1]=`${Math.round(w.x*l)},${Math.round(w.y*l)},${Math.round(w.z*l)}`,v[2]=`${Math.round(C.x*l)},${Math.round(C.y*l)},${Math.round(C.z*l)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let O=0;O<3;O++){const L=(O+1)%3,F=v[O],B=v[L],U=_triangle[m[O]],V=_triangle[m[L]],q=`${F}_${B}`,H=`${B}_${F}`;H in _&&_[H]?(_normal.dot(_[H].normal)<=u&&(S.push(U.x,U.y,U.z),S.push(V.x,V.y,V.z)),_[H]=null):q in _||(_[q]={index0:p[O],index1:p[L],normal:_normal.clone()})}}for(const T in _)if(_[T]){const{index0:A,index1:w}=_[T];_v0$3.fromBufferAttribute(f,A),_v1$1.fromBufferAttribute(f,w),S.push(_v0$3.x,_v0$3.y,_v0$3.z),S.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Curve$1=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const o=this.getUtoTmapping(e);return this.getPoint(o,n)}getPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return n}getSpacedPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPointAt(o/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let o,l=this.getPoint(0),u=0;n.push(0);for(let h=1;h<=e;h++)o=this.getPoint(h/e),u+=o.distanceTo(l),n.push(u),l=o;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const o=this.getLengths();let l=0;const u=o.length;let h;n?h=n:h=e*o[u-1];let f=0,d=u-1,p;for(;f<=d;)if(l=Math.floor(f+(d-f)/2),p=o[l]-h,p<0)f=l+1;else if(p>0)d=l-1;else{d=l;break}if(l=d,o[l]===h)return l/(u-1);const m=o[l],_=o[l+1]-m,S=(h-m)/_;return(l+S)/(u-1)}getTangent(e,n){let l=e-1e-4,u=e+1e-4;l<0&&(l=0),u>1&&(u=1);const h=this.getPoint(l),f=this.getPoint(u),d=n||(h.isVector2?new Vector2:new Vector3);return d.copy(f).sub(h).normalize(),d}getTangentAt(e,n){const o=this.getUtoTmapping(e);return this.getTangent(o,n)}computeFrenetFrames(e,n=!1){const o=new Vector3,l=[],u=[],h=[],f=new Vector3,d=new Matrix4;for(let S=0;S<=e;S++){const T=S/e;l[S]=this.getTangentAt(T,new Vector3)}u[0]=new Vector3,h[0]=new Vector3;let p=Number.MAX_VALUE;const m=Math.abs(l[0].x),v=Math.abs(l[0].y),_=Math.abs(l[0].z);m<=p&&(p=m,o.set(1,0,0)),v<=p&&(p=v,o.set(0,1,0)),_<=p&&o.set(0,0,1),f.crossVectors(l[0],o).normalize(),u[0].crossVectors(l[0],f),h[0].crossVectors(l[0],u[0]);for(let S=1;S<=e;S++){if(u[S]=u[S-1].clone(),h[S]=h[S-1].clone(),f.crossVectors(l[S-1],l[S]),f.length()>Number.EPSILON){f.normalize();const T=Math.acos(clamp(l[S-1].dot(l[S]),-1,1));u[S].applyMatrix4(d.makeRotationAxis(f,T))}h[S].crossVectors(l[S],u[S])}if(n===!0){let S=Math.acos(clamp(u[0].dot(u[e]),-1,1));S/=e,l[0].dot(f.crossVectors(u[0],u[e]))>0&&(S=-S);for(let T=1;T<=e;T++)u[T].applyMatrix4(d.makeRotationAxis(l[T],S*T)),h[T].crossVectors(l[T],u[T])}return{tangents:l,normals:u,binormals:h}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class EllipseCurve extends Curve$1{constructor(e=0,n=0,o=1,l=1,u=0,h=Math.PI*2,f=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=o,this.yRadius=l,this.aStartAngle=u,this.aEndAngle=h,this.aClockwise=f,this.aRotation=d}getPoint(e,n=new Vector2){const o=n,l=Math.PI*2;let u=this.aEndAngle-this.aStartAngle;const h=Math.abs(u)<Number.EPSILON;for(;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(h?u=0:u=l),this.aClockwise===!0&&!h&&(u===l?u=-l:u=u-l);const f=this.aStartAngle+e*u;let d=this.aX+this.xRadius*Math.cos(f),p=this.aY+this.yRadius*Math.sin(f);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=d-this.aX,S=p-this.aY;d=_*m-S*v+this.aX,p=_*v+S*m+this.aY}return o.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,n,o,l,u,h){super(e,n,o,o,l,u,h),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let t=0,e=0,n=0,o=0;function l(u,h,f,d){t=u,e=f,n=-3*u+3*h-2*f-d,o=2*u-2*h+f+d}return{initCatmullRom:function(u,h,f,d,p){l(h,f,p*(f-u),p*(d-h))},initNonuniformCatmullRom:function(u,h,f,d,p,m,v){let _=(h-u)/p-(f-u)/(p+m)+(f-h)/m,S=(f-h)/m-(d-h)/(m+v)+(d-f)/v;_*=m,S*=m,l(h,f,_,S)},calc:function(u){const h=u*u,f=h*u;return t+e*u+n*h+o*f}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve$1{constructor(e=[],n=!1,o="centripetal",l=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=o,this.tension=l}getPoint(e,n=new Vector3){const o=n,l=this.points,u=l.length,h=(u-(this.closed?0:1))*e;let f=Math.floor(h),d=h-f;this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/u)+1)*u:d===0&&f===u-1&&(f=u-2,d=1);let p,m;this.closed||f>0?p=l[(f-1)%u]:(tmp.subVectors(l[0],l[1]).add(l[0]),p=tmp);const v=l[f%u],_=l[(f+1)%u];if(this.closed||f+2<u?m=l[(f+2)%u]:(tmp.subVectors(l[u-1],l[u-2]).add(l[u-1]),m=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),S),A=Math.pow(v.distanceToSquared(_),S),w=Math.pow(_.distanceToSquared(m),S);A<1e-4&&(A=1),T<1e-4&&(T=A),w<1e-4&&(w=A),px.initNonuniformCatmullRom(p.x,v.x,_.x,m.x,T,A,w),py.initNonuniformCatmullRom(p.y,v.y,_.y,m.y,T,A,w),pz.initNonuniformCatmullRom(p.z,v.z,_.z,m.z,T,A,w)}else this.curveType==="catmullrom"&&(px.initCatmullRom(p.x,v.x,_.x,m.x,this.tension),py.initCatmullRom(p.y,v.y,_.y,m.y,this.tension),pz.initCatmullRom(p.z,v.z,_.z,m.z,this.tension));return o.set(px.calc(d),py.calc(d),pz.calc(d)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector3().fromArray(l))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(t,e,n,o,l){const u=(o-e)*.5,h=(l-n)*.5,f=t*t,d=t*f;return(2*n-2*o+u+h)*d+(-3*n+3*o-2*u-h)*f+u*t+n}function QuadraticBezierP0(t,e){const n=1-t;return n*n*e}function QuadraticBezierP1(t,e){return 2*(1-t)*t*e}function QuadraticBezierP2(t,e){return t*t*e}function QuadraticBezier(t,e,n,o){return QuadraticBezierP0(t,e)+QuadraticBezierP1(t,n)+QuadraticBezierP2(t,o)}function CubicBezierP0(t,e){const n=1-t;return n*n*n*e}function CubicBezierP1(t,e){const n=1-t;return 3*n*n*t*e}function CubicBezierP2(t,e){return 3*(1-t)*t*t*e}function CubicBezierP3(t,e){return t*t*t*e}function CubicBezier(t,e,n,o,l){return CubicBezierP0(t,e)+CubicBezierP1(t,n)+CubicBezierP2(t,o)+CubicBezierP3(t,l)}class CubicBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2,l=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,h=this.v2,f=this.v3;return o.set(CubicBezier(e,l.x,u.x,h.x,f.x),CubicBezier(e,l.y,u.y,h.y,f.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3,l=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,h=this.v2,f=this.v3;return o.set(CubicBezier(e,l.x,u.x,h.x,f.x),CubicBezier(e,l.y,u.y,h.y,f.y),CubicBezier(e,l.z,u.z,h.z,f.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Vector2){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector2){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Vector3){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector3){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,h=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,h.x),QuadraticBezier(e,l.y,u.y,h.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,h=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,h.x),QuadraticBezier(e,l.y,u.y,h.y),QuadraticBezier(e,l.z,u.z,h.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve$1{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Vector2){const o=n,l=this.points,u=(l.length-1)*e,h=Math.floor(u),f=u-h,d=l[h===0?h:h-1],p=l[h],m=l[h>l.length-2?l.length-1:h+1],v=l[h>l.length-3?l.length-1:h+2];return o.set(CatmullRom(f,d.x,p.x,m.x,v.x),CatmullRom(f,d.y,p.y,m.y,v.y)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector2().fromArray(l))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve$1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const o=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[o](n,e))}return this}getPoint(e,n){const o=e*this.getLength(),l=this.getCurveLengths();let u=0;for(;u<l.length;){if(l[u]>=o){const h=l[u]-o,f=this.curves[u],d=f.getLength(),p=d===0?0:1-h/d;return f.getPointAt(p,n)}u++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let o=0,l=this.curves.length;o<l;o++)n+=this.curves[o].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let o;for(let l=0,u=this.curves;l<u.length;l++){const h=u[l],f=h.isEllipseCurve?e*2:h.isLineCurve||h.isLineCurve3?1:h.isSplineCurve?e*h.points.length:e,d=h.getPoints(f);for(let p=0;p<d.length;p++){const m=d[p];o&&o.equals(m)||(n.push(m),o=m)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(l.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,o=this.curves.length;n<o;n++){const l=this.curves[n];e.curves.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(new Curves[l.type]().fromJSON(l))}return this}}let Path$1=class extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,o=e.length;n<o;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const o=new LineCurve(this.currentPoint.clone(),new Vector2(e,n));return this.curves.push(o),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,o,l){const u=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l));return this.curves.push(u),this.currentPoint.set(o,l),this}bezierCurveTo(e,n,o,l,u,h){const f=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l),new Vector2(u,h));return this.curves.push(f),this.currentPoint.set(u,h),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),o=new SplineCurve(n);return this.curves.push(o),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,o,l,u,h){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+f,n+d,o,l,u,h),this}absarc(e,n,o,l,u,h){return this.absellipse(e,n,o,o,l,u,h),this}ellipse(e,n,o,l,u,h,f,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,n+m,o,l,u,h,f,d),this}absellipse(e,n,o,l,u,h,f,d){const p=new EllipseCurve(e,n,o,l,u,h,f,d);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Shape$1=class extends Path$1{constructor(e){super(e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let o=0,l=this.holes.length;o<l;o++)n[o]=this.holes[o].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,o=this.holes.length;n<o;n++){const l=this.holes[n];e.holes.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(new Path$1().fromJSON(l))}return this}};function earcut(t,e,n=2){const o=e&&e.length,l=o?e[0]*n:t.length;let u=linkedList(t,0,l,n,!0);const h=[];if(!u||u.next===u.prev)return h;let f,d,p;if(o&&(u=eliminateHoles(t,e,u,n)),t.length>80*n){f=1/0,d=1/0;let m=-1/0,v=-1/0;for(let _=n;_<l;_+=n){const S=t[_],T=t[_+1];S<f&&(f=S),T<d&&(d=T),S>m&&(m=S),T>v&&(v=T)}p=Math.max(m-f,v-d),p=p!==0?32767/p:0}return earcutLinked(u,h,n,f,d,p,0),h}function linkedList(t,e,n,o,l){let u;if(l===signedArea(t,e,n,o)>0)for(let h=e;h<n;h+=o)u=insertNode(h/o|0,t[h],t[h+1],u);else for(let h=n-o;h>=e;h-=o)u=insertNode(h/o|0,t[h],t[h+1],u);return u&&equals(u,u.next)&&(removeNode(u),u=u.next),u}function filterPoints(t,e){if(!t)return t;e||(e=t);let n=t,o;do if(o=!1,!n.steiner&&(equals(n,n.next)||area(n.prev,n,n.next)===0)){if(removeNode(n),n=e=n.prev,n===n.next)break;o=!0}else n=n.next;while(o||n!==e);return e}function earcutLinked(t,e,n,o,l,u,h){if(!t)return;!h&&u&&indexCurve(t,o,l,u);let f=t;for(;t.prev!==t.next;){const d=t.prev,p=t.next;if(u?isEarHashed(t,o,l,u):isEar(t)){e.push(d.i,t.i,p.i),removeNode(t),t=p.next,f=p.next;continue}if(t=p,t===f){h?h===1?(t=cureLocalIntersections(filterPoints(t),e),earcutLinked(t,e,n,o,l,u,2)):h===2&&splitEarcut(t,e,n,o,l,u):earcutLinked(filterPoints(t),e,n,o,l,u,1);break}}}function isEar(t){const e=t.prev,n=t,o=t.next;if(area(e,n,o)>=0)return!1;const l=e.x,u=n.x,h=o.x,f=e.y,d=n.y,p=o.y,m=Math.min(l,u,h),v=Math.min(f,d,p),_=Math.max(l,u,h),S=Math.max(f,d,p);let T=o.next;for(;T!==e;){if(T.x>=m&&T.x<=_&&T.y>=v&&T.y<=S&&pointInTriangleExceptFirst(l,f,u,d,h,p,T.x,T.y)&&area(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function isEarHashed(t,e,n,o){const l=t.prev,u=t,h=t.next;if(area(l,u,h)>=0)return!1;const f=l.x,d=u.x,p=h.x,m=l.y,v=u.y,_=h.y,S=Math.min(f,d,p),T=Math.min(m,v,_),A=Math.max(f,d,p),w=Math.max(m,v,_),C=zOrder(S,T,e,n,o),O=zOrder(A,w,e,n,o);let L=t.prevZ,F=t.nextZ;for(;L&&L.z>=C&&F&&F.z<=O;){if(L.x>=S&&L.x<=A&&L.y>=T&&L.y<=w&&L!==l&&L!==h&&pointInTriangleExceptFirst(f,m,d,v,p,_,L.x,L.y)&&area(L.prev,L,L.next)>=0||(L=L.prevZ,F.x>=S&&F.x<=A&&F.y>=T&&F.y<=w&&F!==l&&F!==h&&pointInTriangleExceptFirst(f,m,d,v,p,_,F.x,F.y)&&area(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;L&&L.z>=C;){if(L.x>=S&&L.x<=A&&L.y>=T&&L.y<=w&&L!==l&&L!==h&&pointInTriangleExceptFirst(f,m,d,v,p,_,L.x,L.y)&&area(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;F&&F.z<=O;){if(F.x>=S&&F.x<=A&&F.y>=T&&F.y<=w&&F!==l&&F!==h&&pointInTriangleExceptFirst(f,m,d,v,p,_,F.x,F.y)&&area(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function cureLocalIntersections(t,e){let n=t;do{const o=n.prev,l=n.next.next;!equals(o,l)&&intersects(o,n,n.next,l)&&locallyInside(o,l)&&locallyInside(l,o)&&(e.push(o.i,n.i,l.i),removeNode(n),removeNode(n.next),n=t=l),n=n.next}while(n!==t);return filterPoints(n)}function splitEarcut(t,e,n,o,l,u){let h=t;do{let f=h.next.next;for(;f!==h.prev;){if(h.i!==f.i&&isValidDiagonal(h,f)){let d=splitPolygon(h,f);h=filterPoints(h,h.next),d=filterPoints(d,d.next),earcutLinked(h,e,n,o,l,u,0),earcutLinked(d,e,n,o,l,u,0);return}f=f.next}h=h.next}while(h!==t)}function eliminateHoles(t,e,n,o){const l=[];for(let u=0,h=e.length;u<h;u++){const f=e[u]*o,d=u<h-1?e[u+1]*o:t.length,p=linkedList(t,f,d,o,!1);p===p.next&&(p.steiner=!0),l.push(getLeftmost(p))}l.sort(compareXYSlope);for(let u=0;u<l.length;u++)n=eliminateHole(l[u],n);return n}function compareXYSlope(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const o=(t.next.y-t.y)/(t.next.x-t.x),l=(e.next.y-e.y)/(e.next.x-e.x);n=o-l}return n}function eliminateHole(t,e){const n=findHoleBridge(t,e);if(!n)return e;const o=splitPolygon(n,t);return filterPoints(o,o.next),filterPoints(n,n.next)}function findHoleBridge(t,e){let n=e;const o=t.x,l=t.y;let u=-1/0,h;if(equals(t,n))return n;do{if(equals(t,n.next))return n.next;if(l<=n.y&&l>=n.next.y&&n.next.y!==n.y){const v=n.x+(l-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(v<=o&&v>u&&(u=v,h=n.x<n.next.x?n:n.next,v===o))return h}n=n.next}while(n!==e);if(!h)return null;const f=h,d=h.x,p=h.y;let m=1/0;n=h;do{if(o>=n.x&&n.x>=d&&o!==n.x&&pointInTriangle(l<p?o:u,l,d,p,l<p?u:o,l,n.x,n.y)){const v=Math.abs(l-n.y)/(o-n.x);locallyInside(n,t)&&(v<m||v===m&&(n.x>h.x||n.x===h.x&&sectorContainsSector(h,n)))&&(h=n,m=v)}n=n.next}while(n!==f);return h}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,n,o){let l=t;do l.z===0&&(l.z=zOrder(l.x,l.y,e,n,o)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==t);l.prevZ.nextZ=null,l.prevZ=null,sortLinked(l)}function sortLinked(t){let e,n=1;do{let o=t,l;t=null;let u=null;for(e=0;o;){e++;let h=o,f=0;for(let p=0;p<n&&(f++,h=h.nextZ,!!h);p++);let d=n;for(;f>0||d>0&&h;)f!==0&&(d===0||!h||o.z<=h.z)?(l=o,o=o.nextZ,f--):(l=h,h=h.nextZ,d--),u?u.nextZ=l:t=l,l.prevZ=u,u=l;o=h}u.nextZ=null,n*=2}while(e>1);return t}function zOrder(t,e,n,o,l){return t=(t-n)*l|0,e=(e-o)*l|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function getLeftmost(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pointInTriangle(t,e,n,o,l,u,h,f){return(l-h)*(e-f)>=(t-h)*(u-f)&&(t-h)*(o-f)>=(n-h)*(e-f)&&(n-h)*(u-f)>=(l-h)*(o-f)}function pointInTriangleExceptFirst(t,e,n,o,l,u,h,f){return!(t===h&&e===f)&&pointInTriangle(t,e,n,o,l,u,h,f)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,n,o){const l=sign$1(area(t,e,n)),u=sign$1(area(t,e,o)),h=sign$1(area(n,o,t)),f=sign$1(area(n,o,e));return!!(l!==u&&h!==f||l===0&&onSegment(t,n,e)||u===0&&onSegment(t,o,e)||h===0&&onSegment(n,t,o)||f===0&&onSegment(n,e,o))}function onSegment(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sign$1(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&intersects(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){let n=t,o=!1;const l=(t.x+e.x)/2,u=(t.y+e.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&l<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next;while(n!==t);return o}function splitPolygon(t,e){const n=createNode(t.i,t.x,t.y),o=createNode(e.i,e.x,e.y),l=t.next,u=e.prev;return t.next=e,e.prev=t,n.next=l,l.prev=n,o.next=n,n.prev=o,u.next=o,o.prev=u,o}function insertNode(t,e,n,o){const l=createNode(t,e,n);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function createNode(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(t,e,n,o){let l=0;for(let u=e,h=n-o;u<n;u+=o)l+=(t[h]-t[u])*(t[u+1]+t[h+1]),h=u;return l}class Earcut{static triangulate(e,n,o=2){return earcut(e,n,o)}}class ShapeUtils{static area(e){const n=e.length;let o=0;for(let l=n-1,u=0;u<n;l=u++)o+=e[l].x*e[u].y-e[u].x*e[l].y;return o*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,n){const o=[],l=[],u=[];removeDupEndPts(e),addContour(o,e);let h=e.length;n.forEach(removeDupEndPts);for(let d=0;d<n.length;d++)l.push(h),h+=n[d].length,addContour(o,n[d]);const f=Earcut.triangulate(o,l);for(let d=0;d<f.length;d+=3)u.push(f.slice(d,d+3));return u}}function removeDupEndPts(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function addContour(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const o=this,l=[],u=[];for(let f=0,d=e.length;f<d;f++){const p=e[f];h(p)}this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("uv",new Float32BufferAttribute(u,2)),this.computeVertexNormals();function h(f){const d=[],p=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1,v=n.depth!==void 0?n.depth:1;let _=n.bevelEnabled!==void 0?n.bevelEnabled:!0,S=n.bevelThickness!==void 0?n.bevelThickness:.2,T=n.bevelSize!==void 0?n.bevelSize:S-.1,A=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const C=n.extrudePath,O=n.UVGenerator!==void 0?n.UVGenerator:WorldUVGenerator;let L,F=!1,B,U,V,q;C&&(L=C.getSpacedPoints(m),F=!0,_=!1,B=C.computeFrenetFrames(m,!1),U=new Vector3,V=new Vector3,q=new Vector3),_||(w=0,S=0,T=0,A=0);const H=f.extractPoints(p);let G=H.shape;const Y=H.holes;if(!ShapeUtils.isClockWise(G)){G=G.reverse();for(let de=0,Xe=Y.length;de<Xe;de++){const qe=Y[de];ShapeUtils.isClockWise(qe)&&(Y[de]=qe.reverse())}}function ie(de){const qe=10000000000000001e-36;let Ye=de[0];for(let Ie=1;Ie<=de.length;Ie++){const et=Ie%de.length,Ue=de[et],ke=Ue.x-Ye.x,ct=Ue.y-Ye.y,me=ke*ke+ct*ct,ue=Math.max(Math.abs(Ue.x),Math.abs(Ue.y),Math.abs(Ye.x),Math.abs(Ye.y)),Ae=qe*ue*ue;if(me<=Ae){de.splice(et,1),Ie--;continue}Ye=Ue}}ie(G),Y.forEach(ie);const ae=Y.length,le=G;for(let de=0;de<ae;de++){const Xe=Y[de];G=G.concat(Xe)}function he(de,Xe,qe){return Xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().addScaledVector(Xe,qe)}const ge=G.length;function J(de,Xe,qe){let Ye,Ie,et;const Ue=de.x-Xe.x,ke=de.y-Xe.y,ct=qe.x-de.x,me=qe.y-de.y,ue=Ue*Ue+ke*ke,Ae=Ue*me-ke*ct;if(Math.abs(Ae)>Number.EPSILON){const We=Math.sqrt(ue),$e=Math.sqrt(ct*ct+me*me),je=Xe.x-ke/We,ft=Xe.y+Ue/We,ht=qe.x-me/$e,gt=qe.y+ct/$e,Et=((ht-je)*me-(gt-ft)*ct)/(Ue*me-ke*ct);Ye=je+Ue*Et-de.x,Ie=ft+ke*Et-de.y;const nt=Ye*Ye+Ie*Ie;if(nt<=2)return new Vector2(Ye,Ie);et=Math.sqrt(nt/2)}else{let We=!1;Ue>Number.EPSILON?ct>Number.EPSILON&&(We=!0):Ue<-Number.EPSILON?ct<-Number.EPSILON&&(We=!0):Math.sign(ke)===Math.sign(me)&&(We=!0),We?(Ye=-ke,Ie=Ue,et=Math.sqrt(ue)):(Ye=Ue,Ie=ke,et=Math.sqrt(ue/2))}return new Vector2(Ye/et,Ie/et)}const se=[];for(let de=0,Xe=le.length,qe=Xe-1,Ye=de+1;de<Xe;de++,qe++,Ye++)qe===Xe&&(qe=0),Ye===Xe&&(Ye=0),se[de]=J(le[de],le[qe],le[Ye]);const ce=[];let te,fe=se.concat();for(let de=0,Xe=ae;de<Xe;de++){const qe=Y[de];te=[];for(let Ye=0,Ie=qe.length,et=Ie-1,Ue=Ye+1;Ye<Ie;Ye++,et++,Ue++)et===Ie&&(et=0),Ue===Ie&&(Ue=0),te[Ye]=J(qe[Ye],qe[et],qe[Ue]);ce.push(te),fe=fe.concat(te)}let _e;if(w===0)_e=ShapeUtils.triangulateShape(le,Y);else{const de=[],Xe=[];for(let qe=0;qe<w;qe++){const Ye=qe/w,Ie=S*Math.cos(Ye*Math.PI/2),et=T*Math.sin(Ye*Math.PI/2)+A;for(let Ue=0,ke=le.length;Ue<ke;Ue++){const ct=he(le[Ue],se[Ue],et);Re(ct.x,ct.y,-Ie),Ye===0&&de.push(ct)}for(let Ue=0,ke=ae;Ue<ke;Ue++){const ct=Y[Ue];te=ce[Ue];const me=[];for(let ue=0,Ae=ct.length;ue<Ae;ue++){const We=he(ct[ue],te[ue],et);Re(We.x,We.y,-Ie),Ye===0&&me.push(We)}Ye===0&&Xe.push(me)}}_e=ShapeUtils.triangulateShape(de,Xe)}const ye=_e.length,xe=T+A;for(let de=0;de<ge;de++){const Xe=_?he(G[de],fe[de],xe):G[de];F?(V.copy(B.normals[0]).multiplyScalar(Xe.x),U.copy(B.binormals[0]).multiplyScalar(Xe.y),q.copy(L[0]).add(V).add(U),Re(q.x,q.y,q.z)):Re(Xe.x,Xe.y,0)}for(let de=1;de<=m;de++)for(let Xe=0;Xe<ge;Xe++){const qe=_?he(G[Xe],fe[Xe],xe):G[Xe];F?(V.copy(B.normals[de]).multiplyScalar(qe.x),U.copy(B.binormals[de]).multiplyScalar(qe.y),q.copy(L[de]).add(V).add(U),Re(q.x,q.y,q.z)):Re(qe.x,qe.y,v/m*de)}for(let de=w-1;de>=0;de--){const Xe=de/w,qe=S*Math.cos(Xe*Math.PI/2),Ye=T*Math.sin(Xe*Math.PI/2)+A;for(let Ie=0,et=le.length;Ie<et;Ie++){const Ue=he(le[Ie],se[Ie],Ye);Re(Ue.x,Ue.y,v+qe)}for(let Ie=0,et=Y.length;Ie<et;Ie++){const Ue=Y[Ie];te=ce[Ie];for(let ke=0,ct=Ue.length;ke<ct;ke++){const me=he(Ue[ke],te[ke],Ye);F?Re(me.x,me.y+L[m-1].y,L[m-1].x+qe):Re(me.x,me.y,v+qe)}}}Me(),be();function Me(){const de=l.length/3;if(_){let Xe=0,qe=ge*Xe;for(let Ye=0;Ye<ye;Ye++){const Ie=_e[Ye];Ne(Ie[2]+qe,Ie[1]+qe,Ie[0]+qe)}Xe=m+w*2,qe=ge*Xe;for(let Ye=0;Ye<ye;Ye++){const Ie=_e[Ye];Ne(Ie[0]+qe,Ie[1]+qe,Ie[2]+qe)}}else{for(let Xe=0;Xe<ye;Xe++){const qe=_e[Xe];Ne(qe[2],qe[1],qe[0])}for(let Xe=0;Xe<ye;Xe++){const qe=_e[Xe];Ne(qe[0]+ge*m,qe[1]+ge*m,qe[2]+ge*m)}}o.addGroup(de,l.length/3-de,0)}function be(){const de=l.length/3;let Xe=0;Ce(le,Xe),Xe+=le.length;for(let qe=0,Ye=Y.length;qe<Ye;qe++){const Ie=Y[qe];Ce(Ie,Xe),Xe+=Ie.length}o.addGroup(de,l.length/3-de,1)}function Ce(de,Xe){let qe=de.length;for(;--qe>=0;){const Ye=qe;let Ie=qe-1;Ie<0&&(Ie=de.length-1);for(let et=0,Ue=m+w*2;et<Ue;et++){const ke=ge*et,ct=ge*(et+1),me=Xe+Ye+ke,ue=Xe+Ie+ke,Ae=Xe+Ie+ct,We=Xe+Ye+ct;Oe(me,ue,Ae,We)}}}function Re(de,Xe,qe){d.push(de),d.push(Xe),d.push(qe)}function Ne(de,Xe,qe){Te(de),Te(Xe),Te(qe);const Ye=l.length/3,Ie=O.generateTopUV(o,l,Ye-3,Ye-2,Ye-1);tt(Ie[0]),tt(Ie[1]),tt(Ie[2])}function Oe(de,Xe,qe,Ye){Te(de),Te(Xe),Te(Ye),Te(Xe),Te(qe),Te(Ye);const Ie=l.length/3,et=O.generateSideWallUV(o,l,Ie-6,Ie-3,Ie-2,Ie-1);tt(et[0]),tt(et[1]),tt(et[3]),tt(et[1]),tt(et[2]),tt(et[3])}function Te(de){l.push(d[de*3+0]),l.push(d[de*3+1]),l.push(d[de*3+2])}function tt(de){u.push(de.x),u.push(de.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,o=this.parameters.options;return toJSON$1(n,o,e)}static fromJSON(e,n){const o=[];for(let u=0,h=e.shapes.length;u<h;u++){const f=n[e.shapes[u]];o.push(f)}const l=e.options.extrudePath;return l!==void 0&&(e.options.extrudePath=new Curves[l.type]().fromJSON(l)),new ExtrudeGeometry(o,e.options)}}const WorldUVGenerator={generateTopUV:function(t,e,n,o,l){const u=e[n*3],h=e[n*3+1],f=e[o*3],d=e[o*3+1],p=e[l*3],m=e[l*3+1];return[new Vector2(u,h),new Vector2(f,d),new Vector2(p,m)]},generateSideWallUV:function(t,e,n,o,l,u){const h=e[n*3],f=e[n*3+1],d=e[n*3+2],p=e[o*3],m=e[o*3+1],v=e[o*3+2],_=e[l*3],S=e[l*3+1],T=e[l*3+2],A=e[u*3],w=e[u*3+1],C=e[u*3+2];return Math.abs(f-m)<Math.abs(h-p)?[new Vector2(h,1-d),new Vector2(p,1-v),new Vector2(_,1-T),new Vector2(A,1-C)]:[new Vector2(f,1-d),new Vector2(m,1-v),new Vector2(S,1-T),new Vector2(w,1-C)]}};function toJSON$1(t,e,n){if(n.shapes=[],Array.isArray(t))for(let o=0,l=t.length;o<l;o++){const u=t[o];n.shapes.push(u.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],u=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(l,u,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],n=12,o=0,l=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:o,phiLength:l},n=Math.floor(n),l=clamp(l,0,Math.PI*2);const u=[],h=[],f=[],d=[],p=[],m=1/n,v=new Vector3,_=new Vector2,S=new Vector3,T=new Vector3,A=new Vector3;let w=0,C=0;for(let O=0;O<=e.length-1;O++)switch(O){case 0:w=e[O+1].x-e[O].x,C=e[O+1].y-e[O].y,S.x=C*1,S.y=-w,S.z=C*0,A.copy(S),S.normalize(),d.push(S.x,S.y,S.z);break;case e.length-1:d.push(A.x,A.y,A.z);break;default:w=e[O+1].x-e[O].x,C=e[O+1].y-e[O].y,S.x=C*1,S.y=-w,S.z=C*0,T.copy(S),S.x+=A.x,S.y+=A.y,S.z+=A.z,S.normalize(),d.push(S.x,S.y,S.z),A.copy(T)}for(let O=0;O<=n;O++){const L=o+O*m*l,F=Math.sin(L),B=Math.cos(L);for(let U=0;U<=e.length-1;U++){v.x=e[U].x*F,v.y=e[U].y,v.z=e[U].x*B,h.push(v.x,v.y,v.z),_.x=O/n,_.y=U/(e.length-1),f.push(_.x,_.y);const V=d[3*U+0]*F,q=d[3*U+1],H=d[3*U+0]*B;p.push(V,q,H)}}for(let O=0;O<n;O++)for(let L=0;L<e.length-1;L++){const F=L+O*e.length,B=F,U=F+e.length,V=F+e.length+1,q=F+1;u.push(B,U,q),u.push(V,q,U)}this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("uv",new Float32BufferAttribute(f,2)),this.setAttribute("normal",new Float32BufferAttribute(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],l=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(o,l,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class PlaneGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:o,heightSegments:l};const u=e/2,h=n/2,f=Math.floor(o),d=Math.floor(l),p=f+1,m=d+1,v=e/f,_=n/d,S=[],T=[],A=[],w=[];for(let C=0;C<m;C++){const O=C*_-h;for(let L=0;L<p;L++){const F=L*v-u;T.push(F,-O,0),A.push(0,0,1),w.push(L/f),w.push(1-C/d)}}for(let C=0;C<d;C++)for(let O=0;O<f;O++){const L=O+p*C,F=O+p*(C+1),B=O+1+p*(C+1),U=O+1+p*C;S.push(L,F,U),S.push(F,B,U)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(T,3)),this.setAttribute("normal",new Float32BufferAttribute(A,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(e=.5,n=1,o=32,l=1,u=0,h=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:o,phiSegments:l,thetaStart:u,thetaLength:h},o=Math.max(3,o),l=Math.max(1,l);const f=[],d=[],p=[],m=[];let v=e;const _=(n-e)/l,S=new Vector3,T=new Vector2;for(let A=0;A<=l;A++){for(let w=0;w<=o;w++){const C=u+w/o*h;S.x=v*Math.cos(C),S.y=v*Math.sin(C),d.push(S.x,S.y,S.z),p.push(0,0,1),T.x=(S.x/n+1)/2,T.y=(S.y/n+1)/2,m.push(T.x,T.y)}v+=_}for(let A=0;A<l;A++){const w=A*(o+1);for(let C=0;C<o;C++){const O=C+w,L=O,F=O+o+1,B=O+o+2,U=O+1;f.push(L,F,U),f.push(F,B,U)}}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const o=[],l=[],u=[],h=[];let f=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(f,d,m),f+=d,d=0;this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("normal",new Float32BufferAttribute(u,3)),this.setAttribute("uv",new Float32BufferAttribute(h,2));function p(m){const v=l.length/3,_=m.extractPoints(n);let S=_.shape;const T=_.holes;ShapeUtils.isClockWise(S)===!1&&(S=S.reverse());for(let w=0,C=T.length;w<C;w++){const O=T[w];ShapeUtils.isClockWise(O)===!0&&(T[w]=O.reverse())}const A=ShapeUtils.triangulateShape(S,T);for(let w=0,C=T.length;w<C;w++){const O=T[w];S=S.concat(O)}for(let w=0,C=S.length;w<C;w++){const O=S[w];l.push(O.x,O.y,0),u.push(0,0,1),h.push(O.x,O.y)}for(let w=0,C=A.length;w<C;w++){const O=A[w],L=O[0]+v,F=O[1]+v,B=O[2]+v;o.push(L,F,B),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return toJSON(n,e)}static fromJSON(e,n){const o=[];for(let l=0,u=e.shapes.length;l<u;l++){const h=n[e.shapes[l]];o.push(h)}return new ShapeGeometry(o,e.curveSegments)}}function toJSON(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,o=t.length;n<o;n++){const l=t[n];e.shapes.push(l.uuid)}else e.shapes.push(t.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,n=32,o=16,l=0,u=Math.PI*2,h=0,f=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:o,phiStart:l,phiLength:u,thetaStart:h,thetaLength:f},n=Math.max(3,Math.floor(n)),o=Math.max(2,Math.floor(o));const d=Math.min(h+f,Math.PI);let p=0;const m=[],v=new Vector3,_=new Vector3,S=[],T=[],A=[],w=[];for(let C=0;C<=o;C++){const O=[],L=C/o;let F=0;C===0&&h===0?F=.5/n:C===o&&d===Math.PI&&(F=-.5/n);for(let B=0;B<=n;B++){const U=B/n;v.x=-e*Math.cos(l+U*u)*Math.sin(h+L*f),v.y=e*Math.cos(h+L*f),v.z=e*Math.sin(l+U*u)*Math.sin(h+L*f),T.push(v.x,v.y,v.z),_.copy(v).normalize(),A.push(_.x,_.y,_.z),w.push(U+F,1-L),O.push(p++)}m.push(O)}for(let C=0;C<o;C++)for(let O=0;O<n;O++){const L=m[C][O+1],F=m[C][O],B=m[C+1][O],U=m[C+1][O+1];(C!==0||h>0)&&S.push(L,F,U),(C!==o-1||d<Math.PI)&&S.push(F,B,U)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(T,3)),this.setAttribute("normal",new Float32BufferAttribute(A,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],l=[2,1,0,0,3,2,1,3,0,2,3,1];super(o,l,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,n=.4,o=12,l=48,u=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:o,tubularSegments:l,arc:u},o=Math.floor(o),l=Math.floor(l);const h=[],f=[],d=[],p=[],m=new Vector3,v=new Vector3,_=new Vector3;for(let S=0;S<=o;S++)for(let T=0;T<=l;T++){const A=T/l*u,w=S/o*Math.PI*2;v.x=(e+n*Math.cos(w))*Math.cos(A),v.y=(e+n*Math.cos(w))*Math.sin(A),v.z=n*Math.sin(w),f.push(v.x,v.y,v.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),_.subVectors(v,m).normalize(),d.push(_.x,_.y,_.z),p.push(T/l),p.push(S/o)}for(let S=1;S<=o;S++)for(let T=1;T<=l;T++){const A=(l+1)*S+T-1,w=(l+1)*(S-1)+T-1,C=(l+1)*(S-1)+T,O=(l+1)*S+T;h.push(A,w,O),h.push(w,C,O)}this.setIndex(h),this.setAttribute("position",new Float32BufferAttribute(f,3)),this.setAttribute("normal",new Float32BufferAttribute(d,3)),this.setAttribute("uv",new Float32BufferAttribute(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,n=.4,o=64,l=8,u=2,h=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:o,radialSegments:l,p:u,q:h},o=Math.floor(o),l=Math.floor(l);const f=[],d=[],p=[],m=[],v=new Vector3,_=new Vector3,S=new Vector3,T=new Vector3,A=new Vector3,w=new Vector3,C=new Vector3;for(let L=0;L<=o;++L){const F=L/o*u*Math.PI*2;O(F,u,h,e,S),O(F+.01,u,h,e,T),w.subVectors(T,S),C.addVectors(T,S),A.crossVectors(w,C),C.crossVectors(A,w),A.normalize(),C.normalize();for(let B=0;B<=l;++B){const U=B/l*Math.PI*2,V=-n*Math.cos(U),q=n*Math.sin(U);v.x=S.x+(V*C.x+q*A.x),v.y=S.y+(V*C.y+q*A.y),v.z=S.z+(V*C.z+q*A.z),d.push(v.x,v.y,v.z),_.subVectors(v,S).normalize(),p.push(_.x,_.y,_.z),m.push(L/o),m.push(B/l)}}for(let L=1;L<=o;L++)for(let F=1;F<=l;F++){const B=(l+1)*(L-1)+(F-1),U=(l+1)*L+(F-1),V=(l+1)*L+F,q=(l+1)*(L-1)+F;f.push(B,U,q),f.push(U,V,q)}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2));function O(L,F,B,U,V){const q=Math.cos(L),H=Math.sin(L),G=B/F*L,Y=Math.cos(G);V.x=U*(2+Y)*.5*q,V.y=U*(2+Y)*H*.5,V.z=U*Math.sin(G)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),n=64,o=1,l=8,u=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:o,radialSegments:l,closed:u};const h=e.computeFrenetFrames(n,u);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;const f=new Vector3,d=new Vector3,p=new Vector2;let m=new Vector3;const v=[],_=[],S=[],T=[];A(),this.setIndex(T),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function A(){for(let L=0;L<n;L++)w(L);w(u===!1?n:0),O(),C()}function w(L){m=e.getPointAt(L/n,m);const F=h.normals[L],B=h.binormals[L];for(let U=0;U<=l;U++){const V=U/l*Math.PI*2,q=Math.sin(V),H=-Math.cos(V);d.x=H*F.x+q*B.x,d.y=H*F.y+q*B.y,d.z=H*F.z+q*B.z,d.normalize(),_.push(d.x,d.y,d.z),f.x=m.x+o*d.x,f.y=m.y+o*d.y,f.z=m.z+o*d.z,v.push(f.x,f.y,f.z)}}function C(){for(let L=1;L<=n;L++)for(let F=1;F<=l;F++){const B=(l+1)*(L-1)+(F-1),U=(l+1)*L+(F-1),V=(l+1)*L+F,q=(l+1)*(L-1)+F;T.push(B,U,q),T.push(U,V,q)}}function O(){for(let L=0;L<=n;L++)for(let F=0;F<=l;F++)p.x=L/n,p.y=F/l,S.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],o=new Set,l=new Vector3,u=new Vector3;if(e.index!==null){const h=e.attributes.position,f=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:f.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const v=d[p],_=v.start,S=v.count;for(let T=_,A=_+S;T<A;T+=3)for(let w=0;w<3;w++){const C=f.getX(T+w),O=f.getX(T+(w+1)%3);l.fromBufferAttribute(h,C),u.fromBufferAttribute(h,O),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}}else{const h=e.attributes.position;for(let f=0,d=h.count/3;f<d;f++)for(let p=0;p<3;p++){const m=3*f+p,v=3*f+(p+1)%3;l.fromBufferAttribute(h,m),u.fromBufferAttribute(h,v),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}this.setAttribute("position",new Float32BufferAttribute(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(t,e,n){const o=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,l=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(o)===!0||n.has(l)===!0?!1:(n.add(o),n.add(l),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function convertArray(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function isTypedArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function getKeyframeOrder(t){function e(l,u){return t[l]-t[u]}const n=t.length,o=new Array(n);for(let l=0;l!==n;++l)o[l]=l;return o.sort(e),o}function sortedArray(t,e,n){const o=t.length,l=new t.constructor(o);for(let u=0,h=0;h!==o;++u){const f=n[u]*e;for(let d=0;d!==e;++d)l[h++]=t[f+d]}return l}function flattenJSON(t,e,n,o){let l=1,u=t[0];for(;u!==void 0&&u[o]===void 0;)u=t[l++];if(u===void 0)return;let h=u[o];if(h!==void 0)if(Array.isArray(h))do h=u[o],h!==void 0&&(e.push(u.time),n.push(...h)),u=t[l++];while(u!==void 0);else if(h.toArray!==void 0)do h=u[o],h!==void 0&&(e.push(u.time),h.toArray(n,n.length)),u=t[l++];while(u!==void 0);else do h=u[o],h!==void 0&&(e.push(u.time),n.push(h)),u=t[l++];while(u!==void 0)}function subclip(t,e,n,o,l=30){const u=t.clone();u.name=e;const h=[];for(let d=0;d<u.tracks.length;++d){const p=u.tracks[d],m=p.getValueSize(),v=[],_=[];for(let S=0;S<p.times.length;++S){const T=p.times[S]*l;if(!(T<n||T>=o)){v.push(p.times[S]);for(let A=0;A<m;++A)_.push(p.values[S*m+A])}}v.length!==0&&(p.times=convertArray(v,p.times.constructor),p.values=convertArray(_,p.values.constructor),h.push(p))}u.tracks=h;let f=1/0;for(let d=0;d<u.tracks.length;++d)f>u.tracks[d].times[0]&&(f=u.tracks[d].times[0]);for(let d=0;d<u.tracks.length;++d)u.tracks[d].shift(-1*f);return u.resetDuration(),u}function makeClipAdditive(t,e=0,n=t,o=30){o<=0&&(o=30);const l=n.tracks.length,u=e/o;for(let h=0;h<l;++h){const f=n.tracks[h],d=f.ValueTypeName;if(d==="bool"||d==="string")continue;const p=t.tracks.find(function(C){return C.name===f.name&&C.ValueTypeName===d});if(p===void 0)continue;let m=0;const v=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const S=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=S/3);const T=f.times.length-1;let A;if(u<=f.times[0]){const C=m,O=v-m;A=f.values.slice(C,O)}else if(u>=f.times[T]){const C=T*v+m,O=C+v-m;A=f.values.slice(C,O)}else{const C=f.createInterpolant(),O=m,L=v-m;C.evaluate(u),A=C.resultBuffer.slice(O,L)}d==="quaternion"&&new Quaternion().fromArray(A).normalize().conjugate().toArray(A);const w=p.times.length;for(let C=0;C<w;++C){const O=C*S+_;if(d==="quaternion")Quaternion.multiplyQuaternionsFlat(p.values,O,A,0,p.values,O);else{const L=S-_*2;for(let F=0;F<L;++F)p.values[O+F]-=A[F]}}}return t.blendMode=AdditiveAnimationBlendMode,t}class AnimationUtils{static convertArray(e,n){return convertArray(e,n)}static isTypedArray(e){return isTypedArray$1(e)}static getKeyframeOrder(e){return getKeyframeOrder(e)}static sortedArray(e,n,o){return sortedArray(e,n,o)}static flattenJSON(e,n,o,l){flattenJSON(e,n,o,l)}static subclip(e,n,o,l,u=30){return subclip(e,n,o,l,u)}static makeClipAdditive(e,n=0,o=e,l=30){return makeClipAdditive(e,n,o,l)}}class Interpolant{constructor(e,n,o,l){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=l!==void 0?l:new n.constructor(o),this.sampleValues=n,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let o=this._cachedIndex,l=n[o],u=n[o-1];e:{t:{let h;n:{r:if(!(e<l)){for(let f=o+2;;){if(l===void 0){if(e<u)break r;return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}if(o===f)break;if(u=l,l=n[++o],e<l)break t}h=n.length;break n}if(!(e>=u)){const f=n[1];e<f&&(o=2,u=f);for(let d=o-2;;){if(u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===d)break;if(l=u,u=n[--o-1],e>=u)break t}h=o,o=0;break n}break e}for(;o<h;){const f=o+h>>>1;e<n[f]?h=f:o=f+1}if(l=n[o],u=n[o-1],u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(l===void 0)return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}this._cachedIndex=o,this.intervalChanged_(o,u,l)}return this.interpolate_(o,u,e,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l;for(let h=0;h!==l;++h)n[h]=o[u+h];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,n,o){const l=this.parameterPositions;let u=e-2,h=e+1,f=l[u],d=l[h];if(f===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:u=e,f=2*n-o;break;case WrapAroundEnding:u=l.length-2,f=n+l[u]-l[u+1];break;default:u=e,f=o}if(d===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:h=e,d=2*o-n;break;case WrapAroundEnding:h=1,d=o+l[1]-l[0];break;default:h=e-1,d=n}const p=(o-n)*.5,m=this.valueSize;this._weightPrev=p/(n-f),this._weightNext=p/(d-o),this._offsetPrev=u*m,this._offsetNext=h*m}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=e*f,p=d-f,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,S=this._weightNext,T=(o-n)/(l-n),A=T*T,w=A*T,C=-_*w+2*_*A-_*T,O=(1+_)*w+(-1.5-2*_)*A+(-.5+_)*T+1,L=(-1-S)*w+(1.5+S)*A+.5*T,F=S*w-S*A;for(let B=0;B!==f;++B)u[B]=C*h[m+B]+O*h[p+B]+L*h[d+B]+F*h[v+B];return u}}class LinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=e*f,p=d-f,m=(o-n)/(l-n),v=1-m;for(let _=0;_!==f;++_)u[_]=h[p+_]*v+h[d+_]*m;return u}}class DiscreteInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,n,o,l){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(n,this.TimeBufferType),this.values=convertArray(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let o;if(n.toJSON!==this.toJSON)o=n.toJSON(e);else{o={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const l=e.getInterpolation();l!==e.DefaultInterpolation&&(o.interpolation=l)}return o.type=e.ValueTypeName,o}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case InterpolateDiscrete:n=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:n=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]*=e}return this}trim(e,n){const o=this.times,l=o.length;let u=0,h=l-1;for(;u!==l&&o[u]<e;)++u;for(;h!==-1&&o[h]>n;)--h;if(++h,u!==0||h!==l){u>=h&&(h=Math.max(h,1),u=h-1);const f=this.getValueSize();this.times=o.slice(u,h),this.values=this.values.slice(u*f,h*f)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const o=this.times,l=this.values,u=o.length;u===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let h=null;for(let f=0;f!==u;f++){const d=o[f];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,d),e=!1;break}if(h!==null&&h>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,d,h),e=!1;break}h=d}if(l!==void 0&&isTypedArray$1(l))for(let f=0,d=l.length;f!==d;++f){const p=l[f];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),o=this.getValueSize(),l=this.getInterpolation()===InterpolateSmooth,u=e.length-1;let h=1;for(let f=1;f<u;++f){let d=!1;const p=e[f],m=e[f+1];if(p!==m&&(f!==1||p!==e[0]))if(l)d=!0;else{const v=f*o,_=v-o,S=v+o;for(let T=0;T!==o;++T){const A=n[v+T];if(A!==n[_+T]||A!==n[S+T]){d=!0;break}}}if(d){if(f!==h){e[h]=e[f];const v=f*o,_=h*o;for(let S=0;S!==o;++S)n[_+S]=n[v+S]}++h}}if(u>0){e[h]=e[u];for(let f=u*o,d=h*o,p=0;p!==o;++p)n[d+p]=n[f+p];++h}return h!==e.length?(this.times=e.slice(0,h),this.values=n.slice(0,h*o)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),o=this.constructor,l=new o(this.name,e,n);return l.createInterpolant=this.createInterpolant,l}}KeyframeTrack.prototype.ValueTypeName="";KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(e,n,o){super(e,n,o)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{constructor(e,n,o,l){super(e,n,o,l)}}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{constructor(e,n,o,l){super(e,n,o,l)}}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=(o-n)/(l-n);let p=e*f;for(let m=p+f;p!==m;p+=4)Quaternion.slerpFlat(u,0,h,p-f,h,p,d);return u}}class QuaternionKeyframeTrack extends KeyframeTrack{constructor(e,n,o,l){super(e,n,o,l)}InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(e,n,o){super(e,n,o)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{constructor(e,n,o,l){super(e,n,o,l)}}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e="",n=-1,o=[],l=NormalAnimationBlendMode){this.name=e,this.tracks=o,this.duration=n,this.blendMode=l,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],o=e.tracks,l=1/(e.fps||1);for(let h=0,f=o.length;h!==f;++h)n.push(parseKeyframeTrack(o[h]).scale(l));const u=new this(e.name,e.duration,n,e.blendMode);return u.uuid=e.uuid,u}static toJSON(e){const n=[],o=e.tracks,l={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let u=0,h=o.length;u!==h;++u)n.push(KeyframeTrack.toJSON(o[u]));return l}static CreateFromMorphTargetSequence(e,n,o,l){const u=n.length,h=[];for(let f=0;f<u;f++){let d=[],p=[];d.push((f+u-1)%u,f,(f+1)%u),p.push(0,1,0);const m=getKeyframeOrder(d);d=sortedArray(d,1,m),p=sortedArray(p,1,m),!l&&d[0]===0&&(d.push(u),p.push(p[0])),h.push(new NumberKeyframeTrack(".morphTargetInfluences["+n[f].name+"]",d,p).scale(1/o))}return new this(e,-1,h)}static findByName(e,n){let o=e;if(!Array.isArray(e)){const l=e;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===n)return o[l];return null}static CreateClipsFromMorphTargetSequences(e,n,o){const l={},u=/^([\w-]*?)([\d]+)$/;for(let f=0,d=e.length;f<d;f++){const p=e[f],m=p.name.match(u);if(m&&m.length>1){const v=m[1];let _=l[v];_||(l[v]=_=[]),_.push(p)}}const h=[];for(const f in l)h.push(this.CreateFromMorphTargetSequence(f,l[f],n,o));return h}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(v,_,S,T,A){if(S.length!==0){const w=[],C=[];flattenJSON(S,w,C,T),w.length!==0&&A.push(new v(_,w,C))}},l=[],u=e.name||"default",h=e.fps||30,f=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const _=p[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const S={};let T;for(T=0;T<_.length;T++)if(_[T].morphTargets)for(let A=0;A<_[T].morphTargets.length;A++)S[_[T].morphTargets[A]]=-1;for(const A in S){const w=[],C=[];for(let O=0;O!==_[T].morphTargets.length;++O){const L=_[T];w.push(L.time),C.push(L.morphTarget===A?1:0)}l.push(new NumberKeyframeTrack(".morphTargetInfluence["+A+"]",w,C))}d=S.length*h}else{const S=".bones["+n[v].name+"]";o(VectorKeyframeTrack,S+".position",_,"pos",l),o(QuaternionKeyframeTrack,S+".quaternion",_,"rot",l),o(VectorKeyframeTrack,S+".scale",_,"scl",l)}}return l.length===0?null:new this(u,d,l,f)}resetDuration(){const e=this.tracks;let n=0;for(let o=0,l=e.length;o!==l;++o){const u=this.tracks[o];n=Math.max(n,u.times[u.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function parseKeyframeTrack(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(t.type);if(t.times===void 0){const n=[],o=[];flattenJSON(t.keys,n,o,"value"),t.times=n,t.values=o}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,n,o){const l=this;let u=!1,h=0,f=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=o,this.itemStart=function(m){f++,u===!1&&l.onStart!==void 0&&l.onStart(m,h,f),u=!0},this.itemEnd=function(m){h++,l.onProgress!==void 0&&l.onProgress(m,h,f),h===f&&(u=!1,l.onLoad!==void 0&&l.onLoad())},this.itemError=function(m){l.onError!==void 0&&l.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=p.length;v<_;v+=2){const S=p[v],T=p[v+1];if(S.global&&(S.lastIndex=0),S.test(m))return T}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const o=this;return new Promise(function(l,u){o.load(e,l,n,u)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,n){super(e),this.response=n}}class FileLoader extends Loader{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=Cache.get(e);if(u!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(u),this.manager.itemEnd(e)},0),u;if(loading[e]!==void 0){loading[e].push({onLoad:n,onProgress:o,onError:l});return}loading[e]=[],loading[e].push({onLoad:n,onProgress:o,onError:l});const h=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),f=this.mimeType,d=this.responseType;fetch(h).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=loading[e],v=p.body.getReader(),_=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),S=_?parseInt(_):0,T=S!==0;let A=0;const w=new ReadableStream({start(C){O();function O(){v.read().then(({done:L,value:F})=>{if(L)C.close();else{A+=F.byteLength;const B=new ProgressEvent("progress",{lengthComputable:T,loaded:A,total:S});for(let U=0,V=m.length;U<V;U++){const q=m[U];q.onProgress&&q.onProgress(B)}C.enqueue(F),O()}},L=>{C.error(L)})}}});return new Response(w)}else throw new HttpError(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,f));case"json":return p.json();default:if(f==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(f),_=v&&v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(_);return p.arrayBuffer().then(T=>S.decode(T))}}}).then(p=>{Cache.add(e,p);const m=loading[e];delete loading[e];for(let v=0,_=m.length;v<_;v++){const S=m[v];S.onLoad&&S.onLoad(p)}}).catch(p=>{const m=loading[e];if(m===void 0)throw this.manager.itemError(e),p;delete loading[e];for(let v=0,_=m.length;v<_;v++){const S=m[v];S.onError&&S.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=[];for(let o=0;o<e.length;o++){const l=AnimationClip.parse(e[o]);n.push(l)}return n}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=[],f=new CompressedTexture,d=new FileLoader(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(u.withCredentials);let p=0;function m(v){d.load(e[v],function(_){const S=u.parse(_,!0);h[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},p+=1,p===6&&(S.mipmapCount===1&&(f.minFilter=LinearFilter),f.image=h,f.format=S.format,f.needsUpdate=!0,n&&n(f))},o,l)}if(Array.isArray(e))for(let v=0,_=e.length;v<_;++v)m(v);else d.load(e,function(v){const _=u.parse(v,!0);if(_.isCubemap){const S=_.mipmaps.length/_.mipmapCount;for(let T=0;T<S;T++){h[T]={mipmaps:[]};for(let A=0;A<_.mipmapCount;A++)h[T].mipmaps.push(_.mipmaps[T*_.mipmapCount+A]),h[T].format=_.format,h[T].width=_.width,h[T].height=_.height}f.image=h}else f.image.width=_.width,f.image.height=_.height,f.mipmaps=_.mipmaps;_.mipmapCount===1&&(f.minFilter=LinearFilter),f.format=_.format,f.needsUpdate=!0,n&&n(f)},o,l);return f}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,h=Cache.get(e);if(h!==void 0)return u.manager.itemStart(e),setTimeout(function(){n&&n(h),u.manager.itemEnd(e)},0),h;const f=createElementNS("img");function d(){m(),Cache.add(e,this),n&&n(this),u.manager.itemEnd(e)}function p(v){m(),l&&l(v),u.manager.itemError(e),u.manager.itemEnd(e)}function m(){f.removeEventListener("load",d,!1),f.removeEventListener("error",p,!1)}return f.addEventListener("load",d,!1),f.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(f.crossOrigin=this.crossOrigin),u.manager.itemStart(e),f.src=e,f}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new CubeTexture;u.colorSpace=SRGBColorSpace;const h=new ImageLoader(this.manager);h.setCrossOrigin(this.crossOrigin),h.setPath(this.path);let f=0;function d(p){h.load(e[p],function(m){u.images[p]=m,f++,f===6&&(u.needsUpdate=!0,n&&n(u))},void 0,l)}for(let p=0;p<e.length;++p)d(p);return u}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new DataTexture,f=new FileLoader(this.manager);return f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setPath(this.path),f.setWithCredentials(u.withCredentials),f.load(e,function(d){let p;try{p=u.parse(d)}catch(m){if(l!==void 0)l(m);else{console.error(m);return}}p.image!==void 0?h.image=p.image:p.data!==void 0&&(h.image.width=p.width,h.image.height=p.height,h.image.data=p.data),h.wrapS=p.wrapS!==void 0?p.wrapS:ClampToEdgeWrapping,h.wrapT=p.wrapT!==void 0?p.wrapT:ClampToEdgeWrapping,h.magFilter=p.magFilter!==void 0?p.magFilter:LinearFilter,h.minFilter=p.minFilter!==void 0?p.minFilter:LinearFilter,h.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(h.colorSpace=p.colorSpace),p.flipY!==void 0&&(h.flipY=p.flipY),p.format!==void 0&&(h.format=p.format),p.type!==void 0&&(h.type=p.type),p.mipmaps!==void 0&&(h.mipmaps=p.mipmaps,h.minFilter=LinearMipmapLinearFilter),p.mipmapCount===1&&(h.minFilter=LinearFilter),p.generateMipmaps!==void 0&&(h.generateMipmaps=p.generateMipmaps),h.needsUpdate=!0,n&&n(h,p)},o,l),h}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new Texture,h=new ImageLoader(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(e,function(f){u.image=f,u.needsUpdate=!0,n!==void 0&&n(u)},o,l),u}}class Light extends Object3D{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class HemisphereLight extends Light{constructor(e,n,o){super(e,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.mapType=UnsignedByteType,this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,o=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),n.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(_lookTarget$1),n.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,o=RAD2DEG*2*e.angle*this.focus,l=this.mapSize.width/this.mapSize.height*this.aspect,u=e.distance||n.far;(o!==n.fov||l!==n.aspect||u!==n.far)&&(n.fov=o,n.aspect=l,n.far=u,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,n,o=0,l=Math.PI/3,u=0,h=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=o,this.angle=l,this.penumbra=u,this.decay=h,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,n=0){const o=this.camera,l=this.matrix,u=e.distance||o.far;u!==o.far&&(o.far=u,o.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),o.position.copy(_lightPositionWorld),_lookTarget.copy(o.position),_lookTarget.add(this._cubeDirections[n]),o.up.copy(this._cubeUps[n]),o.lookAt(_lookTarget),o.updateMatrixWorld(),l.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,n,o=0,l=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(e=-1,n=1,o=1,l=-1,u=.1,h=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=o,this.bottom=l,this.near=u,this.far=h,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,o,l,u,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let u=o-e,h=o+e,f=l+n,d=l-n;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=p*this.view.offsetX,h=u+p*this.view.width,f-=m*this.view.offsetY,d=f-m*this.view.height}this.projectionMatrix.makeOrthographic(u,h,f,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,n,o=10,l=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=o,this.height=l}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const o=e.x,l=e.y,u=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.282095),n.addScaledVector(h[1],.488603*l),n.addScaledVector(h[2],.488603*u),n.addScaledVector(h[3],.488603*o),n.addScaledVector(h[4],1.092548*(o*l)),n.addScaledVector(h[5],1.092548*(l*u)),n.addScaledVector(h[6],.315392*(3*u*u-1)),n.addScaledVector(h[7],1.092548*(o*u)),n.addScaledVector(h[8],.546274*(o*o-l*l)),n}getIrradianceAt(e,n){const o=e.x,l=e.y,u=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.886227),n.addScaledVector(h[1],2*.511664*l),n.addScaledVector(h[2],2*.511664*u),n.addScaledVector(h[3],2*.511664*o),n.addScaledVector(h[4],2*.429043*o*l),n.addScaledVector(h[5],2*.429043*l*u),n.addScaledVector(h[6],.743125*u*u-.247708),n.addScaledVector(h[7],2*.429043*o*u),n.addScaledVector(h[8],.429043*(o*o-l*l)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(e,n+l*3);return this}toArray(e=[],n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(e,n+l*3);return e}static getBasisAt(e,n){const o=e.x,l=e.y,u=e.z;n[0]=.282095,n[1]=.488603*l,n[2]=.488603*u,n[3]=.488603*o,n[4]=1.092548*o*l,n[5]=1.092548*l*u,n[6]=.315392*(3*u*u-1),n[7]=1.092548*o*u,n[8]=.546274*(o*o-l*l)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,n,o,l){const u=this,h=new FileLoader(u.manager);h.setPath(u.path),h.setRequestHeader(u.requestHeader),h.setWithCredentials(u.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=this.textures;function o(u){return n[u]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",u),n[u]}const l=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(l.uuid=e.uuid),e.name!==void 0&&(l.name=e.name),e.color!==void 0&&l.color!==void 0&&l.color.setHex(e.color),e.roughness!==void 0&&(l.roughness=e.roughness),e.metalness!==void 0&&(l.metalness=e.metalness),e.sheen!==void 0&&(l.sheen=e.sheen),e.sheenColor!==void 0&&(l.sheenColor=new Color$1().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(l.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&l.emissive!==void 0&&l.emissive.setHex(e.emissive),e.specular!==void 0&&l.specular!==void 0&&l.specular.setHex(e.specular),e.specularIntensity!==void 0&&(l.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&l.specularColor!==void 0&&l.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(l.shininess=e.shininess),e.clearcoat!==void 0&&(l.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(l.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(l.dispersion=e.dispersion),e.iridescence!==void 0&&(l.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(l.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(l.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(l.transmission=e.transmission),e.thickness!==void 0&&(l.thickness=e.thickness),e.attenuationDistance!==void 0&&(l.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&l.attenuationColor!==void 0&&l.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(l.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(l.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(l.fog=e.fog),e.flatShading!==void 0&&(l.flatShading=e.flatShading),e.blending!==void 0&&(l.blending=e.blending),e.combine!==void 0&&(l.combine=e.combine),e.side!==void 0&&(l.side=e.side),e.shadowSide!==void 0&&(l.shadowSide=e.shadowSide),e.opacity!==void 0&&(l.opacity=e.opacity),e.transparent!==void 0&&(l.transparent=e.transparent),e.alphaTest!==void 0&&(l.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(l.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(l.depthFunc=e.depthFunc),e.depthTest!==void 0&&(l.depthTest=e.depthTest),e.depthWrite!==void 0&&(l.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(l.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(l.blendSrc=e.blendSrc),e.blendDst!==void 0&&(l.blendDst=e.blendDst),e.blendEquation!==void 0&&(l.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(l.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(l.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(l.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&l.blendColor!==void 0&&l.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(l.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(l.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(l.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(l.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(l.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(l.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(l.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(l.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(l.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(l.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(l.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(l.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(l.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(l.rotation=e.rotation),e.linewidth!==void 0&&(l.linewidth=e.linewidth),e.dashSize!==void 0&&(l.dashSize=e.dashSize),e.gapSize!==void 0&&(l.gapSize=e.gapSize),e.scale!==void 0&&(l.scale=e.scale),e.polygonOffset!==void 0&&(l.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(l.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(l.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(l.dithering=e.dithering),e.alphaToCoverage!==void 0&&(l.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(l.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(l.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(l.visible=e.visible),e.toneMapped!==void 0&&(l.toneMapped=e.toneMapped),e.userData!==void 0&&(l.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?l.vertexColors=e.vertexColors>0:l.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const u in e.uniforms){const h=e.uniforms[u];switch(l.uniforms[u]={},h.type){case"t":l.uniforms[u].value=o(h.value);break;case"c":l.uniforms[u].value=new Color$1().setHex(h.value);break;case"v2":l.uniforms[u].value=new Vector2().fromArray(h.value);break;case"v3":l.uniforms[u].value=new Vector3().fromArray(h.value);break;case"v4":l.uniforms[u].value=new Vector4().fromArray(h.value);break;case"m3":l.uniforms[u].value=new Matrix3().fromArray(h.value);break;case"m4":l.uniforms[u].value=new Matrix4().fromArray(h.value);break;default:l.uniforms[u].value=h.value}}if(e.defines!==void 0&&(l.defines=e.defines),e.vertexShader!==void 0&&(l.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(l.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(l.glslVersion=e.glslVersion),e.extensions!==void 0)for(const u in e.extensions)l.extensions[u]=e.extensions[u];if(e.lights!==void 0&&(l.lights=e.lights),e.clipping!==void 0&&(l.clipping=e.clipping),e.size!==void 0&&(l.size=e.size),e.sizeAttenuation!==void 0&&(l.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(l.map=o(e.map)),e.matcap!==void 0&&(l.matcap=o(e.matcap)),e.alphaMap!==void 0&&(l.alphaMap=o(e.alphaMap)),e.bumpMap!==void 0&&(l.bumpMap=o(e.bumpMap)),e.bumpScale!==void 0&&(l.bumpScale=e.bumpScale),e.normalMap!==void 0&&(l.normalMap=o(e.normalMap)),e.normalMapType!==void 0&&(l.normalMapType=e.normalMapType),e.normalScale!==void 0){let u=e.normalScale;Array.isArray(u)===!1&&(u=[u,u]),l.normalScale=new Vector2().fromArray(u)}return e.displacementMap!==void 0&&(l.displacementMap=o(e.displacementMap)),e.displacementScale!==void 0&&(l.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(l.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(l.roughnessMap=o(e.roughnessMap)),e.metalnessMap!==void 0&&(l.metalnessMap=o(e.metalnessMap)),e.emissiveMap!==void 0&&(l.emissiveMap=o(e.emissiveMap)),e.emissiveIntensity!==void 0&&(l.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(l.specularMap=o(e.specularMap)),e.specularIntensityMap!==void 0&&(l.specularIntensityMap=o(e.specularIntensityMap)),e.specularColorMap!==void 0&&(l.specularColorMap=o(e.specularColorMap)),e.envMap!==void 0&&(l.envMap=o(e.envMap)),e.envMapRotation!==void 0&&l.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(l.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(l.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(l.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(l.lightMap=o(e.lightMap)),e.lightMapIntensity!==void 0&&(l.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(l.aoMap=o(e.aoMap)),e.aoMapIntensity!==void 0&&(l.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(l.gradientMap=o(e.gradientMap)),e.clearcoatMap!==void 0&&(l.clearcoatMap=o(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(l.clearcoatRoughnessMap=o(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(l.clearcoatNormalMap=o(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(l.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(l.iridescenceMap=o(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(l.iridescenceThicknessMap=o(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(l.transmissionMap=o(e.transmissionMap)),e.thicknessMap!==void 0&&(l.thicknessMap=o(e.thicknessMap)),e.anisotropyMap!==void 0&&(l.anisotropyMap=o(e.anisotropyMap)),e.sheenColorMap!==void 0&&(l.sheenColorMap=o(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(l.sheenRoughnessMap=o(e.sheenRoughnessMap)),l}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return MaterialLoader.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new n[e]}}class LoaderUtils{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(u.manager);h.setPath(u.path),h.setRequestHeader(u.requestHeader),h.setWithCredentials(u.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n={},o={};function l(S,T){if(n[T]!==void 0)return n[T];const w=S.interleavedBuffers[T],C=u(S,w.buffer),O=getTypedArray(w.type,C),L=new InterleavedBuffer(O,w.stride);return L.uuid=w.uuid,n[T]=L,L}function u(S,T){if(o[T]!==void 0)return o[T];const w=S.arrayBuffers[T],C=new Uint32Array(w).buffer;return o[T]=C,C}const h=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,f=e.data.index;if(f!==void 0){const S=getTypedArray(f.type,f.array);h.setIndex(new BufferAttribute(S,1))}const d=e.data.attributes;for(const S in d){const T=d[S];let A;if(T.isInterleavedBufferAttribute){const w=l(e.data,T.data);A=new InterleavedBufferAttribute(w,T.itemSize,T.offset,T.normalized)}else{const w=getTypedArray(T.type,T.array),C=T.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;A=new C(w,T.itemSize,T.normalized)}T.name!==void 0&&(A.name=T.name),T.usage!==void 0&&A.setUsage(T.usage),h.setAttribute(S,A)}const p=e.data.morphAttributes;if(p)for(const S in p){const T=p[S],A=[];for(let w=0,C=T.length;w<C;w++){const O=T[w];let L;if(O.isInterleavedBufferAttribute){const F=l(e.data,O.data);L=new InterleavedBufferAttribute(F,O.itemSize,O.offset,O.normalized)}else{const F=getTypedArray(O.type,O.array);L=new BufferAttribute(F,O.itemSize,O.normalized)}O.name!==void 0&&(L.name=O.name),A.push(L)}h.morphAttributes[S]=A}e.data.morphTargetsRelative&&(h.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let S=0,T=v.length;S!==T;++S){const A=v[S];h.addGroup(A.start,A.count,A.materialIndex)}const _=e.data.boundingSphere;return _!==void 0&&(h.boundingSphere=new Sphere().fromJSON(_)),e.name&&(h.name=e.name),e.userData&&(h.userData=e.userData),h}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||h;const f=new FileLoader(this.manager);f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(v){l!==void 0&&l(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){l!==void 0&&l(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}u.parse(p,n)},o,l)}async loadAsync(e,n){const o=this,l=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new FileLoader(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials);const h=await u.loadAsync(e,n),f=JSON.parse(h),d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await o.parseAsync(f)}parse(e,n){const o=this.parseAnimations(e.animations),l=this.parseShapes(e.shapes),u=this.parseGeometries(e.geometries,l),h=this.parseImages(e.images,function(){n!==void 0&&n(p)}),f=this.parseTextures(e.textures,h),d=this.parseMaterials(e.materials,f),p=this.parseObject(e.object,u,d,f,o),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),n!==void 0){let v=!1;for(const _ in h)if(h[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&n(p)}return p}async parseAsync(e){const n=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),l=this.parseGeometries(e.geometries,o),u=await this.parseImagesAsync(e.images),h=this.parseTextures(e.textures,u),f=this.parseMaterials(e.materials,h),d=this.parseObject(e.object,l,f,h,n),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const n={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=new Shape$1().fromJSON(e[o]);n[u.uuid]=u}return n}parseSkeletons(e,n){const o={},l={};if(n.traverse(function(u){u.isBone&&(l[u.uuid]=u)}),e!==void 0)for(let u=0,h=e.length;u<h;u++){const f=new Skeleton().fromJSON(e[u],l);o[f.uuid]=f}return o}parseGeometries(e,n){const o={};if(e!==void 0){const l=new BufferGeometryLoader;for(let u=0,h=e.length;u<h;u++){let f;const d=e[u];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":f=l.parse(d);break;default:d.type in Geometries?f=Geometries[d.type].fromJSON(d,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}f.uuid=d.uuid,d.name!==void 0&&(f.name=d.name),d.userData!==void 0&&(f.userData=d.userData),o[d.uuid]=f}}return o}parseMaterials(e,n){const o={},l={};if(e!==void 0){const u=new MaterialLoader;u.setTextures(n);for(let h=0,f=e.length;h<f;h++){const d=e[h];o[d.uuid]===void 0&&(o[d.uuid]=u.parse(d)),l[d.uuid]=o[d.uuid]}}return l}parseAnimations(e){const n={};if(e!==void 0)for(let o=0;o<e.length;o++){const l=e[o],u=AnimationClip.parse(l);n[u.uuid]=u}return n}parseImages(e,n){const o=this,l={};let u;function h(d){return o.manager.itemStart(d),u.load(d,function(){o.manager.itemEnd(d)},void 0,function(){o.manager.itemError(d),o.manager.itemEnd(d)})}function f(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:o.resourcePath+p;return h(m)}else return d.data?{data:getTypedArray(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new LoadingManager(n);u=new ImageLoader(d),u.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],_=v.url;if(Array.isArray(_)){const S=[];for(let T=0,A=_.length;T<A;T++){const w=_[T],C=f(w);C!==null&&(C instanceof HTMLImageElement?S.push(C):S.push(new DataTexture(C.data,C.width,C.height)))}l[v.uuid]=new Source(S)}else{const S=f(v.url);l[v.uuid]=new Source(S)}}}return l}async parseImagesAsync(e){const n=this,o={};let l;async function u(h){if(typeof h=="string"){const f=h,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return await l.loadAsync(d)}else return h.data?{data:getTypedArray(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){l=new ImageLoader(this.manager),l.setCrossOrigin(this.crossOrigin);for(let h=0,f=e.length;h<f;h++){const d=e[h],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const S=p[v],T=await u(S);T!==null&&(T instanceof HTMLImageElement?m.push(T):m.push(new DataTexture(T.data,T.width,T.height)))}o[d.uuid]=new Source(m)}else{const m=await u(d.url);o[d.uuid]=new Source(m)}}}return o}parseTextures(e,n){function o(u,h){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),h[u])}const l={};if(e!==void 0)for(let u=0,h=e.length;u<h;u++){const f=e[u];f.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',f.uuid),n[f.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",f.image);const d=n[f.image],p=d.data;let m;Array.isArray(p)?(m=new CubeTexture,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new DataTexture:m=new Texture,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=f.uuid,f.name!==void 0&&(m.name=f.name),f.mapping!==void 0&&(m.mapping=o(f.mapping,TEXTURE_MAPPING)),f.channel!==void 0&&(m.channel=f.channel),f.offset!==void 0&&m.offset.fromArray(f.offset),f.repeat!==void 0&&m.repeat.fromArray(f.repeat),f.center!==void 0&&m.center.fromArray(f.center),f.rotation!==void 0&&(m.rotation=f.rotation),f.wrap!==void 0&&(m.wrapS=o(f.wrap[0],TEXTURE_WRAPPING),m.wrapT=o(f.wrap[1],TEXTURE_WRAPPING)),f.format!==void 0&&(m.format=f.format),f.internalFormat!==void 0&&(m.internalFormat=f.internalFormat),f.type!==void 0&&(m.type=f.type),f.colorSpace!==void 0&&(m.colorSpace=f.colorSpace),f.minFilter!==void 0&&(m.minFilter=o(f.minFilter,TEXTURE_FILTER)),f.magFilter!==void 0&&(m.magFilter=o(f.magFilter,TEXTURE_FILTER)),f.anisotropy!==void 0&&(m.anisotropy=f.anisotropy),f.flipY!==void 0&&(m.flipY=f.flipY),f.generateMipmaps!==void 0&&(m.generateMipmaps=f.generateMipmaps),f.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=f.premultiplyAlpha),f.unpackAlignment!==void 0&&(m.unpackAlignment=f.unpackAlignment),f.compareFunction!==void 0&&(m.compareFunction=f.compareFunction),f.userData!==void 0&&(m.userData=f.userData),l[f.uuid]=m}return l}parseObject(e,n,o,l,u){let h;function f(_){return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),n[_]}function d(_){if(_!==void 0){if(Array.isArray(_)){const S=[];for(let T=0,A=_.length;T<A;T++){const w=_[T];o[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),S.push(o[w])}return S}return o[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),o[_]}}function p(_){return l[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),l[_]}let m,v;switch(e.type){case"Scene":h=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?h.background=new Color$1(e.background):h.background=p(e.background)),e.environment!==void 0&&(h.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?h.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(h.fog=new FogExp2(e.fog.color,e.fog.density)),e.fog.name!==""&&(h.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(h.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(h.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&h.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(h.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&h.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":h=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(h.focus=e.focus),e.zoom!==void 0&&(h.zoom=e.zoom),e.filmGauge!==void 0&&(h.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(h.filmOffset=e.filmOffset),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"OrthographicCamera":h=new OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(h.zoom=e.zoom),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"AmbientLight":h=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":h=new DirectionalLight(e.color,e.intensity),h.target=e.target||"";break;case"PointLight":h=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":h=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":h=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),h.target=e.target||"";break;case"HemisphereLight":h=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":h=new LightProbe().fromJSON(e);break;case"SkinnedMesh":m=f(e.geometry),v=d(e.material),h=new SkinnedMesh(m,v),e.bindMode!==void 0&&(h.bindMode=e.bindMode),e.bindMatrix!==void 0&&h.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(h.skeleton=e.skeleton);break;case"Mesh":m=f(e.geometry),v=d(e.material),h=new Mesh(m,v);break;case"InstancedMesh":m=f(e.geometry),v=d(e.material);const _=e.count,S=e.instanceMatrix,T=e.instanceColor;h=new InstancedMesh(m,v,_),h.instanceMatrix=new InstancedBufferAttribute(new Float32Array(S.array),16),T!==void 0&&(h.instanceColor=new InstancedBufferAttribute(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":m=f(e.geometry),v=d(e.material),h=new BatchedMesh(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),h.geometry=m,h.perObjectFrustumCulled=e.perObjectFrustumCulled,h.sortObjects=e.sortObjects,h._drawRanges=e.drawRanges,h._reservedRanges=e.reservedRanges,h._geometryInfo=e.geometryInfo.map(A=>{let w=null,C=null;return A.boundingBox!==void 0&&(w=new Box3().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(C=new Sphere().fromJSON(A.boundingSphere)),{...A,boundingBox:w,boundingSphere:C}}),h._instanceInfo=e.instanceInfo,h._availableInstanceIds=e._availableInstanceIds,h._availableGeometryIds=e._availableGeometryIds,h._nextIndexStart=e.nextIndexStart,h._nextVertexStart=e.nextVertexStart,h._geometryCount=e.geometryCount,h._maxInstanceCount=e.maxInstanceCount,h._maxVertexCount=e.maxVertexCount,h._maxIndexCount=e.maxIndexCount,h._geometryInitialized=e.geometryInitialized,h._matricesTexture=p(e.matricesTexture.uuid),h._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(h._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(h.boundingSphere=new Sphere().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(h.boundingBox=new Box3().fromJSON(e.boundingBox));break;case"LOD":h=new LOD;break;case"Line":h=new Line(f(e.geometry),d(e.material));break;case"LineLoop":h=new LineLoop(f(e.geometry),d(e.material));break;case"LineSegments":h=new LineSegments(f(e.geometry),d(e.material));break;case"PointCloud":case"Points":h=new Points(f(e.geometry),d(e.material));break;case"Sprite":h=new Sprite(d(e.material));break;case"Group":h=new Group;break;case"Bone":h=new Bone;break;default:h=new Object3D}if(h.uuid=e.uuid,e.name!==void 0&&(h.name=e.name),e.matrix!==void 0?(h.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(h.matrixAutoUpdate=e.matrixAutoUpdate),h.matrixAutoUpdate&&h.matrix.decompose(h.position,h.quaternion,h.scale)):(e.position!==void 0&&h.position.fromArray(e.position),e.rotation!==void 0&&h.rotation.fromArray(e.rotation),e.quaternion!==void 0&&h.quaternion.fromArray(e.quaternion),e.scale!==void 0&&h.scale.fromArray(e.scale)),e.up!==void 0&&h.up.fromArray(e.up),e.castShadow!==void 0&&(h.castShadow=e.castShadow),e.receiveShadow!==void 0&&(h.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(h.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(h.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(h.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(h.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&h.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(h.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(h.visible=e.visible),e.frustumCulled!==void 0&&(h.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(h.renderOrder=e.renderOrder),e.userData!==void 0&&(h.userData=e.userData),e.layers!==void 0&&(h.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let S=0;S<_.length;S++)h.add(this.parseObject(_[S],n,o,l,u))}if(e.animations!==void 0){const _=e.animations;for(let S=0;S<_.length;S++){const T=_[S];h.animations.push(u[T])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(h.autoUpdate=e.autoUpdate);const _=e.levels;for(let S=0;S<_.length;S++){const T=_[S],A=h.getObjectByProperty("uuid",T.object);A!==void 0&&h.addLevel(A,T.distance,T.hysteresis)}}return h}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const l=n[o.skeleton];l===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(l,o.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const o=n.target,l=e.getObjectByProperty("uuid",o);l!==void 0?n.target=l:n.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter},_errorMap=new WeakMap;class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,h=Cache.get(e);if(h!==void 0){if(u.manager.itemStart(e),h.then){h.then(p=>{if(_errorMap.has(h)===!0)l&&l(_errorMap.get(h)),u.manager.itemError(e),u.manager.itemEnd(e);else return n&&n(p),u.manager.itemEnd(e),p});return}return setTimeout(function(){n&&n(h),u.manager.itemEnd(e)},0),h}const f={};f.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",f.headers=this.requestHeader;const d=fetch(e,f).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(p){return Cache.add(e,p),n&&n(p),u.manager.itemEnd(e),p}).catch(function(p){l&&l(p),_errorMap.set(d,p),Cache.remove(e),u.manager.itemError(e),u.manager.itemEnd(e)});Cache.add(e,d),u.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(this.manager);h.setResponseType("arraybuffer"),h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){try{const p=d.slice(0);AudioContext.getContext().decodeAudioData(p,function(v){n(v)}).catch(f)}catch(p){f(p)}},o,l);function f(d){l?l(d):console.error(d),u.manager.itemError(e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const l=n.eyeSep/2,u=l*n.near/n.focus,h=n.near*Math.tan(DEG2RAD*n.fov*.5)/n.zoom;let f,d;_eyeLeft.elements[12]=-l,_eyeRight.elements[12]=l,f=-h*n.aspect+u,d=h*n.aspect+u,_projectionMatrix.elements[0]=2*n.near/(d-f),_projectionMatrix.elements[8]=(d+f)/(d-f),this.cameraL.projectionMatrix.copy(_projectionMatrix),f=-h*n.aspect-u,d=h*n.aspect-u,_projectionMatrix.elements[0]=2*n.near/(d-f),_projectionMatrix.elements[8]=(d+f)/(d-f),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=now$2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function now$2(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_forward=new Vector3,_up=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_forward.set(0,0,-1).applyQuaternion(_quaternion$1),_up.set(0,1,0).applyQuaternion(_quaternion$1),n.positionX){const o=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_position$1.x,o),n.positionY.linearRampToValueAtTime(_position$1.y,o),n.positionZ.linearRampToValueAtTime(_position$1.z,o),n.forwardX.linearRampToValueAtTime(_forward.x,o),n.forwardY.linearRampToValueAtTime(_forward.y,o),n.forwardZ.linearRampToValueAtTime(_forward.z,o),n.upX.linearRampToValueAtTime(_up.x,o),n.upY.linearRampToValueAtTime(_up.y,o),n.upZ.linearRampToValueAtTime(_up.z,o)}else n.setPosition(_position$1.x,_position$1.y,_position$1.z),n.setOrientation(_forward.x,_forward.y,_forward.z,_up.x,_up.y,_up.z)}}class Audio extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const n=this.panner;if(n.positionX){const o=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_position.x,o),n.positionY.linearRampToValueAtTime(_position.y,o),n.positionZ.linearRampToValueAtTime(_position.z,o),n.orientationX.linearRampToValueAtTime(_orientation.x,o),n.orientationY.linearRampToValueAtTime(_orientation.y,o),n.orientationZ.linearRampToValueAtTime(_orientation.z,o)}else n.setPosition(_position.x,_position.y,_position.z),n.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let o=0;o<n.length;o++)e+=n[o];return e/n.length}}class PropertyMixer{constructor(e,n,o){this.binding=e,this.valueSize=o;let l,u,h;switch(n){case"quaternion":l=this._slerp,u=this._slerpAdditive,h=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":l=this._select,u=this._select,h=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:l=this._lerp,u=this._lerpAdditive,h=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=u,this._setIdentity=h,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const o=this.buffer,l=this.valueSize,u=e*l+l;let h=this.cumulativeWeight;if(h===0){for(let f=0;f!==l;++f)o[u+f]=o[f];h=n}else{h+=n;const f=n/h;this._mixBufferRegion(o,u,0,f,l)}this.cumulativeWeight=h}accumulateAdditive(e){const n=this.buffer,o=this.valueSize,l=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,l,0,e,o),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,o=this.buffer,l=e*n+n,u=this.cumulativeWeight,h=this.cumulativeWeightAdditive,f=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){const d=n*this._origIndex;this._mixBufferRegion(o,l,d,1-u,n)}h>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*n,1,n);for(let d=n,p=n+n;d!==p;++d)if(o[d]!==o[d+n]){f.setValue(o,l);break}}saveOriginalState(){const e=this.binding,n=this.buffer,o=this.valueSize,l=o*this._origIndex;e.getValue(n,l);for(let u=o,h=l;u!==h;++u)n[u]=n[l+u%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let o=e;o<n;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[n+o]=this.buffer[e+o]}_select(e,n,o,l,u){if(l>=.5)for(let h=0;h!==u;++h)e[n+h]=e[o+h]}_slerp(e,n,o,l){Quaternion.slerpFlat(e,n,e,n,e,o,l)}_slerpAdditive(e,n,o,l,u){const h=this._workIndex*u;Quaternion.multiplyQuaternionsFlat(e,h,e,n,e,o),Quaternion.slerpFlat(e,n,e,n,e,h,l)}_lerp(e,n,o,l,u){const h=1-l;for(let f=0;f!==u;++f){const d=n+f;e[d]=e[d]*h+e[o+f]*l}}_lerpAdditive(e,n,o,l,u){for(let h=0;h!==u;++h){const f=n+h;e[f]=e[f]+e[o+h]*l}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,n,o){const l=o||PropertyBinding.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,l)}getValue(e,n){this.bind();const o=this._targetGroup.nCachedObjects_,l=this._bindings[o];l!==void 0&&l.getValue(e,n)}setValue(e,n){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,u=o.length;l!==u;++l)o[l].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].unbind()}}class PropertyBinding{constructor(e,n,o){this.path=n,this.parsedPath=o||PropertyBinding.parseTrackName(n),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,o){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,n,o):new PropertyBinding(e,n,o)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const n=_trackRe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const o={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(l!==void 0&&l!==-1){const u=o.nodeName.substring(l+1);_supportedObjectNames.indexOf(u)!==-1&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=u)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return o}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const o=e.skeleton.getBoneByName(n);if(o!==void 0)return o}if(e.children){const o=function(u){for(let h=0;h<u.length;h++){const f=u[h];if(f.name===n||f.uuid===n)return f;const d=o(f.children);if(d)return d}return null},l=o(e.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)e[n++]=o[l]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,o=n.objectName,l=n.propertyName;let u=n.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(o){let p=n.objectIndex;switch(o){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[o]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const h=e[l];if(h===void 0){const p=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+l+" but it wasn't found.",e);return}let f=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?f=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(f=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(u!==void 0){if(l==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[u]!==void 0&&(u=e.morphTargetDictionary[u])}d=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=u}else h.fromArray!==void 0&&h.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(d=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=l;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][f]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let o=0,l=arguments.length;o!==l;++o)e[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,o=this._paths,l=this._parsedPaths,u=this._bindings,h=u.length;let f,d=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const _=arguments[m],S=_.uuid;let T=n[S];if(T===void 0){T=d++,n[S]=T,e.push(_);for(let A=0,w=h;A!==w;++A)u[A].push(new PropertyBinding(_,o[A],l[A]))}else if(T<p){f=e[T];const A=--p,w=e[A];n[w.uuid]=T,e[T]=w,n[S]=A,e[A]=_;for(let C=0,O=h;C!==O;++C){const L=u[C],F=L[A];let B=L[T];L[T]=F,B===void 0&&(B=new PropertyBinding(_,o[C],l[C])),L[A]=B}}else e[T]!==f&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){const d=arguments[h],p=d.uuid,m=n[p];if(m!==void 0&&m>=u){const v=u++,_=e[v];n[_.uuid]=m,e[m]=_,n[p]=v,e[v]=d;for(let S=0,T=l;S!==T;++S){const A=o[S],w=A[v],C=A[m];A[m]=w,A[v]=C}}}this.nCachedObjects_=u}uncache(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_,h=e.length;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid,v=n[m];if(v!==void 0)if(delete n[m],v<u){const _=--u,S=e[_],T=--h,A=e[T];n[S.uuid]=v,e[v]=S,n[A.uuid]=_,e[_]=A,e.pop();for(let w=0,C=l;w!==C;++w){const O=o[w],L=O[_],F=O[T];O[v]=L,O[_]=F,O.pop()}}else{const _=--h,S=e[_];_>0&&(n[S.uuid]=v),e[v]=S,e.pop();for(let T=0,A=l;T!==A;++T){const w=o[T];w[v]=w[_],w.pop()}}}this.nCachedObjects_=u}subscribe_(e,n){const o=this._bindingsIndicesByPath;let l=o[e];const u=this._bindings;if(l!==void 0)return u[l];const h=this._paths,f=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,v=new Array(p);l=u.length,o[e]=l,h.push(e),f.push(n),u.push(v);for(let _=m,S=d.length;_!==S;++_){const T=d[_];v[_]=new PropertyBinding(T,e,n)}return v}unsubscribe_(e){const n=this._bindingsIndicesByPath,o=n[e];if(o!==void 0){const l=this._paths,u=this._parsedPaths,h=this._bindings,f=h.length-1,d=h[f],p=e[f];n[p]=o,h[o]=d,h.pop(),u[o]=u[f],u.pop(),l[o]=l[f],l.pop()}}}class AnimationAction{constructor(e,n,o=null,l=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=o,this.blendMode=l;const u=n.tracks,h=u.length,f=new Array(h),d={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let p=0;p!==h;++p){const m=u[p].createInterpolant(null);f[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=f,this._propertyBindings=new Array(h),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,o=!1){if(e.fadeOut(n),this.fadeIn(n),o===!0){const l=this._clip.duration,u=e._clip.duration,h=u/l,f=l/u;e.warp(1,h,n),this.warp(f,1,n)}return this}crossFadeTo(e,n,o=!1){return e.crossFadeFrom(this,n,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,o){const l=this._mixer,u=l.time,h=this.timeScale;let f=this._timeScaleInterpolant;f===null&&(f=l._lendControlInterpolant(),this._timeScaleInterpolant=f);const d=f.parameterPositions,p=f.sampleValues;return d[0]=u,d[1]=u+o,p[0]=e/h,p[1]=n/h,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,o,l){if(!this.enabled){this._updateWeight(e);return}const u=this._startTime;if(u!==null){const d=(e-u)*o;d<0||o===0?n=0:(this._startTime=null,n=o*d)}n*=this._updateTimeScale(e);const h=this._updateTime(n),f=this._updateWeight(e);if(f>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(h),p[m].accumulateAdditive(f);break;case NormalAnimationBlendMode:default:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(h),p[m].accumulate(l,f)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const o=this._timeScaleInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,o=this.loop;let l=this.time+e,u=this._loopCount;const h=o===LoopPingPong;if(e===0)return u===-1?l:h&&(u&1)===1?n-l:l;if(o===LoopOnce){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=n)l=n;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(u===-1&&(e>=0?(u=0,this._setEndings(!0,this.repetitions===0,h)):this._setEndings(this.repetitions===0,!0,h)),l>=n||l<0){const f=Math.floor(l/n);l-=n*f,u+=Math.abs(f);const d=this.repetitions-u;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=e>0?n:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,h)}else this._setEndings(!1,!1,h);this._loopCount=u,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f})}}else this.time=l;if(h&&(u&1)===1)return n-l}return l}_setEndings(e,n,o){const l=this._interpolantSettings;o?(l.endingStart=ZeroSlopeEnding,l.endingEnd=ZeroSlopeEnding):(e?l.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingStart=WrapAroundEnding,n?l.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingEnd=WrapAroundEnding)}_scheduleFading(e,n,o){const l=this._mixer,u=l.time;let h=this._weightInterpolant;h===null&&(h=l._lendControlInterpolant(),this._weightInterpolant=h);const f=h.parameterPositions,d=h.sampleValues;return f[0]=u,d[0]=n,f[1]=u+e,d[1]=o,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const o=e._localRoot||this._root,l=e._clip.tracks,u=l.length,h=e._propertyBindings,f=e._interpolants,d=o.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let v=0;v!==u;++v){const _=l[v],S=_.name;let T=m[S];if(T!==void 0)++T.referenceCount,h[v]=T;else{if(T=h[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,d,S));continue}const A=n&&n._propertyBindings[v].binding.parsedPath;T=new PropertyMixer(PropertyBinding.create(o,S,A),_.ValueTypeName,_.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,d,S),h[v]=T}f[v].resultBuffer=T.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const o=(e._localRoot||this._root).uuid,l=e._clip.uuid,u=this._actionsByClip[l];this._bindAction(e,u&&u.knownActions[0]),this._addInactiveAction(e,l,o)}const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.useCount===0&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,o){const l=this._actions,u=this._actionsByClip;let h=u[n];if(h===void 0)h={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,u[n]=h;else{const f=h.knownActions;e._byClipCacheIndex=f.length,f.push(e)}e._cacheIndex=l.length,l.push(e),h.actionByRoot[o]=e}_removeInactiveAction(e){const n=this._actions,o=n[n.length-1],l=e._cacheIndex;o._cacheIndex=l,n[l]=o,n.pop(),e._cacheIndex=null;const u=e._clip.uuid,h=this._actionsByClip,f=h[u],d=f.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const v=f.actionByRoot,_=(e._localRoot||this._root).uuid;delete v[_],d.length===0&&delete h[u],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.referenceCount===0&&this._removeInactiveBinding(u)}}_lendAction(e){const n=this._actions,o=e._cacheIndex,l=this._nActiveActions++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackAction(e){const n=this._actions,o=e._cacheIndex,l=--this._nActiveActions,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_addInactiveBinding(e,n,o){const l=this._bindingsByRootAndName,u=this._bindings;let h=l[n];h===void 0&&(h={},l[n]=h),h[o]=e,e._cacheIndex=u.length,u.push(e)}_removeInactiveBinding(e){const n=this._bindings,o=e.binding,l=o.rootNode.uuid,u=o.path,h=this._bindingsByRootAndName,f=h[l],d=n[n.length-1],p=e._cacheIndex;d._cacheIndex=p,n[p]=d,n.pop(),delete f[u],Object.keys(f).length===0&&delete h[l]}_lendBinding(e){const n=this._bindings,o=e._cacheIndex,l=this._nActiveBindings++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackBinding(e){const n=this._bindings,o=e._cacheIndex,l=--this._nActiveBindings,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let o=e[n];return o===void 0&&(o=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),o.__cacheIndex=n,e[n]=o),o}_takeBackControlInterpolant(e){const n=this._controlInterpolants,o=e.__cacheIndex,l=--this._nActiveControlInterpolants,u=n[l];e.__cacheIndex=l,n[l]=e,u.__cacheIndex=o,n[o]=u}clipAction(e,n,o){const l=n||this._root,u=l.uuid;let h=typeof e=="string"?AnimationClip.findByName(l,e):e;const f=h!==null?h.uuid:e,d=this._actionsByClip[f];let p=null;if(o===void 0&&(h!==null?o=h.blendMode:o=NormalAnimationBlendMode),d!==void 0){const v=d.actionByRoot[u];if(v!==void 0&&v.blendMode===o)return v;p=d.knownActions[0],h===null&&(h=p._clip)}if(h===null)return null;const m=new AnimationAction(this,h,n,o);return this._bindAction(m,p),this._addInactiveAction(m,f,u),m}existingAction(e,n){const o=n||this._root,l=o.uuid,u=typeof e=="string"?AnimationClip.findByName(o,e):e,h=u?u.uuid:e,f=this._actionsByClip[h];return f!==void 0&&f.actionByRoot[l]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let o=n-1;o>=0;--o)e[o].stop();return this}update(e){e*=this.timeScale;const n=this._actions,o=this._nActiveActions,l=this.time+=e,u=Math.sign(e),h=this._accuIndex^=1;for(let p=0;p!==o;++p)n[p]._update(l,e,u,h);const f=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)f[p].apply(h);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,o=e.uuid,l=this._actionsByClip,u=l[o];if(u!==void 0){const h=u.knownActions;for(let f=0,d=h.length;f!==d;++f){const p=h[f];this._deactivateAction(p);const m=p._cacheIndex,v=n[n.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,n[m]=v,n.pop(),this._removeInactiveBindingsForAction(p)}delete l[o]}}uncacheRoot(e){const n=e.uuid,o=this._actionsByClip;for(const h in o){const f=o[h].actionByRoot,d=f[n];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const l=this._bindingsByRootAndName,u=l[n];if(u!==void 0)for(const h in u){const f=u[h];f.restoreOriginalState(),this._removeInactiveBinding(f)}}uncacheAction(e,n){const o=this.existingAction(e,n);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}class RenderTarget3D extends RenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isRenderTarget3D=!0,this.depth=o,this.texture=new Data3DTexture(null,e,n,o),this._setTextureOptions(l),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$3=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let o=0,l=n.length;o<l;o++){const u=Array.isArray(n[o])?n[o]:[n[o]];for(let h=0;h<u.length;h++)this.uniforms.push(u[h].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,n,o=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class GLBufferAttribute{constructor(e,n,o,l,u){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=o,this.elementSize=l,this.count=u,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _matrix=new Matrix4;class Raycaster{constructor(e,n,o=0,l=1/0){this.ray=new Ray(e,n),this.near=o,this.far=l,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,n=!0,o=[]){return intersect(e,this,o,n),o.sort(ascSort),o}intersectObjects(e,n=!0,o=[]){for(let l=0,u=e.length;l<u;l++)intersect(e[l],this,o,n);return o.sort(ascSort),o}}function ascSort(t,e){return t.distance-e.distance}function intersect(t,e,n,o){let l=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(l=!1),l===!0&&o===!0){const u=t.children;for(let h=0,f=u.length;h<f;h++)intersect(u[h],e,n,!0)}}class Spherical{constructor(e=1,n=0,o=0){this.radius=e,this.phi=n,this.theta=o}set(e,n,o){return this.radius=e,this.phi=n,this.theta=o,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=clamp(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+n*n+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(clamp(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,n=0,o=0){this.radius=e,this.theta=n,this.y=o}set(e,n,o){return this.radius=e,this.theta=n,this.y=o,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=n,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(e,n,o,l){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,o,l)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let o=0;o<4;o++)this.elements[o]=e[o+n];return this}set(e,n,o,l){const u=this.elements;return u[0]=e,u[2]=n,u[1]=o,u[3]=l,this}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),n=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,n=new Vector3){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const o=_startEnd.dot(_startEnd);let u=_startEnd.dot(_startP)/o;return n&&(u=clamp(u,0,1)),u}closestPointToPoint(e,n,o){const l=this.closestPointToPointParameter(e,n);return this.delta(o).multiplyScalar(l).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const o=new BufferGeometry,l=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let h=0,f=1,d=32;h<d;h++,f++){const p=h/d*Math.PI*2,m=f/d*Math.PI*2;l.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}o.setAttribute("position",new Float32BufferAttribute(l,3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(o,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const n=getBoneList(e),o=new BufferGeometry,l=[],u=[],h=new Color$1(0,0,1),f=new Color$1(0,1,0);for(let p=0;p<n.length;p++){const m=n[p];m.parent&&m.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),u.push(h.r,h.g,h.b),u.push(f.r,f.g,f.b))}o.setAttribute("position",new Float32BufferAttribute(l,3)),o.setAttribute("color",new Float32BufferAttribute(u,3));const d=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(o,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,o=this.geometry,l=o.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let u=0,h=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,f.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(h,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,f.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(h+1,_vector$2.x,_vector$2.y,_vector$2.z),h+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...getBoneList(t.children[n]));return e}class PointLightHelper extends Mesh{constructor(e,n,o){const l=new SphereGeometry(n,4,2),u=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(l,u),this.light=e,this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="HemisphereLightHelper";const l=new OctahedronGeometry(n);l.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const u=l.getAttribute("position"),h=new Float32Array(u.count*3);l.setAttribute("color",new BufferAttribute(h,3)),this.add(new Mesh(l,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let o=0,l=n.count;o<l;o++){const u=o<l/2?_color1:_color2;n.setXYZ(o,u.r,u.g,u.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,n=10,o=4473924,l=8947848){o=new Color$1(o),l=new Color$1(l);const u=n/2,h=e/n,f=e/2,d=[],p=[];for(let _=0,S=0,T=-f;_<=n;_++,T+=h){d.push(-f,0,T,f,0,T),d.push(T,0,-f,T,0,f);const A=_===u?o:l;A.toArray(p,S),S+=3,A.toArray(p,S),S+=3,A.toArray(p,S),S+=3,A.toArray(p,S),S+=3}const m=new BufferGeometry;m.setAttribute("position",new Float32BufferAttribute(d,3)),m.setAttribute("color",new Float32BufferAttribute(p,3));const v=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,n=16,o=8,l=64,u=4473924,h=8947848){u=new Color$1(u),h=new Color$1(h);const f=[],d=[];if(n>1)for(let v=0;v<n;v++){const _=v/n*(Math.PI*2),S=Math.sin(_)*e,T=Math.cos(_)*e;f.push(0,0,0),f.push(S,0,T);const A=v&1?u:h;d.push(A.r,A.g,A.b),d.push(A.r,A.g,A.b)}for(let v=0;v<o;v++){const _=v&1?u:h,S=e-e/o*v;for(let T=0;T<l;T++){let A=T/l*(Math.PI*2),w=Math.sin(A)*S,C=Math.cos(A)*S;f.push(w,0,C),d.push(_.r,_.g,_.b),A=(T+1)/l*(Math.PI*2),w=Math.sin(A)*S,C=Math.cos(A)*S,f.push(w,0,C),d.push(_.r,_.g,_.b)}}const p=new BufferGeometry;p.setAttribute("position",new Float32BufferAttribute(f,3)),p.setAttribute("color",new Float32BufferAttribute(d,3));const m=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="DirectionalLightHelper",n===void 0&&(n=1);let l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(l,u),this.add(this.lightPlane),l=new BufferGeometry,l.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(l,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const n=new BufferGeometry,o=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),l=[],u=[],h={};f("n1","n2"),f("n2","n4"),f("n4","n3"),f("n3","n1"),f("f1","f2"),f("f2","f4"),f("f4","f3"),f("f3","f1"),f("n1","f1"),f("n2","f2"),f("n3","f3"),f("n4","f4"),f("p","n1"),f("p","n2"),f("p","n3"),f("p","n4"),f("u1","u2"),f("u2","u3"),f("u3","u1"),f("c","t"),f("p","c"),f("cn1","cn2"),f("cn3","cn4"),f("cf1","cf2"),f("cf3","cf4");function f(T,A){d(T),d(A)}function d(T){l.push(0,0,0),u.push(0,0,0),h[T]===void 0&&(h[T]=[]),h[T].push(l.length/3-1)}n.setAttribute("position",new Float32BufferAttribute(l,3)),n.setAttribute("color",new Float32BufferAttribute(u,3)),super(n,o),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=h,this.update();const p=new Color$1(16755200),m=new Color$1(16711680),v=new Color$1(43775),_=new Color$1(16777215),S=new Color$1(3355443);this.setColors(p,m,v,_,S)}setColors(e,n,o,l,u){const f=this.geometry.getAttribute("color");f.setXYZ(0,e.r,e.g,e.b),f.setXYZ(1,e.r,e.g,e.b),f.setXYZ(2,e.r,e.g,e.b),f.setXYZ(3,e.r,e.g,e.b),f.setXYZ(4,e.r,e.g,e.b),f.setXYZ(5,e.r,e.g,e.b),f.setXYZ(6,e.r,e.g,e.b),f.setXYZ(7,e.r,e.g,e.b),f.setXYZ(8,e.r,e.g,e.b),f.setXYZ(9,e.r,e.g,e.b),f.setXYZ(10,e.r,e.g,e.b),f.setXYZ(11,e.r,e.g,e.b),f.setXYZ(12,e.r,e.g,e.b),f.setXYZ(13,e.r,e.g,e.b),f.setXYZ(14,e.r,e.g,e.b),f.setXYZ(15,e.r,e.g,e.b),f.setXYZ(16,e.r,e.g,e.b),f.setXYZ(17,e.r,e.g,e.b),f.setXYZ(18,e.r,e.g,e.b),f.setXYZ(19,e.r,e.g,e.b),f.setXYZ(20,e.r,e.g,e.b),f.setXYZ(21,e.r,e.g,e.b),f.setXYZ(22,e.r,e.g,e.b),f.setXYZ(23,e.r,e.g,e.b),f.setXYZ(24,n.r,n.g,n.b),f.setXYZ(25,n.r,n.g,n.b),f.setXYZ(26,n.r,n.g,n.b),f.setXYZ(27,n.r,n.g,n.b),f.setXYZ(28,n.r,n.g,n.b),f.setXYZ(29,n.r,n.g,n.b),f.setXYZ(30,n.r,n.g,n.b),f.setXYZ(31,n.r,n.g,n.b),f.setXYZ(32,o.r,o.g,o.b),f.setXYZ(33,o.r,o.g,o.b),f.setXYZ(34,o.r,o.g,o.b),f.setXYZ(35,o.r,o.g,o.b),f.setXYZ(36,o.r,o.g,o.b),f.setXYZ(37,o.r,o.g,o.b),f.setXYZ(38,l.r,l.g,l.b),f.setXYZ(39,l.r,l.g,l.b),f.setXYZ(40,u.r,u.g,u.b),f.setXYZ(41,u.r,u.g,u.b),f.setXYZ(42,u.r,u.g,u.b),f.setXYZ(43,u.r,u.g,u.b),f.setXYZ(44,u.r,u.g,u.b),f.setXYZ(45,u.r,u.g,u.b),f.setXYZ(46,u.r,u.g,u.b),f.setXYZ(47,u.r,u.g,u.b),f.setXYZ(48,u.r,u.g,u.b),f.setXYZ(49,u.r,u.g,u.b),f.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,o=1,l=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const u=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",n,e,_camera,0,0,u),setPoint("t",n,e,_camera,0,0,1),setPoint("n1",n,e,_camera,-1,-1,u),setPoint("n2",n,e,_camera,o,-1,u),setPoint("n3",n,e,_camera,-1,l,u),setPoint("n4",n,e,_camera,o,l,u),setPoint("f1",n,e,_camera,-1,-1,1),setPoint("f2",n,e,_camera,o,-1,1),setPoint("f3",n,e,_camera,-1,l,1),setPoint("f4",n,e,_camera,o,l,1),setPoint("u1",n,e,_camera,o*.7,l*1.1,u),setPoint("u2",n,e,_camera,-1*.7,l*1.1,u),setPoint("u3",n,e,_camera,0,l*2,u),setPoint("cf1",n,e,_camera,-1,0,1),setPoint("cf2",n,e,_camera,o,0,1),setPoint("cf3",n,e,_camera,0,-1,1),setPoint("cf4",n,e,_camera,0,l,1),setPoint("cn1",n,e,_camera,-1,0,u),setPoint("cn2",n,e,_camera,o,0,u),setPoint("cn3",n,e,_camera,0,-1,u),setPoint("cn4",n,e,_camera,0,l,u),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(t,e,n,o,l,u,h){_vector.set(l,u,h).unproject(o);const f=e[t];if(f!==void 0){const d=n.getAttribute("position");for(let p=0,m=f.length;p<m;p++)d.setXYZ(f[p],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(8*3),u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const e=_box.min,n=_box.max,o=this.geometry.attributes.position,l=o.array;l[0]=n.x,l[1]=n.y,l[2]=n.z,l[3]=e.x,l[4]=n.y,l[5]=n.z,l[6]=e.x,l[7]=e.y,l[8]=n.z,l[9]=n.x,l[10]=e.y,l[11]=n.z,l[12]=n.x,l[13]=n.y,l[14]=e.z,l[15]=e.x,l[16]=n.y,l[17]=e.z,l[18]=e.x,l[19]=e.y,l[20]=e.z,l[21]=n.x,l[22]=e.y,l[23]=e.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new Float32BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,n=1,o=16776960){const l=o,u=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],h=new BufferGeometry;h.setAttribute("position",new Float32BufferAttribute(u,3)),h.computeBoundingSphere(),super(h,new LineBasicMaterial({color:l,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const f=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new BufferGeometry;d.setAttribute("position",new Float32BufferAttribute(f,3)),d.computeBoundingSphere(),this.add(new Mesh(d,new MeshBasicMaterial({color:l,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),n=new Vector3(0,0,0),o=1,l=16776960,u=o*.2,h=u*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new ConeGeometry(.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(n),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:l,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:l,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,u,h)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,n)}}setLength(e,n=e*.2,o=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(o,n,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute(n,3)),l.setAttribute("color",new Float32BufferAttribute(o,3));const u=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(l,u),this.type="AxesHelper"}setColors(e,n,o){const l=new Color$1,u=this.geometry.attributes.color.array;return l.set(e),l.toArray(u,0),l.toArray(u,3),l.set(n),l.toArray(u,6),l.toArray(u,9),l.set(o),l.toArray(u,12),l.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,o,l){return this.currentPath.quadraticCurveTo(e,n,o,l),this}bezierCurveTo(e,n,o,l,u,h){return this.currentPath.bezierCurveTo(e,n,o,l,u,h),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(C){const O=[];for(let L=0,F=C.length;L<F;L++){const B=C[L],U=new Shape$1;U.curves=B.curves,O.push(U)}return O}function o(C,O){const L=O.length;let F=!1;for(let B=L-1,U=0;U<L;B=U++){let V=O[B],q=O[U],H=q.x-V.x,G=q.y-V.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(V=O[U],H=-H,q=O[B],G=-G),C.y<V.y||C.y>q.y)continue;if(C.y===V.y){if(C.x===V.x)return!0}else{const Y=G*(C.x-V.x)-H*(C.y-V.y);if(Y===0)return!0;if(Y<0)continue;F=!F}}else{if(C.y!==V.y)continue;if(q.x<=C.x&&C.x<=V.x||V.x<=C.x&&C.x<=q.x)return!0}}return F}const l=ShapeUtils.isClockWise,u=this.subPaths;if(u.length===0)return[];let h,f,d;const p=[];if(u.length===1)return f=u[0],d=new Shape$1,d.curves=f.curves,p.push(d),p;let m=!l(u[0].getPoints());m=e?!m:m;const v=[],_=[];let S=[],T=0,A;_[T]=void 0,S[T]=[];for(let C=0,O=u.length;C<O;C++)f=u[C],A=f.getPoints(),h=l(A),h=e?!h:h,h?(!m&&_[T]&&T++,_[T]={s:new Shape$1,p:A},_[T].s.curves=f.curves,m&&T++,S[T]=[]):S[T].push({h:f,p:A[0]});if(!_[0])return n(u);if(_.length>1){let C=!1,O=0;for(let L=0,F=_.length;L<F;L++)v[L]=[];for(let L=0,F=_.length;L<F;L++){const B=S[L];for(let U=0;U<B.length;U++){const V=B[U];let q=!0;for(let H=0;H<_.length;H++)o(V.p,_[H].p)&&(L!==H&&O++,q?(q=!1,v[H].push(V)):C=!0);q&&v[L].push(V)}}O>0&&C===!1&&(S=v)}let w;for(let C=0,O=_.length;C<O;C++){d=_[C].s,p.push(d),w=S[C];for(let L=0,F=w.length;L<F;L++)d.holes.push(w[L].h)}return p}}class Controls extends EventDispatcher$1{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function contain(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function cover(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function fill(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function getByteLength(t,e,n,o){const l=getTextureTypeByteLength(o);switch(n){case AlphaFormat:return t*e;case RedFormat:return t*e/l.components*l.byteLength;case RedIntegerFormat:return t*e/l.components*l.byteLength;case RGFormat:return t*e*2/l.components*l.byteLength;case RGIntegerFormat:return t*e*2/l.components*l.byteLength;case RGBFormat:return t*e*3/l.components*l.byteLength;case RGBAFormat:return t*e*4/l.components*l.byteLength;case RGBAIntegerFormat:return t*e*4/l.components*l.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(t,16)*Math.max(e,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(t,8)*Math.max(e,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(t/4)*Math.ceil(e/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(t/4)*Math.ceil(e/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function getTextureTypeByteLength(t){switch(t){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class TextureUtils{static contain(e,n){return contain(e,n)}static cover(e,n){return cover(e,n)}static fill(e){return fill(e)}static getByteLength(e,n,o,l){return getByteLength(e,n,o,l)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let t=null,e=!1,n=null,o=null;function l(u,h){n(u,h),o=t.requestAnimationFrame(l)}return{start:function(){e!==!0&&n!==null&&(o=t.requestAnimationFrame(l),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(u){n=u},setContext:function(u){t=u}}}function WebGLAttributes(t){const e=new WeakMap;function n(f,d){const p=f.array,m=f.usage,v=p.byteLength,_=t.createBuffer();t.bindBuffer(d,_),t.bufferData(d,p,m),f.onUploadCallback();let S;if(p instanceof Float32Array)S=t.FLOAT;else if(p instanceof Uint16Array)f.isFloat16BufferAttribute?S=t.HALF_FLOAT:S=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)S=t.SHORT;else if(p instanceof Uint32Array)S=t.UNSIGNED_INT;else if(p instanceof Int32Array)S=t.INT;else if(p instanceof Int8Array)S=t.BYTE;else if(p instanceof Uint8Array)S=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)S=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:S,bytesPerElement:p.BYTES_PER_ELEMENT,version:f.version,size:v}}function o(f,d,p){const m=d.array,v=d.updateRanges;if(t.bindBuffer(p,f),v.length===0)t.bufferSubData(p,0,m);else{v.sort((S,T)=>S.start-T.start);let _=0;for(let S=1;S<v.length;S++){const T=v[_],A=v[S];A.start<=T.start+T.count+1?T.count=Math.max(T.count,A.start+A.count-T.start):(++_,v[_]=A)}v.length=_+1;for(let S=0,T=v.length;S<T;S++){const A=v[S];t.bufferSubData(p,A.start*m.BYTES_PER_ELEMENT,m,A.start,A.count)}d.clearUpdateRanges()}d.onUploadCallback()}function l(f){return f.isInterleavedBufferAttribute&&(f=f.data),e.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=e.get(f);d&&(t.deleteBuffer(d.buffer),e.delete(f))}function h(f,d){if(f.isInterleavedBufferAttribute&&(f=f.data),f.isGLBufferAttribute){const m=e.get(f);(!m||m.version<f.version)&&e.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}const p=e.get(f);if(p===void 0)e.set(f,n(f,d));else if(p.version<f.version){if(p.size!==f.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(p.buffer,f,d),p.version=f.version}}return{get:l,remove:u,update:h}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(t,e,n,o,l,u,h){const f=new Color$1(0);let d=u===!0?0:1,p,m,v=null,_=0,S=null;function T(L){let F=L.isScene===!0?L.background:null;return F&&F.isTexture&&(F=(L.backgroundBlurriness>0?n:e).get(F)),F}function A(L){let F=!1;const B=T(L);B===null?C(f,d):B&&B.isColor&&(C(B,1),F=!0);const U=t.xr.getEnvironmentBlendMode();U==="additive"?o.buffers.color.setClear(0,0,0,1,h):U==="alpha-blend"&&o.buffers.color.setClear(0,0,0,0,h),(t.autoClear||F)&&(o.buffers.depth.setTest(!0),o.buffers.depth.setMask(!0),o.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function w(L,F){const B=T(F);B&&(B.isCubeTexture||B.mapping===CubeUVReflectionMapping)?(m===void 0&&(m=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,V,q){this.matrixWorld.copyPosition(q.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),l.update(m)),_e1$1.copy(F.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),m.material.uniforms.envMap.value=B,m.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=F.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=F.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),m.material.toneMapped=ColorManagement.getTransfer(B.colorSpace)!==SRGBTransfer,(v!==B||_!==B.version||S!==t.toneMapping)&&(m.material.needsUpdate=!0,v=B,_=B.version,S=t.toneMapping),m.layers.enableAll(),L.unshift(m,m.geometry,m.material,0,0,null)):B&&B.isTexture&&(p===void 0&&(p=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),l.update(p)),p.material.uniforms.t2D.value=B,p.material.uniforms.backgroundIntensity.value=F.backgroundIntensity,p.material.toneMapped=ColorManagement.getTransfer(B.colorSpace)!==SRGBTransfer,B.matrixAutoUpdate===!0&&B.updateMatrix(),p.material.uniforms.uvTransform.value.copy(B.matrix),(v!==B||_!==B.version||S!==t.toneMapping)&&(p.material.needsUpdate=!0,v=B,_=B.version,S=t.toneMapping),p.layers.enableAll(),L.unshift(p,p.geometry,p.material,0,0,null))}function C(L,F){L.getRGB(_rgb,getUnlitUniformColorSpace(t)),o.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,F,h)}function O(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return f},setClearColor:function(L,F=1){f.set(L),d=F,C(f,d)},getClearAlpha:function(){return d},setClearAlpha:function(L){d=L,C(f,d)},render:A,addToRenderList:w,dispose:O}}function WebGLBindingStates(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),o={},l=_(null);let u=l,h=!1;function f(G,Y,Q,ie,ae){let le=!1;const he=v(ie,Q,Y);u!==he&&(u=he,p(u.object)),le=S(G,ie,Q,ae),le&&T(G,ie,Q,ae),ae!==null&&e.update(ae,t.ELEMENT_ARRAY_BUFFER),(le||h)&&(h=!1,F(G,Y,Q,ie),ae!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ae).buffer))}function d(){return t.createVertexArray()}function p(G){return t.bindVertexArray(G)}function m(G){return t.deleteVertexArray(G)}function v(G,Y,Q){const ie=Q.wireframe===!0;let ae=o[G.id];ae===void 0&&(ae={},o[G.id]=ae);let le=ae[Y.id];le===void 0&&(le={},ae[Y.id]=le);let he=le[ie];return he===void 0&&(he=_(d()),le[ie]=he),he}function _(G){const Y=[],Q=[],ie=[];for(let ae=0;ae<n;ae++)Y[ae]=0,Q[ae]=0,ie[ae]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:Q,attributeDivisors:ie,object:G,attributes:{},index:null}}function S(G,Y,Q,ie){const ae=u.attributes,le=Y.attributes;let he=0;const ge=Q.getAttributes();for(const J in ge)if(ge[J].location>=0){const ce=ae[J];let te=le[J];if(te===void 0&&(J==="instanceMatrix"&&G.instanceMatrix&&(te=G.instanceMatrix),J==="instanceColor"&&G.instanceColor&&(te=G.instanceColor)),ce===void 0||ce.attribute!==te||te&&ce.data!==te.data)return!0;he++}return u.attributesNum!==he||u.index!==ie}function T(G,Y,Q,ie){const ae={},le=Y.attributes;let he=0;const ge=Q.getAttributes();for(const J in ge)if(ge[J].location>=0){let ce=le[J];ce===void 0&&(J==="instanceMatrix"&&G.instanceMatrix&&(ce=G.instanceMatrix),J==="instanceColor"&&G.instanceColor&&(ce=G.instanceColor));const te={};te.attribute=ce,ce&&ce.data&&(te.data=ce.data),ae[J]=te,he++}u.attributes=ae,u.attributesNum=he,u.index=ie}function A(){const G=u.newAttributes;for(let Y=0,Q=G.length;Y<Q;Y++)G[Y]=0}function w(G){C(G,0)}function C(G,Y){const Q=u.newAttributes,ie=u.enabledAttributes,ae=u.attributeDivisors;Q[G]=1,ie[G]===0&&(t.enableVertexAttribArray(G),ie[G]=1),ae[G]!==Y&&(t.vertexAttribDivisor(G,Y),ae[G]=Y)}function O(){const G=u.newAttributes,Y=u.enabledAttributes;for(let Q=0,ie=Y.length;Q<ie;Q++)Y[Q]!==G[Q]&&(t.disableVertexAttribArray(Q),Y[Q]=0)}function L(G,Y,Q,ie,ae,le,he){he===!0?t.vertexAttribIPointer(G,Y,Q,ae,le):t.vertexAttribPointer(G,Y,Q,ie,ae,le)}function F(G,Y,Q,ie){A();const ae=ie.attributes,le=Q.getAttributes(),he=Y.defaultAttributeValues;for(const ge in le){const J=le[ge];if(J.location>=0){let se=ae[ge];if(se===void 0&&(ge==="instanceMatrix"&&G.instanceMatrix&&(se=G.instanceMatrix),ge==="instanceColor"&&G.instanceColor&&(se=G.instanceColor)),se!==void 0){const ce=se.normalized,te=se.itemSize,fe=e.get(se);if(fe===void 0)continue;const _e=fe.buffer,ye=fe.type,xe=fe.bytesPerElement,Me=ye===t.INT||ye===t.UNSIGNED_INT||se.gpuType===IntType;if(se.isInterleavedBufferAttribute){const be=se.data,Ce=be.stride,Re=se.offset;if(be.isInstancedInterleavedBuffer){for(let Ne=0;Ne<J.locationSize;Ne++)C(J.location+Ne,be.meshPerAttribute);G.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let Ne=0;Ne<J.locationSize;Ne++)w(J.location+Ne);t.bindBuffer(t.ARRAY_BUFFER,_e);for(let Ne=0;Ne<J.locationSize;Ne++)L(J.location+Ne,te/J.locationSize,ye,ce,Ce*xe,(Re+te/J.locationSize*Ne)*xe,Me)}else{if(se.isInstancedBufferAttribute){for(let be=0;be<J.locationSize;be++)C(J.location+be,se.meshPerAttribute);G.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let be=0;be<J.locationSize;be++)w(J.location+be);t.bindBuffer(t.ARRAY_BUFFER,_e);for(let be=0;be<J.locationSize;be++)L(J.location+be,te/J.locationSize,ye,ce,te*xe,te/J.locationSize*be*xe,Me)}}else if(he!==void 0){const ce=he[ge];if(ce!==void 0)switch(ce.length){case 2:t.vertexAttrib2fv(J.location,ce);break;case 3:t.vertexAttrib3fv(J.location,ce);break;case 4:t.vertexAttrib4fv(J.location,ce);break;default:t.vertexAttrib1fv(J.location,ce)}}}}O()}function B(){q();for(const G in o){const Y=o[G];for(const Q in Y){const ie=Y[Q];for(const ae in ie)m(ie[ae].object),delete ie[ae];delete Y[Q]}delete o[G]}}function U(G){if(o[G.id]===void 0)return;const Y=o[G.id];for(const Q in Y){const ie=Y[Q];for(const ae in ie)m(ie[ae].object),delete ie[ae];delete Y[Q]}delete o[G.id]}function V(G){for(const Y in o){const Q=o[Y];if(Q[G.id]===void 0)continue;const ie=Q[G.id];for(const ae in ie)m(ie[ae].object),delete ie[ae];delete Q[G.id]}}function q(){H(),h=!0,u!==l&&(u=l,p(u.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:q,resetDefaultState:H,dispose:B,releaseStatesOfGeometry:U,releaseStatesOfProgram:V,initAttributes:A,enableAttribute:w,disableUnusedAttributes:O}}function WebGLBufferRenderer(t,e,n){let o;function l(p){o=p}function u(p,m){t.drawArrays(o,p,m),n.update(m,o,1)}function h(p,m,v){v!==0&&(t.drawArraysInstanced(o,p,m,v),n.update(m,o,v))}function f(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(o,p,0,m,0,v);let S=0;for(let T=0;T<v;T++)S+=m[T];n.update(S,o,1)}function d(p,m,v,_){if(v===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let T=0;T<p.length;T++)h(p[T],m[T],_[T]);else{S.multiDrawArraysInstancedWEBGL(o,p,0,m,0,_,0,v);let T=0;for(let A=0;A<v;A++)T+=m[A]*_[A];n.update(T,o,1)}}this.setMode=l,this.render=u,this.renderInstances=h,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function WebGLCapabilities(t,e,n,o){let l;function u(){if(l!==void 0)return l;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");l=t.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else l=0;return l}function h(V){return!(V!==RGBAFormat&&o.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function f(V){const q=V===HalfFloatType&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(V!==UnsignedByteType&&o.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&V!==FloatType&&!q)}function d(V){if(V==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=n.precision!==void 0?n.precision:"highp";const m=d(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=n.logarithmicDepthBuffer===!0,_=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),S=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),T=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_TEXTURE_SIZE),w=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),C=t.getParameter(t.MAX_VERTEX_ATTRIBS),O=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),L=t.getParameter(t.MAX_VARYING_VECTORS),F=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),B=T>0,U=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:u,getMaxPrecision:d,textureFormatReadable:h,textureTypeReadable:f,precision:p,logarithmicDepthBuffer:v,reverseDepthBuffer:_,maxTextures:S,maxVertexTextures:T,maxTextureSize:A,maxCubemapSize:w,maxAttributes:C,maxVertexUniforms:O,maxVaryings:L,maxFragmentUniforms:F,vertexTextures:B,maxSamples:U}}function WebGLClipping(t){const e=this;let n=null,o=0,l=!1,u=!1;const h=new Plane,f=new Matrix3,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const S=v.length!==0||_||o!==0||l;return l=_,o=v.length,S},this.beginShadows=function(){u=!0,m(null)},this.endShadows=function(){u=!1},this.setGlobalState=function(v,_){n=m(v,_,0)},this.setState=function(v,_,S){const T=v.clippingPlanes,A=v.clipIntersection,w=v.clipShadows,C=t.get(v);if(!l||T===null||T.length===0||u&&!w)u?m(null):p();else{const O=u?0:o,L=O*4;let F=C.clippingState||null;d.value=F,F=m(T,_,L,S);for(let B=0;B!==L;++B)F[B]=n[B];C.clippingState=F,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=O}};function p(){d.value!==n&&(d.value=n,d.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function m(v,_,S,T){const A=v!==null?v.length:0;let w=null;if(A!==0){if(w=d.value,T!==!0||w===null){const C=S+A*4,O=_.matrixWorldInverse;f.getNormalMatrix(O),(w===null||w.length<C)&&(w=new Float32Array(C));for(let L=0,F=S;L!==A;++L,F+=4)h.copy(v[L]).applyMatrix4(O,f),h.normal.toArray(w,F),w[F+3]=h.constant}d.value=w,d.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,w}}function WebGLCubeMaps(t){let e=new WeakMap;function n(h,f){return f===EquirectangularReflectionMapping?h.mapping=CubeReflectionMapping:f===EquirectangularRefractionMapping&&(h.mapping=CubeRefractionMapping),h}function o(h){if(h&&h.isTexture){const f=h.mapping;if(f===EquirectangularReflectionMapping||f===EquirectangularRefractionMapping)if(e.has(h)){const d=e.get(h).texture;return n(d,h.mapping)}else{const d=h.image;if(d&&d.height>0){const p=new WebGLCubeRenderTarget(d.height);return p.fromEquirectangularTexture(t,h),e.set(h,p),h.addEventListener("dispose",l),n(p.texture,h.mapping)}else return null}}return h}function l(h){const f=h.target;f.removeEventListener("dispose",l);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function u(){e=new WeakMap}return{get:o,dispose:u}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_origin=new Vector3;class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,o=.1,l=100,u={}){const{size:h=256,position:f=_origin}=u;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(h);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,o,l,d,f),n>0&&this._blur(d,0,0,n),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const o=n||this._allocateTargets();return this._textureToCubeUV(e,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,o={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},l=_createRenderTarget(e,n,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,n,o);const{_lodMax:u}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(u)),this._blurMaterial=_getBlurShader(u,e,n)}return l}_compileMaterial(e){const n=new Mesh(this._lodPlanes[0],e);this._renderer.compile(n,_flatCamera)}_sceneToCubeUV(e,n,o,l,u){const d=new PerspectiveCamera(90,1,n,o),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,S=v.toneMapping;v.getClearColor(_clearColor),v.toneMapping=NoToneMapping,v.autoClear=!1;const T=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),A=new Mesh(new BoxGeometry,T);let w=!1;const C=e.background;C?C.isColor&&(T.color.copy(C),e.background=null,w=!0):(T.color.copy(_clearColor),w=!0);for(let O=0;O<6;O++){const L=O%3;L===0?(d.up.set(0,p[O],0),d.position.set(u.x,u.y,u.z),d.lookAt(u.x+m[O],u.y,u.z)):L===1?(d.up.set(0,0,p[O]),d.position.set(u.x,u.y,u.z),d.lookAt(u.x,u.y+m[O],u.z)):(d.up.set(0,p[O],0),d.position.set(u.x,u.y,u.z),d.lookAt(u.x,u.y,u.z+m[O]));const F=this._cubeSize;_setViewport(l,L*F,O>2?F:0,F,F),v.setRenderTarget(l),w&&v.render(A,d),v.render(e,d)}A.geometry.dispose(),A.material.dispose(),v.toneMapping=S,v.autoClear=_,e.background=C}_textureToCubeUV(e,n){const o=this._renderer,l=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;l?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const u=l?this._cubemapMaterial:this._equirectMaterial,h=new Mesh(this._lodPlanes[0],u),f=u.uniforms;f.envMap.value=e;const d=this._cubeSize;_setViewport(n,0,0,3*d,2*d),o.setRenderTarget(n),o.render(h,_flatCamera)}_applyPMREM(e){const n=this._renderer,o=n.autoClear;n.autoClear=!1;const l=this._lodPlanes.length;for(let u=1;u<l;u++){const h=Math.sqrt(this._sigmas[u]*this._sigmas[u]-this._sigmas[u-1]*this._sigmas[u-1]),f=_axisDirections[(l-u-1)%_axisDirections.length];this._blur(e,u-1,u,h,f)}n.autoClear=o}_blur(e,n,o,l,u){const h=this._pingPongRenderTarget;this._halfBlur(e,h,n,o,l,"latitudinal",u),this._halfBlur(h,e,o,o,l,"longitudinal",u)}_halfBlur(e,n,o,l,u,h,f){const d=this._renderer,p=this._blurMaterial;h!=="latitudinal"&&h!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Mesh(this._lodPlanes[l],p),_=p.uniforms,S=this._sizeLods[o]-1,T=isFinite(u)?Math.PI/(2*S):2*Math.PI/(2*MAX_SAMPLES-1),A=u/T,w=isFinite(u)?1+Math.floor(m*A):MAX_SAMPLES;w>MAX_SAMPLES&&console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${MAX_SAMPLES}`);const C=[];let O=0;for(let V=0;V<MAX_SAMPLES;++V){const q=V/A,H=Math.exp(-q*q/2);C.push(H),V===0?O+=H:V<w&&(O+=2*H)}for(let V=0;V<C.length;V++)C[V]=C[V]/O;_.envMap.value=e.texture,_.samples.value=w,_.weights.value=C,_.latitudinal.value=h==="latitudinal",f&&(_.poleAxis.value=f);const{_lodMax:L}=this;_.dTheta.value=T,_.mipInt.value=L-o;const F=this._sizeLods[l],B=3*F*(l>L-LOD_MIN?l-L+LOD_MIN:0),U=4*(this._cubeSize-F);_setViewport(n,B,U,3*F,2*F),d.setRenderTarget(n),d.render(v,_flatCamera)}}function _createPlanes(t){const e=[],n=[],o=[];let l=t;const u=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let h=0;h<u;h++){const f=Math.pow(2,l);n.push(f);let d=1/f;h>t-LOD_MIN?d=EXTRA_LOD_SIGMA[h-t+LOD_MIN-1]:h===0&&(d=0),o.push(d);const p=1/(f-2),m=-p,v=1+p,_=[m,m,v,m,v,v,m,m,v,v,m,v],S=6,T=6,A=3,w=2,C=1,O=new Float32Array(A*T*S),L=new Float32Array(w*T*S),F=new Float32Array(C*T*S);for(let U=0;U<S;U++){const V=U%3*2/3-1,q=U>2?0:-1,H=[V,q,0,V+2/3,q,0,V+2/3,q+1,0,V,q,0,V+2/3,q+1,0,V,q+1,0];O.set(H,A*T*U),L.set(_,w*T*U);const G=[U,U,U,U,U,U];F.set(G,C*T*U)}const B=new BufferGeometry;B.setAttribute("position",new BufferAttribute(O,A)),B.setAttribute("uv",new BufferAttribute(L,w)),B.setAttribute("faceIndex",new BufferAttribute(F,C)),e.push(B),l>LOD_MIN&&l--}return{lodPlanes:e,sizeLods:n,sigmas:o}}function _createRenderTarget(t,e,n){const o=new WebGLRenderTarget(t,e,n);return o.texture.mapping=CubeUVReflectionMapping,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function _setViewport(t,e,n,o,l){t.viewport.set(e,n,o,l),t.scissor.set(e,n,o,l)}function _getBlurShader(t,e,n){const o=new Float32Array(MAX_SAMPLES),l=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,n=null;function o(f){if(f&&f.isTexture){const d=f.mapping,p=d===EquirectangularReflectionMapping||d===EquirectangularRefractionMapping,m=d===CubeReflectionMapping||d===CubeRefractionMapping;if(p||m){let v=e.get(f);const _=v!==void 0?v.texture.pmremVersion:0;if(f.isRenderTargetTexture&&f.pmremVersion!==_)return n===null&&(n=new PMREMGenerator(t)),v=p?n.fromEquirectangular(f,v):n.fromCubemap(f,v),v.texture.pmremVersion=f.pmremVersion,e.set(f,v),v.texture;if(v!==void 0)return v.texture;{const S=f.image;return p&&S&&S.height>0||m&&S&&l(S)?(n===null&&(n=new PMREMGenerator(t)),v=p?n.fromEquirectangular(f):n.fromCubemap(f),v.texture.pmremVersion=f.pmremVersion,e.set(f,v),f.addEventListener("dispose",u),v.texture):null}}}return f}function l(f){let d=0;const p=6;for(let m=0;m<p;m++)f[m]!==void 0&&d++;return d===p}function u(f){const d=f.target;d.removeEventListener("dispose",u);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function h(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:o,dispose:h}}function WebGLExtensions(t){const e={};function n(o){if(e[o]!==void 0)return e[o];let l;switch(o){case"WEBGL_depth_texture":l=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=t.getExtension(o)}return e[o]=l,l}return{has:function(o){return n(o)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(o){const l=n(o);return l===null&&warnOnce("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function WebGLGeometries(t,e,n,o){const l={},u=new WeakMap;function h(v){const _=v.target;_.index!==null&&e.remove(_.index);for(const T in _.attributes)e.remove(_.attributes[T]);_.removeEventListener("dispose",h),delete l[_.id];const S=u.get(_);S&&(e.remove(S),u.delete(_)),o.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,n.memory.geometries--}function f(v,_){return l[_.id]===!0||(_.addEventListener("dispose",h),l[_.id]=!0,n.memory.geometries++),_}function d(v){const _=v.attributes;for(const S in _)e.update(_[S],t.ARRAY_BUFFER)}function p(v){const _=[],S=v.index,T=v.attributes.position;let A=0;if(S!==null){const O=S.array;A=S.version;for(let L=0,F=O.length;L<F;L+=3){const B=O[L+0],U=O[L+1],V=O[L+2];_.push(B,U,U,V,V,B)}}else if(T!==void 0){const O=T.array;A=T.version;for(let L=0,F=O.length/3-1;L<F;L+=3){const B=L+0,U=L+1,V=L+2;_.push(B,U,U,V,V,B)}}else return;const w=new(arrayNeedsUint32(_)?Uint32BufferAttribute:Uint16BufferAttribute)(_,1);w.version=A;const C=u.get(v);C&&e.remove(C),u.set(v,w)}function m(v){const _=u.get(v);if(_){const S=v.index;S!==null&&_.version<S.version&&p(v)}else p(v);return u.get(v)}return{get:f,update:d,getWireframeAttribute:m}}function WebGLIndexedBufferRenderer(t,e,n){let o;function l(_){o=_}let u,h;function f(_){u=_.type,h=_.bytesPerElement}function d(_,S){t.drawElements(o,S,u,_*h),n.update(S,o,1)}function p(_,S,T){T!==0&&(t.drawElementsInstanced(o,S,u,_*h,T),n.update(S,o,T))}function m(_,S,T){if(T===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(o,S,0,u,_,0,T);let w=0;for(let C=0;C<T;C++)w+=S[C];n.update(w,o,1)}function v(_,S,T,A){if(T===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let C=0;C<_.length;C++)p(_[C]/h,S[C],A[C]);else{w.multiDrawElementsInstancedWEBGL(o,S,0,u,_,0,A,0,T);let C=0;for(let O=0;O<T;O++)C+=S[O]*A[O];n.update(C,o,1)}}this.setMode=l,this.setIndex=f,this.render=d,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function WebGLInfo(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function o(u,h,f){switch(n.calls++,h){case t.TRIANGLES:n.triangles+=f*(u/3);break;case t.LINES:n.lines+=f*(u/2);break;case t.LINE_STRIP:n.lines+=f*(u-1);break;case t.LINE_LOOP:n.lines+=f*u;break;case t.POINTS:n.points+=f*u;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",h);break}}function l(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:l,update:o}}function WebGLMorphtargets(t,e,n){const o=new WeakMap,l=new Vector4;function u(h,f,d){const p=h.morphTargetInfluences,m=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,v=m!==void 0?m.length:0;let _=o.get(f);if(_===void 0||_.count!==v){let G=function(){q.dispose(),o.delete(f),f.removeEventListener("dispose",G)};var S=G;_!==void 0&&_.texture.dispose();const T=f.morphAttributes.position!==void 0,A=f.morphAttributes.normal!==void 0,w=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],O=f.morphAttributes.normal||[],L=f.morphAttributes.color||[];let F=0;T===!0&&(F=1),A===!0&&(F=2),w===!0&&(F=3);let B=f.attributes.position.count*F,U=1;B>e.maxTextureSize&&(U=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const V=new Float32Array(B*U*4*v),q=new DataArrayTexture(V,B,U,v);q.type=FloatType,q.needsUpdate=!0;const H=F*4;for(let Y=0;Y<v;Y++){const Q=C[Y],ie=O[Y],ae=L[Y],le=B*U*4*Y;for(let he=0;he<Q.count;he++){const ge=he*H;T===!0&&(l.fromBufferAttribute(Q,he),V[le+ge+0]=l.x,V[le+ge+1]=l.y,V[le+ge+2]=l.z,V[le+ge+3]=0),A===!0&&(l.fromBufferAttribute(ie,he),V[le+ge+4]=l.x,V[le+ge+5]=l.y,V[le+ge+6]=l.z,V[le+ge+7]=0),w===!0&&(l.fromBufferAttribute(ae,he),V[le+ge+8]=l.x,V[le+ge+9]=l.y,V[le+ge+10]=l.z,V[le+ge+11]=ae.itemSize===4?l.w:1)}}_={count:v,texture:q,size:new Vector2(B,U)},o.set(f,_),f.addEventListener("dispose",G)}if(h.isInstancedMesh===!0&&h.morphTexture!==null)d.getUniforms().setValue(t,"morphTexture",h.morphTexture,n);else{let T=0;for(let w=0;w<p.length;w++)T+=p[w];const A=f.morphTargetsRelative?1:1-T;d.getUniforms().setValue(t,"morphTargetBaseInfluence",A),d.getUniforms().setValue(t,"morphTargetInfluences",p)}d.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}return{update:u}}function WebGLObjects(t,e,n,o){let l=new WeakMap;function u(d){const p=o.render.frame,m=d.geometry,v=e.get(d,m);if(l.get(v)!==p&&(e.update(v),l.set(v,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",f)===!1&&d.addEventListener("dispose",f),l.get(d)!==p&&(n.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&n.update(d.instanceColor,t.ARRAY_BUFFER),l.set(d,p))),d.isSkinnedMesh){const _=d.skeleton;l.get(_)!==p&&(_.update(),l.set(_,p))}return v}function h(){l=new WeakMap}function f(d){const p=d.target;p.removeEventListener("dispose",f),n.remove(p.instanceMatrix),p.instanceColor!==null&&n.remove(p.instanceColor)}return{update:u,dispose:h}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(t,e,n){const o=t[0];if(o<=0||o>0)return t;const l=e*n;let u=arrayCacheF32[l];if(u===void 0&&(u=new Float32Array(l),arrayCacheF32[l]=u),e!==0){o.toArray(u,0);for(let h=1,f=0;h!==e;++h)f+=n,t[h].toArray(u,f)}return u}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0,o=t.length;n<o;n++)if(t[n]!==e[n])return!1;return!0}function copyArray(t,e){for(let n=0,o=e.length;n<o;n++)t[n]=e[n]}function allocTexUnits(t,e){let n=arrayCacheI32[e];n===void 0&&(n=new Int32Array(e),arrayCacheI32[e]=n);for(let o=0;o!==e;++o)n[o]=t.allocateTextureUnit();return n}function setValueV1f(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function setValueV2f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2fv(this.addr,e),copyArray(n,e)}}function setValueV3f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(arraysEqual(n,e))return;t.uniform3fv(this.addr,e),copyArray(n,e)}}function setValueV4f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4fv(this.addr,e),copyArray(n,e)}}function setValueM2(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat2array.set(o),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(n,o)}}function setValueM3(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat3array.set(o),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(n,o)}}function setValueM4(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat4array.set(o),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(n,o)}}function setValueV1i(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function setValueV2i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2iv(this.addr,e),copyArray(n,e)}}function setValueV3i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3iv(this.addr,e),copyArray(n,e)}}function setValueV4i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4iv(this.addr,e),copyArray(n,e)}}function setValueV1ui(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function setValueV2ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2uiv(this.addr,e),copyArray(n,e)}}function setValueV3ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3uiv(this.addr,e),copyArray(n,e)}}function setValueV4ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4uiv(this.addr,e),copyArray(n,e)}}function setValueT1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l);let u;this.type===t.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,u=emptyShadowTexture):u=emptyTexture,n.setTexture2D(e||u,l)}function setValueT3D1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture3D(e||empty3dTexture,l)}function setValueT6(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTextureCube(e||emptyCubeTexture,l)}function setValueT2DArray1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture2DArray(e||emptyArrayTexture,l)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const n=flatten(e,this.size,2);t.uniform2fv(this.addr,n)}function setValueV3fArray(t,e){const n=flatten(e,this.size,3);t.uniform3fv(this.addr,n)}function setValueV4fArray(t,e){const n=flatten(e,this.size,4);t.uniform4fv(this.addr,n)}function setValueM2Array(t,e){const n=flatten(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function setValueM3Array(t,e){const n=flatten(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function setValueM4Array(t,e){const n=flatten(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture2D(e[h]||emptyTexture,u[h])}function setValueT3DArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture3D(e[h]||empty3dTexture,u[h])}function setValueT6Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTextureCube(e[h]||emptyCubeTexture,u[h])}function setValueT2DArrayArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture2DArray(e[h]||emptyArrayTexture,u[h])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.setValue=getSingularSetter(n.type)}}class PureArrayUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=getPureArraySetter(n.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,o){const l=this.seq;for(let u=0,h=l.length;u!==h;++u){const f=l[u];f.setValue(e,n[f.id],o)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,n){const o=t.name,l=o.length;for(RePathPart.lastIndex=0;;){const u=RePathPart.exec(o),h=RePathPart.lastIndex;let f=u[1];const d=u[2]==="]",p=u[3];if(d&&(f=f|0),p===void 0||p==="["&&h+2===l){addUniform(n,p===void 0?new SingleUniform(f,t,e):new PureArrayUniform(f,t,e));break}else{let v=n.map[f];v===void 0&&(v=new StructuredUniform(f),addUniform(n,v)),n=v}}}class WebGLUniforms{constructor(e,n){this.seq=[],this.map={};const o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let l=0;l<o;++l){const u=e.getActiveUniform(n,l),h=e.getUniformLocation(n,u.name);parseUniform(u,h,this)}}setValue(e,n,o,l){const u=this.map[n];u!==void 0&&u.setValue(e,o,l)}setOptional(e,n,o){const l=n[o];l!==void 0&&this.setValue(e,o,l)}static upload(e,n,o,l){for(let u=0,h=n.length;u!==h;++u){const f=n[u],d=o[f.id];d.needsUpdate!==!1&&f.setValue(e,d.value,l)}}static seqWithValue(e,n){const o=[];for(let l=0,u=e.length;l!==u;++l){const h=e[l];h.id in n&&o.push(h)}return o}}function WebGLShader(t,e,n){const o=t.createShader(e);return t.shaderSource(o,n),t.compileShader(o),o}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(t,e){const n=t.split(`
`),o=[],l=Math.max(e-6,0),u=Math.min(e+6,n.length);for(let h=l;h<u;h++){const f=h+1;o.push(`${f===e?">":" "} ${f}: ${n[h]}`)}return o.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(t){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,t);const e=`mat3( ${_m0.elements.map(n=>n.toFixed(4))} )`;switch(ColorManagement.getTransfer(t)){case LinearTransfer:return[e,"LinearTransferOETF"];case SRGBTransfer:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function getShaderErrors(t,e,n){const o=t.getShaderParameter(e,t.COMPILE_STATUS),l=t.getShaderInfoLog(e).trim();if(o&&l==="")return"";const u=/ERROR: 0:(\d+)/.exec(l);if(u){const h=parseInt(u[1]);return n.toUpperCase()+`

`+l+`

`+handleSource(t.getShaderSource(e),h)}else return l}function getTexelEncodingFunction(t,e){const n=getEncodingComponents(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(t,e){let n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case CineonToneMapping:n="Cineon";break;case ACESFilmicToneMapping:n="ACESFilmic";break;case AgXToneMapping:n="AgX";break;case NeutralToneMapping:n="Neutral";break;case CustomToneMapping:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const t=_v0.x.toFixed(4),e=_v0.y.toFixed(4),n=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const n in t){const o=t[n];o!==!1&&e.push("#define "+n+" "+o)}return e.join(`
`)}function fetchAttributeLocations(t,e){const n={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let l=0;l<o;l++){const u=t.getActiveAttrib(e,l),h=u.name;let f=1;u.type===t.FLOAT_MAT2&&(f=2),u.type===t.FLOAT_MAT3&&(f=3),u.type===t.FLOAT_MAT4&&(f=4),n[h]={type:u.type,location:t.getAttribLocation(e,h),locationSize:f}}return n}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(t,e){let n=ShaderChunk[e];if(n===void 0){const o=shaderChunkMap.get(e);if(o!==void 0)n=ShaderChunk[o],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,o);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(n)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,n,o){let l="";for(let u=parseInt(e);u<parseInt(n);u++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+u+" ]").replace(/UNROLLED_LOOP_INDEX/g,u);return l}function generatePrecision(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,o=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:o,maxMip:n}}function WebGLProgram(t,e,n,o){const l=t.getContext(),u=n.defines;let h=n.vertexShader,f=n.fragmentShader;const d=generateShadowMapTypeDefine(n),p=generateEnvMapTypeDefine(n),m=generateEnvMapModeDefine(n),v=generateEnvMapBlendingDefine(n),_=generateCubeUVSize(n),S=generateVertexExtensions(n),T=generateDefines(u),A=l.createProgram();let w,C,O=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T].filter(filterEmptyLine).join(`
`),w.length>0&&(w+=`
`),C=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T].filter(filterEmptyLine).join(`
`),C.length>0&&(C+=`
`)):(w=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),C=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",n.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",n.outputColorSpace),getLuminanceFunction(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),h=resolveIncludes(h),h=replaceLightNums(h,n),h=replaceClippingPlaneNums(h,n),f=resolveIncludes(f),f=replaceLightNums(f,n),f=replaceClippingPlaneNums(f,n),h=unrollLoops(h),f=unrollLoops(f),n.isRawShaderMaterial!==!0&&(O=`#version 300 es
`,w=[S,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,C=["#define varying in",n.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+C);const L=O+w+h,F=O+C+f,B=WebGLShader(l,l.VERTEX_SHADER,L),U=WebGLShader(l,l.FRAGMENT_SHADER,F);l.attachShader(A,B),l.attachShader(A,U),n.index0AttributeName!==void 0?l.bindAttribLocation(A,0,n.index0AttributeName):n.morphTargets===!0&&l.bindAttribLocation(A,0,"position"),l.linkProgram(A);function V(Y){if(t.debug.checkShaderErrors){const Q=l.getProgramInfoLog(A).trim(),ie=l.getShaderInfoLog(B).trim(),ae=l.getShaderInfoLog(U).trim();let le=!0,he=!0;if(l.getProgramParameter(A,l.LINK_STATUS)===!1)if(le=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(l,A,B,U);else{const ge=getShaderErrors(l,B,"vertex"),J=getShaderErrors(l,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(A,l.VALIDATE_STATUS)+`

Material Name: `+Y.name+`
Material Type: `+Y.type+`

Program Info Log: `+Q+`
`+ge+`
`+J)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(ie===""||ae==="")&&(he=!1);he&&(Y.diagnostics={runnable:le,programLog:Q,vertexShader:{log:ie,prefix:w},fragmentShader:{log:ae,prefix:C}})}l.deleteShader(B),l.deleteShader(U),q=new WebGLUniforms(l,A),H=fetchAttributeLocations(l,A)}let q;this.getUniforms=function(){return q===void 0&&V(this),q};let H;this.getAttributes=function(){return H===void 0&&V(this),H};let G=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return G===!1&&(G=l.getProgramParameter(A,COMPLETION_STATUS_KHR)),G},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(A),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=B,this.fragmentShader=U,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,o=e.fragmentShader,l=this._getShaderStage(n),u=this._getShaderStage(o),h=this._getShaderCacheForMaterial(e);return h.has(l)===!1&&(h.add(l),l.usedTimes++),h.has(u)===!1&&(h.add(u),u.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const o of n)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let o=n.get(e);return o===void 0&&(o=new Set,n.set(e,o)),o}_getShaderStage(e){const n=this.shaderCache;let o=n.get(e);return o===void 0&&(o=new WebGLShaderStage(e),n.set(e,o)),o}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,n,o,l,u,h){const f=new Layers,d=new WebGLShaderCache,p=new Set,m=[],v=l.logarithmicDepthBuffer,_=l.vertexTextures;let S=l.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(H){return p.add(H),H===0?"uv":`uv${H}`}function w(H,G,Y,Q,ie){const ae=Q.fog,le=ie.geometry,he=H.isMeshStandardMaterial?Q.environment:null,ge=(H.isMeshStandardMaterial?n:e).get(H.envMap||he),J=ge&&ge.mapping===CubeUVReflectionMapping?ge.image.height:null,se=T[H.type];H.precision!==null&&(S=l.getMaxPrecision(H.precision),S!==H.precision&&console.warn("THREE.WebGLProgram.getParameters:",H.precision,"not supported, using",S,"instead."));const ce=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,te=ce!==void 0?ce.length:0;let fe=0;le.morphAttributes.position!==void 0&&(fe=1),le.morphAttributes.normal!==void 0&&(fe=2),le.morphAttributes.color!==void 0&&(fe=3);let _e,ye,xe,Me;if(se){const jt=ShaderLib[se];_e=jt.vertexShader,ye=jt.fragmentShader}else _e=H.vertexShader,ye=H.fragmentShader,d.update(H),xe=d.getVertexShaderID(H),Me=d.getFragmentShaderID(H);const be=t.getRenderTarget(),Ce=t.state.buffers.depth.getReversed(),Re=ie.isInstancedMesh===!0,Ne=ie.isBatchedMesh===!0,Oe=!!H.map,Te=!!H.matcap,tt=!!ge,de=!!H.aoMap,Xe=!!H.lightMap,qe=!!H.bumpMap,Ye=!!H.normalMap,Ie=!!H.displacementMap,et=!!H.emissiveMap,Ue=!!H.metalnessMap,ke=!!H.roughnessMap,ct=H.anisotropy>0,me=H.clearcoat>0,ue=H.dispersion>0,Ae=H.iridescence>0,We=H.sheen>0,$e=H.transmission>0,je=ct&&!!H.anisotropyMap,ft=me&&!!H.clearcoatMap,ht=me&&!!H.clearcoatNormalMap,gt=me&&!!H.clearcoatRoughnessMap,Et=Ae&&!!H.iridescenceMap,nt=Ae&&!!H.iridescenceThicknessMap,dt=We&&!!H.sheenColorMap,pt=We&&!!H.sheenRoughnessMap,Ee=!!H.specularMap,Ve=!!H.specularColorMap,mt=!!H.specularIntensityMap,we=$e&&!!H.transmissionMap,at=$e&&!!H.thicknessMap,st=!!H.gradientMap,Tt=!!H.alphaMap,ut=H.alphaTest>0,Je=!!H.alphaHash,_t=!!H.extensions;let Ct=NoToneMapping;H.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Ct=t.toneMapping);const Rt={shaderID:se,shaderType:H.type,shaderName:H.name,vertexShader:_e,fragmentShader:ye,defines:H.defines,customVertexShaderID:xe,customFragmentShaderID:Me,isRawShaderMaterial:H.isRawShaderMaterial===!0,glslVersion:H.glslVersion,precision:S,batching:Ne,batchingColor:Ne&&ie._colorsTexture!==null,instancing:Re,instancingColor:Re&&ie.instanceColor!==null,instancingMorph:Re&&ie.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:be===null?t.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!H.alphaToCoverage,map:Oe,matcap:Te,envMap:tt,envMapMode:tt&&ge.mapping,envMapCubeUVHeight:J,aoMap:de,lightMap:Xe,bumpMap:qe,normalMap:Ye,displacementMap:_&&Ie,emissiveMap:et,normalMapObjectSpace:Ye&&H.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Ye&&H.normalMapType===TangentSpaceNormalMap,metalnessMap:Ue,roughnessMap:ke,anisotropy:ct,anisotropyMap:je,clearcoat:me,clearcoatMap:ft,clearcoatNormalMap:ht,clearcoatRoughnessMap:gt,dispersion:ue,iridescence:Ae,iridescenceMap:Et,iridescenceThicknessMap:nt,sheen:We,sheenColorMap:dt,sheenRoughnessMap:pt,specularMap:Ee,specularColorMap:Ve,specularIntensityMap:mt,transmission:$e,transmissionMap:we,thicknessMap:at,gradientMap:st,opaque:H.transparent===!1&&H.blending===NormalBlending&&H.alphaToCoverage===!1,alphaMap:Tt,alphaTest:ut,alphaHash:Je,combine:H.combine,mapUv:Oe&&A(H.map.channel),aoMapUv:de&&A(H.aoMap.channel),lightMapUv:Xe&&A(H.lightMap.channel),bumpMapUv:qe&&A(H.bumpMap.channel),normalMapUv:Ye&&A(H.normalMap.channel),displacementMapUv:Ie&&A(H.displacementMap.channel),emissiveMapUv:et&&A(H.emissiveMap.channel),metalnessMapUv:Ue&&A(H.metalnessMap.channel),roughnessMapUv:ke&&A(H.roughnessMap.channel),anisotropyMapUv:je&&A(H.anisotropyMap.channel),clearcoatMapUv:ft&&A(H.clearcoatMap.channel),clearcoatNormalMapUv:ht&&A(H.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:gt&&A(H.clearcoatRoughnessMap.channel),iridescenceMapUv:Et&&A(H.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&A(H.iridescenceThicknessMap.channel),sheenColorMapUv:dt&&A(H.sheenColorMap.channel),sheenRoughnessMapUv:pt&&A(H.sheenRoughnessMap.channel),specularMapUv:Ee&&A(H.specularMap.channel),specularColorMapUv:Ve&&A(H.specularColorMap.channel),specularIntensityMapUv:mt&&A(H.specularIntensityMap.channel),transmissionMapUv:we&&A(H.transmissionMap.channel),thicknessMapUv:at&&A(H.thicknessMap.channel),alphaMapUv:Tt&&A(H.alphaMap.channel),vertexTangents:!!le.attributes.tangent&&(Ye||ct),vertexColors:H.vertexColors,vertexAlphas:H.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,pointsUvs:ie.isPoints===!0&&!!le.attributes.uv&&(Oe||Tt),fog:!!ae,useFog:H.fog===!0,fogExp2:!!ae&&ae.isFogExp2,flatShading:H.flatShading===!0,sizeAttenuation:H.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:Ce,skinning:ie.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:fe,numDirLights:G.directional.length,numPointLights:G.point.length,numSpotLights:G.spot.length,numSpotLightMaps:G.spotLightMap.length,numRectAreaLights:G.rectArea.length,numHemiLights:G.hemi.length,numDirLightShadows:G.directionalShadowMap.length,numPointLightShadows:G.pointShadowMap.length,numSpotLightShadows:G.spotShadowMap.length,numSpotLightShadowsWithMaps:G.numSpotLightShadowsWithMaps,numLightProbes:G.numLightProbes,numClippingPlanes:h.numPlanes,numClipIntersection:h.numIntersection,dithering:H.dithering,shadowMapEnabled:t.shadowMap.enabled&&Y.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ct,decodeVideoTexture:Oe&&H.map.isVideoTexture===!0&&ColorManagement.getTransfer(H.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:et&&H.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(H.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:H.premultipliedAlpha,doubleSided:H.side===DoubleSide,flipSided:H.side===BackSide,useDepthPacking:H.depthPacking>=0,depthPacking:H.depthPacking||0,index0AttributeName:H.index0AttributeName,extensionClipCullDistance:_t&&H.extensions.clipCullDistance===!0&&o.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&H.extensions.multiDraw===!0||Ne)&&o.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:o.has("KHR_parallel_shader_compile"),customProgramCacheKey:H.customProgramCacheKey()};return Rt.vertexUv1s=p.has(1),Rt.vertexUv2s=p.has(2),Rt.vertexUv3s=p.has(3),p.clear(),Rt}function C(H){const G=[];if(H.shaderID?G.push(H.shaderID):(G.push(H.customVertexShaderID),G.push(H.customFragmentShaderID)),H.defines!==void 0)for(const Y in H.defines)G.push(Y),G.push(H.defines[Y]);return H.isRawShaderMaterial===!1&&(O(G,H),L(G,H),G.push(t.outputColorSpace)),G.push(H.customProgramCacheKey),G.join()}function O(H,G){H.push(G.precision),H.push(G.outputColorSpace),H.push(G.envMapMode),H.push(G.envMapCubeUVHeight),H.push(G.mapUv),H.push(G.alphaMapUv),H.push(G.lightMapUv),H.push(G.aoMapUv),H.push(G.bumpMapUv),H.push(G.normalMapUv),H.push(G.displacementMapUv),H.push(G.emissiveMapUv),H.push(G.metalnessMapUv),H.push(G.roughnessMapUv),H.push(G.anisotropyMapUv),H.push(G.clearcoatMapUv),H.push(G.clearcoatNormalMapUv),H.push(G.clearcoatRoughnessMapUv),H.push(G.iridescenceMapUv),H.push(G.iridescenceThicknessMapUv),H.push(G.sheenColorMapUv),H.push(G.sheenRoughnessMapUv),H.push(G.specularMapUv),H.push(G.specularColorMapUv),H.push(G.specularIntensityMapUv),H.push(G.transmissionMapUv),H.push(G.thicknessMapUv),H.push(G.combine),H.push(G.fogExp2),H.push(G.sizeAttenuation),H.push(G.morphTargetsCount),H.push(G.morphAttributeCount),H.push(G.numDirLights),H.push(G.numPointLights),H.push(G.numSpotLights),H.push(G.numSpotLightMaps),H.push(G.numHemiLights),H.push(G.numRectAreaLights),H.push(G.numDirLightShadows),H.push(G.numPointLightShadows),H.push(G.numSpotLightShadows),H.push(G.numSpotLightShadowsWithMaps),H.push(G.numLightProbes),H.push(G.shadowMapType),H.push(G.toneMapping),H.push(G.numClippingPlanes),H.push(G.numClipIntersection),H.push(G.depthPacking)}function L(H,G){f.disableAll(),G.supportsVertexTextures&&f.enable(0),G.instancing&&f.enable(1),G.instancingColor&&f.enable(2),G.instancingMorph&&f.enable(3),G.matcap&&f.enable(4),G.envMap&&f.enable(5),G.normalMapObjectSpace&&f.enable(6),G.normalMapTangentSpace&&f.enable(7),G.clearcoat&&f.enable(8),G.iridescence&&f.enable(9),G.alphaTest&&f.enable(10),G.vertexColors&&f.enable(11),G.vertexAlphas&&f.enable(12),G.vertexUv1s&&f.enable(13),G.vertexUv2s&&f.enable(14),G.vertexUv3s&&f.enable(15),G.vertexTangents&&f.enable(16),G.anisotropy&&f.enable(17),G.alphaHash&&f.enable(18),G.batching&&f.enable(19),G.dispersion&&f.enable(20),G.batchingColor&&f.enable(21),H.push(f.mask),f.disableAll(),G.fog&&f.enable(0),G.useFog&&f.enable(1),G.flatShading&&f.enable(2),G.logarithmicDepthBuffer&&f.enable(3),G.reverseDepthBuffer&&f.enable(4),G.skinning&&f.enable(5),G.morphTargets&&f.enable(6),G.morphNormals&&f.enable(7),G.morphColors&&f.enable(8),G.premultipliedAlpha&&f.enable(9),G.shadowMapEnabled&&f.enable(10),G.doubleSided&&f.enable(11),G.flipSided&&f.enable(12),G.useDepthPacking&&f.enable(13),G.dithering&&f.enable(14),G.transmission&&f.enable(15),G.sheen&&f.enable(16),G.opaque&&f.enable(17),G.pointsUvs&&f.enable(18),G.decodeVideoTexture&&f.enable(19),G.decodeVideoTextureEmissive&&f.enable(20),G.alphaToCoverage&&f.enable(21),H.push(f.mask)}function F(H){const G=T[H.type];let Y;if(G){const Q=ShaderLib[G];Y=UniformsUtils.clone(Q.uniforms)}else Y=H.uniforms;return Y}function B(H,G){let Y;for(let Q=0,ie=m.length;Q<ie;Q++){const ae=m[Q];if(ae.cacheKey===G){Y=ae,++Y.usedTimes;break}}return Y===void 0&&(Y=new WebGLProgram(t,G,H,u),m.push(Y)),Y}function U(H){if(--H.usedTimes===0){const G=m.indexOf(H);m[G]=m[m.length-1],m.pop(),H.destroy()}}function V(H){d.remove(H)}function q(){d.dispose()}return{getParameters:w,getProgramCacheKey:C,getUniforms:F,acquireProgram:B,releaseProgram:U,releaseShaderCache:V,programs:m,dispose:q}}function WebGLProperties(){let t=new WeakMap;function e(h){return t.has(h)}function n(h){let f=t.get(h);return f===void 0&&(f={},t.set(h,f)),f}function o(h){t.delete(h)}function l(h,f,d){t.get(h)[f]=d}function u(){t=new WeakMap}return{has:e,get:n,remove:o,update:l,dispose:u}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const n=[],o=[],l=[];function u(){e=0,n.length=0,o.length=0,l.length=0}function h(v,_,S,T,A,w){let C=t[e];return C===void 0?(C={id:v.id,object:v,geometry:_,material:S,groupOrder:T,renderOrder:v.renderOrder,z:A,group:w},t[e]=C):(C.id=v.id,C.object=v,C.geometry=_,C.material=S,C.groupOrder=T,C.renderOrder=v.renderOrder,C.z=A,C.group=w),e++,C}function f(v,_,S,T,A,w){const C=h(v,_,S,T,A,w);S.transmission>0?o.push(C):S.transparent===!0?l.push(C):n.push(C)}function d(v,_,S,T,A,w){const C=h(v,_,S,T,A,w);S.transmission>0?o.unshift(C):S.transparent===!0?l.unshift(C):n.unshift(C)}function p(v,_){n.length>1&&n.sort(v||painterSortStable),o.length>1&&o.sort(_||reversePainterSortStable),l.length>1&&l.sort(_||reversePainterSortStable)}function m(){for(let v=e,_=t.length;v<_;v++){const S=t[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:n,transmissive:o,transparent:l,init:u,push:f,unshift:d,finish:m,sort:p}}function WebGLRenderLists(){let t=new WeakMap;function e(o,l){const u=t.get(o);let h;return u===void 0?(h=new WebGLRenderList,t.set(o,[h])):l>=u.length?(h=new WebGLRenderList,u.push(h)):h=u[l],h}function n(){t=new WeakMap}return{get:e,dispose:n}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color$1};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":n={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=n,n}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t){const e=new UniformsCache,n=ShadowUniformsCache(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)o.probe.push(new Vector3);const l=new Vector3,u=new Matrix4,h=new Matrix4;function f(p){let m=0,v=0,_=0;for(let H=0;H<9;H++)o.probe[H].set(0,0,0);let S=0,T=0,A=0,w=0,C=0,O=0,L=0,F=0,B=0,U=0,V=0;p.sort(shadowCastingAndTexturingLightsFirst);for(let H=0,G=p.length;H<G;H++){const Y=p[H],Q=Y.color,ie=Y.intensity,ae=Y.distance,le=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)m+=Q.r*ie,v+=Q.g*ie,_+=Q.b*ie;else if(Y.isLightProbe){for(let he=0;he<9;he++)o.probe[he].addScaledVector(Y.sh.coefficients[he],ie);V++}else if(Y.isDirectionalLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),Y.castShadow){const ge=Y.shadow,J=n.get(Y);J.shadowIntensity=ge.intensity,J.shadowBias=ge.bias,J.shadowNormalBias=ge.normalBias,J.shadowRadius=ge.radius,J.shadowMapSize=ge.mapSize,o.directionalShadow[S]=J,o.directionalShadowMap[S]=le,o.directionalShadowMatrix[S]=Y.shadow.matrix,O++}o.directional[S]=he,S++}else if(Y.isSpotLight){const he=e.get(Y);he.position.setFromMatrixPosition(Y.matrixWorld),he.color.copy(Q).multiplyScalar(ie),he.distance=ae,he.coneCos=Math.cos(Y.angle),he.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),he.decay=Y.decay,o.spot[A]=he;const ge=Y.shadow;if(Y.map&&(o.spotLightMap[B]=Y.map,B++,ge.updateMatrices(Y),Y.castShadow&&U++),o.spotLightMatrix[A]=ge.matrix,Y.castShadow){const J=n.get(Y);J.shadowIntensity=ge.intensity,J.shadowBias=ge.bias,J.shadowNormalBias=ge.normalBias,J.shadowRadius=ge.radius,J.shadowMapSize=ge.mapSize,o.spotShadow[A]=J,o.spotShadowMap[A]=le,F++}A++}else if(Y.isRectAreaLight){const he=e.get(Y);he.color.copy(Q).multiplyScalar(ie),he.halfWidth.set(Y.width*.5,0,0),he.halfHeight.set(0,Y.height*.5,0),o.rectArea[w]=he,w++}else if(Y.isPointLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),he.distance=Y.distance,he.decay=Y.decay,Y.castShadow){const ge=Y.shadow,J=n.get(Y);J.shadowIntensity=ge.intensity,J.shadowBias=ge.bias,J.shadowNormalBias=ge.normalBias,J.shadowRadius=ge.radius,J.shadowMapSize=ge.mapSize,J.shadowCameraNear=ge.camera.near,J.shadowCameraFar=ge.camera.far,o.pointShadow[T]=J,o.pointShadowMap[T]=le,o.pointShadowMatrix[T]=Y.shadow.matrix,L++}o.point[T]=he,T++}else if(Y.isHemisphereLight){const he=e.get(Y);he.skyColor.copy(Y.color).multiplyScalar(ie),he.groundColor.copy(Y.groundColor).multiplyScalar(ie),o.hemi[C]=he,C++}}w>0&&(t.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,o.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(o.rectAreaLTC1=UniformsLib.LTC_HALF_1,o.rectAreaLTC2=UniformsLib.LTC_HALF_2)),o.ambient[0]=m,o.ambient[1]=v,o.ambient[2]=_;const q=o.hash;(q.directionalLength!==S||q.pointLength!==T||q.spotLength!==A||q.rectAreaLength!==w||q.hemiLength!==C||q.numDirectionalShadows!==O||q.numPointShadows!==L||q.numSpotShadows!==F||q.numSpotMaps!==B||q.numLightProbes!==V)&&(o.directional.length=S,o.spot.length=A,o.rectArea.length=w,o.point.length=T,o.hemi.length=C,o.directionalShadow.length=O,o.directionalShadowMap.length=O,o.pointShadow.length=L,o.pointShadowMap.length=L,o.spotShadow.length=F,o.spotShadowMap.length=F,o.directionalShadowMatrix.length=O,o.pointShadowMatrix.length=L,o.spotLightMatrix.length=F+B-U,o.spotLightMap.length=B,o.numSpotLightShadowsWithMaps=U,o.numLightProbes=V,q.directionalLength=S,q.pointLength=T,q.spotLength=A,q.rectAreaLength=w,q.hemiLength=C,q.numDirectionalShadows=O,q.numPointShadows=L,q.numSpotShadows=F,q.numSpotMaps=B,q.numLightProbes=V,o.version=nextVersion++)}function d(p,m){let v=0,_=0,S=0,T=0,A=0;const w=m.matrixWorldInverse;for(let C=0,O=p.length;C<O;C++){const L=p[C];if(L.isDirectionalLight){const F=o.directional[v];F.direction.setFromMatrixPosition(L.matrixWorld),l.setFromMatrixPosition(L.target.matrixWorld),F.direction.sub(l),F.direction.transformDirection(w),v++}else if(L.isSpotLight){const F=o.spot[S];F.position.setFromMatrixPosition(L.matrixWorld),F.position.applyMatrix4(w),F.direction.setFromMatrixPosition(L.matrixWorld),l.setFromMatrixPosition(L.target.matrixWorld),F.direction.sub(l),F.direction.transformDirection(w),S++}else if(L.isRectAreaLight){const F=o.rectArea[T];F.position.setFromMatrixPosition(L.matrixWorld),F.position.applyMatrix4(w),h.identity(),u.copy(L.matrixWorld),u.premultiply(w),h.extractRotation(u),F.halfWidth.set(L.width*.5,0,0),F.halfHeight.set(0,L.height*.5,0),F.halfWidth.applyMatrix4(h),F.halfHeight.applyMatrix4(h),T++}else if(L.isPointLight){const F=o.point[_];F.position.setFromMatrixPosition(L.matrixWorld),F.position.applyMatrix4(w),_++}else if(L.isHemisphereLight){const F=o.hemi[A];F.direction.setFromMatrixPosition(L.matrixWorld),F.direction.transformDirection(w),A++}}}return{setup:f,setupView:d,state:o}}function WebGLRenderState(t){const e=new WebGLLights(t),n=[],o=[];function l(m){p.camera=m,n.length=0,o.length=0}function u(m){n.push(m)}function h(m){o.push(m)}function f(){e.setup(n)}function d(m){e.setupView(n,m)}const p={lightsArray:n,shadowsArray:o,camera:null,lights:e,transmissionRenderTarget:{}};return{init:l,state:p,setupLights:f,setupLightsView:d,pushLight:u,pushShadow:h}}function WebGLRenderStates(t){let e=new WeakMap;function n(l,u=0){const h=e.get(l);let f;return h===void 0?(f=new WebGLRenderState(t),e.set(l,[f])):u>=h.length?(f=new WebGLRenderState(t),h.push(f)):f=h[u],f}function o(){e=new WeakMap}return{get:n,dispose:o}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,n){let o=new Frustum;const l=new Vector2,u=new Vector2,h=new Vector4,f=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),d=new MeshDistanceMaterial,p={},m=n.maxTextureSize,v={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},_=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),S=_.clone();S.defines.HORIZONTAL_PASS=1;const T=new BufferGeometry;T.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Mesh(T,_),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let C=this.type;this.render=function(U,V,q){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||U.length===0)return;const H=t.getRenderTarget(),G=t.getActiveCubeFace(),Y=t.getActiveMipmapLevel(),Q=t.state;Q.setBlending(NoBlending),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const ie=C!==VSMShadowMap&&this.type===VSMShadowMap,ae=C===VSMShadowMap&&this.type!==VSMShadowMap;for(let le=0,he=U.length;le<he;le++){const ge=U[le],J=ge.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;l.copy(J.mapSize);const se=J.getFrameExtents();if(l.multiply(se),u.copy(J.mapSize),(l.x>m||l.y>m)&&(l.x>m&&(u.x=Math.floor(m/se.x),l.x=u.x*se.x,J.mapSize.x=u.x),l.y>m&&(u.y=Math.floor(m/se.y),l.y=u.y*se.y,J.mapSize.y=u.y)),J.map===null||ie===!0||ae===!0){const te=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};J.map!==null&&J.map.dispose(),J.map=new WebGLRenderTarget(l.x,l.y,te),J.map.texture.name=ge.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const ce=J.getViewportCount();for(let te=0;te<ce;te++){const fe=J.getViewport(te);h.set(u.x*fe.x,u.y*fe.y,u.x*fe.z,u.y*fe.w),Q.viewport(h),J.updateMatrices(ge,te),o=J.getFrustum(),F(V,q,J.camera,ge,this.type)}J.isPointLightShadow!==!0&&this.type===VSMShadowMap&&O(J,q),J.needsUpdate=!1}C=this.type,w.needsUpdate=!1,t.setRenderTarget(H,G,Y)};function O(U,V){const q=e.update(A);_.defines.VSM_SAMPLES!==U.blurSamples&&(_.defines.VSM_SAMPLES=U.blurSamples,S.defines.VSM_SAMPLES=U.blurSamples,_.needsUpdate=!0,S.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new WebGLRenderTarget(l.x,l.y)),_.uniforms.shadow_pass.value=U.map.texture,_.uniforms.resolution.value=U.mapSize,_.uniforms.radius.value=U.radius,t.setRenderTarget(U.mapPass),t.clear(),t.renderBufferDirect(V,null,q,_,A,null),S.uniforms.shadow_pass.value=U.mapPass.texture,S.uniforms.resolution.value=U.mapSize,S.uniforms.radius.value=U.radius,t.setRenderTarget(U.map),t.clear(),t.renderBufferDirect(V,null,q,S,A,null)}function L(U,V,q,H){let G=null;const Y=q.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(Y!==void 0)G=Y;else if(G=q.isPointLight===!0?d:f,t.localClippingEnabled&&V.clipShadows===!0&&Array.isArray(V.clippingPlanes)&&V.clippingPlanes.length!==0||V.displacementMap&&V.displacementScale!==0||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0||V.alphaToCoverage===!0){const Q=G.uuid,ie=V.uuid;let ae=p[Q];ae===void 0&&(ae={},p[Q]=ae);let le=ae[ie];le===void 0&&(le=G.clone(),ae[ie]=le,V.addEventListener("dispose",B)),G=le}if(G.visible=V.visible,G.wireframe=V.wireframe,H===VSMShadowMap?G.side=V.shadowSide!==null?V.shadowSide:V.side:G.side=V.shadowSide!==null?V.shadowSide:v[V.side],G.alphaMap=V.alphaMap,G.alphaTest=V.alphaToCoverage===!0?.5:V.alphaTest,G.map=V.map,G.clipShadows=V.clipShadows,G.clippingPlanes=V.clippingPlanes,G.clipIntersection=V.clipIntersection,G.displacementMap=V.displacementMap,G.displacementScale=V.displacementScale,G.displacementBias=V.displacementBias,G.wireframeLinewidth=V.wireframeLinewidth,G.linewidth=V.linewidth,q.isPointLight===!0&&G.isMeshDistanceMaterial===!0){const Q=t.properties.get(G);Q.light=q}return G}function F(U,V,q,H,G){if(U.visible===!1)return;if(U.layers.test(V.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&G===VSMShadowMap)&&(!U.frustumCulled||o.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,U.matrixWorld);const ie=e.update(U),ae=U.material;if(Array.isArray(ae)){const le=ie.groups;for(let he=0,ge=le.length;he<ge;he++){const J=le[he],se=ae[J.materialIndex];if(se&&se.visible){const ce=L(U,se,H,G);U.onBeforeShadow(t,U,V,q,ie,ce,J),t.renderBufferDirect(q,null,ie,ce,U,J),U.onAfterShadow(t,U,V,q,ie,ce,J)}}}else if(ae.visible){const le=L(U,ae,H,G);U.onBeforeShadow(t,U,V,q,ie,le,null),t.renderBufferDirect(q,null,ie,le,U,null),U.onAfterShadow(t,U,V,q,ie,le,null)}}const Q=U.children;for(let ie=0,ae=Q.length;ie<ae;ie++)F(Q[ie],V,q,H,G)}function B(U){U.target.removeEventListener("dispose",B);for(const q in p){const H=p[q],G=U.target.uuid;G in H&&(H[G].dispose(),delete H[G])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(t,e){function n(){let we=!1;const at=new Vector4;let st=null;const Tt=new Vector4(0,0,0,0);return{setMask:function(ut){st!==ut&&!we&&(t.colorMask(ut,ut,ut,ut),st=ut)},setLocked:function(ut){we=ut},setClear:function(ut,Je,_t,Ct,Rt){Rt===!0&&(ut*=Ct,Je*=Ct,_t*=Ct),at.set(ut,Je,_t,Ct),Tt.equals(at)===!1&&(t.clearColor(ut,Je,_t,Ct),Tt.copy(at))},reset:function(){we=!1,st=null,Tt.set(-1,0,0,0)}}}function o(){let we=!1,at=!1,st=null,Tt=null,ut=null;return{setReversed:function(Je){if(at!==Je){const _t=e.get("EXT_clip_control");Je?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),at=Je;const Ct=ut;ut=null,this.setClear(Ct)}},getReversed:function(){return at},setTest:function(Je){Je?be(t.DEPTH_TEST):Ce(t.DEPTH_TEST)},setMask:function(Je){st!==Je&&!we&&(t.depthMask(Je),st=Je)},setFunc:function(Je){if(at&&(Je=reversedFuncs[Je]),Tt!==Je){switch(Je){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Tt=Je}},setLocked:function(Je){we=Je},setClear:function(Je){ut!==Je&&(at&&(Je=1-Je),t.clearDepth(Je),ut=Je)},reset:function(){we=!1,st=null,Tt=null,ut=null,at=!1}}}function l(){let we=!1,at=null,st=null,Tt=null,ut=null,Je=null,_t=null,Ct=null,Rt=null;return{setTest:function(jt){we||(jt?be(t.STENCIL_TEST):Ce(t.STENCIL_TEST))},setMask:function(jt){at!==jt&&!we&&(t.stencilMask(jt),at=jt)},setFunc:function(jt,pn,mn){(st!==jt||Tt!==pn||ut!==mn)&&(t.stencilFunc(jt,pn,mn),st=jt,Tt=pn,ut=mn)},setOp:function(jt,pn,mn){(Je!==jt||_t!==pn||Ct!==mn)&&(t.stencilOp(jt,pn,mn),Je=jt,_t=pn,Ct=mn)},setLocked:function(jt){we=jt},setClear:function(jt){Rt!==jt&&(t.clearStencil(jt),Rt=jt)},reset:function(){we=!1,at=null,st=null,Tt=null,ut=null,Je=null,_t=null,Ct=null,Rt=null}}}const u=new n,h=new o,f=new l,d=new WeakMap,p=new WeakMap;let m={},v={},_=new WeakMap,S=[],T=null,A=!1,w=null,C=null,O=null,L=null,F=null,B=null,U=null,V=new Color$1(0,0,0),q=0,H=!1,G=null,Y=null,Q=null,ie=null,ae=null;const le=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,ge=0;const J=t.getParameter(t.VERSION);J.indexOf("WebGL")!==-1?(ge=parseFloat(/^WebGL (\d)/.exec(J)[1]),he=ge>=1):J.indexOf("OpenGL ES")!==-1&&(ge=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),he=ge>=2);let se=null,ce={};const te=t.getParameter(t.SCISSOR_BOX),fe=t.getParameter(t.VIEWPORT),_e=new Vector4().fromArray(te),ye=new Vector4().fromArray(fe);function xe(we,at,st,Tt){const ut=new Uint8Array(4),Je=t.createTexture();t.bindTexture(we,Je),t.texParameteri(we,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(we,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let _t=0;_t<st;_t++)we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?t.texImage3D(at,0,t.RGBA,1,1,Tt,0,t.RGBA,t.UNSIGNED_BYTE,ut):t.texImage2D(at+_t,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ut);return Je}const Me={};Me[t.TEXTURE_2D]=xe(t.TEXTURE_2D,t.TEXTURE_2D,1),Me[t.TEXTURE_CUBE_MAP]=xe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Me[t.TEXTURE_2D_ARRAY]=xe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Me[t.TEXTURE_3D]=xe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),u.setClear(0,0,0,1),h.setClear(1),f.setClear(0),be(t.DEPTH_TEST),h.setFunc(LessEqualDepth),qe(!1),Ye(CullFaceBack),be(t.CULL_FACE),de(NoBlending);function be(we){m[we]!==!0&&(t.enable(we),m[we]=!0)}function Ce(we){m[we]!==!1&&(t.disable(we),m[we]=!1)}function Re(we,at){return v[we]!==at?(t.bindFramebuffer(we,at),v[we]=at,we===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=at),we===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=at),!0):!1}function Ne(we,at){let st=S,Tt=!1;if(we){st=_.get(at),st===void 0&&(st=[],_.set(at,st));const ut=we.textures;if(st.length!==ut.length||st[0]!==t.COLOR_ATTACHMENT0){for(let Je=0,_t=ut.length;Je<_t;Je++)st[Je]=t.COLOR_ATTACHMENT0+Je;st.length=ut.length,Tt=!0}}else st[0]!==t.BACK&&(st[0]=t.BACK,Tt=!0);Tt&&t.drawBuffers(st)}function Oe(we){return T!==we?(t.useProgram(we),T=we,!0):!1}const Te={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};Te[MinEquation]=t.MIN,Te[MaxEquation]=t.MAX;const tt={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:t.CONSTANT_COLOR,[OneMinusConstantColorFactor]:t.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:t.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:t.ONE_MINUS_CONSTANT_ALPHA};function de(we,at,st,Tt,ut,Je,_t,Ct,Rt,jt){if(we===NoBlending){A===!0&&(Ce(t.BLEND),A=!1);return}if(A===!1&&(be(t.BLEND),A=!0),we!==CustomBlending){if(we!==w||jt!==H){if((C!==AddEquation||F!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),C=AddEquation,F=AddEquation),jt)switch(we){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}else switch(we){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}O=null,L=null,B=null,U=null,V.set(0,0,0),q=0,w=we,H=jt}return}ut=ut||at,Je=Je||st,_t=_t||Tt,(at!==C||ut!==F)&&(t.blendEquationSeparate(Te[at],Te[ut]),C=at,F=ut),(st!==O||Tt!==L||Je!==B||_t!==U)&&(t.blendFuncSeparate(tt[st],tt[Tt],tt[Je],tt[_t]),O=st,L=Tt,B=Je,U=_t),(Ct.equals(V)===!1||Rt!==q)&&(t.blendColor(Ct.r,Ct.g,Ct.b,Rt),V.copy(Ct),q=Rt),w=we,H=!1}function Xe(we,at){we.side===DoubleSide?Ce(t.CULL_FACE):be(t.CULL_FACE);let st=we.side===BackSide;at&&(st=!st),qe(st),we.blending===NormalBlending&&we.transparent===!1?de(NoBlending):de(we.blending,we.blendEquation,we.blendSrc,we.blendDst,we.blendEquationAlpha,we.blendSrcAlpha,we.blendDstAlpha,we.blendColor,we.blendAlpha,we.premultipliedAlpha),h.setFunc(we.depthFunc),h.setTest(we.depthTest),h.setMask(we.depthWrite),u.setMask(we.colorWrite);const Tt=we.stencilWrite;f.setTest(Tt),Tt&&(f.setMask(we.stencilWriteMask),f.setFunc(we.stencilFunc,we.stencilRef,we.stencilFuncMask),f.setOp(we.stencilFail,we.stencilZFail,we.stencilZPass)),et(we.polygonOffset,we.polygonOffsetFactor,we.polygonOffsetUnits),we.alphaToCoverage===!0?be(t.SAMPLE_ALPHA_TO_COVERAGE):Ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(we){G!==we&&(we?t.frontFace(t.CW):t.frontFace(t.CCW),G=we)}function Ye(we){we!==CullFaceNone?(be(t.CULL_FACE),we!==Y&&(we===CullFaceBack?t.cullFace(t.BACK):we===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ce(t.CULL_FACE),Y=we}function Ie(we){we!==Q&&(he&&t.lineWidth(we),Q=we)}function et(we,at,st){we?(be(t.POLYGON_OFFSET_FILL),(ie!==at||ae!==st)&&(t.polygonOffset(at,st),ie=at,ae=st)):Ce(t.POLYGON_OFFSET_FILL)}function Ue(we){we?be(t.SCISSOR_TEST):Ce(t.SCISSOR_TEST)}function ke(we){we===void 0&&(we=t.TEXTURE0+le-1),se!==we&&(t.activeTexture(we),se=we)}function ct(we,at,st){st===void 0&&(se===null?st=t.TEXTURE0+le-1:st=se);let Tt=ce[st];Tt===void 0&&(Tt={type:void 0,texture:void 0},ce[st]=Tt),(Tt.type!==we||Tt.texture!==at)&&(se!==st&&(t.activeTexture(st),se=st),t.bindTexture(we,at||Me[we]),Tt.type=we,Tt.texture=at)}function me(){const we=ce[se];we!==void 0&&we.type!==void 0&&(t.bindTexture(we.type,null),we.type=void 0,we.texture=void 0)}function ue(){try{t.compressedTexImage2D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Ae(){try{t.compressedTexImage3D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function We(){try{t.texSubImage2D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function $e(){try{t.texSubImage3D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function je(){try{t.compressedTexSubImage2D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function ft(){try{t.compressedTexSubImage3D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function ht(){try{t.texStorage2D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function gt(){try{t.texStorage3D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Et(){try{t.texImage2D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function nt(){try{t.texImage3D(...arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function dt(we){_e.equals(we)===!1&&(t.scissor(we.x,we.y,we.z,we.w),_e.copy(we))}function pt(we){ye.equals(we)===!1&&(t.viewport(we.x,we.y,we.z,we.w),ye.copy(we))}function Ee(we,at){let st=p.get(at);st===void 0&&(st=new WeakMap,p.set(at,st));let Tt=st.get(we);Tt===void 0&&(Tt=t.getUniformBlockIndex(at,we.name),st.set(we,Tt))}function Ve(we,at){const Tt=p.get(at).get(we);d.get(at)!==Tt&&(t.uniformBlockBinding(at,Tt,we.__bindingPointIndex),d.set(at,Tt))}function mt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),h.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},se=null,ce={},v={},_=new WeakMap,S=[],T=null,A=!1,w=null,C=null,O=null,L=null,F=null,B=null,U=null,V=new Color$1(0,0,0),q=0,H=!1,G=null,Y=null,Q=null,ie=null,ae=null,_e.set(0,0,t.canvas.width,t.canvas.height),ye.set(0,0,t.canvas.width,t.canvas.height),u.reset(),h.reset(),f.reset()}return{buffers:{color:u,depth:h,stencil:f},enable:be,disable:Ce,bindFramebuffer:Re,drawBuffers:Ne,useProgram:Oe,setBlending:de,setMaterial:Xe,setFlipSided:qe,setCullFace:Ye,setLineWidth:Ie,setPolygonOffset:et,setScissorTest:Ue,activeTexture:ke,bindTexture:ct,unbindTexture:me,compressedTexImage2D:ue,compressedTexImage3D:Ae,texImage2D:Et,texImage3D:nt,updateUBOMapping:Ee,uniformBlockBinding:Ve,texStorage2D:ht,texStorage3D:gt,texSubImage2D:We,texSubImage3D:$e,compressedTexSubImage2D:je,compressedTexSubImage3D:ft,scissor:dt,viewport:pt,reset:mt}}function WebGLTextures(t,e,n,o,l,u,h){const f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Vector2,m=new WeakMap;let v;const _=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(me,ue){return S?new OffscreenCanvas(me,ue):createElementNS("canvas")}function A(me,ue,Ae){let We=1;const $e=ct(me);if(($e.width>Ae||$e.height>Ae)&&(We=Ae/Math.max($e.width,$e.height)),We<1)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const je=Math.floor(We*$e.width),ft=Math.floor(We*$e.height);v===void 0&&(v=T(je,ft));const ht=ue?T(je,ft):v;return ht.width=je,ht.height=ft,ht.getContext("2d").drawImage(me,0,0,je,ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$e.width+"x"+$e.height+") to ("+je+"x"+ft+")."),ht}else return"data"in me&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$e.width+"x"+$e.height+")."),me;return me}function w(me){return me.generateMipmaps}function C(me){t.generateMipmap(me)}function O(me){return me.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:me.isWebGL3DRenderTarget?t.TEXTURE_3D:me.isWebGLArrayRenderTarget||me.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function L(me,ue,Ae,We,$e=!1){if(me!==null){if(t[me]!==void 0)return t[me];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let je=ue;if(ue===t.RED&&(Ae===t.FLOAT&&(je=t.R32F),Ae===t.HALF_FLOAT&&(je=t.R16F),Ae===t.UNSIGNED_BYTE&&(je=t.R8)),ue===t.RED_INTEGER&&(Ae===t.UNSIGNED_BYTE&&(je=t.R8UI),Ae===t.UNSIGNED_SHORT&&(je=t.R16UI),Ae===t.UNSIGNED_INT&&(je=t.R32UI),Ae===t.BYTE&&(je=t.R8I),Ae===t.SHORT&&(je=t.R16I),Ae===t.INT&&(je=t.R32I)),ue===t.RG&&(Ae===t.FLOAT&&(je=t.RG32F),Ae===t.HALF_FLOAT&&(je=t.RG16F),Ae===t.UNSIGNED_BYTE&&(je=t.RG8)),ue===t.RG_INTEGER&&(Ae===t.UNSIGNED_BYTE&&(je=t.RG8UI),Ae===t.UNSIGNED_SHORT&&(je=t.RG16UI),Ae===t.UNSIGNED_INT&&(je=t.RG32UI),Ae===t.BYTE&&(je=t.RG8I),Ae===t.SHORT&&(je=t.RG16I),Ae===t.INT&&(je=t.RG32I)),ue===t.RGB_INTEGER&&(Ae===t.UNSIGNED_BYTE&&(je=t.RGB8UI),Ae===t.UNSIGNED_SHORT&&(je=t.RGB16UI),Ae===t.UNSIGNED_INT&&(je=t.RGB32UI),Ae===t.BYTE&&(je=t.RGB8I),Ae===t.SHORT&&(je=t.RGB16I),Ae===t.INT&&(je=t.RGB32I)),ue===t.RGBA_INTEGER&&(Ae===t.UNSIGNED_BYTE&&(je=t.RGBA8UI),Ae===t.UNSIGNED_SHORT&&(je=t.RGBA16UI),Ae===t.UNSIGNED_INT&&(je=t.RGBA32UI),Ae===t.BYTE&&(je=t.RGBA8I),Ae===t.SHORT&&(je=t.RGBA16I),Ae===t.INT&&(je=t.RGBA32I)),ue===t.RGB&&Ae===t.UNSIGNED_INT_5_9_9_9_REV&&(je=t.RGB9_E5),ue===t.RGBA){const ft=$e?LinearTransfer:ColorManagement.getTransfer(We);Ae===t.FLOAT&&(je=t.RGBA32F),Ae===t.HALF_FLOAT&&(je=t.RGBA16F),Ae===t.UNSIGNED_BYTE&&(je=ft===SRGBTransfer?t.SRGB8_ALPHA8:t.RGBA8),Ae===t.UNSIGNED_SHORT_4_4_4_4&&(je=t.RGBA4),Ae===t.UNSIGNED_SHORT_5_5_5_1&&(je=t.RGB5_A1)}return(je===t.R16F||je===t.R32F||je===t.RG16F||je===t.RG32F||je===t.RGBA16F||je===t.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function F(me,ue){let Ae;return me?ue===null||ue===UnsignedIntType||ue===UnsignedInt248Type?Ae=t.DEPTH24_STENCIL8:ue===FloatType?Ae=t.DEPTH32F_STENCIL8:ue===UnsignedShortType&&(Ae=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ue===null||ue===UnsignedIntType||ue===UnsignedInt248Type?Ae=t.DEPTH_COMPONENT24:ue===FloatType?Ae=t.DEPTH_COMPONENT32F:ue===UnsignedShortType&&(Ae=t.DEPTH_COMPONENT16),Ae}function B(me,ue){return w(me)===!0||me.isFramebufferTexture&&me.minFilter!==NearestFilter&&me.minFilter!==LinearFilter?Math.log2(Math.max(ue.width,ue.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?ue.mipmaps.length:1}function U(me){const ue=me.target;ue.removeEventListener("dispose",U),q(ue),ue.isVideoTexture&&m.delete(ue)}function V(me){const ue=me.target;ue.removeEventListener("dispose",V),G(ue)}function q(me){const ue=o.get(me);if(ue.__webglInit===void 0)return;const Ae=me.source,We=_.get(Ae);if(We){const $e=We[ue.__cacheKey];$e.usedTimes--,$e.usedTimes===0&&H(me),Object.keys(We).length===0&&_.delete(Ae)}o.remove(me)}function H(me){const ue=o.get(me);t.deleteTexture(ue.__webglTexture);const Ae=me.source,We=_.get(Ae);delete We[ue.__cacheKey],h.memory.textures--}function G(me){const ue=o.get(me);if(me.depthTexture&&(me.depthTexture.dispose(),o.remove(me.depthTexture)),me.isWebGLCubeRenderTarget)for(let We=0;We<6;We++){if(Array.isArray(ue.__webglFramebuffer[We]))for(let $e=0;$e<ue.__webglFramebuffer[We].length;$e++)t.deleteFramebuffer(ue.__webglFramebuffer[We][$e]);else t.deleteFramebuffer(ue.__webglFramebuffer[We]);ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer[We])}else{if(Array.isArray(ue.__webglFramebuffer))for(let We=0;We<ue.__webglFramebuffer.length;We++)t.deleteFramebuffer(ue.__webglFramebuffer[We]);else t.deleteFramebuffer(ue.__webglFramebuffer);if(ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let We=0;We<ue.__webglColorRenderbuffer.length;We++)ue.__webglColorRenderbuffer[We]&&t.deleteRenderbuffer(ue.__webglColorRenderbuffer[We]);ue.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}const Ae=me.textures;for(let We=0,$e=Ae.length;We<$e;We++){const je=o.get(Ae[We]);je.__webglTexture&&(t.deleteTexture(je.__webglTexture),h.memory.textures--),o.remove(Ae[We])}o.remove(me)}let Y=0;function Q(){Y=0}function ie(){const me=Y;return me>=l.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+l.maxTextures),Y+=1,me}function ae(me){const ue=[];return ue.push(me.wrapS),ue.push(me.wrapT),ue.push(me.wrapR||0),ue.push(me.magFilter),ue.push(me.minFilter),ue.push(me.anisotropy),ue.push(me.internalFormat),ue.push(me.format),ue.push(me.type),ue.push(me.generateMipmaps),ue.push(me.premultiplyAlpha),ue.push(me.flipY),ue.push(me.unpackAlignment),ue.push(me.colorSpace),ue.join()}function le(me,ue){const Ae=o.get(me);if(me.isVideoTexture&&Ue(me),me.isRenderTargetTexture===!1&&me.version>0&&Ae.__version!==me.version){const We=me.image;if(We===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(We.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(Ae,me,ue);return}}n.bindTexture(t.TEXTURE_2D,Ae.__webglTexture,t.TEXTURE0+ue)}function he(me,ue){const Ae=o.get(me);if(me.version>0&&Ae.__version!==me.version){Me(Ae,me,ue);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Ae.__webglTexture,t.TEXTURE0+ue)}function ge(me,ue){const Ae=o.get(me);if(me.version>0&&Ae.__version!==me.version){Me(Ae,me,ue);return}n.bindTexture(t.TEXTURE_3D,Ae.__webglTexture,t.TEXTURE0+ue)}function J(me,ue){const Ae=o.get(me);if(me.version>0&&Ae.__version!==me.version){be(Ae,me,ue);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ae.__webglTexture,t.TEXTURE0+ue)}const se={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},ce={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR},te={[NeverCompare]:t.NEVER,[AlwaysCompare]:t.ALWAYS,[LessCompare]:t.LESS,[LessEqualCompare]:t.LEQUAL,[EqualCompare]:t.EQUAL,[GreaterEqualCompare]:t.GEQUAL,[GreaterCompare]:t.GREATER,[NotEqualCompare]:t.NOTEQUAL};function fe(me,ue){if(ue.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(ue.magFilter===LinearFilter||ue.magFilter===LinearMipmapNearestFilter||ue.magFilter===NearestMipmapLinearFilter||ue.magFilter===LinearMipmapLinearFilter||ue.minFilter===LinearFilter||ue.minFilter===LinearMipmapNearestFilter||ue.minFilter===NearestMipmapLinearFilter||ue.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(me,t.TEXTURE_WRAP_S,se[ue.wrapS]),t.texParameteri(me,t.TEXTURE_WRAP_T,se[ue.wrapT]),(me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY)&&t.texParameteri(me,t.TEXTURE_WRAP_R,se[ue.wrapR]),t.texParameteri(me,t.TEXTURE_MAG_FILTER,ce[ue.magFilter]),t.texParameteri(me,t.TEXTURE_MIN_FILTER,ce[ue.minFilter]),ue.compareFunction&&(t.texParameteri(me,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(me,t.TEXTURE_COMPARE_FUNC,te[ue.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ue.magFilter===NearestFilter||ue.minFilter!==NearestMipmapLinearFilter&&ue.minFilter!==LinearMipmapLinearFilter||ue.type===FloatType&&e.has("OES_texture_float_linear")===!1)return;if(ue.anisotropy>1||o.get(ue).__currentAnisotropy){const Ae=e.get("EXT_texture_filter_anisotropic");t.texParameterf(me,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ue.anisotropy,l.getMaxAnisotropy())),o.get(ue).__currentAnisotropy=ue.anisotropy}}}function _e(me,ue){let Ae=!1;me.__webglInit===void 0&&(me.__webglInit=!0,ue.addEventListener("dispose",U));const We=ue.source;let $e=_.get(We);$e===void 0&&($e={},_.set(We,$e));const je=ae(ue);if(je!==me.__cacheKey){$e[je]===void 0&&($e[je]={texture:t.createTexture(),usedTimes:0},h.memory.textures++,Ae=!0),$e[je].usedTimes++;const ft=$e[me.__cacheKey];ft!==void 0&&($e[me.__cacheKey].usedTimes--,ft.usedTimes===0&&H(ue)),me.__cacheKey=je,me.__webglTexture=$e[je].texture}return Ae}function ye(me,ue,Ae){return Math.floor(Math.floor(me/Ae)/ue)}function xe(me,ue,Ae,We){const je=me.updateRanges;if(je.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,ue.width,ue.height,Ae,We,ue.data);else{je.sort((nt,dt)=>nt.start-dt.start);let ft=0;for(let nt=1;nt<je.length;nt++){const dt=je[ft],pt=je[nt],Ee=dt.start+dt.count,Ve=ye(pt.start,ue.width,4),mt=ye(dt.start,ue.width,4);pt.start<=Ee+1&&Ve===mt&&ye(pt.start+pt.count-1,ue.width,4)===Ve?dt.count=Math.max(dt.count,pt.start+pt.count-dt.start):(++ft,je[ft]=pt)}je.length=ft+1;const ht=t.getParameter(t.UNPACK_ROW_LENGTH),gt=t.getParameter(t.UNPACK_SKIP_PIXELS),Et=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,ue.width);for(let nt=0,dt=je.length;nt<dt;nt++){const pt=je[nt],Ee=Math.floor(pt.start/4),Ve=Math.ceil(pt.count/4),mt=Ee%ue.width,we=Math.floor(Ee/ue.width),at=Ve,st=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,mt),t.pixelStorei(t.UNPACK_SKIP_ROWS,we),n.texSubImage2D(t.TEXTURE_2D,0,mt,we,at,st,Ae,We,ue.data)}me.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,ht),t.pixelStorei(t.UNPACK_SKIP_PIXELS,gt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Et)}}function Me(me,ue,Ae){let We=t.TEXTURE_2D;(ue.isDataArrayTexture||ue.isCompressedArrayTexture)&&(We=t.TEXTURE_2D_ARRAY),ue.isData3DTexture&&(We=t.TEXTURE_3D);const $e=_e(me,ue),je=ue.source;n.bindTexture(We,me.__webglTexture,t.TEXTURE0+Ae);const ft=o.get(je);if(je.version!==ft.__version||$e===!0){n.activeTexture(t.TEXTURE0+Ae);const ht=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),gt=ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(ue.colorSpace),Et=ue.colorSpace===NoColorSpace||ht===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ue.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ue.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Et);let nt=A(ue.image,!1,l.maxTextureSize);nt=ke(ue,nt);const dt=u.convert(ue.format,ue.colorSpace),pt=u.convert(ue.type);let Ee=L(ue.internalFormat,dt,pt,ue.colorSpace,ue.isVideoTexture);fe(We,ue);let Ve;const mt=ue.mipmaps,we=ue.isVideoTexture!==!0,at=ft.__version===void 0||$e===!0,st=je.dataReady,Tt=B(ue,nt);if(ue.isDepthTexture)Ee=F(ue.format===DepthStencilFormat,ue.type),at&&(we?n.texStorage2D(t.TEXTURE_2D,1,Ee,nt.width,nt.height):n.texImage2D(t.TEXTURE_2D,0,Ee,nt.width,nt.height,0,dt,pt,null));else if(ue.isDataTexture)if(mt.length>0){we&&at&&n.texStorage2D(t.TEXTURE_2D,Tt,Ee,mt[0].width,mt[0].height);for(let ut=0,Je=mt.length;ut<Je;ut++)Ve=mt[ut],we?st&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,Ve.width,Ve.height,dt,pt,Ve.data):n.texImage2D(t.TEXTURE_2D,ut,Ee,Ve.width,Ve.height,0,dt,pt,Ve.data);ue.generateMipmaps=!1}else we?(at&&n.texStorage2D(t.TEXTURE_2D,Tt,Ee,nt.width,nt.height),st&&xe(ue,nt,dt,pt)):n.texImage2D(t.TEXTURE_2D,0,Ee,nt.width,nt.height,0,dt,pt,nt.data);else if(ue.isCompressedTexture)if(ue.isCompressedArrayTexture){we&&at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Tt,Ee,mt[0].width,mt[0].height,nt.depth);for(let ut=0,Je=mt.length;ut<Je;ut++)if(Ve=mt[ut],ue.format!==RGBAFormat)if(dt!==null)if(we){if(st)if(ue.layerUpdates.size>0){const _t=getByteLength(Ve.width,Ve.height,ue.format,ue.type);for(const Ct of ue.layerUpdates){const Rt=Ve.data.subarray(Ct*_t/Ve.data.BYTES_PER_ELEMENT,(Ct+1)*_t/Ve.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,Ct,Ve.width,Ve.height,1,dt,Rt)}ue.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,0,Ve.width,Ve.height,nt.depth,dt,Ve.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ut,Ee,Ve.width,Ve.height,nt.depth,0,Ve.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else we?st&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,0,Ve.width,Ve.height,nt.depth,dt,pt,Ve.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ut,Ee,Ve.width,Ve.height,nt.depth,0,dt,pt,Ve.data)}else{we&&at&&n.texStorage2D(t.TEXTURE_2D,Tt,Ee,mt[0].width,mt[0].height);for(let ut=0,Je=mt.length;ut<Je;ut++)Ve=mt[ut],ue.format!==RGBAFormat?dt!==null?we?st&&n.compressedTexSubImage2D(t.TEXTURE_2D,ut,0,0,Ve.width,Ve.height,dt,Ve.data):n.compressedTexImage2D(t.TEXTURE_2D,ut,Ee,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):we?st&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,Ve.width,Ve.height,dt,pt,Ve.data):n.texImage2D(t.TEXTURE_2D,ut,Ee,Ve.width,Ve.height,0,dt,pt,Ve.data)}else if(ue.isDataArrayTexture)if(we){if(at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Tt,Ee,nt.width,nt.height,nt.depth),st)if(ue.layerUpdates.size>0){const ut=getByteLength(nt.width,nt.height,ue.format,ue.type);for(const Je of ue.layerUpdates){const _t=nt.data.subarray(Je*ut/nt.data.BYTES_PER_ELEMENT,(Je+1)*ut/nt.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Je,nt.width,nt.height,1,dt,pt,_t)}ue.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,nt.width,nt.height,nt.depth,dt,pt,nt.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ee,nt.width,nt.height,nt.depth,0,dt,pt,nt.data);else if(ue.isData3DTexture)we?(at&&n.texStorage3D(t.TEXTURE_3D,Tt,Ee,nt.width,nt.height,nt.depth),st&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,nt.width,nt.height,nt.depth,dt,pt,nt.data)):n.texImage3D(t.TEXTURE_3D,0,Ee,nt.width,nt.height,nt.depth,0,dt,pt,nt.data);else if(ue.isFramebufferTexture){if(at)if(we)n.texStorage2D(t.TEXTURE_2D,Tt,Ee,nt.width,nt.height);else{let ut=nt.width,Je=nt.height;for(let _t=0;_t<Tt;_t++)n.texImage2D(t.TEXTURE_2D,_t,Ee,ut,Je,0,dt,pt,null),ut>>=1,Je>>=1}}else if(mt.length>0){if(we&&at){const ut=ct(mt[0]);n.texStorage2D(t.TEXTURE_2D,Tt,Ee,ut.width,ut.height)}for(let ut=0,Je=mt.length;ut<Je;ut++)Ve=mt[ut],we?st&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,dt,pt,Ve):n.texImage2D(t.TEXTURE_2D,ut,Ee,dt,pt,Ve);ue.generateMipmaps=!1}else if(we){if(at){const ut=ct(nt);n.texStorage2D(t.TEXTURE_2D,Tt,Ee,ut.width,ut.height)}st&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,dt,pt,nt)}else n.texImage2D(t.TEXTURE_2D,0,Ee,dt,pt,nt);w(ue)&&C(We),ft.__version=je.version,ue.onUpdate&&ue.onUpdate(ue)}me.__version=ue.version}function be(me,ue,Ae){if(ue.image.length!==6)return;const We=_e(me,ue),$e=ue.source;n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture,t.TEXTURE0+Ae);const je=o.get($e);if($e.version!==je.__version||We===!0){n.activeTexture(t.TEXTURE0+Ae);const ft=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),ht=ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(ue.colorSpace),gt=ue.colorSpace===NoColorSpace||ft===ht?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ue.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ue.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const Et=ue.isCompressedTexture||ue.image[0].isCompressedTexture,nt=ue.image[0]&&ue.image[0].isDataTexture,dt=[];for(let Je=0;Je<6;Je++)!Et&&!nt?dt[Je]=A(ue.image[Je],!0,l.maxCubemapSize):dt[Je]=nt?ue.image[Je].image:ue.image[Je],dt[Je]=ke(ue,dt[Je]);const pt=dt[0],Ee=u.convert(ue.format,ue.colorSpace),Ve=u.convert(ue.type),mt=L(ue.internalFormat,Ee,Ve,ue.colorSpace),we=ue.isVideoTexture!==!0,at=je.__version===void 0||We===!0,st=$e.dataReady;let Tt=B(ue,pt);fe(t.TEXTURE_CUBE_MAP,ue);let ut;if(Et){we&&at&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Tt,mt,pt.width,pt.height);for(let Je=0;Je<6;Je++){ut=dt[Je].mipmaps;for(let _t=0;_t<ut.length;_t++){const Ct=ut[_t];ue.format!==RGBAFormat?Ee!==null?we?st&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t,0,0,Ct.width,Ct.height,Ee,Ct.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t,mt,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?st&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t,0,0,Ct.width,Ct.height,Ee,Ve,Ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t,mt,Ct.width,Ct.height,0,Ee,Ve,Ct.data)}}}else{if(ut=ue.mipmaps,we&&at){ut.length>0&&Tt++;const Je=ct(dt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Tt,mt,Je.width,Je.height)}for(let Je=0;Je<6;Je++)if(nt){we?st&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,dt[Je].width,dt[Je].height,Ee,Ve,dt[Je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,mt,dt[Je].width,dt[Je].height,0,Ee,Ve,dt[Je].data);for(let _t=0;_t<ut.length;_t++){const Rt=ut[_t].image[Je].image;we?st&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t+1,0,0,Rt.width,Rt.height,Ee,Ve,Rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t+1,mt,Rt.width,Rt.height,0,Ee,Ve,Rt.data)}}else{we?st&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,Ee,Ve,dt[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,mt,Ee,Ve,dt[Je]);for(let _t=0;_t<ut.length;_t++){const Ct=ut[_t];we?st&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t+1,0,0,Ee,Ve,Ct.image[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t+1,mt,Ee,Ve,Ct.image[Je])}}}w(ue)&&C(t.TEXTURE_CUBE_MAP),je.__version=$e.version,ue.onUpdate&&ue.onUpdate(ue)}me.__version=ue.version}function Ce(me,ue,Ae,We,$e,je){const ft=u.convert(Ae.format,Ae.colorSpace),ht=u.convert(Ae.type),gt=L(Ae.internalFormat,ft,ht,Ae.colorSpace),Et=o.get(ue),nt=o.get(Ae);if(nt.__renderTarget=ue,!Et.__hasExternalTextures){const dt=Math.max(1,ue.width>>je),pt=Math.max(1,ue.height>>je);$e===t.TEXTURE_3D||$e===t.TEXTURE_2D_ARRAY?n.texImage3D($e,je,gt,dt,pt,ue.depth,0,ft,ht,null):n.texImage2D($e,je,gt,dt,pt,0,ft,ht,null)}n.bindFramebuffer(t.FRAMEBUFFER,me),et(ue)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,We,$e,nt.__webglTexture,0,Ie(ue)):($e===t.TEXTURE_2D||$e>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&$e<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,We,$e,nt.__webglTexture,je),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(me,ue,Ae){if(t.bindRenderbuffer(t.RENDERBUFFER,me),ue.depthBuffer){const We=ue.depthTexture,$e=We&&We.isDepthTexture?We.type:null,je=F(ue.stencilBuffer,$e),ft=ue.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ht=Ie(ue);et(ue)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ht,je,ue.width,ue.height):Ae?t.renderbufferStorageMultisample(t.RENDERBUFFER,ht,je,ue.width,ue.height):t.renderbufferStorage(t.RENDERBUFFER,je,ue.width,ue.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ft,t.RENDERBUFFER,me)}else{const We=ue.textures;for(let $e=0;$e<We.length;$e++){const je=We[$e],ft=u.convert(je.format,je.colorSpace),ht=u.convert(je.type),gt=L(je.internalFormat,ft,ht,je.colorSpace),Et=Ie(ue);Ae&&et(ue)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,gt,ue.width,ue.height):et(ue)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Et,gt,ue.width,ue.height):t.renderbufferStorage(t.RENDERBUFFER,gt,ue.width,ue.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(me,ue){if(ue&&ue.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,me),!(ue.depthTexture&&ue.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const We=o.get(ue.depthTexture);We.__renderTarget=ue,(!We.__webglTexture||ue.depthTexture.image.width!==ue.width||ue.depthTexture.image.height!==ue.height)&&(ue.depthTexture.image.width=ue.width,ue.depthTexture.image.height=ue.height,ue.depthTexture.needsUpdate=!0),le(ue.depthTexture,0);const $e=We.__webglTexture,je=Ie(ue);if(ue.depthTexture.format===DepthFormat)et(ue)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0,je):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0);else if(ue.depthTexture.format===DepthStencilFormat)et(ue)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0,je):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0);else throw new Error("Unknown depthTexture format")}function Oe(me){const ue=o.get(me),Ae=me.isWebGLCubeRenderTarget===!0;if(ue.__boundDepthTexture!==me.depthTexture){const We=me.depthTexture;if(ue.__depthDisposeCallback&&ue.__depthDisposeCallback(),We){const $e=()=>{delete ue.__boundDepthTexture,delete ue.__depthDisposeCallback,We.removeEventListener("dispose",$e)};We.addEventListener("dispose",$e),ue.__depthDisposeCallback=$e}ue.__boundDepthTexture=We}if(me.depthTexture&&!ue.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");const We=me.texture.mipmaps;We&&We.length>0?Ne(ue.__webglFramebuffer[0],me):Ne(ue.__webglFramebuffer,me)}else if(Ae){ue.__webglDepthbuffer=[];for(let We=0;We<6;We++)if(n.bindFramebuffer(t.FRAMEBUFFER,ue.__webglFramebuffer[We]),ue.__webglDepthbuffer[We]===void 0)ue.__webglDepthbuffer[We]=t.createRenderbuffer(),Re(ue.__webglDepthbuffer[We],me,!1);else{const $e=me.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=ue.__webglDepthbuffer[We];t.bindRenderbuffer(t.RENDERBUFFER,je),t.framebufferRenderbuffer(t.FRAMEBUFFER,$e,t.RENDERBUFFER,je)}}else{const We=me.texture.mipmaps;if(We&&We.length>0?n.bindFramebuffer(t.FRAMEBUFFER,ue.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,ue.__webglFramebuffer),ue.__webglDepthbuffer===void 0)ue.__webglDepthbuffer=t.createRenderbuffer(),Re(ue.__webglDepthbuffer,me,!1);else{const $e=me.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=ue.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,je),t.framebufferRenderbuffer(t.FRAMEBUFFER,$e,t.RENDERBUFFER,je)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(me,ue,Ae){const We=o.get(me);ue!==void 0&&Ce(We.__webglFramebuffer,me,me.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ae!==void 0&&Oe(me)}function tt(me){const ue=me.texture,Ae=o.get(me),We=o.get(ue);me.addEventListener("dispose",V);const $e=me.textures,je=me.isWebGLCubeRenderTarget===!0,ft=$e.length>1;if(ft||(We.__webglTexture===void 0&&(We.__webglTexture=t.createTexture()),We.__version=ue.version,h.memory.textures++),je){Ae.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(ue.mipmaps&&ue.mipmaps.length>0){Ae.__webglFramebuffer[ht]=[];for(let gt=0;gt<ue.mipmaps.length;gt++)Ae.__webglFramebuffer[ht][gt]=t.createFramebuffer()}else Ae.__webglFramebuffer[ht]=t.createFramebuffer()}else{if(ue.mipmaps&&ue.mipmaps.length>0){Ae.__webglFramebuffer=[];for(let ht=0;ht<ue.mipmaps.length;ht++)Ae.__webglFramebuffer[ht]=t.createFramebuffer()}else Ae.__webglFramebuffer=t.createFramebuffer();if(ft)for(let ht=0,gt=$e.length;ht<gt;ht++){const Et=o.get($e[ht]);Et.__webglTexture===void 0&&(Et.__webglTexture=t.createTexture(),h.memory.textures++)}if(me.samples>0&&et(me)===!1){Ae.__webglMultisampledFramebuffer=t.createFramebuffer(),Ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let ht=0;ht<$e.length;ht++){const gt=$e[ht];Ae.__webglColorRenderbuffer[ht]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ae.__webglColorRenderbuffer[ht]);const Et=u.convert(gt.format,gt.colorSpace),nt=u.convert(gt.type),dt=L(gt.internalFormat,Et,nt,gt.colorSpace,me.isXRRenderTarget===!0),pt=Ie(me);t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,dt,me.width,me.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[ht])}t.bindRenderbuffer(t.RENDERBUFFER,null),me.depthBuffer&&(Ae.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(Ae.__webglDepthRenderbuffer,me,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(je){n.bindTexture(t.TEXTURE_CUBE_MAP,We.__webglTexture),fe(t.TEXTURE_CUBE_MAP,ue);for(let ht=0;ht<6;ht++)if(ue.mipmaps&&ue.mipmaps.length>0)for(let gt=0;gt<ue.mipmaps.length;gt++)Ce(Ae.__webglFramebuffer[ht][gt],me,ue,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ht,gt);else Ce(Ae.__webglFramebuffer[ht],me,ue,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);w(ue)&&C(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ft){for(let ht=0,gt=$e.length;ht<gt;ht++){const Et=$e[ht],nt=o.get(Et);n.bindTexture(t.TEXTURE_2D,nt.__webglTexture),fe(t.TEXTURE_2D,Et),Ce(Ae.__webglFramebuffer,me,Et,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,0),w(Et)&&C(t.TEXTURE_2D)}n.unbindTexture()}else{let ht=t.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(ht=me.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ht,We.__webglTexture),fe(ht,ue),ue.mipmaps&&ue.mipmaps.length>0)for(let gt=0;gt<ue.mipmaps.length;gt++)Ce(Ae.__webglFramebuffer[gt],me,ue,t.COLOR_ATTACHMENT0,ht,gt);else Ce(Ae.__webglFramebuffer,me,ue,t.COLOR_ATTACHMENT0,ht,0);w(ue)&&C(ht),n.unbindTexture()}me.depthBuffer&&Oe(me)}function de(me){const ue=me.textures;for(let Ae=0,We=ue.length;Ae<We;Ae++){const $e=ue[Ae];if(w($e)){const je=O(me),ft=o.get($e).__webglTexture;n.bindTexture(je,ft),C(je),n.unbindTexture()}}}const Xe=[],qe=[];function Ye(me){if(me.samples>0){if(et(me)===!1){const ue=me.textures,Ae=me.width,We=me.height;let $e=t.COLOR_BUFFER_BIT;const je=me.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=o.get(me),ht=ue.length>1;if(ht)for(let Et=0;Et<ue.length;Et++)n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const gt=me.texture.mipmaps;gt&&gt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let Et=0;Et<ue.length;Et++){if(me.resolveDepthBuffer&&(me.depthBuffer&&($e|=t.DEPTH_BUFFER_BIT),me.stencilBuffer&&me.resolveStencilBuffer&&($e|=t.STENCIL_BUFFER_BIT)),ht){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ft.__webglColorRenderbuffer[Et]);const nt=o.get(ue[Et]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,nt,0)}t.blitFramebuffer(0,0,Ae,We,0,0,Ae,We,$e,t.NEAREST),d===!0&&(Xe.length=0,qe.length=0,Xe.push(t.COLOR_ATTACHMENT0+Et),me.depthBuffer&&me.resolveDepthBuffer===!1&&(Xe.push(je),qe.push(je),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,qe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Xe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ht)for(let Et=0;Et<ue.length;Et++){n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.RENDERBUFFER,ft.__webglColorRenderbuffer[Et]);const nt=o.get(ue[Et]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.TEXTURE_2D,nt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if(me.depthBuffer&&me.resolveDepthBuffer===!1&&d){const ue=me.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ue])}}}function Ie(me){return Math.min(l.maxSamples,me.samples)}function et(me){const ue=o.get(me);return me.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ue.__useRenderToTexture!==!1}function Ue(me){const ue=h.render.frame;m.get(me)!==ue&&(m.set(me,ue),me.update())}function ke(me,ue){const Ae=me.colorSpace,We=me.format,$e=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||Ae!==LinearSRGBColorSpace&&Ae!==NoColorSpace&&(ColorManagement.getTransfer(Ae)===SRGBTransfer?(We!==RGBAFormat||$e!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ae)),ue}function ct(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(p.width=me.naturalWidth||me.width,p.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(p.width=me.displayWidth,p.height=me.displayHeight):(p.width=me.width,p.height=me.height),p}this.allocateTextureUnit=ie,this.resetTextureUnits=Q,this.setTexture2D=le,this.setTexture2DArray=he,this.setTexture3D=ge,this.setTextureCube=J,this.rebindTextures=Te,this.setupRenderTarget=tt,this.updateRenderTargetMipmap=de,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=Oe,this.setupFrameBufferTexture=Ce,this.useMultisampledRTT=et}function WebGLUtils(t,e){function n(o,l=NoColorSpace){let u;const h=ColorManagement.getTransfer(l);if(o===UnsignedByteType)return t.UNSIGNED_BYTE;if(o===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(o===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(o===UnsignedInt5999Type)return t.UNSIGNED_INT_5_9_9_9_REV;if(o===ByteType)return t.BYTE;if(o===ShortType)return t.SHORT;if(o===UnsignedShortType)return t.UNSIGNED_SHORT;if(o===IntType)return t.INT;if(o===UnsignedIntType)return t.UNSIGNED_INT;if(o===FloatType)return t.FLOAT;if(o===HalfFloatType)return t.HALF_FLOAT;if(o===AlphaFormat)return t.ALPHA;if(o===RGBFormat)return t.RGB;if(o===RGBAFormat)return t.RGBA;if(o===DepthFormat)return t.DEPTH_COMPONENT;if(o===DepthStencilFormat)return t.DEPTH_STENCIL;if(o===RedFormat)return t.RED;if(o===RedIntegerFormat)return t.RED_INTEGER;if(o===RGFormat)return t.RG;if(o===RGIntegerFormat)return t.RG_INTEGER;if(o===RGBAIntegerFormat)return t.RGBA_INTEGER;if(o===RGB_S3TC_DXT1_Format||o===RGBA_S3TC_DXT1_Format||o===RGBA_S3TC_DXT3_Format||o===RGBA_S3TC_DXT5_Format)if(h===SRGBTransfer)if(u=e.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(o===RGB_S3TC_DXT1_Format)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===RGBA_S3TC_DXT1_Format)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===RGBA_S3TC_DXT3_Format)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===RGBA_S3TC_DXT5_Format)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(o===RGB_S3TC_DXT1_Format)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===RGBA_S3TC_DXT1_Format)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===RGBA_S3TC_DXT3_Format)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===RGBA_S3TC_DXT5_Format)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===RGB_PVRTC_4BPPV1_Format||o===RGB_PVRTC_2BPPV1_Format||o===RGBA_PVRTC_4BPPV1_Format||o===RGBA_PVRTC_2BPPV1_Format)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(o===RGB_PVRTC_4BPPV1_Format)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===RGB_PVRTC_2BPPV1_Format)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===RGBA_PVRTC_4BPPV1_Format)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===RGBA_PVRTC_2BPPV1_Format)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===RGB_ETC1_Format||o===RGB_ETC2_Format||o===RGBA_ETC2_EAC_Format)if(u=e.get("WEBGL_compressed_texture_etc"),u!==null){if(o===RGB_ETC1_Format||o===RGB_ETC2_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(o===RGBA_ETC2_EAC_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===RGBA_ASTC_4x4_Format||o===RGBA_ASTC_5x4_Format||o===RGBA_ASTC_5x5_Format||o===RGBA_ASTC_6x5_Format||o===RGBA_ASTC_6x6_Format||o===RGBA_ASTC_8x5_Format||o===RGBA_ASTC_8x6_Format||o===RGBA_ASTC_8x8_Format||o===RGBA_ASTC_10x5_Format||o===RGBA_ASTC_10x6_Format||o===RGBA_ASTC_10x8_Format||o===RGBA_ASTC_10x10_Format||o===RGBA_ASTC_12x10_Format||o===RGBA_ASTC_12x12_Format)if(u=e.get("WEBGL_compressed_texture_astc"),u!==null){if(o===RGBA_ASTC_4x4_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===RGBA_ASTC_5x4_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===RGBA_ASTC_5x5_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===RGBA_ASTC_6x5_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===RGBA_ASTC_6x6_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===RGBA_ASTC_8x5_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===RGBA_ASTC_8x6_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===RGBA_ASTC_8x8_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===RGBA_ASTC_10x5_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===RGBA_ASTC_10x6_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===RGBA_ASTC_10x8_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===RGBA_ASTC_10x10_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===RGBA_ASTC_12x10_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===RGBA_ASTC_12x12_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===RGBA_BPTC_Format||o===RGB_BPTC_SIGNED_Format||o===RGB_BPTC_UNSIGNED_Format)if(u=e.get("EXT_texture_compression_bptc"),u!==null){if(o===RGBA_BPTC_Format)return h===SRGBTransfer?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===RGB_BPTC_SIGNED_Format)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===RGB_BPTC_UNSIGNED_Format)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===RED_RGTC1_Format||o===SIGNED_RED_RGTC1_Format||o===RED_GREEN_RGTC2_Format||o===SIGNED_RED_GREEN_RGTC2_Format)if(u=e.get("EXT_texture_compression_rgtc"),u!==null){if(o===RGBA_BPTC_Format)return u.COMPRESSED_RED_RGTC1_EXT;if(o===SIGNED_RED_RGTC1_Format)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===RED_GREEN_RGTC2_Format)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===SIGNED_RED_GREEN_RGTC2_Format)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===UnsignedInt248Type?t.UNSIGNED_INT_24_8:t[o]!==void 0?t[o]:null}return{convert:n}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,o){if(this.texture===null){const l=new Texture,u=e.properties.get(l);u.__webglTexture=n.texture,(n.depthNear!==o.depthNear||n.depthFar!==o.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=l}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,o=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),o)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(e,n){super();const o=this;let l=null,u=1,h=null,f="local-floor",d=1,p=null,m=null,v=null,_=null,S=null,T=null;const A=new WebXRDepthSensing,w=n.getContextAttributes();let C=null,O=null;const L=[],F=[],B=new Vector2;let U=null;const V=new PerspectiveCamera;V.viewport=new Vector4;const q=new PerspectiveCamera;q.viewport=new Vector4;const H=[V,q],G=new ArrayCamera;let Y=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ye){let xe=L[ye];return xe===void 0&&(xe=new WebXRController,L[ye]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(ye){let xe=L[ye];return xe===void 0&&(xe=new WebXRController,L[ye]=xe),xe.getGripSpace()},this.getHand=function(ye){let xe=L[ye];return xe===void 0&&(xe=new WebXRController,L[ye]=xe),xe.getHandSpace()};function ie(ye){const xe=F.indexOf(ye.inputSource);if(xe===-1)return;const Me=L[xe];Me!==void 0&&(Me.update(ye.inputSource,ye.frame,p||h),Me.dispatchEvent({type:ye.type,data:ye.inputSource}))}function ae(){l.removeEventListener("select",ie),l.removeEventListener("selectstart",ie),l.removeEventListener("selectend",ie),l.removeEventListener("squeeze",ie),l.removeEventListener("squeezestart",ie),l.removeEventListener("squeezeend",ie),l.removeEventListener("end",ae),l.removeEventListener("inputsourceschange",le);for(let ye=0;ye<L.length;ye++){const xe=F[ye];xe!==null&&(F[ye]=null,L[ye].disconnect(xe))}Y=null,Q=null,A.reset(),e.setRenderTarget(C),S=null,_=null,v=null,l=null,O=null,_e.stop(),o.isPresenting=!1,e.setPixelRatio(U),e.setSize(B.width,B.height,!1),o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ye){u=ye,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ye){f=ye,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||h},this.setReferenceSpace=function(ye){p=ye},this.getBaseLayer=function(){return _!==null?_:S},this.getBinding=function(){return v},this.getFrame=function(){return T},this.getSession=function(){return l},this.setSession=async function(ye){if(l=ye,l!==null){if(C=e.getRenderTarget(),l.addEventListener("select",ie),l.addEventListener("selectstart",ie),l.addEventListener("selectend",ie),l.addEventListener("squeeze",ie),l.addEventListener("squeezestart",ie),l.addEventListener("squeezeend",ie),l.addEventListener("end",ae),l.addEventListener("inputsourceschange",le),w.xrCompatible!==!0&&await n.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(B),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Me=null,be=null,Ce=null;w.depth&&(Ce=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Me=w.stencil?DepthStencilFormat:DepthFormat,be=w.stencil?UnsignedInt248Type:UnsignedIntType);const Re={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:u};v=new XRWebGLBinding(l,n),_=v.createProjectionLayer(Re),l.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),O=new WebGLRenderTarget(_.textureWidth,_.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(_.textureWidth,_.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,Me),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const Me={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:u};S=new XRWebGLLayer(l,n,Me),l.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),O=new WebGLRenderTarget(S.framebufferWidth,S.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:S.ignoreDepthValues===!1,resolveStencilBuffer:S.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(d),p=null,h=await l.requestReferenceSpace(f),_e.setContext(l),_e.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(l!==null)return l.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function le(ye){for(let xe=0;xe<ye.removed.length;xe++){const Me=ye.removed[xe],be=F.indexOf(Me);be>=0&&(F[be]=null,L[be].disconnect(Me))}for(let xe=0;xe<ye.added.length;xe++){const Me=ye.added[xe];let be=F.indexOf(Me);if(be===-1){for(let Re=0;Re<L.length;Re++)if(Re>=F.length){F.push(Me),be=Re;break}else if(F[Re]===null){F[Re]=Me,be=Re;break}if(be===-1)break}const Ce=L[be];Ce&&Ce.connect(Me)}}const he=new Vector3,ge=new Vector3;function J(ye,xe,Me){he.setFromMatrixPosition(xe.matrixWorld),ge.setFromMatrixPosition(Me.matrixWorld);const be=he.distanceTo(ge),Ce=xe.projectionMatrix.elements,Re=Me.projectionMatrix.elements,Ne=Ce[14]/(Ce[10]-1),Oe=Ce[14]/(Ce[10]+1),Te=(Ce[9]+1)/Ce[5],tt=(Ce[9]-1)/Ce[5],de=(Ce[8]-1)/Ce[0],Xe=(Re[8]+1)/Re[0],qe=Ne*de,Ye=Ne*Xe,Ie=be/(-de+Xe),et=Ie*-de;if(xe.matrixWorld.decompose(ye.position,ye.quaternion,ye.scale),ye.translateX(et),ye.translateZ(Ie),ye.matrixWorld.compose(ye.position,ye.quaternion,ye.scale),ye.matrixWorldInverse.copy(ye.matrixWorld).invert(),Ce[10]===-1)ye.projectionMatrix.copy(xe.projectionMatrix),ye.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Ue=Ne+Ie,ke=Oe+Ie,ct=qe-et,me=Ye+(be-et),ue=Te*Oe/ke*Ue,Ae=tt*Oe/ke*Ue;ye.projectionMatrix.makePerspective(ct,me,ue,Ae,Ue,ke),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert()}}function se(ye,xe){xe===null?ye.matrixWorld.copy(ye.matrix):ye.matrixWorld.multiplyMatrices(xe.matrixWorld,ye.matrix),ye.matrixWorldInverse.copy(ye.matrixWorld).invert()}this.updateCamera=function(ye){if(l===null)return;let xe=ye.near,Me=ye.far;A.texture!==null&&(A.depthNear>0&&(xe=A.depthNear),A.depthFar>0&&(Me=A.depthFar)),G.near=q.near=V.near=xe,G.far=q.far=V.far=Me,(Y!==G.near||Q!==G.far)&&(l.updateRenderState({depthNear:G.near,depthFar:G.far}),Y=G.near,Q=G.far),V.layers.mask=ye.layers.mask|2,q.layers.mask=ye.layers.mask|4,G.layers.mask=V.layers.mask|q.layers.mask;const be=ye.parent,Ce=G.cameras;se(G,be);for(let Re=0;Re<Ce.length;Re++)se(Ce[Re],be);Ce.length===2?J(G,V,q):G.projectionMatrix.copy(V.projectionMatrix),ce(ye,G,be)};function ce(ye,xe,Me){Me===null?ye.matrix.copy(xe.matrixWorld):(ye.matrix.copy(Me.matrixWorld),ye.matrix.invert(),ye.matrix.multiply(xe.matrixWorld)),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.updateMatrixWorld(!0),ye.projectionMatrix.copy(xe.projectionMatrix),ye.projectionMatrixInverse.copy(xe.projectionMatrixInverse),ye.isPerspectiveCamera&&(ye.fov=RAD2DEG*2*Math.atan(1/ye.projectionMatrix.elements[5]),ye.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(_===null&&S===null))return d},this.setFoveation=function(ye){d=ye,_!==null&&(_.fixedFoveation=ye),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=ye)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(G)};let te=null;function fe(ye,xe){if(m=xe.getViewerPose(p||h),T=xe,m!==null){const Me=m.views;S!==null&&(e.setRenderTargetFramebuffer(O,S.framebuffer),e.setRenderTarget(O));let be=!1;Me.length!==G.cameras.length&&(G.cameras.length=0,be=!0);for(let Ne=0;Ne<Me.length;Ne++){const Oe=Me[Ne];let Te=null;if(S!==null)Te=S.getViewport(Oe);else{const de=v.getViewSubImage(_,Oe);Te=de.viewport,Ne===0&&(e.setRenderTargetTextures(O,de.colorTexture,de.depthStencilTexture),e.setRenderTarget(O))}let tt=H[Ne];tt===void 0&&(tt=new PerspectiveCamera,tt.layers.enable(Ne),tt.viewport=new Vector4,H[Ne]=tt),tt.matrix.fromArray(Oe.transform.matrix),tt.matrix.decompose(tt.position,tt.quaternion,tt.scale),tt.projectionMatrix.fromArray(Oe.projectionMatrix),tt.projectionMatrixInverse.copy(tt.projectionMatrix).invert(),tt.viewport.set(Te.x,Te.y,Te.width,Te.height),Ne===0&&(G.matrix.copy(tt.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),be===!0&&G.cameras.push(tt)}const Ce=l.enabledFeatures;if(Ce&&Ce.includes("depth-sensing")&&l.depthUsage=="gpu-optimized"&&v){const Ne=v.getDepthInformation(Me[0]);Ne&&Ne.isValid&&Ne.texture&&A.init(e,Ne,l.renderState)}}for(let Me=0;Me<L.length;Me++){const be=F[Me],Ce=L[Me];be!==null&&Ce!==void 0&&Ce.update(be,xe,p||h)}te&&te(ye,xe),xe.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:xe}),T=null}const _e=new WebGLAnimation;_e.setAnimationLoop(fe),this.setAnimationLoop=function(ye){te=ye},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(t,e){function n(w,C){w.matrixAutoUpdate===!0&&w.updateMatrix(),C.value.copy(w.matrix)}function o(w,C){C.color.getRGB(w.fogColor.value,getUnlitUniformColorSpace(t)),C.isFog?(w.fogNear.value=C.near,w.fogFar.value=C.far):C.isFogExp2&&(w.fogDensity.value=C.density)}function l(w,C,O,L,F){C.isMeshBasicMaterial||C.isMeshLambertMaterial?u(w,C):C.isMeshToonMaterial?(u(w,C),v(w,C)):C.isMeshPhongMaterial?(u(w,C),m(w,C)):C.isMeshStandardMaterial?(u(w,C),_(w,C),C.isMeshPhysicalMaterial&&S(w,C,F)):C.isMeshMatcapMaterial?(u(w,C),T(w,C)):C.isMeshDepthMaterial?u(w,C):C.isMeshDistanceMaterial?(u(w,C),A(w,C)):C.isMeshNormalMaterial?u(w,C):C.isLineBasicMaterial?(h(w,C),C.isLineDashedMaterial&&f(w,C)):C.isPointsMaterial?d(w,C,O,L):C.isSpriteMaterial?p(w,C):C.isShadowMaterial?(w.color.value.copy(C.color),w.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}function u(w,C){w.opacity.value=C.opacity,C.color&&w.diffuse.value.copy(C.color),C.emissive&&w.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(w.map.value=C.map,n(C.map,w.mapTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.bumpMap&&(w.bumpMap.value=C.bumpMap,n(C.bumpMap,w.bumpMapTransform),w.bumpScale.value=C.bumpScale,C.side===BackSide&&(w.bumpScale.value*=-1)),C.normalMap&&(w.normalMap.value=C.normalMap,n(C.normalMap,w.normalMapTransform),w.normalScale.value.copy(C.normalScale),C.side===BackSide&&w.normalScale.value.negate()),C.displacementMap&&(w.displacementMap.value=C.displacementMap,n(C.displacementMap,w.displacementMapTransform),w.displacementScale.value=C.displacementScale,w.displacementBias.value=C.displacementBias),C.emissiveMap&&(w.emissiveMap.value=C.emissiveMap,n(C.emissiveMap,w.emissiveMapTransform)),C.specularMap&&(w.specularMap.value=C.specularMap,n(C.specularMap,w.specularMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest);const O=e.get(C),L=O.envMap,F=O.envMapRotation;L&&(w.envMap.value=L,_e1.copy(F),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),w.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),w.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=C.reflectivity,w.ior.value=C.ior,w.refractionRatio.value=C.refractionRatio),C.lightMap&&(w.lightMap.value=C.lightMap,w.lightMapIntensity.value=C.lightMapIntensity,n(C.lightMap,w.lightMapTransform)),C.aoMap&&(w.aoMap.value=C.aoMap,w.aoMapIntensity.value=C.aoMapIntensity,n(C.aoMap,w.aoMapTransform))}function h(w,C){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,C.map&&(w.map.value=C.map,n(C.map,w.mapTransform))}function f(w,C){w.dashSize.value=C.dashSize,w.totalSize.value=C.dashSize+C.gapSize,w.scale.value=C.scale}function d(w,C,O,L){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,w.size.value=C.size*O,w.scale.value=L*.5,C.map&&(w.map.value=C.map,n(C.map,w.uvTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest)}function p(w,C){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,w.rotation.value=C.rotation,C.map&&(w.map.value=C.map,n(C.map,w.mapTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest)}function m(w,C){w.specular.value.copy(C.specular),w.shininess.value=Math.max(C.shininess,1e-4)}function v(w,C){C.gradientMap&&(w.gradientMap.value=C.gradientMap)}function _(w,C){w.metalness.value=C.metalness,C.metalnessMap&&(w.metalnessMap.value=C.metalnessMap,n(C.metalnessMap,w.metalnessMapTransform)),w.roughness.value=C.roughness,C.roughnessMap&&(w.roughnessMap.value=C.roughnessMap,n(C.roughnessMap,w.roughnessMapTransform)),C.envMap&&(w.envMapIntensity.value=C.envMapIntensity)}function S(w,C,O){w.ior.value=C.ior,C.sheen>0&&(w.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),w.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(w.sheenColorMap.value=C.sheenColorMap,n(C.sheenColorMap,w.sheenColorMapTransform)),C.sheenRoughnessMap&&(w.sheenRoughnessMap.value=C.sheenRoughnessMap,n(C.sheenRoughnessMap,w.sheenRoughnessMapTransform))),C.clearcoat>0&&(w.clearcoat.value=C.clearcoat,w.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(w.clearcoatMap.value=C.clearcoatMap,n(C.clearcoatMap,w.clearcoatMapTransform)),C.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap,n(C.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),C.clearcoatNormalMap&&(w.clearcoatNormalMap.value=C.clearcoatNormalMap,n(C.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),C.side===BackSide&&w.clearcoatNormalScale.value.negate())),C.dispersion>0&&(w.dispersion.value=C.dispersion),C.iridescence>0&&(w.iridescence.value=C.iridescence,w.iridescenceIOR.value=C.iridescenceIOR,w.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(w.iridescenceMap.value=C.iridescenceMap,n(C.iridescenceMap,w.iridescenceMapTransform)),C.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=C.iridescenceThicknessMap,n(C.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),C.transmission>0&&(w.transmission.value=C.transmission,w.transmissionSamplerMap.value=O.texture,w.transmissionSamplerSize.value.set(O.width,O.height),C.transmissionMap&&(w.transmissionMap.value=C.transmissionMap,n(C.transmissionMap,w.transmissionMapTransform)),w.thickness.value=C.thickness,C.thicknessMap&&(w.thicknessMap.value=C.thicknessMap,n(C.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=C.attenuationDistance,w.attenuationColor.value.copy(C.attenuationColor)),C.anisotropy>0&&(w.anisotropyVector.value.set(C.anisotropy*Math.cos(C.anisotropyRotation),C.anisotropy*Math.sin(C.anisotropyRotation)),C.anisotropyMap&&(w.anisotropyMap.value=C.anisotropyMap,n(C.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=C.specularIntensity,w.specularColor.value.copy(C.specularColor),C.specularColorMap&&(w.specularColorMap.value=C.specularColorMap,n(C.specularColorMap,w.specularColorMapTransform)),C.specularIntensityMap&&(w.specularIntensityMap.value=C.specularIntensityMap,n(C.specularIntensityMap,w.specularIntensityMapTransform))}function T(w,C){C.matcap&&(w.matcap.value=C.matcap)}function A(w,C){const O=e.get(C).light;w.referencePosition.value.setFromMatrixPosition(O.matrixWorld),w.nearDistance.value=O.shadow.camera.near,w.farDistance.value=O.shadow.camera.far}return{refreshFogUniforms:o,refreshMaterialUniforms:l}}function WebGLUniformsGroups(t,e,n,o){let l={},u={},h=[];const f=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function d(O,L){const F=L.program;o.uniformBlockBinding(O,F)}function p(O,L){let F=l[O.id];F===void 0&&(T(O),F=m(O),l[O.id]=F,O.addEventListener("dispose",w));const B=L.program;o.updateUBOMapping(O,B);const U=e.render.frame;u[O.id]!==U&&(_(O),u[O.id]=U)}function m(O){const L=v();O.__bindingPointIndex=L;const F=t.createBuffer(),B=O.__size,U=O.usage;return t.bindBuffer(t.UNIFORM_BUFFER,F),t.bufferData(t.UNIFORM_BUFFER,B,U),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,L,F),F}function v(){for(let O=0;O<f;O++)if(h.indexOf(O)===-1)return h.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(O){const L=l[O.id],F=O.uniforms,B=O.__cache;t.bindBuffer(t.UNIFORM_BUFFER,L);for(let U=0,V=F.length;U<V;U++){const q=Array.isArray(F[U])?F[U]:[F[U]];for(let H=0,G=q.length;H<G;H++){const Y=q[H];if(S(Y,U,H,B)===!0){const Q=Y.__offset,ie=Array.isArray(Y.value)?Y.value:[Y.value];let ae=0;for(let le=0;le<ie.length;le++){const he=ie[le],ge=A(he);typeof he=="number"||typeof he=="boolean"?(Y.__data[0]=he,t.bufferSubData(t.UNIFORM_BUFFER,Q+ae,Y.__data)):he.isMatrix3?(Y.__data[0]=he.elements[0],Y.__data[1]=he.elements[1],Y.__data[2]=he.elements[2],Y.__data[3]=0,Y.__data[4]=he.elements[3],Y.__data[5]=he.elements[4],Y.__data[6]=he.elements[5],Y.__data[7]=0,Y.__data[8]=he.elements[6],Y.__data[9]=he.elements[7],Y.__data[10]=he.elements[8],Y.__data[11]=0):(he.toArray(Y.__data,ae),ae+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,Q,Y.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function S(O,L,F,B){const U=O.value,V=L+"_"+F;if(B[V]===void 0)return typeof U=="number"||typeof U=="boolean"?B[V]=U:B[V]=U.clone(),!0;{const q=B[V];if(typeof U=="number"||typeof U=="boolean"){if(q!==U)return B[V]=U,!0}else if(q.equals(U)===!1)return q.copy(U),!0}return!1}function T(O){const L=O.uniforms;let F=0;const B=16;for(let V=0,q=L.length;V<q;V++){const H=Array.isArray(L[V])?L[V]:[L[V]];for(let G=0,Y=H.length;G<Y;G++){const Q=H[G],ie=Array.isArray(Q.value)?Q.value:[Q.value];for(let ae=0,le=ie.length;ae<le;ae++){const he=ie[ae],ge=A(he),J=F%B,se=J%ge.boundary,ce=J+se;F+=se,ce!==0&&B-ce<ge.storage&&(F+=B-ce),Q.__data=new Float32Array(ge.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=F,F+=ge.storage}}}const U=F%B;return U>0&&(F+=B-U),O.__size=F,O.__cache={},this}function A(O){const L={boundary:0,storage:0};return typeof O=="number"||typeof O=="boolean"?(L.boundary=4,L.storage=4):O.isVector2?(L.boundary=8,L.storage=8):O.isVector3||O.isColor?(L.boundary=16,L.storage=12):O.isVector4?(L.boundary=16,L.storage=16):O.isMatrix3?(L.boundary=48,L.storage=48):O.isMatrix4?(L.boundary=64,L.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),L}function w(O){const L=O.target;L.removeEventListener("dispose",w);const F=h.indexOf(L.__bindingPointIndex);h.splice(F,1),t.deleteBuffer(l[L.id]),delete l[L.id],delete u[L.id]}function C(){for(const O in l)t.deleteBuffer(l[O]);h=[],l={},u={}}return{bind:d,update:p,dispose:C}}class WebGLRenderer{constructor(e={}){const{canvas:n=createCanvasElement(),context:o=null,depth:l=!0,stencil:u=!1,alpha:h=!1,antialias:f=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let S;if(o!==null){if(typeof WebGLRenderingContext<"u"&&o instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");S=o.getContextAttributes().alpha}else S=h;const T=new Uint32Array(4),A=new Int32Array(4);let w=null,C=null;const O=[],L=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const F=this;let B=!1;this._outputColorSpace=SRGBColorSpace;let U=0,V=0,q=null,H=-1,G=null;const Y=new Vector4,Q=new Vector4;let ie=null;const ae=new Color$1(0);let le=0,he=n.width,ge=n.height,J=1,se=null,ce=null;const te=new Vector4(0,0,he,ge),fe=new Vector4(0,0,he,ge);let _e=!1;const ye=new Frustum;let xe=!1,Me=!1;const be=new Matrix4,Ce=new Matrix4,Re=new Vector3,Ne=new Vector4,Oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Te=!1;function tt(){return q===null?J:1}let de=o;function Xe(ve,Ge){return n.getContext(ve,Ge)}try{const ve={alpha:!0,depth:l,stencil:u,antialias:f,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${REVISION}`),n.addEventListener("webglcontextlost",Tt,!1),n.addEventListener("webglcontextrestored",ut,!1),n.addEventListener("webglcontextcreationerror",Je,!1),de===null){const Ge="webgl2";if(de=Xe(Ge,ve),de===null)throw Xe(Ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ve){throw console.error("THREE.WebGLRenderer: "+ve.message),ve}let qe,Ye,Ie,et,Ue,ke,ct,me,ue,Ae,We,$e,je,ft,ht,gt,Et,nt,dt,pt,Ee,Ve,mt,we;function at(){qe=new WebGLExtensions(de),qe.init(),Ve=new WebGLUtils(de,qe),Ye=new WebGLCapabilities(de,qe,e,Ve),Ie=new WebGLState(de,qe),Ye.reverseDepthBuffer&&_&&Ie.buffers.depth.setReversed(!0),et=new WebGLInfo(de),Ue=new WebGLProperties,ke=new WebGLTextures(de,qe,Ie,Ue,Ye,Ve,et),ct=new WebGLCubeMaps(F),me=new WebGLCubeUVMaps(F),ue=new WebGLAttributes(de),mt=new WebGLBindingStates(de,ue),Ae=new WebGLGeometries(de,ue,et,mt),We=new WebGLObjects(de,Ae,ue,et),dt=new WebGLMorphtargets(de,Ye,ke),gt=new WebGLClipping(Ue),$e=new WebGLPrograms(F,ct,me,qe,Ye,mt,gt),je=new WebGLMaterials(F,Ue),ft=new WebGLRenderLists,ht=new WebGLRenderStates(qe),nt=new WebGLBackground(F,ct,me,Ie,We,S,d),Et=new WebGLShadowMap(F,We,Ye),we=new WebGLUniformsGroups(de,et,Ye,Ie),pt=new WebGLBufferRenderer(de,qe,et),Ee=new WebGLIndexedBufferRenderer(de,qe,et),et.programs=$e.programs,F.capabilities=Ye,F.extensions=qe,F.properties=Ue,F.renderLists=ft,F.shadowMap=Et,F.state=Ie,F.info=et}at();const st=new WebXRManager(F,de);this.xr=st,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const ve=qe.get("WEBGL_lose_context");ve&&ve.loseContext()},this.forceContextRestore=function(){const ve=qe.get("WEBGL_lose_context");ve&&ve.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(ve){ve!==void 0&&(J=ve,this.setSize(he,ge,!1))},this.getSize=function(ve){return ve.set(he,ge)},this.setSize=function(ve,Ge,rt=!0){if(st.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}he=ve,ge=Ge,n.width=Math.floor(ve*J),n.height=Math.floor(Ge*J),rt===!0&&(n.style.width=ve+"px",n.style.height=Ge+"px"),this.setViewport(0,0,ve,Ge)},this.getDrawingBufferSize=function(ve){return ve.set(he*J,ge*J).floor()},this.setDrawingBufferSize=function(ve,Ge,rt){he=ve,ge=Ge,J=rt,n.width=Math.floor(ve*rt),n.height=Math.floor(Ge*rt),this.setViewport(0,0,ve,Ge)},this.getCurrentViewport=function(ve){return ve.copy(Y)},this.getViewport=function(ve){return ve.copy(te)},this.setViewport=function(ve,Ge,rt,De){ve.isVector4?te.set(ve.x,ve.y,ve.z,ve.w):te.set(ve,Ge,rt,De),Ie.viewport(Y.copy(te).multiplyScalar(J).round())},this.getScissor=function(ve){return ve.copy(fe)},this.setScissor=function(ve,Ge,rt,De){ve.isVector4?fe.set(ve.x,ve.y,ve.z,ve.w):fe.set(ve,Ge,rt,De),Ie.scissor(Q.copy(fe).multiplyScalar(J).round())},this.getScissorTest=function(){return _e},this.setScissorTest=function(ve){Ie.setScissorTest(_e=ve)},this.setOpaqueSort=function(ve){se=ve},this.setTransparentSort=function(ve){ce=ve},this.getClearColor=function(ve){return ve.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor(...arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha(...arguments)},this.clear=function(ve=!0,Ge=!0,rt=!0){let De=0;if(ve){let ze=!1;if(q!==null){const xt=q.texture.format;ze=xt===RGBAIntegerFormat||xt===RGIntegerFormat||xt===RedIntegerFormat}if(ze){const xt=q.texture.type,At=xt===UnsignedByteType||xt===UnsignedIntType||xt===UnsignedShortType||xt===UnsignedInt248Type||xt===UnsignedShort4444Type||xt===UnsignedShort5551Type,Ot=nt.getClearColor(),Dt=nt.getClearAlpha(),Gt=Ot.r,$t=Ot.g,bt=Ot.b;At?(T[0]=Gt,T[1]=$t,T[2]=bt,T[3]=Dt,de.clearBufferuiv(de.COLOR,0,T)):(A[0]=Gt,A[1]=$t,A[2]=bt,A[3]=Dt,de.clearBufferiv(de.COLOR,0,A))}else De|=de.COLOR_BUFFER_BIT}Ge&&(De|=de.DEPTH_BUFFER_BIT),rt&&(De|=de.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),de.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Tt,!1),n.removeEventListener("webglcontextrestored",ut,!1),n.removeEventListener("webglcontextcreationerror",Je,!1),nt.dispose(),ft.dispose(),ht.dispose(),Ue.dispose(),ct.dispose(),me.dispose(),We.dispose(),mt.dispose(),we.dispose(),$e.dispose(),st.dispose(),st.removeEventListener("sessionstart",wn),st.removeEventListener("sessionend",Kn),nr.stop()};function Tt(ve){ve.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function ut(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const ve=et.autoReset,Ge=Et.enabled,rt=Et.autoUpdate,De=Et.needsUpdate,ze=Et.type;at(),et.autoReset=ve,Et.enabled=Ge,Et.autoUpdate=rt,Et.needsUpdate=De,Et.type=ze}function Je(ve){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ve.statusMessage)}function _t(ve){const Ge=ve.target;Ge.removeEventListener("dispose",_t),Ct(Ge)}function Ct(ve){Rt(ve),Ue.remove(ve)}function Rt(ve){const Ge=Ue.get(ve).programs;Ge!==void 0&&(Ge.forEach(function(rt){$e.releaseProgram(rt)}),ve.isShaderMaterial&&$e.releaseShaderCache(ve))}this.renderBufferDirect=function(ve,Ge,rt,De,ze,xt){Ge===null&&(Ge=Oe);const At=ze.isMesh&&ze.matrixWorld.determinant()<0,Ot=_s(ve,Ge,rt,De,ze);Ie.setMaterial(De,At);let Dt=rt.index,Gt=1;if(De.wireframe===!0){if(Dt=Ae.getWireframeAttribute(rt),Dt===void 0)return;Gt=2}const $t=rt.drawRange,bt=rt.attributes.position;let Bt=$t.start*Gt,Wt=($t.start+$t.count)*Gt;xt!==null&&(Bt=Math.max(Bt,xt.start*Gt),Wt=Math.min(Wt,(xt.start+xt.count)*Gt)),Dt!==null?(Bt=Math.max(Bt,0),Wt=Math.min(Wt,Dt.count)):bt!=null&&(Bt=Math.max(Bt,0),Wt=Math.min(Wt,bt.count));const nn=Wt-Bt;if(nn<0||nn===1/0)return;mt.setup(ze,De,Ot,rt,Dt);let sn,rn=pt;if(Dt!==null&&(sn=ue.get(Dt),rn=Ee,rn.setIndex(sn)),ze.isMesh)De.wireframe===!0?(Ie.setLineWidth(De.wireframeLinewidth*tt()),rn.setMode(de.LINES)):rn.setMode(de.TRIANGLES);else if(ze.isLine){let Nt=De.linewidth;Nt===void 0&&(Nt=1),Ie.setLineWidth(Nt*tt()),ze.isLineSegments?rn.setMode(de.LINES):ze.isLineLoop?rn.setMode(de.LINE_LOOP):rn.setMode(de.LINE_STRIP)}else ze.isPoints?rn.setMode(de.POINTS):ze.isSprite&&rn.setMode(de.TRIANGLES);if(ze.isBatchedMesh)if(ze._multiDrawInstances!==null)warnOnce("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),rn.renderMultiDrawInstances(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount,ze._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))rn.renderMultiDraw(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount);else{const Nt=ze._multiDrawStarts,hn=ze._multiDrawCounts,Zt=ze._multiDrawCount,zn=Dt?ue.get(Dt).bytesPerElement:1,ei=Ue.get(De).currentProgram.getUniforms();for(let jn=0;jn<Zt;jn++)ei.setValue(de,"_gl_DrawID",jn),rn.render(Nt[jn]/zn,hn[jn])}else if(ze.isInstancedMesh)rn.renderInstances(Bt,nn,ze.count);else if(rt.isInstancedBufferGeometry){const Nt=rt._maxInstanceCount!==void 0?rt._maxInstanceCount:1/0,hn=Math.min(rt.instanceCount,Nt);rn.renderInstances(Bt,nn,hn)}else rn.render(Bt,nn)};function jt(ve,Ge,rt){ve.transparent===!0&&ve.side===DoubleSide&&ve.forceSinglePass===!1?(ve.side=BackSide,ve.needsUpdate=!0,qr(ve,Ge,rt),ve.side=FrontSide,ve.needsUpdate=!0,qr(ve,Ge,rt),ve.side=DoubleSide):qr(ve,Ge,rt)}this.compile=function(ve,Ge,rt=null){rt===null&&(rt=ve),C=ht.get(rt),C.init(Ge),L.push(C),rt.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ge.layers)&&(C.pushLight(ze),ze.castShadow&&C.pushShadow(ze))}),ve!==rt&&ve.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ge.layers)&&(C.pushLight(ze),ze.castShadow&&C.pushShadow(ze))}),C.setupLights();const De=new Set;return ve.traverse(function(ze){if(!(ze.isMesh||ze.isPoints||ze.isLine||ze.isSprite))return;const xt=ze.material;if(xt)if(Array.isArray(xt))for(let At=0;At<xt.length;At++){const Ot=xt[At];jt(Ot,rt,ze),De.add(Ot)}else jt(xt,rt,ze),De.add(xt)}),C=L.pop(),De},this.compileAsync=function(ve,Ge,rt=null){const De=this.compile(ve,Ge,rt);return new Promise(ze=>{function xt(){if(De.forEach(function(At){Ue.get(At).currentProgram.isReady()&&De.delete(At)}),De.size===0){ze(ve);return}setTimeout(xt,10)}qe.get("KHR_parallel_shader_compile")!==null?xt():setTimeout(xt,10)})};let pn=null;function mn(ve){pn&&pn(ve)}function wn(){nr.stop()}function Kn(){nr.start()}const nr=new WebGLAnimation;nr.setAnimationLoop(mn),typeof self<"u"&&nr.setContext(self),this.setAnimationLoop=function(ve){pn=ve,st.setAnimationLoop(ve),ve===null?nr.stop():nr.start()},st.addEventListener("sessionstart",wn),st.addEventListener("sessionend",Kn),this.render=function(ve,Ge){if(Ge!==void 0&&Ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),Ge.parent===null&&Ge.matrixWorldAutoUpdate===!0&&Ge.updateMatrixWorld(),st.enabled===!0&&st.isPresenting===!0&&(st.cameraAutoUpdate===!0&&st.updateCamera(Ge),Ge=st.getCamera()),ve.isScene===!0&&ve.onBeforeRender(F,ve,Ge,q),C=ht.get(ve,L.length),C.init(Ge),L.push(C),Ce.multiplyMatrices(Ge.projectionMatrix,Ge.matrixWorldInverse),ye.setFromProjectionMatrix(Ce),Me=this.localClippingEnabled,xe=gt.init(this.clippingPlanes,Me),w=ft.get(ve,O.length),w.init(),O.push(w),st.enabled===!0&&st.isPresenting===!0){const xt=F.xr.getDepthSensingMesh();xt!==null&&Vn(xt,Ge,-1/0,F.sortObjects)}Vn(ve,Ge,0,F.sortObjects),w.finish(),F.sortObjects===!0&&w.sort(se,ce),Te=st.enabled===!1||st.isPresenting===!1||st.hasDepthSensing()===!1,Te&&nt.addToRenderList(w,ve),this.info.render.frame++,xe===!0&&gt.beginShadows();const rt=C.state.shadowsArray;Et.render(rt,ve,Ge),xe===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset();const De=w.opaque,ze=w.transmissive;if(C.setupLights(),Ge.isArrayCamera){const xt=Ge.cameras;if(ze.length>0)for(let At=0,Ot=xt.length;At<Ot;At++){const Dt=xt[At];rr(De,ze,ve,Dt)}Te&&nt.render(ve);for(let At=0,Ot=xt.length;At<Ot;At++){const Dt=xt[At];Pr(w,ve,Dt,Dt.viewport)}}else ze.length>0&&rr(De,ze,ve,Ge),Te&&nt.render(ve),Pr(w,ve,Ge);q!==null&&V===0&&(ke.updateMultisampleRenderTarget(q),ke.updateRenderTargetMipmap(q)),ve.isScene===!0&&ve.onAfterRender(F,ve,Ge),mt.resetDefaultState(),H=-1,G=null,L.pop(),L.length>0?(C=L[L.length-1],xe===!0&&gt.setGlobalState(F.clippingPlanes,C.state.camera)):C=null,O.pop(),O.length>0?w=O[O.length-1]:w=null};function Vn(ve,Ge,rt,De){if(ve.visible===!1)return;if(ve.layers.test(Ge.layers)){if(ve.isGroup)rt=ve.renderOrder;else if(ve.isLOD)ve.autoUpdate===!0&&ve.update(Ge);else if(ve.isLight)C.pushLight(ve),ve.castShadow&&C.pushShadow(ve);else if(ve.isSprite){if(!ve.frustumCulled||ye.intersectsSprite(ve)){De&&Ne.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(Ce);const At=We.update(ve),Ot=ve.material;Ot.visible&&w.push(ve,At,Ot,rt,Ne.z,null)}}else if((ve.isMesh||ve.isLine||ve.isPoints)&&(!ve.frustumCulled||ye.intersectsObject(ve))){const At=We.update(ve),Ot=ve.material;if(De&&(ve.boundingSphere!==void 0?(ve.boundingSphere===null&&ve.computeBoundingSphere(),Ne.copy(ve.boundingSphere.center)):(At.boundingSphere===null&&At.computeBoundingSphere(),Ne.copy(At.boundingSphere.center)),Ne.applyMatrix4(ve.matrixWorld).applyMatrix4(Ce)),Array.isArray(Ot)){const Dt=At.groups;for(let Gt=0,$t=Dt.length;Gt<$t;Gt++){const bt=Dt[Gt],Bt=Ot[bt.materialIndex];Bt&&Bt.visible&&w.push(ve,At,Bt,rt,Ne.z,bt)}}else Ot.visible&&w.push(ve,At,Ot,rt,Ne.z,null)}}const xt=ve.children;for(let At=0,Ot=xt.length;At<Ot;At++)Vn(xt[At],Ge,rt,De)}function Pr(ve,Ge,rt,De){const ze=ve.opaque,xt=ve.transmissive,At=ve.transparent;C.setupLightsView(rt),xe===!0&&gt.setGlobalState(F.clippingPlanes,rt),De&&Ie.viewport(Y.copy(De)),ze.length>0&&lr(ze,Ge,rt),xt.length>0&&lr(xt,Ge,rt),At.length>0&&lr(At,Ge,rt),Ie.buffers.depth.setTest(!0),Ie.buffers.depth.setMask(!0),Ie.buffers.color.setMask(!0),Ie.setPolygonOffset(!1)}function rr(ve,Ge,rt,De){if((rt.isScene===!0?rt.overrideMaterial:null)!==null)return;C.state.transmissionRenderTarget[De.id]===void 0&&(C.state.transmissionRenderTarget[De.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:u,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const xt=C.state.transmissionRenderTarget[De.id],At=De.viewport||Y;xt.setSize(At.z*F.transmissionResolutionScale,At.w*F.transmissionResolutionScale);const Ot=F.getRenderTarget();F.setRenderTarget(xt),F.getClearColor(ae),le=F.getClearAlpha(),le<1&&F.setClearColor(16777215,.5),F.clear(),Te&&nt.render(rt);const Dt=F.toneMapping;F.toneMapping=NoToneMapping;const Gt=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),C.setupLightsView(De),xe===!0&&gt.setGlobalState(F.clippingPlanes,De),lr(ve,rt,De),ke.updateMultisampleRenderTarget(xt),ke.updateRenderTargetMipmap(xt),qe.has("WEBGL_multisampled_render_to_texture")===!1){let $t=!1;for(let bt=0,Bt=Ge.length;bt<Bt;bt++){const Wt=Ge[bt],nn=Wt.object,sn=Wt.geometry,rn=Wt.material,Nt=Wt.group;if(rn.side===DoubleSide&&nn.layers.test(De.layers)){const hn=rn.side;rn.side=BackSide,rn.needsUpdate=!0,Yn(nn,rt,De,sn,rn,Nt),rn.side=hn,rn.needsUpdate=!0,$t=!0}}$t===!0&&(ke.updateMultisampleRenderTarget(xt),ke.updateRenderTargetMipmap(xt))}F.setRenderTarget(Ot),F.setClearColor(ae,le),Gt!==void 0&&(De.viewport=Gt),F.toneMapping=Dt}function lr(ve,Ge,rt){const De=Ge.isScene===!0?Ge.overrideMaterial:null;for(let ze=0,xt=ve.length;ze<xt;ze++){const At=ve[ze],Ot=At.object,Dt=At.geometry,Gt=At.group;let $t=At.material;$t.allowOverride===!0&&De!==null&&($t=De),Ot.layers.test(rt.layers)&&Yn(Ot,Ge,rt,Dt,$t,Gt)}}function Yn(ve,Ge,rt,De,ze,xt){ve.onBeforeRender(F,Ge,rt,De,ze,xt),ve.modelViewMatrix.multiplyMatrices(rt.matrixWorldInverse,ve.matrixWorld),ve.normalMatrix.getNormalMatrix(ve.modelViewMatrix),ze.onBeforeRender(F,Ge,rt,De,ve,xt),ze.transparent===!0&&ze.side===DoubleSide&&ze.forceSinglePass===!1?(ze.side=BackSide,ze.needsUpdate=!0,F.renderBufferDirect(rt,Ge,De,ze,ve,xt),ze.side=FrontSide,ze.needsUpdate=!0,F.renderBufferDirect(rt,Ge,De,ze,ve,xt),ze.side=DoubleSide):F.renderBufferDirect(rt,Ge,De,ze,ve,xt),ve.onAfterRender(F,Ge,rt,De,ze,xt)}function qr(ve,Ge,rt){Ge.isScene!==!0&&(Ge=Oe);const De=Ue.get(ve),ze=C.state.lights,xt=C.state.shadowsArray,At=ze.state.version,Ot=$e.getParameters(ve,ze.state,xt,Ge,rt),Dt=$e.getProgramCacheKey(Ot);let Gt=De.programs;De.environment=ve.isMeshStandardMaterial?Ge.environment:null,De.fog=Ge.fog,De.envMap=(ve.isMeshStandardMaterial?me:ct).get(ve.envMap||De.environment),De.envMapRotation=De.environment!==null&&ve.envMap===null?Ge.environmentRotation:ve.envMapRotation,Gt===void 0&&(ve.addEventListener("dispose",_t),Gt=new Map,De.programs=Gt);let $t=Gt.get(Dt);if($t!==void 0){if(De.currentProgram===$t&&De.lightsStateVersion===At)return Hr(ve,Ot),$t}else Ot.uniforms=$e.getUniforms(ve),ve.onBeforeCompile(Ot,F),$t=$e.acquireProgram(Ot,Dt),Gt.set(Dt,$t),De.uniforms=Ot.uniforms;const bt=De.uniforms;return(!ve.isShaderMaterial&&!ve.isRawShaderMaterial||ve.clipping===!0)&&(bt.clippingPlanes=gt.uniform),Hr(ve,Ot),De.needsLights=Xi(ve),De.lightsStateVersion=At,De.needsLights&&(bt.ambientLightColor.value=ze.state.ambient,bt.lightProbe.value=ze.state.probe,bt.directionalLights.value=ze.state.directional,bt.directionalLightShadows.value=ze.state.directionalShadow,bt.spotLights.value=ze.state.spot,bt.spotLightShadows.value=ze.state.spotShadow,bt.rectAreaLights.value=ze.state.rectArea,bt.ltc_1.value=ze.state.rectAreaLTC1,bt.ltc_2.value=ze.state.rectAreaLTC2,bt.pointLights.value=ze.state.point,bt.pointLightShadows.value=ze.state.pointShadow,bt.hemisphereLights.value=ze.state.hemi,bt.directionalShadowMap.value=ze.state.directionalShadowMap,bt.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,bt.spotShadowMap.value=ze.state.spotShadowMap,bt.spotLightMatrix.value=ze.state.spotLightMatrix,bt.spotLightMap.value=ze.state.spotLightMap,bt.pointShadowMap.value=ze.state.pointShadowMap,bt.pointShadowMatrix.value=ze.state.pointShadowMatrix),De.currentProgram=$t,De.uniformsList=null,$t}function Va(ve){if(ve.uniformsList===null){const Ge=ve.currentProgram.getUniforms();ve.uniformsList=WebGLUniforms.seqWithValue(Ge.seq,ve.uniforms)}return ve.uniformsList}function Hr(ve,Ge){const rt=Ue.get(ve);rt.outputColorSpace=Ge.outputColorSpace,rt.batching=Ge.batching,rt.batchingColor=Ge.batchingColor,rt.instancing=Ge.instancing,rt.instancingColor=Ge.instancingColor,rt.instancingMorph=Ge.instancingMorph,rt.skinning=Ge.skinning,rt.morphTargets=Ge.morphTargets,rt.morphNormals=Ge.morphNormals,rt.morphColors=Ge.morphColors,rt.morphTargetsCount=Ge.morphTargetsCount,rt.numClippingPlanes=Ge.numClippingPlanes,rt.numIntersection=Ge.numClipIntersection,rt.vertexAlphas=Ge.vertexAlphas,rt.vertexTangents=Ge.vertexTangents,rt.toneMapping=Ge.toneMapping}function _s(ve,Ge,rt,De,ze){Ge.isScene!==!0&&(Ge=Oe),ke.resetTextureUnits();const xt=Ge.fog,At=De.isMeshStandardMaterial?Ge.environment:null,Ot=q===null?F.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:LinearSRGBColorSpace,Dt=(De.isMeshStandardMaterial?me:ct).get(De.envMap||At),Gt=De.vertexColors===!0&&!!rt.attributes.color&&rt.attributes.color.itemSize===4,$t=!!rt.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),bt=!!rt.morphAttributes.position,Bt=!!rt.morphAttributes.normal,Wt=!!rt.morphAttributes.color;let nn=NoToneMapping;De.toneMapped&&(q===null||q.isXRRenderTarget===!0)&&(nn=F.toneMapping);const sn=rt.morphAttributes.position||rt.morphAttributes.normal||rt.morphAttributes.color,rn=sn!==void 0?sn.length:0,Nt=Ue.get(De),hn=C.state.lights;if(xe===!0&&(Me===!0||ve!==G)){const Zn=ve===G&&De.id===H;gt.setState(De,ve,Zn)}let Zt=!1;De.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==hn.state.version||Nt.outputColorSpace!==Ot||ze.isBatchedMesh&&Nt.batching===!1||!ze.isBatchedMesh&&Nt.batching===!0||ze.isBatchedMesh&&Nt.batchingColor===!0&&ze.colorTexture===null||ze.isBatchedMesh&&Nt.batchingColor===!1&&ze.colorTexture!==null||ze.isInstancedMesh&&Nt.instancing===!1||!ze.isInstancedMesh&&Nt.instancing===!0||ze.isSkinnedMesh&&Nt.skinning===!1||!ze.isSkinnedMesh&&Nt.skinning===!0||ze.isInstancedMesh&&Nt.instancingColor===!0&&ze.instanceColor===null||ze.isInstancedMesh&&Nt.instancingColor===!1&&ze.instanceColor!==null||ze.isInstancedMesh&&Nt.instancingMorph===!0&&ze.morphTexture===null||ze.isInstancedMesh&&Nt.instancingMorph===!1&&ze.morphTexture!==null||Nt.envMap!==Dt||De.fog===!0&&Nt.fog!==xt||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==gt.numPlanes||Nt.numIntersection!==gt.numIntersection)||Nt.vertexAlphas!==Gt||Nt.vertexTangents!==$t||Nt.morphTargets!==bt||Nt.morphNormals!==Bt||Nt.morphColors!==Wt||Nt.toneMapping!==nn||Nt.morphTargetsCount!==rn)&&(Zt=!0):(Zt=!0,Nt.__version=De.version);let zn=Nt.currentProgram;Zt===!0&&(zn=qr(De,Ge,ze));let ei=!1,jn=!1,Gn=!1;const fn=zn.getUniforms(),qn=Nt.uniforms;if(Ie.useProgram(zn.program)&&(ei=!0,jn=!0,Gn=!0),De.id!==H&&(H=De.id,jn=!0),ei||G!==ve){Ie.buffers.depth.getReversed()?(be.copy(ve.projectionMatrix),toNormalizedProjectionMatrix(be),toReversedProjectionMatrix(be),fn.setValue(de,"projectionMatrix",be)):fn.setValue(de,"projectionMatrix",ve.projectionMatrix),fn.setValue(de,"viewMatrix",ve.matrixWorldInverse);const Tn=fn.map.cameraPosition;Tn!==void 0&&Tn.setValue(de,Re.setFromMatrixPosition(ve.matrixWorld)),Ye.logarithmicDepthBuffer&&fn.setValue(de,"logDepthBufFC",2/(Math.log(ve.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&fn.setValue(de,"isOrthographic",ve.isOrthographicCamera===!0),G!==ve&&(G=ve,jn=!0,Gn=!0)}if(ze.isSkinnedMesh){fn.setOptional(de,ze,"bindMatrix"),fn.setOptional(de,ze,"bindMatrixInverse");const Zn=ze.skeleton;Zn&&(Zn.boneTexture===null&&Zn.computeBoneTexture(),fn.setValue(de,"boneTexture",Zn.boneTexture,ke))}ze.isBatchedMesh&&(fn.setOptional(de,ze,"batchingTexture"),fn.setValue(de,"batchingTexture",ze._matricesTexture,ke),fn.setOptional(de,ze,"batchingIdTexture"),fn.setValue(de,"batchingIdTexture",ze._indirectTexture,ke),fn.setOptional(de,ze,"batchingColorTexture"),ze._colorsTexture!==null&&fn.setValue(de,"batchingColorTexture",ze._colorsTexture,ke));const In=rt.morphAttributes;if((In.position!==void 0||In.normal!==void 0||In.color!==void 0)&&dt.update(ze,rt,zn),(jn||Nt.receiveShadow!==ze.receiveShadow)&&(Nt.receiveShadow=ze.receiveShadow,fn.setValue(de,"receiveShadow",ze.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(qn.envMap.value=Dt,qn.flipEnvMap.value=Dt.isCubeTexture&&Dt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&Ge.environment!==null&&(qn.envMapIntensity.value=Ge.environmentIntensity),jn&&(fn.setValue(de,"toneMappingExposure",F.toneMappingExposure),Nt.needsLights&&za(qn,Gn),xt&&De.fog===!0&&je.refreshFogUniforms(qn,xt),je.refreshMaterialUniforms(qn,De,J,ge,C.state.transmissionRenderTarget[ve.id]),WebGLUniforms.upload(de,Va(Nt),qn,ke)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(de,Va(Nt),qn,ke),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&fn.setValue(de,"center",ze.center),fn.setValue(de,"modelViewMatrix",ze.modelViewMatrix),fn.setValue(de,"normalMatrix",ze.normalMatrix),fn.setValue(de,"modelMatrix",ze.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const Zn=De.uniformsGroups;for(let Tn=0,on=Zn.length;Tn<on;Tn++){const cr=Zn[Tn];we.update(cr,zn),we.bind(cr,zn)}}return zn}function za(ve,Ge){ve.ambientLightColor.needsUpdate=Ge,ve.lightProbe.needsUpdate=Ge,ve.directionalLights.needsUpdate=Ge,ve.directionalLightShadows.needsUpdate=Ge,ve.pointLights.needsUpdate=Ge,ve.pointLightShadows.needsUpdate=Ge,ve.spotLights.needsUpdate=Ge,ve.spotLightShadows.needsUpdate=Ge,ve.rectAreaLights.needsUpdate=Ge,ve.hemisphereLights.needsUpdate=Ge}function Xi(ve){return ve.isMeshLambertMaterial||ve.isMeshToonMaterial||ve.isMeshPhongMaterial||ve.isMeshStandardMaterial||ve.isShadowMaterial||ve.isShaderMaterial&&ve.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return q},this.setRenderTargetTextures=function(ve,Ge,rt){const De=Ue.get(ve);De.__autoAllocateDepthBuffer=ve.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),Ue.get(ve.texture).__webglTexture=Ge,Ue.get(ve.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:rt,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ve,Ge){const rt=Ue.get(ve);rt.__webglFramebuffer=Ge,rt.__useDefaultFramebuffer=Ge===void 0};const Sa=de.createFramebuffer();this.setRenderTarget=function(ve,Ge=0,rt=0){q=ve,U=Ge,V=rt;let De=!0,ze=null,xt=!1,At=!1;if(ve){const Dt=Ue.get(ve);if(Dt.__useDefaultFramebuffer!==void 0)Ie.bindFramebuffer(de.FRAMEBUFFER,null),De=!1;else if(Dt.__webglFramebuffer===void 0)ke.setupRenderTarget(ve);else if(Dt.__hasExternalTextures)ke.rebindTextures(ve,Ue.get(ve.texture).__webglTexture,Ue.get(ve.depthTexture).__webglTexture);else if(ve.depthBuffer){const bt=ve.depthTexture;if(Dt.__boundDepthTexture!==bt){if(bt!==null&&Ue.has(bt)&&(ve.width!==bt.image.width||ve.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ke.setupDepthRenderbuffer(ve)}}const Gt=ve.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(At=!0);const $t=Ue.get(ve).__webglFramebuffer;ve.isWebGLCubeRenderTarget?(Array.isArray($t[Ge])?ze=$t[Ge][rt]:ze=$t[Ge],xt=!0):ve.samples>0&&ke.useMultisampledRTT(ve)===!1?ze=Ue.get(ve).__webglMultisampledFramebuffer:Array.isArray($t)?ze=$t[rt]:ze=$t,Y.copy(ve.viewport),Q.copy(ve.scissor),ie=ve.scissorTest}else Y.copy(te).multiplyScalar(J).floor(),Q.copy(fe).multiplyScalar(J).floor(),ie=_e;if(rt!==0&&(ze=Sa),Ie.bindFramebuffer(de.FRAMEBUFFER,ze)&&De&&Ie.drawBuffers(ve,ze),Ie.viewport(Y),Ie.scissor(Q),Ie.setScissorTest(ie),xt){const Dt=Ue.get(ve.texture);de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Dt.__webglTexture,rt)}else if(At){const Dt=Ue.get(ve.texture),Gt=Ge;de.framebufferTextureLayer(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,Dt.__webglTexture,rt,Gt)}else if(ve!==null&&rt!==0){const Dt=Ue.get(ve.texture);de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,Dt.__webglTexture,rt)}H=-1},this.readRenderTargetPixels=function(ve,Ge,rt,De,ze,xt,At,Ot=0){if(!(ve&&ve.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=Ue.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&At!==void 0&&(Dt=Dt[At]),Dt){Ie.bindFramebuffer(de.FRAMEBUFFER,Dt);try{const Gt=ve.textures[Ot],$t=Gt.format,bt=Gt.type;if(!Ye.textureFormatReadable($t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ge>=0&&Ge<=ve.width-De&&rt>=0&&rt<=ve.height-ze&&(ve.textures.length>1&&de.readBuffer(de.COLOR_ATTACHMENT0+Ot),de.readPixels(Ge,rt,De,ze,Ve.convert($t),Ve.convert(bt),xt))}finally{const Gt=q!==null?Ue.get(q).__webglFramebuffer:null;Ie.bindFramebuffer(de.FRAMEBUFFER,Gt)}}},this.readRenderTargetPixelsAsync=async function(ve,Ge,rt,De,ze,xt,At,Ot=0){if(!(ve&&ve.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Dt=Ue.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&At!==void 0&&(Dt=Dt[At]),Dt)if(Ge>=0&&Ge<=ve.width-De&&rt>=0&&rt<=ve.height-ze){Ie.bindFramebuffer(de.FRAMEBUFFER,Dt);const Gt=ve.textures[Ot],$t=Gt.format,bt=Gt.type;if(!Ye.textureFormatReadable($t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Bt=de.createBuffer();de.bindBuffer(de.PIXEL_PACK_BUFFER,Bt),de.bufferData(de.PIXEL_PACK_BUFFER,xt.byteLength,de.STREAM_READ),ve.textures.length>1&&de.readBuffer(de.COLOR_ATTACHMENT0+Ot),de.readPixels(Ge,rt,De,ze,Ve.convert($t),Ve.convert(bt),0);const Wt=q!==null?Ue.get(q).__webglFramebuffer:null;Ie.bindFramebuffer(de.FRAMEBUFFER,Wt);const nn=de.fenceSync(de.SYNC_GPU_COMMANDS_COMPLETE,0);return de.flush(),await probeAsync(de,nn,4),de.bindBuffer(de.PIXEL_PACK_BUFFER,Bt),de.getBufferSubData(de.PIXEL_PACK_BUFFER,0,xt),de.deleteBuffer(Bt),de.deleteSync(nn),xt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ve,Ge=null,rt=0){const De=Math.pow(2,-rt),ze=Math.floor(ve.image.width*De),xt=Math.floor(ve.image.height*De),At=Ge!==null?Ge.x:0,Ot=Ge!==null?Ge.y:0;ke.setTexture2D(ve,0),de.copyTexSubImage2D(de.TEXTURE_2D,rt,0,0,At,Ot,ze,xt),Ie.unbindTexture()};const bs=de.createFramebuffer(),Ga=de.createFramebuffer();this.copyTextureToTexture=function(ve,Ge,rt=null,De=null,ze=0,xt=null){xt===null&&(ze!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),xt=ze,ze=0):xt=0);let At,Ot,Dt,Gt,$t,bt,Bt,Wt,nn;const sn=ve.isCompressedTexture?ve.mipmaps[xt]:ve.image;if(rt!==null)At=rt.max.x-rt.min.x,Ot=rt.max.y-rt.min.y,Dt=rt.isBox3?rt.max.z-rt.min.z:1,Gt=rt.min.x,$t=rt.min.y,bt=rt.isBox3?rt.min.z:0;else{const In=Math.pow(2,-ze);At=Math.floor(sn.width*In),Ot=Math.floor(sn.height*In),ve.isDataArrayTexture?Dt=sn.depth:ve.isData3DTexture?Dt=Math.floor(sn.depth*In):Dt=1,Gt=0,$t=0,bt=0}De!==null?(Bt=De.x,Wt=De.y,nn=De.z):(Bt=0,Wt=0,nn=0);const rn=Ve.convert(Ge.format),Nt=Ve.convert(Ge.type);let hn;Ge.isData3DTexture?(ke.setTexture3D(Ge,0),hn=de.TEXTURE_3D):Ge.isDataArrayTexture||Ge.isCompressedArrayTexture?(ke.setTexture2DArray(Ge,0),hn=de.TEXTURE_2D_ARRAY):(ke.setTexture2D(Ge,0),hn=de.TEXTURE_2D),de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,Ge.flipY),de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ge.premultiplyAlpha),de.pixelStorei(de.UNPACK_ALIGNMENT,Ge.unpackAlignment);const Zt=de.getParameter(de.UNPACK_ROW_LENGTH),zn=de.getParameter(de.UNPACK_IMAGE_HEIGHT),ei=de.getParameter(de.UNPACK_SKIP_PIXELS),jn=de.getParameter(de.UNPACK_SKIP_ROWS),Gn=de.getParameter(de.UNPACK_SKIP_IMAGES);de.pixelStorei(de.UNPACK_ROW_LENGTH,sn.width),de.pixelStorei(de.UNPACK_IMAGE_HEIGHT,sn.height),de.pixelStorei(de.UNPACK_SKIP_PIXELS,Gt),de.pixelStorei(de.UNPACK_SKIP_ROWS,$t),de.pixelStorei(de.UNPACK_SKIP_IMAGES,bt);const fn=ve.isDataArrayTexture||ve.isData3DTexture,qn=Ge.isDataArrayTexture||Ge.isData3DTexture;if(ve.isDepthTexture){const In=Ue.get(ve),Zn=Ue.get(Ge),Tn=Ue.get(In.__renderTarget),on=Ue.get(Zn.__renderTarget);Ie.bindFramebuffer(de.READ_FRAMEBUFFER,Tn.__webglFramebuffer),Ie.bindFramebuffer(de.DRAW_FRAMEBUFFER,on.__webglFramebuffer);for(let cr=0;cr<Dt;cr++)fn&&(de.framebufferTextureLayer(de.READ_FRAMEBUFFER,de.COLOR_ATTACHMENT0,Ue.get(ve).__webglTexture,ze,bt+cr),de.framebufferTextureLayer(de.DRAW_FRAMEBUFFER,de.COLOR_ATTACHMENT0,Ue.get(Ge).__webglTexture,xt,nn+cr)),de.blitFramebuffer(Gt,$t,At,Ot,Bt,Wt,At,Ot,de.DEPTH_BUFFER_BIT,de.NEAREST);Ie.bindFramebuffer(de.READ_FRAMEBUFFER,null),Ie.bindFramebuffer(de.DRAW_FRAMEBUFFER,null)}else if(ze!==0||ve.isRenderTargetTexture||Ue.has(ve)){const In=Ue.get(ve),Zn=Ue.get(Ge);Ie.bindFramebuffer(de.READ_FRAMEBUFFER,bs),Ie.bindFramebuffer(de.DRAW_FRAMEBUFFER,Ga);for(let Tn=0;Tn<Dt;Tn++)fn?de.framebufferTextureLayer(de.READ_FRAMEBUFFER,de.COLOR_ATTACHMENT0,In.__webglTexture,ze,bt+Tn):de.framebufferTexture2D(de.READ_FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,In.__webglTexture,ze),qn?de.framebufferTextureLayer(de.DRAW_FRAMEBUFFER,de.COLOR_ATTACHMENT0,Zn.__webglTexture,xt,nn+Tn):de.framebufferTexture2D(de.DRAW_FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,Zn.__webglTexture,xt),ze!==0?de.blitFramebuffer(Gt,$t,At,Ot,Bt,Wt,At,Ot,de.COLOR_BUFFER_BIT,de.NEAREST):qn?de.copyTexSubImage3D(hn,xt,Bt,Wt,nn+Tn,Gt,$t,At,Ot):de.copyTexSubImage2D(hn,xt,Bt,Wt,Gt,$t,At,Ot);Ie.bindFramebuffer(de.READ_FRAMEBUFFER,null),Ie.bindFramebuffer(de.DRAW_FRAMEBUFFER,null)}else qn?ve.isDataTexture||ve.isData3DTexture?de.texSubImage3D(hn,xt,Bt,Wt,nn,At,Ot,Dt,rn,Nt,sn.data):Ge.isCompressedArrayTexture?de.compressedTexSubImage3D(hn,xt,Bt,Wt,nn,At,Ot,Dt,rn,sn.data):de.texSubImage3D(hn,xt,Bt,Wt,nn,At,Ot,Dt,rn,Nt,sn):ve.isDataTexture?de.texSubImage2D(de.TEXTURE_2D,xt,Bt,Wt,At,Ot,rn,Nt,sn.data):ve.isCompressedTexture?de.compressedTexSubImage2D(de.TEXTURE_2D,xt,Bt,Wt,sn.width,sn.height,rn,sn.data):de.texSubImage2D(de.TEXTURE_2D,xt,Bt,Wt,At,Ot,rn,Nt,sn);de.pixelStorei(de.UNPACK_ROW_LENGTH,Zt),de.pixelStorei(de.UNPACK_IMAGE_HEIGHT,zn),de.pixelStorei(de.UNPACK_SKIP_PIXELS,ei),de.pixelStorei(de.UNPACK_SKIP_ROWS,jn),de.pixelStorei(de.UNPACK_SKIP_IMAGES,Gn),xt===0&&Ge.generateMipmaps&&de.generateMipmap(hn),Ie.unbindTexture()},this.copyTextureToTexture3D=function(ve,Ge,rt=null,De=null,ze=0){return warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ve,Ge,rt,De,ze)},this.initRenderTarget=function(ve){Ue.get(ve).__webglFramebuffer===void 0&&ke.setupRenderTarget(ve)},this.initTexture=function(ve){ve.isCubeTexture?ke.setTextureCube(ve,0):ve.isData3DTexture?ke.setTexture3D(ve,0):ve.isDataArrayTexture||ve.isCompressedArrayTexture?ke.setTexture2DArray(ve,0):ke.setTexture2D(ve,0),Ie.unbindTexture()},this.resetState=function(){U=0,V=0,q=null,Ie.reset(),mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=ColorManagement._getDrawingBufferColorSpace(e),n.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve:Curve$1,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,FrustumArray,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InterpolationSamplingMode,InterpolationSamplingType,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path:Path$1,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape:Shape$1,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TimestampQuery,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoFrameTexture,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WebXRController,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants$1={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants$1.exports=requireReactReconcilerConstants_production_min()),constants$1.exports}var constantsExports=requireConstants();function createStore$1(t){let e;const n=new Set,o=(p,m)=>{const v=typeof p=="function"?p(e):p;if(v!==e){const _=e;e=m?v:Object.assign({},e,v),n.forEach(S=>S(e,_))}},l=()=>e,u=(p,m=l,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let _=m(e);function S(){const T=m(e);if(!v(_,T)){const A=_;p(_=T,A)}}return n.add(S),()=>n.delete(S)},d={setState:o,getState:l,subscribe:(p,m,v)=>m||v?u(p,m,v):(n.add(p),()=>n.delete(p)),destroy:()=>n.clear()};return e=t(o,l,d),d}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(t){const e=typeof t=="function"?createStore$1(t):t,n=(o=e.getState,l=Object.is)=>{const[,u]=reactExports.useReducer(w=>w+1,0),h=e.getState(),f=reactExports.useRef(h),d=reactExports.useRef(o),p=reactExports.useRef(l),m=reactExports.useRef(!1),v=reactExports.useRef();v.current===void 0&&(v.current=o(h));let _,S=!1;(f.current!==h||d.current!==o||p.current!==l||m.current)&&(_=o(h),S=!l(v.current,_)),useIsomorphicLayoutEffect$1(()=>{S&&(v.current=_),f.current=h,d.current=o,p.current=l,m.current=!1});const T=reactExports.useRef(h);useIsomorphicLayoutEffect$1(()=>{const w=()=>{try{const O=e.getState(),L=d.current(O);p.current(v.current,L)||(f.current=O,v.current=L,u())}catch{m.current=!0,u()}},C=e.subscribe(w);return e.getState()!==T.current&&w(),C},[]);const A=S?_:v.current;return reactExports.useDebugValue(A),A};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,e];return{next(){const l=o.length<=0;return{value:o.shift(),done:l}}}},n}const isPromise=t=>typeof t=="object"&&typeof t.then=="function",globalCache=[];function shallowEqualArrays(t,e,n=(o,l)=>o===l){if(t===e)return!0;if(!t||!e)return!1;const o=t.length;if(e.length!==o)return!1;for(let l=0;l<o;l++)if(!n(t[l],e[l]))return!1;return!0}function query(t,e=null,n=!1,o={}){e===null&&(e=[t]);for(const u of globalCache)if(shallowEqualArrays(e,u.keys,u.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(u,"error"))throw u.error;if(Object.prototype.hasOwnProperty.call(u,"response"))return o.lifespan&&o.lifespan>0&&(u.timeout&&clearTimeout(u.timeout),u.timeout=setTimeout(u.remove,o.lifespan)),u.response;if(!n)throw u.promise}const l={keys:e,equal:o.equal,remove:()=>{const u=globalCache.indexOf(l);u!==-1&&globalCache.splice(u,1)},promise:(isPromise(t)?t:t(...e)).then(u=>{l.response=u,o.lifespan&&o.lifespan>0&&(l.timeout=setTimeout(l.remove,o.lifespan))}).catch(u=>l.error=u)};if(globalCache.push(l),!n)throw l.promise}const suspend=(t,e,n)=>query(t,e,!1,n),preload=(t,e,n)=>void query(t,e,!0,n),clear=t=>{if(t===void 0||t.length===0)globalCache.splice(0,globalCache.length);else{const e=globalCache.find(n=>shallowEqualArrays(t,n.keys,n.equal));e&&e.remove()}};var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(J,se){var ce=J.length;J.push(se);e:for(;0<ce;){var te=ce-1>>>1,fe=J[te];if(0<l(fe,se))J[te]=se,J[ce]=fe,ce=te;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var se=J[0],ce=J.pop();if(ce!==se){J[0]=ce;e:for(var te=0,fe=J.length,_e=fe>>>1;te<_e;){var ye=2*(te+1)-1,xe=J[ye],Me=ye+1,be=J[Me];if(0>l(xe,ce))Me<fe&&0>l(be,xe)?(J[te]=be,J[Me]=ce,te=Me):(J[te]=xe,J[ye]=ce,te=ye);else if(Me<fe&&0>l(be,ce))J[te]=be,J[Me]=ce,te=Me;else break e}}return se}function l(J,se){var ce=J.sortIndex-se.sortIndex;return ce!==0?ce:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var d=[],p=[],m=1,v=null,_=3,S=!1,T=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var se=n(p);se!==null;){if(se.callback===null)o(p);else if(se.startTime<=J)o(p),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(p)}}function F(J){if(A=!1,L(J),!T)if(n(d)!==null)T=!0,he(B);else{var se=n(p);se!==null&&ge(F,se.startTime-J)}}function B(J,se){T=!1,A&&(A=!1,C(q),q=-1),S=!0;var ce=_;try{for(L(se),v=n(d);v!==null&&(!(v.expirationTime>se)||J&&!Y());){var te=v.callback;if(typeof te=="function"){v.callback=null,_=v.priorityLevel;var fe=te(v.expirationTime<=se);se=t.unstable_now(),typeof fe=="function"?v.callback=fe:v===n(d)&&o(d),L(se)}else o(d);v=n(d)}if(v!==null)var _e=!0;else{var ye=n(p);ye!==null&&ge(F,ye.startTime-se),_e=!1}return _e}finally{v=null,_=ce,S=!1}}var U=!1,V=null,q=-1,H=5,G=-1;function Y(){return!(t.unstable_now()-G<H)}function Q(){if(V!==null){var J=t.unstable_now();G=J;var se=!0;try{se=V(!0,J)}finally{se?ie():(U=!1,V=null)}}else U=!1}var ie;if(typeof O=="function")ie=function(){O(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,le=ae.port2;ae.port1.onmessage=Q,ie=function(){le.postMessage(null)}}else ie=function(){w(Q,0)};function he(J){V=J,U||(U=!0,ie())}function ge(J,se){q=w(function(){J(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,he(B))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ce=_;_=se;try{return J()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=_;_=J;try{return se()}finally{_=ce}},t.unstable_scheduleCallback=function(J,se,ce){var te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?te+ce:te):ce=te,J){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ce+fe,J={id:m++,callback:se,priorityLevel:J,startTime:ce,expirationTime:fe,sortIndex:-1},ce>te?(J.sortIndex=ce,e(p,J),n(d)===null&&J===n(p)&&(A?(C(q),q=-1):A=!0,ge(F,ce-te))):(J.sortIndex=fe,e(d,J),T||S||(T=!0,he(B))),J},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(J){var se=_;return function(){var ce=_;_=se;try{return J.apply(this,arguments)}finally{_=ce}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(e){var n={},o=requireReact(),l=requireScheduler(),u=Object.assign;function h(R){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+R,$=1;$<arguments.length;$++)I+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+R+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),B=Symbol.iterator;function U(R){return R===null||typeof R!="object"?null:(R=B&&R[B]||R["@@iterator"],typeof R=="function"?R:null)}function V(R){if(R==null)return null;if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case m:return"Fragment";case p:return"Portal";case _:return"Profiler";case v:return"StrictMode";case w:return"Suspense";case C:return"SuspenseList"}if(typeof R=="object")switch(R.$$typeof){case T:return(R.displayName||"Context")+".Consumer";case S:return(R._context.displayName||"Context")+".Provider";case A:var I=R.render;return R=R.displayName,R||(R=I.displayName||I.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case O:return I=R.displayName||null,I!==null?I:V(R.type)||"Memo";case L:I=R._payload,R=R._init;try{return V(R(I))}catch{}}return null}function q(R){var I=R.type;switch(R.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return R=I.render,R=R.displayName||R.name||"",I.displayName||(R!==""?"ForwardRef("+R+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(I);case 8:return I===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function H(R){var I=R,$=R;if(R.alternate)for(;I.return;)I=I.return;else{R=I;do I=R,(I.flags&4098)!==0&&($=I.return),R=I.return;while(R)}return I.tag===3?$:null}function G(R){if(H(R)!==R)throw Error(h(188))}function Y(R){var I=R.alternate;if(!I){if(I=H(R),I===null)throw Error(h(188));return I!==R?null:R}for(var $=R,K=I;;){var ee=$.return;if(ee===null)break;var oe=ee.alternate;if(oe===null){if(K=ee.return,K!==null){$=K;continue}break}if(ee.child===oe.child){for(oe=ee.child;oe;){if(oe===$)return G(ee),R;if(oe===K)return G(ee),I;oe=oe.sibling}throw Error(h(188))}if($.return!==K.return)$=ee,K=oe;else{for(var Se=!1,Be=ee.child;Be;){if(Be===$){Se=!0,$=ee,K=oe;break}if(Be===K){Se=!0,K=ee,$=oe;break}Be=Be.sibling}if(!Se){for(Be=oe.child;Be;){if(Be===$){Se=!0,$=oe,K=ee;break}if(Be===K){Se=!0,K=oe,$=ee;break}Be=Be.sibling}if(!Se)throw Error(h(189))}}if($.alternate!==K)throw Error(h(190))}if($.tag!==3)throw Error(h(188));return $.stateNode.current===$?R:I}function Q(R){return R=Y(R),R!==null?ie(R):null}function ie(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){var I=ie(R);if(I!==null)return I;R=R.sibling}return null}function ae(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){if(R.tag!==4){var I=ae(R);if(I!==null)return I}R=R.sibling}return null}var le=Array.isArray,he=e.getPublicInstance,ge=e.getRootHostContext,J=e.getChildHostContext,se=e.prepareForCommit,ce=e.resetAfterCommit,te=e.createInstance,fe=e.appendInitialChild,_e=e.finalizeInitialChildren,ye=e.prepareUpdate,xe=e.shouldSetTextContent,Me=e.createTextInstance,be=e.scheduleTimeout,Ce=e.cancelTimeout,Re=e.noTimeout,Ne=e.isPrimaryRenderer,Oe=e.supportsMutation,Te=e.supportsPersistence,tt=e.supportsHydration,de=e.getInstanceFromNode,Xe=e.preparePortalMount,qe=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Ie=e.supportsMicrotasks,et=e.scheduleMicrotask,Ue=e.supportsTestSelectors,ke=e.findFiberRoot,ct=e.getBoundingRect,me=e.getTextContent,ue=e.isHiddenSubtree,Ae=e.matchAccessibilityRole,We=e.setFocusIfFocusable,$e=e.setupIntersectionObserver,je=e.appendChild,ft=e.appendChildToContainer,ht=e.commitTextUpdate,gt=e.commitMount,Et=e.commitUpdate,nt=e.insertBefore,dt=e.insertInContainerBefore,pt=e.removeChild,Ee=e.removeChildFromContainer,Ve=e.resetTextContent,mt=e.hideInstance,we=e.hideTextInstance,at=e.unhideInstance,st=e.unhideTextInstance,Tt=e.clearContainer,ut=e.cloneInstance,Je=e.createContainerChildSet,_t=e.appendChildToContainerChildSet,Ct=e.finalizeContainerChildren,Rt=e.replaceContainerChildren,jt=e.cloneHiddenInstance,pn=e.cloneHiddenTextInstance,mn=e.canHydrateInstance,wn=e.canHydrateTextInstance,Kn=e.canHydrateSuspenseInstance,nr=e.isSuspenseInstancePending,Vn=e.isSuspenseInstanceFallback,Pr=e.registerSuspenseInstanceRetry,rr=e.getNextHydratableSibling,lr=e.getFirstHydratableChild,Yn=e.getFirstHydratableChildWithinContainer,qr=e.getFirstHydratableChildWithinSuspenseInstance,Va=e.hydrateInstance,Hr=e.hydrateTextInstance,_s=e.hydrateSuspenseInstance,za=e.getNextHydratableInstanceAfterSuspenseInstance,Xi=e.commitHydratedContainer,Sa=e.commitHydratedSuspenseInstance,bs=e.clearSuspenseBoundary,Ga=e.clearSuspenseBoundaryFromContainer,ve=e.shouldDeleteUnhydratedTailInstances,Ge=e.didNotMatchHydratedContainerTextInstance,rt=e.didNotMatchHydratedTextInstance,De;function ze(R){if(De===void 0)try{throw Error()}catch($){var I=$.stack.trim().match(/\n( *(at )?)/);De=I&&I[1]||""}return`
`+De+R}var xt=!1;function At(R,I){if(!R||xt)return"";xt=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(wt){var K=wt}Reflect.construct(R,[],I)}else{try{I.call()}catch(wt){K=wt}R.call(I.prototype)}else{try{throw Error()}catch(wt){K=wt}R()}}catch(wt){if(wt&&K&&typeof wt.stack=="string"){for(var ee=wt.stack.split(`
`),oe=K.stack.split(`
`),Se=ee.length-1,Be=oe.length-1;1<=Se&&0<=Be&&ee[Se]!==oe[Be];)Be--;for(;1<=Se&&0<=Be;Se--,Be--)if(ee[Se]!==oe[Be]){if(Se!==1||Be!==1)do if(Se--,Be--,0>Be||ee[Se]!==oe[Be]){var lt=`
`+ee[Se].replace(" at new "," at ");return R.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",R.displayName)),lt}while(1<=Se&&0<=Be);break}}}finally{xt=!1,Error.prepareStackTrace=$}return(R=R?R.displayName||R.name:"")?ze(R):""}var Ot=Object.prototype.hasOwnProperty,Dt=[],Gt=-1;function $t(R){return{current:R}}function bt(R){0>Gt||(R.current=Dt[Gt],Dt[Gt]=null,Gt--)}function Bt(R,I){Gt++,Dt[Gt]=R.current,R.current=I}var Wt={},nn=$t(Wt),sn=$t(!1),rn=Wt;function Nt(R,I){var $=R.type.contextTypes;if(!$)return Wt;var K=R.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===I)return K.__reactInternalMemoizedMaskedChildContext;var ee={},oe;for(oe in $)ee[oe]=I[oe];return K&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=I,R.__reactInternalMemoizedMaskedChildContext=ee),ee}function hn(R){return R=R.childContextTypes,R!=null}function Zt(){bt(sn),bt(nn)}function zn(R,I,$){if(nn.current!==Wt)throw Error(h(168));Bt(nn,I),Bt(sn,$)}function ei(R,I,$){var K=R.stateNode;if(I=I.childContextTypes,typeof K.getChildContext!="function")return $;K=K.getChildContext();for(var ee in K)if(!(ee in I))throw Error(h(108,q(R)||"Unknown",ee));return u({},$,K)}function jn(R){return R=(R=R.stateNode)&&R.__reactInternalMemoizedMergedChildContext||Wt,rn=nn.current,Bt(nn,R),Bt(sn,sn.current),!0}function Gn(R,I,$){var K=R.stateNode;if(!K)throw Error(h(169));$?(R=ei(R,I,rn),K.__reactInternalMemoizedMergedChildContext=R,bt(sn),bt(nn),Bt(nn,R)):bt(sn),Bt(sn,$)}var fn=Math.clz32?Math.clz32:Zn,qn=Math.log,In=Math.LN2;function Zn(R){return R>>>=0,R===0?32:31-(qn(R)/In|0)|0}var Tn=64,on=4194304;function cr(R){switch(R&-R){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return R&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return R}}function Ea(R,I){var $=R.pendingLanes;if($===0)return 0;var K=0,ee=R.suspendedLanes,oe=R.pingedLanes,Se=$&268435455;if(Se!==0){var Be=Se&~ee;Be!==0?K=cr(Be):(oe&=Se,oe!==0&&(K=cr(oe)))}else Se=$&~ee,Se!==0?K=cr(Se):oe!==0&&(K=cr(oe));if(K===0)return 0;if(I!==0&&I!==K&&(I&ee)===0&&(ee=K&-K,oe=I&-I,ee>=oe||ee===16&&(oe&4194240)!==0))return I;if((K&4)!==0&&(K|=$&16),I=R.entangledLanes,I!==0)for(R=R.entanglements,I&=K;0<I;)$=31-fn(I),ee=1<<$,K|=R[$],I&=~ee;return K}function Ss(R,I){switch(R){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(R,I){for(var $=R.suspendedLanes,K=R.pingedLanes,ee=R.expirationTimes,oe=R.pendingLanes;0<oe;){var Se=31-fn(oe),Be=1<<Se,lt=ee[Se];lt===-1?((Be&$)===0||(Be&K)!==0)&&(ee[Se]=Ss(Be,I)):lt<=I&&(R.expiredLanes|=Be),oe&=~Be}}function Fi(R){return R=R.pendingLanes&-1073741825,R!==0?R:R&1073741824?1073741824:0}function qa(R){for(var I=[],$=0;31>$;$++)I.push(R);return I}function di(R,I,$){R.pendingLanes|=I,I!==536870912&&(R.suspendedLanes=0,R.pingedLanes=0),R=R.eventTimes,I=31-fn(I),R[I]=$}function Mi(R,I){var $=R.pendingLanes&~I;R.pendingLanes=I,R.suspendedLanes=0,R.pingedLanes=0,R.expiredLanes&=I,R.mutableReadLanes&=I,R.entangledLanes&=I,I=R.entanglements;var K=R.eventTimes;for(R=R.expirationTimes;0<$;){var ee=31-fn($),oe=1<<ee;I[ee]=0,K[ee]=-1,R[ee]=-1,$&=~oe}}function _r(R,I){var $=R.entangledLanes|=I;for(R=R.entanglements;$;){var K=31-fn($),ee=1<<K;ee&I|R[K]&I&&(R[K]|=I),$&=~ee}}var Jt=0;function mi(R){return R&=-R,1<R?4<R?(R&268435455)!==0?16:536870912:4:1}var ti=l.unstable_scheduleCallback,ji=l.unstable_cancelCallback,gi=l.unstable_shouldYield,ko=l.unstable_requestPaint,Dn=l.unstable_now,Ai=l.unstable_ImmediatePriority,Lo=l.unstable_UserBlockingPriority,Cr=l.unstable_NormalPriority,wa=l.unstable_IdlePriority,Ta=null,ni=null;function Ki(R){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Ta,R,void 0,(R.current.flags&128)===128)}catch{}}function Ma(R,I){return R===I&&(R!==0||1/R===1/I)||R!==R&&I!==I}var ur=typeof Object.is=="function"?Object.is:Ma,hr=null,Bi=!1,yi=!1;function Ha(R){hr===null?hr=[R]:hr.push(R)}function Aa(R){Bi=!0,Ha(R)}function Rr(){if(!yi&&hr!==null){yi=!0;var R=0,I=Jt;try{var $=hr;for(Jt=1;R<$.length;R++){var K=$[R];do K=K(!0);while(K!==null)}hr=null,Bi=!1}catch(ee){throw hr!==null&&(hr=hr.slice(R+1)),ti(Ai,Rr),ee}finally{Jt=I,yi=!1}}return null}var Pa=f.ReactCurrentBatchConfig;function Wr(R,I){if(ur(R,I))return!0;if(typeof R!="object"||R===null||typeof I!="object"||I===null)return!1;var $=Object.keys(R),K=Object.keys(I);if($.length!==K.length)return!1;for(K=0;K<$.length;K++){var ee=$[K];if(!Ot.call(I,ee)||!ur(R[ee],I[ee]))return!1}return!0}function Yi(R){switch(R.tag){case 5:return ze(R.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return R=At(R.type,!1),R;case 11:return R=At(R.type.render,!1),R;case 1:return R=At(R.type,!0),R;default:return""}}function fr(R,I){if(R&&R.defaultProps){I=u({},I),R=R.defaultProps;for(var $ in R)I[$]===void 0&&(I[$]=R[$]);return I}return I}var ir=$t(null),Zi=null,Xr=null,Ji=null;function dr(){Ji=Xr=Zi=null}function Qi(R,I,$){Ne?(Bt(ir,I._currentValue),I._currentValue=$):(Bt(ir,I._currentValue2),I._currentValue2=$)}function Jn(R){var I=ir.current;bt(ir),Ne?R._currentValue=I:R._currentValue2=I}function ar(R,I,$){for(;R!==null;){var K=R.alternate;if((R.childLanes&I)!==I?(R.childLanes|=I,K!==null&&(K.childLanes|=I)):K!==null&&(K.childLanes&I)!==I&&(K.childLanes|=I),R===$)break;R=R.return}}function Hn(R,I){Zi=R,Ji=Xr=null,R=R.dependencies,R!==null&&R.firstContext!==null&&((R.lanes&I)!==0&&(yr=!0),R.firstContext=null)}function Ln(R){var I=Ne?R._currentValue:R._currentValue2;if(Ji!==R)if(R={context:R,memoizedValue:I,next:null},Xr===null){if(Zi===null)throw Error(h(308));Xr=R,Zi.dependencies={lanes:0,firstContext:R}}else Xr=Xr.next=R;return I}var Fr=null,vi=!1;function ws(R){R.updateQueue={baseState:R.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wl(R,I){R=R.updateQueue,I.updateQueue===R&&(I.updateQueue={baseState:R.baseState,firstBaseUpdate:R.firstBaseUpdate,lastBaseUpdate:R.lastBaseUpdate,shared:R.shared,effects:R.effects})}function ea(R,I){return{eventTime:R,lane:I,tag:0,payload:null,callback:null,next:null}}function Ca(R,I){var $=R.updateQueue;$!==null&&($=$.shared,Xn!==null&&(R.mode&1)!==0&&(cn&2)===0?(R=$.interleaved,R===null?(I.next=I,Fr===null?Fr=[$]:Fr.push($)):(I.next=R.next,R.next=I),$.interleaved=I):(R=$.pending,R===null?I.next=I:(I.next=R.next,R.next=I),$.pending=I))}function No(R,I,$){if(I=I.updateQueue,I!==null&&(I=I.shared,($&4194240)!==0)){var K=I.lanes;K&=R.pendingLanes,$|=K,I.lanes=$,_r(R,$)}}function Fo(R,I){var $=R.updateQueue,K=R.alternate;if(K!==null&&(K=K.updateQueue,$===K)){var ee=null,oe=null;if($=$.firstBaseUpdate,$!==null){do{var Se={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};oe===null?ee=oe=Se:oe=oe.next=Se,$=$.next}while($!==null);oe===null?ee=oe=I:oe=oe.next=I}else ee=oe=I;$={baseState:K.baseState,firstBaseUpdate:ee,lastBaseUpdate:oe,shared:K.shared,effects:K.effects},R.updateQueue=$;return}R=$.lastBaseUpdate,R===null?$.firstBaseUpdate=I:R.next=I,$.lastBaseUpdate=I}function jo(R,I,$,K){var ee=R.updateQueue;vi=!1;var oe=ee.firstBaseUpdate,Se=ee.lastBaseUpdate,Be=ee.shared.pending;if(Be!==null){ee.shared.pending=null;var lt=Be,wt=lt.next;lt.next=null,Se===null?oe=wt:Se.next=wt,Se=lt;var Ft=R.alternate;Ft!==null&&(Ft=Ft.updateQueue,Be=Ft.lastBaseUpdate,Be!==Se&&(Be===null?Ft.firstBaseUpdate=wt:Be.next=wt,Ft.lastBaseUpdate=lt))}if(oe!==null){var en=ee.baseState;Se=0,Ft=wt=lt=null,Be=oe;do{var Xt=Be.lane,un=Be.eventTime;if((K&Xt)===Xt){Ft!==null&&(Ft=Ft.next={eventTime:un,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var kt=R,Mr=Be;switch(Xt=I,un=$,Mr.tag){case 1:if(kt=Mr.payload,typeof kt=="function"){en=kt.call(un,en,Xt);break e}en=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Mr.payload,Xt=typeof kt=="function"?kt.call(un,en,Xt):kt,Xt==null)break e;en=u({},en,Xt);break e;case 2:vi=!0}}Be.callback!==null&&Be.lane!==0&&(R.flags|=64,Xt=ee.effects,Xt===null?ee.effects=[Be]:Xt.push(Be))}else un={eventTime:un,lane:Xt,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Ft===null?(wt=Ft=un,lt=en):Ft=Ft.next=un,Se|=Xt;if(Be=Be.next,Be===null){if(Be=ee.shared.pending,Be===null)break;Xt=Be,Be=Xt.next,Xt.next=null,ee.lastBaseUpdate=Xt,ee.shared.pending=null}}while(!0);if(Ft===null&&(lt=en),ee.baseState=lt,ee.firstBaseUpdate=wt,ee.lastBaseUpdate=Ft,I=ee.shared.interleaved,I!==null){ee=I;do Se|=ee.lane,ee=ee.next;while(ee!==I)}else oe===null&&(ee.shared.lanes=0);zi|=Se,R.lanes=Se,R.memoizedState=en}}function mc(R,I,$){if(R=I.effects,I.effects=null,R!==null)for(I=0;I<R.length;I++){var K=R[I],ee=K.callback;if(ee!==null){if(K.callback=null,K=$,typeof ee!="function")throw Error(h(191,ee));ee.call(K)}}}var gc=new o.Component().refs;function Tl(R,I,$,K){I=R.memoizedState,$=$(K,I),$=$==null?I:u({},I,$),R.memoizedState=$,R.lanes===0&&(R.updateQueue.baseState=$)}var Bo={isMounted:function(R){return(R=R._reactInternals)?H(R)===R:!1},enqueueSetState:function(R,I,$){R=R._reactInternals;var K=vn(),ee=ki(R),oe=ea(K,ee);oe.payload=I,$!=null&&(oe.callback=$),Ca(R,oe),I=Or(R,ee,K),I!==null&&No(I,R,ee)},enqueueReplaceState:function(R,I,$){R=R._reactInternals;var K=vn(),ee=ki(R),oe=ea(K,ee);oe.tag=1,oe.payload=I,$!=null&&(oe.callback=$),Ca(R,oe),I=Or(R,ee,K),I!==null&&No(I,R,ee)},enqueueForceUpdate:function(R,I){R=R._reactInternals;var $=vn(),K=ki(R),ee=ea($,K);ee.tag=2,I!=null&&(ee.callback=I),Ca(R,ee),I=Or(R,K,$),I!==null&&No(I,R,K)}};function Ml(R,I,$,K,ee,oe,Se){return R=R.stateNode,typeof R.shouldComponentUpdate=="function"?R.shouldComponentUpdate(K,oe,Se):I.prototype&&I.prototype.isPureReactComponent?!Wr($,K)||!Wr(ee,oe):!0}function yc(R,I,$){var K=!1,ee=Wt,oe=I.contextType;return typeof oe=="object"&&oe!==null?oe=Ln(oe):(ee=hn(I)?rn:nn.current,K=I.contextTypes,oe=(K=K!=null)?Nt(R,ee):Wt),I=new I($,oe),R.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Bo,R.stateNode=I,I._reactInternals=R,K&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=ee,R.__reactInternalMemoizedMaskedChildContext=oe),I}function vc(R,I,$,K){R=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps($,K),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps($,K),I.state!==R&&Bo.enqueueReplaceState(I,I.state,null)}function Al(R,I,$,K){var ee=R.stateNode;ee.props=$,ee.state=R.memoizedState,ee.refs=gc,ws(R);var oe=I.contextType;typeof oe=="object"&&oe!==null?ee.context=Ln(oe):(oe=hn(I)?rn:nn.current,ee.context=Nt(R,oe)),ee.state=R.memoizedState,oe=I.getDerivedStateFromProps,typeof oe=="function"&&(Tl(R,I,oe,$),ee.state=R.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(I=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),I!==ee.state&&Bo.enqueueReplaceState(ee,ee.state,null),jo(R,$,ee,K),ee.state=R.memoizedState),typeof ee.componentDidMount=="function"&&(R.flags|=4194308)}var Ts=[],Ra=0,Uo=null,$o=0,xi=[],ri=0,Wa=null,ta=1,na="";function Xa(R,I){Ts[Ra++]=$o,Ts[Ra++]=Uo,Uo=R,$o=I}function xc(R,I,$){xi[ri++]=ta,xi[ri++]=na,xi[ri++]=Wa,Wa=R;var K=ta;R=na;var ee=32-fn(K)-1;K&=~(1<<ee),$+=1;var oe=32-fn(I)+ee;if(30<oe){var Se=ee-ee%5;oe=(K&(1<<Se)-1).toString(32),K>>=Se,ee-=Se,ta=1<<32-fn(I)+ee|$<<ee|K,na=oe+R}else ta=1<<oe|$<<ee|K,na=R}function Pl(R){R.return!==null&&(Xa(R,1),xc(R,1,0))}function Cl(R){for(;R===Uo;)Uo=Ts[--Ra],Ts[Ra]=null,$o=Ts[--Ra],Ts[Ra]=null;for(;R===Wa;)Wa=xi[--ri],xi[ri]=null,na=xi[--ri],xi[ri]=null,ta=xi[--ri],xi[ri]=null}var jr=null,br=null,On=!1,Ms=!1,_i=null;function Rl(R,I){var $=ui(5,null,null,0);$.elementType="DELETED",$.stateNode=I,$.return=R,I=R.deletions,I===null?(R.deletions=[$],R.flags|=16):I.push($)}function Il(R,I){switch(R.tag){case 5:return I=mn(I,R.type,R.pendingProps),I!==null?(R.stateNode=I,jr=R,br=lr(I),!0):!1;case 6:return I=wn(I,R.pendingProps),I!==null?(R.stateNode=I,jr=R,br=null,!0):!1;case 13:if(I=Kn(I),I!==null){var $=Wa!==null?{id:ta,overflow:na}:null;return R.memoizedState={dehydrated:I,treeContext:$,retryLane:1073741824},$=ui(18,null,null,0),$.stateNode=I,$.return=R,R.child=$,jr=R,br=null,!0}return!1;default:return!1}}function Vo(R){return(R.mode&1)!==0&&(R.flags&128)===0}function Ia(R){if(On){var I=br;if(I){var $=I;if(!Il(R,I)){if(Vo(R))throw Error(h(418));I=rr($);var K=jr;I&&Il(R,I)?Rl(K,$):(R.flags=R.flags&-4097|2,On=!1,jr=R)}}else{if(Vo(R))throw Error(h(418));R.flags=R.flags&-4097|2,On=!1,jr=R}}}function _c(R){for(R=R.return;R!==null&&R.tag!==5&&R.tag!==3&&R.tag!==13;)R=R.return;jr=R}function Qs(R){if(!tt||R!==jr)return!1;if(!On)return _c(R),On=!0,!1;if(R.tag!==3&&(R.tag!==5||ve(R.type)&&!xe(R.type,R.memoizedProps))){var I=br;if(I){if(Vo(R)){for(R=br;R;)R=rr(R);throw Error(h(418))}for(;I;)Rl(R,I),I=rr(I)}}if(_c(R),R.tag===13){if(!tt)throw Error(h(316));if(R=R.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(h(317));br=za(R)}else br=jr?rr(R.stateNode):null;return!0}function As(){tt&&(br=jr=null,Ms=On=!1)}function zo(R){_i===null?_i=[R]:_i.push(R)}function Ps(R,I,$){if(R=$.ref,R!==null&&typeof R!="function"&&typeof R!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(h(309));var K=$.stateNode}if(!K)throw Error(h(147,R));var ee=K,oe=""+R;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===oe?I.ref:(I=function(Se){var Be=ee.refs;Be===gc&&(Be=ee.refs={}),Se===null?delete Be[oe]:Be[oe]=Se},I._stringRef=oe,I)}if(typeof R!="string")throw Error(h(284));if(!$._owner)throw Error(h(290,R))}return R}function Da(R,I){throw R=Object.prototype.toString.call(I),Error(h(31,R==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":R))}function Cs(R){var I=R._init;return I(R._payload)}function bc(R){function I(Qe,He){if(R){var ot=Qe.deletions;ot===null?(Qe.deletions=[He],Qe.flags|=16):ot.push(He)}}function $(Qe,He){if(!R)return null;for(;He!==null;)I(Qe,He),He=He.sibling;return null}function K(Qe,He){for(Qe=new Map;He!==null;)He.key!==null?Qe.set(He.key,He):Qe.set(He.index,He),He=He.sibling;return Qe}function ee(Qe,He){return Qe=ga(Qe,He),Qe.index=0,Qe.sibling=null,Qe}function oe(Qe,He,ot){return Qe.index=ot,R?(ot=Qe.alternate,ot!==null?(ot=ot.index,ot<He?(Qe.flags|=2,He):ot):(Qe.flags|=2,He)):(Qe.flags|=1048576,He)}function Se(Qe){return R&&Qe.alternate===null&&(Qe.flags|=2),Qe}function Be(Qe,He,ot,It){return He===null||He.tag!==6?(He=gl(ot,Qe.mode,It),He.return=Qe,He):(He=ee(He,ot),He.return=Qe,He)}function lt(Qe,He,ot,It){var qt=ot.type;return qt===m?Ft(Qe,He,ot.props.children,It,ot.key):He!==null&&(He.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===L&&Cs(qt)===He.type)?(It=ee(He,ot.props),It.ref=Ps(Qe,He,ot),It.return=Qe,It):(It=ml(ot.type,ot.key,ot.props,null,Qe.mode,It),It.ref=Ps(Qe,He,ot),It.return=Qe,It)}function wt(Qe,He,ot,It){return He===null||He.tag!==4||He.stateNode.containerInfo!==ot.containerInfo||He.stateNode.implementation!==ot.implementation?(He=yl(ot,Qe.mode,It),He.return=Qe,He):(He=ee(He,ot.children||[]),He.return=Qe,He)}function Ft(Qe,He,ot,It,qt){return He===null||He.tag!==7?(He=ys(ot,Qe.mode,It,qt),He.return=Qe,He):(He=ee(He,ot),He.return=Qe,He)}function en(Qe,He,ot){if(typeof He=="string"&&He!==""||typeof He=="number")return He=gl(""+He,Qe.mode,ot),He.return=Qe,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case d:return ot=ml(He.type,He.key,He.props,null,Qe.mode,ot),ot.ref=Ps(Qe,null,He),ot.return=Qe,ot;case p:return He=yl(He,Qe.mode,ot),He.return=Qe,He;case L:var It=He._init;return en(Qe,It(He._payload),ot)}if(le(He)||U(He))return He=ys(He,Qe.mode,ot,null),He.return=Qe,He;Da(Qe,He)}return null}function Xt(Qe,He,ot,It){var qt=He!==null?He.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return qt!==null?null:Be(Qe,He,""+ot,It);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:return ot.key===qt?lt(Qe,He,ot,It):null;case p:return ot.key===qt?wt(Qe,He,ot,It):null;case L:return qt=ot._init,Xt(Qe,He,qt(ot._payload),It)}if(le(ot)||U(ot))return qt!==null?null:Ft(Qe,He,ot,It,null);Da(Qe,ot)}return null}function un(Qe,He,ot,It,qt){if(typeof It=="string"&&It!==""||typeof It=="number")return Qe=Qe.get(ot)||null,Be(He,Qe,""+It,qt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case d:return Qe=Qe.get(It.key===null?ot:It.key)||null,lt(He,Qe,It,qt);case p:return Qe=Qe.get(It.key===null?ot:It.key)||null,wt(He,Qe,It,qt);case L:var an=It._init;return un(Qe,He,ot,an(It._payload),qt)}if(le(It)||U(It))return Qe=Qe.get(ot)||null,Ft(He,Qe,It,qt,null);Da(He,It)}return null}function kt(Qe,He,ot,It){for(var qt=null,an=null,tn=He,yn=He=0,er=null;tn!==null&&yn<ot.length;yn++){tn.index>yn?(er=tn,tn=null):er=tn.sibling;var gn=Xt(Qe,tn,ot[yn],It);if(gn===null){tn===null&&(tn=er);break}R&&tn&&gn.alternate===null&&I(Qe,tn),He=oe(gn,He,yn),an===null?qt=gn:an.sibling=gn,an=gn,tn=er}if(yn===ot.length)return $(Qe,tn),On&&Xa(Qe,yn),qt;if(tn===null){for(;yn<ot.length;yn++)tn=en(Qe,ot[yn],It),tn!==null&&(He=oe(tn,He,yn),an===null?qt=tn:an.sibling=tn,an=tn);return On&&Xa(Qe,yn),qt}for(tn=K(Qe,tn);yn<ot.length;yn++)er=un(tn,Qe,yn,ot[yn],It),er!==null&&(R&&er.alternate!==null&&tn.delete(er.key===null?yn:er.key),He=oe(er,He,yn),an===null?qt=er:an.sibling=er,an=er);return R&&tn.forEach(function(ya){return I(Qe,ya)}),On&&Xa(Qe,yn),qt}function Mr(Qe,He,ot,It){var qt=U(ot);if(typeof qt!="function")throw Error(h(150));if(ot=qt.call(ot),ot==null)throw Error(h(151));for(var an=qt=null,tn=He,yn=He=0,er=null,gn=ot.next();tn!==null&&!gn.done;yn++,gn=ot.next()){tn.index>yn?(er=tn,tn=null):er=tn.sibling;var ya=Xt(Qe,tn,gn.value,It);if(ya===null){tn===null&&(tn=er);break}R&&tn&&ya.alternate===null&&I(Qe,tn),He=oe(ya,He,yn),an===null?qt=ya:an.sibling=ya,an=ya,tn=er}if(gn.done)return $(Qe,tn),On&&Xa(Qe,yn),qt;if(tn===null){for(;!gn.done;yn++,gn=ot.next())gn=en(Qe,gn.value,It),gn!==null&&(He=oe(gn,He,yn),an===null?qt=gn:an.sibling=gn,an=gn);return On&&Xa(Qe,yn),qt}for(tn=K(Qe,tn);!gn.done;yn++,gn=ot.next())gn=un(tn,Qe,yn,gn.value,It),gn!==null&&(R&&gn.alternate!==null&&tn.delete(gn.key===null?yn:gn.key),He=oe(gn,He,yn),an===null?qt=gn:an.sibling=gn,an=gn);return R&&tn.forEach(function(lc){return I(Qe,lc)}),On&&Xa(Qe,yn),qt}function hi(Qe,He,ot,It){if(typeof ot=="object"&&ot!==null&&ot.type===m&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:e:{for(var qt=ot.key,an=He;an!==null;){if(an.key===qt){if(qt=ot.type,qt===m){if(an.tag===7){$(Qe,an.sibling),He=ee(an,ot.props.children),He.return=Qe,Qe=He;break e}}else if(an.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===L&&Cs(qt)===an.type){$(Qe,an.sibling),He=ee(an,ot.props),He.ref=Ps(Qe,an,ot),He.return=Qe,Qe=He;break e}$(Qe,an);break}else I(Qe,an);an=an.sibling}ot.type===m?(He=ys(ot.props.children,Qe.mode,It,ot.key),He.return=Qe,Qe=He):(It=ml(ot.type,ot.key,ot.props,null,Qe.mode,It),It.ref=Ps(Qe,He,ot),It.return=Qe,Qe=It)}return Se(Qe);case p:e:{for(an=ot.key;He!==null;){if(He.key===an)if(He.tag===4&&He.stateNode.containerInfo===ot.containerInfo&&He.stateNode.implementation===ot.implementation){$(Qe,He.sibling),He=ee(He,ot.children||[]),He.return=Qe,Qe=He;break e}else{$(Qe,He);break}else I(Qe,He);He=He.sibling}He=yl(ot,Qe.mode,It),He.return=Qe,Qe=He}return Se(Qe);case L:return an=ot._init,hi(Qe,He,an(ot._payload),It)}if(le(ot))return kt(Qe,He,ot,It);if(U(ot))return Mr(Qe,He,ot,It);Da(Qe,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,He!==null&&He.tag===6?($(Qe,He.sibling),He=ee(He,ot),He.return=Qe,Qe=He):($(Qe,He),He=gl(ot,Qe.mode,It),He.return=Qe,Qe=He),Se(Qe)):$(Qe,He)}return hi}var ra=bc(!0),Sc=bc(!1),Rs={},Kr=$t(Rs),Ka=$t(Rs),Ya=$t(Rs);function Pi(R){if(R===Rs)throw Error(h(174));return R}function Go(R,I){Bt(Ya,I),Bt(Ka,R),Bt(Kr,Rs),R=ge(I),bt(Kr),Bt(Kr,R)}function Is(){bt(Kr),bt(Ka),bt(Ya)}function Ec(R){var I=Pi(Ya.current),$=Pi(Kr.current);I=J($,R.type,I),$!==I&&(Bt(Ka,R),Bt(Kr,I))}function Dl(R){Ka.current===R&&(bt(Kr),bt(Ka))}var Nn=$t(0);function qo(R){for(var I=R;I!==null;){if(I.tag===13){var $=I.memoizedState;if($!==null&&($=$.dehydrated,$===null||nr($)||Vn($)))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if((I.flags&128)!==0)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===R)break;for(;I.sibling===null;){if(I.return===null||I.return===R)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var ii=[];function Za(){for(var R=0;R<ii.length;R++){var I=ii[R];Ne?I._workInProgressVersionPrimary=null:I._workInProgressVersionSecondary=null}ii.length=0}var eo=f.ReactCurrentDispatcher,ai=f.ReactCurrentBatchConfig,Ja=0,Fn=null,pr=null,mr=null,Ho=!1,Ui=!1,Qa=0,no=0;function gr(){throw Error(h(321))}function Wo(R,I){if(I===null)return!1;for(var $=0;$<I.length&&$<R.length;$++)if(!ur(R[$],I[$]))return!1;return!0}function Ds(R,I,$,K,ee,oe){if(Ja=oe,Fn=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,eo.current=R===null||R.memoizedState===null?jl:Bl,R=$(K,ee),Ui){oe=0;do{if(Ui=!1,Qa=0,25<=oe)throw Error(h(301));oe+=1,mr=pr=null,I.updateQueue=null,eo.current=Ul,R=$(K,ee)}while(Ui)}if(eo.current=Ns,I=pr!==null&&pr.next!==null,Ja=0,mr=pr=Fn=null,Ho=!1,I)throw Error(h(300));return R}function Oa(){var R=Qa!==0;return Qa=0,R}function Ci(){var R={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Fn.memoizedState=mr=R:mr=mr.next=R,mr}function Ri(){if(pr===null){var R=Fn.alternate;R=R!==null?R.memoizedState:null}else R=pr.next;var I=mr===null?Fn.memoizedState:mr.next;if(I!==null)mr=I,pr=R;else{if(R===null)throw Error(h(310));pr=R,R={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},mr===null?Fn.memoizedState=mr=R:mr=mr.next=R}return mr}function $i(R,I){return typeof I=="function"?I(R):I}function ro(R){var I=Ri(),$=I.queue;if($===null)throw Error(h(311));$.lastRenderedReducer=R;var K=pr,ee=K.baseQueue,oe=$.pending;if(oe!==null){if(ee!==null){var Se=ee.next;ee.next=oe.next,oe.next=Se}K.baseQueue=ee=oe,$.pending=null}if(ee!==null){oe=ee.next,K=K.baseState;var Be=Se=null,lt=null,wt=oe;do{var Ft=wt.lane;if((Ja&Ft)===Ft)lt!==null&&(lt=lt.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),K=wt.hasEagerState?wt.eagerState:R(K,wt.action);else{var en={lane:Ft,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};lt===null?(Be=lt=en,Se=K):lt=lt.next=en,Fn.lanes|=Ft,zi|=Ft}wt=wt.next}while(wt!==null&&wt!==oe);lt===null?Se=K:lt.next=Be,ur(K,I.memoizedState)||(yr=!0),I.memoizedState=K,I.baseState=Se,I.baseQueue=lt,$.lastRenderedState=K}if(R=$.interleaved,R!==null){ee=R;do oe=ee.lane,Fn.lanes|=oe,zi|=oe,ee=ee.next;while(ee!==R)}else ee===null&&($.lanes=0);return[I.memoizedState,$.dispatch]}function io(R){var I=Ri(),$=I.queue;if($===null)throw Error(h(311));$.lastRenderedReducer=R;var K=$.dispatch,ee=$.pending,oe=I.memoizedState;if(ee!==null){$.pending=null;var Se=ee=ee.next;do oe=R(oe,Se.action),Se=Se.next;while(Se!==ee);ur(oe,I.memoizedState)||(yr=!0),I.memoizedState=oe,I.baseQueue===null&&(I.baseState=oe),$.lastRenderedState=oe}return[oe,K]}function Ol(){}function kl(R,I){var $=Fn,K=Ri(),ee=I(),oe=!ur(K.memoizedState,ee);if(oe&&(K.memoizedState=ee,yr=!0),K=K.queue,Os(ia.bind(null,$,K,R),[R]),K.getSnapshot!==I||oe||mr!==null&&mr.memoizedState.tag&1){if($.flags|=2048,so(9,Nl.bind(null,$,K,ee,I),void 0,null),Xn===null)throw Error(h(349));(Ja&30)!==0||Ll($,I,ee)}return ee}function Ll(R,I,$){R.flags|=16384,R={getSnapshot:I,value:$},I=Fn.updateQueue,I===null?(I={lastEffect:null,stores:null},Fn.updateQueue=I,I.stores=[R]):($=I.stores,$===null?I.stores=[R]:$.push(R))}function Nl(R,I,$,K){I.value=$,I.getSnapshot=K,Xo(I)&&Or(R,1,-1)}function ia(R,I,$){return $(function(){Xo(I)&&Or(R,1,-1)})}function Xo(R){var I=R.getSnapshot;R=R.value;try{var $=I();return!ur(R,$)}catch{return!0}}function ao(R){var I=Ci();return typeof R=="function"&&(R=R()),I.memoizedState=I.baseState=R,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},I.queue=R,R=R.dispatch=su.bind(null,Fn,R),[I.memoizedState,R]}function so(R,I,$,K){return R={tag:R,create:I,destroy:$,deps:K,next:null},I=Fn.updateQueue,I===null?(I={lastEffect:null,stores:null},Fn.updateQueue=I,I.lastEffect=R.next=R):($=I.lastEffect,$===null?I.lastEffect=R.next=R:(K=$.next,$.next=R,R.next=K,I.lastEffect=R)),R}function wc(){return Ri().memoizedState}function La(R,I,$,K){var ee=Ci();Fn.flags|=R,ee.memoizedState=so(1|I,$,void 0,K===void 0?null:K)}function Ko(R,I,$,K){var ee=Ri();K=K===void 0?null:K;var oe=void 0;if(pr!==null){var Se=pr.memoizedState;if(oe=Se.destroy,K!==null&&Wo(K,Se.deps)){ee.memoizedState=so(I,$,oe,K);return}}Fn.flags|=R,ee.memoizedState=so(1|I,$,oe,K)}function Yo(R,I){return La(8390656,8,R,I)}function Os(R,I){return Ko(2048,8,R,I)}function Mn(R,I){return Ko(4,2,R,I)}function Zo(R,I){return Ko(4,4,R,I)}function oo(R,I){if(typeof I=="function")return R=R(),I(R),function(){I(null)};if(I!=null)return R=R(),I.current=R,function(){I.current=null}}function ks(R,I,$){return $=$!=null?$.concat([R]):null,Ko(4,4,oo.bind(null,I,R),$)}function Jo(){}function Qo(R,I){var $=Ri();I=I===void 0?null:I;var K=$.memoizedState;return K!==null&&I!==null&&Wo(I,K[1])?K[0]:($.memoizedState=[R,I],R)}function Ls(R,I){var $=Ri();I=I===void 0?null:I;var K=$.memoizedState;return K!==null&&I!==null&&Wo(I,K[1])?K[0]:(R=R(),$.memoizedState=[R,I],R)}function el(R,I){var $=Jt;Jt=$!==0&&4>$?$:4,R(!0);var K=ai.transition;ai.transition={};try{R(!1),I()}finally{Jt=$,ai.transition=K}}function es(){return Ri().memoizedState}function Tc(R,I,$){var K=ki(R);$={lane:K,action:$,hasEagerState:!1,eagerState:null,next:null},Mc(R)?Fl(I,$):(lo(R,I,$),$=vn(),R=Or(R,K,$),R!==null&&co(R,I,K))}function su(R,I,$){var K=ki(R),ee={lane:K,action:$,hasEagerState:!1,eagerState:null,next:null};if(Mc(R))Fl(I,ee);else{lo(R,I,ee);var oe=R.alternate;if(R.lanes===0&&(oe===null||oe.lanes===0)&&(oe=I.lastRenderedReducer,oe!==null))try{var Se=I.lastRenderedState,Be=oe(Se,$);if(ee.hasEagerState=!0,ee.eagerState=Be,ur(Be,Se))return}catch{}finally{}$=vn(),R=Or(R,K,$),R!==null&&co(R,I,K)}}function Mc(R){var I=R.alternate;return R===Fn||I!==null&&I===Fn}function Fl(R,I){Ui=Ho=!0;var $=R.pending;$===null?I.next=I:(I.next=$.next,$.next=I),R.pending=I}function lo(R,I,$){Xn!==null&&(R.mode&1)!==0&&(cn&2)===0?(R=I.interleaved,R===null?($.next=$,Fr===null?Fr=[I]:Fr.push(I)):($.next=R.next,R.next=$),I.interleaved=$):(R=I.pending,R===null?$.next=$:($.next=R.next,R.next=$),I.pending=$)}function co(R,I,$){if(($&4194240)!==0){var K=I.lanes;K&=R.pendingLanes,$|=K,I.lanes=$,_r(R,$)}}var Ns={readContext:Ln,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},jl={readContext:Ln,useCallback:function(R,I){return Ci().memoizedState=[R,I===void 0?null:I],R},useContext:Ln,useEffect:Yo,useImperativeHandle:function(R,I,$){return $=$!=null?$.concat([R]):null,La(4194308,4,oo.bind(null,I,R),$)},useLayoutEffect:function(R,I){return La(4194308,4,R,I)},useInsertionEffect:function(R,I){return La(4,2,R,I)},useMemo:function(R,I){var $=Ci();return I=I===void 0?null:I,R=R(),$.memoizedState=[R,I],R},useReducer:function(R,I,$){var K=Ci();return I=$!==void 0?$(I):I,K.memoizedState=K.baseState=I,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:I},K.queue=R,R=R.dispatch=Tc.bind(null,Fn,R),[K.memoizedState,R]},useRef:function(R){var I=Ci();return R={current:R},I.memoizedState=R},useState:ao,useDebugValue:Jo,useDeferredValue:function(R){var I=ao(R),$=I[0],K=I[1];return Yo(function(){var ee=ai.transition;ai.transition={};try{K(R)}finally{ai.transition=ee}},[R]),$},useTransition:function(){var R=ao(!1),I=R[0];return R=el.bind(null,R[1]),Ci().memoizedState=R,[I,R]},useMutableSource:function(){},useSyncExternalStore:function(R,I,$){var K=Fn,ee=Ci();if(On){if($===void 0)throw Error(h(407));$=$()}else{if($=I(),Xn===null)throw Error(h(349));(Ja&30)!==0||Ll(K,I,$)}ee.memoizedState=$;var oe={value:$,getSnapshot:I};return ee.queue=oe,Yo(ia.bind(null,K,oe,R),[R]),K.flags|=2048,so(9,Nl.bind(null,K,oe,$,I),void 0,null),$},useId:function(){var R=Ci(),I=Xn.identifierPrefix;if(On){var $=na,K=ta;$=(K&~(1<<32-fn(K)-1)).toString(32)+$,I=":"+I+"R"+$,$=Qa++,0<$&&(I+="H"+$.toString(32)),I+=":"}else $=no++,I=":"+I+"r"+$.toString(32)+":";return R.memoizedState=I},unstable_isNewReconciler:!1},Bl={readContext:Ln,useCallback:Qo,useContext:Ln,useEffect:Os,useImperativeHandle:ks,useInsertionEffect:Mn,useLayoutEffect:Zo,useMemo:Ls,useReducer:ro,useRef:wc,useState:function(){return ro($i)},useDebugValue:Jo,useDeferredValue:function(R){var I=ro($i),$=I[0],K=I[1];return Os(function(){var ee=ai.transition;ai.transition={};try{K(R)}finally{ai.transition=ee}},[R]),$},useTransition:function(){var R=ro($i)[0],I=Ri().memoizedState;return[R,I]},useMutableSource:Ol,useSyncExternalStore:kl,useId:es,unstable_isNewReconciler:!1},Ul={readContext:Ln,useCallback:Qo,useContext:Ln,useEffect:Os,useImperativeHandle:ks,useInsertionEffect:Mn,useLayoutEffect:Zo,useMemo:Ls,useReducer:io,useRef:wc,useState:function(){return io($i)},useDebugValue:Jo,useDeferredValue:function(R){var I=io($i),$=I[0],K=I[1];return Os(function(){var ee=ai.transition;ai.transition={};try{K(R)}finally{ai.transition=ee}},[R]),$},useTransition:function(){var R=io($i)[0],I=Ri().memoizedState;return[R,I]},useMutableSource:Ol,useSyncExternalStore:kl,useId:es,unstable_isNewReconciler:!1};function $l(R,I){try{var $="",K=I;do $+=Yi(K),K=K.return;while(K);var ee=$}catch(oe){ee=`
Error generating stack: `+oe.message+`
`+oe.stack}return{value:R,source:I,stack:ee}}function tl(R,I){try{console.error(I.value)}catch($){setTimeout(function(){throw $})}}var ou=typeof WeakMap=="function"?WeakMap:Map;function Ac(R,I,$){$=ea(-1,$),$.tag=3,$.payload={element:null};var K=I.value;return $.callback=function(){Vs||(Vs=!0,Rn=K),tl(R,I)},$}function nl(R,I,$){$=ea(-1,$),$.tag=3;var K=R.type.getDerivedStateFromError;if(typeof K=="function"){var ee=I.value;$.payload=function(){return K(ee)},$.callback=function(){tl(R,I)}}var oe=R.stateNode;return oe!==null&&typeof oe.componentDidCatch=="function"&&($.callback=function(){tl(R,I),typeof K!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var Se=I.stack;this.componentDidCatch(I.value,{componentStack:Se!==null?Se:""})}),$}function aa(R,I,$){var K=R.pingCache;if(K===null){K=R.pingCache=new ou;var ee=new Set;K.set(I,ee)}else ee=K.get(I),ee===void 0&&(ee=new Set,K.set(I,ee));ee.has($)||(ee.add($),R=ac.bind(null,R,I,$),I.then(R,R))}function Vl(R){do{var I;if((I=R.tag===13)&&(I=R.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return R;R=R.return}while(R!==null);return null}function ts(R,I,$,K,ee){return(R.mode&1)===0?(R===I?R.flags|=65536:(R.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(I=ea(-1,1),I.tag=2,Ca($,I))),$.lanes|=1),R):(R.flags|=65536,R.lanes=ee,R)}function sr(R){R.flags|=4}function Fs(R,I){if(R!==null&&R.child===I.child)return!0;if((I.flags&16)!==0)return!1;for(R=I.child;R!==null;){if((R.flags&12854)!==0||(R.subtreeFlags&12854)!==0)return!1;R=R.sibling}return!0}var si,ns,rl,il;if(Oe)si=function(R,I){for(var $=I.child;$!==null;){if($.tag===5||$.tag===6)fe(R,$.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===I)break;for(;$.sibling===null;){if($.return===null||$.return===I)return;$=$.return}$.sibling.return=$.return,$=$.sibling}},ns=function(){},rl=function(R,I,$,K,ee){if(R=R.memoizedProps,R!==K){var oe=I.stateNode,Se=Pi(Kr.current);$=ye(oe,$,R,K,ee,Se),(I.updateQueue=$)&&sr(I)}},il=function(R,I,$,K){$!==K&&sr(I)};else if(Te){si=function(R,I,$,K){for(var ee=I.child;ee!==null;){if(ee.tag===5){var oe=ee.stateNode;$&&K&&(oe=jt(oe,ee.type,ee.memoizedProps,ee)),fe(R,oe)}else if(ee.tag===6)oe=ee.stateNode,$&&K&&(oe=pn(oe,ee.memoizedProps,ee)),fe(R,oe);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)oe=ee.child,oe!==null&&(oe.return=ee),si(R,ee,!0,!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===I)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===I)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};var Na=function(R,I,$,K){for(var ee=I.child;ee!==null;){if(ee.tag===5){var oe=ee.stateNode;$&&K&&(oe=jt(oe,ee.type,ee.memoizedProps,ee)),_t(R,oe)}else if(ee.tag===6)oe=ee.stateNode,$&&K&&(oe=pn(oe,ee.memoizedProps,ee)),_t(R,oe);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)oe=ee.child,oe!==null&&(oe.return=ee),Na(R,ee,!0,!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===I)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===I)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};ns=function(R,I){var $=I.stateNode;if(!Fs(R,I)){R=$.containerInfo;var K=Je(R);Na(K,I,!1,!1),$.pendingChildren=K,sr(I),Ct(R,K)}},rl=function(R,I,$,K,ee){var oe=R.stateNode,Se=R.memoizedProps;if((R=Fs(R,I))&&Se===K)I.stateNode=oe;else{var Be=I.stateNode,lt=Pi(Kr.current),wt=null;Se!==K&&(wt=ye(Be,$,Se,K,ee,lt)),R&&wt===null?I.stateNode=oe:(oe=ut(oe,wt,$,Se,K,I,R,Be),_e(oe,$,K,ee,lt)&&sr(I),I.stateNode=oe,R?sr(I):si(oe,I,!1,!1))}},il=function(R,I,$,K){$!==K?(R=Pi(Ya.current),$=Pi(Kr.current),I.stateNode=Me(K,R,$,I),sr(I)):I.stateNode=R.stateNode}}else ns=function(){},rl=function(){},il=function(){};function sa(R,I){if(!On)switch(R.tailMode){case"hidden":I=R.tail;for(var $=null;I!==null;)I.alternate!==null&&($=I),I=I.sibling;$===null?R.tail=null:$.sibling=null;break;case"collapsed":$=R.tail;for(var K=null;$!==null;)$.alternate!==null&&(K=$),$=$.sibling;K===null?I||R.tail===null?R.tail=null:R.tail.sibling=null:K.sibling=null}}function Wn(R){var I=R.alternate!==null&&R.alternate.child===R.child,$=0,K=0;if(I)for(var ee=R.child;ee!==null;)$|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags&14680064,K|=ee.flags&14680064,ee.return=R,ee=ee.sibling;else for(ee=R.child;ee!==null;)$|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags,K|=ee.flags,ee.return=R,ee=ee.sibling;return R.subtreeFlags|=K,R.childLanes=$,I}function al(R,I,$){var K=I.pendingProps;switch(Cl(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(I),null;case 1:return hn(I.type)&&Zt(),Wn(I),null;case 3:return K=I.stateNode,Is(),bt(sn),bt(nn),Za(),K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(R===null||R.child===null)&&(Qs(I)?sr(I):R===null||R.memoizedState.isDehydrated&&(I.flags&256)===0||(I.flags|=1024,_i!==null&&(Eo(_i),_i=null))),ns(R,I),Wn(I),null;case 5:Dl(I),$=Pi(Ya.current);var ee=I.type;if(R!==null&&I.stateNode!=null)rl(R,I,ee,K,$),R.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!K){if(I.stateNode===null)throw Error(h(166));return Wn(I),null}if(R=Pi(Kr.current),Qs(I)){if(!tt)throw Error(h(175));R=Va(I.stateNode,I.type,I.memoizedProps,$,R,I,!Ms),I.updateQueue=R,R!==null&&sr(I)}else{var oe=te(ee,K,$,R,I);si(oe,I,!1,!1),I.stateNode=oe,_e(oe,ee,K,$,R)&&sr(I)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return Wn(I),null;case 6:if(R&&I.stateNode!=null)il(R,I,R.memoizedProps,K);else{if(typeof K!="string"&&I.stateNode===null)throw Error(h(166));if(R=Pi(Ya.current),$=Pi(Kr.current),Qs(I)){if(!tt)throw Error(h(176));if(R=I.stateNode,K=I.memoizedProps,($=Hr(R,K,I,!Ms))&&(ee=jr,ee!==null))switch(oe=(ee.mode&1)!==0,ee.tag){case 3:Ge(ee.stateNode.containerInfo,R,K,oe);break;case 5:rt(ee.type,ee.memoizedProps,ee.stateNode,R,K,oe)}$&&sr(I)}else I.stateNode=Me(K,R,$,I)}return Wn(I),null;case 13:if(bt(Nn),K=I.memoizedState,On&&br!==null&&(I.mode&1)!==0&&(I.flags&128)===0){for(R=br;R;)R=rr(R);return As(),I.flags|=98560,I}if(K!==null&&K.dehydrated!==null){if(K=Qs(I),R===null){if(!K)throw Error(h(318));if(!tt)throw Error(h(344));if(R=I.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(h(317));_s(R,I)}else As(),(I.flags&128)===0&&(I.memoizedState=null),I.flags|=4;return Wn(I),null}return _i!==null&&(Eo(_i),_i=null),(I.flags&128)!==0?(I.lanes=$,I):(K=K!==null,$=!1,R===null?Qs(I):$=R.memoizedState!==null,K&&!$&&(I.child.flags|=8192,(I.mode&1)!==0&&(R===null||(Nn.current&1)!==0?Un===0&&(Un=3):fl())),I.updateQueue!==null&&(I.flags|=4),Wn(I),null);case 4:return Is(),ns(R,I),R===null&&Xe(I.stateNode.containerInfo),Wn(I),null;case 10:return Jn(I.type._context),Wn(I),null;case 17:return hn(I.type)&&Zt(),Wn(I),null;case 19:if(bt(Nn),ee=I.memoizedState,ee===null)return Wn(I),null;if(K=(I.flags&128)!==0,oe=ee.rendering,oe===null)if(K)sa(ee,!1);else{if(Un!==0||R!==null&&(R.flags&128)!==0)for(R=I.child;R!==null;){if(oe=qo(R),oe!==null){for(I.flags|=128,sa(ee,!1),R=oe.updateQueue,R!==null&&(I.updateQueue=R,I.flags|=4),I.subtreeFlags=0,R=$,K=I.child;K!==null;)$=K,ee=R,$.flags&=14680066,oe=$.alternate,oe===null?($.childLanes=0,$.lanes=ee,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=oe.childLanes,$.lanes=oe.lanes,$.child=oe.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=oe.memoizedProps,$.memoizedState=oe.memoizedState,$.updateQueue=oe.updateQueue,$.type=oe.type,ee=oe.dependencies,$.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext}),K=K.sibling;return Bt(Nn,Nn.current&1|2),I.child}R=R.sibling}ee.tail!==null&&Dn()>Ba&&(I.flags|=128,K=!0,sa(ee,!1),I.lanes=4194304)}else{if(!K)if(R=qo(oe),R!==null){if(I.flags|=128,K=!0,R=R.updateQueue,R!==null&&(I.updateQueue=R,I.flags|=4),sa(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!oe.alternate&&!On)return Wn(I),null}else 2*Dn()-ee.renderingStartTime>Ba&&$!==1073741824&&(I.flags|=128,K=!0,sa(ee,!1),I.lanes=4194304);ee.isBackwards?(oe.sibling=I.child,I.child=oe):(R=ee.last,R!==null?R.sibling=oe:I.child=oe,ee.last=oe)}return ee.tail!==null?(I=ee.tail,ee.rendering=I,ee.tail=I.sibling,ee.renderingStartTime=Dn(),I.sibling=null,R=Nn.current,Bt(Nn,K?R&1|2:R&1),I):(Wn(I),null);case 22:case 23:return wo(),K=I.memoizedState!==null,R!==null&&R.memoizedState!==null!==K&&(I.flags|=8192),K&&(I.mode&1)!==0?(Dr&1073741824)!==0&&(Wn(I),Oe&&I.subtreeFlags&6&&(I.flags|=8192)):Wn(I),null;case 24:return null;case 25:return null}throw Error(h(156,I.tag))}var zl=f.ReactCurrentOwner,yr=!1;function Bn(R,I,$,K){I.child=R===null?Sc(I,null,$,K):ra(I,R.child,$,K)}function An(R,I,$,K,ee){$=$.render;var oe=I.ref;return Hn(I,ee),K=Ds(R,I,$,K,oe,ee),$=Oa(),R!==null&&!yr?(I.updateQueue=R.updateQueue,I.flags&=-2053,R.lanes&=~ee,Yr(R,I,ee)):(On&&$&&Pl(I),I.flags|=1,Bn(R,I,K,ee),I.child)}function En(R,I,$,K,ee){if(R===null){var oe=$.type;return typeof oe=="function"&&!pl(oe)&&oe.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(I.tag=15,I.type=oe,oa(R,I,oe,K,ee)):(R=ml($.type,null,K,I,I.mode,ee),R.ref=I.ref,R.return=I,I.child=R)}if(oe=R.child,(R.lanes&ee)===0){var Se=oe.memoizedProps;if($=$.compare,$=$!==null?$:Wr,$(Se,K)&&R.ref===I.ref)return Yr(R,I,ee)}return I.flags|=1,R=ga(oe,K),R.ref=I.ref,R.return=I,I.child=R}function oa(R,I,$,K,ee){if(R!==null&&Wr(R.memoizedProps,K)&&R.ref===I.ref)if(yr=!1,(R.lanes&ee)!==0)(R.flags&131072)!==0&&(yr=!0);else return I.lanes=R.lanes,Yr(R,I,ee);return la(R,I,$,K,ee)}function Sr(R,I,$){var K=I.pendingProps,ee=K.children,oe=R!==null?R.memoizedState:null;if(K.mode==="hidden")if((I.mode&1)===0)I.memoizedState={baseLanes:0,cachePool:null},Bt(fs,Dr),Dr|=$;else if(($&1073741824)!==0)I.memoizedState={baseLanes:0,cachePool:null},K=oe!==null?oe.baseLanes:$,Bt(fs,Dr),Dr|=K;else return R=oe!==null?oe.baseLanes|$:$,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:R,cachePool:null},I.updateQueue=null,Bt(fs,Dr),Dr|=R,null;else oe!==null?(K=oe.baseLanes|$,I.memoizedState=null):K=$,Bt(fs,Dr),Dr|=K;return Bn(R,I,ee,$),I.child}function Br(R,I){var $=I.ref;(R===null&&$!==null||R!==null&&R.ref!==$)&&(I.flags|=512,I.flags|=2097152)}function la(R,I,$,K,ee){var oe=hn($)?rn:nn.current;return oe=Nt(I,oe),Hn(I,ee),$=Ds(R,I,$,K,oe,ee),K=Oa(),R!==null&&!yr?(I.updateQueue=R.updateQueue,I.flags&=-2053,R.lanes&=~ee,Yr(R,I,ee)):(On&&K&&Pl(I),I.flags|=1,Bn(R,I,$,ee),I.child)}function rs(R,I,$,K,ee){if(hn($)){var oe=!0;jn(I)}else oe=!1;if(Hn(I,ee),I.stateNode===null)R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),yc(I,$,K),Al(I,$,K,ee),K=!0;else if(R===null){var Se=I.stateNode,Be=I.memoizedProps;Se.props=Be;var lt=Se.context,wt=$.contextType;typeof wt=="object"&&wt!==null?wt=Ln(wt):(wt=hn($)?rn:nn.current,wt=Nt(I,wt));var Ft=$.getDerivedStateFromProps,en=typeof Ft=="function"||typeof Se.getSnapshotBeforeUpdate=="function";en||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Be!==K||lt!==wt)&&vc(I,Se,K,wt),vi=!1;var Xt=I.memoizedState;Se.state=Xt,jo(I,K,Se,ee),lt=I.memoizedState,Be!==K||Xt!==lt||sn.current||vi?(typeof Ft=="function"&&(Tl(I,$,Ft,K),lt=I.memoizedState),(Be=vi||Ml(I,$,Be,K,Xt,lt,wt))?(en||typeof Se.UNSAFE_componentWillMount!="function"&&typeof Se.componentWillMount!="function"||(typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount()),typeof Se.componentDidMount=="function"&&(I.flags|=4194308)):(typeof Se.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=K,I.memoizedState=lt),Se.props=K,Se.state=lt,Se.context=wt,K=Be):(typeof Se.componentDidMount=="function"&&(I.flags|=4194308),K=!1)}else{Se=I.stateNode,wl(R,I),Be=I.memoizedProps,wt=I.type===I.elementType?Be:fr(I.type,Be),Se.props=wt,en=I.pendingProps,Xt=Se.context,lt=$.contextType,typeof lt=="object"&&lt!==null?lt=Ln(lt):(lt=hn($)?rn:nn.current,lt=Nt(I,lt));var un=$.getDerivedStateFromProps;(Ft=typeof un=="function"||typeof Se.getSnapshotBeforeUpdate=="function")||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Be!==en||Xt!==lt)&&vc(I,Se,K,lt),vi=!1,Xt=I.memoizedState,Se.state=Xt,jo(I,K,Se,ee);var kt=I.memoizedState;Be!==en||Xt!==kt||sn.current||vi?(typeof un=="function"&&(Tl(I,$,un,K),kt=I.memoizedState),(wt=vi||Ml(I,$,wt,K,Xt,kt,lt)||!1)?(Ft||typeof Se.UNSAFE_componentWillUpdate!="function"&&typeof Se.componentWillUpdate!="function"||(typeof Se.componentWillUpdate=="function"&&Se.componentWillUpdate(K,kt,lt),typeof Se.UNSAFE_componentWillUpdate=="function"&&Se.UNSAFE_componentWillUpdate(K,kt,lt)),typeof Se.componentDidUpdate=="function"&&(I.flags|=4),typeof Se.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof Se.componentDidUpdate!="function"||Be===R.memoizedProps&&Xt===R.memoizedState||(I.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Be===R.memoizedProps&&Xt===R.memoizedState||(I.flags|=1024),I.memoizedProps=K,I.memoizedState=kt),Se.props=K,Se.state=kt,Se.context=lt,K=wt):(typeof Se.componentDidUpdate!="function"||Be===R.memoizedProps&&Xt===R.memoizedState||(I.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Be===R.memoizedProps&&Xt===R.memoizedState||(I.flags|=1024),K=!1)}return Ir(R,I,$,K,oe,ee)}function Ir(R,I,$,K,ee,oe){Br(R,I);var Se=(I.flags&128)!==0;if(!K&&!Se)return ee&&Gn(I,$,!1),Yr(R,I,oe);K=I.stateNode,zl.current=I;var Be=Se&&typeof $.getDerivedStateFromError!="function"?null:K.render();return I.flags|=1,R!==null&&Se?(I.child=ra(I,R.child,null,oe),I.child=ra(I,null,Be,oe)):Bn(R,I,Be,oe),I.memoizedState=K.state,ee&&Gn(I,$,!0),I.child}function uo(R){var I=R.stateNode;I.pendingContext?zn(R,I.pendingContext,I.pendingContext!==I.context):I.context&&zn(R,I.context,!1),Go(R,I.containerInfo)}function Gl(R,I,$,K,ee){return As(),zo(ee),I.flags|=256,Bn(R,I,$,K),I.child}var ho={dehydrated:null,treeContext:null,retryLane:0};function as(R){return{baseLanes:R,cachePool:null}}function ql(R,I,$){var K=I.pendingProps,ee=Nn.current,oe=!1,Se=(I.flags&128)!==0,Be;if((Be=Se)||(Be=R!==null&&R.memoizedState===null?!1:(ee&2)!==0),Be?(oe=!0,I.flags&=-129):(R===null||R.memoizedState!==null)&&(ee|=1),Bt(Nn,ee&1),R===null)return Ia(I),R=I.memoizedState,R!==null&&(R=R.dehydrated,R!==null)?((I.mode&1)===0?I.lanes=1:Vn(R)?I.lanes=8:I.lanes=1073741824,null):(ee=K.children,R=K.fallback,oe?(K=I.mode,oe=I.child,ee={mode:"hidden",children:ee},(K&1)===0&&oe!==null?(oe.childLanes=0,oe.pendingProps=ee):oe=Ao(ee,K,0,null),R=ys(R,K,$,null),oe.return=I,R.return=I,oe.sibling=R,I.child=oe,I.child.memoizedState=as($),I.memoizedState=ho,R):Ii(I,ee));if(ee=R.memoizedState,ee!==null){if(Be=ee.dehydrated,Be!==null){if(Se)return I.flags&256?(I.flags&=-257,po(R,I,$,Error(h(422)))):I.memoizedState!==null?(I.child=R.child,I.flags|=128,null):(oe=K.fallback,ee=I.mode,K=Ao({mode:"visible",children:K.children},ee,0,null),oe=ys(oe,ee,$,null),oe.flags|=2,K.return=I,oe.return=I,K.sibling=oe,I.child=K,(I.mode&1)!==0&&ra(I,R.child,null,$),I.child.memoizedState=as($),I.memoizedState=ho,oe);if((I.mode&1)===0)I=po(R,I,$,null);else if(Vn(Be))I=po(R,I,$,Error(h(419)));else if(K=($&R.childLanes)!==0,yr||K){if(K=Xn,K!==null){switch($&-$){case 4:oe=2;break;case 16:oe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oe=32;break;case 536870912:oe=268435456;break;default:oe=0}K=(oe&(K.suspendedLanes|$))!==0?0:oe,K!==0&&K!==ee.retryLane&&(ee.retryLane=K,Or(R,K,-1))}fl(),I=po(R,I,$,Error(h(421)))}else nr(Be)?(I.flags|=128,I.child=R.child,I=Dc.bind(null,R),Pr(Be,I),I=null):($=ee.treeContext,tt&&(br=qr(Be),jr=I,On=!0,_i=null,Ms=!1,$!==null&&(xi[ri++]=ta,xi[ri++]=na,xi[ri++]=Wa,ta=$.id,na=$.overflow,Wa=I)),I=Ii(I,I.pendingProps.children),I.flags|=4096);return I}return oe?(K=sl(R,I,K.children,K.fallback,$),oe=I.child,ee=R.child.memoizedState,oe.memoizedState=ee===null?as($):{baseLanes:ee.baseLanes|$,cachePool:null},oe.childLanes=R.childLanes&~$,I.memoizedState=ho,K):($=fo(R,I,K.children,$),I.memoizedState=null,$)}return oe?(K=sl(R,I,K.children,K.fallback,$),oe=I.child,ee=R.child.memoizedState,oe.memoizedState=ee===null?as($):{baseLanes:ee.baseLanes|$,cachePool:null},oe.childLanes=R.childLanes&~$,I.memoizedState=ho,K):($=fo(R,I,K.children,$),I.memoizedState=null,$)}function Ii(R,I){return I=Ao({mode:"visible",children:I},R.mode,0,null),I.return=R,R.child=I}function fo(R,I,$,K){var ee=R.child;return R=ee.sibling,$=ga(ee,{mode:"visible",children:$}),(I.mode&1)===0&&($.lanes=K),$.return=I,$.sibling=null,R!==null&&(K=I.deletions,K===null?(I.deletions=[R],I.flags|=16):K.push(R)),I.child=$}function sl(R,I,$,K,ee){var oe=I.mode;R=R.child;var Se=R.sibling,Be={mode:"hidden",children:$};return(oe&1)===0&&I.child!==R?($=I.child,$.childLanes=0,$.pendingProps=Be,I.deletions=null):($=ga(R,Be),$.subtreeFlags=R.subtreeFlags&14680064),Se!==null?K=ga(Se,K):(K=ys(K,oe,ee,null),K.flags|=2),K.return=I,$.return=I,$.sibling=K,I.child=$,K}function po(R,I,$,K){return K!==null&&zo(K),ra(I,R.child,null,$),R=Ii(I,I.pendingProps.children),R.flags|=2,I.memoizedState=null,R}function Pc(R,I,$){R.lanes|=I;var K=R.alternate;K!==null&&(K.lanes|=I),ar(R.return,I,$)}function Vi(R,I,$,K,ee){var oe=R.memoizedState;oe===null?R.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:K,tail:$,tailMode:ee}:(oe.isBackwards=I,oe.rendering=null,oe.renderingStartTime=0,oe.last=K,oe.tail=$,oe.tailMode=ee)}function ss(R,I,$){var K=I.pendingProps,ee=K.revealOrder,oe=K.tail;if(Bn(R,I,K.children,$),K=Nn.current,(K&2)!==0)K=K&1|2,I.flags|=128;else{if(R!==null&&(R.flags&128)!==0)e:for(R=I.child;R!==null;){if(R.tag===13)R.memoizedState!==null&&Pc(R,$,I);else if(R.tag===19)Pc(R,$,I);else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===I)break e;for(;R.sibling===null;){if(R.return===null||R.return===I)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}K&=1}if(Bt(Nn,K),(I.mode&1)===0)I.memoizedState=null;else switch(ee){case"forwards":for($=I.child,ee=null;$!==null;)R=$.alternate,R!==null&&qo(R)===null&&(ee=$),$=$.sibling;$=ee,$===null?(ee=I.child,I.child=null):(ee=$.sibling,$.sibling=null),Vi(I,!1,ee,$,oe);break;case"backwards":for($=null,ee=I.child,I.child=null;ee!==null;){if(R=ee.alternate,R!==null&&qo(R)===null){I.child=ee;break}R=ee.sibling,ee.sibling=$,$=ee,ee=R}Vi(I,!0,$,null,oe);break;case"together":Vi(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function Yr(R,I,$){if(R!==null&&(I.dependencies=R.dependencies),zi|=I.lanes,($&I.childLanes)===0)return null;if(R!==null&&I.child!==R.child)throw Error(h(153));if(I.child!==null){for(R=I.child,$=ga(R,R.pendingProps),I.child=$,$.return=I;R.sibling!==null;)R=R.sibling,$=$.sibling=ga(R,R.pendingProps),$.return=I;$.sibling=null}return I.child}function ol(R,I,$){switch(I.tag){case 3:uo(I),As();break;case 5:Ec(I);break;case 1:hn(I.type)&&jn(I);break;case 4:Go(I,I.stateNode.containerInfo);break;case 10:Qi(I,I.type._context,I.memoizedProps.value);break;case 13:var K=I.memoizedState;if(K!==null)return K.dehydrated!==null?(Bt(Nn,Nn.current&1),I.flags|=128,null):($&I.child.childLanes)!==0?ql(R,I,$):(Bt(Nn,Nn.current&1),R=Yr(R,I,$),R!==null?R.sibling:null);Bt(Nn,Nn.current&1);break;case 19:if(K=($&I.childLanes)!==0,(R.flags&128)!==0){if(K)return ss(R,I,$);I.flags|=128}var ee=I.memoizedState;if(ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),Bt(Nn,Nn.current),K)break;return null;case 22:case 23:return I.lanes=0,Sr(R,I,$)}return Yr(R,I,$)}function ll(R,I){switch(Cl(I),I.tag){case 1:return hn(I.type)&&Zt(),R=I.flags,R&65536?(I.flags=R&-65537|128,I):null;case 3:return Is(),bt(sn),bt(nn),Za(),R=I.flags,(R&65536)!==0&&(R&128)===0?(I.flags=R&-65537|128,I):null;case 5:return Dl(I),null;case 13:if(bt(Nn),R=I.memoizedState,R!==null&&R.dehydrated!==null){if(I.alternate===null)throw Error(h(340));As()}return R=I.flags,R&65536?(I.flags=R&-65537|128,I):null;case 19:return bt(Nn),null;case 4:return Is(),null;case 10:return Jn(I.type._context),null;case 22:case 23:return wo(),null;case 24:return null;default:return null}}var Ur=!1,vr=!1,os=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function bi(R,I){var $=R.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(K){Vr(R,I,K)}else $.current=null}function ca(R,I,$){try{$()}catch(K){Vr(R,I,K)}}var Hl=!1;function Wl(R,I){for(se(R.containerInfo),Pt=I;Pt!==null;)if(R=Pt,I=R.child,(R.subtreeFlags&1028)!==0&&I!==null)I.return=R,Pt=I;else for(;Pt!==null;){R=Pt;try{var $=R.alternate;if((R.flags&1024)!==0)switch(R.tag){case 0:case 11:case 15:break;case 1:if($!==null){var K=$.memoizedProps,ee=$.memoizedState,oe=R.stateNode,Se=oe.getSnapshotBeforeUpdate(R.elementType===R.type?K:fr(R.type,K),ee);oe.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:Oe&&Tt(R.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(Be){Vr(R,R.return,Be)}if(I=R.sibling,I!==null){I.return=R.return,Pt=I;break}Pt=R.return}return $=Hl,Hl=!1,$}function ua(R,I,$){var K=I.updateQueue;if(K=K!==null?K.lastEffect:null,K!==null){var ee=K=K.next;do{if((ee.tag&R)===R){var oe=ee.destroy;ee.destroy=void 0,oe!==void 0&&ca(I,$,oe)}ee=ee.next}while(ee!==K)}}function Er(R,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var $=I=I.next;do{if(($.tag&R)===R){var K=$.create;$.destroy=K()}$=$.next}while($!==I)}}function $r(R){var I=R.ref;if(I!==null){var $=R.stateNode;switch(R.tag){case 5:R=he($);break;default:R=$}typeof I=="function"?I(R):I.current=R}}function Cn(R,I,$){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Ta,I)}catch{}switch(I.tag){case 0:case 11:case 14:case 15:if(R=I.updateQueue,R!==null&&(R=R.lastEffect,R!==null)){var K=R=R.next;do{var ee=K,oe=ee.destroy;ee=ee.tag,oe!==void 0&&((ee&2)!==0||(ee&4)!==0)&&ca(I,$,oe),K=K.next}while(K!==R)}break;case 1:if(bi(I,$),R=I.stateNode,typeof R.componentWillUnmount=="function")try{R.props=I.memoizedProps,R.state=I.memoizedState,R.componentWillUnmount()}catch(Se){Vr(I,$,Se)}break;case 5:bi(I,$);break;case 4:Oe?Yl(R,I,$):Te&&Te&&(I=I.stateNode.containerInfo,$=Je(I),Rt(I,$))}}function Si(R,I,$){for(var K=I;;)if(Cn(R,K,$),K.child===null||Oe&&K.tag===4){if(K===I)break;for(;K.sibling===null;){if(K.return===null||K.return===I)return;K=K.return}K.sibling.return=K.return,K=K.sibling}else K.child.return=K,K=K.child}function Xl(R){var I=R.alternate;I!==null&&(R.alternate=null,Xl(I)),R.child=null,R.deletions=null,R.sibling=null,R.tag===5&&(I=R.stateNode,I!==null&&Ye(I)),R.stateNode=null,R.return=null,R.dependencies=null,R.memoizedProps=null,R.memoizedState=null,R.pendingProps=null,R.stateNode=null,R.updateQueue=null}function Kl(R){return R.tag===5||R.tag===3||R.tag===4}function cl(R){e:for(;;){for(;R.sibling===null;){if(R.return===null||Kl(R.return))return null;R=R.return}for(R.sibling.return=R.return,R=R.sibling;R.tag!==5&&R.tag!==6&&R.tag!==18;){if(R.flags&2||R.child===null||R.tag===4)continue e;R.child.return=R,R=R.child}if(!(R.flags&2))return R.stateNode}}function ul(R){if(Oe){e:{for(var I=R.return;I!==null;){if(Kl(I))break e;I=I.return}throw Error(h(160))}var $=I;switch($.tag){case 5:I=$.stateNode,$.flags&32&&(Ve(I),$.flags&=-33),$=cl(R),js(R,$,I);break;case 3:case 4:I=$.stateNode.containerInfo,$=cl(R),hl(R,$,I);break;default:throw Error(h(161))}}}function hl(R,I,$){var K=R.tag;if(K===5||K===6)R=R.stateNode,I?dt($,R,I):ft($,R);else if(K!==4&&(R=R.child,R!==null))for(hl(R,I,$),R=R.sibling;R!==null;)hl(R,I,$),R=R.sibling}function js(R,I,$){var K=R.tag;if(K===5||K===6)R=R.stateNode,I?nt($,R,I):je($,R);else if(K!==4&&(R=R.child,R!==null))for(js(R,I,$),R=R.sibling;R!==null;)js(R,I,$),R=R.sibling}function Yl(R,I,$){for(var K=I,ee=!1,oe,Se;;){if(!ee){ee=K.return;e:for(;;){if(ee===null)throw Error(h(160));switch(oe=ee.stateNode,ee.tag){case 5:Se=!1;break e;case 3:oe=oe.containerInfo,Se=!0;break e;case 4:oe=oe.containerInfo,Se=!0;break e}ee=ee.return}ee=!0}if(K.tag===5||K.tag===6)Si(R,K,$),Se?Ee(oe,K.stateNode):pt(oe,K.stateNode);else if(K.tag===18)Se?Ga(oe,K.stateNode):bs(oe,K.stateNode);else if(K.tag===4){if(K.child!==null){oe=K.stateNode.containerInfo,Se=!0,K.child.return=K,K=K.child;continue}}else if(Cn(R,K,$),K.child!==null){K.child.return=K,K=K.child;continue}if(K===I)break;for(;K.sibling===null;){if(K.return===null||K.return===I)return;K=K.return,K.tag===4&&(ee=!1)}K.sibling.return=K.return,K=K.sibling}}function Fa(R,I){if(Oe){switch(I.tag){case 0:case 11:case 14:case 15:ua(3,I,I.return),Er(3,I),ua(5,I,I.return);return;case 1:return;case 5:var $=I.stateNode;if($!=null){var K=I.memoizedProps;R=R!==null?R.memoizedProps:K;var ee=I.type,oe=I.updateQueue;I.updateQueue=null,oe!==null&&Et($,oe,ee,R,K,I)}return;case 6:if(I.stateNode===null)throw Error(h(162));$=I.memoizedProps,ht(I.stateNode,R!==null?R.memoizedProps:$,$);return;case 3:tt&&R!==null&&R.memoizedState.isDehydrated&&Xi(I.stateNode.containerInfo);return;case 12:return;case 13:Bs(I);return;case 19:Bs(I);return;case 17:return}throw Error(h(163))}switch(I.tag){case 0:case 11:case 14:case 15:ua(3,I,I.return),Er(3,I),ua(5,I,I.return);return;case 12:return;case 13:Bs(I);return;case 19:Bs(I);return;case 3:tt&&R!==null&&R.memoizedState.isDehydrated&&Xi(I.stateNode.containerInfo);break;case 22:case 23:return}e:if(Te){switch(I.tag){case 1:case 5:case 6:break e;case 3:case 4:I=I.stateNode,Rt(I.containerInfo,I.pendingChildren);break e}throw Error(h(163))}}function Bs(R){var I=R.updateQueue;if(I!==null){R.updateQueue=null;var $=R.stateNode;$===null&&($=R.stateNode=new os),I.forEach(function(K){var ee=Oc.bind(null,R,K);$.has(K)||($.add(K),K.then(ee,ee))})}}function lu(R,I){for(Pt=I;Pt!==null;){I=Pt;var $=I.deletions;if($!==null)for(var K=0;K<$.length;K++){var ee=$[K];try{var oe=R;Oe?Yl(oe,ee,I):Si(oe,ee,I);var Se=ee.alternate;Se!==null&&(Se.return=null),ee.return=null}catch(qt){Vr(ee,I,qt)}}if($=I.child,(I.subtreeFlags&12854)!==0&&$!==null)$.return=I,Pt=$;else for(;Pt!==null;){I=Pt;try{var Be=I.flags;if(Be&32&&Oe&&Ve(I.stateNode),Be&512){var lt=I.alternate;if(lt!==null){var wt=lt.ref;wt!==null&&(typeof wt=="function"?wt(null):wt.current=null)}}if(Be&8192)switch(I.tag){case 13:if(I.memoizedState!==null){var Ft=I.alternate;(Ft===null||Ft.memoizedState===null)&&(bo=Dn())}break;case 22:var en=I.memoizedState!==null,Xt=I.alternate,un=Xt!==null&&Xt.memoizedState!==null;if($=I,Oe){e:if(K=$,ee=en,oe=null,Oe)for(var kt=K;;){if(kt.tag===5){if(oe===null){oe=kt;var Mr=kt.stateNode;ee?mt(Mr):at(kt.stateNode,kt.memoizedProps)}}else if(kt.tag===6){if(oe===null){var hi=kt.stateNode;ee?we(hi):st(hi,kt.memoizedProps)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===K)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===K)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===K)break e;oe===kt&&(oe=null),kt=kt.return}oe===kt&&(oe=null),kt.sibling.return=kt.return,kt=kt.sibling}}if(en&&!un&&($.mode&1)!==0){Pt=$;for(var Qe=$.child;Qe!==null;){for($=Pt=Qe;Pt!==null;){K=Pt;var He=K.child;switch(K.tag){case 0:case 11:case 14:case 15:ua(4,K,K.return);break;case 1:bi(K,K.return);var ot=K.stateNode;if(typeof ot.componentWillUnmount=="function"){var It=K.return;try{ot.props=K.memoizedProps,ot.state=K.memoizedState,ot.componentWillUnmount()}catch(qt){Vr(K,It,qt)}}break;case 5:bi(K,K.return);break;case 22:if(K.memoizedState!==null){Jl($);continue}}He!==null?(He.return=K,Pt=He):Jl($)}Qe=Qe.sibling}}}switch(Be&4102){case 2:ul(I),I.flags&=-3;break;case 6:ul(I),I.flags&=-3,Fa(I.alternate,I);break;case 4096:I.flags&=-4097;break;case 4100:I.flags&=-4097,Fa(I.alternate,I);break;case 4:Fa(I.alternate,I)}}catch(qt){Vr(I,I.return,qt)}if($=I.sibling,$!==null){$.return=I.return,Pt=$;break}Pt=I.return}}}function mo(R,I,$){Pt=R,go(R)}function go(R,I,$){for(var K=(R.mode&1)!==0;Pt!==null;){var ee=Pt,oe=ee.child;if(ee.tag===22&&K){var Se=ee.memoizedState!==null||Ur;if(!Se){var Be=ee.alternate,lt=Be!==null&&Be.memoizedState!==null||vr;Be=Ur;var wt=vr;if(Ur=Se,(vr=lt)&&!wt)for(Pt=ee;Pt!==null;)Se=Pt,lt=Se.child,Se.tag===22&&Se.memoizedState!==null?ls(ee):lt!==null?(lt.return=Se,Pt=lt):ls(ee);for(;oe!==null;)Pt=oe,go(oe),oe=oe.sibling;Pt=ee,Ur=Be,vr=wt}Zl(R)}else(ee.subtreeFlags&8772)!==0&&oe!==null?(oe.return=ee,Pt=oe):Zl(R)}}function Zl(R){for(;Pt!==null;){var I=Pt;if((I.flags&8772)!==0){var $=I.alternate;try{if((I.flags&8772)!==0)switch(I.tag){case 0:case 11:case 15:vr||Er(5,I);break;case 1:var K=I.stateNode;if(I.flags&4&&!vr)if($===null)K.componentDidMount();else{var ee=I.elementType===I.type?$.memoizedProps:fr(I.type,$.memoizedProps);K.componentDidUpdate(ee,$.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var oe=I.updateQueue;oe!==null&&mc(I,oe,K);break;case 3:var Se=I.updateQueue;if(Se!==null){if($=null,I.child!==null)switch(I.child.tag){case 5:$=he(I.child.stateNode);break;case 1:$=I.child.stateNode}mc(I,Se,$)}break;case 5:var Be=I.stateNode;$===null&&I.flags&4&&gt(Be,I.type,I.memoizedProps,I);break;case 6:break;case 4:break;case 12:break;case 13:if(tt&&I.memoizedState===null){var lt=I.alternate;if(lt!==null){var wt=lt.memoizedState;if(wt!==null){var Ft=wt.dehydrated;Ft!==null&&Sa(Ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(h(163))}vr||I.flags&512&&$r(I)}catch(en){Vr(I,I.return,en)}}if(I===R){Pt=null;break}if($=I.sibling,$!==null){$.return=I.return,Pt=$;break}Pt=I.return}}function Jl(R){for(;Pt!==null;){var I=Pt;if(I===R){Pt=null;break}var $=I.sibling;if($!==null){$.return=I.return,Pt=$;break}Pt=I.return}}function ls(R){for(;Pt!==null;){var I=Pt;try{switch(I.tag){case 0:case 11:case 15:var $=I.return;try{Er(4,I)}catch(lt){Vr(I,$,lt)}break;case 1:var K=I.stateNode;if(typeof K.componentDidMount=="function"){var ee=I.return;try{K.componentDidMount()}catch(lt){Vr(I,ee,lt)}}var oe=I.return;try{$r(I)}catch(lt){Vr(I,oe,lt)}break;case 5:var Se=I.return;try{$r(I)}catch(lt){Vr(I,Se,lt)}}}catch(lt){Vr(I,I.return,lt)}if(I===R){Pt=null;break}var Be=I.sibling;if(Be!==null){Be.return=I.return,Pt=Be;break}Pt=I.return}}var yo=0,cs=1,us=2,ha=3,Us=4;if(typeof Symbol=="function"&&Symbol.for){var hs=Symbol.for;yo=hs("selector.component"),cs=hs("selector.has_pseudo_class"),us=hs("selector.role"),ha=hs("selector.test_id"),Us=hs("selector.text")}function vo(R){var I=de(R);if(I!=null){if(typeof I.memoizedProps["data-testname"]!="string")throw Error(h(364));return I}if(R=ke(R),R===null)throw Error(h(362));return R.stateNode.current}function xo(R,I){switch(I.$$typeof){case yo:if(R.type===I.value)return!0;break;case cs:e:{I=I.value,R=[R,0];for(var $=0;$<R.length;){var K=R[$++],ee=R[$++],oe=I[ee];if(K.tag!==5||!ue(K)){for(;oe!=null&&xo(K,oe);)ee++,oe=I[ee];if(ee===I.length){I=!0;break e}else for(K=K.child;K!==null;)R.push(K,ee),K=K.sibling}}I=!1}return I;case us:if(R.tag===5&&Ae(R.stateNode,I.value))return!0;break;case Us:if((R.tag===5||R.tag===6)&&(R=me(R),R!==null&&0<=R.indexOf(I.value)))return!0;break;case ha:if(R.tag===5&&(R=R.memoizedProps["data-testname"],typeof R=="string"&&R.toLowerCase()===I.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}function ja(R){switch(R.$$typeof){case yo:return"<"+(V(R.value)||"Unknown")+">";case cs:return":has("+(ja(R)||"")+")";case us:return'[role="'+R.value+'"]';case Us:return'"'+R.value+'"';case ha:return'[data-testname="'+R.value+'"]';default:throw Error(h(365))}}function oi(R,I){var $=[];R=[R,0];for(var K=0;K<R.length;){var ee=R[K++],oe=R[K++],Se=I[oe];if(ee.tag!==5||!ue(ee)){for(;Se!=null&&xo(ee,Se);)oe++,Se=I[oe];if(oe===I.length)$.push(ee);else for(ee=ee.child;ee!==null;)R.push(ee,oe),ee=ee.sibling}}return $}function fa(R,I){if(!Ue)throw Error(h(363));R=vo(R),R=oi(R,I),I=[],R=Array.from(R);for(var $=0;$<R.length;){var K=R[$++];if(K.tag===5)ue(K)||I.push(K.stateNode);else for(K=K.child;K!==null;)R.push(K),K=K.sibling}return I}var Ql=Math.ceil,_o=f.ReactCurrentDispatcher,Di=f.ReactCurrentOwner,bn=f.ReactCurrentBatchConfig,cn=0,Xn=null,Sn=null,kn=0,Dr=0,fs=$t(0),Un=0,$s=null,zi=0,li=0,ds=0,da=null,Qn=null,bo=0,Ba=1/0;function ps(){Ba=Dn()+500}var Vs=!1,Rn=null,Oi=null,zs=!1,Gi=null,ms=0,gs=0,pa=null,Pn=-1,$n=0;function vn(){return(cn&6)!==0?Dn():Pn!==-1?Pn:Pn=Dn()}function ki(R){return(R.mode&1)===0?1:(cn&2)!==0&&kn!==0?kn&-kn:Pa.transition!==null?($n===0&&(R=Tn,Tn<<=1,(Tn&4194240)===0&&(Tn=64),$n=R),$n):(R=Jt,R!==0?R:qe())}function Or(R,I,$){if(50<gs)throw gs=0,pa=null,Error(h(185));var K=Ua(R,I);return K===null?null:(di(K,I,$),((cn&2)===0||K!==Xn)&&(K===Xn&&((cn&2)===0&&(li|=I),Un===4&&Tr(K,kn)),Zr(K,$),I===1&&cn===0&&(R.mode&1)===0&&(ps(),Bi&&Rr())),K)}function Ua(R,I){R.lanes|=I;var $=R.alternate;for($!==null&&($.lanes|=I),$=R,R=R.return;R!==null;)R.childLanes|=I,$=R.alternate,$!==null&&($.childLanes|=I),$=R,R=R.return;return $.tag===3?$.stateNode:null}function Zr(R,I){var $=R.callbackNode;Es(R,I);var K=Ea(R,R===Xn?kn:0);if(K===0)$!==null&&ji($),R.callbackNode=null,R.callbackPriority=0;else if(I=K&-K,R.callbackPriority!==I){if($!=null&&ji($),I===1)R.tag===0?Aa(ci.bind(null,R)):Ha(ci.bind(null,R)),Ie?et(function(){cn===0&&Rr()}):ti(Ai,Rr),$=null;else{switch(mi(K)){case 1:$=Ai;break;case 4:$=Lo;break;case 16:$=Cr;break;case 536870912:$=wa;break;default:$=Cr}$=dl($,wr.bind(null,R))}R.callbackPriority=I,R.callbackNode=$}}function wr(R,I){if(Pn=-1,$n=0,(cn&6)!==0)throw Error(h(327));var $=R.callbackNode;if(qi()&&R.callbackNode!==$)return null;var K=Ea(R,R===Xn?kn:0);if(K===0)return null;if((K&30)!==0||(K&R.expiredLanes)!==0||I)I=To(R,K);else{I=K;var ee=cn;cn|=2;var oe=nc();(Xn!==R||kn!==I)&&(ps(),ma(R,I));do try{Rc();break}catch(Be){tc(R,Be)}while(!0);dr(),_o.current=oe,cn=ee,Sn!==null?I=0:(Xn=null,kn=0,I=Un)}if(I!==0){if(I===2&&(ee=Fi(R),ee!==0&&(K=ee,I=So(R,ee))),I===1)throw $=$s,ma(R,0),Tr(R,K),Zr(R,Dn()),$;if(I===6)Tr(R,K);else{if(ee=R.current.alternate,(K&30)===0&&!ec(ee)&&(I=To(R,K),I===2&&(oe=Fi(R),oe!==0&&(K=oe,I=So(R,oe))),I===1))throw $=$s,ma(R,0),Tr(R,K),Zr(R,Dn()),$;switch(R.finishedWork=ee,R.finishedLanes=K,I){case 0:case 1:throw Error(h(345));case 2:Li(R,Qn);break;case 3:if(Tr(R,K),(K&130023424)===K&&(I=bo+500-Dn(),10<I)){if(Ea(R,0)!==0)break;if(ee=R.suspendedLanes,(ee&K)!==K){vn(),R.pingedLanes|=R.suspendedLanes&ee;break}R.timeoutHandle=be(Li.bind(null,R,Qn),I);break}Li(R,Qn);break;case 4:if(Tr(R,K),(K&4194240)===K)break;for(I=R.eventTimes,ee=-1;0<K;){var Se=31-fn(K);oe=1<<Se,Se=I[Se],Se>ee&&(ee=Se),K&=~oe}if(K=ee,K=Dn()-K,K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3e3>K?3e3:4320>K?4320:1960*Ql(K/1960))-K,10<K){R.timeoutHandle=be(Li.bind(null,R,Qn),K);break}Li(R,Qn);break;case 5:Li(R,Qn);break;default:throw Error(h(329))}}}return Zr(R,Dn()),R.callbackNode===$?wr.bind(null,R):null}function So(R,I){var $=da;return R.current.memoizedState.isDehydrated&&(ma(R,I).flags|=256),R=To(R,I),R!==2&&(I=Qn,Qn=$,I!==null&&Eo(I)),R}function Eo(R){Qn===null?Qn=R:Qn.push.apply(Qn,R)}function ec(R){for(var I=R;;){if(I.flags&16384){var $=I.updateQueue;if($!==null&&($=$.stores,$!==null))for(var K=0;K<$.length;K++){var ee=$[K],oe=ee.getSnapshot;ee=ee.value;try{if(!ur(oe(),ee))return!1}catch{return!1}}}if($=I.child,I.subtreeFlags&16384&&$!==null)$.return=I,I=$;else{if(I===R)break;for(;I.sibling===null;){if(I.return===null||I.return===R)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function Tr(R,I){for(I&=~ds,I&=~li,R.suspendedLanes|=I,R.pingedLanes&=~I,R=R.expirationTimes;0<I;){var $=31-fn(I),K=1<<$;R[$]=-1,I&=~K}}function ci(R){if((cn&6)!==0)throw Error(h(327));qi();var I=Ea(R,0);if((I&1)===0)return Zr(R,Dn()),null;var $=To(R,I);if(R.tag!==0&&$===2){var K=Fi(R);K!==0&&(I=K,$=So(R,K))}if($===1)throw $=$s,ma(R,0),Tr(R,I),Zr(R,Dn()),$;if($===6)throw Error(h(345));return R.finishedWork=R.current.alternate,R.finishedLanes=I,Li(R,Qn),Zr(R,Dn()),null}function Gs(R){Gi!==null&&Gi.tag===0&&(cn&6)===0&&qi();var I=cn;cn|=1;var $=bn.transition,K=Jt;try{if(bn.transition=null,Jt=1,R)return R()}finally{Jt=K,bn.transition=$,cn=I,(cn&6)===0&&Rr()}}function wo(){Dr=fs.current,bt(fs)}function ma(R,I){R.finishedWork=null,R.finishedLanes=0;var $=R.timeoutHandle;if($!==Re&&(R.timeoutHandle=Re,Ce($)),Sn!==null)for($=Sn.return;$!==null;){var K=$;switch(Cl(K),K.tag){case 1:K=K.type.childContextTypes,K!=null&&Zt();break;case 3:Is(),bt(sn),bt(nn),Za();break;case 5:Dl(K);break;case 4:Is();break;case 13:bt(Nn);break;case 19:bt(Nn);break;case 10:Jn(K.type._context);break;case 22:case 23:wo()}$=$.return}if(Xn=R,Sn=R=ga(R.current,null),kn=Dr=I,Un=0,$s=null,ds=li=zi=0,Qn=da=null,Fr!==null){for(I=0;I<Fr.length;I++)if($=Fr[I],K=$.interleaved,K!==null){$.interleaved=null;var ee=K.next,oe=$.pending;if(oe!==null){var Se=oe.next;oe.next=ee,K.next=Se}$.pending=K}Fr=null}return R}function tc(R,I){do{var $=Sn;try{if(dr(),eo.current=Ns,Ho){for(var K=Fn.memoizedState;K!==null;){var ee=K.queue;ee!==null&&(ee.pending=null),K=K.next}Ho=!1}if(Ja=0,mr=pr=Fn=null,Ui=!1,Qa=0,Di.current=null,$===null||$.return===null){Un=1,$s=I,Sn=null;break}e:{var oe=R,Se=$.return,Be=$,lt=I;if(I=kn,Be.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var wt=lt,Ft=Be,en=Ft.tag;if((Ft.mode&1)===0&&(en===0||en===11||en===15)){var Xt=Ft.alternate;Xt?(Ft.updateQueue=Xt.updateQueue,Ft.memoizedState=Xt.memoizedState,Ft.lanes=Xt.lanes):(Ft.updateQueue=null,Ft.memoizedState=null)}var un=Vl(Se);if(un!==null){un.flags&=-257,ts(un,Se,Be,oe,I),un.mode&1&&aa(oe,wt,I),I=un,lt=wt;var kt=I.updateQueue;if(kt===null){var Mr=new Set;Mr.add(lt),I.updateQueue=Mr}else kt.add(lt);break e}else{if((I&1)===0){aa(oe,wt,I),fl();break e}lt=Error(h(426))}}else if(On&&Be.mode&1){var hi=Vl(Se);if(hi!==null){(hi.flags&65536)===0&&(hi.flags|=256),ts(hi,Se,Be,oe,I),zo(lt);break e}}oe=lt,Un!==4&&(Un=2),da===null?da=[oe]:da.push(oe),lt=$l(lt,Be),Be=Se;do{switch(Be.tag){case 3:Be.flags|=65536,I&=-I,Be.lanes|=I;var Qe=Ac(Be,lt,I);Fo(Be,Qe);break e;case 1:oe=lt;var He=Be.type,ot=Be.stateNode;if((Be.flags&128)===0&&(typeof He.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Oi===null||!Oi.has(ot)))){Be.flags|=65536,I&=-I,Be.lanes|=I;var It=nl(Be,oe,I);Fo(Be,It);break e}}Be=Be.return}while(Be!==null)}ic($)}catch(qt){I=qt,Sn===$&&$!==null&&(Sn=$=$.return);continue}break}while(!0)}function nc(){var R=_o.current;return _o.current=Ns,R===null?Ns:R}function fl(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||(zi&268435455)===0&&(li&268435455)===0||Tr(Xn,kn)}function To(R,I){var $=cn;cn|=2;var K=nc();Xn===R&&kn===I||ma(R,I);do try{Cc();break}catch(ee){tc(R,ee)}while(!0);if(dr(),cn=$,_o.current=K,Sn!==null)throw Error(h(261));return Xn=null,kn=0,Un}function Cc(){for(;Sn!==null;)rc(Sn)}function Rc(){for(;Sn!==null&&!gi();)rc(Sn)}function rc(R){var I=oc(R.alternate,R,Dr);R.memoizedProps=R.pendingProps,I===null?ic(R):Sn=I,Di.current=null}function ic(R){var I=R;do{var $=I.alternate;if(R=I.return,(I.flags&32768)===0){if($=al($,I,Dr),$!==null){Sn=$;return}}else{if($=ll($,I),$!==null){$.flags&=32767,Sn=$;return}if(R!==null)R.flags|=32768,R.subtreeFlags=0,R.deletions=null;else{Un=6,Sn=null;return}}if(I=I.sibling,I!==null){Sn=I;return}Sn=I=R}while(I!==null);Un===0&&(Un=5)}function Li(R,I){var $=Jt,K=bn.transition;try{bn.transition=null,Jt=1,Ic(R,I,$)}finally{bn.transition=K,Jt=$}return null}function Ic(R,I,$){do qi();while(Gi!==null);if((cn&6)!==0)throw Error(h(327));var K=R.finishedWork,ee=R.finishedLanes;if(K===null)return null;if(R.finishedWork=null,R.finishedLanes=0,K===R.current)throw Error(h(177));R.callbackNode=null,R.callbackPriority=0;var oe=K.lanes|K.childLanes;if(Mi(R,oe),R===Xn&&(Sn=Xn=null,kn=0),(K.subtreeFlags&2064)===0&&(K.flags&2064)===0||zs||(zs=!0,dl(Cr,function(){return qi(),null})),oe=(K.flags&15990)!==0,(K.subtreeFlags&15990)!==0||oe){oe=bn.transition,bn.transition=null;var Se=Jt;Jt=1;var Be=cn;cn|=4,Di.current=null,Wl(R,K),lu(R,K),ce(R.containerInfo),R.current=K,mo(K),ko(),cn=Be,Jt=Se,bn.transition=oe}else R.current=K;if(zs&&(zs=!1,Gi=R,ms=ee),oe=R.pendingLanes,oe===0&&(Oi=null),Ki(K.stateNode),Zr(R,Dn()),I!==null)for($=R.onRecoverableError,K=0;K<I.length;K++)$(I[K]);if(Vs)throw Vs=!1,R=Rn,Rn=null,R;return(ms&1)!==0&&R.tag!==0&&qi(),oe=R.pendingLanes,(oe&1)!==0?R===pa?gs++:(gs=0,pa=R):gs=0,Rr(),null}function qi(){if(Gi!==null){var R=mi(ms),I=bn.transition,$=Jt;try{if(bn.transition=null,Jt=16>R?16:R,Gi===null)var K=!1;else{if(R=Gi,Gi=null,ms=0,(cn&6)!==0)throw Error(h(331));var ee=cn;for(cn|=4,Pt=R.current;Pt!==null;){var oe=Pt,Se=oe.child;if((Pt.flags&16)!==0){var Be=oe.deletions;if(Be!==null){for(var lt=0;lt<Be.length;lt++){var wt=Be[lt];for(Pt=wt;Pt!==null;){var Ft=Pt;switch(Ft.tag){case 0:case 11:case 15:ua(8,Ft,oe)}var en=Ft.child;if(en!==null)en.return=Ft,Pt=en;else for(;Pt!==null;){Ft=Pt;var Xt=Ft.sibling,un=Ft.return;if(Xl(Ft),Ft===wt){Pt=null;break}if(Xt!==null){Xt.return=un,Pt=Xt;break}Pt=un}}}var kt=oe.alternate;if(kt!==null){var Mr=kt.child;if(Mr!==null){kt.child=null;do{var hi=Mr.sibling;Mr.sibling=null,Mr=hi}while(Mr!==null)}}Pt=oe}}if((oe.subtreeFlags&2064)!==0&&Se!==null)Se.return=oe,Pt=Se;else e:for(;Pt!==null;){if(oe=Pt,(oe.flags&2048)!==0)switch(oe.tag){case 0:case 11:case 15:ua(9,oe,oe.return)}var Qe=oe.sibling;if(Qe!==null){Qe.return=oe.return,Pt=Qe;break e}Pt=oe.return}}var He=R.current;for(Pt=He;Pt!==null;){Se=Pt;var ot=Se.child;if((Se.subtreeFlags&2064)!==0&&ot!==null)ot.return=Se,Pt=ot;else e:for(Se=He;Pt!==null;){if(Be=Pt,(Be.flags&2048)!==0)try{switch(Be.tag){case 0:case 11:case 15:Er(9,Be)}}catch(qt){Vr(Be,Be.return,qt)}if(Be===Se){Pt=null;break e}var It=Be.sibling;if(It!==null){It.return=Be.return,Pt=It;break e}Pt=Be.return}}if(cn=ee,Rr(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Ta,R)}catch{}K=!0}return K}finally{Jt=$,bn.transition=I}}return!1}function Mo(R,I,$){I=$l($,I),I=Ac(R,I,1),Ca(R,I),I=vn(),R=Ua(R,1),R!==null&&(di(R,1,I),Zr(R,I))}function Vr(R,I,$){if(R.tag===3)Mo(R,R,$);else for(;I!==null;){if(I.tag===3){Mo(I,R,$);break}else if(I.tag===1){var K=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(Oi===null||!Oi.has(K))){R=$l($,R),R=nl(I,R,1),Ca(I,R),R=vn(),I=Ua(I,1),I!==null&&(di(I,1,R),Zr(I,R));break}}I=I.return}}function ac(R,I,$){var K=R.pingCache;K!==null&&K.delete(I),I=vn(),R.pingedLanes|=R.suspendedLanes&$,Xn===R&&(kn&$)===$&&(Un===4||Un===3&&(kn&130023424)===kn&&500>Dn()-bo?ma(R,0):ds|=$),Zr(R,I)}function sc(R,I){I===0&&((R.mode&1)===0?I=1:(I=on,on<<=1,(on&130023424)===0&&(on=4194304)));var $=vn();R=Ua(R,I),R!==null&&(di(R,I,$),Zr(R,$))}function Dc(R){var I=R.memoizedState,$=0;I!==null&&($=I.retryLane),sc(R,$)}function Oc(R,I){var $=0;switch(R.tag){case 13:var K=R.stateNode,ee=R.memoizedState;ee!==null&&($=ee.retryLane);break;case 19:K=R.stateNode;break;default:throw Error(h(314))}K!==null&&K.delete(I),sc(R,$)}var oc;oc=function(R,I,$){if(R!==null)if(R.memoizedProps!==I.pendingProps||sn.current)yr=!0;else{if((R.lanes&$)===0&&(I.flags&128)===0)return yr=!1,ol(R,I,$);yr=(R.flags&131072)!==0}else yr=!1,On&&(I.flags&1048576)!==0&&xc(I,$o,I.index);switch(I.lanes=0,I.tag){case 2:var K=I.type;R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),R=I.pendingProps;var ee=Nt(I,nn.current);Hn(I,$),ee=Ds(null,I,K,R,ee,$);var oe=Oa();return I.flags|=1,typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,hn(K)?(oe=!0,jn(I)):oe=!1,I.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,ws(I),ee.updater=Bo,I.stateNode=ee,ee._reactInternals=I,Al(I,K,R,$),I=Ir(null,I,K,!0,oe,$)):(I.tag=0,On&&oe&&Pl(I),Bn(null,I,ee,$),I=I.child),I;case 16:K=I.elementType;e:{switch(R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),R=I.pendingProps,ee=K._init,K=ee(K._payload),I.type=K,ee=I.tag=cu(K),R=fr(K,R),ee){case 0:I=la(null,I,K,R,$);break e;case 1:I=rs(null,I,K,R,$);break e;case 11:I=An(null,I,K,R,$);break e;case 14:I=En(null,I,K,fr(K.type,R),$);break e}throw Error(h(306,K,""))}return I;case 0:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:fr(K,ee),la(R,I,K,ee,$);case 1:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:fr(K,ee),rs(R,I,K,ee,$);case 3:e:{if(uo(I),R===null)throw Error(h(387));K=I.pendingProps,oe=I.memoizedState,ee=oe.element,wl(R,I),jo(I,K,null,$);var Se=I.memoizedState;if(K=Se.element,tt&&oe.isDehydrated)if(oe={element:K,isDehydrated:!1,cache:Se.cache,transitions:Se.transitions},I.updateQueue.baseState=oe,I.memoizedState=oe,I.flags&256){ee=Error(h(423)),I=Gl(R,I,K,$,ee);break e}else if(K!==ee){ee=Error(h(424)),I=Gl(R,I,K,$,ee);break e}else for(tt&&(br=Yn(I.stateNode.containerInfo),jr=I,On=!0,_i=null,Ms=!1),$=Sc(I,null,K,$),I.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(As(),K===ee){I=Yr(R,I,$);break e}Bn(R,I,K,$)}I=I.child}return I;case 5:return Ec(I),R===null&&Ia(I),K=I.type,ee=I.pendingProps,oe=R!==null?R.memoizedProps:null,Se=ee.children,xe(K,ee)?Se=null:oe!==null&&xe(K,oe)&&(I.flags|=32),Br(R,I),Bn(R,I,Se,$),I.child;case 6:return R===null&&Ia(I),null;case 13:return ql(R,I,$);case 4:return Go(I,I.stateNode.containerInfo),K=I.pendingProps,R===null?I.child=ra(I,null,K,$):Bn(R,I,K,$),I.child;case 11:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:fr(K,ee),An(R,I,K,ee,$);case 7:return Bn(R,I,I.pendingProps,$),I.child;case 8:return Bn(R,I,I.pendingProps.children,$),I.child;case 12:return Bn(R,I,I.pendingProps.children,$),I.child;case 10:e:{if(K=I.type._context,ee=I.pendingProps,oe=I.memoizedProps,Se=ee.value,Qi(I,K,Se),oe!==null)if(ur(oe.value,Se)){if(oe.children===ee.children&&!sn.current){I=Yr(R,I,$);break e}}else for(oe=I.child,oe!==null&&(oe.return=I);oe!==null;){var Be=oe.dependencies;if(Be!==null){Se=oe.child;for(var lt=Be.firstContext;lt!==null;){if(lt.context===K){if(oe.tag===1){lt=ea(-1,$&-$),lt.tag=2;var wt=oe.updateQueue;if(wt!==null){wt=wt.shared;var Ft=wt.pending;Ft===null?lt.next=lt:(lt.next=Ft.next,Ft.next=lt),wt.pending=lt}}oe.lanes|=$,lt=oe.alternate,lt!==null&&(lt.lanes|=$),ar(oe.return,$,I),Be.lanes|=$;break}lt=lt.next}}else if(oe.tag===10)Se=oe.type===I.type?null:oe.child;else if(oe.tag===18){if(Se=oe.return,Se===null)throw Error(h(341));Se.lanes|=$,Be=Se.alternate,Be!==null&&(Be.lanes|=$),ar(Se,$,I),Se=oe.sibling}else Se=oe.child;if(Se!==null)Se.return=oe;else for(Se=oe;Se!==null;){if(Se===I){Se=null;break}if(oe=Se.sibling,oe!==null){oe.return=Se.return,Se=oe;break}Se=Se.return}oe=Se}Bn(R,I,ee.children,$),I=I.child}return I;case 9:return ee=I.type,K=I.pendingProps.children,Hn(I,$),ee=Ln(ee),K=K(ee),I.flags|=1,Bn(R,I,K,$),I.child;case 14:return K=I.type,ee=fr(K,I.pendingProps),ee=fr(K.type,ee),En(R,I,K,ee,$);case 15:return oa(R,I,I.type,I.pendingProps,$);case 17:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:fr(K,ee),R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),I.tag=1,hn(K)?(R=!0,jn(I)):R=!1,Hn(I,$),yc(I,K,ee),Al(I,K,ee,$),Ir(null,I,K,!0,R,$);case 19:return ss(R,I,$);case 22:return Sr(R,I,$)}throw Error(h(156,I.tag))};function dl(R,I){return ti(R,I)}function kc(R,I,$,K){this.tag=R,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(R,I,$,K){return new kc(R,I,$,K)}function pl(R){return R=R.prototype,!(!R||!R.isReactComponent)}function cu(R){if(typeof R=="function")return pl(R)?1:0;if(R!=null){if(R=R.$$typeof,R===A)return 11;if(R===O)return 14}return 2}function ga(R,I){var $=R.alternate;return $===null?($=ui(R.tag,I,R.key,R.mode),$.elementType=R.elementType,$.type=R.type,$.stateNode=R.stateNode,$.alternate=R,R.alternate=$):($.pendingProps=I,$.type=R.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=R.flags&14680064,$.childLanes=R.childLanes,$.lanes=R.lanes,$.child=R.child,$.memoizedProps=R.memoizedProps,$.memoizedState=R.memoizedState,$.updateQueue=R.updateQueue,I=R.dependencies,$.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},$.sibling=R.sibling,$.index=R.index,$.ref=R.ref,$}function ml(R,I,$,K,ee,oe){var Se=2;if(K=R,typeof R=="function")pl(R)&&(Se=1);else if(typeof R=="string")Se=5;else e:switch(R){case m:return ys($.children,ee,oe,I);case v:Se=8,ee|=8;break;case _:return R=ui(12,$,I,ee|2),R.elementType=_,R.lanes=oe,R;case w:return R=ui(13,$,I,ee),R.elementType=w,R.lanes=oe,R;case C:return R=ui(19,$,I,ee),R.elementType=C,R.lanes=oe,R;case F:return Ao($,ee,oe,I);default:if(typeof R=="object"&&R!==null)switch(R.$$typeof){case S:Se=10;break e;case T:Se=9;break e;case A:Se=11;break e;case O:Se=14;break e;case L:Se=16,K=null;break e}throw Error(h(130,R==null?R:typeof R,""))}return I=ui(Se,$,I,ee),I.elementType=R,I.type=K,I.lanes=oe,I}function ys(R,I,$,K){return R=ui(7,R,K,I),R.lanes=$,R}function Ao(R,I,$,K){return R=ui(22,R,K,I),R.elementType=F,R.lanes=$,R.stateNode={},R}function gl(R,I,$){return R=ui(6,R,null,I),R.lanes=$,R}function yl(R,I,$){return I=ui(4,R.children!==null?R.children:[],R.key,I),I.lanes=$,I.stateNode={containerInfo:R.containerInfo,pendingChildren:null,implementation:R.implementation},I}function vl(R,I,$,K,ee){this.tag=I,this.containerInfo=R,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qa(0),this.expirationTimes=qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.identifierPrefix=K,this.onRecoverableError=ee,tt&&(this.mutableSourceEagerHydrationData=null)}function Lc(R,I,$,K,ee,oe,Se,Be,lt){return R=new vl(R,I,$,Be,lt),I===1?(I=1,oe===!0&&(I|=8)):I=0,oe=ui(3,null,null,I),R.current=oe,oe.stateNode=R,oe.memoizedState={element:K,isDehydrated:$,cache:null,transitions:null},ws(oe),R}function Nc(R){if(!R)return Wt;R=R._reactInternals;e:{if(H(R)!==R||R.tag!==1)throw Error(h(170));var I=R;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(hn(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(h(171))}if(R.tag===1){var $=R.type;if(hn($))return ei(R,$,I)}return I}function Fc(R){var I=R._reactInternals;if(I===void 0)throw typeof R.render=="function"?Error(h(188)):(R=Object.keys(R).join(","),Error(h(268,R)));return R=Q(I),R===null?null:R.stateNode}function Ei(R,I){if(R=R.memoizedState,R!==null&&R.dehydrated!==null){var $=R.retryLane;R.retryLane=$!==0&&$<I?$:I}}function Po(R,I){Ei(R,I),(R=R.alternate)&&Ei(R,I)}function xl(R){return R=Q(R),R===null?null:R.stateNode}function jc(){return null}return n.attemptContinuousHydration=function(R){if(R.tag===13){var I=vn();Or(R,134217728,I),Po(R,134217728)}},n.attemptHydrationAtCurrentPriority=function(R){if(R.tag===13){var I=vn(),$=ki(R);Or(R,$,I),Po(R,$)}},n.attemptSynchronousHydration=function(R){switch(R.tag){case 3:var I=R.stateNode;if(I.current.memoizedState.isDehydrated){var $=cr(I.pendingLanes);$!==0&&(_r(I,$|1),Zr(I,Dn()),(cn&6)===0&&(ps(),Rr()))}break;case 13:var K=vn();Gs(function(){return Or(R,1,K)}),Po(R,1)}},n.batchedUpdates=function(R,I){var $=cn;cn|=1;try{return R(I)}finally{cn=$,cn===0&&(ps(),Bi&&Rr())}},n.createComponentSelector=function(R){return{$$typeof:yo,value:R}},n.createContainer=function(R,I,$,K,ee,oe,Se){return Lc(R,I,!1,null,$,K,ee,oe,Se)},n.createHasPseudoClassSelector=function(R){return{$$typeof:cs,value:R}},n.createHydrationContainer=function(R,I,$,K,ee,oe,Se,Be,lt){return R=Lc($,K,!0,R,ee,oe,Se,Be,lt),R.context=Nc(null),$=R.current,K=vn(),ee=ki($),oe=ea(K,ee),oe.callback=I??null,Ca($,oe),R.current.lanes=ee,di(R,ee,K),Zr(R,K),R},n.createPortal=function(R,I,$){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:K==null?null:""+K,children:R,containerInfo:I,implementation:$}},n.createRoleSelector=function(R){return{$$typeof:us,value:R}},n.createTestNameSelector=function(R){return{$$typeof:ha,value:R}},n.createTextSelector=function(R){return{$$typeof:Us,value:R}},n.deferredUpdates=function(R){var I=Jt,$=bn.transition;try{return bn.transition=null,Jt=16,R()}finally{Jt=I,bn.transition=$}},n.discreteUpdates=function(R,I,$,K,ee){var oe=Jt,Se=bn.transition;try{return bn.transition=null,Jt=1,R(I,$,K,ee)}finally{Jt=oe,bn.transition=Se,cn===0&&ps()}},n.findAllNodes=fa,n.findBoundingRects=function(R,I){if(!Ue)throw Error(h(363));I=fa(R,I),R=[];for(var $=0;$<I.length;$++)R.push(ct(I[$]));for(I=R.length-1;0<I;I--){$=R[I];for(var K=$.x,ee=K+$.width,oe=$.y,Se=oe+$.height,Be=I-1;0<=Be;Be--)if(I!==Be){var lt=R[Be],wt=lt.x,Ft=wt+lt.width,en=lt.y,Xt=en+lt.height;if(K>=wt&&oe>=en&&ee<=Ft&&Se<=Xt){R.splice(I,1);break}else if(K!==wt||$.width!==lt.width||Xt<oe||en>Se){if(!(oe!==en||$.height!==lt.height||Ft<K||wt>ee)){wt>K&&(lt.width+=wt-K,lt.x=K),Ft<ee&&(lt.width=ee-wt),R.splice(I,1);break}}else{en>oe&&(lt.height+=en-oe,lt.y=oe),Xt<Se&&(lt.height=Se-en),R.splice(I,1);break}}}return R},n.findHostInstance=Fc,n.findHostInstanceWithNoPortals=function(R){return R=Y(R),R=R!==null?ae(R):null,R===null?null:R.stateNode},n.findHostInstanceWithWarning=function(R){return Fc(R)},n.flushControlled=function(R){var I=cn;cn|=1;var $=bn.transition,K=Jt;try{bn.transition=null,Jt=1,R()}finally{Jt=K,bn.transition=$,cn=I,cn===0&&(ps(),Rr())}},n.flushPassiveEffects=qi,n.flushSync=Gs,n.focusWithin=function(R,I){if(!Ue)throw Error(h(363));for(R=vo(R),I=oi(R,I),I=Array.from(I),R=0;R<I.length;){var $=I[R++];if(!ue($)){if($.tag===5&&We($.stateNode))return!0;for($=$.child;$!==null;)I.push($),$=$.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Jt},n.getFindAllNodesFailureDescription=function(R,I){if(!Ue)throw Error(h(363));var $=0,K=[];R=[vo(R),0];for(var ee=0;ee<R.length;){var oe=R[ee++],Se=R[ee++],Be=I[Se];if((oe.tag!==5||!ue(oe))&&(xo(oe,Be)&&(K.push(ja(Be)),Se++,Se>$&&($=Se)),Se<I.length))for(oe=oe.child;oe!==null;)R.push(oe,Se),oe=oe.sibling}if($<I.length){for(R=[];$<I.length;$++)R.push(ja(I[$]));return`findAllNodes was able to match part of the selector:
  `+(K.join(" > ")+`

No matching component was found for:
  `)+R.join(" > ")}return null},n.getPublicRootInstance=function(R){if(R=R.current,!R.child)return null;switch(R.child.tag){case 5:return he(R.child.stateNode);default:return R.child.stateNode}},n.injectIntoDevTools=function(R){if(R={bundleType:R.bundleType,version:R.version,rendererPackageName:R.rendererPackageName,rendererConfig:R.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:xl,findFiberByHostInstance:R.findFiberByHostInstance||jc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")R=!1;else{var I=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(I.isDisabled||!I.supportsFiber)R=!0;else{try{Ta=I.inject(R),ni=I}catch{}R=!!I.checkDCE}}return R},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(R,I,$,K){if(!Ue)throw Error(h(363));R=fa(R,I);var ee=$e(R,$,K).disconnect;return{disconnect:function(){ee()}}},n.registerMutableSourceForHydration=function(R,I){var $=I._getVersion;$=$(I._source),R.mutableSourceEagerHydrationData==null?R.mutableSourceEagerHydrationData=[I,$]:R.mutableSourceEagerHydrationData.push(I,$)},n.runWithPriority=function(R,I){var $=Jt;try{return Jt=R,I()}finally{Jt=$}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(R,I,$,K){var ee=I.current,oe=vn(),Se=ki(ee);return $=Nc($),I.context===null?I.context=$:I.pendingContext=$,I=ea(oe,Se),I.payload={element:R},K=K===void 0?null:K,K!==null&&(I.callback=K),Ca(ee,I),R=Or(ee,Se,oe),R!==null&&No(R,ee,Se),Se},n}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports=requireScheduler();const catalogue={},extend$1=t=>void Object.assign(catalogue,t);function createRenderer(t,e){function n(m,{args:v=[],attach:_,...S},T){let A=`${m[0].toUpperCase()}${m.slice(1)}`,w;if(m==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=S.object;w=prepare(C,{type:m,root:T,attach:_,primitive:!0})}else{const C=catalogue[A];if(!C)throw new Error(`R3F: ${A} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");w=prepare(new C(...v),{type:m,root:T,attach:_,memoizedProps:{args:v}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),A!=="inject"&&applyProps$1(w,S),w}function o(m,v){let _=!1;if(v){var S,T;(S=v.__r3f)!=null&&S.attach?attach(m,v,v.__r3f.attach):v.isObject3D&&m.isObject3D&&(m.add(v),_=!0),_||(T=m.__r3f)==null||T.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function l(m,v,_){let S=!1;if(v){var T,A;if((T=v.__r3f)!=null&&T.attach)attach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){v.parent=m,v.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:v});const w=m.children.filter(O=>O!==v),C=w.indexOf(_);m.children=[...w.slice(0,C),v,...w.slice(C)],S=!0}S||(A=m.__r3f)==null||A.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function u(m,v,_=!1){m&&[...m].forEach(S=>h(v,S,_))}function h(m,v,_){if(v){var S,T,A;if(v.__r3f&&(v.__r3f.parent=null),(S=m.__r3f)!=null&&S.objects&&(m.__r3f.objects=m.__r3f.objects.filter(F=>F!==v)),(T=v.__r3f)!=null&&T.attach)detach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){var w;m.remove(v),(w=v.__r3f)!=null&&w.root&&removeInteractivity(findInitialRoot(v),v)}const O=(A=v.__r3f)==null?void 0:A.primitive,L=!O&&(_===void 0?v.dispose!==null:_);if(!O){var C;u((C=v.__r3f)==null?void 0:C.objects,v,L),u(v.children,v,L)}if(delete v.__r3f,L&&v.dispose&&v.type!=="Scene"){const F=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,F):F()}invalidateInstance(m)}}function f(m,v,_,S){var T;const A=(T=m.__r3f)==null?void 0:T.parent;if(!A)return;const w=n(v,_,m.__r3f.root);if(m.children){for(const C of m.children)C.__r3f&&o(w,C);m.children=m.children.filter(C=>!C.__r3f)}m.__r3f.objects.forEach(C=>o(w,C)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||h(A,m),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),o(A,w),w.raycast&&w.__r3f.eventCount&&findInitialRoot(w).getState().internal.interaction.push(w),[S,S.alternate].forEach(C=>{C!==null&&(C.stateNode=w,C.ref&&(typeof C.ref=="function"?C.ref(w):C.ref.current=w))})}const d=()=>{};return{reconciler:Reconciler({createInstance:n,removeChild:h,appendChild:o,appendInitialChild:o,insertBefore:l,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,v)=>{if(!v)return;const _=m.getState().scene;_.__r3f&&(_.__r3f.root=m,o(_,v))},removeChildFromContainer:(m,v)=>{v&&h(m.getState().scene,v)},insertInContainerBefore:(m,v,_)=>{if(!v||!_)return;const S=m.getState().scene;S.__r3f&&l(S,v,_)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var v;return!!((v=m==null?void 0:m.__r3f)!=null?v:{}).handlers},prepareUpdate(m,v,_,S){var T;if(((T=m==null?void 0:m.__r3f)!=null?T:{}).primitive&&S.object&&S.object!==m)return[!0];{const{args:w=[],children:C,...O}=S,{args:L=[],children:F,...B}=_;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((V,q)=>V!==L[q]))return[!0];const U=diffProps(m,O,B,!0);return U.changes.length?[!1,U]:null}},commitUpdate(m,[v,_],S,T,A,w){v?f(m,S,A,w):applyProps$1(m,_)},commitMount(m,v,_,S){var T;const A=(T=m.__r3f)!=null?T:{};m.raycast&&A.handlers&&A.eventCount&&findInitialRoot(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>prepare(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var v;const{attach:_,parent:S}=(v=m.__r3f)!=null?v:{};_&&S&&detach(S,m,_),m.isObject3D&&(m.visible=!1),invalidateInstance(m)},unhideInstance(m,v){var _;const{attach:S,parent:T}=(_=m.__r3f)!=null?_:{};S&&T&&attach(T,m,S),(m.isObject3D&&v.visible==null||v.visible)&&(m.visible=!0),invalidateInstance(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=t=>"colorSpace"in t||"outputColorSpace"in t,getColorManagement=()=>{var t;return(t=catalogue.ColorManagement)!=null?t:null},isOrthographicCamera=t=>t&&t.isOrthographicCamera,isRef=t=>t&&t.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(t){const e=reactExports.useRef(t);return useIsomorphicLayoutEffect(()=>void(e.current=t),[t]),e}function Block({set:t}){return useIsomorphicLayoutEffect(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=t=>t&&!!t.memoized&&!!t.changes;function calculateDpr(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const getRootState=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function findInitialRoot(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const is={obj:t=>t===Object(t)&&!is.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:o="reference",strict:l=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(is.str(t)||is.num(t)||is.boo(t))return t===e;const u=is.obj(t);if(u&&o==="reference")return t===e;const h=is.arr(t);if(h&&n==="reference")return t===e;if((h||u)&&t===e)return!0;let f;for(f in t)if(!(f in e))return!1;if(u&&n==="shallow"&&o==="shallow"){for(f in l?e:t)if(!is.equ(t[f],e[f],{strict:l,objects:"reference"}))return!1}else for(f in l?e:t)if(t[f]!==e[f])return!1;if(is.und(f)){if(h&&t.length===0&&e.length===0||u&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function buildGraph(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function dispose(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function prepare(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function resolve(t,e){let n=t;if(e.includes("-")){const o=e.split("-"),l=o.pop();return n=o.reduce((u,h)=>u[h],t),{target:n,key:l}}else return{target:n,key:e}}const INDEX_REGEX=/-\d+$/;function attach(t,e,n){if(is.str(n)){if(INDEX_REGEX.test(n)){const u=n.replace(INDEX_REGEX,""),{target:h,key:f}=resolve(t,u);Array.isArray(h[f])||(h[f]=[])}const{target:o,key:l}=resolve(t,n);e.__r3f.previousAttach=o[l],o[l]=e}else e.__r3f.previousAttach=n(t,e)}function detach(t,e,n){var o,l;if(is.str(n)){const{target:u,key:h}=resolve(t,n),f=e.__r3f.previousAttach;f===void 0?delete u[h]:u[h]=f}else(o=e.__r3f)==null||o.previousAttach==null||o.previousAttach(t,e);(l=e.__r3f)==null||delete l.previousAttach}function diffProps(t,{children:e,key:n,ref:o,...l},{children:u,key:h,ref:f,...d}={},p=!1){const m=t.__r3f,v=Object.entries(l),_=[];if(p){const T=Object.keys(d);for(let A=0;A<T.length;A++)l.hasOwnProperty(T[A])||v.unshift([T[A],DEFAULT+"remove"])}v.forEach(([T,A])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&T==="object"||is.equ(A,d[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return _.push([T,A,!0,[]]);let C=[];T.includes("-")&&(C=T.split("-")),_.push([T,A,!1,C]);for(const O in l){const L=l[O];O.startsWith(`${T}-`)&&_.push([O,L,!1,O.split("-")])}});const S={...l};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(S.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(S.attach=m.memoizedProps.attach),{memoized:S,changes:_}}function applyProps$1(t,e){var n;const o=t.__r3f,l=o==null?void 0:o.root,u=l==null||l.getState==null?void 0:l.getState(),{memoized:h,changes:f}=isDiffSet(e)?e:diffProps(t,e),d=o==null?void 0:o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=h);for(let _=0;_<f.length;_++){let[S,T,A,w]=f[_];if(hasColorSpace(t)){const F="srgb",B="srgb-linear";S==="encoding"?(S="colorSpace",T=T===3001?F:B):S==="outputEncoding"&&(S="outputColorSpace",T=T===3001?F:B)}let C=t,O=C[S];if(w.length&&(O=w.reduce((L,F)=>L[F],t),!(O&&O.set))){const[L,...F]=w.reverse();C=F.reverse().reduce((B,U)=>B[U],t),S=L}if(T===DEFAULT+"remove")if(C.constructor){let L=DEFAULTS.get(C.constructor);L||(L=new C.constructor,DEFAULTS.set(C.constructor,L)),T=L[S]}else T=0;if(A&&o)T?o.handlers[S]=T:delete o.handlers[S],o.eventCount=Object.keys(o.handlers).length;else if(O&&O.set&&(O.copy||O instanceof Layers)){if(Array.isArray(T))O.fromArray?O.fromArray(T):O.set(...T);else if(O.copy&&T&&T.constructor&&O.constructor===T.constructor)O.copy(T);else if(T!==void 0){var p;const L=(p=O)==null?void 0:p.isColor;!L&&O.setScalar?O.setScalar(T):O instanceof Layers&&T instanceof Layers?O.mask=T.mask:O.set(T),!getColorManagement()&&u&&!u.linear&&L&&O.convertSRGBToLinear()}}else{var m;if(C[S]=T,(m=C[S])!=null&&m.isTexture&&C[S].format===RGBAFormat&&C[S].type===UnsignedByteType&&u){const L=C[S];hasColorSpace(L)&&hasColorSpace(u.gl)?L.colorSpace=u.gl.outputColorSpace:L.encoding=u.gl.outputEncoding}}invalidateInstance(t)}if(o&&o.parent&&t.raycast&&d!==o.eventCount){const _=findInitialRoot(t).getState().internal,S=_.interaction.indexOf(t);S>-1&&_.interaction.splice(S,1),o.eventCount&&_.interaction.push(t)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(n=t.__r3f)!=null&&n.parent&&updateInstance(t),t}function invalidateInstance(t){var e,n;const o=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();o&&o.internal.frames===0&&o.invalidate()}function updateInstance(t){t.onUpdate==null||t.onUpdate(t)}function updateCamera(t,e){t.manual||(isOrthographicCamera(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function makeId(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function getEventPriority(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(t,e,n,o){const l=n.get(e);l&&(n.delete(e),n.size===0&&(t.delete(o),l.target.releasePointerCapture(o)))}function removeInteractivity(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(o=>o!==e),n.initialHits=n.initialHits.filter(o=>o!==e),n.hovered.forEach((o,l)=>{(o.eventObject===e||o.object===e)&&n.hovered.delete(l)}),n.capturedMap.forEach((o,l)=>{releaseInternalPointerCapture(n.capturedMap,e,o,l)})}function createEvents(t){function e(d){const{internal:p}=t.getState(),m=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function n(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function o(d,p){const m=t.getState(),v=new Set,_=[],S=p?p(m.internal.interaction):m.internal.interaction;for(let C=0;C<S.length;C++){const O=getRootState(S[C]);O&&(O.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function T(C){const O=getRootState(C);if(!O||!O.events.enabled||O.raycaster.camera===null)return[];if(O.raycaster.camera===void 0){var L;O.events.compute==null||O.events.compute(d,O,(L=O.previousRoot)==null?void 0:L.getState()),O.raycaster.camera===void 0&&(O.raycaster.camera=null)}return O.raycaster.camera?O.raycaster.intersectObject(C,!0):[]}let A=S.flatMap(T).sort((C,O)=>{const L=getRootState(C.object),F=getRootState(O.object);return!L||!F?C.distance-O.distance:F.events.priority-L.events.priority||C.distance-O.distance}).filter(C=>{const O=makeId(C);return v.has(O)?!1:(v.add(O),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const C of A){let O=C.object;for(;O;){var w;(w=O.__r3f)!=null&&w.eventCount&&_.push({...C,eventObject:O}),O=O.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let C of m.internal.capturedMap.get(d.pointerId).values())v.has(makeId(C.intersection))||_.push(C.intersection);return _}function l(d,p,m,v){const _=t.getState();if(d.length){const S={stopped:!1};for(const T of d){const A=getRootState(T.object)||_,{raycaster:w,pointer:C,camera:O,internal:L}=A,F=new Vector3(C.x,C.y,0).unproject(O),B=G=>{var Y,Q;return(Y=(Q=L.capturedMap.get(G))==null?void 0:Q.has(T.eventObject))!=null?Y:!1},U=G=>{const Y={intersection:T,target:p.target};L.capturedMap.has(G)?L.capturedMap.get(G).set(T.eventObject,Y):L.capturedMap.set(G,new Map([[T.eventObject,Y]])),p.target.setPointerCapture(G)},V=G=>{const Y=L.capturedMap.get(G);Y&&releaseInternalPointerCapture(L.capturedMap,T.eventObject,Y,G)};let q={};for(let G in p){let Y=p[G];typeof Y!="function"&&(q[G]=Y)}let H={...T,...q,pointer:C,intersections:d,stopped:S.stopped,delta:m,unprojectedPoint:F,ray:w.ray,camera:O,stopPropagation(){const G="pointerId"in p&&L.capturedMap.get(p.pointerId);if((!G||G.has(T.eventObject))&&(H.stopped=S.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(Y=>Y.eventObject===T.eventObject))){const Y=d.slice(0,d.indexOf(T));u([...Y,T])}},target:{hasPointerCapture:B,setPointerCapture:U,releasePointerCapture:V},currentTarget:{hasPointerCapture:B,setPointerCapture:U,releasePointerCapture:V},nativeEvent:p};if(v(H),S.stopped===!0)break}}return d}function u(d){const{internal:p}=t.getState();for(const m of p.hovered.values())if(!d.length||!d.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const _=m.eventObject.__r3f,S=_==null?void 0:_.handlers;if(p.hovered.delete(makeId(m)),_!=null&&_.eventCount){const T={...m,intersections:d};S.onPointerOut==null||S.onPointerOut(T),S.onPointerLeave==null||S.onPointerLeave(T)}}}function h(d,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function f(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>u([]);case"onLostPointerCapture":return p=>{const{internal:m}=t.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),u([]))})}}return function(m){const{onPointerMissed:v,internal:_}=t.getState();_.lastEvent.current=m;const S=d==="onPointerMove",T=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",w=o(m,S?n:void 0),C=T?e(m):0;d==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=w.map(L=>L.eventObject)),T&&!w.length&&C<=2&&(h(m,_.interaction),v&&v(m)),S&&u(w);function O(L){const F=L.eventObject,B=F.__r3f,U=B==null?void 0:B.handlers;if(B!=null&&B.eventCount)if(S){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const V=makeId(L),q=_.hovered.get(V);q?q.stopped&&L.stopPropagation():(_.hovered.set(V,L),U.onPointerOver==null||U.onPointerOver(L),U.onPointerEnter==null||U.onPointerEnter(L))}U.onPointerMove==null||U.onPointerMove(L)}else{const V=U[d];V?(!T||_.initialHits.includes(F))&&(h(m,_.interaction.filter(q=>!_.initialHits.includes(q))),V(L)):T&&_.initialHits.includes(F)&&h(m,_.interaction.filter(q=>!_.initialHits.includes(q)))}}l(w,m,C,O)}}return{handlePointer:f}}const isRenderer=t=>!!(t!=null&&t.render),context$1=reactExports.createContext(null),createStore=(t,e)=>{const n=create((f,d)=>{const p=new Vector3,m=new Vector3,v=new Vector3;function _(C=d().camera,O=m,L=d().size){const{width:F,height:B,top:U,left:V}=L,q=F/B;O.isVector3?v.copy(O):v.set(...O);const H=C.getWorldPosition(p).distanceTo(v);if(isOrthographicCamera(C))return{width:F/C.zoom,height:B/C.zoom,top:U,left:V,factor:1,distance:H,aspect:q};{const G=C.fov*Math.PI/180,Y=2*Math.tan(G/2)*H,Q=Y*(F/B);return{width:Q,height:Y,top:U,left:V,factor:F/Q,distance:H,aspect:q}}}let S;const T=C=>f(O=>({performance:{...O.performance,current:C}})),A=new Vector2;return{set:f,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>t(d(),C),advance:(C,O)=>e(C,O,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=d();S&&clearTimeout(S),C.performance.current!==C.performance.min&&T(C.performance.min),S=setTimeout(()=>T(d().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:C=>f(O=>({...O,events:{...O.events,...C}})),setSize:(C,O,L,F,B)=>{const U=d().camera,V={width:C,height:O,top:F||0,left:B||0,updateStyle:L};f(q=>({size:V,viewport:{...q.viewport,..._(U,m,V)}}))},setDpr:C=>f(O=>{const L=calculateDpr(C);return{viewport:{...O.viewport,dpr:L,initialDpr:O.viewport.initialDpr||L}}}),setFrameloop:(C="always")=>{const O=d().clock;O.stop(),O.elapsedTime=0,C!=="never"&&(O.start(),O.elapsedTime=0),f(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,O,L)=>{const F=d().internal;return F.priority=F.priority+(O>0?1:0),F.subscribers.push({ref:C,priority:O,store:L}),F.subscribers=F.subscribers.sort((B,U)=>B.priority-U.priority),()=>{const B=d().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(O>0?1:0),B.subscribers=B.subscribers.filter(U=>U.ref!==C))}}}}}),o=n.getState();let l=o.size,u=o.viewport.dpr,h=o.camera;return n.subscribe(()=>{const{camera:f,size:d,viewport:p,gl:m,set:v}=n.getState();if(d.width!==l.width||d.height!==l.height||p.dpr!==u){var _;l=d,u=p.dpr,updateCamera(f,d),m.setPixelRatio(p.dpr);const S=(_=d.updateStyle)!=null?_:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,S)}f!==h&&(h=f,v(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(f)}})))}),n.subscribe(f=>t(f)),n};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function flushGlobalEffects(t,e){switch(t){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(t,e,n){let o=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(o=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),subscribers=e.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),o,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(t){let e=!1,n=!1,o,l,u;function h(p){l=requestAnimationFrame(h),e=!0,o=0,flushGlobalEffects("before",p),n=!0;for(const v of t.values()){var m;u=v.store.getState(),u.internal.active&&(u.frameloop==="always"||u.internal.frames>0)&&!((m=u.gl.xr)!=null&&m.isPresenting)&&(o+=render$1(p,u))}if(n=!1,flushGlobalEffects("after",p),o===0)return flushGlobalEffects("tail",p),e=!1,cancelAnimationFrame(l)}function f(p,m=1){var v;if(!p)return t.forEach(_=>f(_.store.getState(),m));(v=p.gl.xr)!=null&&v.isPresenting||!p.internal.active||p.frameloop==="never"||(m>1?p.internal.frames=Math.min(60,p.internal.frames+m):n?p.internal.frames=2:p.internal.frames=1,e||(e=!0,requestAnimationFrame(h)))}function d(p,m=!0,v,_){if(m&&flushGlobalEffects("before",p),v)render$1(p,v,_);else for(const S of t.values())render$1(p,S.store.getState());m&&flushGlobalEffects("after",p)}return{loop:h,invalidate:f,advance:d}}function useStore(){const t=reactExports.useContext(context$1);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function useThree(t=n=>n,e){return useStore()(t,e)}function useFrame(t,e=0){const n=useStore(),o=n.getState().internal.subscribe,l=useMutableCallback(t);return useIsomorphicLayoutEffect(()=>o(l,e,n),[e,o,n]),null}const memoizedLoaders=new WeakMap;function loadingFn(t,e){return function(n,...o){let l=memoizedLoaders.get(n);return l||(l=new n,memoizedLoaders.set(n,l)),t&&t(l),Promise.all(o.map(u=>new Promise((h,f)=>l.load(u,d=>{d.scene&&Object.assign(d,buildGraph(d.scene)),h(d)},e,d=>f(new Error(`Could not load ${u}: ${d==null?void 0:d.message}`))))))}}function useLoader(t,e,n,o){const l=Array.isArray(e)?e:[e],u=suspend(loadingFn(n,o),[t,...l],{equal:is.equ});return Array.isArray(e)?u:u[0]}useLoader.preload=function(t,e,n){const o=Array.isArray(e)?e:[e];return preload(loadingFn(n),[t,...o])};useLoader.clear=function(t,e){const n=Array.isArray(e)?e:[e];return clear([t,...n])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(t,e)=>{const n=typeof t=="function"?t(e):t;return isRenderer(n)?n:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function computeInitialSize(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:o,height:l,top:u,left:h,updateStyle:f=n}=e;return{width:o,height:l,top:u,left:h,updateStyle:f}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:o,height:l,top:u,left:h}=t.parentElement.getBoundingClientRect();return{width:o,height:l,top:u,left:h,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function createRoot(t){const e=roots.get(t),n=e==null?void 0:e.fiber,o=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const l=typeof reportError=="function"?reportError:console.error,u=o||createStore(invalidate,advance),h=n||reconciler.createContainer(u,constantsExports.ConcurrentRoot,null,!1,null,"",l,null);e||roots.set(t,{fiber:h,store:u});let f,d=!1,p;return{configure(m={}){let{gl:v,size:_,scene:S,events:T,onCreated:A,shadows:w=!1,linear:C=!1,flat:O=!1,legacy:L=!1,orthographic:F=!1,frameloop:B="always",dpr:U=[1,2],performance:V,raycaster:q,camera:H,onPointerMissed:G}=m,Y=u.getState(),Q=Y.gl;Y.gl||Y.set({gl:Q=createRendererInstance(v,t)});let ie=Y.raycaster;ie||Y.set({raycaster:ie=new Raycaster});const{params:ae,...le}=q||{};if(is.equ(le,ie,shallowLoose)||applyProps(ie,{...le}),is.equ(ae,ie.params,shallowLoose)||applyProps(ie,{params:{...ie.params,...ae}}),!Y.camera||Y.camera===p&&!is.equ(p,H,shallowLoose)){p=H;const ce=H instanceof Camera,te=ce?H:F?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);ce||(te.position.z=5,H&&(applyProps(te,H),("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(te.manual=!0,te.updateProjectionMatrix())),!Y.camera&&!(H!=null&&H.rotation)&&te.lookAt(0,0,0)),Y.set({camera:te}),ie.camera=te}if(!Y.scene){let ce;S!=null&&S.isScene?ce=S:(ce=new Scene,S&&applyProps(ce,S)),Y.set({scene:prepare(ce)})}if(!Y.xr){var he;const ce=(_e,ye)=>{const xe=u.getState();xe.frameloop!=="never"&&advance(_e,!0,xe,ye)},te=()=>{const _e=u.getState();_e.gl.xr.enabled=_e.gl.xr.isPresenting,_e.gl.xr.setAnimationLoop(_e.gl.xr.isPresenting?ce:null),_e.gl.xr.isPresenting||invalidate(_e)},fe={connect(){const _e=u.getState().gl;_e.xr.addEventListener("sessionstart",te),_e.xr.addEventListener("sessionend",te)},disconnect(){const _e=u.getState().gl;_e.xr.removeEventListener("sessionstart",te),_e.xr.removeEventListener("sessionend",te)}};typeof((he=Q.xr)==null?void 0:he.addEventListener)=="function"&&fe.connect(),Y.set({xr:fe})}if(Q.shadowMap){const ce=Q.shadowMap.enabled,te=Q.shadowMap.type;if(Q.shadowMap.enabled=!!w,is.boo(w))Q.shadowMap.type=PCFSoftShadowMap;else if(is.str(w)){var ge;const fe={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Q.shadowMap.type=(ge=fe[w])!=null?ge:PCFSoftShadowMap}else is.obj(w)&&Object.assign(Q.shadowMap,w);(ce!==Q.shadowMap.enabled||te!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}const J=getColorManagement();J&&("enabled"in J?J.enabled=!L:"legacyMode"in J&&(J.legacyMode=L)),d||applyProps(Q,{outputEncoding:C?3e3:3001,toneMapping:O?NoToneMapping:ACESFilmicToneMapping}),Y.legacy!==L&&Y.set(()=>({legacy:L})),Y.linear!==C&&Y.set(()=>({linear:C})),Y.flat!==O&&Y.set(()=>({flat:O})),v&&!is.fun(v)&&!isRenderer(v)&&!is.equ(v,Q,shallowLoose)&&applyProps(Q,v),T&&!Y.events.handlers&&Y.set({events:T(u)});const se=computeInitialSize(t,_);return is.equ(se,Y.size,shallowLoose)||Y.setSize(se.width,se.height,se.updateStyle,se.top,se.left),U&&Y.viewport.dpr!==calculateDpr(U)&&Y.setDpr(U),Y.frameloop!==B&&Y.setFrameloop(B),Y.onPointerMissed||Y.set({onPointerMissed:G}),V&&!is.equ(V,Y.performance,shallowLoose)&&Y.set(ce=>({performance:{...ce.performance,...V}})),f=A,d=!0,this},render(m){return d||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:u,children:m,onCreated:f,rootElement:t}),h,null,()=>{}),u},unmount(){unmountComponentAtNode(t)}}}function Provider({store:t,children:e,onCreated:n,rootElement:o}){return useIsomorphicLayoutEffect(()=>{const l=t.getState();l.set(u=>({internal:{...u.internal,active:!0}})),n&&n(l),t.getState().events.connected||l.events.connect==null||l.events.connect(o)},[]),jsxRuntimeExports.jsx(context$1.Provider,{value:t,children:e})}function unmountComponentAtNode(t,e){const n=roots.get(t),o=n==null?void 0:n.fiber;if(o){const l=n==null?void 0:n.store.getState();l&&(l.internal.active=!1),reconciler.updateContainer(null,o,null,()=>{l&&setTimeout(()=>{try{var u,h,f,d;l.events.disconnect==null||l.events.disconnect(),(u=l.gl)==null||(h=u.renderLists)==null||h.dispose==null||h.dispose(),(f=l.gl)==null||f.forceContextLoss==null||f.forceContextLoss(),(d=l.gl)!=null&&d.xr&&l.xr.disconnect(),dispose(l),roots.delete(t)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(t){const{handlePointer:e}=createEvents(t);return{priority:1,enabled:!0,compute(n,o,l){o.pointer.set(n.offsetX/o.size.width*2-1,-(n.offsetY/o.size.height)*2+1),o.raycaster.setFromCamera(o.pointer,o.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((n,o)=>({...n,[o]:e(o)}),{}),update:()=>{var n;const{events:o,internal:l}=t.getState();(n=l.lastEvent)!=null&&n.current&&o.handlers&&o.handlers.onPointerMove(l.lastEvent.current)},connect:n=>{var o;const{set:l,events:u}=t.getState();u.disconnect==null||u.disconnect(),l(h=>({events:{...h.events,connected:n}})),Object.entries((o=u.handlers)!=null?o:[]).forEach(([h,f])=>{const[d,p]=DOM_EVENTS[h];n.addEventListener(d,f,{passive:p})})},disconnect:()=>{const{set:n,events:o}=t.getState();if(o.connected){var l;Object.entries((l=o.handlers)!=null?l:[]).forEach(([u,h])=>{if(o&&o.connected instanceof HTMLElement){const[f]=DOM_EVENTS[u];o.connected.removeEventListener(f,h)}}),n(u=>({events:{...u.events,connected:void 0}}))}}}}function g(t,e){let n;return(...o)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...o),e)}}function j({debounce:t,scroll:e,polyfill:n,offsetSize:o}={debounce:0,scroll:!1,offsetSize:!1}){const l=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,h]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),d=t?typeof t=="number"?t:t.scroll:null,p=t?typeof t=="number"?t:t.resize:null,m=reactExports.useRef(!1);reactExports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,_,S]=reactExports.useMemo(()=>{const C=()=>{if(!f.current.element)return;const{left:O,top:L,width:F,height:B,bottom:U,right:V,x:q,y:H}=f.current.element.getBoundingClientRect(),G={left:O,top:L,width:F,height:B,bottom:U,right:V,x:q,y:H};f.current.element instanceof HTMLElement&&o&&(G.height=f.current.element.offsetHeight,G.width=f.current.element.offsetWidth),Object.freeze(G),m.current&&!D(f.current.lastBounds,G)&&h(f.current.lastBounds=G)};return[C,p?g(C,p):C,d?g(C,d):C]},[h,o,d,p]);function T(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",S,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function A(){f.current.element&&(f.current.resizeObserver=new l(S),f.current.resizeObserver.observe(f.current.element),e&&f.current.scrollContainers&&f.current.scrollContainers.forEach(C=>C.addEventListener("scroll",S,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}const w=C=>{!C||C===f.current.element||(T(),f.current.element=C,f.current.scrollContainers=E(C),A())};return X(S,!!e),W(_),reactExports.useEffect(()=>{T(),A()},[e,S,_]),reactExports.useEffect(()=>T,[]),[w,u,v]}function W(t){reactExports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function X(t,e){reactExports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function E(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:o,overflowY:l}=window.getComputedStyle(t);return[n,o,l].some(u=>u==="auto"||u==="scroll")&&e.push(t),[...e,...E(t.parentElement)]}const k$1=["x","y","top","bottom","left","right","width","height"],D=(t,e)=>k$1.every(n=>t[n]===e[n]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(t,e,n)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__spreadValues=(t,e)=>{for(var n in e||(e={}))__hasOwnProp.call(e,n)&&__defNormalProp$2(t,n,e[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))__propIsEnum.call(e,n)&&__defNormalProp$2(t,n,e[n]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(t,e,n){if(!t)return;if(n(t)===!0)return t;let o=t.child;for(;o;){const l=traverseFiber(o,e,n);if(l)return l;o=o.sibling}}function wrapContext(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const error=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const t=reactExports.useContext(FiberContext);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const o of[t,t==null?void 0:t.alternate]){if(!o)continue;const l=traverseFiber(o,!1,u=>{let h=u.memoizedState;for(;h;){if(h.memoizedState===e)return!0;h=h.next}});if(l)return l}},[t,e])}function useContextMap(){const t=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const l=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;l&&l!==FiberContext&&!e.has(l)&&e.set(l,reactExports.useContext(wrapContext(l)))}n=n.return}return e}function useContextBridge(){const t=useContextMap();return reactExports.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>o=>reactExports.createElement(e,null,reactExports.createElement(n.Provider,__spreadProps(__spreadValues({},o),{value:t.get(n)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[t])}const CanvasImpl=reactExports.forwardRef(function t({children:e,fallback:n,resize:o,style:l,gl:u,events:h=createPointerEvents,eventSource:f,eventPrefix:d,shadows:p,linear:m,flat:v,legacy:_,orthographic:S,frameloop:T,dpr:A,performance:w,raycaster:C,camera:O,scene:L,onPointerMissed:F,onCreated:B,...U},V){reactExports.useMemo(()=>extend$1(THREE),[]);const q=useContextBridge(),[H,G]=j({scroll:!0,debounce:{scroll:50,resize:0},...o}),Y=reactExports.useRef(null),Q=reactExports.useRef(null);reactExports.useImperativeHandle(V,()=>Y.current);const ie=useMutableCallback(F),[ae,le]=reactExports.useState(!1),[he,ge]=reactExports.useState(!1);if(ae)throw ae;if(he)throw he;const J=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const ce=Y.current;G.width>0&&G.height>0&&ce&&(J.current||(J.current=createRoot(ce)),J.current.configure({gl:u,events:h,shadows:p,linear:m,flat:v,legacy:_,orthographic:S,frameloop:T,dpr:A,performance:w,raycaster:C,camera:O,scene:L,size:G,onPointerMissed:(...te)=>ie.current==null?void 0:ie.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(f?isRef(f)?f.current:f:Q.current),d&&te.setEvents({compute:(fe,_e)=>{const ye=fe[d+"X"],xe=fe[d+"Y"];_e.pointer.set(ye/_e.size.width*2-1,-(xe/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),B==null||B(te)}}),J.current.render(jsxRuntimeExports.jsx(q,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:ge,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:le}),children:e??null})})})))}),reactExports.useEffect(()=>{const ce=Y.current;if(ce)return()=>unmountComponentAtNode(ce)},[]);const se=f?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:se,...l},...U,children:jsxRuntimeExports.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Y,style:{display:"block"},children:n})})})}),Canvas=reactExports.forwardRef(function t(e,n){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...e,ref:n})})});function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$p.apply(null,arguments)}const v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition(t,e,n){const o=v1.setFromMatrixPosition(t.matrixWorld);o.project(e);const l=n.width/2,u=n.height/2;return[o.x*l+l,-(o.y*u)+u]}function isObjectBehindCamera(t,e){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=n.sub(o),u=e.getWorldDirection(v3);return l.angleTo(u)>Math.PI/2}function isObjectVisible(t,e,n,o){const l=v1.setFromMatrixPosition(t.matrixWorld),u=l.clone();u.project(e),v4.set(u.x,u.y),n.setFromCamera(v4,e);const h=n.intersectObjects(o,!0);if(h.length){const f=h[0].distance;return l.distanceTo(n.ray.origin)<f}return!0}function objectScale(t,e){if(e instanceof OrthographicCamera)return e.zoom;if(e instanceof PerspectiveCamera){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=e.fov*Math.PI/180,u=n.distanceTo(o);return 1/(2*Math.tan(l/2)*u)}else return 1}function objectZIndex(t,e,n){if(e instanceof PerspectiveCamera||e instanceof OrthographicCamera){const o=v1.setFromMatrixPosition(t.matrixWorld),l=v2.setFromMatrixPosition(e.matrixWorld),u=o.distanceTo(l),h=(n[1]-n[0])/(e.far-e.near),f=n[1]-h*e.far;return Math.round(h*u+f)}}const epsilon$1=t=>Math.abs(t)<1e-10?0:t;function getCSSMatrix(t,e,n=""){let o="matrix3d(";for(let l=0;l!==16;l++)o+=epsilon$1(e[l]*t.elements[l])+(l!==15?",":")");return n+o}const getCameraCSSMatrix=(t=>e=>getCSSMatrix(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(t=>(e,n)=>getCSSMatrix(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function isRefObject(t){return t&&typeof t=="object"&&"current"in t}const Html=reactExports.forwardRef(({children:t,eps:e=.001,style:n,className:o,prepend:l,center:u,fullscreen:h,portal:f,distanceFactor:d,sprite:p=!1,transform:m=!1,occlude:v,onOcclude:_,castShadow:S,receiveShadow:T,material:A,geometry:w,zIndexRange:C=[16777271,0],calculatePosition:O=defaultCalculatePosition,as:L="div",wrapperClass:F,pointerEvents:B="auto",...U},V)=>{const{gl:q,camera:H,scene:G,size:Y,raycaster:Q,events:ie,viewport:ae}=useThree(),[le]=reactExports.useState(()=>document.createElement(L)),he=reactExports.useRef(),ge=reactExports.useRef(null),J=reactExports.useRef(0),se=reactExports.useRef([0,0]),ce=reactExports.useRef(null),te=reactExports.useRef(null),fe=(f==null?void 0:f.current)||ie.connected||q.domElement.parentNode,_e=reactExports.useRef(null),ye=reactExports.useRef(!1),xe=reactExports.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&isRefObject(v[0]),[v]);reactExports.useLayoutEffect(()=>{const Ne=q.domElement;v&&v==="blending"?(Ne.style.zIndex=`${Math.floor(C[0]/2)}`,Ne.style.position="absolute",Ne.style.pointerEvents="none"):(Ne.style.zIndex=null,Ne.style.position=null,Ne.style.pointerEvents=null)},[v]),reactExports.useLayoutEffect(()=>{if(ge.current){const Ne=he.current=clientExports.createRoot(le);if(G.updateMatrixWorld(),m)le.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Oe=O(ge.current,H,Y);le.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Oe[0]}px,${Oe[1]}px,0);transform-origin:0 0;`}return fe&&(l?fe.prepend(le):fe.appendChild(le)),()=>{fe&&fe.removeChild(le),Ne.unmount()}}},[fe,m]),reactExports.useLayoutEffect(()=>{F&&(le.className=F)},[F]);const Me=reactExports.useMemo(()=>m?{position:"absolute",top:0,left:0,width:Y.width,height:Y.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:u?"translate3d(-50%,-50%,0)":"none",...h&&{top:-Y.height/2,left:-Y.width/2,width:Y.width,height:Y.height},...n},[n,u,h,Y,m]),be=reactExports.useMemo(()=>({position:"absolute",pointerEvents:B}),[B]);reactExports.useLayoutEffect(()=>{if(ye.current=!1,m){var Ne;(Ne=he.current)==null||Ne.render(reactExports.createElement("div",{ref:ce,style:Me},reactExports.createElement("div",{ref:te,style:be},reactExports.createElement("div",{ref:V,className:o,style:n,children:t}))))}else{var Oe;(Oe=he.current)==null||Oe.render(reactExports.createElement("div",{ref:V,style:Me,className:o,children:t}))}});const Ce=reactExports.useRef(!0);useFrame(Ne=>{if(ge.current){H.updateMatrixWorld(),ge.current.updateWorldMatrix(!0,!1);const Oe=m?se.current:O(ge.current,H,Y);if(m||Math.abs(J.current-H.zoom)>e||Math.abs(se.current[0]-Oe[0])>e||Math.abs(se.current[1]-Oe[1])>e){const Te=isObjectBehindCamera(ge.current,H);let tt=!1;xe&&(Array.isArray(v)?tt=v.map(Ye=>Ye.current):v!=="blending"&&(tt=[G]));const de=Ce.current;if(tt){const Ye=isObjectVisible(ge.current,H,Q,tt);Ce.current=Ye&&!Te}else Ce.current=!Te;de!==Ce.current&&(_?_(!Ce.current):le.style.display=Ce.current?"block":"none");const Xe=Math.floor(C[0]/2),qe=v?xe?[C[0],Xe]:[Xe-1,0]:C;if(le.style.zIndex=`${objectZIndex(ge.current,H,qe)}`,m){const[Ye,Ie]=[Y.width/2,Y.height/2],et=H.projectionMatrix.elements[5]*Ie,{isOrthographicCamera:Ue,top:ke,left:ct,bottom:me,right:ue}=H,Ae=getCameraCSSMatrix(H.matrixWorldInverse),We=Ue?`scale(${et})translate(${epsilon$1(-(ue+ct)/2)}px,${epsilon$1((ke+me)/2)}px)`:`translateZ(${et}px)`;let $e=ge.current.matrixWorld;p&&($e=H.matrixWorldInverse.clone().transpose().copyPosition($e).scale(ge.current.scale),$e.elements[3]=$e.elements[7]=$e.elements[11]=0,$e.elements[15]=1),le.style.width=Y.width+"px",le.style.height=Y.height+"px",le.style.perspective=Ue?"":`${et}px`,ce.current&&te.current&&(ce.current.style.transform=`${We}${Ae}translate(${Ye}px,${Ie}px)`,te.current.style.transform=getObjectCSSMatrix($e,1/((d||10)/400)))}else{const Ye=d===void 0?1:objectScale(ge.current,H)*d;le.style.transform=`translate3d(${Oe[0]}px,${Oe[1]}px,0) scale(${Ye})`}se.current=Oe,J.current=H.zoom}}if(!xe&&_e.current&&!ye.current)if(m){if(ce.current){const Oe=ce.current.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const{isOrthographicCamera:Te}=H;if(Te||w)U.scale&&(Array.isArray(U.scale)?U.scale instanceof Vector3?_e.current.scale.copy(U.scale.clone().divideScalar(1)):_e.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):_e.current.scale.setScalar(1/U.scale));else{const tt=(d||10)/400,de=Oe.clientWidth*tt,Xe=Oe.clientHeight*tt;_e.current.scale.set(de,Xe,1)}ye.current=!0}}}else{const Oe=le.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const Te=1/ae.factor,tt=Oe.clientWidth*Te,de=Oe.clientHeight*Te;_e.current.scale.set(tt,de,1),ye.current=!0}_e.current.lookAt(Ne.camera.position)}});const Re=reactExports.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return reactExports.createElement("group",_extends$p({},U,{ref:ge}),v&&!xe&&reactExports.createElement("mesh",{castShadow:S,receiveShadow:T,ref:_e},w||reactExports.createElement("planeGeometry",null),A||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:Re.vertexShader,fragmentShader:Re.fragmentShader})))});var __defProp$1=Object.defineProperty,__defNormalProp$1=(t,e,n)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField$1=(t,e,n)=>(__defNormalProp$1(t,e+"",n),n);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const l=this._listeners[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,h=l.length;u<h;u++)l[u].call(this,e);e.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField=(t,e,n)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,n),n);const _ray$1=new Ray,_plane$1=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(t,e)=>(t%e+e)%e;let OrbitControls$2=class extends EventDispatcher{constructor(e,n){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Ee=>{let Ve=moduloWrapAround(Ee,2*Math.PI),mt=m.phi;mt<0&&(mt+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let we=Math.abs(Ve-mt);2*Math.PI-we<we&&(Ve<mt?Ve+=2*Math.PI:mt+=2*Math.PI),v.phi=Ve-mt,o.update()},this.setAzimuthalAngle=Ee=>{let Ve=moduloWrapAround(Ee,2*Math.PI),mt=m.theta;mt<0&&(mt+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let we=Math.abs(Ve-mt);2*Math.PI-we<we&&(Ve<mt?Ve+=2*Math.PI:mt+=2*Math.PI),v.theta=Ve-mt,o.update()},this.getDistance=()=>o.object.position.distanceTo(o.target),this.listenToKeyEvents=Ee=>{Ee.addEventListener("keydown",je),this._domElementKeyEvents=Ee},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=()=>{o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(l),o.update(),d=f.NONE},this.update=(()=>{const Ee=new Vector3,Ve=new Vector3(0,1,0),mt=new Quaternion().setFromUnitVectors(e.up,Ve),we=mt.clone().invert(),at=new Vector3,st=new Quaternion,Tt=2*Math.PI;return function(){const Je=o.object.position;mt.setFromUnitVectors(e.up,Ve),we.copy(mt).invert(),Ee.copy(Je).sub(o.target),Ee.applyQuaternion(mt),m.setFromVector3(Ee),o.autoRotate&&d===f.NONE&&ae(Q()),o.enableDamping?(m.theta+=v.theta*o.dampingFactor,m.phi+=v.phi*o.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let _t=o.minAzimuthAngle,Ct=o.maxAzimuthAngle;isFinite(_t)&&isFinite(Ct)&&(_t<-Math.PI?_t+=Tt:_t>Math.PI&&(_t-=Tt),Ct<-Math.PI?Ct+=Tt:Ct>Math.PI&&(Ct-=Tt),_t<=Ct?m.theta=Math.max(_t,Math.min(Ct,m.theta)):m.theta=m.theta>(_t+Ct)/2?Math.max(_t,m.theta):Math.min(Ct,m.theta)),m.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,m.phi)),m.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(S,o.dampingFactor):o.target.add(S),o.zoomToCursor&&H||o.object.isOrthographicCamera?m.radius=_e(m.radius):m.radius=_e(m.radius*_),Ee.setFromSpherical(m),Ee.applyQuaternion(we),Je.copy(o.target).add(Ee),o.object.matrixAutoUpdate||o.object.updateMatrix(),o.object.lookAt(o.target),o.enableDamping===!0?(v.theta*=1-o.dampingFactor,v.phi*=1-o.dampingFactor,S.multiplyScalar(1-o.dampingFactor)):(v.set(0,0,0),S.set(0,0,0));let Rt=!1;if(o.zoomToCursor&&H){let jt=null;if(o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const pn=Ee.length();jt=_e(pn*_);const mn=pn-jt;o.object.position.addScaledVector(V,mn),o.object.updateMatrixWorld()}else if(o.object.isOrthographicCamera){const pn=new Vector3(q.x,q.y,0);pn.unproject(o.object),o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/_)),o.object.updateProjectionMatrix(),Rt=!0;const mn=new Vector3(q.x,q.y,0);mn.unproject(o.object),o.object.position.sub(mn).add(pn),o.object.updateMatrixWorld(),jt=Ee.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;jt!==null&&(o.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(jt).add(o.object.position):(_ray$1.origin.copy(o.object.position),_ray$1.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(_ray$1.direction))<TILT_LIMIT?e.lookAt(o.target):(_plane$1.setFromNormalAndCoplanarPoint(o.object.up,o.target),_ray$1.intersectPlane(_plane$1,o.target))))}else o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera&&(Rt=_!==1,Rt&&(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/_)),o.object.updateProjectionMatrix()));return _=1,H=!1,Rt||at.distanceToSquared(o.object.position)>p||8*(1-st.dot(o.object.quaternion))>p?(o.dispatchEvent(l),at.copy(o.object.position),st.copy(o.object.quaternion),Rt=!1,!0):!1}})(),this.connect=Ee=>{o.domElement=Ee,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",gt),o.domElement.addEventListener("pointerdown",ct),o.domElement.addEventListener("pointercancel",ue),o.domElement.addEventListener("wheel",$e)},this.dispose=()=>{var Ee,Ve,mt,we,at,st;o.domElement&&(o.domElement.style.touchAction="auto"),(Ee=o.domElement)==null||Ee.removeEventListener("contextmenu",gt),(Ve=o.domElement)==null||Ve.removeEventListener("pointerdown",ct),(mt=o.domElement)==null||mt.removeEventListener("pointercancel",ue),(we=o.domElement)==null||we.removeEventListener("wheel",$e),(at=o.domElement)==null||at.ownerDocument.removeEventListener("pointermove",me),(st=o.domElement)==null||st.ownerDocument.removeEventListener("pointerup",ue),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",je)};const o=this,l={type:"change"},u={type:"start"},h={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=f.NONE;const p=1e-6,m=new Spherical,v=new Spherical;let _=1;const S=new Vector3,T=new Vector2,A=new Vector2,w=new Vector2,C=new Vector2,O=new Vector2,L=new Vector2,F=new Vector2,B=new Vector2,U=new Vector2,V=new Vector3,q=new Vector2;let H=!1;const G=[],Y={};function Q(){return 2*Math.PI/60/60*o.autoRotateSpeed}function ie(){return Math.pow(.95,o.zoomSpeed)}function ae(Ee){o.reverseOrbit||o.reverseHorizontalOrbit?v.theta+=Ee:v.theta-=Ee}function le(Ee){o.reverseOrbit||o.reverseVerticalOrbit?v.phi+=Ee:v.phi-=Ee}const he=(()=>{const Ee=new Vector3;return function(mt,we){Ee.setFromMatrixColumn(we,0),Ee.multiplyScalar(-mt),S.add(Ee)}})(),ge=(()=>{const Ee=new Vector3;return function(mt,we){o.screenSpacePanning===!0?Ee.setFromMatrixColumn(we,1):(Ee.setFromMatrixColumn(we,0),Ee.crossVectors(o.object.up,Ee)),Ee.multiplyScalar(mt),S.add(Ee)}})(),J=(()=>{const Ee=new Vector3;return function(mt,we){const at=o.domElement;if(at&&o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const st=o.object.position;Ee.copy(st).sub(o.target);let Tt=Ee.length();Tt*=Math.tan(o.object.fov/2*Math.PI/180),he(2*mt*Tt/at.clientHeight,o.object.matrix),ge(2*we*Tt/at.clientHeight,o.object.matrix)}else at&&o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?(he(mt*(o.object.right-o.object.left)/o.object.zoom/at.clientWidth,o.object.matrix),ge(we*(o.object.top-o.object.bottom)/o.object.zoom/at.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}})();function se(Ee){o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera||o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?_=Ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function ce(Ee){se(_/Ee)}function te(Ee){se(_*Ee)}function fe(Ee){if(!o.zoomToCursor||!o.domElement)return;H=!0;const Ve=o.domElement.getBoundingClientRect(),mt=Ee.clientX-Ve.left,we=Ee.clientY-Ve.top,at=Ve.width,st=Ve.height;q.x=mt/at*2-1,q.y=-(we/st)*2+1,V.set(q.x,q.y,1).unproject(o.object).sub(o.object.position).normalize()}function _e(Ee){return Math.max(o.minDistance,Math.min(o.maxDistance,Ee))}function ye(Ee){T.set(Ee.clientX,Ee.clientY)}function xe(Ee){fe(Ee),F.set(Ee.clientX,Ee.clientY)}function Me(Ee){C.set(Ee.clientX,Ee.clientY)}function be(Ee){A.set(Ee.clientX,Ee.clientY),w.subVectors(A,T).multiplyScalar(o.rotateSpeed);const Ve=o.domElement;Ve&&(ae(2*Math.PI*w.x/Ve.clientHeight),le(2*Math.PI*w.y/Ve.clientHeight)),T.copy(A),o.update()}function Ce(Ee){B.set(Ee.clientX,Ee.clientY),U.subVectors(B,F),U.y>0?ce(ie()):U.y<0&&te(ie()),F.copy(B),o.update()}function Re(Ee){O.set(Ee.clientX,Ee.clientY),L.subVectors(O,C).multiplyScalar(o.panSpeed),J(L.x,L.y),C.copy(O),o.update()}function Ne(Ee){fe(Ee),Ee.deltaY<0?te(ie()):Ee.deltaY>0&&ce(ie()),o.update()}function Oe(Ee){let Ve=!1;switch(Ee.code){case o.keys.UP:J(0,o.keyPanSpeed),Ve=!0;break;case o.keys.BOTTOM:J(0,-o.keyPanSpeed),Ve=!0;break;case o.keys.LEFT:J(o.keyPanSpeed,0),Ve=!0;break;case o.keys.RIGHT:J(-o.keyPanSpeed,0),Ve=!0;break}Ve&&(Ee.preventDefault(),o.update())}function Te(){if(G.length==1)T.set(G[0].pageX,G[0].pageY);else{const Ee=.5*(G[0].pageX+G[1].pageX),Ve=.5*(G[0].pageY+G[1].pageY);T.set(Ee,Ve)}}function tt(){if(G.length==1)C.set(G[0].pageX,G[0].pageY);else{const Ee=.5*(G[0].pageX+G[1].pageX),Ve=.5*(G[0].pageY+G[1].pageY);C.set(Ee,Ve)}}function de(){const Ee=G[0].pageX-G[1].pageX,Ve=G[0].pageY-G[1].pageY,mt=Math.sqrt(Ee*Ee+Ve*Ve);F.set(0,mt)}function Xe(){o.enableZoom&&de(),o.enablePan&&tt()}function qe(){o.enableZoom&&de(),o.enableRotate&&Te()}function Ye(Ee){if(G.length==1)A.set(Ee.pageX,Ee.pageY);else{const mt=pt(Ee),we=.5*(Ee.pageX+mt.x),at=.5*(Ee.pageY+mt.y);A.set(we,at)}w.subVectors(A,T).multiplyScalar(o.rotateSpeed);const Ve=o.domElement;Ve&&(ae(2*Math.PI*w.x/Ve.clientHeight),le(2*Math.PI*w.y/Ve.clientHeight)),T.copy(A)}function Ie(Ee){if(G.length==1)O.set(Ee.pageX,Ee.pageY);else{const Ve=pt(Ee),mt=.5*(Ee.pageX+Ve.x),we=.5*(Ee.pageY+Ve.y);O.set(mt,we)}L.subVectors(O,C).multiplyScalar(o.panSpeed),J(L.x,L.y),C.copy(O)}function et(Ee){const Ve=pt(Ee),mt=Ee.pageX-Ve.x,we=Ee.pageY-Ve.y,at=Math.sqrt(mt*mt+we*we);B.set(0,at),U.set(0,Math.pow(B.y/F.y,o.zoomSpeed)),ce(U.y),F.copy(B)}function Ue(Ee){o.enableZoom&&et(Ee),o.enablePan&&Ie(Ee)}function ke(Ee){o.enableZoom&&et(Ee),o.enableRotate&&Ye(Ee)}function ct(Ee){var Ve,mt;o.enabled!==!1&&(G.length===0&&((Ve=o.domElement)==null||Ve.ownerDocument.addEventListener("pointermove",me),(mt=o.domElement)==null||mt.ownerDocument.addEventListener("pointerup",ue)),Et(Ee),Ee.pointerType==="touch"?ft(Ee):Ae(Ee))}function me(Ee){o.enabled!==!1&&(Ee.pointerType==="touch"?ht(Ee):We(Ee))}function ue(Ee){var Ve,mt,we;nt(Ee),G.length===0&&((Ve=o.domElement)==null||Ve.releasePointerCapture(Ee.pointerId),(mt=o.domElement)==null||mt.ownerDocument.removeEventListener("pointermove",me),(we=o.domElement)==null||we.ownerDocument.removeEventListener("pointerup",ue)),o.dispatchEvent(h),d=f.NONE}function Ae(Ee){let Ve;switch(Ee.button){case 0:Ve=o.mouseButtons.LEFT;break;case 1:Ve=o.mouseButtons.MIDDLE;break;case 2:Ve=o.mouseButtons.RIGHT;break;default:Ve=-1}switch(Ve){case MOUSE.DOLLY:if(o.enableZoom===!1)return;xe(Ee),d=f.DOLLY;break;case MOUSE.ROTATE:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(o.enablePan===!1)return;Me(Ee),d=f.PAN}else{if(o.enableRotate===!1)return;ye(Ee),d=f.ROTATE}break;case MOUSE.PAN:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(o.enableRotate===!1)return;ye(Ee),d=f.ROTATE}else{if(o.enablePan===!1)return;Me(Ee),d=f.PAN}break;default:d=f.NONE}d!==f.NONE&&o.dispatchEvent(u)}function We(Ee){if(o.enabled!==!1)switch(d){case f.ROTATE:if(o.enableRotate===!1)return;be(Ee);break;case f.DOLLY:if(o.enableZoom===!1)return;Ce(Ee);break;case f.PAN:if(o.enablePan===!1)return;Re(Ee);break}}function $e(Ee){o.enabled===!1||o.enableZoom===!1||d!==f.NONE&&d!==f.ROTATE||(Ee.preventDefault(),o.dispatchEvent(u),Ne(Ee),o.dispatchEvent(h))}function je(Ee){o.enabled===!1||o.enablePan===!1||Oe(Ee)}function ft(Ee){switch(dt(Ee),G.length){case 1:switch(o.touches.ONE){case TOUCH.ROTATE:if(o.enableRotate===!1)return;Te(),d=f.TOUCH_ROTATE;break;case TOUCH.PAN:if(o.enablePan===!1)return;tt(),d=f.TOUCH_PAN;break;default:d=f.NONE}break;case 2:switch(o.touches.TWO){case TOUCH.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Xe(),d=f.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;qe(),d=f.TOUCH_DOLLY_ROTATE;break;default:d=f.NONE}break;default:d=f.NONE}d!==f.NONE&&o.dispatchEvent(u)}function ht(Ee){switch(dt(Ee),d){case f.TOUCH_ROTATE:if(o.enableRotate===!1)return;Ye(Ee),o.update();break;case f.TOUCH_PAN:if(o.enablePan===!1)return;Ie(Ee),o.update();break;case f.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Ue(Ee),o.update();break;case f.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;ke(Ee),o.update();break;default:d=f.NONE}}function gt(Ee){o.enabled!==!1&&Ee.preventDefault()}function Et(Ee){G.push(Ee)}function nt(Ee){delete Y[Ee.pointerId];for(let Ve=0;Ve<G.length;Ve++)if(G[Ve].pointerId==Ee.pointerId){G.splice(Ve,1);return}}function dt(Ee){let Ve=Y[Ee.pointerId];Ve===void 0&&(Ve=new Vector2,Y[Ee.pointerId]=Ve),Ve.set(Ee.pageX,Ee.pageY)}function pt(Ee){const Ve=Ee.pointerId===G[0].pointerId?G[1]:G[0];return Y[Ve.pointerId]}this.dollyIn=(Ee=ie())=>{te(Ee),o.update()},this.dollyOut=(Ee=ie())=>{ce(Ee),o.update()},this.getScale=()=>_,this.setScale=Ee=>{se(Ee),o.update()},this.getZoomScale=()=>ie(),n!==void 0&&this.connect(n),this.update()}};function workerBootstrap(){var t=Object.create(null);function e(l,u){var h=l.id,f=l.name,d=l.dependencies;d===void 0&&(d=[]);var p=l.init;p===void 0&&(p=function(){});var m=l.getTransferables;if(m===void 0&&(m=null),!t[h])try{d=d.map(function(_){return _&&_.isWorkerModule&&(e(_,function(S){if(S instanceof Error)throw S}),_=t[_.id].value),_}),p=o("<"+f+">.init",p),m&&(m=o("<"+f+">.getTransferables",m));var v=null;typeof p=="function"?v=p.apply(void 0,d):console.error("worker module init function failed to rehydrate"),t[h]={id:h,value:v,getTransferables:m},u(v)}catch(_){_&&_.noLog||console.error(_),u(_)}}function n(l,u){var h,f=l.id,d=l.args;(!t[f]||typeof t[f].value!="function")&&u(new Error("Worker module "+f+": not found or its 'init' did not return a function"));try{var p=(h=t[f]).value.apply(h,d);p&&typeof p.then=="function"?p.then(m,function(v){return u(v instanceof Error?v:new Error(""+v))}):m(p)}catch(v){u(v)}function m(v){try{var _=t[f].getTransferables&&t[f].getTransferables(v);(!_||!Array.isArray(_)||!_.length)&&(_=void 0),u(v,_)}catch(S){console.error(S),u(S)}}}function o(l,u){var h=void 0;self.troikaDefine=function(d){return h=d};var f=URL.createObjectURL(new Blob(["/** "+l.replace(/\*/g,"")+` **/

troikaDefine(
`+u+`
)`],{type:"application/javascript"}));try{importScripts(f)}catch(d){console.error(d)}return URL.revokeObjectURL(f),delete self.troikaDefine,h}self.addEventListener("message",function(l){var u=l.data,h=u.messageId,f=u.action,d=u.data;try{f==="registerModule"&&e(d,function(p){p instanceof Error?postMessage({messageId:h,success:!1,error:p.message}):postMessage({messageId:h,success:!0,result:{isCallable:typeof p=="function"}})}),f==="callModule"&&n(d,function(p,m){p instanceof Error?postMessage({messageId:h,success:!1,error:p.message}):postMessage({messageId:h,success:!0,result:p},m||void 0)})}catch(p){postMessage({messageId:h,success:!1,error:p.stack})}})}function defineMainThreadModule(t){var e=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return e._getInitResult().then(function(l){if(typeof l=="function")return l.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,o=t.init;n=Array.isArray(n)?n.map(function(u){return u&&(u=u.onMainThread||u,u._getInitResult&&(u=u._getInitResult())),u}):[];var l=Promise.all(n).then(function(u){return o.apply(null,u)});return e._getInitResult=function(){return l},l},e}var supportsWorkers=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return supportsWorkers=function(){return t},t},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(t){if((!t||typeof t.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,o=t.getTransferables,l=t.workerId,u=defineMainThreadModule(t);l==null&&(l="#default");var h="workerModule"+ ++_workerModuleId,f=t.name||h,d=null;e=e&&e.map(function(m){return typeof m=="function"&&!m.workerModuleData&&(_allowInitAsString=!0,m=defineWorkerModule({workerId:l,name:"<"+f+"> function dependency: "+m.name,init:`function(){return (
`+stringifyFunction(m)+`
)}`}),_allowInitAsString=!1),m&&m.workerModuleData&&(m=m.workerModuleData),m});function p(){for(var m=[],v=arguments.length;v--;)m[v]=arguments[v];if(!supportsWorkers())return u.apply(void 0,m);if(!d){d=callWorker(l,"registerModule",p.workerModuleData);var _=function(){d=null,registeredModules[l].delete(_)};(registeredModules[l]||(registeredModules[l]=new Set)).add(_)}return d.then(function(S){var T=S.isCallable;if(T)return callWorker(l,"callModule",{id:h,args:m});throw new Error("Worker module function was called but `init` did not return a callable function")})}return p.workerModuleData={isWorkerModule:!0,id:h,name:f,dependencies:e,init:stringifyFunction(n),getTransferables:o&&stringifyFunction(o)},p.onMainThread=u,p}function terminateWorker(t){registeredModules[t]&&registeredModules[t].forEach(function(e){e()}),workers[t]&&(workers[t].terminate(),delete workers[t])}function stringifyFunction(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function getWorker(t){var e=workers[t];if(!e){var n=stringifyFunction(workerBootstrap);e=workers[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(o){var l=o.data,u=l.messageId,h=openRequests[u];if(!h)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[u],h(l)}}return e}function callWorker(t,e,n){return new Promise(function(o,l){var u=++_messageId;openRequests[u]=function(h){h.success?o(h.result):l(new Error("Error in worker "+e+" call: "+h.error))},getWorker(t).postMessage({messageId:u,action:e,data:n})})}function SDFGenerator(){var t=function(e){function n(se,ce,te,fe,_e,ye,xe,Me){var be=1-xe;Me.x=be*be*se+2*be*xe*te+xe*xe*_e,Me.y=be*be*ce+2*be*xe*fe+xe*xe*ye}function o(se,ce,te,fe,_e,ye,xe,Me,be,Ce){var Re=1-be;Ce.x=Re*Re*Re*se+3*Re*Re*be*te+3*Re*be*be*_e+be*be*be*xe,Ce.y=Re*Re*Re*ce+3*Re*Re*be*fe+3*Re*be*be*ye+be*be*be*Me}function l(se,ce){for(var te=/([MLQCZ])([^MLQCZ]*)/g,fe,_e,ye,xe,Me;fe=te.exec(se);){var be=fe[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Ce){return parseFloat(Ce)});switch(fe[1]){case"M":xe=_e=be[0],Me=ye=be[1];break;case"L":(be[0]!==xe||be[1]!==Me)&&ce("L",xe,Me,xe=be[0],Me=be[1]);break;case"Q":{ce("Q",xe,Me,xe=be[2],Me=be[3],be[0],be[1]);break}case"C":{ce("C",xe,Me,xe=be[4],Me=be[5],be[0],be[1],be[2],be[3]);break}case"Z":(xe!==_e||Me!==ye)&&ce("L",xe,Me,_e,ye);break}}}function u(se,ce,te){te===void 0&&(te=16);var fe={x:0,y:0};l(se,function(_e,ye,xe,Me,be,Ce,Re,Ne,Oe){switch(_e){case"L":ce(ye,xe,Me,be);break;case"Q":{for(var Te=ye,tt=xe,de=1;de<te;de++)n(ye,xe,Ce,Re,Me,be,de/(te-1),fe),ce(Te,tt,fe.x,fe.y),Te=fe.x,tt=fe.y;break}case"C":{for(var Xe=ye,qe=xe,Ye=1;Ye<te;Ye++)o(ye,xe,Ce,Re,Ne,Oe,Me,be,Ye/(te-1),fe),ce(Xe,qe,fe.x,fe.y),Xe=fe.x,qe=fe.y;break}}})}var h="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",f="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",d=new WeakMap,p={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function m(se,ce){var te=se.getContext?se.getContext("webgl",p):se,fe=d.get(te);if(!fe){let Xe=function(ke){var ct=ye[ke];if(!ct&&(ct=ye[ke]=te.getExtension(ke),!ct))throw new Error(ke+" not supported");return ct},qe=function(ke,ct){var me=te.createShader(ct);return te.shaderSource(me,ke),te.compileShader(me),me},Ye=function(ke,ct,me,ue){if(!xe[ke]){var Ae={},We={},$e=te.createProgram();te.attachShader($e,qe(ct,te.VERTEX_SHADER)),te.attachShader($e,qe(me,te.FRAGMENT_SHADER)),te.linkProgram($e),xe[ke]={program:$e,transaction:function(ft){te.useProgram($e),ft({setUniform:function(gt,Et){for(var nt=[],dt=arguments.length-2;dt-- >0;)nt[dt]=arguments[dt+2];var pt=We[Et]||(We[Et]=te.getUniformLocation($e,Et));te["uniform"+gt].apply(te,[pt].concat(nt))},setAttribute:function(gt,Et,nt,dt,pt){var Ee=Ae[gt];Ee||(Ee=Ae[gt]={buf:te.createBuffer(),loc:te.getAttribLocation($e,gt),data:null}),te.bindBuffer(te.ARRAY_BUFFER,Ee.buf),te.vertexAttribPointer(Ee.loc,Et,te.FLOAT,!1,0,0),te.enableVertexAttribArray(Ee.loc),_e?te.vertexAttribDivisor(Ee.loc,dt):Xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ee.loc,dt),pt!==Ee.data&&(te.bufferData(te.ARRAY_BUFFER,pt,nt),Ee.data=pt)}})}}}xe[ke].transaction(ue)},Ie=function(ke,ct){be++;try{te.activeTexture(te.TEXTURE0+be);var me=Me[ke];me||(me=Me[ke]=te.createTexture(),te.bindTexture(te.TEXTURE_2D,me),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.NEAREST),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.NEAREST)),te.bindTexture(te.TEXTURE_2D,me),ct(me,be)}finally{be--}},et=function(ke,ct,me){var ue=te.createFramebuffer();Ce.push(ue),te.bindFramebuffer(te.FRAMEBUFFER,ue),te.activeTexture(te.TEXTURE0+ct),te.bindTexture(te.TEXTURE_2D,ke),te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,ke,0);try{me(ue)}finally{te.deleteFramebuffer(ue),te.bindFramebuffer(te.FRAMEBUFFER,Ce[--Ce.length-1]||null)}},Ue=function(){ye={},xe={},Me={},be=-1,Ce.length=0};var Re=Xe,Ne=qe,Oe=Ye,Te=Ie,tt=et,de=Ue,_e=typeof WebGL2RenderingContext<"u"&&te instanceof WebGL2RenderingContext,ye={},xe={},Me={},be=-1,Ce=[];te.canvas.addEventListener("webglcontextlost",function(ke){Ue(),ke.preventDefault()},!1),d.set(te,fe={gl:te,isWebGL2:_e,getExtension:Xe,withProgram:Ye,withTexture:Ie,withTextureFramebuffer:et,handleContextLoss:Ue})}ce(fe)}function v(se,ce,te,fe,_e,ye,xe,Me){xe===void 0&&(xe=15),Me===void 0&&(Me=null),m(se,function(be){var Ce=be.gl,Re=be.withProgram,Ne=be.withTexture;Ne("copy",function(Oe,Te){Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,_e,ye,0,Ce.RGBA,Ce.UNSIGNED_BYTE,ce),Re("copy",h,f,function(tt){var de=tt.setUniform,Xe=tt.setAttribute;Xe("aUV",2,Ce.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),de("1i","image",Te),Ce.bindFramebuffer(Ce.FRAMEBUFFER,Me||null),Ce.disable(Ce.BLEND),Ce.colorMask(xe&8,xe&4,xe&2,xe&1),Ce.viewport(te,fe,_e,ye),Ce.scissor(te,fe,_e,ye),Ce.drawArrays(Ce.TRIANGLES,0,3)})})})}function _(se,ce,te){var fe=se.width,_e=se.height;m(se,function(ye){var xe=ye.gl,Me=new Uint8Array(fe*_e*4);xe.readPixels(0,0,fe,_e,xe.RGBA,xe.UNSIGNED_BYTE,Me),se.width=ce,se.height=te,v(xe,Me,0,0,fe,_e)})}var S=Object.freeze({__proto__:null,withWebGLContext:m,renderImageData:v,resizeWebGLCanvasWithoutClearing:_});function T(se,ce,te,fe,_e,ye){ye===void 0&&(ye=1);var xe=new Uint8Array(se*ce),Me=fe[2]-fe[0],be=fe[3]-fe[1],Ce=[];u(te,function(Xe,qe,Ye,Ie){Ce.push({x1:Xe,y1:qe,x2:Ye,y2:Ie,minX:Math.min(Xe,Ye),minY:Math.min(qe,Ie),maxX:Math.max(Xe,Ye),maxY:Math.max(qe,Ie)})}),Ce.sort(function(Xe,qe){return Xe.maxX-qe.maxX});for(var Re=0;Re<se;Re++)for(var Ne=0;Ne<ce;Ne++){var Oe=tt(fe[0]+Me*(Re+.5)/se,fe[1]+be*(Ne+.5)/ce),Te=Math.pow(1-Math.abs(Oe)/_e,ye)/2;Oe<0&&(Te=1-Te),Te=Math.max(0,Math.min(255,Math.round(Te*255))),xe[Ne*se+Re]=Te}return xe;function tt(Xe,qe){for(var Ye=1/0,Ie=1/0,et=Ce.length;et--;){var Ue=Ce[et];if(Ue.maxX+Ie<=Xe)break;if(Xe+Ie>Ue.minX&&qe-Ie<Ue.maxY&&qe+Ie>Ue.minY){var ke=C(Xe,qe,Ue.x1,Ue.y1,Ue.x2,Ue.y2);ke<Ye&&(Ye=ke,Ie=Math.sqrt(Ye))}}return de(Xe,qe)&&(Ie=-Ie),Ie}function de(Xe,qe){for(var Ye=0,Ie=Ce.length;Ie--;){var et=Ce[Ie];if(et.maxX<=Xe)break;var Ue=et.y1>qe!=et.y2>qe&&Xe<(et.x2-et.x1)*(qe-et.y1)/(et.y2-et.y1)+et.x1;Ue&&(Ye+=et.y1<et.y2?1:-1)}return Ye!==0}}function A(se,ce,te,fe,_e,ye,xe,Me,be,Ce){ye===void 0&&(ye=1),Me===void 0&&(Me=0),be===void 0&&(be=0),Ce===void 0&&(Ce=0),w(se,ce,te,fe,_e,ye,xe,null,Me,be,Ce)}function w(se,ce,te,fe,_e,ye,xe,Me,be,Ce,Re){ye===void 0&&(ye=1),be===void 0&&(be=0),Ce===void 0&&(Ce=0),Re===void 0&&(Re=0);for(var Ne=T(se,ce,te,fe,_e,ye),Oe=new Uint8Array(Ne.length*4),Te=0;Te<Ne.length;Te++)Oe[Te*4+Re]=Ne[Te];v(xe,Oe,be,Ce,se,ce,1<<3-Re,Me)}function C(se,ce,te,fe,_e,ye){var xe=_e-te,Me=ye-fe,be=xe*xe+Me*Me,Ce=be?Math.max(0,Math.min(1,((se-te)*xe+(ce-fe)*Me)/be)):0,Re=se-(te+Ce*xe),Ne=ce-(fe+Ce*Me);return Re*Re+Ne*Ne}var O=Object.freeze({__proto__:null,generate:T,generateIntoCanvas:A,generateIntoFramebuffer:w}),L="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",F="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",B="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",U=new Float32Array([0,0,2,0,0,2]),V=null,q=!1,H={},G=new WeakMap;function Y(se){if(!q&&!le(se))throw new Error("WebGL generation not supported")}function Q(se,ce,te,fe,_e,ye,xe){if(ye===void 0&&(ye=1),xe===void 0&&(xe=null),!xe&&(xe=V,!xe)){var Me=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Me)throw new Error("OffscreenCanvas or DOM canvas not supported");xe=V=Me.getContext("webgl",{depth:!1})}Y(xe);var be=new Uint8Array(se*ce*4);m(xe,function(Oe){var Te=Oe.gl,tt=Oe.withTexture,de=Oe.withTextureFramebuffer;tt("readable",function(Xe,qe){Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,se,ce,0,Te.RGBA,Te.UNSIGNED_BYTE,null),de(Xe,qe,function(Ye){ae(se,ce,te,fe,_e,ye,Te,Ye,0,0,0),Te.readPixels(0,0,se,ce,Te.RGBA,Te.UNSIGNED_BYTE,be)})})});for(var Ce=new Uint8Array(se*ce),Re=0,Ne=0;Re<be.length;Re+=4)Ce[Ne++]=be[Re];return Ce}function ie(se,ce,te,fe,_e,ye,xe,Me,be,Ce){ye===void 0&&(ye=1),Me===void 0&&(Me=0),be===void 0&&(be=0),Ce===void 0&&(Ce=0),ae(se,ce,te,fe,_e,ye,xe,null,Me,be,Ce)}function ae(se,ce,te,fe,_e,ye,xe,Me,be,Ce,Re){ye===void 0&&(ye=1),be===void 0&&(be=0),Ce===void 0&&(Ce=0),Re===void 0&&(Re=0),Y(xe);var Ne=[];u(te,function(Oe,Te,tt,de){Ne.push(Oe,Te,tt,de)}),Ne=new Float32Array(Ne),m(xe,function(Oe){var Te=Oe.gl,tt=Oe.isWebGL2,de=Oe.getExtension,Xe=Oe.withProgram,qe=Oe.withTexture,Ye=Oe.withTextureFramebuffer,Ie=Oe.handleContextLoss;if(qe("rawDistances",function(et,Ue){(se!==et._lastWidth||ce!==et._lastHeight)&&Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,et._lastWidth=se,et._lastHeight=ce,0,Te.RGBA,Te.UNSIGNED_BYTE,null),Xe("main",L,F,function(ke){var ct=ke.setAttribute,me=ke.setUniform,ue=!tt&&de("ANGLE_instanced_arrays"),Ae=!tt&&de("EXT_blend_minmax");ct("aUV",2,Te.STATIC_DRAW,0,U),ct("aLineSegment",4,Te.DYNAMIC_DRAW,1,Ne),me.apply(void 0,["4f","uGlyphBounds"].concat(fe)),me("1f","uMaxDistance",_e),me("1f","uExponent",ye),Ye(et,Ue,function(We){Te.enable(Te.BLEND),Te.colorMask(!0,!0,!0,!0),Te.viewport(0,0,se,ce),Te.scissor(0,0,se,ce),Te.blendFunc(Te.ONE,Te.ONE),Te.blendEquationSeparate(Te.FUNC_ADD,tt?Te.MAX:Ae.MAX_EXT),Te.clear(Te.COLOR_BUFFER_BIT),tt?Te.drawArraysInstanced(Te.TRIANGLES,0,3,Ne.length/4):ue.drawArraysInstancedANGLE(Te.TRIANGLES,0,3,Ne.length/4)})}),Xe("post",h,B,function(ke){ke.setAttribute("aUV",2,Te.STATIC_DRAW,0,U),ke.setUniform("1i","tex",Ue),Te.bindFramebuffer(Te.FRAMEBUFFER,Me),Te.disable(Te.BLEND),Te.colorMask(Re===0,Re===1,Re===2,Re===3),Te.viewport(be,Ce,se,ce),Te.scissor(be,Ce,se,ce),Te.drawArrays(Te.TRIANGLES,0,3)})}),Te.isContextLost())throw Ie(),new Error("webgl context lost")})}function le(se){var ce=!se||se===V?H:se.canvas||se,te=G.get(ce);if(te===void 0){q=!0;var fe=null;try{var _e=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ye=Q(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,se);te=ye&&_e.length===ye.length&&ye.every(function(xe,Me){return xe===_e[Me]}),te||(fe="bad trial run results",console.info(_e,ye))}catch(xe){te=!1,fe=xe.message}fe&&console.warn("WebGL SDF generation not supported:",fe),q=!1,G.set(ce,te)}return te}var he=Object.freeze({__proto__:null,generate:Q,generateIntoCanvas:ie,generateIntoFramebuffer:ae,isSupported:le});function ge(se,ce,te,fe,_e,ye){_e===void 0&&(_e=Math.max(fe[2]-fe[0],fe[3]-fe[1])/2),ye===void 0&&(ye=1);try{return Q.apply(he,arguments)}catch(xe){return console.info("WebGL SDF generation failed, falling back to JS",xe),T.apply(O,arguments)}}function J(se,ce,te,fe,_e,ye,xe,Me,be,Ce){_e===void 0&&(_e=Math.max(fe[2]-fe[0],fe[3]-fe[1])/2),ye===void 0&&(ye=1),Me===void 0&&(Me=0),be===void 0&&(be=0),Ce===void 0&&(Ce=0);try{return ie.apply(he,arguments)}catch(Re){return console.info("WebGL SDF generation failed, falling back to JS",Re),A.apply(O,arguments)}}return e.forEachPathCommand=l,e.generate=ge,e.generateIntoCanvas=J,e.javascript=O,e.pathToLineSegments=u,e.webgl=he,e.webglUtils=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function bidiFactory(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},l={};o.L=1,l[1]="L",Object.keys(n).forEach(function(Ie,et){o[Ie]=1<<et+1,l[o[Ie]]=Ie}),Object.freeze(o);var u=o.LRI|o.RLI|o.FSI,h=o.L|o.R|o.AL,f=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,d=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,p=o.S|o.WS|o.B|u|o.PDI|d,m=null;function v(){if(!m){m=new Map;var Ie=function(Ue){if(n.hasOwnProperty(Ue)){var ke=0;n[Ue].split(",").forEach(function(ct){var me=ct.split("+"),ue=me[0],Ae=me[1];ue=parseInt(ue,36),Ae=Ae?parseInt(Ae,36):0,m.set(ke+=ue,o[Ue]);for(var We=0;We<Ae;We++)m.set(++ke,o[Ue])})}};for(var et in n)Ie(et)}}function _(Ie){return v(),m.get(Ie.codePointAt(0))||o.L}function S(Ie){return l[_(Ie)]}var T={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function A(Ie,et){var Ue=36,ke=0,ct=new Map,me=et&&new Map,ue;return Ie.split(",").forEach(function Ae(We){if(We.indexOf("+")!==-1)for(var $e=+We;$e--;)Ae(ue);else{ue=We;var je=We.split(">"),ft=je[0],ht=je[1];ft=String.fromCodePoint(ke+=parseInt(ft,Ue)),ht=String.fromCodePoint(ke+=parseInt(ht,Ue)),ct.set(ft,ht),et&&me.set(ht,ft)}}),{map:ct,reverseMap:me}}var w,C,O;function L(){if(!w){var Ie=A(T.pairs,!0),et=Ie.map,Ue=Ie.reverseMap;w=et,C=Ue,O=A(T.canonical,!1).map}}function F(Ie){return L(),w.get(Ie)||null}function B(Ie){return L(),C.get(Ie)||null}function U(Ie){return L(),O.get(Ie)||null}var V=o.L,q=o.R,H=o.EN,G=o.ES,Y=o.ET,Q=o.AN,ie=o.CS,ae=o.B,le=o.S,he=o.ON,ge=o.BN,J=o.NSM,se=o.AL,ce=o.LRO,te=o.RLO,fe=o.LRE,_e=o.RLE,ye=o.PDF,xe=o.LRI,Me=o.RLI,be=o.FSI,Ce=o.PDI;function Re(Ie,et){for(var Ue=125,ke=new Uint32Array(Ie.length),ct=0;ct<Ie.length;ct++)ke[ct]=_(Ie[ct]);var me=new Map;function ue(Jn,ar){var Hn=ke[Jn];ke[Jn]=ar,me.set(Hn,me.get(Hn)-1),Hn&f&&me.set(f,me.get(f)-1),me.set(ar,(me.get(ar)||0)+1),ar&f&&me.set(f,(me.get(f)||0)+1)}for(var Ae=new Uint8Array(Ie.length),We=new Map,$e=[],je=null,ft=0;ft<Ie.length;ft++)je||$e.push(je={start:ft,end:Ie.length-1,level:et==="rtl"?1:et==="ltr"?0:dr(ft,!1)}),ke[ft]&ae&&(je.end=ft,je=null);for(var ht=_e|fe|te|ce|u|Ce|ye|ae,gt=function(Jn){return Jn+(Jn&1?1:2)},Et=function(Jn){return Jn+(Jn&1?2:1)},nt=0;nt<$e.length;nt++){je=$e[nt];var dt=[{_level:je.level,_override:0,_isolate:0}],pt=void 0,Ee=0,Ve=0,mt=0;me.clear();for(var we=je.start;we<=je.end;we++){var at=ke[we];if(pt=dt[dt.length-1],me.set(at,(me.get(at)||0)+1),at&f&&me.set(f,(me.get(f)||0)+1),at&ht)if(at&(_e|fe)){Ae[we]=pt._level;var st=(at===_e?Et:gt)(pt._level);st<=Ue&&!Ee&&!Ve?dt.push({_level:st,_override:0,_isolate:0}):Ee||Ve++}else if(at&(te|ce)){Ae[we]=pt._level;var Tt=(at===te?Et:gt)(pt._level);Tt<=Ue&&!Ee&&!Ve?dt.push({_level:Tt,_override:at&te?q:V,_isolate:0}):Ee||Ve++}else if(at&u){at&be&&(at=dr(we+1,!0)===1?Me:xe),Ae[we]=pt._level,pt._override&&ue(we,pt._override);var ut=(at===Me?Et:gt)(pt._level);ut<=Ue&&Ee===0&&Ve===0?(mt++,dt.push({_level:ut,_override:0,_isolate:1,_isolInitIndex:we})):Ee++}else if(at&Ce){if(Ee>0)Ee--;else if(mt>0){for(Ve=0;!dt[dt.length-1]._isolate;)dt.pop();var Je=dt[dt.length-1]._isolInitIndex;Je!=null&&(We.set(Je,we),We.set(we,Je)),dt.pop(),mt--}pt=dt[dt.length-1],Ae[we]=pt._level,pt._override&&ue(we,pt._override)}else at&ye?(Ee===0&&(Ve>0?Ve--:!pt._isolate&&dt.length>1&&(dt.pop(),pt=dt[dt.length-1])),Ae[we]=pt._level):at&ae&&(Ae[we]=je.level);else Ae[we]=pt._level,pt._override&&at!==ge&&ue(we,pt._override)}for(var _t=[],Ct=null,Rt=je.start;Rt<=je.end;Rt++){var jt=ke[Rt];if(!(jt&d)){var pn=Ae[Rt],mn=jt&u,wn=jt===Ce;Ct&&pn===Ct._level?(Ct._end=Rt,Ct._endsWithIsolInit=mn):_t.push(Ct={_start:Rt,_end:Rt,_level:pn,_startsWithPDI:wn,_endsWithIsolInit:mn})}}for(var Kn=[],nr=0;nr<_t.length;nr++){var Vn=_t[nr];if(!Vn._startsWithPDI||Vn._startsWithPDI&&!We.has(Vn._start)){for(var Pr=[Ct=Vn],rr=void 0;Ct&&Ct._endsWithIsolInit&&(rr=We.get(Ct._end))!=null;)for(var lr=nr+1;lr<_t.length;lr++)if(_t[lr]._start===rr){Pr.push(Ct=_t[lr]);break}for(var Yn=[],qr=0;qr<Pr.length;qr++)for(var Va=Pr[qr],Hr=Va._start;Hr<=Va._end;Hr++)Yn.push(Hr);for(var _s=Ae[Yn[0]],za=je.level,Xi=Yn[0]-1;Xi>=0;Xi--)if(!(ke[Xi]&d)){za=Ae[Xi];break}var Sa=Yn[Yn.length-1],bs=Ae[Sa],Ga=je.level;if(!(ke[Sa]&u)){for(var ve=Sa+1;ve<=je.end;ve++)if(!(ke[ve]&d)){Ga=Ae[ve];break}}Kn.push({_seqIndices:Yn,_sosType:Math.max(za,_s)%2?q:V,_eosType:Math.max(Ga,bs)%2?q:V})}}for(var Ge=0;Ge<Kn.length;Ge++){var rt=Kn[Ge],De=rt._seqIndices,ze=rt._sosType,xt=rt._eosType,At=Ae[De[0]]&1?q:V;if(me.get(J))for(var Ot=0;Ot<De.length;Ot++){var Dt=De[Ot];if(ke[Dt]&J){for(var Gt=ze,$t=Ot-1;$t>=0;$t--)if(!(ke[De[$t]]&d)){Gt=ke[De[$t]];break}ue(Dt,Gt&(u|Ce)?he:Gt)}}if(me.get(H))for(var bt=0;bt<De.length;bt++){var Bt=De[bt];if(ke[Bt]&H)for(var Wt=bt-1;Wt>=-1;Wt--){var nn=Wt===-1?ze:ke[De[Wt]];if(nn&h){nn===se&&ue(Bt,Q);break}}}if(me.get(se))for(var sn=0;sn<De.length;sn++){var rn=De[sn];ke[rn]&se&&ue(rn,q)}if(me.get(G)||me.get(ie))for(var Nt=1;Nt<De.length-1;Nt++){var hn=De[Nt];if(ke[hn]&(G|ie)){for(var Zt=0,zn=0,ei=Nt-1;ei>=0&&(Zt=ke[De[ei]],!!(Zt&d));ei--);for(var jn=Nt+1;jn<De.length&&(zn=ke[De[jn]],!!(zn&d));jn++);Zt===zn&&(ke[hn]===G?Zt===H:Zt&(H|Q))&&ue(hn,Zt)}}if(me.get(H))for(var Gn=0;Gn<De.length;Gn++){var fn=De[Gn];if(ke[fn]&H){for(var qn=Gn-1;qn>=0&&ke[De[qn]]&(Y|d);qn--)ue(De[qn],H);for(Gn++;Gn<De.length&&ke[De[Gn]]&(Y|d|H);Gn++)ke[De[Gn]]!==H&&ue(De[Gn],H)}}if(me.get(Y)||me.get(G)||me.get(ie))for(var In=0;In<De.length;In++){var Zn=De[In];if(ke[Zn]&(Y|G|ie)){ue(Zn,he);for(var Tn=In-1;Tn>=0&&ke[De[Tn]]&d;Tn--)ue(De[Tn],he);for(var on=In+1;on<De.length&&ke[De[on]]&d;on++)ue(De[on],he)}}if(me.get(H))for(var cr=0,Ea=ze;cr<De.length;cr++){var Ss=De[cr],Es=ke[Ss];Es&H?Ea===V&&ue(Ss,V):Es&h&&(Ea=Es)}if(me.get(f)){var Fi=q|H|Q,qa=Fi|V,di=[];{for(var Mi=[],_r=0;_r<De.length;_r++)if(ke[De[_r]]&f){var Jt=Ie[De[_r]],mi=void 0;if(F(Jt)!==null)if(Mi.length<63)Mi.push({char:Jt,seqIndex:_r});else break;else if((mi=B(Jt))!==null)for(var ti=Mi.length-1;ti>=0;ti--){var ji=Mi[ti].char;if(ji===mi||ji===B(U(Jt))||F(U(ji))===Jt){di.push([Mi[ti].seqIndex,_r]),Mi.length=ti;break}}}di.sort(function(Jn,ar){return Jn[0]-ar[0]})}for(var gi=0;gi<di.length;gi++){for(var ko=di[gi],Dn=ko[0],Ai=ko[1],Lo=!1,Cr=0,wa=Dn+1;wa<Ai;wa++){var Ta=De[wa];if(ke[Ta]&qa){Lo=!0;var ni=ke[Ta]&Fi?q:V;if(ni===At){Cr=ni;break}}}if(Lo&&!Cr){Cr=ze;for(var Ki=Dn-1;Ki>=0;Ki--){var Ma=De[Ki];if(ke[Ma]&qa){var ur=ke[Ma]&Fi?q:V;ur!==At?Cr=ur:Cr=At;break}}}if(Cr){if(ke[De[Dn]]=ke[De[Ai]]=Cr,Cr!==At){for(var hr=Dn+1;hr<De.length;hr++)if(!(ke[De[hr]]&d)){_(Ie[De[hr]])&J&&(ke[De[hr]]=Cr);break}}if(Cr!==At){for(var Bi=Ai+1;Bi<De.length;Bi++)if(!(ke[De[Bi]]&d)){_(Ie[De[Bi]])&J&&(ke[De[Bi]]=Cr);break}}}}for(var yi=0;yi<De.length;yi++)if(ke[De[yi]]&f){for(var Ha=yi,Aa=yi,Rr=ze,Pa=yi-1;Pa>=0;Pa--)if(ke[De[Pa]]&d)Ha=Pa;else{Rr=ke[De[Pa]]&Fi?q:V;break}for(var Wr=xt,Yi=yi+1;Yi<De.length;Yi++)if(ke[De[Yi]]&(f|d))Aa=Yi;else{Wr=ke[De[Yi]]&Fi?q:V;break}for(var fr=Ha;fr<=Aa;fr++)ke[De[fr]]=Rr===Wr?Rr:At;yi=Aa}}}for(var ir=je.start;ir<=je.end;ir++){var Zi=Ae[ir],Xr=ke[ir];if(Zi&1?Xr&(V|H|Q)&&Ae[ir]++:Xr&q?Ae[ir]++:Xr&(Q|H)&&(Ae[ir]+=2),Xr&d&&(Ae[ir]=ir===0?je.level:Ae[ir-1]),ir===je.end||_(Ie[ir])&(le|ae))for(var Ji=ir;Ji>=0&&_(Ie[Ji])&p;Ji--)Ae[Ji]=je.level}}return{levels:Ae,paragraphs:$e};function dr(Jn,ar){for(var Hn=Jn;Hn<Ie.length;Hn++){var Ln=ke[Hn];if(Ln&(q|se))return 1;if(Ln&(ae|V)||ar&&Ln===Ce)return 0;if(Ln&u){var Fr=Qi(Hn);Hn=Fr===-1?Ie.length:Fr}}return 0}function Qi(Jn){for(var ar=1,Hn=Jn+1;Hn<Ie.length;Hn++){var Ln=ke[Hn];if(Ln&ae)break;if(Ln&Ce){if(--ar===0)return Hn}else Ln&u&&ar++}return-1}}var Ne="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Oe;function Te(){if(!Oe){var Ie=A(Ne,!0),et=Ie.map,Ue=Ie.reverseMap;Ue.forEach(function(ke,ct){et.set(ct,ke)}),Oe=et}}function tt(Ie){return Te(),Oe.get(Ie)||null}function de(Ie,et,Ue,ke){var ct=Ie.length;Ue=Math.max(0,Ue==null?0:+Ue),ke=Math.min(ct-1,ke==null?ct-1:+ke);for(var me=new Map,ue=Ue;ue<=ke;ue++)if(et[ue]&1){var Ae=tt(Ie[ue]);Ae!==null&&me.set(ue,Ae)}return me}function Xe(Ie,et,Ue,ke){var ct=Ie.length;Ue=Math.max(0,Ue==null?0:+Ue),ke=Math.min(ct-1,ke==null?ct-1:+ke);var me=[];return et.paragraphs.forEach(function(ue){var Ae=Math.max(Ue,ue.start),We=Math.min(ke,ue.end);if(Ae<We){for(var $e=et.levels.slice(Ae,We+1),je=We;je>=Ae&&_(Ie[je])&p;je--)$e[je]=ue.level;for(var ft=ue.level,ht=1/0,gt=0;gt<$e.length;gt++){var Et=$e[gt];Et>ft&&(ft=Et),Et<ht&&(ht=Et|1)}for(var nt=ft;nt>=ht;nt--)for(var dt=0;dt<$e.length;dt++)if($e[dt]>=nt){for(var pt=dt;dt+1<$e.length&&$e[dt+1]>=nt;)dt++;dt>pt&&me.push([pt+Ae,dt+Ae])}}}),me}function qe(Ie,et,Ue,ke){var ct=Ye(Ie,et,Ue,ke),me=[].concat(Ie);return ct.forEach(function(ue,Ae){me[Ae]=(et.levels[ue]&1?tt(Ie[ue]):null)||Ie[ue]}),me.join("")}function Ye(Ie,et,Ue,ke){for(var ct=Xe(Ie,et,Ue,ke),me=[],ue=0;ue<Ie.length;ue++)me[ue]=ue;return ct.forEach(function(Ae){for(var We=Ae[0],$e=Ae[1],je=me.slice(We,$e+1),ft=je.length;ft--;)me[$e-ft]=je[ft]}),me}return e.closingToOpeningBracket=B,e.getBidiCharType=_,e.getBidiCharTypeName=S,e.getCanonicalBracket=U,e.getEmbeddingLevels=Re,e.getMirroredCharacter=tt,e.getMirroredCharactersMap=de,e.getReorderSegments=Xe,e.getReorderedIndices=Ye,e.getReorderedString=qe,e.openingToClosingBracket=F,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(o,l){let u=ShaderChunk[l];return u?expandShaderIncludes(u):o}return t.replace(e,n)}const _lut=[];for(let t=0;t<256;t++)_lut[t]=(t<16?"0":"")+t.toString(16);function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[n&63|128]+_lut[n>>8&255]+"-"+_lut[n>>16&255]+_lut[n>>24&255]+_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]).toUpperCase()}const assign$2=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let o=arguments[e];if(o)for(let l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(t,e){const n=getKeyForOptions(e);let o=CONSTRUCTOR_CACHE.get(t);if(o||CONSTRUCTOR_CACHE.set(t,o=Object.create(null)),o[n])return new o[n];const l=`_onBeforeCompile${n}`,u=function(p,m){t.onBeforeCompile.call(this,p,m);const v=this.customProgramCacheKey()+"|"+p.vertexShader+"|"+p.fragmentShader;let _=SHADER_UPGRADE_CACHE[v];if(!_){const S=upgradeShaders(this,p,e,n);_=SHADER_UPGRADE_CACHE[v]=S}p.vertexShader=_.vertexShader,p.fragmentShader=_.fragmentShader,assign$2(p.uniforms,this.uniforms),e.timeUniform&&(p.uniforms[e.timeUniform]={get value(){return Date.now()-epoch}}),this[l]&&this[l](p)},h=function(){return f(e.chained?t:t.clone())},f=function(p){const m=Object.create(p,d);return Object.defineProperty(m,"baseMaterial",{value:t}),Object.defineProperty(m,"id",{value:materialInstanceId++}),m.uuid=generateUUID(),m.uniforms=assign$2({},p.uniforms,e.uniforms),m.defines=assign$2({},p.defines,e.defines),m.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",m.extensions=assign$2({},p.extensions,e.extensions),m._listeners=void 0,m},d={constructor:{value:h},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:p=>{t.type=p}},isDerivedFrom:{writable:!0,configurable:!0,value:function(p){const m=this.baseMaterial;return p===m||m.isDerivedMaterial&&m.isDerivedFrom(p)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return u},set(p){this[l]=p}},copy:{writable:!0,configurable:!0,value:function(p){return t.copy.call(this,p),!t.isShaderMaterial&&!t.isDerivedMaterial&&(assign$2(this.extensions,p.extensions),assign$2(this.defines,p.defines),assign$2(this.uniforms,UniformsUtils.clone(p.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const p=new t.constructor;return f(p).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let p=this._depthMaterial;return p||(p=this._depthMaterial=createDerivedMaterial(t.isDerivedMaterial?t.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),e),p.defines.IS_DEPTH_MATERIAL="",p.uniforms=this.uniforms),p}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let p=this._distanceMaterial;return p||(p=this._distanceMaterial=createDerivedMaterial(t.isDerivedMaterial?t.getDistanceMaterial():new MeshDistanceMaterial,e),p.defines.IS_DISTANCE_MATERIAL="",p.uniforms=this.uniforms),p}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:p,_distanceMaterial:m}=this;p&&p.dispose(),m&&m.dispose(),t.dispose.call(this)}}};return o[n]=h,new h}function upgradeShaders(t,{vertexShader:e,fragmentShader:n},o,l){let{vertexDefs:u,vertexMainIntro:h,vertexMainOutro:f,vertexTransform:d,fragmentDefs:p,fragmentMainIntro:m,fragmentMainOutro:v,fragmentColorTransform:_,customRewriter:S,timeUniform:T}=o;if(u=u||"",h=h||"",f=f||"",p=p||"",m=m||"",v=v||"",(d||S)&&(e=expandShaderIncludes(e)),(_||S)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=expandShaderIncludes(n)),S){let A=S({vertexShader:e,fragmentShader:n});e=A.vertexShader,n=A.fragmentShader}if(_){let A=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(A.push(w),"")),v=`${_}
${A.join(`
`)}
${v}`}if(T){const A=`
uniform float ${T};
`;u=A+u,p=A+p}return d&&(e=`vec3 troika_position_${l};
vec3 troika_normal_${l};
vec2 troika_uv_${l};
${e}
`,u=`${u}
void troikaVertexTransform${l}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${d}
}
`,h=`
troika_position_${l} = vec3(position);
troika_normal_${l} = vec3(normal);
troika_uv_${l} = vec2(uv);
troikaVertexTransform${l}(troika_position_${l}, troika_normal_${l}, troika_uv_${l});
${h}
`,e=e.replace(/\b(position|normal|uv)\b/g,(A,w,C,O)=>/\battribute\s+vec[23]\s+$/.test(O.substr(0,C))?w:`troika_${w}_${l}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${l}`))),e=injectIntoShaderCode(e,l,u,h,f),n=injectIntoShaderCode(n,l,p,m,v),{vertexShader:e,fragmentShader:n}}function injectIntoShaderCode(t,e,n,o,l){return(o||l||n)&&(t=t.replace(voidMainRegExp,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${o}
  troikaOrigMain${e}();
  ${l}
}`),t}function optionsJsonReplacer(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(t){const e=JSON.stringify(t,optionsJsonReplacer);let n=optionsHashesToIds.get(e);return n==null&&optionsHashesToIds.set(e,n=++_idCtr),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(l){var u=e._bin,h=new Uint8Array(l);if(u.readASCII(h,0,4)=="ttcf"){var f=4;u.readUshort(h,f),f+=2,u.readUshort(h,f),f+=2;var d=u.readUint(h,f);f+=4;for(var p=[],m=0;m<d;m++){var v=u.readUint(h,f);f+=4,p.push(e._readFont(h,v))}return p}return[e._readFont(h,0)]},_readFont:function(l,u){var h=e._bin,f=u;h.readFixed(l,u),u+=4;var d=h.readUshort(l,u);u+=2,h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2;for(var p=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],m={_data:l,_offset:f},v={},_=0;_<d;_++){var S=h.readASCII(l,u,4);u+=4,h.readUint(l,u),u+=4;var T=h.readUint(l,u);u+=4;var A=h.readUint(l,u);u+=4,v[S]={offset:T,length:A}}for(_=0;_<p.length;_++){var w=p[_];v[w]&&(m[w.trim()]=e[w.trim()].parse(l,v[w].offset,v[w].length,m))}return m},_tabOffset:function(l,u,h){for(var f=e._bin,d=f.readUshort(l,h+4),p=h+12,m=0;m<d;m++){var v=f.readASCII(l,p,4);p+=4,f.readUint(l,p),p+=4;var _=f.readUint(l,p);if(p+=4,f.readUint(l,p),p+=4,v==u)return _}return 0}};e._bin={readFixed:function(l,u){return(l[u]<<8|l[u+1])+(l[u+2]<<8|l[u+3])/65540},readF2dot14:function(l,u){return e._bin.readShort(l,u)/16384},readInt:function(l,u){return e._bin._view(l).getInt32(u)},readInt8:function(l,u){return e._bin._view(l).getInt8(u)},readShort:function(l,u){return e._bin._view(l).getInt16(u)},readUshort:function(l,u){return e._bin._view(l).getUint16(u)},readUshorts:function(l,u,h){for(var f=[],d=0;d<h;d++)f.push(e._bin.readUshort(l,u+2*d));return f},readUint:function(l,u){return e._bin._view(l).getUint32(u)},readUint64:function(l,u){return 4294967296*e._bin.readUint(l,u)+e._bin.readUint(l,u+4)},readASCII:function(l,u,h){for(var f="",d=0;d<h;d++)f+=String.fromCharCode(l[u+d]);return f},readUnicode:function(l,u,h){for(var f="",d=0;d<h;d++){var p=l[u++]<<8|l[u++];f+=String.fromCharCode(p)}return f},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(l,u,h){var f=e._bin._tdec;return f&&u==0&&h==l.length?f.decode(l):e._bin.readASCII(l,u,h)},readBytes:function(l,u,h){for(var f=[],d=0;d<h;d++)f.push(l[u+d]);return f},readASCIIArray:function(l,u,h){for(var f=[],d=0;d<h;d++)f.push(String.fromCharCode(l[u+d]));return f},_view:function(l){return l._dataView||(l._dataView=l.buffer?new DataView(l.buffer,l.byteOffset,l.byteLength):new DataView(new Uint8Array(l).buffer))}},e._lctf={},e._lctf.parse=function(l,u,h,f,d){var p=e._bin,m={},v=u;p.readFixed(l,u),u+=4;var _=p.readUshort(l,u);u+=2;var S=p.readUshort(l,u);u+=2;var T=p.readUshort(l,u);return u+=2,m.scriptList=e._lctf.readScriptList(l,v+_),m.featureList=e._lctf.readFeatureList(l,v+S),m.lookupList=e._lctf.readLookupList(l,v+T,d),m},e._lctf.readLookupList=function(l,u,h){var f=e._bin,d=u,p=[],m=f.readUshort(l,u);u+=2;for(var v=0;v<m;v++){var _=f.readUshort(l,u);u+=2;var S=e._lctf.readLookupTable(l,d+_,h);p.push(S)}return p},e._lctf.readLookupTable=function(l,u,h){var f=e._bin,d=u,p={tabs:[]};p.ltype=f.readUshort(l,u),u+=2,p.flag=f.readUshort(l,u),u+=2;var m=f.readUshort(l,u);u+=2;for(var v=p.ltype,_=0;_<m;_++){var S=f.readUshort(l,u);u+=2;var T=h(l,v,d+S,p);p.tabs.push(T)}return p},e._lctf.numOfOnes=function(l){for(var u=0,h=0;h<32;h++)(l>>>h&1)!=0&&u++;return u},e._lctf.readClassDef=function(l,u){var h=e._bin,f=[],d=h.readUshort(l,u);if(u+=2,d==1){var p=h.readUshort(l,u);u+=2;var m=h.readUshort(l,u);u+=2;for(var v=0;v<m;v++)f.push(p+v),f.push(p+v),f.push(h.readUshort(l,u)),u+=2}if(d==2){var _=h.readUshort(l,u);for(u+=2,v=0;v<_;v++)f.push(h.readUshort(l,u)),u+=2,f.push(h.readUshort(l,u)),u+=2,f.push(h.readUshort(l,u)),u+=2}return f},e._lctf.getInterval=function(l,u){for(var h=0;h<l.length;h+=3){var f=l[h],d=l[h+1];if(l[h+2],f<=u&&u<=d)return h}return-1},e._lctf.readCoverage=function(l,u){var h=e._bin,f={};f.fmt=h.readUshort(l,u),u+=2;var d=h.readUshort(l,u);return u+=2,f.fmt==1&&(f.tab=h.readUshorts(l,u,d)),f.fmt==2&&(f.tab=h.readUshorts(l,u,3*d)),f},e._lctf.coverageIndex=function(l,u){var h=l.tab;if(l.fmt==1)return h.indexOf(u);if(l.fmt==2){var f=e._lctf.getInterval(h,u);if(f!=-1)return h[f+2]+(u-h[f])}return-1},e._lctf.readFeatureList=function(l,u){var h=e._bin,f=u,d=[],p=h.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=h.readASCII(l,u,4);u+=4;var _=h.readUshort(l,u);u+=2;var S=e._lctf.readFeatureTable(l,f+_);S.tag=v.trim(),d.push(S)}return d},e._lctf.readFeatureTable=function(l,u){var h=e._bin,f=u,d={},p=h.readUshort(l,u);u+=2,p>0&&(d.featureParams=f+p);var m=h.readUshort(l,u);u+=2,d.tab=[];for(var v=0;v<m;v++)d.tab.push(h.readUshort(l,u+2*v));return d},e._lctf.readScriptList=function(l,u){var h=e._bin,f=u,d={},p=h.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=h.readASCII(l,u,4);u+=4;var _=h.readUshort(l,u);u+=2,d[v.trim()]=e._lctf.readScriptTable(l,f+_)}return d},e._lctf.readScriptTable=function(l,u){var h=e._bin,f=u,d={},p=h.readUshort(l,u);u+=2,p>0&&(d.default=e._lctf.readLangSysTable(l,f+p));var m=h.readUshort(l,u);u+=2;for(var v=0;v<m;v++){var _=h.readASCII(l,u,4);u+=4;var S=h.readUshort(l,u);u+=2,d[_.trim()]=e._lctf.readLangSysTable(l,f+S)}return d},e._lctf.readLangSysTable=function(l,u){var h=e._bin,f={};h.readUshort(l,u),u+=2,f.reqFeature=h.readUshort(l,u),u+=2;var d=h.readUshort(l,u);return u+=2,f.features=h.readUshorts(l,u,d),f},e.CFF={},e.CFF.parse=function(l,u,h){var f=e._bin;(l=new Uint8Array(l.buffer,u,h))[u=0],l[++u],l[++u],l[++u],u++;var d=[];u=e.CFF.readIndex(l,u,d);for(var p=[],m=0;m<d.length-1;m++)p.push(f.readASCII(l,u+d[m],d[m+1]-d[m]));u+=d[d.length-1];var v=[];u=e.CFF.readIndex(l,u,v);var _=[];for(m=0;m<v.length-1;m++)_.push(e.CFF.readDict(l,u+v[m],u+v[m+1]));u+=v[v.length-1];var S=_[0],T=[];u=e.CFF.readIndex(l,u,T);var A=[];for(m=0;m<T.length-1;m++)A.push(f.readASCII(l,u+T[m],T[m+1]-T[m]));if(u+=T[T.length-1],e.CFF.readSubrs(l,u,S),S.CharStrings){u=S.CharStrings,T=[],u=e.CFF.readIndex(l,u,T);var w=[];for(m=0;m<T.length-1;m++)w.push(f.readBytes(l,u+T[m],T[m+1]-T[m]));S.CharStrings=w}if(S.ROS){u=S.FDArray;var C=[];for(u=e.CFF.readIndex(l,u,C),S.FDArray=[],m=0;m<C.length-1;m++){var O=e.CFF.readDict(l,u+C[m],u+C[m+1]);e.CFF._readFDict(l,O,A),S.FDArray.push(O)}u+=C[C.length-1],u=S.FDSelect,S.FDSelect=[];var L=l[u];if(u++,L!=3)throw L;var F=f.readUshort(l,u);for(u+=2,m=0;m<F+1;m++)S.FDSelect.push(f.readUshort(l,u),l[u+2]),u+=3}return S.Encoding&&(S.Encoding=e.CFF.readEncoding(l,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=e.CFF.readCharset(l,S.charset,S.CharStrings.length)),e.CFF._readFDict(l,S,A),S},e.CFF._readFDict=function(l,u,h){var f;for(var d in u.Private&&(f=u.Private[1],u.Private=e.CFF.readDict(l,f,f+u.Private[0]),u.Private.Subrs&&e.CFF.readSubrs(l,f+u.Private.Subrs,u.Private)),u)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(d)!=-1&&(u[d]=h[u[d]-426+35])},e.CFF.readSubrs=function(l,u,h){var f=e._bin,d=[];u=e.CFF.readIndex(l,u,d);var p,m=d.length;p=m<1240?107:m<33900?1131:32768,h.Bias=p,h.Subrs=[];for(var v=0;v<d.length-1;v++)h.Subrs.push(f.readBytes(l,u+d[v],d[v+1]-d[v]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(l,u){for(var h=0;h<l.charset.length;h++)if(l.charset[h]==u)return h;return-1},e.CFF.glyphBySE=function(l,u){return u<0||u>255?-1:e.CFF.glyphByUnicode(l,e.CFF.tableSE[u])},e.CFF.readEncoding=function(l,u,h){e._bin;var f=[".notdef"],d=l[u];if(u++,d!=0)throw"error: unknown encoding format: "+d;var p=l[u];u++;for(var m=0;m<p;m++)f.push(l[u+m]);return f},e.CFF.readCharset=function(l,u,h){var f=e._bin,d=[".notdef"],p=l[u];if(u++,p==0)for(var m=0;m<h;m++){var v=f.readUshort(l,u);u+=2,d.push(v)}else{if(p!=1&&p!=2)throw"error: format: "+p;for(;d.length<h;){v=f.readUshort(l,u),u+=2;var _=0;for(p==1?(_=l[u],u++):(_=f.readUshort(l,u),u+=2),m=0;m<=_;m++)d.push(v),v++}}return d},e.CFF.readIndex=function(l,u,h){var f=e._bin,d=f.readUshort(l,u)+1,p=l[u+=2];if(u++,p==1)for(var m=0;m<d;m++)h.push(l[u+m]);else if(p==2)for(m=0;m<d;m++)h.push(f.readUshort(l,u+2*m));else if(p==3)for(m=0;m<d;m++)h.push(16777215&f.readUint(l,u+3*m-1));else if(d!=1)throw"unsupported offset size: "+p+", count: "+d;return(u+=d*p)-1},e.CFF.getCharString=function(l,u,h){var f=e._bin,d=l[u],p=l[u+1];l[u+2],l[u+3],l[u+4];var m=1,v=null,_=null;d<=20&&(v=d,m=1),d==12&&(v=100*d+p,m=2),21<=d&&d<=27&&(v=d,m=1),d==28&&(_=f.readShort(l,u+1),m=3),29<=d&&d<=31&&(v=d,m=1),32<=d&&d<=246&&(_=d-139,m=1),247<=d&&d<=250&&(_=256*(d-247)+p+108,m=2),251<=d&&d<=254&&(_=256*-(d-251)-p-108,m=2),d==255&&(_=f.readInt(l,u+1)/65535,m=5),h.val=_??"o"+v,h.size=m},e.CFF.readCharString=function(l,u,h){for(var f=u+h,d=e._bin,p=[];u<f;){var m=l[u],v=l[u+1];l[u+2],l[u+3],l[u+4];var _=1,S=null,T=null;m<=20&&(S=m,_=1),m==12&&(S=100*m+v,_=2),m!=19&&m!=20||(S=m,_=2),21<=m&&m<=27&&(S=m,_=1),m==28&&(T=d.readShort(l,u+1),_=3),29<=m&&m<=31&&(S=m,_=1),32<=m&&m<=246&&(T=m-139,_=1),247<=m&&m<=250&&(T=256*(m-247)+v+108,_=2),251<=m&&m<=254&&(T=256*-(m-251)-v-108,_=2),m==255&&(T=d.readInt(l,u+1)/65535,_=5),p.push(T??"o"+S),u+=_}return p},e.CFF.readDict=function(l,u,h){for(var f=e._bin,d={},p=[];u<h;){var m=l[u],v=l[u+1];l[u+2],l[u+3],l[u+4];var _=1,S=null,T=null;if(m==28&&(T=f.readShort(l,u+1),_=3),m==29&&(T=f.readInt(l,u+1),_=5),32<=m&&m<=246&&(T=m-139,_=1),247<=m&&m<=250&&(T=256*(m-247)+v+108,_=2),251<=m&&m<=254&&(T=256*-(m-251)-v-108,_=2),m==255)throw T=f.readInt(l,u+1)/65535,_=5,"unknown number";if(m==30){var A=[];for(_=1;;){var w=l[u+_];_++;var C=w>>4,O=15&w;if(C!=15&&A.push(C),O!=15&&A.push(O),O==15)break}for(var L="",F=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],B=0;B<A.length;B++)L+=F[A[B]];T=parseFloat(L)}m<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][m],_=1,m==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][v],_=2)),S!=null?(d[S]=p.length==1?p[0]:p,p=[]):p.push(T),u+=_}return d},e.cmap={},e.cmap.parse=function(l,u,h){l=new Uint8Array(l.buffer,u,h),u=0;var f=e._bin,d={};f.readUshort(l,u),u+=2;var p=f.readUshort(l,u);u+=2;var m=[];d.tables=[];for(var v=0;v<p;v++){var _=f.readUshort(l,u);u+=2;var S=f.readUshort(l,u);u+=2;var T=f.readUint(l,u);u+=4;var A="p"+_+"e"+S,w=m.indexOf(T);if(w==-1){var C;w=d.tables.length,m.push(T);var O=f.readUshort(l,T);O==0?C=e.cmap.parse0(l,T):O==4?C=e.cmap.parse4(l,T):O==6?C=e.cmap.parse6(l,T):O==12?C=e.cmap.parse12(l,T):console.debug("unknown format: "+O,_,S,T),d.tables.push(C)}if(d[A]!=null)throw"multiple tables for one platform+encoding";d[A]=w}return d},e.cmap.parse0=function(l,u){var h=e._bin,f={};f.format=h.readUshort(l,u),u+=2;var d=h.readUshort(l,u);u+=2,h.readUshort(l,u),u+=2,f.map=[];for(var p=0;p<d-6;p++)f.map.push(l[u+p]);return f},e.cmap.parse4=function(l,u){var h=e._bin,f=u,d={};d.format=h.readUshort(l,u),u+=2;var p=h.readUshort(l,u);u+=2,h.readUshort(l,u),u+=2;var m=h.readUshort(l,u);u+=2;var v=m/2;d.searchRange=h.readUshort(l,u),u+=2,d.entrySelector=h.readUshort(l,u),u+=2,d.rangeShift=h.readUshort(l,u),u+=2,d.endCount=h.readUshorts(l,u,v),u+=2*v,u+=2,d.startCount=h.readUshorts(l,u,v),u+=2*v,d.idDelta=[];for(var _=0;_<v;_++)d.idDelta.push(h.readShort(l,u)),u+=2;for(d.idRangeOffset=h.readUshorts(l,u,v),u+=2*v,d.glyphIdArray=[];u<f+p;)d.glyphIdArray.push(h.readUshort(l,u)),u+=2;return d},e.cmap.parse6=function(l,u){var h=e._bin,f={};f.format=h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2,f.firstCode=h.readUshort(l,u),u+=2;var d=h.readUshort(l,u);u+=2,f.glyphIdArray=[];for(var p=0;p<d;p++)f.glyphIdArray.push(h.readUshort(l,u)),u+=2;return f},e.cmap.parse12=function(l,u){var h=e._bin,f={};f.format=h.readUshort(l,u),u+=2,u+=2,h.readUint(l,u),u+=4,h.readUint(l,u),u+=4;var d=h.readUint(l,u);u+=4,f.groups=[];for(var p=0;p<d;p++){var m=u+12*p,v=h.readUint(l,m+0),_=h.readUint(l,m+4),S=h.readUint(l,m+8);f.groups.push([v,_,S])}return f},e.glyf={},e.glyf.parse=function(l,u,h,f){for(var d=[],p=0;p<f.maxp.numGlyphs;p++)d.push(null);return d},e.glyf._parseGlyf=function(l,u){var h=e._bin,f=l._data,d=e._tabOffset(f,"glyf",l._offset)+l.loca[u];if(l.loca[u]==l.loca[u+1])return null;var p={};if(p.noc=h.readShort(f,d),d+=2,p.xMin=h.readShort(f,d),d+=2,p.yMin=h.readShort(f,d),d+=2,p.xMax=h.readShort(f,d),d+=2,p.yMax=h.readShort(f,d),d+=2,p.xMin>=p.xMax||p.yMin>=p.yMax)return null;if(p.noc>0){p.endPts=[];for(var m=0;m<p.noc;m++)p.endPts.push(h.readUshort(f,d)),d+=2;var v=h.readUshort(f,d);if(d+=2,f.length-d<v)return null;p.instructions=h.readBytes(f,d,v),d+=v;var _=p.endPts[p.noc-1]+1;for(p.flags=[],m=0;m<_;m++){var S=f[d];if(d++,p.flags.push(S),(8&S)!=0){var T=f[d];d++;for(var A=0;A<T;A++)p.flags.push(S),m++}}for(p.xs=[],m=0;m<_;m++){var w=(2&p.flags[m])!=0,C=(16&p.flags[m])!=0;w?(p.xs.push(C?f[d]:-f[d]),d++):C?p.xs.push(0):(p.xs.push(h.readShort(f,d)),d+=2)}for(p.ys=[],m=0;m<_;m++)w=(4&p.flags[m])!=0,C=(32&p.flags[m])!=0,w?(p.ys.push(C?f[d]:-f[d]),d++):C?p.ys.push(0):(p.ys.push(h.readShort(f,d)),d+=2);var O=0,L=0;for(m=0;m<_;m++)O+=p.xs[m],L+=p.ys[m],p.xs[m]=O,p.ys[m]=L}else{var F;p.parts=[];do{F=h.readUshort(f,d),d+=2;var B={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(p.parts.push(B),B.glyphIndex=h.readUshort(f,d),d+=2,1&F){var U=h.readShort(f,d);d+=2;var V=h.readShort(f,d);d+=2}else U=h.readInt8(f,d),d++,V=h.readInt8(f,d),d++;2&F?(B.m.tx=U,B.m.ty=V):(B.p1=U,B.p2=V),8&F?(B.m.a=B.m.d=h.readF2dot14(f,d),d+=2):64&F?(B.m.a=h.readF2dot14(f,d),d+=2,B.m.d=h.readF2dot14(f,d),d+=2):128&F&&(B.m.a=h.readF2dot14(f,d),d+=2,B.m.b=h.readF2dot14(f,d),d+=2,B.m.c=h.readF2dot14(f,d),d+=2,B.m.d=h.readF2dot14(f,d),d+=2)}while(32&F);if(256&F){var q=h.readUshort(f,d);for(d+=2,p.instr=[],m=0;m<q;m++)p.instr.push(f[d]),d++}}return p},e.GDEF={},e.GDEF.parse=function(l,u,h,f){var d=u;u+=4;var p=e._bin.readUshort(l,u);return{glyphClassDef:p===0?null:e._lctf.readClassDef(l,d+p)}},e.GPOS={},e.GPOS.parse=function(l,u,h,f){return e._lctf.parse(l,u,h,f,e.GPOS.subt)},e.GPOS.subt=function(l,u,h,f){var d=e._bin,p=h,m={};if(m.fmt=d.readUshort(l,h),h+=2,u==1||u==2||u==3||u==7||u==8&&m.fmt<=2){var v=d.readUshort(l,h);h+=2,m.coverage=e._lctf.readCoverage(l,v+p)}if(u==1&&m.fmt==1){var _=d.readUshort(l,h);h+=2,_!=0&&(m.pos=e.GPOS.readValueRecord(l,h,_))}else if(u==2&&m.fmt>=1&&m.fmt<=2){_=d.readUshort(l,h),h+=2;var S=d.readUshort(l,h);h+=2;var T=e._lctf.numOfOnes(_),A=e._lctf.numOfOnes(S);if(m.fmt==1){m.pairsets=[];var w=d.readUshort(l,h);h+=2;for(var C=0;C<w;C++){var O=p+d.readUshort(l,h);h+=2;var L=d.readUshort(l,O);O+=2;for(var F=[],B=0;B<L;B++){var U=d.readUshort(l,O);O+=2,_!=0&&(Q=e.GPOS.readValueRecord(l,O,_),O+=2*T),S!=0&&(ie=e.GPOS.readValueRecord(l,O,S),O+=2*A),F.push({gid2:U,val1:Q,val2:ie})}m.pairsets.push(F)}}if(m.fmt==2){var V=d.readUshort(l,h);h+=2;var q=d.readUshort(l,h);h+=2;var H=d.readUshort(l,h);h+=2;var G=d.readUshort(l,h);for(h+=2,m.classDef1=e._lctf.readClassDef(l,p+V),m.classDef2=e._lctf.readClassDef(l,p+q),m.matrix=[],C=0;C<H;C++){var Y=[];for(B=0;B<G;B++){var Q=null,ie=null;_!=0&&(Q=e.GPOS.readValueRecord(l,h,_),h+=2*T),S!=0&&(ie=e.GPOS.readValueRecord(l,h,S),h+=2*A),Y.push({val1:Q,val2:ie})}m.matrix.push(Y)}}}else if(u==4&&m.fmt==1)m.markCoverage=e._lctf.readCoverage(l,d.readUshort(l,h)+p),m.baseCoverage=e._lctf.readCoverage(l,d.readUshort(l,h+2)+p),m.markClassCount=d.readUshort(l,h+4),m.markArray=e.GPOS.readMarkArray(l,d.readUshort(l,h+6)+p),m.baseArray=e.GPOS.readBaseArray(l,d.readUshort(l,h+8)+p,m.markClassCount);else if(u==6&&m.fmt==1)m.mark1Coverage=e._lctf.readCoverage(l,d.readUshort(l,h)+p),m.mark2Coverage=e._lctf.readCoverage(l,d.readUshort(l,h+2)+p),m.markClassCount=d.readUshort(l,h+4),m.mark1Array=e.GPOS.readMarkArray(l,d.readUshort(l,h+6)+p),m.mark2Array=e.GPOS.readBaseArray(l,d.readUshort(l,h+8)+p,m.markClassCount);else{if(u==9&&m.fmt==1){var ae=d.readUshort(l,h);h+=2;var le=d.readUint(l,h);if(h+=4,f.ltype==9)f.ltype=ae;else if(f.ltype!=ae)throw"invalid extension substitution";return e.GPOS.subt(l,f.ltype,p+le)}console.debug("unsupported GPOS table LookupType",u,"format",m.fmt)}return m},e.GPOS.readValueRecord=function(l,u,h){var f=e._bin,d=[];return d.push(1&h?f.readShort(l,u):0),u+=1&h?2:0,d.push(2&h?f.readShort(l,u):0),u+=2&h?2:0,d.push(4&h?f.readShort(l,u):0),u+=4&h?2:0,d.push(8&h?f.readShort(l,u):0),u+=8&h?2:0,d},e.GPOS.readBaseArray=function(l,u,h){var f=e._bin,d=[],p=u,m=f.readUshort(l,u);u+=2;for(var v=0;v<m;v++){for(var _=[],S=0;S<h;S++)_.push(e.GPOS.readAnchorRecord(l,p+f.readUshort(l,u))),u+=2;d.push(_)}return d},e.GPOS.readMarkArray=function(l,u){var h=e._bin,f=[],d=u,p=h.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=e.GPOS.readAnchorRecord(l,h.readUshort(l,u+2)+d);v.markClass=h.readUshort(l,u),f.push(v),u+=4}return f},e.GPOS.readAnchorRecord=function(l,u){var h=e._bin,f={};return f.fmt=h.readUshort(l,u),f.x=h.readShort(l,u+2),f.y=h.readShort(l,u+4),f},e.GSUB={},e.GSUB.parse=function(l,u,h,f){return e._lctf.parse(l,u,h,f,e.GSUB.subt)},e.GSUB.subt=function(l,u,h,f){var d=e._bin,p=h,m={};if(m.fmt=d.readUshort(l,h),h+=2,u!=1&&u!=2&&u!=4&&u!=5&&u!=6)return null;if(u==1||u==2||u==4||u==5&&m.fmt<=2||u==6&&m.fmt<=2){var v=d.readUshort(l,h);h+=2,m.coverage=e._lctf.readCoverage(l,p+v)}if(u==1&&m.fmt>=1&&m.fmt<=2){if(m.fmt==1)m.delta=d.readShort(l,h),h+=2;else if(m.fmt==2){var _=d.readUshort(l,h);h+=2,m.newg=d.readUshorts(l,h,_),h+=2*m.newg.length}}else if(u==2&&m.fmt==1){_=d.readUshort(l,h),h+=2,m.seqs=[];for(var S=0;S<_;S++){var T=d.readUshort(l,h)+p;h+=2;var A=d.readUshort(l,T);m.seqs.push(d.readUshorts(l,T+2,A))}}else if(u==4)for(m.vals=[],_=d.readUshort(l,h),h+=2,S=0;S<_;S++){var w=d.readUshort(l,h);h+=2,m.vals.push(e.GSUB.readLigatureSet(l,p+w))}else if(u==5&&m.fmt==2){if(m.fmt==2){var C=d.readUshort(l,h);h+=2,m.cDef=e._lctf.readClassDef(l,p+C),m.scset=[];var O=d.readUshort(l,h);for(h+=2,S=0;S<O;S++){var L=d.readUshort(l,h);h+=2,m.scset.push(L==0?null:e.GSUB.readSubClassSet(l,p+L))}}}else if(u==6&&m.fmt==3){if(m.fmt==3){for(S=0;S<3;S++){_=d.readUshort(l,h),h+=2;for(var F=[],B=0;B<_;B++)F.push(e._lctf.readCoverage(l,p+d.readUshort(l,h+2*B)));h+=2*_,S==0&&(m.backCvg=F),S==1&&(m.inptCvg=F),S==2&&(m.ahedCvg=F)}_=d.readUshort(l,h),h+=2,m.lookupRec=e.GSUB.readSubstLookupRecords(l,h,_)}}else{if(u==7&&m.fmt==1){var U=d.readUshort(l,h);h+=2;var V=d.readUint(l,h);if(h+=4,f.ltype==9)f.ltype=U;else if(f.ltype!=U)throw"invalid extension substitution";return e.GSUB.subt(l,f.ltype,p+V)}console.debug("unsupported GSUB table LookupType",u,"format",m.fmt)}return m},e.GSUB.readSubClassSet=function(l,u){var h=e._bin.readUshort,f=u,d=[],p=h(l,u);u+=2;for(var m=0;m<p;m++){var v=h(l,u);u+=2,d.push(e.GSUB.readSubClassRule(l,f+v))}return d},e.GSUB.readSubClassRule=function(l,u){var h=e._bin.readUshort,f={},d=h(l,u),p=h(l,u+=2);u+=2,f.input=[];for(var m=0;m<d-1;m++)f.input.push(h(l,u)),u+=2;return f.substLookupRecords=e.GSUB.readSubstLookupRecords(l,u,p),f},e.GSUB.readSubstLookupRecords=function(l,u,h){for(var f=e._bin.readUshort,d=[],p=0;p<h;p++)d.push(f(l,u),f(l,u+2)),u+=4;return d},e.GSUB.readChainSubClassSet=function(l,u){var h=e._bin,f=u,d=[],p=h.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=h.readUshort(l,u);u+=2,d.push(e.GSUB.readChainSubClassRule(l,f+v))}return d},e.GSUB.readChainSubClassRule=function(l,u){for(var h=e._bin,f={},d=["backtrack","input","lookahead"],p=0;p<d.length;p++){var m=h.readUshort(l,u);u+=2,p==1&&m--,f[d[p]]=h.readUshorts(l,u,m),u+=2*f[d[p]].length}return m=h.readUshort(l,u),u+=2,f.subst=h.readUshorts(l,u,2*m),u+=2*f.subst.length,f},e.GSUB.readLigatureSet=function(l,u){var h=e._bin,f=u,d=[],p=h.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=h.readUshort(l,u);u+=2,d.push(e.GSUB.readLigature(l,f+v))}return d},e.GSUB.readLigature=function(l,u){var h=e._bin,f={chain:[]};f.nglyph=h.readUshort(l,u),u+=2;var d=h.readUshort(l,u);u+=2;for(var p=0;p<d-1;p++)f.chain.push(h.readUshort(l,u)),u+=2;return f},e.head={},e.head.parse=function(l,u,h){var f=e._bin,d={};return f.readFixed(l,u),u+=4,d.fontRevision=f.readFixed(l,u),u+=4,f.readUint(l,u),u+=4,f.readUint(l,u),u+=4,d.flags=f.readUshort(l,u),u+=2,d.unitsPerEm=f.readUshort(l,u),u+=2,d.created=f.readUint64(l,u),u+=8,d.modified=f.readUint64(l,u),u+=8,d.xMin=f.readShort(l,u),u+=2,d.yMin=f.readShort(l,u),u+=2,d.xMax=f.readShort(l,u),u+=2,d.yMax=f.readShort(l,u),u+=2,d.macStyle=f.readUshort(l,u),u+=2,d.lowestRecPPEM=f.readUshort(l,u),u+=2,d.fontDirectionHint=f.readShort(l,u),u+=2,d.indexToLocFormat=f.readShort(l,u),u+=2,d.glyphDataFormat=f.readShort(l,u),u+=2,d},e.hhea={},e.hhea.parse=function(l,u,h){var f=e._bin,d={};return f.readFixed(l,u),u+=4,d.ascender=f.readShort(l,u),u+=2,d.descender=f.readShort(l,u),u+=2,d.lineGap=f.readShort(l,u),u+=2,d.advanceWidthMax=f.readUshort(l,u),u+=2,d.minLeftSideBearing=f.readShort(l,u),u+=2,d.minRightSideBearing=f.readShort(l,u),u+=2,d.xMaxExtent=f.readShort(l,u),u+=2,d.caretSlopeRise=f.readShort(l,u),u+=2,d.caretSlopeRun=f.readShort(l,u),u+=2,d.caretOffset=f.readShort(l,u),u+=2,u+=8,d.metricDataFormat=f.readShort(l,u),u+=2,d.numberOfHMetrics=f.readUshort(l,u),u+=2,d},e.hmtx={},e.hmtx.parse=function(l,u,h,f){for(var d=e._bin,p={aWidth:[],lsBearing:[]},m=0,v=0,_=0;_<f.maxp.numGlyphs;_++)_<f.hhea.numberOfHMetrics&&(m=d.readUshort(l,u),u+=2,v=d.readShort(l,u),u+=2),p.aWidth.push(m),p.lsBearing.push(v);return p},e.kern={},e.kern.parse=function(l,u,h,f){var d=e._bin,p=d.readUshort(l,u);if(u+=2,p==1)return e.kern.parseV1(l,u-2,h,f);var m=d.readUshort(l,u);u+=2;for(var v={glyph1:[],rval:[]},_=0;_<m;_++){u+=2,h=d.readUshort(l,u),u+=2;var S=d.readUshort(l,u);u+=2;var T=S>>>8;if((T&=15)!=0)throw"unknown kern table format: "+T;u=e.kern.readFormat0(l,u,v)}return v},e.kern.parseV1=function(l,u,h,f){var d=e._bin;d.readFixed(l,u),u+=4;var p=d.readUint(l,u);u+=4;for(var m={glyph1:[],rval:[]},v=0;v<p;v++){d.readUint(l,u),u+=4;var _=d.readUshort(l,u);u+=2,d.readUshort(l,u),u+=2;var S=_>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;u=e.kern.readFormat0(l,u,m)}return m},e.kern.readFormat0=function(l,u,h){var f=e._bin,d=-1,p=f.readUshort(l,u);u+=2,f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2;for(var m=0;m<p;m++){var v=f.readUshort(l,u);u+=2;var _=f.readUshort(l,u);u+=2;var S=f.readShort(l,u);u+=2,v!=d&&(h.glyph1.push(v),h.rval.push({glyph2:[],vals:[]}));var T=h.rval[h.rval.length-1];T.glyph2.push(_),T.vals.push(S),d=v}return u},e.loca={},e.loca.parse=function(l,u,h,f){var d=e._bin,p=[],m=f.head.indexToLocFormat,v=f.maxp.numGlyphs+1;if(m==0)for(var _=0;_<v;_++)p.push(d.readUshort(l,u+(_<<1))<<1);if(m==1)for(_=0;_<v;_++)p.push(d.readUint(l,u+(_<<2)));return p},e.maxp={},e.maxp.parse=function(l,u,h){var f=e._bin,d={},p=f.readUint(l,u);return u+=4,d.numGlyphs=f.readUshort(l,u),u+=2,p==65536&&(d.maxPoints=f.readUshort(l,u),u+=2,d.maxContours=f.readUshort(l,u),u+=2,d.maxCompositePoints=f.readUshort(l,u),u+=2,d.maxCompositeContours=f.readUshort(l,u),u+=2,d.maxZones=f.readUshort(l,u),u+=2,d.maxTwilightPoints=f.readUshort(l,u),u+=2,d.maxStorage=f.readUshort(l,u),u+=2,d.maxFunctionDefs=f.readUshort(l,u),u+=2,d.maxInstructionDefs=f.readUshort(l,u),u+=2,d.maxStackElements=f.readUshort(l,u),u+=2,d.maxSizeOfInstructions=f.readUshort(l,u),u+=2,d.maxComponentElements=f.readUshort(l,u),u+=2,d.maxComponentDepth=f.readUshort(l,u),u+=2),d},e.name={},e.name.parse=function(l,u,h){var f=e._bin,d={};f.readUshort(l,u),u+=2;var p=f.readUshort(l,u);u+=2,f.readUshort(l,u);for(var m,v=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],_=u+=2,S=0;S<p;S++){var T=f.readUshort(l,u);u+=2;var A=f.readUshort(l,u);u+=2;var w=f.readUshort(l,u);u+=2;var C=f.readUshort(l,u);u+=2;var O=f.readUshort(l,u);u+=2;var L=f.readUshort(l,u);u+=2;var F,B=v[C],U=_+12*p+L;if(T==0)F=f.readUnicode(l,U,O/2);else if(T==3&&A==0)F=f.readUnicode(l,U,O/2);else if(A==0)F=f.readASCII(l,U,O);else if(A==1)F=f.readUnicode(l,U,O/2);else if(A==3)F=f.readUnicode(l,U,O/2);else{if(T!=1)throw"unknown encoding "+A+", platformID: "+T;F=f.readASCII(l,U,O),console.debug("reading unknown MAC encoding "+A+" as ASCII")}var V="p"+T+","+w.toString(16);d[V]==null&&(d[V]={}),d[V][B!==void 0?B:C]=F,d[V]._lang=w}for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==1033)return d[q];for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==0)return d[q];for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==3084)return d[q];for(var q in d)if(d[q].postScriptName!=null)return d[q];for(var q in d){m=q;break}return console.debug("returning name table with languageID "+d[m]._lang),d[m]},e["OS/2"]={},e["OS/2"].parse=function(l,u,h){var f=e._bin.readUshort(l,u);u+=2;var d={};if(f==0)e["OS/2"].version0(l,u,d);else if(f==1)e["OS/2"].version1(l,u,d);else if(f==2||f==3||f==4)e["OS/2"].version2(l,u,d);else{if(f!=5)throw"unknown OS/2 table version: "+f;e["OS/2"].version5(l,u,d)}return d},e["OS/2"].version0=function(l,u,h){var f=e._bin;return h.xAvgCharWidth=f.readShort(l,u),u+=2,h.usWeightClass=f.readUshort(l,u),u+=2,h.usWidthClass=f.readUshort(l,u),u+=2,h.fsType=f.readUshort(l,u),u+=2,h.ySubscriptXSize=f.readShort(l,u),u+=2,h.ySubscriptYSize=f.readShort(l,u),u+=2,h.ySubscriptXOffset=f.readShort(l,u),u+=2,h.ySubscriptYOffset=f.readShort(l,u),u+=2,h.ySuperscriptXSize=f.readShort(l,u),u+=2,h.ySuperscriptYSize=f.readShort(l,u),u+=2,h.ySuperscriptXOffset=f.readShort(l,u),u+=2,h.ySuperscriptYOffset=f.readShort(l,u),u+=2,h.yStrikeoutSize=f.readShort(l,u),u+=2,h.yStrikeoutPosition=f.readShort(l,u),u+=2,h.sFamilyClass=f.readShort(l,u),u+=2,h.panose=f.readBytes(l,u,10),u+=10,h.ulUnicodeRange1=f.readUint(l,u),u+=4,h.ulUnicodeRange2=f.readUint(l,u),u+=4,h.ulUnicodeRange3=f.readUint(l,u),u+=4,h.ulUnicodeRange4=f.readUint(l,u),u+=4,h.achVendID=[f.readInt8(l,u),f.readInt8(l,u+1),f.readInt8(l,u+2),f.readInt8(l,u+3)],u+=4,h.fsSelection=f.readUshort(l,u),u+=2,h.usFirstCharIndex=f.readUshort(l,u),u+=2,h.usLastCharIndex=f.readUshort(l,u),u+=2,h.sTypoAscender=f.readShort(l,u),u+=2,h.sTypoDescender=f.readShort(l,u),u+=2,h.sTypoLineGap=f.readShort(l,u),u+=2,h.usWinAscent=f.readUshort(l,u),u+=2,h.usWinDescent=f.readUshort(l,u),u+=2},e["OS/2"].version1=function(l,u,h){var f=e._bin;return u=e["OS/2"].version0(l,u,h),h.ulCodePageRange1=f.readUint(l,u),u+=4,h.ulCodePageRange2=f.readUint(l,u),u+=4},e["OS/2"].version2=function(l,u,h){var f=e._bin;return u=e["OS/2"].version1(l,u,h),h.sxHeight=f.readShort(l,u),u+=2,h.sCapHeight=f.readShort(l,u),u+=2,h.usDefault=f.readUshort(l,u),u+=2,h.usBreak=f.readUshort(l,u),u+=2,h.usMaxContext=f.readUshort(l,u),u+=2},e["OS/2"].version5=function(l,u,h){var f=e._bin;return u=e["OS/2"].version2(l,u,h),h.usLowerOpticalPointSize=f.readUshort(l,u),u+=2,h.usUpperOpticalPointSize=f.readUshort(l,u),u+=2},e.post={},e.post.parse=function(l,u,h){var f=e._bin,d={};return d.version=f.readFixed(l,u),u+=4,d.italicAngle=f.readFixed(l,u),u+=4,d.underlinePosition=f.readShort(l,u),u+=2,d.underlineThickness=f.readShort(l,u),u+=2,d},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(l,u){var h=l.cmap,f=-1;if(h.p0e4!=null?f=h.p0e4:h.p3e1!=null?f=h.p3e1:h.p1e0!=null?f=h.p1e0:h.p0e3!=null&&(f=h.p0e3),f==-1)throw"no familiar platform and encoding!";var d=h.tables[f];if(d.format==0)return u>=d.map.length?0:d.map[u];if(d.format==4){for(var p=-1,m=0;m<d.endCount.length;m++)if(u<=d.endCount[m]){p=m;break}return p==-1||d.startCount[p]>u?0:65535&(d.idRangeOffset[p]!=0?d.glyphIdArray[u-d.startCount[p]+(d.idRangeOffset[p]>>1)-(d.idRangeOffset.length-p)]:u+d.idDelta[p])}if(d.format==12){if(u>d.groups[d.groups.length-1][1])return 0;for(m=0;m<d.groups.length;m++){var v=d.groups[m];if(v[0]<=u&&u<=v[1])return v[2]+(u-v[0])}return 0}throw"unknown cmap table format "+d.format},e.U.glyphToPath=function(l,u){var h={cmds:[],crds:[]};if(l.SVG&&l.SVG.entries[u]){var f=l.SVG.entries[u];return f==null?h:(typeof f=="string"&&(f=e.SVG.toPath(f),l.SVG.entries[u]=f),f)}if(l.CFF){var d={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:l.CFF.Private?l.CFF.Private.defaultWidthX:0,open:!1},p=l.CFF,m=l.CFF.Private;if(p.ROS){for(var v=0;p.FDSelect[v+2]<=u;)v+=2;m=p.FDArray[p.FDSelect[v+1]].Private}e.U._drawCFF(l.CFF.CharStrings[u],d,p,m,h)}else l.glyf&&e.U._drawGlyf(u,l,h);return h},e.U._drawGlyf=function(l,u,h){var f=u.glyf[l];f==null&&(f=u.glyf[l]=e.glyf._parseGlyf(u,l)),f!=null&&(f.noc>-1?e.U._simpleGlyph(f,h):e.U._compoGlyph(f,u,h))},e.U._simpleGlyph=function(l,u){for(var h=0;h<l.noc;h++){for(var f=h==0?0:l.endPts[h-1]+1,d=l.endPts[h],p=f;p<=d;p++){var m=p==f?d:p-1,v=p==d?f:p+1,_=1&l.flags[p],S=1&l.flags[m],T=1&l.flags[v],A=l.xs[p],w=l.ys[p];if(p==f)if(_){if(!S){e.U.P.moveTo(u,A,w);continue}e.U.P.moveTo(u,l.xs[m],l.ys[m])}else S?e.U.P.moveTo(u,l.xs[m],l.ys[m]):e.U.P.moveTo(u,(l.xs[m]+A)/2,(l.ys[m]+w)/2);_?S&&e.U.P.lineTo(u,A,w):T?e.U.P.qcurveTo(u,A,w,l.xs[v],l.ys[v]):e.U.P.qcurveTo(u,A,w,(A+l.xs[v])/2,(w+l.ys[v])/2)}e.U.P.closePath(u)}},e.U._compoGlyph=function(l,u,h){for(var f=0;f<l.parts.length;f++){var d={cmds:[],crds:[]},p=l.parts[f];e.U._drawGlyf(p.glyphIndex,u,d);for(var m=p.m,v=0;v<d.crds.length;v+=2){var _=d.crds[v],S=d.crds[v+1];h.crds.push(_*m.a+S*m.b+m.tx),h.crds.push(_*m.c+S*m.d+m.ty)}for(v=0;v<d.cmds.length;v++)h.cmds.push(d.cmds[v])}},e.U._getGlyphClass=function(l,u){var h=e._lctf.getInterval(u,l);return h==-1?0:u[h+2]},e.U._applySubs=function(l,u,h,f){for(var d=l.length-u-1,p=0;p<h.tabs.length;p++)if(h.tabs[p]!=null){var m,v=h.tabs[p];if(!v.coverage||(m=e._lctf.coverageIndex(v.coverage,l[u]))!=-1){if(h.ltype==1)l[u],v.fmt==1?l[u]=l[u]+v.delta:l[u]=v.newg[m];else if(h.ltype==4)for(var _=v.vals[m],S=0;S<_.length;S++){var T=_[S],A=T.chain.length;if(!(A>d)){for(var w=!0,C=0,O=0;O<A;O++){for(;l[u+C+(1+O)]==-1;)C++;T.chain[O]!=l[u+C+(1+O)]&&(w=!1)}if(w){for(l[u]=T.nglyph,O=0;O<A+C;O++)l[u+O+1]=-1;break}}}else if(h.ltype==5&&v.fmt==2)for(var L=e._lctf.getInterval(v.cDef,l[u]),F=v.cDef[L+2],B=v.scset[F],U=0;U<B.length;U++){var V=B[U],q=V.input;if(!(q.length>d)){for(w=!0,O=0;O<q.length;O++){var H=e._lctf.getInterval(v.cDef,l[u+1+O]);if(L==-1&&v.cDef[H+2]!=q[O]){w=!1;break}}if(w){var G=V.substLookupRecords;for(S=0;S<G.length;S+=2)G[S],G[S+1]}}}else if(h.ltype==6&&v.fmt==3){if(!e.U._glsCovered(l,v.backCvg,u-v.backCvg.length)||!e.U._glsCovered(l,v.inptCvg,u)||!e.U._glsCovered(l,v.ahedCvg,u+v.inptCvg.length))continue;var Y=v.lookupRec;for(U=0;U<Y.length;U+=2){L=Y[U];var Q=f[Y[U+1]];e.U._applySubs(l,u+L,Q,f)}}}}},e.U._glsCovered=function(l,u,h){for(var f=0;f<u.length;f++)if(e._lctf.coverageIndex(u[f],l[h+f])==-1)return!1;return!0},e.U.glyphsToPath=function(l,u,h){for(var f={cmds:[],crds:[]},d=0,p=0;p<u.length;p++){var m=u[p];if(m!=-1){for(var v=p<u.length-1&&u[p+1]!=-1?u[p+1]:0,_=e.U.glyphToPath(l,m),S=0;S<_.crds.length;S+=2)f.crds.push(_.crds[S]+d),f.crds.push(_.crds[S+1]);for(h&&f.cmds.push(h),S=0;S<_.cmds.length;S++)f.cmds.push(_.cmds[S]);h&&f.cmds.push("X"),d+=l.hmtx.aWidth[m],p<u.length-1&&(d+=e.U.getPairAdjustment(l,m,v))}}return f},e.U.P={},e.U.P.moveTo=function(l,u,h){l.cmds.push("M"),l.crds.push(u,h)},e.U.P.lineTo=function(l,u,h){l.cmds.push("L"),l.crds.push(u,h)},e.U.P.curveTo=function(l,u,h,f,d,p,m){l.cmds.push("C"),l.crds.push(u,h,f,d,p,m)},e.U.P.qcurveTo=function(l,u,h,f,d){l.cmds.push("Q"),l.crds.push(u,h,f,d)},e.U.P.closePath=function(l){l.cmds.push("Z")},e.U._drawCFF=function(l,u,h,f,d){for(var p=u.stack,m=u.nStems,v=u.haveWidth,_=u.width,S=u.open,T=0,A=u.x,w=u.y,C=0,O=0,L=0,F=0,B=0,U=0,V=0,q=0,H=0,G=0,Y={val:0,size:0};T<l.length;){e.CFF.getCharString(l,T,Y);var Q=Y.val;if(T+=Y.size,Q=="o1"||Q=="o18")p.length%2!=0&&!v&&(_=p.shift()+f.nominalWidthX),m+=p.length>>1,p.length=0,v=!0;else if(Q=="o3"||Q=="o23")p.length%2!=0&&!v&&(_=p.shift()+f.nominalWidthX),m+=p.length>>1,p.length=0,v=!0;else if(Q=="o4")p.length>1&&!v&&(_=p.shift()+f.nominalWidthX,v=!0),S&&e.U.P.closePath(d),w+=p.pop(),e.U.P.moveTo(d,A,w),S=!0;else if(Q=="o5")for(;p.length>0;)A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w);else if(Q=="o6"||Q=="o7")for(var ie=p.length,ae=Q=="o6",le=0;le<ie;le++){var he=p.shift();ae?A+=he:w+=he,ae=!ae,e.U.P.lineTo(d,A,w)}else if(Q=="o8"||Q=="o24"){ie=p.length;for(var ge=0;ge+6<=ie;)C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w),ge+=6;Q=="o24"&&(A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w))}else{if(Q=="o11")break;if(Q=="o1234"||Q=="o1235"||Q=="o1236"||Q=="o1237")Q=="o1234"&&(O=w,L=(C=A+p.shift())+p.shift(),G=F=O+p.shift(),U=F,q=w,A=(V=(B=(H=L+p.shift())+p.shift())+p.shift())+p.shift(),e.U.P.curveTo(d,C,O,L,F,H,G),e.U.P.curveTo(d,B,U,V,q,A,w)),Q=="o1235"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),H=L+p.shift(),G=F+p.shift(),B=H+p.shift(),U=G+p.shift(),V=B+p.shift(),q=U+p.shift(),A=V+p.shift(),w=q+p.shift(),p.shift(),e.U.P.curveTo(d,C,O,L,F,H,G),e.U.P.curveTo(d,B,U,V,q,A,w)),Q=="o1236"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),G=F=O+p.shift(),U=F,V=(B=(H=L+p.shift())+p.shift())+p.shift(),q=U+p.shift(),A=V+p.shift(),e.U.P.curveTo(d,C,O,L,F,H,G),e.U.P.curveTo(d,B,U,V,q,A,w)),Q=="o1237"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),H=L+p.shift(),G=F+p.shift(),B=H+p.shift(),U=G+p.shift(),V=B+p.shift(),q=U+p.shift(),Math.abs(V-A)>Math.abs(q-w)?A=V+p.shift():w=q+p.shift(),e.U.P.curveTo(d,C,O,L,F,H,G),e.U.P.curveTo(d,B,U,V,q,A,w));else if(Q=="o14"){if(p.length>0&&!v&&(_=p.shift()+h.nominalWidthX,v=!0),p.length==4){var J=p.shift(),se=p.shift(),ce=p.shift(),te=p.shift(),fe=e.CFF.glyphBySE(h,ce),_e=e.CFF.glyphBySE(h,te);e.U._drawCFF(h.CharStrings[fe],u,h,f,d),u.x=J,u.y=se,e.U._drawCFF(h.CharStrings[_e],u,h,f,d)}S&&(e.U.P.closePath(d),S=!1)}else if(Q=="o19"||Q=="o20")p.length%2!=0&&!v&&(_=p.shift()+f.nominalWidthX),m+=p.length>>1,p.length=0,v=!0,T+=m+7>>3;else if(Q=="o21")p.length>2&&!v&&(_=p.shift()+f.nominalWidthX,v=!0),w+=p.pop(),A+=p.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,A,w),S=!0;else if(Q=="o22")p.length>1&&!v&&(_=p.shift()+f.nominalWidthX,v=!0),A+=p.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,A,w),S=!0;else if(Q=="o25"){for(;p.length>6;)A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w);C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w)}else if(Q=="o26")for(p.length%2&&(A+=p.shift());p.length>0;)C=A,O=w+p.shift(),A=L=C+p.shift(),w=(F=O+p.shift())+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w);else if(Q=="o27")for(p.length%2&&(w+=p.shift());p.length>0;)O=w,L=(C=A+p.shift())+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F,e.U.P.curveTo(d,C,O,L,F,A,w);else if(Q=="o10"||Q=="o29"){var ye=Q=="o10"?f:h;if(p.length==0)console.debug("error: empty stack");else{var xe=p.pop(),Me=ye.Subrs[xe+ye.Bias];u.x=A,u.y=w,u.nStems=m,u.haveWidth=v,u.width=_,u.open=S,e.U._drawCFF(Me,u,h,f,d),A=u.x,w=u.y,m=u.nStems,v=u.haveWidth,_=u.width,S=u.open}}else if(Q=="o30"||Q=="o31"){var be=p.length,Ce=(ge=0,Q=="o31");for(ge+=be-(ie=-3&be);ge<ie;)Ce?(O=w,L=(C=A+p.shift())+p.shift(),w=(F=O+p.shift())+p.shift(),ie-ge==5?(A=L+p.shift(),ge++):A=L,Ce=!1):(C=A,O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),ie-ge==5?(w=F+p.shift(),ge++):w=F,Ce=!0),e.U.P.curveTo(d,C,O,L,F,A,w),ge+=4}else{if((Q+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Q,l),Q;p.push(Q)}}}u.x=A,u.y=w,u.nStems=m,u.haveWidth=v,u.width=_,u.open=S};var n=e,o={Typr:n};return t.Typr=n,t.default=o,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(t){var e=Uint8Array,n=Uint16Array,o=Uint32Array,l=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(Q,ie){for(var ae=new n(31),le=0;le<31;++le)ae[le]=ie+=1<<Q[le-1];var he=new o(ae[30]);for(le=1;le<30;++le)for(var ge=ae[le];ge<ae[le+1];++ge)he[ge]=ge-ae[le]<<5|le;return[ae,he]},d=f(l,2),p=d[0],m=d[1];p[28]=258,m[258]=28;for(var v=f(u,0)[0],_=new n(32768),S=0;S<32768;++S){var T=(43690&S)>>>1|(21845&S)<<1;T=(61680&(T=(52428&T)>>>2|(13107&T)<<2))>>>4|(3855&T)<<4,_[S]=((65280&T)>>>8|(255&T)<<8)>>>1}var A=function(Q,ie,ae){for(var le=Q.length,he=0,ge=new n(ie);he<le;++he)++ge[Q[he]-1];var J,se=new n(ie);for(he=0;he<ie;++he)se[he]=se[he-1]+ge[he-1]<<1;{J=new n(1<<ie);var ce=15-ie;for(he=0;he<le;++he)if(Q[he])for(var te=he<<4|Q[he],fe=ie-Q[he],_e=se[Q[he]-1]++<<fe,ye=_e|(1<<fe)-1;_e<=ye;++_e)J[_[_e]>>>ce]=te}return J},w=new e(288);for(S=0;S<144;++S)w[S]=8;for(S=144;S<256;++S)w[S]=9;for(S=256;S<280;++S)w[S]=7;for(S=280;S<288;++S)w[S]=8;var C=new e(32);for(S=0;S<32;++S)C[S]=5;var O=A(w,9),L=A(C,5),F=function(Q){for(var ie=Q[0],ae=1;ae<Q.length;++ae)Q[ae]>ie&&(ie=Q[ae]);return ie},B=function(Q,ie,ae){var le=ie/8|0;return(Q[le]|Q[le+1]<<8)>>(7&ie)&ae},U=function(Q,ie){var ae=ie/8|0;return(Q[ae]|Q[ae+1]<<8|Q[ae+2]<<16)>>(7&ie)},V=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],q=function(Q,ie,ae){var le=new Error(ie||V[Q]);if(le.code=Q,Error.captureStackTrace&&Error.captureStackTrace(le,q),!ae)throw le;return le},H=function(Q,ie,ae){var le=Q.length;if(!le||ae&&!ae.l&&le<5)return ie||new e(0);var he=!ie||ae,ge=!ae||ae.i;ae||(ae={}),ie||(ie=new e(3*le));var J,se=function(pt){var Ee=ie.length;if(pt>Ee){var Ve=new e(Math.max(2*Ee,pt));Ve.set(ie),ie=Ve}},ce=ae.f||0,te=ae.p||0,fe=ae.b||0,_e=ae.l,ye=ae.d,xe=ae.m,Me=ae.n,be=8*le;do{if(!_e){ae.f=ce=B(Q,te,1);var Ce=B(Q,te+1,3);if(te+=3,!Ce){var Re=Q[(Ue=((J=te)/8|0)+(7&J&&1)+4)-4]|Q[Ue-3]<<8,Ne=Ue+Re;if(Ne>le){ge&&q(0);break}he&&se(fe+Re),ie.set(Q.subarray(Ue,Ne),fe),ae.b=fe+=Re,ae.p=te=8*Ne;continue}if(Ce==1)_e=O,ye=L,xe=9,Me=5;else if(Ce==2){var Oe=B(Q,te,31)+257,Te=B(Q,te+10,15)+4,tt=Oe+B(Q,te+5,31)+1;te+=14;for(var de=new e(tt),Xe=new e(19),qe=0;qe<Te;++qe)Xe[h[qe]]=B(Q,te+3*qe,7);te+=3*Te;var Ye=F(Xe),Ie=(1<<Ye)-1,et=A(Xe,Ye);for(qe=0;qe<tt;){var Ue,ke=et[B(Q,te,Ie)];if(te+=15&ke,(Ue=ke>>>4)<16)de[qe++]=Ue;else{var ct=0,me=0;for(Ue==16?(me=3+B(Q,te,3),te+=2,ct=de[qe-1]):Ue==17?(me=3+B(Q,te,7),te+=3):Ue==18&&(me=11+B(Q,te,127),te+=7);me--;)de[qe++]=ct}}var ue=de.subarray(0,Oe),Ae=de.subarray(Oe);xe=F(ue),Me=F(Ae),_e=A(ue,xe),ye=A(Ae,Me)}else q(1);if(te>be){ge&&q(0);break}}he&&se(fe+131072);for(var We=(1<<xe)-1,$e=(1<<Me)-1,je=te;;je=te){var ft=(ct=_e[U(Q,te)&We])>>>4;if((te+=15&ct)>be){ge&&q(0);break}if(ct||q(2),ft<256)ie[fe++]=ft;else{if(ft==256){je=te,_e=null;break}var ht=ft-254;if(ft>264){var gt=l[qe=ft-257];ht=B(Q,te,(1<<gt)-1)+p[qe],te+=gt}var Et=ye[U(Q,te)&$e],nt=Et>>>4;if(Et||q(3),te+=15&Et,Ae=v[nt],nt>3&&(gt=u[nt],Ae+=U(Q,te)&(1<<gt)-1,te+=gt),te>be){ge&&q(0);break}he&&se(fe+131072);for(var dt=fe+ht;fe<dt;fe+=4)ie[fe]=ie[fe-Ae],ie[fe+1]=ie[fe+1-Ae],ie[fe+2]=ie[fe+2-Ae],ie[fe+3]=ie[fe+3-Ae];fe=dt}}ae.l=_e,ae.p=je,ae.b=fe,_e&&(ce=1,ae.m=xe,ae.d=ye,ae.n=Me)}while(!ce);return fe==ie.length?ie:function(pt,Ee,Ve){(Ve==null||Ve>pt.length)&&(Ve=pt.length);var mt=new(pt instanceof n?n:pt instanceof o?o:e)(Ve-Ee);return mt.set(pt.subarray(Ee,Ve)),mt}(ie,0,fe)},G=new e(0),Y=typeof TextDecoder<"u"&&new TextDecoder;try{Y.decode(G,{stream:!0})}catch{}return t.convert_streams=function(Q){var ie=new DataView(Q),ae=0;function le(){var Oe=ie.getUint16(ae);return ae+=2,Oe}function he(){var Oe=ie.getUint32(ae);return ae+=4,Oe}function ge(Oe){Re.setUint16(Ne,Oe),Ne+=2}function J(Oe){Re.setUint32(Ne,Oe),Ne+=4}for(var se={signature:he(),flavor:he(),length:he(),numTables:le(),reserved:le(),totalSfntSize:he(),majorVersion:le(),minorVersion:le(),metaOffset:he(),metaLength:he(),metaOrigLength:he(),privOffset:he(),privLength:he()},ce=0;Math.pow(2,ce)<=se.numTables;)ce++;ce--;for(var te=16*Math.pow(2,ce),fe=16*se.numTables-te,_e=12,ye=[],xe=0;xe<se.numTables;xe++)ye.push({tag:he(),offset:he(),compLength:he(),origLength:he(),origChecksum:he()}),_e+=16;var Me,be=new Uint8Array(12+16*ye.length+ye.reduce(function(Oe,Te){return Oe+Te.origLength+4},0)),Ce=be.buffer,Re=new DataView(Ce),Ne=0;return J(se.flavor),ge(se.numTables),ge(te),ge(ce),ge(fe),ye.forEach(function(Oe){J(Oe.tag),J(Oe.origChecksum),J(_e),J(Oe.origLength),Oe.outOffset=_e,(_e+=Oe.origLength)%4!=0&&(_e+=4-_e%4)}),ye.forEach(function(Oe){var Te,tt=Q.slice(Oe.offset,Oe.offset+Oe.compLength);if(Oe.compLength!=Oe.origLength){var de=new Uint8Array(Oe.origLength);Te=new Uint8Array(tt,2),H(Te,de)}else de=new Uint8Array(tt);be.set(de,Oe.outOffset);var Xe=0;(_e=Oe.outOffset+Oe.origLength)%4!=0&&(Xe=4-_e%4),be.set(new Uint8Array(Xe).buffer,Oe.outOffset+Oe.origLength),Me=_e+Xe}),Ce.slice(0,Me)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function parserFactory(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},o={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},l=1,u=2,h=4,f=8,d=16,p=32;let m;function v(V){if(!m){const q={R:u,L:l,D:h,C:d,U:p,T:f};m=new Map;for(let H in o){let G=0;o[H].split(",").forEach(Y=>{let[Q,ie]=Y.split("+");Q=parseInt(Q,36),ie=ie?parseInt(ie,36):0,m.set(G+=Q,q[H]);for(let ae=ie;ae--;)m.set(++G,q[H])})}}return m.get(V)||p}const _=1,S=2,T=3,A=4,w=[null,"isol","init","fina","medi"];function C(V){const q=new Uint8Array(V.length);let H=p,G=_,Y=-1;for(let Q=0;Q<V.length;Q++){const ie=V.codePointAt(Q);let ae=v(ie)|0,le=_;ae&f||(H&(l|h|d)?ae&(u|h|d)?(le=T,(G===_||G===T)&&q[Y]++):ae&(l|p)&&(G===S||G===A)&&q[Y]--:H&(u|p)&&(G===S||G===A)&&q[Y]--,G=q[Q]=le,H=ae,Y=Q,ie>65535&&Q++)}return q}function O(V,q){const H=[];for(let Y=0;Y<q.length;Y++){const Q=q.codePointAt(Y);Q>65535&&Y++,H.push(t.U.codeToGlyph(V,Q))}const G=V.GSUB;if(G){const{lookupList:Y,featureList:Q}=G;let ie;const ae=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,le=[];Q.forEach(he=>{if(ae.test(he.tag))for(let ge=0;ge<he.tab.length;ge++){if(le[he.tab[ge]])continue;le[he.tab[ge]]=!0;const J=Y[he.tab[ge]],se=/^(isol|init|fina|medi)$/.test(he.tag);se&&!ie&&(ie=C(q));for(let ce=0;ce<H.length;ce++)(!ie||!se||w[ie[ce]]===he.tag)&&t.U._applySubs(H,ce,J,Y)}})}return H}function L(V,q){const H=new Int16Array(q.length*3);let G=0;for(;G<q.length;G++){const ae=q[G];if(ae===-1)continue;H[G*3+2]=V.hmtx.aWidth[ae];const le=V.GPOS;if(le){const he=le.lookupList;for(let ge=0;ge<he.length;ge++){const J=he[ge];for(let se=0;se<J.tabs.length;se++){const ce=J.tabs[se];if(J.ltype===1){if(t._lctf.coverageIndex(ce.coverage,ae)!==-1&&ce.pos){ie(ce.pos,G);break}}else if(J.ltype===2){let te=null,fe=Y();if(fe!==-1){const _e=t._lctf.coverageIndex(ce.coverage,q[fe]);if(_e!==-1){if(ce.fmt===1){const ye=ce.pairsets[_e];for(let xe=0;xe<ye.length;xe++)ye[xe].gid2===ae&&(te=ye[xe])}else if(ce.fmt===2){const ye=t.U._getGlyphClass(q[fe],ce.classDef1),xe=t.U._getGlyphClass(ae,ce.classDef2);te=ce.matrix[ye][xe]}if(te){te.val1&&ie(te.val1,fe),te.val2&&ie(te.val2,G);break}}}}else if(J.ltype===4){const te=t._lctf.coverageIndex(ce.markCoverage,ae);if(te!==-1){const fe=Y(Q),_e=fe===-1?-1:t._lctf.coverageIndex(ce.baseCoverage,q[fe]);if(_e!==-1){const ye=ce.markArray[te],xe=ce.baseArray[_e][ye.markClass];H[G*3]=xe.x-ye.x+H[fe*3]-H[fe*3+2],H[G*3+1]=xe.y-ye.y+H[fe*3+1];break}}}else if(J.ltype===6){const te=t._lctf.coverageIndex(ce.mark1Coverage,ae);if(te!==-1){const fe=Y();if(fe!==-1){const _e=q[fe];if(F(V,_e)===3){const ye=t._lctf.coverageIndex(ce.mark2Coverage,_e);if(ye!==-1){const xe=ce.mark1Array[te],Me=ce.mark2Array[ye][xe.markClass];H[G*3]=Me.x-xe.x+H[fe*3]-H[fe*3+2],H[G*3+1]=Me.y-xe.y+H[fe*3+1];break}}}}}}}}else if(V.kern&&!V.cff){const he=Y();if(he!==-1){const ge=V.kern.glyph1.indexOf(q[he]);if(ge!==-1){const J=V.kern.rval[ge].glyph2.indexOf(ae);J!==-1&&(H[he*3+2]+=V.kern.rval[ge].vals[J])}}}}return H;function Y(ae){for(let le=G-1;le>=0;le--)if(q[le]!==-1&&(!ae||ae(q[le])))return le;return-1}function Q(ae){return F(V,ae)===1}function ie(ae,le){for(let he=0;he<3;he++)H[le*3+he]+=ae[he]||0}}function F(V,q){const H=V.GDEF&&V.GDEF.glyphClassDef;return H?t.U._getGlyphClass(q,H):0}function B(...V){for(let q=0;q<V.length;q++)if(typeof V[q]=="number")return V[q]}function U(V){const q=Object.create(null),H=V["OS/2"],G=V.hhea,Y=V.head.unitsPerEm,Q=B(H&&H.sTypoAscender,G&&G.ascender,Y),ie={unitsPerEm:Y,ascender:Q,descender:B(H&&H.sTypoDescender,G&&G.descender,0),capHeight:B(H&&H.sCapHeight,Q),xHeight:B(H&&H.sxHeight,Q),lineGap:B(H&&H.sTypoLineGap,G&&G.lineGap),supportsCodePoint(ae){return t.U.codeToGlyph(V,ae)>0},forEachGlyph(ae,le,he,ge){let J=0;const se=1/ie.unitsPerEm*le,ce=O(V,ae);let te=0;const fe=L(V,ce);return ce.forEach((_e,ye)=>{if(_e!==-1){let xe=q[_e];if(!xe){const{cmds:Me,crds:be}=t.U.glyphToPath(V,_e);let Ce="",Re=0;for(let de=0,Xe=Me.length;de<Xe;de++){const qe=n[Me[de]];Ce+=Me[de];for(let Ye=1;Ye<=qe;Ye++)Ce+=(Ye>1?",":"")+be[Re++]}let Ne,Oe,Te,tt;if(be.length){Ne=Oe=1/0,Te=tt=-1/0;for(let de=0,Xe=be.length;de<Xe;de+=2){let qe=be[de],Ye=be[de+1];qe<Ne&&(Ne=qe),Ye<Oe&&(Oe=Ye),qe>Te&&(Te=qe),Ye>tt&&(tt=Ye)}}else Ne=Te=Oe=tt=0;xe=q[_e]={index:_e,advanceWidth:V.hmtx.aWidth[_e],xMin:Ne,yMin:Oe,xMax:Te,yMax:tt,path:Ce}}ge.call(null,xe,J+fe[ye*3]*se,fe[ye*3+1]*se,te),J+=fe[ye*3+2]*se,he&&(J+=he*le)}te+=ae.codePointAt(te)>65535?2:1}),J}};return ie}return function(q){const H=new Uint8Array(q,0,4),G=t._bin.readASCII(H,0,4);if(G==="wOFF")q=e(q);else if(G==="wOF2")throw new Error("woff2 fonts not supported");return U(t.parse(q)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(t,e,n){const o=t(),l=e();return n(o,l)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function unicodeFontResolverClientFactory(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(L){var F=L>>5;this.buckets.set(F,(this.buckets.get(F)||0)|1<<(31&L))},e.prototype.has=function(L){var F=this.buckets.get(L>>5);return F!==void 0&&(F&1<<(31&L))!=0},e.prototype.serialize=function(){var L=[];return this.buckets.forEach(function(F,B){L.push((+B).toString(36)+":"+F.toString(36))}),L.join(",")},e.prototype.deserialize=function(L){var F=this;this.buckets.clear(),L.split(",").forEach(function(B){var U=B.split(":");F.buckets.set(parseInt(U[0],36),parseInt(U[1],36))})};var n=Math.pow(2,8),o=n-1,l=~o;function u(L){var F=function(U){return U&l}(L).toString(16),B=function(U){return(U&l)+n-1}(L).toString(16);return"codepoint-index/plane"+(L>>16)+"/"+F+"-"+B+".json"}function h(L,F){var B=L&o,U=F.codePointAt(B/6|0);return((U=(U||48)-48)&1<<B%6)!=0}function f(L,F){var B;(B=L,B.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(U){return U.split("-").map(function(V){return parseInt(V.trim(),16)})})).forEach(function(U){var V=U[0],q=U[1];q===void 0&&(q=V),F(V,q)})}function d(L,F){f(L,function(B,U){for(var V=B;V<=U;V++)F(V)})}var p={},m={},v=new WeakMap,_="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(L){var F=v.get(L);return F||(F=new e,d(L.ranges,function(B){return F.add(B)}),v.set(L,F)),F}var T,A=new Map;function w(L,F,B){return L[F]?F:L[B]?B:function(U){for(var V in U)return V}(L)}function C(L,F){var B=F;if(!L.includes(B)){B=1/0;for(var U=0;U<L.length;U++)Math.abs(L[U]-F)<Math.abs(B-F)&&(B=L[U])}return B}function O(L){return T||(T=new Set,d("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(F){T.add(F)})),T.has(L)}return t.CodePointSet=e,t.clearCache=function(){p={},m={}},t.getFontsForString=function(L,F){F===void 0&&(F={});var B,U=F.lang;U===void 0&&(U=new RegExp("\\p{Script=Hangul}","u").test(B=L)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(B)?"ja":"en");var V=F.category;V===void 0&&(V="sans-serif");var q=F.style;q===void 0&&(q="normal");var H=F.weight;H===void 0&&(H=400);var G=(F.dataUrl||_).replace(/\/$/g,""),Y=new Map,Q=new Uint8Array(L.length),ie={},ae={},le=new Array(L.length),he=new Map,ge=!1;function J(te){var fe=A.get(te);return fe||(fe=fetch(G+"/"+te).then(function(_e){if(!_e.ok)throw new Error(_e.statusText);return _e.json().then(function(ye){if(!Array.isArray(ye)||ye[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ye[0]);return ye[1]})}).catch(function(_e){if(G!==_)return ge||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+G+'", trying default CDN. '+_e.message),ge=!0),G=_,A.delete(te),J(te);throw _e}),A.set(te,fe)),fe}for(var se=function(te){var fe=L.codePointAt(te),_e=u(fe);le[te]=_e,p[_e]||he.has(_e)||he.set(_e,J(_e).then(function(ye){p[_e]=ye})),fe>65535&&(te++,ce=te)},ce=0;ce<L.length;ce++)se(ce);return Promise.all(he.values()).then(function(){he.clear();for(var te=function(_e){var ye=L.codePointAt(_e),xe=null,Me=p[le[_e]],be=void 0;for(var Ce in Me){var Re=ae[Ce];if(Re===void 0&&(Re=ae[Ce]=new RegExp(Ce).test(U||"en")),Re){for(var Ne in be=Ce,Me[Ce])if(h(ye,Me[Ce][Ne])){xe=Ne;break}break}}if(!xe){e:for(var Oe in Me)if(Oe!==be){for(var Te in Me[Oe])if(h(ye,Me[Oe][Te])){xe=Te;break e}}}xe||(console.debug("No font coverage for U+"+ye.toString(16)),xe="latin"),le[_e]=xe,m[xe]||he.has(xe)||he.set(xe,J("font-meta/"+xe+".json").then(function(tt){m[xe]=tt})),ye>65535&&(_e++,fe=_e)},fe=0;fe<L.length;fe++)te(fe);return Promise.all(he.values())}).then(function(){for(var te,fe=null,_e=0;_e<L.length;_e++){var ye=L.codePointAt(_e);if(fe&&(O(ye)||S(fe).has(ye)))Q[_e]=Q[_e-1];else{fe=m[le[_e]];var xe=ie[fe.id];if(!xe){var Me=fe.typeforms,be=w(Me,V,"sans-serif"),Ce=w(Me[be],q,"normal"),Re=C((te=Me[be])===null||te===void 0?void 0:te[Ce],H);xe=ie[fe.id]=G+"/font-files/"+fe.id+"/"+be+"."+Ce+"."+Re+".woff"}var Ne=Y.get(xe);Ne==null&&(Ne=Y.size,Y.set(xe,Ne)),Q[_e]=Ne}ye>65535&&(_e++,Q[_e]=Q[_e-1])}return{fontUrls:Array.from(Y.keys()),chars:Q}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function createFontResolver(t,e){const n=Object.create(null),o=Object.create(null);function l(h,f){const d=p=>{console.error(`Failure loading font ${h}`,p)};try{const p=new XMLHttpRequest;p.open("get",h,!0),p.responseType="arraybuffer",p.onload=function(){if(p.status>=400)d(new Error(p.statusText));else if(p.status>0)try{const m=t(p.response);m.src=h,f(m)}catch(m){d(m)}},p.onerror=d,p.send()}catch(p){d(p)}}function u(h,f){let d=n[h];d?f(d):o[h]?o[h].push(f):(o[h]=[f],l(h,p=>{p.src=h,n[h]=p,o[h].forEach(m=>m(p)),delete o[h]}))}return function(h,f,{lang:d,fonts:p=[],style:m="normal",weight:v="normal",unicodeFontsURL:_}={}){const S=new Uint8Array(h.length),T=[];h.length||O();const A=new Map,w=[];if(m!=="italic"&&(m="normal"),typeof v!="number"&&(v=v==="bold"?700:400),p&&!Array.isArray(p)&&(p=[p]),p=p.slice().filter(F=>!F.lang||F.lang.test(d)).reverse(),p.length){let V=0;(function q(H=0){for(let G=H,Y=h.length;G<Y;G++){const Q=h.codePointAt(G);if(V===1&&T[S[G-1]].supportsCodePoint(Q)||G>0&&/\s/.test(h[G]))S[G]=S[G-1],V===2&&(w[w.length-1][1]=G);else for(let ie=S[G],ae=p.length;ie<=ae;ie++)if(ie===ae){const le=V===2?w[w.length-1]:w[w.length]=[G,G];le[1]=G,V=2}else{S[G]=ie;const{src:le,unicodeRange:he}=p[ie];if(!he||L(Q,he)){const ge=n[le];if(!ge){u(le,()=>{q(G)});return}if(ge.supportsCodePoint(Q)){let J=A.get(ge);typeof J!="number"&&(J=T.length,T.push(ge),A.set(ge,J)),S[G]=J,V=1;break}}}Q>65535&&G+1<Y&&(S[G+1]=S[G],G++,V===2&&(w[w.length-1][1]=G))}C()})()}else w.push([0,h.length-1]),C();function C(){if(w.length){const F=w.map(B=>h.substring(B[0],B[1]+1)).join(`
`);e.getFontsForString(F,{lang:d||void 0,style:m,weight:v,dataUrl:_}).then(({fontUrls:B,chars:U})=>{const V=T.length;let q=0;w.forEach(G=>{for(let Y=0,Q=G[1]-G[0];Y<=Q;Y++)S[G[0]+Y]=U[q++]+V;q++});let H=0;B.forEach((G,Y)=>{u(G,Q=>{T[Y+V]=Q,++H===B.length&&O()})})})}else O()}function O(){f({chars:S,fonts:T})}function L(F,B){for(let U=0;U<B.length;U++){const[V,q=V]=B[U];if(V<=F&&F<=q)return!0}return!1}}}const fontResolverWorkerModule=defineWorkerModule({name:"FontResolver",dependencies:[createFontResolver,workerModule,unicodeFontResolverClientFactory],init(t,e,n){return t(e,n())}});function createTypesetter(t,e){const o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,l="[^\\S\\u00A0]",u=new RegExp(`${l}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function h({text:T,lang:A,fonts:w,style:C,weight:O,preResolvedFonts:L,unicodeFontsURL:F},B){const U=({chars:V,fonts:q})=>{let H,G;const Y=[];for(let Q=0;Q<V.length;Q++)V[Q]!==G?(G=V[Q],Y.push(H={start:Q,end:Q,fontObj:q[V[Q]]})):H.end=Q;B(Y)};L?U(L):t(T,U,{lang:A,fonts:w,style:C,weight:O,unicodeFontsURL:F})}function f({text:T="",font:A,lang:w,sdfGlyphSize:C=64,fontSize:O=400,fontWeight:L=1,fontStyle:F="normal",letterSpacing:B=0,lineHeight:U="normal",maxWidth:V=1/0,direction:q,textAlign:H="left",textIndent:G=0,whiteSpace:Y="normal",overflowWrap:Q="normal",anchorX:ie=0,anchorY:ae=0,metricsOnly:le=!1,unicodeFontsURL:he,preResolvedFonts:ge=null,includeCaretPositions:J=!1,chunkedBoundsSize:se=8192,colorRanges:ce=null},te){const fe=v(),_e={fontLoad:0,typesetting:0};T.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),T=T.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),O=+O,B=+B,V=+V,U=U||"normal",G=+G,h({text:T,lang:w,style:F,weight:L,fonts:typeof A=="string"?[{src:A}]:A,unicodeFontsURL:he,preResolvedFonts:ge},ye=>{_e.fontLoad=v()-fe;const xe=isFinite(V);let Me=null,be=null,Ce=null,Re=null,Ne=null,Oe=null,Te=null,tt=null,de=0,Xe=0,qe=Y!=="nowrap";const Ye=new Map,Ie=v();let et=G,Ue=0,ke=new _;const ct=[ke];ye.forEach($e=>{const{fontObj:je}=$e,{ascender:ft,descender:ht,unitsPerEm:gt,lineGap:Et,capHeight:nt,xHeight:dt}=je;let pt=Ye.get(je);if(!pt){const at=O/gt,st=U==="normal"?(ft-ht+Et)*at:U*O,Tt=(st-(ft-ht)*at)/2,ut=Math.min(st,(ft-ht)*at),Je=(ft+ht)/2*at+ut/2;pt={index:Ye.size,src:je.src,fontObj:je,fontSizeMult:at,unitsPerEm:gt,ascender:ft*at,descender:ht*at,capHeight:nt*at,xHeight:dt*at,lineHeight:st,baseline:-Tt-ft*at,caretTop:Je,caretBottom:Je-ut},Ye.set(je,pt)}const{fontSizeMult:Ee}=pt,Ve=T.slice($e.start,$e.end+1);let mt,we;je.forEachGlyph(Ve,O,B,(at,st,Tt,ut)=>{st+=Ue,ut+=$e.start,mt=st,we=at;const Je=T.charAt(ut),_t=at.advanceWidth*Ee,Ct=ke.count;let Rt;if("isEmpty"in at||(at.isWhitespace=!!Je&&new RegExp(l).test(Je),at.canBreakAfter=!!Je&&u.test(Je),at.isEmpty=at.xMin===at.xMax||at.yMin===at.yMax||o.test(Je)),!at.isWhitespace&&!at.isEmpty&&Xe++,qe&&xe&&!at.isWhitespace&&st+_t+et>V&&Ct){if(ke.glyphAt(Ct-1).glyphObj.canBreakAfter)Rt=new _,et=-st;else for(let pn=Ct;pn--;)if(pn===0&&Q==="break-word"){Rt=new _,et=-st;break}else if(ke.glyphAt(pn).glyphObj.canBreakAfter){Rt=ke.splitAt(pn+1);const mn=Rt.glyphAt(0).x;et-=mn;for(let wn=Rt.count;wn--;)Rt.glyphAt(wn).x-=mn;break}Rt&&(ke.isSoftWrapped=!0,ke=Rt,ct.push(ke),de=V)}let jt=ke.glyphAt(ke.count);jt.glyphObj=at,jt.x=st+et,jt.y=Tt,jt.width=_t,jt.charIndex=ut,jt.fontData=pt,Je===`
`&&(ke=new _,ct.push(ke),et=-(st+_t+B*O)+G)}),Ue=mt+we.advanceWidth*Ee+B*O});let me=0;ct.forEach($e=>{let je=!0;for(let ft=$e.count;ft--;){const ht=$e.glyphAt(ft);je&&!ht.glyphObj.isWhitespace&&($e.width=ht.x+ht.width,$e.width>de&&(de=$e.width),je=!1);let{lineHeight:gt,capHeight:Et,xHeight:nt,baseline:dt}=ht.fontData;gt>$e.lineHeight&&($e.lineHeight=gt);const pt=dt-$e.baseline;pt<0&&($e.baseline+=pt,$e.cap+=pt,$e.ex+=pt),$e.cap=Math.max($e.cap,$e.baseline+Et),$e.ex=Math.max($e.ex,$e.baseline+nt)}$e.baseline-=me,$e.cap-=me,$e.ex-=me,me+=$e.lineHeight});let ue=0,Ae=0;if(ie&&(typeof ie=="number"?ue=-ie:typeof ie=="string"&&(ue=-de*(ie==="left"?0:ie==="center"?.5:ie==="right"?1:p(ie)))),ae&&(typeof ae=="number"?Ae=-ae:typeof ae=="string"&&(Ae=ae==="top"?0:ae==="top-baseline"?-ct[0].baseline:ae==="top-cap"?-ct[0].cap:ae==="top-ex"?-ct[0].ex:ae==="middle"?me/2:ae==="bottom"?me:ae==="bottom-baseline"?-ct[ct.length-1].baseline:p(ae)*me)),!le){const $e=e.getEmbeddingLevels(T,q);Me=new Uint16Array(Xe),be=new Uint8Array(Xe),Ce=new Float32Array(Xe*2),Re={},Te=[1/0,1/0,-1/0,-1/0],tt=[],J&&(Oe=new Float32Array(T.length*4)),ce&&(Ne=new Uint8Array(Xe*3));let je=0,ft=-1,ht=-1,gt,Et;if(ct.forEach((nt,dt)=>{let{count:pt,width:Ee}=nt;if(pt>0){let Ve=0;for(let ut=pt;ut--&&nt.glyphAt(ut).glyphObj.isWhitespace;)Ve++;let mt=0,we=0;if(H==="center")mt=(de-Ee)/2;else if(H==="right")mt=de-Ee;else if(H==="justify"&&nt.isSoftWrapped){let ut=0;for(let Je=pt-Ve;Je--;)nt.glyphAt(Je).glyphObj.isWhitespace&&ut++;we=(de-Ee)/ut}if(we||mt){let ut=0;for(let Je=0;Je<pt;Je++){let _t=nt.glyphAt(Je);const Ct=_t.glyphObj;_t.x+=mt+ut,we!==0&&Ct.isWhitespace&&Je<pt-Ve&&(ut+=we,_t.width+=we)}}const at=e.getReorderSegments(T,$e,nt.glyphAt(0).charIndex,nt.glyphAt(nt.count-1).charIndex);for(let ut=0;ut<at.length;ut++){const[Je,_t]=at[ut];let Ct=1/0,Rt=-1/0;for(let jt=0;jt<pt;jt++)if(nt.glyphAt(jt).charIndex>=Je){let pn=jt,mn=jt;for(;mn<pt;mn++){let wn=nt.glyphAt(mn);if(wn.charIndex>_t)break;mn<pt-Ve&&(Ct=Math.min(Ct,wn.x),Rt=Math.max(Rt,wn.x+wn.width))}for(let wn=pn;wn<mn;wn++){const Kn=nt.glyphAt(wn);Kn.x=Rt-(Kn.x+Kn.width-Ct)}break}}let st;const Tt=ut=>st=ut;for(let ut=0;ut<pt;ut++){const Je=nt.glyphAt(ut);st=Je.glyphObj;const _t=st.index,Ct=$e.levels[Je.charIndex]&1;if(Ct){const Rt=e.getMirroredCharacter(T[Je.charIndex]);Rt&&Je.fontData.fontObj.forEachGlyph(Rt,0,0,Tt)}if(J){const{charIndex:Rt,fontData:jt}=Je,pn=Je.x+ue,mn=Je.x+Je.width+ue;Oe[Rt*4]=Ct?mn:pn,Oe[Rt*4+1]=Ct?pn:mn,Oe[Rt*4+2]=nt.baseline+jt.caretBottom+Ae,Oe[Rt*4+3]=nt.baseline+jt.caretTop+Ae;const wn=Rt-ft;wn>1&&m(Oe,ft,wn),ft=Rt}if(ce){const{charIndex:Rt}=Je;for(;Rt>ht;)ht++,ce.hasOwnProperty(ht)&&(Et=ce[ht])}if(!st.isWhitespace&&!st.isEmpty){const Rt=je++,{fontSizeMult:jt,src:pn,index:mn}=Je.fontData,wn=Re[pn]||(Re[pn]={});wn[_t]||(wn[_t]={path:st.path,pathBounds:[st.xMin,st.yMin,st.xMax,st.yMax]});const Kn=Je.x+ue,nr=Je.y+nt.baseline+Ae;Ce[Rt*2]=Kn,Ce[Rt*2+1]=nr;const Vn=Kn+st.xMin*jt,Pr=nr+st.yMin*jt,rr=Kn+st.xMax*jt,lr=nr+st.yMax*jt;Vn<Te[0]&&(Te[0]=Vn),Pr<Te[1]&&(Te[1]=Pr),rr>Te[2]&&(Te[2]=rr),lr>Te[3]&&(Te[3]=lr),Rt%se===0&&(gt={start:Rt,end:Rt,rect:[1/0,1/0,-1/0,-1/0]},tt.push(gt)),gt.end++;const Yn=gt.rect;if(Vn<Yn[0]&&(Yn[0]=Vn),Pr<Yn[1]&&(Yn[1]=Pr),rr>Yn[2]&&(Yn[2]=rr),lr>Yn[3]&&(Yn[3]=lr),Me[Rt]=_t,be[Rt]=mn,ce){const qr=Rt*3;Ne[qr]=Et>>16&255,Ne[qr+1]=Et>>8&255,Ne[qr+2]=Et&255}}}}}),Oe){const nt=T.length-ft;nt>1&&m(Oe,ft,nt)}}const We=[];Ye.forEach(({index:$e,src:je,unitsPerEm:ft,ascender:ht,descender:gt,lineHeight:Et,capHeight:nt,xHeight:dt})=>{We[$e]={src:je,unitsPerEm:ft,ascender:ht,descender:gt,lineHeight:Et,capHeight:nt,xHeight:dt}}),_e.typesetting=v()-Ie,te({glyphIds:Me,glyphFontIndices:be,glyphPositions:Ce,glyphData:Re,fontData:We,caretPositions:Oe,glyphColors:Ne,chunkedBounds:tt,fontSize:O,topBaseline:Ae+ct[0].baseline,blockBounds:[ue,Ae-me,ue+de,Ae],visibleBounds:Te,timings:_e})})}function d(T,A){f({...T,metricsOnly:!0},w=>{const[C,O,L,F]=w.blockBounds;A({width:L-C,height:F-O})})}function p(T){let A=T.match(/^([\d.]+)%$/),w=A?parseFloat(A[1]):NaN;return isNaN(w)?0:w/100}function m(T,A,w){const C=T[A*4],O=T[A*4+1],L=T[A*4+2],F=T[A*4+3],B=(O-C)/w;for(let U=0;U<w;U++){const V=(A+U)*4;T[V]=C+B*U,T[V+1]=C+B*(U+1),T[V+2]=L,T[V+3]=F}}function v(){return(self.performance||Date).now()}function _(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return _.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(T){let A=_.flyweight;return A.data=this.data,A.index=T,A},splitAt(T){let A=new _;return A.data=this.data.splice(T*S.length),A}},_.flyweight=S.reduce((T,A,w,C)=>(Object.defineProperty(T,A,{get(){return this.data[this.index*S.length+w]},set(O){this.data[this.index*S.length+w]=O}}),T),{data:null,index:0}),{typeset:f,measure:d}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(t,e,n,o,l,u,h,f,d,p,m=!0){return m?generateSDF_GL(t,e,n,o,l,u,h,f,d,p).then(null,v=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",v),warned=!0),generateSDF_JS_Worker(t,e,n,o,l,u,h,f,d,p))):generateSDF_JS_Worker(t,e,n,o,l,u,h,f,d,p)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const t=now();for(;queue.length&&now()-t<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...t)=>new Promise((e,n)=>{queue.push(()=>{const o=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...t),e({timing:now()-o})}catch(l){n(l)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(t,e,n,o,l,u,h,f,d,p){const m="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let v=threads[m];return v||(v=threads[m]={workerModule:defineWorkerModule({name:m,workerId:m,dependencies:[SDFGenerator,now],init(_,S){const T=_().javascript.generate;return function(...A){const w=S();return{textureData:T(...A),timing:S()-w}}},getTransferables(_){return[_.textureData.buffer]}}),requests:0,idleTimer:null}),v.requests++,clearTimeout(v.idleTimer),v.workerModule(t,e,n,o,l,u).then(({textureData:_,timing:S})=>{const T=now(),A=new Uint8Array(_.length*4);for(let w=0;w<_.length;w++)A[w*4+p]=_[w];return mainThreadGenerator.webglUtils.renderImageData(h,A,f,d,t,e,1<<3-p),S+=now()-T,--v.requests===0&&(v.idleTimer=setTimeout(()=>{terminateWorker(m)},idleTimeout)),{timing:S}})}function warmUpSDFCanvas(t){t._warm||(mainThreadGenerator.webgl.isSupported(t),t._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing,CONFIG={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color$1;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(t,e){t=assign$1({},t);const n=now$1(),o=[];if(t.font&&o.push({label:"user",src:toAbsoluteURL(t.font)}),t.font=o,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||CONFIG.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||CONFIG.unicodeFontsURL,t.colorRanges!=null){let _={};for(let S in t.colorRanges)if(t.colorRanges.hasOwnProperty(S)){let T=t.colorRanges[S];typeof T!="number"&&(T=tempColor.set(T).getHex()),_[S]=T}t.colorRanges=_}Object.freeze(t);const{textureWidth:l,sdfExponent:u}=CONFIG,{sdfGlyphSize:h}=t,f=l/h*4;let d=atlases[h];if(!d){const _=document.createElement("canvas");_.width=l,_.height=h*256/f,d=atlases[h]={glyphCount:0,sdfGlyphSize:h,sdfCanvas:_,sdfTexture:new Texture(_,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},d.sdfTexture.generateMipmaps=!1,initContextLossHandling(d)}const{sdfTexture:p,sdfCanvas:m}=d;typesetInWorker(t).then(_=>{const{glyphIds:S,glyphFontIndices:T,fontData:A,glyphPositions:w,fontSize:C,timings:O}=_,L=[],F=new Float32Array(S.length*4);let B=0,U=0;const V=now$1(),q=A.map(ie=>{let ae=d.glyphsByFont.get(ie.src);return ae||d.glyphsByFont.set(ie.src,ae=new Map),ae});S.forEach((ie,ae)=>{const le=T[ae],{src:he,unitsPerEm:ge}=A[le];let J=q[le].get(ie);if(!J){const{path:_e,pathBounds:ye}=_.glyphData[he][ie],xe=Math.max(ye[2]-ye[0],ye[3]-ye[1])/h*(CONFIG.sdfMargin*h+.5),Me=d.glyphCount++,be=[ye[0]-xe,ye[1]-xe,ye[2]+xe,ye[3]+xe];q[le].set(ie,J={path:_e,atlasIndex:Me,sdfViewBox:be}),L.push(J)}const{sdfViewBox:se}=J,ce=w[U++],te=w[U++],fe=C/ge;F[B++]=ce+se[0]*fe,F[B++]=te+se[1]*fe,F[B++]=ce+se[2]*fe,F[B++]=te+se[3]*fe,S[ae]=J.atlasIndex}),O.quads=(O.quads||0)+(now$1()-V);const H=now$1();O.sdf={};const G=m.height,Y=Math.ceil(d.glyphCount/f),Q=Math.pow(2,Math.ceil(Math.log2(Y*h)));Q>G&&(console.info(`Increasing SDF texture size ${G}->${Q}`),resizeWebGLCanvasWithoutClearing(m,l,Q),p.dispose()),Promise.all(L.map(ie=>generateGlyphSDF(ie,d,t.gpuAccelerateSDF).then(({timing:ae})=>{O.sdf[ie.atlasIndex]=ae}))).then(()=>{L.length&&!d.contextLost&&(safariPre15Workaround(d),p.needsUpdate=!0),O.sdfTotal=now$1()-H,O.total=now$1()-n,e(Object.freeze({parameters:t,sdfTexture:p,sdfGlyphSize:h,sdfExponent:u,glyphBounds:F,glyphAtlasIndices:S,glyphColors:_.glyphColors,caretPositions:_.caretPositions,chunkedBounds:_.chunkedBounds,ascender:_.ascender,descender:_.descender,lineHeight:_.lineHeight,capHeight:_.capHeight,xHeight:_.xHeight,topBaseline:_.topBaseline,blockBounds:_.blockBounds,visibleBounds:_.visibleBounds,timings:_.timings}))})}),Promise.resolve().then(()=>{d.contextLost||warmUpSDFCanvas(m)})}function generateGlyphSDF({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:o,sdfCanvas:l,contextLost:u},h){if(u)return Promise.resolve({timing:-1});const{textureWidth:f,sdfExponent:d}=CONFIG,p=Math.max(n[2]-n[0],n[3]-n[1]),m=Math.floor(e/4),v=m%(f/o)*o,_=Math.floor(m/(f/o))*o,S=e%4;return generateSDF(o,o,t,n,p,d,l,v,_,S,h)}function initContextLossHandling(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const o=[];t.glyphsByFont.forEach(l=>{l.forEach(u=>{o.push(generateGlyphSDF(u,t,!0))})}),Promise.all(o).then(()=>{safariPre15Workaround(t),t.sdfTexture.needsUpdate=!0})})}function preloadFont({font:t,characters:e,sdfGlyphSize:n},o){let l=Array.isArray(e)?e.join(`
`):""+e;getTextRenderInfo({font:t,sdfGlyphSize:n,text:l},o)}function assign$1(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let linkEl;function toAbsoluteURL(t){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=t,linkEl.href}function safariPre15Workaround(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:o,height:l}=e,u=t.sdfCanvas.getContext("webgl");let h=n.image.data;(!h||h.length!==o*l*4)&&(h=new Uint8Array(o*l*4),n.image={width:o,height:l,data:h},n.flipY=!1,n.isDataTexture=!0),u.readPixels(0,0,o,l,u.RGBA,u.UNSIGNED_BYTE,h)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[createTypesetter,fontResolverWorkerModule,bidiFactory],init(t,e,n){return t(e,n())}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});typesetInWorker.onMainThread;const templateGeometries={};function getTemplateGeometry(t){let e=templateGeometries[t];return e||(e=templateGeometries[t]=new PlaneGeometry(1,1,t,t).translate(.5,.5,0)),e}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=getTemplateGeometry(e);["position","normal","uv"].forEach(o=>{this.attributes[o]=n.attributes[o].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,o,l,u){this.updateAttributeData(glyphBoundsAttrName,e,4),this.updateAttributeData(glyphIndexAttrName,n,1),this.updateAttributeData(glyphColorAttrName,u,3),this._blockBounds=o,this._chunkedBounds=l,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:o}=this;if(n){const{PI:l,floor:u,min:h,max:f,sin:d,cos:p}=Math,m=l/2,v=l*2,_=Math.abs(n),S=e[0]/_,T=e[2]/_,A=u((S+m)/v)!==u((T+m)/v)?-_:h(d(S)*_,d(T)*_),w=u((S-m)/v)!==u((T-m)/v)?_:f(d(S)*_,d(T)*_),C=u((S+l)/v)!==u((T+l)/v)?_*2:f(_-p(S)*_,_-p(T)*_);o.min.set(A,e[1],n<0?-C:0),o.max.set(w,e[3],n<0?0:C)}else o.min.set(e[0],e[1],0),o.max.set(e[2],e[3],0);o.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(glyphIndexAttrName).count,o=this._chunkedBounds;if(o)for(let l=o.length;l--;){n=o[l].end;let u=o[l].rect;if(u[1]<e.w&&u[3]>e.y&&u[0]<e.z&&u[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,o){const l=this.getAttribute(e);n?l&&l.array.length===n.length?(l.array.set(n),l.needsUpdate=!0):(this.setAttribute(e,new InstancedBufferAttribute(n,o)),delete this._maxInstanceCount,this.dispose()):l&&this.deleteAttribute(e)}}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(t){const e=createDerivedMaterial(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color$1},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:n,fragmentShader:o}){let l=/\buniform\s+vec3\s+diffuse\b/;return l.test(o)&&(o=o.replace(l,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),l.test(n)||(n=n.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:o}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(t){return Array.isArray(t)?t[0]:t}let getFlatRaycastMesh=()=>{const t=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>t,t},getCurvedRaycastMesh=()=>{const t=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>t,t};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$2=class extends Mesh{constructor(){const e=new GlyphsGeometry;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const o=this._queuedSyncs;o&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{o.forEach(l=>l&&l())})),this.dispatchEvent(syncCompleteEvent),e&&e()})))}onBeforeRender(e,n,o,l,u,h){this.sync(),u.isTroikaTextMaterial&&this._prepareForRender(u)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return createTextDerivedMaterial(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function o(){n.removeEventListener("dispose",o),e.dispose()})),this.hasOutline()){let o=e._outlineMtl;return o||(o=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),o.isTextOutlineMaterial=!0,o.depthWrite=!1,o.map=null,e.addEventListener("dispose",function l(){e.removeEventListener("dispose",l),o.dispose()})),[o,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return first(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,o=e.uniforms,l=this.textRenderInfo;if(l){const{sdfTexture:f,blockBounds:d}=l;o.uTroikaSDFTexture.value=f,o.uTroikaSDFTextureSize.value.set(f.image.width,f.image.height),o.uTroikaSDFGlyphSize.value=l.sdfGlyphSize,o.uTroikaSDFExponent.value=l.sdfExponent,o.uTroikaTotalBounds.value.fromArray(d),o.uTroikaUseGlyphColors.value=!n&&!!l.glyphColors;let p=0,m=0,v=0,_,S,T,A=0,w=0;if(n){let{outlineWidth:O,outlineOffsetX:L,outlineOffsetY:F,outlineBlur:B,outlineOpacity:U}=this;p=this._parsePercent(O)||0,m=Math.max(0,this._parsePercent(B)||0),_=U,A=this._parsePercent(L)||0,w=this._parsePercent(F)||0}else v=Math.max(0,this._parsePercent(this.strokeWidth)||0),v&&(T=this.strokeColor,o.uTroikaStrokeColor.value.set(T??defaultStrokeColor),S=this.strokeOpacity,S==null&&(S=1)),_=this.fillOpacity;o.uTroikaEdgeOffset.value=p,o.uTroikaPositionOffset.value.set(A,w),o.uTroikaBlurRadius.value=m,o.uTroikaStrokeWidth.value=v,o.uTroikaStrokeOpacity.value=S,o.uTroikaFillOpacity.value=_??1,o.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)o.uTroikaClipRect.value.fromArray(C);else{const O=(this.fontSize||.1)*100;o.uTroikaClipRect.value.set(d[0]-O,d[1]-O,d[2]+O,d[3]+O)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const u=n?this.outlineColor||0:this.color;if(u==null)delete e.color;else{const f=e.hasOwnProperty("color")?e.color:e.color=new Color$1;(u!==f._input||typeof u=="object")&&f.set(f._input=u)}let h=this.orientation||defaultOrient;if(h!==e._orientation){let f=o.uTroikaOrient.value;h=h.replace(/[^-+xyz]/g,"");let d=h!==defaultOrient&&h.match(/^([-+])([xyz])([-+])([xyz])$/);if(d){let[,p,m,v,_]=d;tempVec3a.set(0,0,0)[m]=p==="-"?1:-1,tempVec3b.set(0,0,0)[_]=v==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),f.setFromMatrix4(tempMat4)}else f.identity();e._orientation=h}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),o=n?parseFloat(n[1]):NaN;e=(isNaN(o)?0:o/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Vector2){n.copy(e);const o=this.curveRadius;return o&&(n.x=Math.atan2(e.x,Math.abs(o)-Math.abs(e.z))*Math.abs(o)),n}worldPositionToTextCoords(e,n=new Vector2){return tempVec3a.copy(e),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),n)}raycast(e,n){const{textRenderInfo:o,curveRadius:l}=this;if(o){const u=o.blockBounds,h=l?getCurvedRaycastMesh():getFlatRaycastMesh(),f=h.geometry,{position:d,uv:p}=f.attributes;for(let m=0;m<p.count;m++){let v=u[0]+p.getX(m)*(u[2]-u[0]);const _=u[1]+p.getY(m)*(u[3]-u[1]);let S=0;l&&(S=l-Math.cos(v/l)*l,v=Math.sin(v/l)*l),d.setXYZ(m,v,_,S)}f.boundingSphere=this.geometry.boundingSphere,f.boundingBox=this.geometry.boundingBox,h.matrixWorld=this.matrixWorld,h.material.side=this.material.side,tempArray.length=0,h.raycast(e,tempArray);for(let m=0;m<tempArray.length;m++)tempArray[m].object=this,n.push(tempArray[m])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,COPYABLE_PROPS.forEach(o=>{this[o]=e[o]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(t=>{const e="_private_"+t;Object.defineProperty(Text$2.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Box3;new Color$1;const Text$1=reactExports.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:o,fontSize:l=1,children:u,characters:h,onSync:f,...d},p)=>{const m=useThree(({invalidate:T})=>T),[v]=reactExports.useState(()=>new Text$2),[_,S]=reactExports.useMemo(()=>{const T=[];let A="";return reactExports.Children.forEach(u,w=>{typeof w=="string"||typeof w=="number"?A+=w:T.push(w)}),[T,A]},[u]);return suspend(()=>new Promise(T=>preloadFont({font:o,characters:h},T)),["troika-text",o,h]),reactExports.useLayoutEffect(()=>void v.sync(()=>{m(),f&&f(v)})),reactExports.useEffect(()=>()=>v.dispose(),[v]),reactExports.createElement("primitive",_extends$p({object:v,ref:p,font:o,text:S,anchorX:e,anchorY:n,fontSize:l,sdfGlyphSize:t},d),_)});function shaderMaterial(t,e,n,o){const l=class extends ShaderMaterial{constructor(h={}){const f=Object.entries(t);super({uniforms:f.reduce((d,[p,m])=>{const v=UniformsUtils.clone({[p]:{value:m}});return{...d,...v}},{}),vertexShader:e,fragmentShader:n}),this.key="",f.forEach(([d])=>Object.defineProperty(this,d,{get:()=>this.uniforms[d].value,set:p=>this.uniforms[d].value=p})),Object.assign(this,h)}};return l.key=MathUtils.generateUUID(),l}const IsObject=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function useTexture(t,e){const n=useThree(u=>u.gl),o=useLoader(TextureLoader,IsObject(t)?Object.values(t):t);return reactExports.useLayoutEffect(()=>{e==null||e(o)},[e]),reactExports.useEffect(()=>{if("initTexture"in n){let u=[];Array.isArray(o)?u=o:o instanceof Texture?u=[o]:IsObject(o)&&(u=Object.values(o)),u.forEach(h=>{h instanceof Texture&&n.initTexture(h)})}},[n,o]),reactExports.useMemo(()=>{if(IsObject(t)){const u={};let h=0;for(const f in t)u[f]=o[h++];return u}else return o},[t,o])}useTexture.preload=t=>useLoader.preload(TextureLoader,t);useTexture.clear=t=>useLoader.clear(TextureLoader,t);const OrbitControls$1=reactExports.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:o,enableDamping:l=!0,keyEvents:u=!1,onChange:h,onStart:f,onEnd:d,...p},m)=>{const v=useThree(U=>U.invalidate),_=useThree(U=>U.camera),S=useThree(U=>U.gl),T=useThree(U=>U.events),A=useThree(U=>U.setEvents),w=useThree(U=>U.set),C=useThree(U=>U.get),O=useThree(U=>U.performance),L=e||_,F=o||T.connected||S.domElement,B=reactExports.useMemo(()=>new OrbitControls$2(L),[L]);return useFrame(()=>{B.enabled&&B.update()},-1),reactExports.useEffect(()=>(u&&B.connect(u===!0?F:u),B.connect(F),()=>void B.dispose()),[u,F,n,B,v]),reactExports.useEffect(()=>{const U=H=>{v(),n&&O.regress(),h&&h(H)},V=H=>{f&&f(H)},q=H=>{d&&d(H)};return B.addEventListener("change",U),B.addEventListener("start",V),B.addEventListener("end",q),()=>{B.removeEventListener("start",V),B.removeEventListener("end",q),B.removeEventListener("change",U)}},[h,f,d,B,v,A]),reactExports.useEffect(()=>{if(t){const U=C().controls;return w({controls:B}),()=>w({controls:U})}},[t,B]),reactExports.createElement("primitive",_extends$p({ref:m,object:B,enableDamping:l},p))});var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function n(){}return n.resetWarningCache=e,factoryWithThrowingShims=function(){function o(h,f,d,p,m,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),setUpdateRange=(t,e)=>{"updateRanges"in t?t.updateRanges[0]=e:t.updateRange=e},CLOUD_URL="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png",parentMatrix=new Matrix4,translation=new Vector3,rotation=new Quaternion,cpos=new Vector3,cquat=new Quaternion,scale=new Vector3,context=reactExports.createContext(null),Clouds=reactExports.forwardRef(({children:t,material:e=MeshLambertMaterial,texture:n=CLOUD_URL,range:o,limit:l=200,frustumCulled:u,...h},f)=>{var d,p;const m=reactExports.useMemo(()=>class extends e{constructor(){super();const q=parseInt(REVISION.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";this.onBeforeCompile=H=>{H.vertexShader=`attribute float cloudOpacity;
               varying float vOpacity;
              `+H.vertexShader.replace("#include <fog_vertex>",`#include <fog_vertex>
                 vOpacity = cloudOpacity;
                `),H.fragmentShader=`varying float vOpacity;
              `+H.fragmentShader.replace(`#include <${q}>`,`#include <${q}>
                 gl_FragColor = vec4(outgoingLight, diffuseColor.a * vOpacity);
                `)}}},[e]);extend$1({CloudMaterial:m});const v=reactExports.useRef(null),_=reactExports.useRef([]),S=reactExports.useMemo(()=>new Float32Array(Array.from({length:l},()=>1)),[l]),T=reactExports.useMemo(()=>new Float32Array(Array.from({length:l},()=>[1,1,1]).flat()),[l]),A=useTexture(n);let w=0,C=0,O;const L=new Quaternion,F=new Vector3(0,0,1),B=new Vector3;useFrame((q,H)=>{for(w=q.clock.elapsedTime,parentMatrix.copy(v.current.matrixWorld).invert(),q.camera.matrixWorld.decompose(cpos,cquat,scale),C=0;C<_.current.length;C++)O=_.current[C],O.ref.current.matrixWorld.decompose(translation,rotation,scale),translation.add(B.copy(O.position).applyQuaternion(rotation).multiply(scale)),rotation.copy(cquat).multiply(L.setFromAxisAngle(F,O.rotation+=H*O.rotationFactor)),scale.multiplyScalar(O.volume+(1+Math.sin(w*O.density*O.speed))/2*O.growth),O.matrix.compose(translation,rotation,scale).premultiply(parentMatrix),O.dist=translation.distanceTo(cpos);for(_.current.sort((G,Y)=>Y.dist-G.dist),C=0;C<_.current.length;C++)O=_.current[C],S[C]=O.opacity*(O.dist<O.fade-1?O.dist/O.fade:1),v.current.setMatrixAt(C,O.matrix),v.current.setColorAt(C,O.color);v.current.geometry.attributes.cloudOpacity.needsUpdate=!0,v.current.instanceMatrix.needsUpdate=!0,v.current.instanceColor&&(v.current.instanceColor.needsUpdate=!0)}),reactExports.useLayoutEffect(()=>{const q=Math.min(l,o!==void 0?o:l,_.current.length);v.current.count=q,setUpdateRange(v.current.instanceMatrix,{offset:0,count:q*16}),v.current.instanceColor&&setUpdateRange(v.current.instanceColor,{offset:0,count:q*3}),setUpdateRange(v.current.geometry.attributes.cloudOpacity,{offset:0,count:q})});let U=[(d=A.image.width)!==null&&d!==void 0?d:1,(p=A.image.height)!==null&&p!==void 0?p:1];const V=Math.max(U[0],U[1]);return U=[U[0]/V,U[1]/V],reactExports.createElement("group",_extends$p({ref:f},h),reactExports.createElement(context.Provider,{value:_},t,reactExports.createElement("instancedMesh",{matrixAutoUpdate:!1,ref:v,args:[null,null,l],frustumCulled:u},reactExports.createElement("instancedBufferAttribute",{usage:DynamicDrawUsage,attach:"instanceColor",args:[T,3]}),reactExports.createElement("planeGeometry",{args:[...U]},reactExports.createElement("instancedBufferAttribute",{usage:DynamicDrawUsage,attach:"attributes-cloudOpacity",args:[S,1]})),reactExports.createElement("cloudMaterial",{key:e.name,map:A,transparent:!0,depthWrite:!1}))))}),CloudInstance=reactExports.forwardRef(({opacity:t=1,speed:e=0,bounds:n=[5,1,1],segments:o=20,color:l="#ffffff",fade:u=10,volume:h=6,smallestVolume:f=.25,distribute:d=null,growth:p=4,concentrate:m="inside",seed:v=Math.random(),..._},S)=>{function T(){const L=Math.sin(v++)*1e4;return L-Math.floor(L)}const A=reactExports.useContext(context),w=reactExports.useRef(null),C=reactExports.useId(),O=reactExports.useMemo(()=>[...new Array(o)].map((L,F)=>({segments:o,bounds:new Vector3(1,1,1),position:new Vector3,uuid:C,index:F,ref:w,dist:0,matrix:new Matrix4,color:new Color$1,rotation:F*(Math.PI/o)})),[o,C]);return reactExports.useLayoutEffect(()=>{O.forEach((L,F)=>{applyProps(L,{volume:h,color:l,speed:e,growth:p,opacity:t,fade:u,bounds:n,density:Math.max(.5,T()),rotationFactor:Math.max(.2,.5*T())*e});const B=d==null?void 0:d(L,F);if(B||o>1){var U;L.position.copy(L.bounds).multiply((U=B==null?void 0:B.point)!==null&&U!==void 0?U:{x:T()*2-1,y:T()*2-1,z:T()*2-1})}const V=Math.abs(L.position.x),q=Math.abs(L.position.y),H=Math.abs(L.position.z),G=Math.max(V,q,H);L.length=1,V===G&&(L.length-=V/L.bounds.x),q===G&&(L.length-=q/L.bounds.y),H===G&&(L.length-=H/L.bounds.z),L.volume=((B==null?void 0:B.volume)!==void 0?B.volume:Math.max(Math.max(0,f),m==="random"?T():m==="inside"?L.length:1-L.length))*h})},[m,n,u,l,t,p,h,v,o,e]),reactExports.useLayoutEffect(()=>{const L=O;return A.current=[...A.current,...L],()=>{A.current=A.current.filter(F=>F.uuid!==C)}},[O]),reactExports.useImperativeHandle(S,()=>w.current,[]),reactExports.createElement("group",_extends$p({ref:w},_))}),Cloud=reactExports.forwardRef((t,e)=>reactExports.useContext(context)?reactExports.createElement(CloudInstance,_extends$p({ref:e},t)):reactExports.createElement(Clouds,null,reactExports.createElement(CloudInstance,_extends$p({ref:e},t)))),getRegionColor=t=>t>=80?"#22c55e":t>=60?"#3b82f6":t>=40?"#eab308":t>=20?"#f97316":"#ef4444",TerrainShaderMaterial=shaderMaterial({uTime:0,uColorA:new Color$1("#a1c05a"),uColorB:new Color$1("#7d9a4c")},`
    varying vec2 vUv;
    varying float vElevation;
    void main() {
      vUv = uv;
      vec4 worldPosition = modelMatrix * vec4(position, 1.0);
      vElevation = worldPosition.y;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,`
    uniform float uTime;
    uniform vec3 uColorA;
    uniform vec3 uColorB;
    varying vec2 vUv;
    varying float vElevation;

    float random (vec2 st) {
        return fract(sin(dot(st.xy,
                             vec2(12.9898,78.233)))*
            43758.5453123);
    }

    void main() {
      float mixFactor = smoothstep(0.0, 0.5, vUv.y);
      vec3 color = mix(uColorA, uColorB, mixFactor);
      float noise = random(vUv * 20.0 + uTime * 0.1) * 0.05;
      color += noise;
      gl_FragColor = vec4(color, 1.0);
    }
  `);extend$1({TerrainShaderMaterial});const CottonPlant=({position:t,scale:e=1})=>{const n=reactExports.useRef(null);return useFrame(({clock:o})=>{n.current&&(n.current.rotation.y=Math.sin(o.elapsedTime*.5+t[0])*.1)}),jsxRuntimeExports.jsxs("group",{ref:n,position:t,scale:[e,e,e],children:[jsxRuntimeExports.jsxs("mesh",{castShadow:!0,position:[0,.3*e,0],children:[jsxRuntimeExports.jsx("cylinderGeometry",{args:[.05*e,.07*e,.6*e,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#5a4a3a",roughness:.8})]}),[...Array(5)].map((o,l)=>jsxRuntimeExports.jsxs("mesh",{castShadow:!0,position:[(Math.random()-.5)*.3*e,(.6+Math.random()*.3)*e,(Math.random()-.5)*.3*e],children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[.1*e+Math.random()*.05*e,12,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.5,metalness:.1})]},l)),jsxRuntimeExports.jsxs("mesh",{position:[.1*e,.4*e,0],rotation:[0,0,Math.PI/6],children:[jsxRuntimeExports.jsx("planeGeometry",{args:[.2*e,.1*e]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#3e7d32",side:DoubleSide,roughness:.7})]}),jsxRuntimeExports.jsxs("mesh",{position:[-.1*e,.3*e,.1*e],rotation:[0,Math.PI/2,-Math.PI/5],children:[jsxRuntimeExports.jsx("planeGeometry",{args:[.15*e,.08*e]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#4caf50",side:DoubleSide,roughness:.7})]})]})},Stable=({position:t})=>jsxRuntimeExports.jsxs("group",{position:t,children:[jsxRuntimeExports.jsxs("mesh",{position:[0,1.5,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("boxGeometry",{args:[4,3,6]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#8B4513",roughness:.7,metalness:.1})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,4.5,0],rotation:[0,Math.PI/4,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[3.5,3,4]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#A0522D",roughness:.8,metalness:.1})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,.75,3.01],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("boxGeometry",{args:[1.5,2,.05]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#5a2d00"})]})]}),Sun=({position:t})=>jsxRuntimeExports.jsxs("mesh",{position:t,children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[2,32,32]}),jsxRuntimeExports.jsx("meshBasicMaterial",{color:"#FFD700"})]}),CloudsComponent=()=>{const t=reactExports.useRef([]);return reactExports.useEffect(()=>{t.current.length===0&&(t.current=Array.from({length:6}).map(()=>({position:[30,12+10*6,10*60-30],scale:[Math.random()*3+2,Math.random()*2+1,Math.random()*3+2]})))},[]),jsxRuntimeExports.jsx("group",{children:t.current.map((e,n)=>jsxRuntimeExports.jsx(Cloud,{...e,opacity:.6,speed:.05,bounds:[e.scale[0]*2,e.scale[2],e.scale[1]],segments:20,color:"#ffffff"},n))})},Rain=()=>{const t=reactExports.useRef(null),e=5e3,n=reactExports.useMemo(()=>{const l=new Float32Array(e*3);for(let u=0;u<e;u++)l[u*3]=(Math.random()-.5)*80,l[u*3+1]=Math.random()*40,l[u*3+2]=(Math.random()-.5)*80;return l},[]),o=reactExports.useMemo(()=>new PointsMaterial({color:"#a0c0ff",size:.15,transparent:!0,opacity:.5,sizeAttenuation:!0}),[]);return useFrame((l,u)=>{if(t.current){const h=t.current.geometry.attributes.position.array;for(let f=0;f<e;f++)h[f*3+1]-=30*u,h[f*3+1]<-2&&(h[f*3+1]=40);t.current.geometry.attributes.position.needsUpdate=!0}}),jsxRuntimeExports.jsxs("points",{ref:t,children:[jsxRuntimeExports.jsx("bufferGeometry",{attach:"geometry",children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:n,itemSize:3})}),jsxRuntimeExports.jsx("primitive",{attach:"material",object:o})]})},WaterAccessMap=({onSelectRegion:t})=>{const{regions:e,seasonType:n}=useAppContext(),o=reactExports.useRef(null),l=reactExports.useRef(null),{scene:u}=useThree(),[h,f]=reactExports.useState(1.5),[d,p]=reactExports.useState(.4),[m,v]=reactExports.useState(new Color$1("#f0f9ff")),[_,S]=reactExports.useState(35),[T,A]=reactExports.useState(60),w=reactExports.useRef([]),C=reactExports.useRef([]);reactExports.useEffect(()=>{if(w.current.length===0){const U=Array.from({length:50}).map(V=>{const q=Math.random()*Math.PI*2,H=12+Math.random()*8,G=Math.cos(q)*H,Y=Math.sin(q)*H,Q=1.2+Math.random()*.6;return Math.sqrt(G*G+Y*Y)>5?{x:G,z:Y,scale:Q}:null}).filter(V=>V!==null);w.current=U}if(C.current.length===0){const U=Array.from({length:30}).map(()=>{const V=Math.random()*Math.PI*2,q=5+Math.random()*10,H=Math.cos(V)*q,G=Math.sin(V)*q,Y=.8+Math.random()*.4;return Math.sqrt(H*H+G*G)<15?{x:H,z:G,scale:Y}:null}).filter(V=>V!==null);C.current=U}},[]),reactExports.useEffect(()=>{n==="wet"?(f(.7),p(.5),v(new Color$1("#b0c4de")),S(30),A(55)):(f(1.5),p(.4),v(new Color$1("#e6f7ff")),S(40),A(70))},[n]),reactExports.useEffect(()=>{u.fog=new Fog(m,_,T)},[m,_,T,u]),useFrame(({clock:U})=>{l.current&&(l.current.uniforms.uTime.value=U.elapsedTime)});const O=(U,V)=>{U.stopPropagation(),t(V)},L=(U=1)=>jsxRuntimeExports.jsxs("group",{scale:[U,U,U],children:[jsxRuntimeExports.jsxs("mesh",{position:[0,.75*U,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("cylinderGeometry",{args:[.15*U,.2*U,1.5*U,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#654321",roughness:.8})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,1.75*U,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[.6*U,2*U,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#2d5a27",roughness:.8})]})]}),F=U=>jsxRuntimeExports.jsxs("mesh",{position:U,rotation:[-Math.PI/2,0,0],"position-y":.05,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[2,4]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#60a5fa",transparent:!0,opacity:.7,metalness:.2,roughness:.4})]}),B=(U,V=1)=>jsxRuntimeExports.jsxs("group",{position:U,scale:[V,V,V],children:[jsxRuntimeExports.jsxs("mesh",{position:[0,2*V*.5,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[3*V,6*V,16]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#8c8c8c",roughness:.9,metalness:.1})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,2*V*.5+1.5*V*.5-.5,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[1*V,2*V,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.3,metalness:.05})]})]});return jsxRuntimeExports.jsxs("group",{ref:o,position:[0,-2,0],children:[jsxRuntimeExports.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[60,60,128,128]}),jsxRuntimeExports.jsx("terrainShaderMaterial",{ref:l})]}),jsxRuntimeExports.jsxs("group",{position:[0,.1,0],children:[F([0,0,-12])," ",F([1.5,0,-8])," ",F([.5,0,-4]),F([-.5,0,0])," ",F([-1.5,0,4])," ",F([0,0,8]),F([1,0,12])]}),e.map(U=>{const V=U[n],q=getRegionColor(V.waterAccessLevel),H=.2+V.waterAccessLevel/100*.5;return jsxRuntimeExports.jsxs("group",{position:[U.x,.1,U.z],children:[jsxRuntimeExports.jsxs("mesh",{castShadow:!0,receiveShadow:!0,onClick:G=>O(G,{...U,currentData:V}),onPointerOver:G=>{document.body.style.cursor="pointer",G.object instanceof Mesh&&G.object.material instanceof MeshStandardMaterial&&(G.object.userData.originalColor=G.object.material.color.clone(),G.object.material.color.lerp(new Color$1(16777215),.3)),G.object.scale.y=1.15},onPointerOut:G=>{document.body.style.cursor="default",G.object instanceof Mesh&&G.object.material instanceof MeshStandardMaterial&&G.object.userData.originalColor&&G.object.material.color.copy(G.object.userData.originalColor),G.object.scale.y=1},children:[jsxRuntimeExports.jsx("boxGeometry",{args:[U.width,H,U.depth]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:q,roughness:.7,metalness:.1})]}),jsxRuntimeExports.jsx(Text$1,{position:[0,H/2+.5,0],color:"#222222",fontSize:.4,maxWidth:U.width*1.5,lineHeight:1,letterSpacing:.02,textAlign:"center",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"#ffffff",children:U.name})]},U.id)}),w.current.map((U,V)=>jsxRuntimeExports.jsx("group",{position:[U.x,0,U.z],children:L(U.scale)},`tree-${V}`)),C.current.map((U,V)=>jsxRuntimeExports.jsx(CottonPlant,{position:[U.x,.1,U.z],scale:U.scale},`cotton-${V}`)),jsxRuntimeExports.jsx(Stable,{position:[12,0,-14]}),B([-22,0,-20],2.5)," ",B([20,0,-18],1.8),B([-18,0,22],2)," ",B([15,0,20],2.4),n==="dry"&&jsxRuntimeExports.jsx(Sun,{position:[30,25,-30]}),jsxRuntimeExports.jsx(CloudsComponent,{}),n==="wet"&&jsxRuntimeExports.jsx(Rain,{}),jsxRuntimeExports.jsx("directionalLight",{position:[15,20,10],intensity:h,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":50,"shadow-camera-left":-25,"shadow-camera-right":25,"shadow-camera-top":25,"shadow-camera-bottom":-25}),jsxRuntimeExports.jsx("directionalLight",{position:[-10,15,-10],intensity:h*.3}),jsxRuntimeExports.jsx("ambientLight",{intensity:d})]})},WaterAccessMap$1=reactExports.memo(WaterAccessMap),MapLegend=()=>jsxRuntimeExports.jsxs("div",{className:`
        bg-white/90 backdrop-blur-sm 
        p-3 sm:p-4 
        rounded-lg shadow-md 
        max-w-[95vw] xs:max-w-xs sm:max-w-sm 
        text-left 
        transform origin-top-left
        scale-[0.85] xs:scale-[0.9] sm:scale-95 md:scale-100
      `,children:[jsxRuntimeExports.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 text-gray-800",children:"Acesso Hdrico"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-green-500 mr-2 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700",children:"timo (80-100%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-blue-500 mr-2 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700",children:"Bom (60-80%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500 mr-2 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700",children:"Moderado (40-60%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-orange-500 mr-2 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700",children:"Deficiente (20-40%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-red-500 mr-2 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700",children:"Crtico (0-20%)"})]})]})]}),_changeEvent={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"},_ray=new Ray,_plane=new Plane,_TILT_LIMIT=Math.cos(70*MathUtils.DEG2RAD),_v=new Vector3,_twoPI=2*Math.PI,_STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},_EPS=1e-6;class OrbitControls extends Controls{constructor(e,n=null){super(e,n),this.state=_STATE.NONE,this.target=new Vector3,this.cursor=new Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN},this.touches={ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Vector3,this._lastQuaternion=new Quaternion,this._lastTargetPosition=new Vector3,this._quat=new Quaternion().setFromUnitVectors(e.up,new Vector3(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Spherical,this._sphericalDelta=new Spherical,this._scale=1,this._panOffset=new Vector3,this._rotateStart=new Vector2,this._rotateEnd=new Vector2,this._rotateDelta=new Vector2,this._panStart=new Vector2,this._panEnd=new Vector2,this._panDelta=new Vector2,this._dollyStart=new Vector2,this._dollyEnd=new Vector2,this._dollyDelta=new Vector2,this._dollyDirection=new Vector3,this._mouse=new Vector2,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=onPointerMove.bind(this),this._onPointerDown=onPointerDown.bind(this),this._onPointerUp=onPointerUp.bind(this),this._onContextMenu=onContextMenu.bind(this),this._onMouseWheel=onMouseWheel.bind(this),this._onKeyDown=onKeyDown.bind(this),this._onTouchStart=onTouchStart.bind(this),this._onTouchMove=onTouchMove.bind(this),this._onMouseDown=onMouseDown.bind(this),this._onMouseMove=onMouseMove.bind(this),this._interceptControlDown=interceptControlDown.bind(this),this._interceptControlUp=interceptControlUp.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(_changeEvent),this.update(),this.state=_STATE.NONE}update(e=null){const n=this.object.position;_v.copy(n).sub(this.target),_v.applyQuaternion(this._quat),this._spherical.setFromVector3(_v),this.autoRotate&&this.state===_STATE.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let o=this.minAzimuthAngle,l=this.maxAzimuthAngle;isFinite(o)&&isFinite(l)&&(o<-Math.PI?o+=_twoPI:o>Math.PI&&(o-=_twoPI),l<-Math.PI?l+=_twoPI:l>Math.PI&&(l-=_twoPI),o<=l?this._spherical.theta=Math.max(o,Math.min(l,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(o+l)/2?Math.max(o,this._spherical.theta):Math.min(l,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let u=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const h=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),u=h!=this._spherical.radius}if(_v.setFromSpherical(this._spherical),_v.applyQuaternion(this._quatInverse),n.copy(this.target).add(_v),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let h=null;if(this.object.isPerspectiveCamera){const f=_v.length();h=this._clampDistance(f*this._scale);const d=f-h;this.object.position.addScaledVector(this._dollyDirection,d),this.object.updateMatrixWorld(),u=!!d}else if(this.object.isOrthographicCamera){const f=new Vector3(this._mouse.x,this._mouse.y,0);f.unproject(this.object);const d=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),u=d!==this.object.zoom;const p=new Vector3(this._mouse.x,this._mouse.y,0);p.unproject(this.object),this.object.position.sub(p).add(f),this.object.updateMatrixWorld(),h=_v.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;h!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(h).add(this.object.position):(_ray.origin.copy(this.object.position),_ray.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(_ray.direction))<_TILT_LIMIT?this.object.lookAt(this.target):(_plane.setFromNormalAndCoplanarPoint(this.object.up,this.target),_ray.intersectPlane(_plane,this.target))))}else if(this.object.isOrthographicCamera){const h=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),h!==this.object.zoom&&(this.object.updateProjectionMatrix(),u=!0)}return this._scale=1,this._performCursorZoom=!1,u||this._lastPosition.distanceToSquared(this.object.position)>_EPS||8*(1-this._lastQuaternion.dot(this.object.quaternion))>_EPS||this._lastTargetPosition.distanceToSquared(this.target)>_EPS?(this.dispatchEvent(_changeEvent),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?_twoPI/60*this.autoRotateSpeed*e:_twoPI/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){_v.setFromMatrixColumn(n,0),_v.multiplyScalar(-e),this._panOffset.add(_v)}_panUp(e,n){this.screenSpacePanning===!0?_v.setFromMatrixColumn(n,1):(_v.setFromMatrixColumn(n,0),_v.crossVectors(this.object.up,_v)),_v.multiplyScalar(e),this._panOffset.add(_v)}_pan(e,n){const o=this.domElement;if(this.object.isPerspectiveCamera){const l=this.object.position;_v.copy(l).sub(this.target);let u=_v.length();u*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*u/o.clientHeight,this.object.matrix),this._panUp(2*n*u/o.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/o.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/o.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const o=this.domElement.getBoundingClientRect(),l=e-o.left,u=n-o.top,h=o.width,f=o.height;this._mouse.x=l/h*2-1,this._mouse.y=-(u/f)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/n.clientHeight),this._rotateUp(_twoPI*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),l=.5*(e.pageY+n.y);this._rotateStart.set(o,l)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),l=.5*(e.pageY+n.y);this._panStart.set(o,l)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),o=e.pageX-n.x,l=e.pageY-n.y,u=Math.sqrt(o*o+l*l);this._dollyStart.set(0,u)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const o=this._getSecondPointerPosition(e),l=.5*(e.pageX+o.x),u=.5*(e.pageY+o.y);this._rotateEnd.set(l,u)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/n.clientHeight),this._rotateUp(_twoPI*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),l=.5*(e.pageY+n.y);this._panEnd.set(o,l)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),o=e.pageX-n.x,l=e.pageY-n.y,u=Math.sqrt(o*o+l*l);this._dollyEnd.set(0,u),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const h=(e.pageX+n.x)*.5,f=(e.pageY+n.y)*.5;this._updateZoomParameters(h,f)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Vector2,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,o={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:o.deltaY*=16;break;case 2:o.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(o.deltaY*=10),o}}function onPointerDown(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function onPointerMove(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function onPointerUp(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(_endEvent),this.state=_STATE.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function onMouseDown(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case MOUSE.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=_STATE.DOLLY;break;case MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=_STATE.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=_STATE.ROTATE}break;case MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=_STATE.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=_STATE.PAN}break;default:this.state=_STATE.NONE}this.state!==_STATE.NONE&&this.dispatchEvent(_startEvent)}function onMouseMove(t){switch(this.state){case _STATE.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case _STATE.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case _STATE.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function onMouseWheel(t){this.enabled===!1||this.enableZoom===!1||this.state!==_STATE.NONE||(t.preventDefault(),this.dispatchEvent(_startEvent),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(_endEvent))}function onKeyDown(t){this.enabled!==!1&&this._handleKeyDown(t)}function onTouchStart(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case TOUCH.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=_STATE.TOUCH_ROTATE;break;case TOUCH.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=_STATE.TOUCH_PAN;break;default:this.state=_STATE.NONE}break;case 2:switch(this.touches.TWO){case TOUCH.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=_STATE.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=_STATE.TOUCH_DOLLY_ROTATE;break;default:this.state=_STATE.NONE}break;default:this.state=_STATE.NONE}this.state!==_STATE.NONE&&this.dispatchEvent(_startEvent)}function onTouchMove(t){switch(this._trackPointer(t),this.state){case _STATE.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case _STATE.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case _STATE.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case _STATE.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=_STATE.NONE}}function onContextMenu(t){this.enabled!==!1&&t.preventDefault()}function interceptControlDown(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function interceptControlUp(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const MapControls=()=>{const{controls:t}=useThree(),e=()=>{if(t&&t instanceof OrbitControls)return t;console.warn("Os controles no so uma instncia de OrbitControls ou esto indefinidos.")},n=()=>{const h=e();h&&(h.dolly(.8),h.update())},o=()=>{const h=e();h&&(h.dolly(1.2),h.update())},l=()=>{const h=e();h&&(h.reset(),h.update())},u=()=>{const h=document.documentElement;document.fullscreenElement?document.exitFullscreen().catch(f=>{console.error(`Erro ao tentar sair da tela cheia: ${f.message}`)}):h.requestFullscreen().catch(f=>{console.error(`Erro ao tentar ativar tela cheia: ${f.message}`)})};return jsxRuntimeExports.jsx(Html,{position:[0,0,0],style:{position:"absolute",right:"-470px",top:"-245px",zIndex:30},children:jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom In",onClick:n,children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom Out",onClick:o,children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Resetar Vista",onClick:l,children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Tela Cheia",onClick:u,children:jsxRuntimeExports.jsx(Maximize,{className:"w-5 h-5 text-gray-600"})})]})})})},MapContainer=({onSelectRegion:t})=>{const{isLoading:e,seasonType:n,setSeasonType:o}=useAppContext();return jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full bg-sky-50",children:[e&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-100/80 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 border-4 border-t-blue-500 border-blue-200 rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Carregando mapa..."})]})}),jsxRuntimeExports.jsxs(Canvas,{camera:{position:[0,20,25],fov:45},shadows:!0,className:"w-full h-full",children:[jsxRuntimeExports.jsx("color",{attach:"background",args:["#f0f9ff"]}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(WaterAccessMap$1,{onSelectRegion:t}),jsxRuntimeExports.jsx(OrbitControls$1,{enablePan:!0,enableZoom:!0,enableRotate:!0,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2.1,minDistance:15,maxDistance:35}),jsxRuntimeExports.jsx(MapControls,{})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 z-20",children:jsxRuntimeExports.jsx(MapLegend,{})}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-20 flex flex-col gap-2",children:jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsxs("select",{value:n,onChange:l=>o(l.target.value),className:"w-full text-xs p-1.5 border border-gray-200 rounded",children:[jsxRuntimeExports.jsx("option",{value:"dry",children:"Estao Seca"}),jsxRuntimeExports.jsx("option",{value:"wet",children:"Estao Chuvosa"})]})})})})]})};function r(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var t,e,n=0,o="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,o=e.toString,l=t?t.toStringTag:void 0;function u(h){var f=n.call(h,l),d=h[l];try{h[l]=void 0;var p=!0}catch{}var m=o.call(h);return p&&(f?h[l]=d:delete h[l]),m}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(o){return e.call(o)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),o="[object Null]",l="[object Undefined]",u=t?t.toStringTag:void 0;function h(f){return f==null?f===void 0?l:o:u&&u in Object(f)?e(f):n(f)}return _baseGetTag=h,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function o(l){return typeof l=="symbol"||e(l)&&t(l)==n}return isSymbol_1=o,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var t=requireIsArray(),e=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function l(u,h){if(t(u))return!1;var f=typeof u;return f=="number"||f=="symbol"||f=="boolean"||u==null||e(u)?!0:o.test(u)||!n.test(u)||h!=null&&u in Object(h)}return _isKey=l,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),n="[object AsyncFunction]",o="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function h(f){if(!e(f))return!1;var d=t(f);return d==o||d==l||d==n||d==u}return isFunction_1=h,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=function(){var o=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function n(o){return!!e&&e in o}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function n(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),n=requireIsObject(),o=require_toSource(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,h=Function.prototype,f=Object.prototype,d=h.toString,p=f.hasOwnProperty,m=RegExp("^"+d.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(_){if(!n(_)||e(_))return!1;var S=t(_)?m:u;return S.test(o(_))}return _baseIsNative=v,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,n){return e==null?void 0:e[n]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function n(o,l){var u=e(o,l);return t(u)?u:void 0}return _getNative=n,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",n=Object.prototype,o=n.hasOwnProperty;function l(u){var h=this.__data__;if(t){var f=h[u];return f===e?void 0:f}return o.call(h,u)?h[u]:void 0}return _hashGet=l,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,n=e.hasOwnProperty;function o(l){var u=this.__data__;return t?u[l]!==void 0:n.call(u,l)}return _hashHas=o,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function n(o,l){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=t&&l===void 0?e:l,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),n=require_hashGet(),o=require_hashHas(),l=require_hashSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_Hash=u,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function t(e,n){return e===n||e!==e&&n!==n}return eq_1=t,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq();function e(n,o){for(var l=n.length;l--;)if(t(n[l][0],o))return l;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,n=e.splice;function o(l){var u=this.__data__,h=t(u,l);if(h<0)return!1;var f=u.length-1;return h==f?u.pop():n.call(u,h,1),--this.size,!0}return _listCacheDelete=o,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(n){var o=this.__data__,l=t(o,n);return l<0?void 0:o[l][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(n){return t(this.__data__,n)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(n,o){var l=this.__data__,u=t(l,n);return u<0?(++this.size,l.push([n,o])):l[u][1]=o,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),n=require_listCacheGet(),o=require_listCacheHas(),l=require_listCacheSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_ListCache=u,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),n=t(e,"Map");return _Map=n,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),n=require_Map();function o(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return _mapCacheClear=o,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(n,o){var l=n.__data__;return t(o)?l[typeof o=="string"?"string":"hash"]:l.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(n){var o=t(this,n).delete(n);return this.size-=o?1:0,o}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(n){return t(this,n).get(n)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(n){return t(this,n).has(n)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(n,o){var l=t(this,n),u=l.size;return l.set(n,o),this.size+=l.size==u?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),n=require_mapCacheGet(),o=require_mapCacheHas(),l=require_mapCacheSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_MapCache=u,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var t=require_MapCache(),e="Expected a function";function n(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var u=function(){var h=arguments,f=l?l.apply(this,h):h[0],d=u.cache;if(d.has(f))return d.get(f);var p=o.apply(this,h);return u.cache=d.set(f,p)||d,p};return u.cache=new(n.Cache||t),u}return n.Cache=t,memoize_1=n,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var t=requireMemoize(),e=500;function n(o){var l=t(o,function(h){return u.size===e&&u.clear(),h}),u=l.cache;return l}return _memoizeCapped=n,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var t=require_memoizeCapped(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,o=t(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(e,function(h,f,d,p){u.push(d?p.replace(n,"$1"):f||h)}),u});return _stringToPath=o,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=Array(l);++o<l;)u[o]=n(e[o],o,e);return u}return _arrayMap=t,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var t=require_Symbol(),e=require_arrayMap(),n=requireIsArray(),o=requireIsSymbol(),l=t?t.prototype:void 0,u=l?l.toString:void 0;function h(f){if(typeof f=="string")return f;if(n(f))return e(f,h)+"";if(o(f))return u?u.call(f):"";var d=f+"";return d=="0"&&1/f==-1/0?"-0":d}return _baseToString=h,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var t=require_baseToString();function e(n){return n==null?"":t(n)}return toString_1=e,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var t=requireIsArray(),e=require_isKey(),n=require_stringToPath(),o=requireToString();function l(u,h){return t(u)?u:e(u,h)?[u]:n(o(u))}return _castPath=l,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var t=requireIsSymbol();function e(n){if(typeof n=="string"||t(n))return n;var o=n+"";return o=="0"&&1/n==-1/0?"-0":o}return _toKey=e,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var t=require_castPath(),e=require_toKey();function n(o,l){l=t(l,o);for(var u=0,h=l.length;o!=null&&u<h;)o=o[e(l[u++])];return u&&u==h?o:void 0}return _baseGet=n,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var t=require_baseGet();function e(n,o,l){var u=n==null?void 0:t(n,o);return u===void 0?l:u}return get_1=e,get_1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function t(e){return e==null}return isNil_1=t,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var t=require_baseGetTag(),e=requireIsArray(),n=requireIsObjectLike(),o="[object String]";function l(u){return typeof u=="string"||!e(u)&&n(u)&&t(u)==o}return isString_1=l,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function A(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case t:switch(w=w.type,w){case n:case l:case o:case p:case m:return w;default:switch(w=w&&w.$$typeof,w){case f:case h:case d:case _:case v:case u:return w;default:return C}}case e:return C}}}return reactIs_production_min.ContextConsumer=h,reactIs_production_min.ContextProvider=u,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=d,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=_,reactIs_production_min.Memo=v,reactIs_production_min.Portal=e,reactIs_production_min.Profiler=l,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=p,reactIs_production_min.SuspenseList=m,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(w){return A(w)===h},reactIs_production_min.isContextProvider=function(w){return A(w)===u},reactIs_production_min.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},reactIs_production_min.isForwardRef=function(w){return A(w)===d},reactIs_production_min.isFragment=function(w){return A(w)===n},reactIs_production_min.isLazy=function(w){return A(w)===_},reactIs_production_min.isMemo=function(w){return A(w)===v},reactIs_production_min.isPortal=function(w){return A(w)===e},reactIs_production_min.isProfiler=function(w){return A(w)===l},reactIs_production_min.isStrictMode=function(w){return A(w)===o},reactIs_production_min.isSuspense=function(w){return A(w)===p},reactIs_production_min.isSuspenseList=function(w){return A(w)===m},reactIs_production_min.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===o||w===p||w===m||w===S||typeof w=="object"&&w!==null&&(w.$$typeof===_||w.$$typeof===v||w.$$typeof===u||w.$$typeof===h||w.$$typeof===d||w.$$typeof===T||w.getModuleId!==void 0)},reactIs_production_min.typeOf=A,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Number]";function o(l){return typeof l=="number"||e(l)&&t(l)==n}return isNumber_1=o,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var t=requireIsNumber();function e(n){return t(n)&&n!=+n}return _isNaN=e,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function t(e){return e===0?0:e>0?1:-1},isPercent=function t(e){return isString(e)&&e.indexOf("%")===e.length-1},isNumber=function t(e){return isNumber$1(e)&&!isNan(e)},isNumOrStr=function t(e){return isNumber(e)||isString(e)},idCounter=0,uniqueId=function t(e){var n=++idCounter;return"".concat(e||"").concat(n)},getPercentValue=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&!isString(e))return o;var u;if(isPercent(e)){var h=e.indexOf("%");u=n*parseFloat(e.slice(0,h))/100}else u=+e;return isNan(u)&&(u=o),l&&u>n&&(u=n),u},getAnyElementOfObject=function t(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hasDuplicate=function t(e){if(!Array.isArray(e))return!1;for(var n=e.length,o={},l=0;l<n;l++)if(!o[e[l]])o[e[l]]=!0;else return!0;return!1},interpolateNumber$2=function t(e,n){return isNumber(e)&&isNumber(n)?function(o){return e+o*(n-e)}:function(){return n}};function findEntryInArray(t,e,n){return!t||!t.length?null:t.find(function(o){return o&&(typeof e=="function"?e(o):get(o,e))===n})}var compareValues=function t(e,n){return isNumber(e)&&isNumber(n)?e-n:isString(e)&&isString(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function shallowEqual(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var o in e)if({}.hasOwnProperty.call(e,o)&&!{}.hasOwnProperty.call(t,o))return!1;return!0}function _typeof$F(t){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$F(t)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function t(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var o=e;if(reactExports.isValidElement(e)&&(o=e.props),!isObject(o))return null;var l={};return Object.keys(o).forEach(function(u){EventKeys.includes(u)&&(l[u]=n||function(h){return o[u](o,h)})}),l},getEventHandlerOfChild=function t(e,n,o){return function(l){return e(n,o,l),null}},adaptEventsOfChild=function t(e,n,o){if(!isObject(e)||_typeof$F(e)!=="object")return null;var l=null;return Object.keys(e).forEach(function(u){var h=e[u];EventKeys.includes(u)&&typeof h=="function"&&(l||(l={}),l[u]=getEventHandlerOfChild(h,n,o))}),l},_excluded$f=["children"],_excluded2$4=["children"];function _objectWithoutProperties$f(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$f(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function t(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function t(e){if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var n=[];return reactExports.Children.forEach(e,function(o){isNil(o)||(reactIsExports.isFragment(o)?n=n.concat(t(o.props.children)):n.push(o))}),lastResult=n,lastChildren=e,n};function findAllByType(t,e){var n=[],o=[];return Array.isArray(e)?o=e.map(function(l){return getDisplayName(l)}):o=[getDisplayName(e)],toArray(t).forEach(function(l){var u=get(l,"type.displayName")||get(l,"type.name");o.indexOf(u)!==-1&&n.push(l)}),n}function findChildByType(t,e){var n=findAllByType(t,e);return n&&n[0]}var validateWidthHeight=function t(e){if(!e||!e.props)return!1;var n=e.props,o=n.width,l=n.height;return!(!isNumber(o)||o<=0||!isNumber(l)||l<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function t(e){return e&&e.type&&isString(e.type)&&SVG_TAGS.indexOf(e.type)>=0},isValidSpreadableProp=function t(e,n,o,l){var u,h=(u=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[l])!==null&&u!==void 0?u:[];return n.startsWith("data-")||!isFunction(e)&&(l&&h.includes(n)||SVGElementPropKeys.includes(n))||o&&EventKeys.includes(n)},filterProps=function t(e,n,o){if(!e||typeof e=="function"||typeof e=="boolean")return null;var l=e;if(reactExports.isValidElement(e)&&(l=e.props),!isObject(l))return null;var u={};return Object.keys(l).forEach(function(h){var f;isValidSpreadableProp((f=l)===null||f===void 0?void 0:f[h],h,n,o)&&(u[h]=l[h])}),u},isChildrenEqual=function t(e,n){if(e===n)return!0;var o=reactExports.Children.count(e);if(o!==reactExports.Children.count(n))return!1;if(o===0)return!0;if(o===1)return isSingleChildEqual(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var l=0;l<o;l++){var u=e[l],h=n[l];if(Array.isArray(u)||Array.isArray(h)){if(!t(u,h))return!1}else if(!isSingleChildEqual(u,h))return!1}return!0},isSingleChildEqual=function t(e,n){if(isNil(e)&&isNil(n))return!0;if(!isNil(e)&&!isNil(n)){var o=e.props||{},l=o.children,u=_objectWithoutProperties$f(o,_excluded$f),h=n.props||{},f=h.children,d=_objectWithoutProperties$f(h,_excluded2$4);return l&&f?shallowEqual(u,d)&&isChildrenEqual(l,f):!l&&!f?shallowEqual(u,d):!1}return!1},renderByOrder=function t(e,n){var o=[],l={};return toArray(e).forEach(function(u,h){if(isSvgElement(u))o.push(u);else if(u){var f=getDisplayName(u.type),d=n[f]||{},p=d.handler,m=d.once;if(p&&(!m||!l[f])){var v=p(u,f,h);o.push(v),l[f]=!0}}}),o},getReactEventByType=function t(e){var n=e&&e.type;return n&&REACT_BROWSER_EVENT_MAP[n]?REACT_BROWSER_EVENT_MAP[n]:null},parseChildIndex=function t(e,n){return toArray(n).indexOf(e)},_excluded$e=["children","width","height","viewBox","className","style","title","desc"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$o.apply(this,arguments)}function _objectWithoutProperties$e(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$e(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Surface(t){var e=t.children,n=t.width,o=t.height,l=t.viewBox,u=t.className,h=t.style,f=t.title,d=t.desc,p=_objectWithoutProperties$e(t,_excluded$e),m=l||{width:n,height:o,x:0,y:0},v=clsx("recharts-surface",u);return React.createElement("svg",_extends$o({},filterProps(p,!0,"svg"),{className:v,width:n,height:o,style:h,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),React.createElement("title",null,f),React.createElement("desc",null,d),e)}var _excluded$d=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$n.apply(this,arguments)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$d(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var Layer=React.forwardRef(function(t,e){var n=t.children,o=t.className,l=_objectWithoutProperties$d(t,_excluded$d),u=clsx("recharts-layer",o);return React.createElement("g",_extends$n({className:u},filterProps(l,!0),{ref:e}),n)}),warn=function t(e,n){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function t(e,n,o){var l=-1,u=e.length;n<0&&(n=-n>u?0:u+n),o=o>u?u:o,o<0&&(o+=u),u=n>o?0:o-n>>>0,n>>>=0;for(var h=Array(u);++l<u;)h[l]=e[l+n];return h}return _baseSlice=t,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var t=require_baseSlice();function e(n,o,l){var u=n.length;return l=l===void 0?u:l,!o&&l>=u?n:t(n,o,l)}return _castSlice=e,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",h="\\u200d",f=RegExp("["+h+t+l+u+"]");function d(p){return f.test(p)}return _hasUnicode=d,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function t(e){return e.split("")}return _asciiToArray=t,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",h="["+t+"]",f="["+l+"]",d="\\ud83c[\\udffb-\\udfff]",p="(?:"+f+"|"+d+")",m="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",T=p+"?",A="["+u+"]?",w="(?:"+S+"(?:"+[m,v,_].join("|")+")"+A+T+")*",C=A+T+w,O="(?:"+[m+f+"?",f,v,_,h].join("|")+")",L=RegExp(d+"(?="+d+")|"+O+C,"g");function F(B){return B.match(L)||[]}return _unicodeToArray=F,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var t=require_asciiToArray(),e=require_hasUnicode(),n=require_unicodeToArray();function o(l){return e(l)?n(l):t(l)}return _stringToArray=o,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var t=require_castSlice(),e=require_hasUnicode(),n=require_stringToArray(),o=requireToString();function l(u){return function(h){h=o(h);var f=e(h)?n(h):void 0,d=f?f[0]:h.charAt(0),p=f?t(f,1).join(""):h.slice(1);return d[u]()+p}}return _createCaseFirst=l,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var t=require_createCaseFirst(),e=t("toUpperCase");return upperFirst_1=e,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const n=10**e;return function(o){this._+=o[0];for(let l=1,u=o.length;l<u;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,l){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(e,n,o,l,u,h){this._append`C${+e},${+n},${+o},${+l},${this._x1=+u},${this._y1=+h}`}arcTo(e,n,o,l,u){if(e=+e,n=+n,o=+o,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,f=this._y1,d=o-e,p=l-n,m=h-e,v=f-n,_=m*m+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>epsilon)if(!(Math.abs(v*d-p*m)>epsilon)||!u)this._append`L${this._x1=e},${this._y1=n}`;else{let S=o-h,T=l-f,A=d*d+p*p,w=S*S+T*T,C=Math.sqrt(A),O=Math.sqrt(_),L=u*Math.tan((pi-Math.acos((A+_-w)/(2*C*O)))/2),F=L/O,B=L/C;Math.abs(F-1)>epsilon&&this._append`L${e+F*m},${n+F*v}`,this._append`A${u},${u},0,0,${+(v*S>m*T)},${this._x1=e+B*d},${this._y1=n+B*p}`}}arc(e,n,o,l,u,h){if(e=+e,n=+n,o=+o,h=!!h,o<0)throw new Error(`negative radius: ${o}`);let f=o*Math.cos(l),d=o*Math.sin(l),p=e+f,m=n+d,v=1^h,_=h?l-u:u-l;this._x1===null?this._append`M${p},${m}`:(Math.abs(this._x1-p)>epsilon||Math.abs(this._y1-m)>epsilon)&&this._append`L${p},${m}`,o&&(_<0&&(_=_%tau+tau),_>tauEpsilon?this._append`A${o},${o},0,1,${v},${e-f},${n-d}A${o},${o},0,1,${v},${this._x1=p},${this._y1=m}`:_>epsilon&&this._append`A${o},${o},0,${+(_>=pi)},${v},${this._x1=e+o*Math.cos(u)},${this._y1=n+o*Math.sin(u)}`)}rect(e,n,o,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var n=constant$1(!0),o=null,l=curveLinear,u=null,h=withPath(f);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function f(d){var p,m=(d=array(d)).length,v,_=!1,S;for(o==null&&(u=l(S=h())),p=0;p<=m;++p)!(p<m&&n(v=d[p],p,d))===_&&((_=!_)?u.lineStart():u.lineEnd()),_&&u.point(+t(v,p,d),+e(v,p,d));if(S)return u=null,S+""||null}return f.x=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(+d),f):t},f.y=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),f):e},f.defined=function(d){return arguments.length?(n=typeof d=="function"?d:constant$1(!!d),f):n},f.curve=function(d){return arguments.length?(l=d,o!=null&&(u=l(o)),f):l},f.context=function(d){return arguments.length?(d==null?o=u=null:u=l(o=d),f):o},f}function shapeArea(t,e,n){var o=null,l=constant$1(!0),u=null,h=curveLinear,f=null,d=withPath(p);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function p(v){var _,S,T,A=(v=array(v)).length,w,C=!1,O,L=new Array(A),F=new Array(A);for(u==null&&(f=h(O=d())),_=0;_<=A;++_){if(!(_<A&&l(w=v[_],_,v))===C)if(C=!C)S=_,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),T=_-1;T>=S;--T)f.point(L[T],F[T]);f.lineEnd(),f.areaEnd()}C&&(L[_]=+t(w,_,v),F[_]=+e(w,_,v),f.point(o?+o(w,_,v):L[_],n?+n(w,_,v):F[_]))}if(O)return f=null,O+""||null}function m(){return shapeLine().defined(l).curve(h).context(u)}return p.x=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),o=null,p):t},p.x0=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),p):t},p.x1=function(v){return arguments.length?(o=v==null?null:typeof v=="function"?v:constant$1(+v),p):o},p.y=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),n=null,p):e},p.y0=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),p):e},p.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:constant$1(+v),p):n},p.lineX0=p.lineY0=function(){return m().x(t).y(e)},p.lineY1=function(){return m().x(t).y(n)},p.lineX1=function(){return m().x(o).y(e)},p.defined=function(v){return arguments.length?(l=typeof v=="function"?v:constant$1(!!v),p):l},p.curve=function(v){return arguments.length?(h=v,u!=null&&(f=h(u)),p):h},p.context=function(v){return arguments.length?(v==null?u=f=null:f=h(u=v),p):u},p}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const n=sqrt$1(e/pi$1);t.moveTo(n,0),t.arc(0,0,n,0,tau$1)}},symbolCross={draw(t,e){const n=sqrt$1(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const n=sqrt$1(e/tan30_2),o=n*tan30;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},symbolSquare={draw(t,e){const n=sqrt$1(e),o=-n/2;t.rect(o,o,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const n=sqrt$1(e*ka),o=kx*n,l=ky*n;t.moveTo(0,-n),t.lineTo(o,l);for(let u=1;u<5;++u){const h=tau$1*u/5,f=cos(h),d=sin(h);t.lineTo(d*n,-f*n),t.lineTo(f*o-d*l,d*o+f*l)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const n=-sqrt$1(e/(sqrt3*3));t.moveTo(0,n*2),t.lineTo(-sqrt3*n,-n),t.lineTo(sqrt3*n,-n),t.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(t,e){const n=sqrt$1(e/a),o=n/2,l=n*k,u=o,h=n*k+n,f=-u,d=h;t.moveTo(o,l),t.lineTo(u,h),t.lineTo(f,d),t.lineTo(c*o-s*l,s*o+c*l),t.lineTo(c*u-s*h,s*u+c*h),t.lineTo(c*f-s*d,s*f+c*d),t.lineTo(c*o+s*l,c*l-s*o),t.lineTo(c*u+s*h,c*h-s*u),t.lineTo(c*f+s*d,c*d-s*f),t.closePath()}};function Symbol$1(t,e){let n=null,o=withPath(l);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function l(){let u;if(n||(n=u=o()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),u)return n=null,u+""||null}return l.type=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(u),l):t},l.size=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(+u),l):e},l.context=function(u){return arguments.length?(n=u??null,l):n},l}function noop(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var o=t._x1-t._x0,l=e-t._x1,u=(t._y1-t._y0)/(o||l<0&&-0),h=(n-t._y1)/(l||o<0&&-0),f=(u*l+h*o)/(o+l);return(sign(u)+sign(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(f))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$1(t,e,n){var o=t._x0,l=t._y0,u=t._x1,h=t._y1,f=(u-o)/3;t._context.bezierCurveTo(o+f,l+f*e,u-f,h-f*n,u,h)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$1(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,l,u){this._context.bezierCurveTo(e,t,o,n,u,l)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var o=controlPoints(t),l=controlPoints(e),u=0,h=1;h<n;++u,++h)this._context.bezierCurveTo(o[0][u],l[0][u],o[1][u],l[1][u],t[h],e[h]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,o,l=new Array(n),u=new Array(n),h=new Array(n);for(l[0]=0,u[0]=2,h[0]=t[0]+2*t[1],e=1;e<n-1;++e)l[e]=1,u[e]=4,h[e]=4*t[e]+2*t[e+1];for(l[n-1]=2,u[n-1]=7,h[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)o=l[e]/u[e-1],u[e]-=o,h[e]-=o*h[e-1];for(l[n-1]=h[n-1]/u[n-1],e=n-2;e>=0;--e)l[e]=(h[e]-l[e+1])/u[e];for(u[n-1]=(t[n]+l[n-1])/2,e=0;e<n-1;++e)u[e]=2*t[e+1]-l[e+1];return[l,u]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((h=t.length)>1)for(var n=1,o,l,u=t[e[0]],h,f=u.length;n<h;++n)for(l=u,u=t[e[n]],o=0;o<f;++o)u[o][1]+=u[o][0]=isNaN(l[o][1])?l[o][0]:l[o][1]}function stackOrderNone(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,n=stackOffsetNone,o=stackValue;function l(u){var h=Array.from(t.apply(this,arguments),stackSeries),f,d=h.length,p=-1,m;for(const v of u)for(f=0,++p;f<d;++f)(h[f][p]=[0,+o(v,h[f].key,p,u)]).data=v;for(f=0,m=array(e(h));f<d;++f)h[m[f]].index=f;return n(h,m),h}return l.keys=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(Array.from(u)),l):t},l.value=function(u){return arguments.length?(o=typeof u=="function"?u:constant$1(+u),l):o},l.order=function(u){return arguments.length?(e=u==null?stackOrderNone:typeof u=="function"?u:constant$1(Array.from(u)),l):e},l.offset=function(u){return arguments.length?(n=u??stackOffsetNone,l):n},l}function stackOffsetExpand(t,e){if((o=t.length)>0){for(var n,o,l=0,u=t[0].length,h;l<u;++l){for(h=n=0;n<o;++n)h+=t[n][l][1]||0;if(h)for(n=0;n<o;++n)t[n][l][1]/=h}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((l=t.length)>0){for(var n=0,o=t[e[0]],l,u=o.length;n<u;++n){for(var h=0,f=0;h<l;++h)f+=t[h][n][1]||0;o[n][1]+=o[n][0]=-f/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((h=t.length)>0)||!((u=(l=t[e[0]]).length)>0))){for(var n=0,o=1,l,u,h;o<u;++o){for(var f=0,d=0,p=0;f<h;++f){for(var m=t[e[f]],v=m[o][1]||0,_=m[o-1][1]||0,S=(v-_)/2,T=0;T<f;++T){var A=t[e[T]],w=A[o][1]||0,C=A[o-1][1]||0;S+=w-C}d+=v,p+=S*v}l[o-1][1]+=l[o-1][0]=n,d&&(n-=p/d)}l[o-1][1]+=l[o-1][0]=n,stackOffsetNone(t,e)}}function _typeof$E(t){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$E(t)}var _excluded$c=["type","size","sizeType"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$m.apply(this,arguments)}function ownKeys$x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(n),!0).forEach(function(o){_defineProperty$D(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$D(t,e,n){return e=_toPropertyKey$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return _typeof$E(e)=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(_typeof$E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$E(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$c(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function t(e){var n="symbol".concat(upperFirst(e));return symbolFactories[n]||symbolCircle},calculateAreaSize=function t(e,n,o){if(n==="area")return e;switch(o){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var l=18*RADIAN$1;return 1.25*e*e*(Math.tan(l)-Math.tan(l*2)*Math.pow(Math.tan(l),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=function t(e,n){symbolFactories["symbol".concat(upperFirst(e))]=n},Symbols=function t(e){var n=e.type,o=n===void 0?"circle":n,l=e.size,u=l===void 0?64:l,h=e.sizeType,f=h===void 0?"area":h,d=_objectWithoutProperties$c(e,_excluded$c),p=_objectSpread$x(_objectSpread$x({},d),{},{type:o,size:u,sizeType:f}),m=function(){var w=getSymbolFactory(o),C=Symbol$1().type(w).size(calculateAreaSize(u,f,o));return C()},v=p.className,_=p.cx,S=p.cy,T=filterProps(p,!0);return _===+_&&S===+S&&u===+u?React.createElement("path",_extends$m({},T,{className:clsx("recharts-symbols",v),transform:"translate(".concat(_,", ").concat(S,")"),d:m()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$D(t){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$D(t)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$l.apply(this,arguments)}function ownKeys$w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(n),!0).forEach(function(o){_defineProperty$C(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$C(o.key),o)}}function _createClass$h(t,e,n){return e&&_defineProperties$h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$d(t,e,n){return e=_getPrototypeOf$e(e),_possibleConstructorReturn$e(t,_isNativeReflectConstruct$e()?Reflect.construct(e,n||[],_getPrototypeOf$e(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$e(t,e){if(e&&(_typeof$D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(t)}function _assertThisInitialized$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!t})()}function _getPrototypeOf$e(t){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$e(t)}function _inherits$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$e(t,e)}function _setPrototypeOf$e(t,e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$e(t,e)}function _defineProperty$C(t,e,n){return e=_toPropertyKey$C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return _typeof$D(e)=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(_typeof$D(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$D(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SIZE=32,DefaultLegendContent=function(t){function e(){return _classCallCheck$h(this,e),_callSuper$d(this,e,arguments)}return _inherits$e(e,t),_createClass$h(e,[{key:"renderIcon",value:function(o){var l=this.props.inactiveColor,u=SIZE/2,h=SIZE/6,f=SIZE/3,d=o.inactive?l:o.color;if(o.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:o.payload.strokeDasharray,x1:0,y1:u,x2:SIZE,y2:u,className:"recharts-legend-icon"});if(o.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(u,"h").concat(f,`
            A`).concat(h,",").concat(h,",0,1,1,").concat(2*f,",").concat(u,`
            H`).concat(SIZE,"M").concat(2*f,",").concat(u,`
            A`).concat(h,",").concat(h,",0,1,1,").concat(f,",").concat(u),className:"recharts-legend-icon"});if(o.type==="rect")return React.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React.isValidElement(o.legendIcon)){var p=_objectSpread$w({},o);return delete p.legendIcon,React.cloneElement(o.legendIcon,p)}return React.createElement(Symbols,{fill:d,cx:u,cy:u,size:SIZE,sizeType:"diameter",type:o.type})}},{key:"renderItems",value:function(){var o=this,l=this.props,u=l.payload,h=l.iconSize,f=l.layout,d=l.formatter,p=l.inactiveColor,m={x:0,y:0,width:SIZE,height:SIZE},v={display:f==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return u.map(function(S,T){var A=S.formatter||d,w=clsx(_defineProperty$C(_defineProperty$C({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",S.inactive));if(S.type==="none")return null;var C=isFunction(S.value)?null:S.value;warn(!isFunction(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=S.inactive?p:S.color;return React.createElement("li",_extends$l({className:w,style:v,key:"legend-item-".concat(T)},adaptEventsOfChild(o.props,S,T)),React.createElement(Surface,{width:h,height:h,viewBox:m,style:_},o.renderIcon(S)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},A?A(C,S,T):C))})}},{key:"render",value:function(){var o=this.props,l=o.payload,u=o.layout,h=o.align;if(!l||!l.length)return null;var f={padding:0,margin:0,textAlign:u==="horizontal"?h:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$C(DefaultLegendContent,"displayName","Legend");_defineProperty$C(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),n=require_MapCache(),o=200;function l(u,h){var f=this.__data__;if(f instanceof t){var d=f.__data__;if(!e||d.length<o-1)return d.push([u,h]),this.size=++f.size,this;f=this.__data__=new n(d)}return f.set(u,h),this.size=f.size,this}return _stackSet=l,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),n=require_stackDelete(),o=require_stackGet(),l=require_stackHas(),u=require_stackSet();function h(f){var d=this.__data__=new t(f);this.size=d.size}return h.prototype.clear=e,h.prototype.delete=n,h.prototype.get=o,h.prototype.has=l,h.prototype.set=u,_Stack=h,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),n=require_setCacheHas();function o(l){var u=-1,h=l==null?0:l.length;for(this.__data__=new t;++u<h;)this.add(l[u])}return o.prototype.add=o.prototype.push=e,o.prototype.has=n,_SetCache=o,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(n(e[o],o,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,n){return e.has(n)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),n=require_cacheHas(),o=1,l=2;function u(h,f,d,p,m,v){var _=d&o,S=h.length,T=f.length;if(S!=T&&!(_&&T>S))return!1;var A=v.get(h),w=v.get(f);if(A&&w)return A==f&&w==h;var C=-1,O=!0,L=d&l?new t:void 0;for(v.set(h,f),v.set(f,h);++C<S;){var F=h[C],B=f[C];if(p)var U=_?p(B,F,C,f,h,v):p(F,B,C,h,f,v);if(U!==void 0){if(U)continue;O=!1;break}if(L){if(!e(f,function(V,q){if(!n(L,q)&&(F===V||m(F,V,d,p,v)))return L.push(q)})){O=!1;break}}else if(!(F===B||m(F,B,d,p,v))){O=!1;break}}return v.delete(h),v.delete(f),O}return _equalArrays=u,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l,u){o[++n]=[u,l]}),o}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l){o[++n]=l}),o}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),n=requireEq(),o=require_equalArrays(),l=require_mapToArray(),u=require_setToArray(),h=1,f=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",_="[object Number]",S="[object RegExp]",T="[object Set]",A="[object String]",w="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",L=t?t.prototype:void 0,F=L?L.valueOf:void 0;function B(U,V,q,H,G,Y,Q){switch(q){case O:if(U.byteLength!=V.byteLength||U.byteOffset!=V.byteOffset)return!1;U=U.buffer,V=V.buffer;case C:return!(U.byteLength!=V.byteLength||!Y(new e(U),new e(V)));case d:case p:case _:return n(+U,+V);case m:return U.name==V.name&&U.message==V.message;case S:case A:return U==V+"";case v:var ie=l;case T:var ae=H&h;if(ie||(ie=u),U.size!=V.size&&!ae)return!1;var le=Q.get(U);if(le)return le==V;H|=f,Q.set(U,V);var he=o(ie(U),ie(V),H,G,Y,Q);return Q.delete(U),he;case w:if(F)return F.call(U)==F.call(V)}return!1}return _equalByTag=B,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,n){for(var o=-1,l=n.length,u=e.length;++o<l;)e[u+o]=n[o];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function n(o,l,u){var h=l(o);return e(o)?h:t(h,u(o))}return _baseGetAllKeys=n,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=0,h=[];++o<l;){var f=e[o];n(f,o,e)&&(h[u++]=f)}return h}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),n=Object.prototype,o=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,u=l?function(h){return h==null?[]:(h=Object(h),t(l(h),function(f){return o.call(h,f)}))}:e;return _getSymbols=u,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,n){for(var o=-1,l=Array(e);++o<e;)l[o]=n(o);return l}return _baseTimes=t,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Arguments]";function o(l){return e(l)&&t(l)==n}return _baseIsArguments=o,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),n=Object.prototype,o=n.hasOwnProperty,l=n.propertyIsEnumerable,u=t(function(){return arguments}())?t:function(h){return e(h)&&o.call(h,"callee")&&!l.call(h,"callee")};return isArguments_1=u,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(t,e){var n=require_root(),o=requireStubFalse(),l=e&&!e.nodeType&&e,u=l&&!0&&t&&!t.nodeType&&t,h=u&&u.exports===l,f=h?n.Buffer:void 0,d=f?f.isBuffer:void 0,p=d||o;t.exports=p}(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(o,l){var u=typeof o;return l=l??t,!!l&&(u=="number"||u!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<l}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),n=requireIsObjectLike(),o="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",_="[object RegExp]",S="[object Set]",T="[object String]",A="[object WeakMap]",w="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",V="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",Y={};Y[O]=Y[L]=Y[F]=Y[B]=Y[U]=Y[V]=Y[q]=Y[H]=Y[G]=!0,Y[o]=Y[l]=Y[w]=Y[u]=Y[C]=Y[h]=Y[f]=Y[d]=Y[p]=Y[m]=Y[v]=Y[_]=Y[S]=Y[T]=Y[A]=!1;function Q(ie){return n(ie)&&e(ie.length)&&!!Y[t(ie)]}return _baseIsTypedArray=Q,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(n){return e(n)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(t,e){var n=require_freeGlobal(),o=e&&!e.nodeType&&e,l=o&&!0&&t&&!t.nodeType&&t,u=l&&l.exports===o,h=u&&n.process,f=function(){try{var d=l&&l.require&&l.require("util").types;return d||h&&h.binding&&h.binding("util")}catch{}}();t.exports=f}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),n=require_nodeUtil(),o=n&&n.isTypedArray,l=o?e(o):t;return isTypedArray_1=l,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),n=requireIsArray(),o=requireIsBuffer(),l=require_isIndex(),u=requireIsTypedArray(),h=Object.prototype,f=h.hasOwnProperty;function d(p,m){var v=n(p),_=!v&&e(p),S=!v&&!_&&o(p),T=!v&&!_&&!S&&u(p),A=v||_||S||T,w=A?t(p.length,String):[],C=w.length;for(var O in p)(m||f.call(p,O))&&!(A&&(O=="length"||S&&(O=="offset"||O=="parent")||T&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||l(O,C)))&&w.push(O);return w}return _arrayLikeKeys=d,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||t;return n===l}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,n){return function(o){return e(n(o))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!t(u))return e(u);var h=[];for(var f in Object(u))o.call(u,f)&&f!="constructor"&&h.push(f);return h}return _baseKeys=l,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function n(o){return o!=null&&e(o.length)&&!t(o)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),n=requireIsArrayLike();function o(l){return n(l)?t(l):e(l)}return keys_1=o,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),n=requireKeys();function o(l){return t(l,n,e)}return _getAllKeys=o,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,n=Object.prototype,o=n.hasOwnProperty;function l(u,h,f,d,p,m){var v=f&e,_=t(u),S=_.length,T=t(h),A=T.length;if(S!=A&&!v)return!1;for(var w=S;w--;){var C=_[w];if(!(v?C in h:o.call(h,C)))return!1}var O=m.get(u),L=m.get(h);if(O&&L)return O==h&&L==u;var F=!0;m.set(u,h),m.set(h,u);for(var B=v;++w<S;){C=_[w];var U=u[C],V=h[C];if(d)var q=v?d(V,U,C,h,u,m):d(U,V,C,u,h,m);if(!(q===void 0?U===V||p(U,V,f,d,m):q)){F=!1;break}B||(B=C=="constructor")}if(F&&!B){var H=u.constructor,G=h.constructor;H!=G&&"constructor"in u&&"constructor"in h&&!(typeof H=="function"&&H instanceof H&&typeof G=="function"&&G instanceof G)&&(F=!1)}return m.delete(u),m.delete(h),F}return _equalObjects=l,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),n=t(e,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),n=t(e,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),n=t(e,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),n=t(e,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),n=require_Promise(),o=require_Set(),l=require_WeakMap(),u=require_baseGetTag(),h=require_toSource(),f="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",_="[object DataView]",S=h(t),T=h(e),A=h(n),w=h(o),C=h(l),O=u;return(t&&O(new t(new ArrayBuffer(1)))!=_||e&&O(new e)!=f||n&&O(n.resolve())!=p||o&&O(new o)!=m||l&&O(new l)!=v)&&(O=function(L){var F=u(L),B=F==d?L.constructor:void 0,U=B?h(B):"";if(U)switch(U){case S:return _;case T:return f;case A:return p;case w:return m;case C:return v}return F}),_getTag=O,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),n=require_equalByTag(),o=require_equalObjects(),l=require_getTag(),u=requireIsArray(),h=requireIsBuffer(),f=requireIsTypedArray(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",_=Object.prototype,S=_.hasOwnProperty;function T(A,w,C,O,L,F){var B=u(A),U=u(w),V=B?m:l(A),q=U?m:l(w);V=V==p?v:V,q=q==p?v:q;var H=V==v,G=q==v,Y=V==q;if(Y&&h(A)){if(!h(w))return!1;B=!0,H=!1}if(Y&&!H)return F||(F=new t),B||f(A)?e(A,w,C,O,L,F):n(A,w,V,C,O,L,F);if(!(C&d)){var Q=H&&S.call(A,"__wrapped__"),ie=G&&S.call(w,"__wrapped__");if(Q||ie){var ae=Q?A.value():A,le=ie?w.value():w;return F||(F=new t),L(ae,le,C,O,F)}}return Y?(F||(F=new t),o(A,w,C,O,L,F)):!1}return _baseIsEqualDeep=T,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function n(o,l,u,h,f){return o===l?!0:o==null||l==null||!e(o)&&!e(l)?o!==o&&l!==l:t(o,l,u,h,n,f)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var t=require_Stack(),e=require_baseIsEqual(),n=1,o=2;function l(u,h,f,d){var p=f.length,m=p,v=!d;if(u==null)return!m;for(u=Object(u);p--;){var _=f[p];if(v&&_[2]?_[1]!==u[_[0]]:!(_[0]in u))return!1}for(;++p<m;){_=f[p];var S=_[0],T=u[S],A=_[1];if(v&&_[2]){if(T===void 0&&!(S in u))return!1}else{var w=new t;if(d)var C=d(T,A,S,u,h,w);if(!(C===void 0?e(A,T,n|o,d,w):C))return!1}}return!0}return _baseIsMatch=l,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var t=requireIsObject();function e(n){return n===n&&!t(n)}return _isStrictComparable=e,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var t=require_isStrictComparable(),e=requireKeys();function n(o){for(var l=e(o),u=l.length;u--;){var h=l[u],f=o[h];l[u]=[h,f,t(f)]}return l}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function t(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}return _matchesStrictComparable=t,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var t=require_baseIsMatch(),e=require_getMatchData(),n=require_matchesStrictComparable();function o(l){var u=e(l);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(h){return h===l||t(h,l,u)}}return _baseMatches=o,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function t(e,n){return e!=null&&n in Object(e)}return _baseHasIn=t,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var t=require_castPath(),e=requireIsArguments(),n=requireIsArray(),o=require_isIndex(),l=requireIsLength(),u=require_toKey();function h(f,d,p){d=t(d,f);for(var m=-1,v=d.length,_=!1;++m<v;){var S=u(d[m]);if(!(_=f!=null&&p(f,S)))break;f=f[S]}return _||++m!=v?_:(v=f==null?0:f.length,!!v&&l(v)&&o(S,v)&&(n(f)||e(f)))}return _hasPath=h,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var t=require_baseHasIn(),e=require_hasPath();function n(o,l){return o!=null&&e(o,l,t)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var t=require_baseIsEqual(),e=requireGet(),n=requireHasIn(),o=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),h=require_toKey(),f=1,d=2;function p(m,v){return o(m)&&l(v)?u(h(m),v):function(_){var S=e(_,m);return S===void 0&&S===v?n(_,m):t(v,S,f|d)}}return _baseMatchesProperty=p,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function t(e){return e}return identity_1=t,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function t(e){return function(n){return n==null?void 0:n[e]}}return _baseProperty=t,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var t=require_baseGet();function e(n){return function(o){return t(o,n)}}return _basePropertyDeep=e,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var t=require_baseProperty(),e=require_basePropertyDeep(),n=require_isKey(),o=require_toKey();function l(u){return n(u)?t(o(u)):e(u)}return property_1=l,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var t=require_baseMatches(),e=require_baseMatchesProperty(),n=requireIdentity(),o=requireIsArray(),l=requireProperty();function u(h){return typeof h=="function"?h:h==null?n:typeof h=="object"?o(h)?e(h[0],h[1]):t(h):l(h)}return _baseIteratee=u,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function t(e,n,o,l){for(var u=e.length,h=o+(l?1:-1);l?h--:++h<u;)if(n(e[h],h,e))return h;return-1}return _baseFindIndex=t,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function t(e){return e!==e}return _baseIsNaN=t,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function t(e,n,o){for(var l=o-1,u=e.length;++l<u;)if(e[l]===n)return l;return-1}return _strictIndexOf=t,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var t=require_baseFindIndex(),e=require_baseIsNaN(),n=require_strictIndexOf();function o(l,u,h){return u===u?n(l,u,h):t(l,e,h)}return _baseIndexOf=o,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var t=require_baseIndexOf();function e(n,o){var l=n==null?0:n.length;return!!l&&t(n,o,0)>-1}return _arrayIncludes=e,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function t(e,n,o){for(var l=-1,u=e==null?0:e.length;++l<u;)if(o(n,e[l]))return!0;return!1}return _arrayIncludesWith=t,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function t(){}return noop_1=t,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var t=require_Set(),e=requireNoop(),n=require_setToArray(),o=1/0,l=t&&1/n(new t([,-0]))[1]==o?function(u){return new t(u)}:e;return _createSet=l,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var t=require_SetCache(),e=require_arrayIncludes(),n=require_arrayIncludesWith(),o=require_cacheHas(),l=require_createSet(),u=require_setToArray(),h=200;function f(d,p,m){var v=-1,_=e,S=d.length,T=!0,A=[],w=A;if(m)T=!1,_=n;else if(S>=h){var C=p?null:l(d);if(C)return u(C);T=!1,_=o,w=new t}else w=p?[]:A;e:for(;++v<S;){var O=d[v],L=p?p(O):O;if(O=m||O!==0?O:0,T&&L===L){for(var F=w.length;F--;)if(w[F]===L)continue e;p&&w.push(L),A.push(O)}else _(w,L,m)||(w!==A&&w.push(L),A.push(O))}return A}return _baseUniq=f,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var t=require_baseIteratee(),e=require_baseUniq();function n(o,l){return o&&o.length?e(o,t(l,2)):[]}return uniqBy_1=n,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,n){return e===!0?uniqBy(t,n):isFunction(e)?uniqBy(t,e):t}function _typeof$C(t){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$C(t)}var _excluded$b=["ref"];function ownKeys$v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(n),!0).forEach(function(o){_defineProperty$B(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$B(o.key),o)}}function _createClass$g(t,e,n){return e&&_defineProperties$g(t.prototype,e),n&&_defineProperties$g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$c(t,e,n){return e=_getPrototypeOf$d(e),_possibleConstructorReturn$d(t,_isNativeReflectConstruct$d()?Reflect.construct(e,n||[],_getPrototypeOf$d(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$d(t,e){if(e&&(_typeof$C(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(t)}function _assertThisInitialized$d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!t})()}function _getPrototypeOf$d(t){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$d(t)}function _inherits$d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$d(t,e)}function _setPrototypeOf$d(t,e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$d(t,e)}function _defineProperty$B(t,e,n){return e=_toPropertyKey$B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return _typeof$C(e)=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(_typeof$C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$C(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _objectWithoutProperties$b(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$b(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function defaultUniqBy$1(t){return t.value}function renderContent$1(t,e){if(React.isValidElement(t))return React.cloneElement(t,e);if(typeof t=="function")return React.createElement(t,e);e.ref;var n=_objectWithoutProperties$b(e,_excluded$b);return React.createElement(DefaultLegendContent,n)}var EPS$1=1,Legend=function(t){function e(){var n;_classCallCheck$g(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$c(this,e,[].concat(l)),_defineProperty$B(n,"lastBoundingBox",{width:-1,height:-1}),n}return _inherits$d(e,t),_createClass$g(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();return o.height=this.wrapperNode.offsetHeight,o.width=this.wrapperNode.offsetWidth,o}return null}},{key:"updateBBox",value:function(){var o=this.props.onBBoxUpdate,l=this.getBBox();l?(Math.abs(l.width-this.lastBoundingBox.width)>EPS$1||Math.abs(l.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=l.width,this.lastBoundingBox.height=l.height,o&&o(l)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,o&&o(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$v({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(o){var l=this.props,u=l.layout,h=l.align,f=l.verticalAlign,d=l.margin,p=l.chartWidth,m=l.chartHeight,v,_;if(!o||(o.left===void 0||o.left===null)&&(o.right===void 0||o.right===null))if(h==="center"&&u==="vertical"){var S=this.getBBoxSnapshot();v={left:((p||0)-S.width)/2}}else v=h==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!o||(o.top===void 0||o.top===null)&&(o.bottom===void 0||o.bottom===null))if(f==="middle"){var T=this.getBBoxSnapshot();_={top:((m||0)-T.height)/2}}else _=f==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return _objectSpread$v(_objectSpread$v({},v),_)}},{key:"render",value:function(){var o=this,l=this.props,u=l.content,h=l.width,f=l.height,d=l.wrapperStyle,p=l.payloadUniqBy,m=l.payload,v=_objectSpread$v(_objectSpread$v({position:"absolute",width:h||"auto",height:f||"auto"},this.getDefaultPosition(d)),d);return React.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(S){o.wrapperNode=S}},renderContent$1(u,_objectSpread$v(_objectSpread$v({},this.props),{},{payload:getUniqPayload(m,p,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(o,l){var u=_objectSpread$v(_objectSpread$v({},this.defaultProps),o.props),h=u.layout;return h==="vertical"&&isNumber(o.props.height)?{height:o.props.height}:h==="horizontal"?{width:o.props.width||l}:null}}])}(reactExports.PureComponent);_defineProperty$B(Legend,"displayName","Legend");_defineProperty$B(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var t=require_Symbol(),e=requireIsArguments(),n=requireIsArray(),o=t?t.isConcatSpreadable:void 0;function l(u){return n(u)||e(u)||!!(o&&u&&u[o])}return _isFlattenable=l,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var t=require_arrayPush(),e=require_isFlattenable();function n(o,l,u,h,f){var d=-1,p=o.length;for(u||(u=e),f||(f=[]);++d<p;){var m=o[d];l>0&&u(m)?l>1?n(m,l-1,u,h,f):t(f,m):h||(f[f.length]=m)}return f}return _baseFlatten=n,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function t(e){return function(n,o,l){for(var u=-1,h=Object(n),f=l(n),d=f.length;d--;){var p=f[e?d:++u];if(o(h[p],p,h)===!1)break}return n}}return _createBaseFor=t,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var t=require_createBaseFor(),e=t();return _baseFor=e,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var t=require_baseFor(),e=requireKeys();function n(o,l){return o&&t(o,l,e)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var t=requireIsArrayLike();function e(n,o){return function(l,u){if(l==null)return l;if(!t(l))return n(l,u);for(var h=l.length,f=o?h:-1,d=Object(l);(o?f--:++f<h)&&u(d[f],f,d)!==!1;);return l}}return _createBaseEach=e,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var t=require_baseForOwn(),e=require_createBaseEach(),n=e(t);return _baseEach=n,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var t=require_baseEach(),e=requireIsArrayLike();function n(o,l){var u=-1,h=e(o)?Array(o.length):[];return t(o,function(f,d,p){h[++u]=l(f,d,p)}),h}return _baseMap=n,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function t(e,n){var o=e.length;for(e.sort(n);o--;)e[o]=e[o].value;return e}return _baseSortBy=t,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var t=requireIsSymbol();function e(n,o){if(n!==o){var l=n!==void 0,u=n===null,h=n===n,f=t(n),d=o!==void 0,p=o===null,m=o===o,v=t(o);if(!p&&!v&&!f&&n>o||f&&d&&m&&!p&&!v||u&&d&&m||!l&&m||!h)return 1;if(!u&&!f&&!v&&n<o||v&&l&&h&&!u&&!f||p&&l&&h||!d&&h||!m)return-1}return 0}return _compareAscending=e,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var t=require_compareAscending();function e(n,o,l){for(var u=-1,h=n.criteria,f=o.criteria,d=h.length,p=l.length;++u<d;){var m=t(h[u],f[u]);if(m){if(u>=p)return m;var v=l[u];return m*(v=="desc"?-1:1)}}return n.index-o.index}return _compareMultiple=e,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var t=require_arrayMap(),e=require_baseGet(),n=require_baseIteratee(),o=require_baseMap(),l=require_baseSortBy(),u=require_baseUnary(),h=require_compareMultiple(),f=requireIdentity(),d=requireIsArray();function p(m,v,_){v.length?v=t(v,function(A){return d(A)?function(w){return e(w,A.length===1?A[0]:A)}:A}):v=[f];var S=-1;v=t(v,u(n));var T=o(m,function(A,w,C){var O=t(v,function(L){return L(A)});return{criteria:O,index:++S,value:A}});return l(T,function(A,w){return h(A,w,_)})}return _baseOrderBy=p,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function t(e,n,o){switch(o.length){case 0:return e.call(n);case 1:return e.call(n,o[0]);case 2:return e.call(n,o[0],o[1]);case 3:return e.call(n,o[0],o[1],o[2])}return e.apply(n,o)}return _apply=t,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var t=require_apply(),e=Math.max;function n(o,l,u){return l=e(l===void 0?o.length-1:l,0),function(){for(var h=arguments,f=-1,d=e(h.length-l,0),p=Array(d);++f<d;)p[f]=h[l+f];f=-1;for(var m=Array(l+1);++f<l;)m[f]=h[f];return m[l]=u(p),t(o,this,m)}}return _overRest=n,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function t(e){return function(){return e}}return constant_1=t,constant_1}var _defineProperty$A,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$A;hasRequired_defineProperty=1;var t=require_getNative(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return _defineProperty$A=e,_defineProperty$A}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var t=requireConstant(),e=require_defineProperty(),n=requireIdentity(),o=e?function(l,u){return e(l,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:n;return _baseSetToString=o,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var t=800,e=16,n=Date.now;function o(l){var u=0,h=0;return function(){var f=n(),d=e-(f-h);if(h=f,d>0){if(++u>=t)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}return _shortOut=o,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var t=require_baseSetToString(),e=require_shortOut(),n=e(t);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var t=requireIdentity(),e=require_overRest(),n=require_setToString();function o(l,u){return n(e(l,u,t),l+"")}return _baseRest=o,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var t=requireEq(),e=requireIsArrayLike(),n=require_isIndex(),o=requireIsObject();function l(u,h,f){if(!o(f))return!1;var d=typeof h;return(d=="number"?e(f)&&n(h,f.length):d=="string"&&h in f)?t(f[h],u):!1}return _isIterateeCall=l,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var t=require_baseFlatten(),e=require_baseOrderBy(),n=require_baseRest(),o=require_isIterateeCall(),l=n(function(u,h){if(u==null)return[];var f=h.length;return f>1&&o(u,h[0],h[1])?h=[]:f>2&&o(h[0],h[1],h[2])&&(h=[h[0]]),e(u,t(h,1),[])});return sortBy_1=l,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$B(t){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$B(t)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$k.apply(this,arguments)}function _slicedToArray$b(t,e){return _arrayWithHoles$c(t)||_iterableToArrayLimit$b(t,e)||_unsupportedIterableToArray$i(t,e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$i(t,e)}}function _arrayLikeToArray$i(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$b(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$c(t){if(Array.isArray(t))return t}function ownKeys$u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(n),!0).forEach(function(o){_defineProperty$z(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$z(t,e,n){return e=_toPropertyKey$A(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return _typeof$B(e)=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(_typeof$B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$B(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=function t(e){var n=e.separator,o=n===void 0?" : ":n,l=e.contentStyle,u=l===void 0?{}:l,h=e.itemStyle,f=h===void 0?{}:h,d=e.labelStyle,p=d===void 0?{}:d,m=e.payload,v=e.formatter,_=e.itemSorter,S=e.wrapperClassName,T=e.labelClassName,A=e.label,w=e.labelFormatter,C=e.accessibilityLayer,O=C===void 0?!1:C,L=function(){if(m&&m.length){var Q={padding:0,margin:0},ie=(_?sortBy(m,_):m).map(function(ae,le){if(ae.type==="none")return null;var he=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},f),ge=ae.formatter||v||defaultFormatter,J=ae.value,se=ae.name,ce=J,te=se;if(ge&&ce!=null&&te!=null){var fe=ge(J,se,ae,le,m);if(Array.isArray(fe)){var _e=_slicedToArray$b(fe,2);ce=_e[0],te=_e[1]}else ce=fe}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:he},isNumOrStr(te)?React.createElement("span",{className:"recharts-tooltip-item-name"},te):null,isNumOrStr(te)?React.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,React.createElement("span",{className:"recharts-tooltip-item-value"},ce),React.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Q},ie)}return null},F=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},u),B=_objectSpread$u({margin:0},p),U=!isNil(A),V=U?A:"",q=clsx("recharts-default-tooltip",S),H=clsx("recharts-tooltip-label",T);U&&w&&m!==void 0&&m!==null&&(V=w(A,m));var G=O?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$k({className:q,style:F},G),React.createElement("p",{className:H,style:B},React.isValidElement(V)?V:"".concat(V)),L())};function _typeof$A(t){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$A(t)}function _defineProperty$y(t,e,n){return e=_toPropertyKey$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return _typeof$A(e)=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(_typeof$A(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$A(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var e=t.coordinate,n=t.translateX,o=t.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$y(_defineProperty$y(_defineProperty$y(_defineProperty$y({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(n)&&e&&isNumber(e.x)&&n>=e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(n)&&e&&isNumber(e.x)&&n<e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(o)&&e&&isNumber(e.y)&&o>=e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(o)&&e&&isNumber(e.y)&&o<e.y))}function getTooltipTranslateXY(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.key,l=t.offsetTopLeft,u=t.position,h=t.reverseDirection,f=t.tooltipDimension,d=t.viewBox,p=t.viewBoxDimension;if(u&&isNumber(u[o]))return u[o];var m=n[o]-f-l,v=n[o]+l;if(e[o])return h[o]?m:v;if(h[o]){var _=m,S=d[o];return _<S?Math.max(v,d[o]):Math.max(m,d[o])}var T=v+f,A=d[o]+p;return T>A?Math.max(m,d[o]):Math.max(v,d[o])}function getTransformStyle(t){var e=t.translateX,n=t.translateY,o=t.useTranslate3d;return{transform:o?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function getTooltipTranslate(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.offsetTopLeft,l=t.position,u=t.reverseDirection,h=t.tooltipBox,f=t.useTranslate3d,d=t.viewBox,p,m,v;return h.height>0&&h.width>0&&n?(m=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:h.width,viewBox:d,viewBoxDimension:d.width}),v=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:h.height,viewBox:d,viewBoxDimension:d.height}),p=getTransformStyle({translateX:m,translateY:v,useTranslate3d:f})):p=TOOLTIP_HIDDEN,{cssProperties:p,cssClasses:getTooltipCSSClassName({translateX:m,translateY:v,coordinate:n})}}function _typeof$z(t){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$z(t)}function ownKeys$t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(n),!0).forEach(function(o){_defineProperty$x(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$y(o.key),o)}}function _createClass$f(t,e,n){return e&&_defineProperties$f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$b(t,e,n){return e=_getPrototypeOf$c(e),_possibleConstructorReturn$c(t,_isNativeReflectConstruct$c()?Reflect.construct(e,n||[],_getPrototypeOf$c(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$c(t,e){if(e&&(_typeof$z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(t)}function _assertThisInitialized$c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!t})()}function _getPrototypeOf$c(t){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$c(t)}function _inherits$c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$c(t,e)}function _setPrototypeOf$c(t,e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$c(t,e)}function _defineProperty$x(t,e,n){return e=_toPropertyKey$y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return _typeof$z(e)=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(_typeof$z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$z(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPSILON=1,TooltipBoundingBox=function(t){function e(){var n;_classCallCheck$f(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$b(this,e,[].concat(l)),_defineProperty$x(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$x(n,"handleKeyDown",function(h){if(h.key==="Escape"){var f,d,p,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&f!==void 0?f:0,y:(p=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&p!==void 0?p:0}})}}),n}return _inherits$c(e,t),_createClass$f(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(o.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:o.width,height:o.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var o,l;this.props.active&&this.updateBBox(),this.state.dismissed&&(((o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==this.state.dismissedAtCoordinate.x||((l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var o=this,l=this.props,u=l.active,h=l.allowEscapeViewBox,f=l.animationDuration,d=l.animationEasing,p=l.children,m=l.coordinate,v=l.hasPayload,_=l.isAnimationActive,S=l.offset,T=l.position,A=l.reverseDirection,w=l.useTranslate3d,C=l.viewBox,O=l.wrapperStyle,L=getTooltipTranslate({allowEscapeViewBox:h,coordinate:m,offsetTopLeft:S,position:T,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:C}),F=L.cssClasses,B=L.cssProperties,U=_objectSpread$t(_objectSpread$t({transition:_&&u?"transform ".concat(f,"ms ").concat(d):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&u&&v?"visible":"hidden",position:"absolute",top:0,left:0},O);return React.createElement("div",{tabIndex:-1,className:F,style:U,ref:function(q){o.wrapperNode=q}},p)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function t(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$y(t){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$y(t)}function ownKeys$s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(n),!0).forEach(function(o){_defineProperty$w(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$x(o.key),o)}}function _createClass$e(t,e,n){return e&&_defineProperties$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$a(t,e,n){return e=_getPrototypeOf$b(e),_possibleConstructorReturn$b(t,_isNativeReflectConstruct$b()?Reflect.construct(e,n||[],_getPrototypeOf$b(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$b(t,e){if(e&&(_typeof$y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(t)}function _assertThisInitialized$b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!t})()}function _getPrototypeOf$b(t){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$b(t)}function _inherits$b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$b(t,e)}function _setPrototypeOf$b(t,e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$b(t,e)}function _defineProperty$w(t,e,n){return e=_toPropertyKey$x(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return _typeof$y(e)=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(_typeof$y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$y(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return React.isValidElement(t)?React.cloneElement(t,e):typeof t=="function"?React.createElement(t,e):React.createElement(DefaultTooltipContent,e)}var Tooltip=function(t){function e(){return _classCallCheck$e(this,e),_callSuper$a(this,e,arguments)}return _inherits$b(e,t),_createClass$e(e,[{key:"render",value:function(){var o=this,l=this.props,u=l.active,h=l.allowEscapeViewBox,f=l.animationDuration,d=l.animationEasing,p=l.content,m=l.coordinate,v=l.filterNull,_=l.isAnimationActive,S=l.offset,T=l.payload,A=l.payloadUniqBy,w=l.position,C=l.reverseDirection,O=l.useTranslate3d,L=l.viewBox,F=l.wrapperStyle,B=T??[];v&&B.length&&(B=getUniqPayload(T.filter(function(V){return V.value!=null&&(V.hide!==!0||o.props.includeHidden)}),A,defaultUniqBy));var U=B.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:h,animationDuration:f,animationEasing:d,isAnimationActive:_,active:u,coordinate:m,hasPayload:U,offset:S,position:w,reverseDirection:C,useTranslate3d:O,viewBox:L,wrapperStyle:F},renderContent(p,_objectSpread$s(_objectSpread$s({},this.props),{},{payload:B})))}}])}(reactExports.PureComponent);_defineProperty$w(Tooltip,"displayName","Tooltip");_defineProperty$w(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(n){for(var o=n.length;o--&&t.test(n.charAt(o)););return o}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function n(o){return o&&o.slice(0,t(o)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),o=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,f=parseInt;function d(p){if(typeof p=="number")return p;if(n(p))return o;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=t(p);var v=u.test(p);return v||h.test(p)?f(p.slice(2),v?2:8):l.test(p)?o:+p}return toNumber_1=d,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),n=requireToNumber(),o="Expected a function",l=Math.max,u=Math.min;function h(f,d,p){var m,v,_,S,T,A,w=0,C=!1,O=!1,L=!0;if(typeof f!="function")throw new TypeError(o);d=n(d)||0,t(p)&&(C=!!p.leading,O="maxWait"in p,_=O?l(n(p.maxWait)||0,d):_,L="trailing"in p?!!p.trailing:L);function F(ie){var ae=m,le=v;return m=v=void 0,w=ie,S=f.apply(le,ae),S}function B(ie){return w=ie,T=setTimeout(q,d),C?F(ie):S}function U(ie){var ae=ie-A,le=ie-w,he=d-ae;return O?u(he,_-le):he}function V(ie){var ae=ie-A,le=ie-w;return A===void 0||ae>=d||ae<0||O&&le>=_}function q(){var ie=e();if(V(ie))return H(ie);T=setTimeout(q,U(ie))}function H(ie){return T=void 0,L&&m?F(ie):(m=v=void 0,S)}function G(){T!==void 0&&clearTimeout(T),w=0,m=A=v=T=void 0}function Y(){return T===void 0?S:H(e())}function Q(){var ie=e(),ae=V(ie);if(m=arguments,v=this,A=ie,ae){if(T===void 0)return B(A);if(O)return clearTimeout(T),T=setTimeout(q,d),F(A)}return T===void 0&&(T=setTimeout(q,d)),S}return Q.cancel=G,Q.flush=Y,Q}return debounce_1=h,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),n="Expected a function";function o(l,u,h){var f=!0,d=!0;if(typeof l!="function")throw new TypeError(n);return e(h)&&(f="leading"in h?!!h.leading:f,d="trailing"in h?!!h.trailing:d),t(l,u,{leading:f,maxWait:u,trailing:d})}return throttle_1=o,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$x(t){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$x(t)}function ownKeys$r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(n),!0).forEach(function(o){_defineProperty$v(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$v(t,e,n){return e=_toPropertyKey$w(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return _typeof$x(e)=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(_typeof$x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$x(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$a(t,e){return _arrayWithHoles$b(t)||_iterableToArrayLimit$a(t,e)||_unsupportedIterableToArray$h(t,e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$h(t,e)}}function _arrayLikeToArray$h(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$a(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$b(t){if(Array.isArray(t))return t}var ResponsiveContainer=reactExports.forwardRef(function(t,e){var n=t.aspect,o=t.initialDimension,l=o===void 0?{width:-1,height:-1}:o,u=t.width,h=u===void 0?"100%":u,f=t.height,d=f===void 0?"100%":f,p=t.minWidth,m=p===void 0?0:p,v=t.minHeight,_=t.maxHeight,S=t.children,T=t.debounce,A=T===void 0?0:T,w=t.id,C=t.className,O=t.onResize,L=t.style,F=L===void 0?{}:L,B=reactExports.useRef(null),U=reactExports.useRef();U.current=O,reactExports.useImperativeHandle(e,function(){return Object.defineProperty(B.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),B.current},configurable:!0})});var V=reactExports.useState({containerWidth:l.width,containerHeight:l.height}),q=_slicedToArray$a(V,2),H=q[0],G=q[1],Y=reactExports.useCallback(function(ie,ae){G(function(le){var he=Math.round(ie),ge=Math.round(ae);return le.containerWidth===he&&le.containerHeight===ge?le:{containerWidth:he,containerHeight:ge}})},[]);reactExports.useEffect(function(){var ie=function(se){var ce,te=se[0].contentRect,fe=te.width,_e=te.height;Y(fe,_e),(ce=U.current)===null||ce===void 0||ce.call(U,fe,_e)};A>0&&(ie=throttle(ie,A,{trailing:!0,leading:!1}));var ae=new ResizeObserver(ie),le=B.current.getBoundingClientRect(),he=le.width,ge=le.height;return Y(he,ge),ae.observe(B.current),function(){ae.disconnect()}},[Y,A]);var Q=reactExports.useMemo(function(){var ie=H.containerWidth,ae=H.containerHeight;if(ie<0||ae<0)return null;warn(isPercent(h)||isPercent(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,h,d),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var le=isPercent(h)?ie:h,he=isPercent(d)?ae:d;n&&n>0&&(le?he=le/n:he&&(le=he*n),_&&he>_&&(he=_)),warn(le>0||he>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,le,he,h,d,m,v,n);var ge=!Array.isArray(S)&&getDisplayName(S.type).endsWith("Chart");return React.Children.map(S,function(J){return React.isValidElement(J)?reactExports.cloneElement(J,_objectSpread$r({width:le,height:he},ge?{style:_objectSpread$r({height:"100%",width:"100%",maxHeight:he,maxWidth:le},J.props.style)}:{})):J})},[n,S,d,_,v,m,H,h]);return React.createElement("div",{id:w?"".concat(w):void 0,className:clsx("recharts-responsive-container",C),style:_objectSpread$r(_objectSpread$r({},F),{},{width:h,height:d,minWidth:m,minHeight:v,maxHeight:_}),ref:B},Q)}),Cell=function t(e){return null};Cell.displayName="Cell";function _typeof$w(t){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$w(t)}function ownKeys$q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(n),!0).forEach(function(o){_defineProperty$u(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$u(t,e,n){return e=_toPropertyKey$v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return _typeof$w(e)=="symbol"?e:e+""}function _toPrimitive$v(t,e){if(_typeof$w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$w(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(t){var e=_objectSpread$q({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var getStringSize=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};var o=removeInvalidKeys(n),l=JSON.stringify({text:e,copyStyle:o});if(stringCache.widthCache[l])return stringCache.widthCache[l];try{var u=document.getElementById(MEASUREMENT_SPAN_ID);u||(u=document.createElement("span"),u.setAttribute("id",MEASUREMENT_SPAN_ID),u.setAttribute("aria-hidden","true"),document.body.appendChild(u));var h=_objectSpread$q(_objectSpread$q({},SPAN_STYLE),o);Object.assign(u.style,h),u.textContent="".concat(e);var f=u.getBoundingClientRect(),d={width:f.width,height:f.height};return stringCache.widthCache[l]=d,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),d}catch{return{width:0,height:0}}},getOffset=function t(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$v(t){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$v(t)}function _slicedToArray$9(t,e){return _arrayWithHoles$a(t)||_iterableToArrayLimit$9(t,e)||_unsupportedIterableToArray$g(t,e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$g(t,e)}}function _arrayLikeToArray$g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$a(t){if(Array.isArray(t))return t}function _classCallCheck$d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$u(o.key),o)}}function _createClass$d(t,e,n){return e&&_defineProperties$d(t.prototype,e),n&&_defineProperties$d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return _typeof$v(e)=="symbol"?e:e+""}function _toPrimitive$u(t,e){if(_typeof$v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$v(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}var DecimalCSS=function(){function t(e,n){_classCallCheck$d(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(e,n),this.unit="px")}return _createClass$d(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var o,l=(o=NUM_SPLIT_REGEX.exec(n))!==null&&o!==void 0?o:[],u=_slicedToArray$9(l,3),h=u[1],f=u[2];return new t(parseFloat(h),f??"")}}])}();function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var n,o=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&n!==void 0?n:[],l=_slicedToArray$9(o,4),u=l[1],h=l[2],f=l[3],d=DecimalCSS.parse(u??""),p=DecimalCSS.parse(f??""),m=h==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,_=(v=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&v!==void 0?v:[],S=_slicedToArray$9(_,4),T=S[1],A=S[2],w=S[3],C=DecimalCSS.parse(T??""),O=DecimalCSS.parse(w??""),L=A==="+"?C.add(O):C.subtract(O);if(L.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,L.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t;e.includes("(");){var n=PARENTHESES_REGEX.exec(e),o=_slicedToArray$9(n,2),l=o[1];e=e.replace(PARENTHESES_REGEX,calculateArithmetic(l))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$a=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$3=["dx","dy","angle","className","breakAll"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$j.apply(this,arguments)}function _objectWithoutProperties$a(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$a(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _slicedToArray$8(t,e){return _arrayWithHoles$9(t)||_iterableToArrayLimit$8(t,e)||_unsupportedIterableToArray$f(t,e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$f(t,e)}}function _arrayLikeToArray$f(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$9(t){if(Array.isArray(t))return t}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function t(e){var n=e.children,o=e.breakAll,l=e.style;try{var u=[];isNil(n)||(o?u=n.toString().split(""):u=n.toString().split(BREAKING_SPACES));var h=u.map(function(d){return{word:d,width:getStringSize(d,l).width}}),f=o?0:getStringSize("",l).width;return{wordsWithComputedWidth:h,spaceWidth:f}}catch{return null}},calculateWordsByLines=function t(e,n,o,l,u){var h=e.maxLines,f=e.children,d=e.style,p=e.breakAll,m=isNumber(h),v=f,_=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return le.reduce(function(he,ge){var J=ge.word,se=ge.width,ce=he[he.length-1];if(ce&&(l==null||u||ce.width+se+o<Number(l)))ce.words.push(J),ce.width+=se+o;else{var te={words:[J],width:se};he.push(te)}return he},[])},S=_(n),T=function(le){return le.reduce(function(he,ge){return he.width>ge.width?he:ge})};if(!m)return S;for(var A="",w=function(le){var he=v.slice(0,le),ge=calculateWordWidths({breakAll:p,style:d,children:he+A}).wordsWithComputedWidth,J=_(ge),se=J.length>h||T(J).width>Number(l);return[se,J]},C=0,O=v.length-1,L=0,F;C<=O&&L<=v.length-1;){var B=Math.floor((C+O)/2),U=B-1,V=w(U),q=_slicedToArray$8(V,2),H=q[0],G=q[1],Y=w(B),Q=_slicedToArray$8(Y,1),ie=Q[0];if(!H&&!ie&&(C=B+1),H&&ie&&(O=B-1),!H&&ie){F=G;break}L++}return F||S},getWordsWithoutCalculate=function t(e){var n=isNil(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:n}]},getWordsByLines=function t(e){var n=e.width,o=e.scaleToFit,l=e.children,u=e.style,h=e.breakAll,f=e.maxLines;if((n||o)&&!Global.isSsr){var d,p,m=calculateWordWidths({breakAll:h,children:l,style:u});if(m){var v=m.wordsWithComputedWidth,_=m.spaceWidth;d=v,p=_}else return getWordsWithoutCalculate(l);return calculateWordsByLines({breakAll:h,children:l,maxLines:f,style:u},d,p,n,o)}return getWordsWithoutCalculate(l)},DEFAULT_FILL="#808080",Text=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,h=e.lineHeight,f=h===void 0?"1em":h,d=e.capHeight,p=d===void 0?"0.71em":d,m=e.scaleToFit,v=m===void 0?!1:m,_=e.textAnchor,S=_===void 0?"start":_,T=e.verticalAnchor,A=T===void 0?"end":T,w=e.fill,C=w===void 0?DEFAULT_FILL:w,O=_objectWithoutProperties$a(e,_excluded$a),L=reactExports.useMemo(function(){return getWordsByLines({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:v,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,v,O.style,O.width]),F=O.dx,B=O.dy,U=O.angle,V=O.className,q=O.breakAll,H=_objectWithoutProperties$a(O,_excluded2$3);if(!isNumOrStr(o)||!isNumOrStr(u))return null;var G=o+(isNumber(F)?F:0),Y=u+(isNumber(B)?B:0),Q;switch(A){case"start":Q=reduceCSSCalc("calc(".concat(p,")"));break;case"middle":Q=reduceCSSCalc("calc(".concat((L.length-1)/2," * -").concat(f," + (").concat(p," / 2))"));break;default:Q=reduceCSSCalc("calc(".concat(L.length-1," * -").concat(f,")"));break}var ie=[];if(v){var ae=L[0].width,le=O.width;ie.push("scale(".concat((isNumber(le)?le/ae:1)/ae,")"))}return U&&ie.push("rotate(".concat(U,", ").concat(G,", ").concat(Y,")")),ie.length&&(H.transform=ie.join(" ")),React.createElement("text",_extends$j({},filterProps(H,!0),{x:G,y:Y,className:clsx("recharts-text",V),textAnchor:S,fill:C.includes("url")?DEFAULT_FILL:C}),L.map(function(he,ge){var J=he.words.join(q?"":" ");return React.createElement("tspan",{x:G,dy:ge===0?Q:f,key:"".concat(J,"-").concat(ge)},J)}))};function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,o;t.length!==2?(e=ascending,n=(f,d)=>ascending(t(f),d),o=(f,d)=>t(f)-d):(e=t===ascending||t===descending?t:zero$1,n=t,o=t);function l(f,d,p=0,m=f.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(f[v],d)<0?p=v+1:m=v}while(p<m)}return p}function u(f,d,p=0,m=f.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(f[v],d)<=0?p=v+1:m=v}while(p<m)}return p}function h(f,d,p=0,m=f.length){const v=l(f,d,p,m-1);return v>p&&o(f[v-1],d)>-o(f[v],d)?v-1:v}return{left:l,center:h,right:u}}function zero$1(){return 0}function number$2(t){return t===null?NaN:+t}function*numbers(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[o,l]of e)this.set(o,l)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):n}function intern_set({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):(t.set(o,n),n)}function intern_delete({_intern:t,_key:e},n){const o=e(n);return t.has(o)&&(n=t.get(o),t.delete(o)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const o=t(e,n);return o||o===0?o:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const o=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(o)),u=o/Math.pow(10,l),h=u>=e10?10:u>=e5?5:u>=e2?2:1;let f,d,p;return l<0?(p=Math.pow(10,-l)/h,f=Math.round(t*p),d=Math.round(e*p),f/p<t&&++f,d/p>e&&--d,p=-p):(p=Math.pow(10,l)*h,f=Math.round(t/p),d=Math.round(e/p),f*p<t&&++f,d*p>e&&--d),d<f&&.5<=n&&n<2?tickSpec(t,e,n*2):[f,d,p]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[l,u,h]=o?tickSpec(e,t,n):tickSpec(t,e,n);if(!(u>=l))return[];const f=u-l+1,d=new Array(f);if(o)if(h<0)for(let p=0;p<f;++p)d[p]=(u-p)/-h;else for(let p=0;p<f;++p)d[p]=(u-p)*h;else if(h<0)for(let p=0;p<f;++p)d[p]=(l+p)/-h;else for(let p=0;p<f;++p)d[p]=(l+p)*h;return d}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const o=e<t,l=o?tickIncrement(e,t,n):tickIncrement(t,e,n);return(o?-1:1)*(l<0?1/-l:l)}function max$1(t,e){let n;for(const o of t)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);return n}function min$1(t,e){let n;for(const o of t)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);return n}function quickselect(t,e,n=0,o=1/0,l){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(t.length-1,o)),!(n<=e&&e<=o))return t;for(l=l===void 0?ascendingDefined:compareDefined(l);o>n;){if(o-n>600){const d=o-n+1,p=e-n+1,m=Math.log(d),v=.5*Math.exp(2*m/3),_=.5*Math.sqrt(m*v*(d-v)/d)*(p-d/2<0?-1:1),S=Math.max(n,Math.floor(e-p*v/d+_)),T=Math.min(o,Math.floor(e+(d-p)*v/d+_));quickselect(t,e,S,T,l)}const u=t[e];let h=n,f=o;for(swap(t,n,e),l(t[o],u)>0&&swap(t,n,o);h<f;){for(swap(t,h,f),++h,--f;l(t[h],u)<0;)++h;for(;l(t[f],u)>0;)--f}l(t[n],u)===0?swap(t,n,f):(++f,swap(t,f,o)),f<=e&&(n=f+1),e<=f&&(o=f-1)}return t}function swap(t,e,n){const o=t[e];t[e]=t[n],t[n]=o}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t)),!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return min$1(t);if(e>=1)return max$1(t);var o,l=(o-1)*e,u=Math.floor(l),h=max$1(quickselect(t,u).subarray(0,u+1)),f=min$1(t.subarray(u+1));return h+(f-h)*(l-u)}}function quantileSorted(t,e,n=number$2){if(!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,l=(o-1)*e,u=Math.floor(l),h=+n(t[u],u,t),f=+n(t[u+1],u+1,t);return h+(f-h)*(l-u)}}function range$2(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,u=new Array(l);++o<l;)u[o]=t+o*n;return u}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],o=implicit;function l(u){let h=t.get(u);if(h===void 0){if(o!==implicit)return o;t.set(u,h=e.push(u)-1)}return n[h%n.length]}return l.domain=function(u){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const h of u)t.has(h)||t.set(h,e.push(h)-1);return l},l.range=function(u){return arguments.length?(n=Array.from(u),l):n.slice()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return ordinal(e,n).unknown(o)},initRange.apply(l,arguments),l}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,o=0,l=1,u,h,f=!1,d=0,p=0,m=.5;delete t.unknown;function v(){var _=e().length,S=l<o,T=S?l:o,A=S?o:l;u=(A-T)/Math.max(1,_-d+p*2),f&&(u=Math.floor(u)),T+=(A-T-u*(_-d))*m,h=u*(1-d),f&&(T=Math.round(T),h=Math.round(h));var w=range$2(_).map(function(C){return T+u*C});return n(S?w.reverse():w)}return t.domain=function(_){return arguments.length?(e(_),v()):e()},t.range=function(_){return arguments.length?([o,l]=_,o=+o,l=+l,v()):[o,l]},t.rangeRound=function(_){return[o,l]=_,o=+o,l=+l,f=!0,v()},t.bandwidth=function(){return h},t.step=function(){return u},t.round=function(_){return arguments.length?(f=!!_,v()):f},t.padding=function(_){return arguments.length?(d=Math.min(1,p=+_),v()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),v()):d},t.paddingOuter=function(_){return arguments.length?(p=+_,v()):p},t.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),v()):m},t.copy=function(){return band(e(),[o,l]).round(f).paddingInner(d).paddingOuter(p).align(m)},initRange.apply(v(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,o){return o<=0&&(t=e=n=NaN),new Rgb(t,e,n,o)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,n,o){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,o??1)}function Rgb(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,o)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,l=Math.min(e,n,o),u=Math.max(e,n,o),h=NaN,f=u-l,d=(u+l)/2;return f?(e===u?h=(n-o)/f+(n<o)*6:n===u?h=(o-e)/f+2:h=(e-n)/f+4,f/=d<.5?u+l:2-u-l,h*=60):f=d>0&&d<1?0:h,new Hsl(h,f,d,t.opacity)}function hsl(t,e,n,o){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,o??1)}function Hsl(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,l=2*n-o;return new Rgb(hsl2rgb(t>=240?t-240:t+120,l,o),hsl2rgb(t,l,o),hsl2rgb(t<120?t+240:t-120,l,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function gamma(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant(isNaN(t)?e:t)}const rgb=function t(e){var n=gamma(e);function o(l,u){var h=n((l=rgb$1(l)).r,(u=rgb$1(u)).r),f=n(l.g,u.g),d=n(l.b,u.b),p=nogamma(l.opacity,u.opacity);return function(m){return l.r=h(m),l.g=f(m),l.b=d(m),l.opacity=p(m),l+""}}return o.gamma=t,o}(1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),l;return function(u){for(l=0;l<n;++l)o[l]=t[l]*(1-u)+e[l]*u;return o}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,l=new Array(o),u=new Array(n),h;for(h=0;h<o;++h)l[h]=interpolate(t[h],e[h]);for(;h<n;++h)u[h]=e[h];return function(f){for(h=0;h<o;++h)u[h]=l[h](f);return u}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function interpolateNumber$1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},o={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=interpolate(t[l],e[l]):o[l]=e[l];return function(u){for(l in n)o[l]=n[l](u);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n=reA.lastIndex=reB.lastIndex=0,o,l,u,h=-1,f=[],d=[];for(t=t+"",e=e+"";(o=reA.exec(t))&&(l=reB.exec(e));)(u=l.index)>n&&(u=e.slice(n,u),f[h]?f[h]+=u:f[++h]=u),(o=o[0])===(l=l[0])?f[h]?f[h]+=l:f[++h]=l:(f[++h]=null,d.push({i:h,x:interpolateNumber$1(o,l)})),n=reB.lastIndex;return n<e.length&&(u=e.slice(n),f[h]?f[h]+=u:f[++h]=u),f.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(p){for(var m=0,v;m<e;++m)f[(v=d[m]).i]=v.x(p);return f.join("")})}function interpolate(t,e){var n=typeof e,o;return e==null||n==="boolean"?constant(e):(n==="number"?interpolateNumber$1:n==="string"?(o=color(e))?(e=o,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber$1)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate);for(var n=0,o=e.length-1,l=e[0],u=new Array(o<0?0:o);n<o;)u[n]=t(l,l=e[++n]);return function(h){var f=Math.max(0,Math.min(o-1,Math.floor(h*=o)));return u[f](h-f)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit$1=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function bimap(t,e,n){var o=t[0],l=t[1],u=e[0],h=e[1];return l<o?(o=normalize(l,o),u=n(h,u)):(o=normalize(o,l),u=n(u,h)),function(f){return u(o(f))}}function polymap(t,e,n){var o=Math.min(t.length,e.length)-1,l=new Array(o),u=new Array(o),h=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++h<o;)l[h]=normalize(t[h],t[h+1]),u[h]=n(e[h],e[h+1]);return function(f){var d=bisectRight(t,f,1,o)-1;return u[d](l[d](f))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit$1,e=unit$1,n=interpolate,o,l,u,h=identity$4,f,d,p;function m(){var _=Math.min(t.length,e.length);return h!==identity$4&&(h=clamper(t[0],t[_-1])),f=_>2?polymap:bimap,d=p=null,v}function v(_){return _==null||isNaN(_=+_)?u:(d||(d=f(t.map(o),e,n)))(o(h(_)))}return v.invert=function(_){return h(l((p||(p=f(e,t.map(o),interpolateNumber$1)))(_)))},v.domain=function(_){return arguments.length?(t=Array.from(_,number$1),m()):t.slice()},v.range=function(_){return arguments.length?(e=Array.from(_),m()):e.slice()},v.rangeRound=function(_){return e=Array.from(_),n=interpolateRound,m()},v.clamp=function(_){return arguments.length?(h=_?!0:identity$4,m()):h!==identity$4},v.interpolate=function(_){return arguments.length?(n=_,m()):n},v.unknown=function(_){return arguments.length?(u=_,v):u},function(_,S){return o=_,l=S,m()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,o){for(var l=n.length,u=[],h=0,f=t[0],d=0;l>0&&f>0&&(d+f+1>o&&(f=Math.max(1,o-d)),u.push(n.substring(l-=f,l+f)),!((d+=f+1)>o));)f=t[h=(h+1)%t.length];return u.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,o=-1,l;n<e;++n)switch(t[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(l+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1],u=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,h=o.length;return u===h?o:u>h?o+new Array(u-h+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(t,Math.max(0,e+u-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$3(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$3:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?identity$3:formatNumerals(map$1.call(t.numerals,String)),h=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function p(v){v=formatSpecifier(v);var _=v.fill,S=v.align,T=v.sign,A=v.symbol,w=v.zero,C=v.width,O=v.comma,L=v.precision,F=v.trim,B=v.type;B==="n"?(O=!0,B="g"):formatTypes[B]||(L===void 0&&(L=12),F=!0,B="g"),(w||_==="0"&&S==="=")&&(w=!0,_="0",S="=");var U=A==="$"?n:A==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",V=A==="$"?o:/[%p]/.test(B)?h:"",q=formatTypes[B],H=/[defgprs%]/.test(B);L=L===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function G(Y){var Q=U,ie=V,ae,le,he;if(B==="c")ie=q(Y)+ie,Y="";else{Y=+Y;var ge=Y<0||1/Y<0;if(Y=isNaN(Y)?d:q(Math.abs(Y),L),F&&(Y=formatTrim(Y)),ge&&+Y==0&&T!=="+"&&(ge=!1),Q=(ge?T==="("?T:f:T==="-"||T==="("?"":T)+Q,ie=(B==="s"?prefixes[8+prefixExponent/3]:"")+ie+(ge&&T==="("?")":""),H){for(ae=-1,le=Y.length;++ae<le;)if(he=Y.charCodeAt(ae),48>he||he>57){ie=(he===46?l+Y.slice(ae+1):Y.slice(ae))+ie,Y=Y.slice(0,ae);break}}}O&&!w&&(Y=e(Y,1/0));var J=Q.length+Y.length+ie.length,se=J<C?new Array(C-J+1).join(_):"";switch(O&&w&&(Y=e(se+Y,se.length?C-ie.length:1/0),se=""),S){case"<":Y=Q+Y+ie+se;break;case"=":Y=Q+se+Y+ie;break;case"^":Y=se.slice(0,J=se.length>>1)+Q+Y+ie+se.slice(J);break;default:Y=se+Q+Y+ie;break}return u(Y)}return G.toString=function(){return v+""},G}function m(v,_){var S=p((v=formatSpecifier(v),v.type="f",v)),T=Math.max(-8,Math.min(8,Math.floor(exponent(_)/3)))*3,A=Math.pow(10,-T),w=prefixes[8+T/3];return function(C){return S(A*C)+w}}return{format:p,formatPrefix:m}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,o){var l=tickStep(t,e,n),u;switch(o=formatSpecifier(o??",f"),o.type){case"s":{var h=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(u=precisionPrefix(l,h))&&(o.precision=u),formatPrefix(o,h)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=precisionRound(l,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=precisionFixed(l))&&(o.precision=u-(o.type==="%")*2);break}}return format(o)}function linearish(t){var e=t.domain;return t.ticks=function(n){var o=e();return ticks(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var l=e();return tickFormat(l[0],l[l.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),l=0,u=o.length-1,h=o[l],f=o[u],d,p,m=10;for(f<h&&(p=h,h=f,f=p,p=l,l=u,u=p);m-- >0;){if(p=tickIncrement(h,f,n),p===d)return o[l]=h,o[u]=f,e(o);if(p>0)h=Math.floor(h/p)*p,f=Math.ceil(f/p)*p;else if(p<0)h=Math.ceil(h*p)/p,f=Math.floor(f*p)/p;else break;d=p}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function n(o){return o==null||isNaN(o=+o)?e:o}return n.invert=n,n.domain=n.range=function(o){return arguments.length?(t=Array.from(o,number$1),n):t.slice()},n.unknown=function(o){return arguments.length?(e=o,n):e},n.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,o=t.length-1,l=t[n],u=t[o],h;return u<l&&(h=n,n=o,o=h,h=l,l=u,u=h),t[n]=e.floor(l),t[o]=e.ceil(u),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let o=10,l,u;function h(){return l=logp(o),u=powp(o),n()[0]<0?(l=reflect(l),u=reflect(u),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(f){return arguments.length?(o=+f,h()):o},e.domain=function(f){return arguments.length?(n(f),h()):n()},e.ticks=f=>{const d=n();let p=d[0],m=d[d.length-1];const v=m<p;v&&([p,m]=[m,p]);let _=l(p),S=l(m),T,A;const w=f==null?10:+f;let C=[];if(!(o%1)&&S-_<w){if(_=Math.floor(_),S=Math.ceil(S),p>0){for(;_<=S;++_)for(T=1;T<o;++T)if(A=_<0?T/u(-_):T*u(_),!(A<p)){if(A>m)break;C.push(A)}}else for(;_<=S;++_)for(T=o-1;T>=1;--T)if(A=_>0?T/u(-_):T*u(_),!(A<p)){if(A>m)break;C.push(A)}C.length*2<w&&(C=ticks(p,m,w))}else C=ticks(_,S,Math.min(S-_,w)).map(u);return v?C.reverse():C},e.tickFormat=(f,d)=>{if(f==null&&(f=10),d==null&&(d=o===10?"s":","),typeof d!="function"&&(!(o%1)&&(d=formatSpecifier(d)).precision==null&&(d.trim=!0),d=format(d)),f===1/0)return d;const p=Math.max(1,o*f/e.ticks().length);return m=>{let v=m/u(Math.round(l(m)));return v*o<o-.5&&(v*=o),v<=p?d(m):""}},e.nice=()=>n(nice(n(),{floor:f=>u(Math.floor(l(f))),ceil:f=>u(Math.ceil(l(f)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(o){return arguments.length?t(transformSymlog(e=+o),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),n=1;function o(){return n===1?t(identity$4,identity$4):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,o()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,o;function l(u){var h=unsquare(t(u));return isNaN(h)?o:n?Math.round(h):h}return l.invert=function(u){return t.invert(square(u))},l.domain=function(u){return arguments.length?(t.domain(u),l):t.domain()},l.range=function(u){return arguments.length?(t.range((e=Array.from(u,number$1)).map(square)),l):e.slice()},l.rangeRound=function(u){return l.range(u).round(!0)},l.round=function(u){return arguments.length?(n=!!u,l):n},l.clamp=function(u){return arguments.length?(t.clamp(u),l):t.clamp()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(o)},initRange.apply(l,arguments),linearish(l)}function quantile(){var t=[],e=[],n=[],o;function l(){var h=0,f=Math.max(1,e.length);for(n=new Array(f-1);++h<f;)n[h-1]=quantileSorted(t,h/f);return u}function u(h){return h==null||isNaN(h=+h)?o:e[bisectRight(n,h)]}return u.invertExtent=function(h){var f=e.indexOf(h);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},u.domain=function(h){if(!arguments.length)return t.slice();t=[];for(let f of h)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ascending),l()},u.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},u.unknown=function(h){return arguments.length?(o=h,u):o},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(t).range(e).unknown(o)},initRange.apply(u,arguments)}function quantize(){var t=0,e=1,n=1,o=[.5],l=[0,1],u;function h(d){return d!=null&&d<=d?l[bisectRight(o,d,0,n)]:u}function f(){var d=-1;for(o=new Array(n);++d<n;)o[d]=((d+1)*e-(d-n)*t)/(n+1);return h}return h.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,f()):[t,e]},h.range=function(d){return arguments.length?(n=(l=Array.from(d)).length-1,f()):l.slice()},h.invertExtent=function(d){var p=l.indexOf(d);return p<0?[NaN,NaN]:p<1?[t,o[0]]:p>=n?[o[n-1],e]:[o[p-1],o[p]]},h.unknown=function(d){return arguments.length&&(u=d),h},h.thresholds=function(){return o.slice()},h.copy=function(){return quantize().domain([t,e]).range(l).unknown(u)},initRange.apply(linearish(h),arguments)}function threshold(){var t=[.5],e=[0,1],n,o=1;function l(u){return u!=null&&u<=u?e[bisectRight(t,u,0,o)]:n}return l.domain=function(u){return arguments.length?(t=Array.from(u),o=Math.min(t.length,e.length-1),l):t.slice()},l.range=function(u){return arguments.length?(e=Array.from(u),o=Math.min(t.length,e.length-1),l):e.slice()},l.invertExtent=function(u){var h=e.indexOf(u);return[t[h-1],t[h]]},l.unknown=function(u){return arguments.length?(n=u,l):n},l.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,o){function l(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=u=>(t(u=new Date(+u)),u),l.ceil=u=>(t(u=new Date(u-1)),e(u,1),t(u),u),l.round=u=>{const h=l(u),f=l.ceil(u);return u-h<f-u?h:f},l.offset=(u,h)=>(e(u=new Date(+u),h==null?1:Math.floor(h)),u),l.range=(u,h,f)=>{const d=[];if(u=l.ceil(u),f=f==null?1:Math.floor(f),!(u<h)||!(f>0))return d;let p;do d.push(p=new Date(+u)),e(u,f),t(u);while(p<u&&u<h);return d},l.filter=u=>timeInterval(h=>{if(h>=h)for(;t(h),!u(h);)h.setTime(h-1)},(h,f)=>{if(h>=h)if(f<0)for(;++f<=0;)for(;e(h,-1),!u(h););else for(;--f>=0;)for(;e(h,1),!u(h););}),n&&(l.count=(u,h)=>(t0.setTime(+u),t1.setTime(+h),t(t0),t(t1),Math.floor(n(t0,t1))),l.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?l.filter(o?h=>o(h)%u===0:h=>l.count(0,h)%u===0):l)),l}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});utcYear.range;function ticker(t,e,n,o,l,u){const h=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[o,1,durationDay],[o,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function f(p,m,v){const _=m<p;_&&([p,m]=[m,p]);const S=v&&typeof v.range=="function"?v:d(p,m,v),T=S?S.range(p,+m+1):[];return _?T.reverse():T}function d(p,m,v){const _=Math.abs(m-p)/v,S=bisector(([,,w])=>w).right(h,_);if(S===h.length)return t.every(tickStep(p/durationYear,m/durationYear,v));if(S===0)return millisecond.every(Math.max(tickStep(p,m,v),1));const[T,A]=h[_/h[S-1][2]<h[S][2]/_?S-1:S];return T.every(A)}return[f,d]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,o=t.time,l=t.periods,u=t.days,h=t.shortDays,f=t.months,d=t.shortMonths,p=formatRe(l),m=formatLookup(l),v=formatRe(u),_=formatLookup(u),S=formatRe(h),T=formatLookup(h),A=formatRe(f),w=formatLookup(f),C=formatRe(d),O=formatLookup(d),L={a:ge,A:J,b:se,B:ce,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:te,q:fe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},F={a:_e,A:ye,b:xe,B:Me,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:be,q:Ce,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},B={a:G,A:Y,b:Q,B:ie,c:ae,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:H,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:le,X:he,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};L.x=U(n,L),L.X=U(o,L),L.c=U(e,L),F.x=U(n,F),F.X=U(o,F),F.c=U(e,F);function U(Re,Ne){return function(Oe){var Te=[],tt=-1,de=0,Xe=Re.length,qe,Ye,Ie;for(Oe instanceof Date||(Oe=new Date(+Oe));++tt<Xe;)Re.charCodeAt(tt)===37&&(Te.push(Re.slice(de,tt)),(Ye=pads[qe=Re.charAt(++tt)])!=null?qe=Re.charAt(++tt):Ye=qe==="e"?" ":"0",(Ie=Ne[qe])&&(qe=Ie(Oe,Ye)),Te.push(qe),de=tt+1);return Te.push(Re.slice(de,tt)),Te.join("")}}function V(Re,Ne){return function(Oe){var Te=newDate(1900,void 0,1),tt=q(Te,Re,Oe+="",0),de,Xe;if(tt!=Oe.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(Ne&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(de=utcDate(newDate(Te.y,0,1)),Xe=de.getUTCDay(),de=Xe>4||Xe===0?utcMonday.ceil(de):utcMonday(de),de=utcDay.offset(de,(Te.V-1)*7),Te.y=de.getUTCFullYear(),Te.m=de.getUTCMonth(),Te.d=de.getUTCDate()+(Te.w+6)%7):(de=localDate(newDate(Te.y,0,1)),Xe=de.getDay(),de=Xe>4||Xe===0?timeMonday.ceil(de):timeMonday(de),de=timeDay.offset(de,(Te.V-1)*7),Te.y=de.getFullYear(),Te.m=de.getMonth(),Te.d=de.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),Xe="Z"in Te?utcDate(newDate(Te.y,0,1)).getUTCDay():localDate(newDate(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-(Xe+5)%7:Te.w+Te.U*7-(Xe+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,utcDate(Te)):localDate(Te)}}function q(Re,Ne,Oe,Te){for(var tt=0,de=Ne.length,Xe=Oe.length,qe,Ye;tt<de;){if(Te>=Xe)return-1;if(qe=Ne.charCodeAt(tt++),qe===37){if(qe=Ne.charAt(tt++),Ye=B[qe in pads?Ne.charAt(tt++):qe],!Ye||(Te=Ye(Re,Oe,Te))<0)return-1}else if(qe!=Oe.charCodeAt(Te++))return-1}return Te}function H(Re,Ne,Oe){var Te=p.exec(Ne.slice(Oe));return Te?(Re.p=m.get(Te[0].toLowerCase()),Oe+Te[0].length):-1}function G(Re,Ne,Oe){var Te=S.exec(Ne.slice(Oe));return Te?(Re.w=T.get(Te[0].toLowerCase()),Oe+Te[0].length):-1}function Y(Re,Ne,Oe){var Te=v.exec(Ne.slice(Oe));return Te?(Re.w=_.get(Te[0].toLowerCase()),Oe+Te[0].length):-1}function Q(Re,Ne,Oe){var Te=C.exec(Ne.slice(Oe));return Te?(Re.m=O.get(Te[0].toLowerCase()),Oe+Te[0].length):-1}function ie(Re,Ne,Oe){var Te=A.exec(Ne.slice(Oe));return Te?(Re.m=w.get(Te[0].toLowerCase()),Oe+Te[0].length):-1}function ae(Re,Ne,Oe){return q(Re,e,Ne,Oe)}function le(Re,Ne,Oe){return q(Re,n,Ne,Oe)}function he(Re,Ne,Oe){return q(Re,o,Ne,Oe)}function ge(Re){return h[Re.getDay()]}function J(Re){return u[Re.getDay()]}function se(Re){return d[Re.getMonth()]}function ce(Re){return f[Re.getMonth()]}function te(Re){return l[+(Re.getHours()>=12)]}function fe(Re){return 1+~~(Re.getMonth()/3)}function _e(Re){return h[Re.getUTCDay()]}function ye(Re){return u[Re.getUTCDay()]}function xe(Re){return d[Re.getUTCMonth()]}function Me(Re){return f[Re.getUTCMonth()]}function be(Re){return l[+(Re.getUTCHours()>=12)]}function Ce(Re){return 1+~~(Re.getUTCMonth()/3)}return{format:function(Re){var Ne=U(Re+="",L);return Ne.toString=function(){return Re},Ne},parse:function(Re){var Ne=V(Re+="",!1);return Ne.toString=function(){return Re},Ne},utcFormat:function(Re){var Ne=U(Re+="",F);return Ne.toString=function(){return Re},Ne},utcParse:function(Re){var Ne=V(Re+="",!0);return Ne.toString=function(){return Re},Ne}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var o=t<0?"-":"",l=(o?-t:t)+"",u=l.length;return o+(u<n?new Array(n-u+1).join(e)+l:l)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function parseWeekNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function parseWeekNumberISO(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function parseWeekNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function parseFullYear(t,e,n){var o=numberRe.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function parseYear(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function parseZone(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function parseQuarter(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.q=o[0]*3-3,n+o[0].length):-1}function parseMonthNumber(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function parseDayOfMonth(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function parseDayOfYear(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function parseHour24(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function parseMinutes(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function parseSeconds(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function parseMilliseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function parseMicroseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function parseLiteralPercent(t,e,n){var o=percentRe.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function parseUnixTimestamp(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.s=+o[0],n+o[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,o,l,u,h,f,d,p){var m=continuous(),v=m.invert,_=m.domain,S=p(".%L"),T=p(":%S"),A=p("%I:%M"),w=p("%I %p"),C=p("%a %d"),O=p("%b %d"),L=p("%B"),F=p("%Y");function B(U){return(d(U)<U?S:f(U)<U?T:h(U)<U?A:u(U)<U?w:o(U)<U?l(U)<U?C:O:n(U)<U?L:F)(U)}return m.invert=function(U){return new Date(v(U))},m.domain=function(U){return arguments.length?_(Array.from(U,number)):_().map(date)},m.ticks=function(U){var V=_();return t(V[0],V[V.length-1],U??10)},m.tickFormat=function(U,V){return V==null?B:p(V)},m.nice=function(U){var V=_();return(!U||typeof U.range!="function")&&(U=e(V[0],V[V.length-1],U??10)),U?_(nice(V,U)):m},m.copy=function(){return copy$1(m,calendar(t,e,n,o,l,u,h,f,d,p))},m}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,o,l,u,h=identity$4,f=!1,d;function p(v){return v==null||isNaN(v=+v)?d:h(l===0?.5:(v=(u(v)-n)*l,f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e]=v,n=u(t=+t),o=u(e=+e),l=n===o?0:1/(o-n),p):[t,e]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(h=v,p):h};function m(v){return function(_){var S,T;return arguments.length?([S,T]=_,h=v(S,T),p):[h(0),h(1)]}}return p.range=m(interpolate),p.rangeRound=m(interpolateRound),p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return u=v,n=v(t),o=v(e),l=n===o?0:1/(o-n),p}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$4));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$4;function n(o){if(o!=null&&!isNaN(o=+o))return e((bisectRight(t,o,1)-1)/(t.length-1))}return n.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ascending),n},n.interpolator=function(o){return arguments.length?(e=o,n):e},n.range=function(){return t.map((o,l)=>e(l/(t.length-1)))},n.quantiles=function(o){return Array.from({length:o+1},(l,u)=>quantile$1(t,u/o))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,o=1,l,u,h,f,d,p=identity$4,m,v=!1,_;function S(A){return isNaN(A=+A)?_:(A=.5+((A=+m(A))-u)*(o*A<o*u?f:d),p(v?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([t,e,n]=A,l=m(t=+t),u=m(e=+e),h=m(n=+n),f=l===u?0:.5/(u-l),d=u===h?0:.5/(h-u),o=u<l?-1:1,S):[t,e,n]},S.clamp=function(A){return arguments.length?(v=!!A,S):v},S.interpolator=function(A){return arguments.length?(p=A,S):p};function T(A){return function(w){var C,O,L;return arguments.length?([C,O,L]=w,p=piecewise(A,[C,O,L]),S):[p(0),p(.5),p(1)]}}return S.range=T(interpolate),S.rangeRound=T(interpolateRound),S.unknown=function(A){return arguments.length?(_=A,S):_},function(A){return m=A,l=A(t),u=A(e),h=A(n),f=l===u?0:.5/(u-l),d=u===h?0:.5/(h-u),o=u<l?-1:1,S}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var t=requireIsSymbol();function e(n,o,l){for(var u=-1,h=n.length;++u<h;){var f=n[u],d=o(f);if(d!=null&&(p===void 0?d===d&&!t(d):l(d,p)))var p=d,m=f}return m}return _baseExtremum=e,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function t(e,n){return e>n}return _baseGt=t,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var t=require_baseExtremum(),e=require_baseGt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return max_1=o,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function t(e,n){return e<n}return _baseLt=t,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var t=require_baseExtremum(),e=require_baseLt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return min_1=o,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var t=require_arrayMap(),e=require_baseIteratee(),n=require_baseMap(),o=requireIsArray();function l(u,h){var f=o(u)?t:n;return f(u,e(h,3))}return map_1=l,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var t=require_baseFlatten(),e=requireMap();function n(o,l){return t(e(o,l),1)}return flatMap_1=n,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(n,o){return t(n,o)}return isEqual_1=e,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,o,l,u=this;if(t=new u.constructor(t),u.s!==t.s)return u.s||-t.s;if(u.e!==t.e)return u.e>t.e^u.s<0?1:-1;for(o=u.d.length,l=t.d.length,e=0,n=o<l?o:l;e<n;++e)if(u.d[e]!==t.d[e])return u.d[e]>t.d[e]^u.s<0?1:-1;return o===l?0:o>l^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return divide(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return round(divide(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,o=n.constructor,l=o.precision,u=l+5;if(t===void 0)t=new o(10);else if(t=new o(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new o(0):(external=!1,e=divide(ln(n,u),ln(t,u),u),external=!0,round(e,l))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,o=n.constructor,l=o.precision;if(t=new o(t),!t.s)throw Error(decimalError+"NaN");return n.s?(external=!1,e=divide(n,t,0,1).times(t),external=!0,n.minus(e)):round(new o(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,o,l=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(l)+1,o=l.d.length-1,n=o*LOG_BASE+1,o=l.d[o],o){for(;o%10==0;o/=10)n--;for(o=l.d[0];o>=10;o/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,o,l,u,h,f=this,d=f.constructor;if(f.s<1){if(!f.s)return new d(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(f),external=!1,l=Math.sqrt(+f),l==0||l==1/0?(e=digitsToString(f.d),(e.length+t)%2==0&&(e+="0"),l=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),l==1/0?e="5e"+t:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),o=new d(e)):o=new d(l.toString()),n=d.precision,l=h=n+3;;)if(u=o,o=u.plus(divide(f,u,h+2)).times(.5),digitsToString(u.d).slice(0,h)===(e=digitsToString(o.d)).slice(0,h)){if(e=e.slice(h-3,h+1),l==h&&e=="4999"){if(round(u,n+1,0),u.times(u).eq(f)){o=u;break}}else if(e!="9999")break;h+=4}return external=!0,round(o,n)};P.times=P.mul=function(t){var e,n,o,l,u,h,f,d,p,m=this,v=m.constructor,_=m.d,S=(t=new v(t)).d;if(!m.s||!t.s)return new v(0);for(t.s*=m.s,n=m.e+t.e,d=_.length,p=S.length,d<p&&(u=_,_=S,S=u,h=d,d=p,p=h),u=[],h=d+p,o=h;o--;)u.push(0);for(o=p;--o>=0;){for(e=0,l=d+o;l>o;)f=u[l]+S[o]*_[l-o-1]+e,u[l--]=f%BASE|0,e=f/BASE|0;u[l]=(u[l]+e)%BASE|0}for(;!u[--h];)u.pop();return e?++n:u.shift(),t.d=u,t.e=n,external?round(t,v.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,o=n.constructor;return n=new o(n),t===void 0?n:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8),round(n,t+getBase10Exponent(n)+1,e))};P.toExponential=function(t,e){var n,o=this,l=o.constructor;return t===void 0?n=toString(o,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),o=round(new l(o),t+1,e),n=toString(o,!0,t+1)),n};P.toFixed=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?toString(l):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),o=round(new u(l),t+getBase10Exponent(l)+1,e),n=toString(o.abs(),!1,t+getBase10Exponent(o)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,o,l,u,h,f=this,d=f.constructor,p=12,m=+(t=new d(t));if(!t.s)return new d(ONE);if(f=new d(f),!f.s){if(t.s<1)throw Error(decimalError+"Infinity");return f}if(f.eq(ONE))return f;if(o=d.precision,t.eq(ONE))return round(f,o);if(e=t.e,n=t.d.length-1,h=e>=n,u=f.s,h){if((n=m<0?-m:m)<=MAX_SAFE_INTEGER){for(l=new d(ONE),e=Math.ceil(o/LOG_BASE+4),external=!1;n%2&&(l=l.times(f),truncate(l.d,e)),n=mathfloor(n/2),n!==0;)f=f.times(f),truncate(f.d,e);return external=!0,t.s<0?new d(ONE).div(l):round(l,o)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&t.d[Math.max(e,n)]&1?-1:1,f.s=1,external=!1,l=t.times(ln(f,o+p)),external=!0,l=exp(l),l.s=u,l};P.toPrecision=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?(n=getBase10Exponent(l),o=toString(l,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),l=round(new u(l),t,e),n=getBase10Exponent(l),o=toString(l,t<=n||n<=u.toExpNeg,t)),o};P.toSignificantDigits=P.tosd=function(t,e){var n=this,o=n.constructor;return t===void 0?(t=o.precision,e=o.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8)),round(new o(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),n=t.constructor;return toString(t,e<=n.toExpNeg||e>=n.toExpPos)};function add(t,e){var n,o,l,u,h,f,d,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),external?round(e,v):e;if(d=t.d,p=e.d,h=t.e,l=e.e,d=d.slice(),u=h-l,u){for(u<0?(o=d,u=-u,f=p.length):(o=p,l=h,f=d.length),h=Math.ceil(v/LOG_BASE),f=h>f?h+1:f+1,u>f&&(u=f,o.length=1),o.reverse();u--;)o.push(0);o.reverse()}for(f=d.length,u=p.length,f-u<0&&(u=f,o=p,p=d,d=o),n=0;u;)n=(d[--u]=d[u]+p[u]+n)/BASE|0,d[u]%=BASE;for(n&&(d.unshift(n),++l),f=d.length;d[--f]==0;)d.pop();return e.d=d,e.e=l,external?round(e,v):e}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(invalidArgument+t)}function digitsToString(t){var e,n,o,l=t.length-1,u="",h=t[0];if(l>0){for(u+=h,e=1;e<l;e++)o=t[e]+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n)),u+=o;h=t[e],o=h+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return u+h}var divide=function(){function t(o,l){var u,h=0,f=o.length;for(o=o.slice();f--;)u=o[f]*l+h,o[f]=u%BASE|0,h=u/BASE|0;return h&&o.unshift(h),o}function e(o,l,u,h){var f,d;if(u!=h)d=u>h?1:-1;else for(f=d=0;f<u;f++)if(o[f]!=l[f]){d=o[f]>l[f]?1:-1;break}return d}function n(o,l,u){for(var h=0;u--;)o[u]-=h,h=o[u]<l[u]?1:0,o[u]=h*BASE+o[u]-l[u];for(;!o[0]&&o.length>1;)o.shift()}return function(o,l,u,h){var f,d,p,m,v,_,S,T,A,w,C,O,L,F,B,U,V,q,H=o.constructor,G=o.s==l.s?1:-1,Y=o.d,Q=l.d;if(!o.s)return new H(o);if(!l.s)throw Error(decimalError+"Division by zero");for(d=o.e-l.e,V=Q.length,B=Y.length,S=new H(G),T=S.d=[],p=0;Q[p]==(Y[p]||0);)++p;if(Q[p]>(Y[p]||0)&&--d,u==null?O=u=H.precision:h?O=u+(getBase10Exponent(o)-getBase10Exponent(l))+1:O=u,O<0)return new H(0);if(O=O/LOG_BASE+2|0,p=0,V==1)for(m=0,Q=Q[0],O++;(p<B||m)&&O--;p++)L=m*BASE+(Y[p]||0),T[p]=L/Q|0,m=L%Q|0;else{for(m=BASE/(Q[0]+1)|0,m>1&&(Q=t(Q,m),Y=t(Y,m),V=Q.length,B=Y.length),F=V,A=Y.slice(0,V),w=A.length;w<V;)A[w++]=0;q=Q.slice(),q.unshift(0),U=Q[0],Q[1]>=BASE/2&&++U;do m=0,f=e(Q,A,V,w),f<0?(C=A[0],V!=w&&(C=C*BASE+(A[1]||0)),m=C/U|0,m>1?(m>=BASE&&(m=BASE-1),v=t(Q,m),_=v.length,w=A.length,f=e(v,A,_,w),f==1&&(m--,n(v,V<_?q:Q,_))):(m==0&&(f=m=1),v=Q.slice()),_=v.length,_<w&&v.unshift(0),n(A,v,w),f==-1&&(w=A.length,f=e(Q,A,V,w),f<1&&(m++,n(A,V<w?q:Q,w))),w=A.length):f===0&&(m++,A=[0]),T[p++]=m,f&&A[0]?A[w++]=Y[F]||0:(A=[Y[F]],w=1);while((F++<B||A[0]!==void 0)&&O--)}return T[0]||T.shift(),S.e=d,round(S,h?u+getBase10Exponent(S)+1:u)}}();function exp(t,e){var n,o,l,u,h,f,d=0,p=0,m=t.constructor,v=m.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new m(ONE);for(external=!1,f=v,h=new m(.03125);t.abs().gte(.1);)t=t.times(h),p+=5;for(o=Math.log(mathpow(2,p))/Math.LN10*2+5|0,f+=o,n=l=u=new m(ONE),m.precision=f;;){if(l=round(l.times(t),f),n=n.times(++d),h=u.plus(divide(l,n,f)),digitsToString(h.d).slice(0,f)===digitsToString(u.d).slice(0,f)){for(;p--;)u=round(u.times(u),f);return m.precision=v,e==null?(external=!0,round(u,v)):u}u=h}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,n=t.d[0];n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>t.LN10.sd())throw external=!0,n&&(t.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln(t,e){var n,o,l,u,h,f,d,p,m,v=1,_=10,S=t,T=S.d,A=S.constructor,w=A.precision;if(S.s<1)throw Error(decimalError+(S.s?"NaN":"-Infinity"));if(S.eq(ONE))return new A(0);if(e==null?(external=!1,p=w):p=e,S.eq(10))return e==null&&(external=!0),getLn10(A,p);if(p+=_,A.precision=p,n=digitsToString(T),o=n.charAt(0),u=getBase10Exponent(S),Math.abs(u)<15e14){for(;o<7&&o!=1||o==1&&n.charAt(1)>3;)S=S.times(t),n=digitsToString(S.d),o=n.charAt(0),v++;u=getBase10Exponent(S),o>1?(S=new A("0."+n),u++):S=new A(o+"."+n.slice(1))}else return d=getLn10(A,p+2,w).times(u+""),S=ln(new A(o+"."+n.slice(1)),p-_).plus(d),A.precision=w,e==null?(external=!0,round(S,w)):S;for(f=h=S=divide(S.minus(ONE),S.plus(ONE),p),m=round(S.times(S),p),l=3;;){if(h=round(h.times(m),p),d=f.plus(divide(h,new A(l),p)),digitsToString(d.d).slice(0,p)===digitsToString(f.d).slice(0,p))return f=f.times(2),u!==0&&(f=f.plus(getLn10(A,p+2,w).times(u+""))),f=divide(f,new A(v),p),A.precision=w,e==null?(external=!0,round(f,w)):f;f=d,l+=2}}function parseDecimal(t,e){var n,o,l;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(n<0&&(n=o),n+=+e.slice(o+1),e=e.substring(0,o)):n<0&&(n=e.length),o=0;e.charCodeAt(o)===48;)++o;for(l=e.length;e.charCodeAt(l-1)===48;)--l;if(e=e.slice(o,l),e){if(l-=o,n=n-o-1,t.e=mathfloor(n/LOG_BASE),t.d=[],o=(n+1)%LOG_BASE,n<0&&(o+=LOG_BASE),o<l){for(o&&t.d.push(+e.slice(0,o)),l-=LOG_BASE;o<l;)t.d.push(+e.slice(o,o+=LOG_BASE));e=e.slice(o),o=LOG_BASE-e.length}else o-=l;for(;o--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+n)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,n){var o,l,u,h,f,d,p,m,v=t.d;for(h=1,u=v[0];u>=10;u/=10)h++;if(o=e-h,o<0)o+=LOG_BASE,l=e,p=v[m=0];else{if(m=Math.ceil((o+1)/LOG_BASE),u=v.length,m>=u)return t;for(p=u=v[m],h=1;u>=10;u/=10)h++;o%=LOG_BASE,l=o-LOG_BASE+h}if(n!==void 0&&(u=mathpow(10,h-l-1),f=p/u%10|0,d=e<0||v[m+1]!==void 0||p%u,d=n<4?(f||d)&&(n==0||n==(t.s<0?3:2)):f>5||f==5&&(n==4||d||n==6&&(o>0?l>0?p/mathpow(10,h-l):0:v[m-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return d?(u=getBase10Exponent(t),v.length=1,e=e-u-1,v[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(o==0?(v.length=m,u=1,m--):(v.length=m+1,u=mathpow(10,LOG_BASE-o),v[m]=l>0?(p/mathpow(10,h-l)%mathpow(10,l)|0)*u:0),d)for(;;)if(m==0){(v[0]+=u)==BASE&&(v[0]=1,++t.e);break}else{if(v[m]+=u,v[m]!=BASE)break;v[m--]=0,u=1}for(o=v.length;v[--o]===0;)v.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var n,o,l,u,h,f,d,p,m,v,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),external?round(e,S):e;if(d=t.d,v=e.d,o=e.e,p=t.e,d=d.slice(),h=p-o,h){for(m=h<0,m?(n=d,h=-h,f=v.length):(n=v,o=p,f=d.length),l=Math.max(Math.ceil(S/LOG_BASE),f)+2,h>l&&(h=l,n.length=1),n.reverse(),l=h;l--;)n.push(0);n.reverse()}else{for(l=d.length,f=v.length,m=l<f,m&&(f=l),l=0;l<f;l++)if(d[l]!=v[l]){m=d[l]<v[l];break}h=0}for(m&&(n=d,d=v,v=n,e.s=-e.s),f=d.length,l=v.length-f;l>0;--l)d[f++]=0;for(l=v.length;l>h;){if(d[--l]<v[l]){for(u=l;u&&d[--u]===0;)d[u]=BASE-1;--d[u],d[l]+=BASE}d[l]-=v[l]}for(;d[--f]===0;)d.pop();for(;d[0]===0;d.shift())--o;return d[0]?(e.d=d,e.e=o,external?round(e,S):e):new _(0)}function toString(t,e,n){var o,l=getBase10Exponent(t),u=digitsToString(t.d),h=u.length;return e?(n&&(o=n-h)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(o):h>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(l<0?"e":"e+")+l):l<0?(u="0."+getZeroString(-l-1)+u,n&&(o=n-h)>0&&(u+=getZeroString(o))):l>=h?(u+=getZeroString(l+1-h),n&&(o=n-l-1)>0&&(u=u+"."+getZeroString(o))):((o=l+1)<h&&(u=u.slice(0,o)+"."+u.slice(o)),n&&(o=n-h)>0&&(l+1===h&&(u+="."),u+=getZeroString(o))),t.s<0?"-"+u:u}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,n,o;function l(u){var h=this;if(!(h instanceof l))return new l(u);if(h.constructor=l,u instanceof l){h.s=u.s,h.e=u.e,h.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)h.s=1;else if(u<0)u=-u,h.s=-1;else{h.s=0,h.e=0,h.d=[0];return}if(u===~~u&&u<1e7){h.e=0,h.d=[u];return}return parseDecimal(h,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),h.s=-1):h.s=1,isDecimal.test(u))parseDecimal(h,u);else throw Error(invalidArgument+u)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,t===void 0&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<o.length;)t.hasOwnProperty(n=o[e++])||(t[n]=this[n]);return l.config(t),l}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,n,o,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<l.length;e+=3)if((o=t[n=l[e]])!==void 0)if(mathfloor(o)===o&&o>=l[e+1]&&o<=l[e+2])this[n]=o;else throw Error(invalidArgument+n+": "+o);if((o=t[n="LN10"])!==void 0)if(o==Math.LN10)this[n]=new this(o);else throw Error(invalidArgument+n+": "+o);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$9(t){return _arrayWithoutHoles$9(t)||_iterableToArray$a(t)||_unsupportedIterableToArray$e(t)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$e(t,e)}}function _iterableToArray$a(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$9(t){if(Array.isArray(t))return _arrayLikeToArray$e(t)}function _arrayLikeToArray$e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var identity$1=function t(e){return e},PLACE_HOLDER={},isPlaceHolder=function t(e){return e===PLACE_HOLDER},curry0=function t(e){return function n(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},curryN=function t(e,n){return e===1?n:curry0(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var h=l.filter(function(f){return f!==PLACE_HOLDER}).length;return h>=e?n.apply(void 0,l):t(e-h,curry0(function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var m=l.map(function(v){return isPlaceHolder(v)?d.shift():v});return n.apply(void 0,_toConsumableArray$9(m).concat(d))}))})},curry=function t(e){return curryN(e.length,e)},range$1=function t(e,n){for(var o=[],l=e;l<n;++l)o[l-e]=l;return o},map=curry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),compose=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(!n.length)return identity$1;var l=n.reverse(),u=l[0],h=l.slice(1);return function(){return h.reduce(function(f,d){return d(f)},u.apply(void 0,arguments))}},reverse=function t(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},memoize$1=function t(e){var n=null,o=null;return function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return n&&u.every(function(f,d){return f===n[d]})||(n=u,o=e.apply(void 0,u)),o}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,n){for(var o=new Decimal$1(t),l=0,u=[];o.lt(e)&&l<1e5;)u.push(o.toNumber()),o=o.add(n),l++;return u}var interpolateNumber=curry(function(t,e,n){var o=+t,l=+e;return o+n*(l-o)}),uninterpolateNumber=curry(function(t,e,n){var o=e-+t;return o=o||1/0,(n-t)/o}),uninterpolateTruncation=curry(function(t,e,n){var o=e-+t;return o=o||1/0,Math.max(0,Math.min(1,(n-t)/o))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$8(t){return _arrayWithoutHoles$8(t)||_iterableToArray$9(t)||_unsupportedIterableToArray$d(t)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$8(t){if(Array.isArray(t))return _arrayLikeToArray$d(t)}function _slicedToArray$7(t,e){return _arrayWithHoles$8(t)||_iterableToArrayLimit$7(t,e)||_unsupportedIterableToArray$d(t,e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$d(t,e)}}function _arrayLikeToArray$d(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$7(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],o=!0,l=!1,u=void 0;try{for(var h=t[Symbol.iterator](),f;!(o=(f=h.next()).done)&&(n.push(f.value),!(e&&n.length===e));o=!0);}catch(d){l=!0,u=d}finally{try{!o&&h.return!=null&&h.return()}finally{if(l)throw u}}return n}}function _arrayWithHoles$8(t){if(Array.isArray(t))return t}function getValidInterval(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=n,u=o;return n>o&&(l=o,u=n),[l,u]}function getFormatStep(t,e,n){if(t.lte(0))return new Decimal$1(0);var o=Arithmetic.getDigitCount(t.toNumber()),l=new Decimal$1(10).pow(o),u=t.div(l),h=o!==1?.05:.1,f=new Decimal$1(Math.ceil(u.div(h).toNumber())).add(n).mul(h),d=f.mul(l);return e?d:new Decimal$1(Math.ceil(d))}function getTickOfSingleValue(t,e,n){var o=1,l=new Decimal$1(t);if(!l.isint()&&n){var u=Math.abs(t);u<1?(o=new Decimal$1(10).pow(Arithmetic.getDigitCount(t)-1),l=new Decimal$1(Math.floor(l.div(o).toNumber())).mul(o)):u>1&&(l=new Decimal$1(Math.floor(t)))}else t===0?l=new Decimal$1(Math.floor((e-1)/2)):n||(l=new Decimal$1(Math.floor(t)));var h=Math.floor((e-1)/2),f=compose(map(function(d){return l.add(new Decimal$1(d-h).mul(o)).toNumber()}),range$1);return f(0,e)}function calculateStep(t,e,n,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var u=getFormatStep(new Decimal$1(e).sub(t).div(n-1),o,l),h;t<=0&&e>=0?h=new Decimal$1(0):(h=new Decimal$1(t).add(e).div(2),h=h.sub(new Decimal$1(h).mod(u)));var f=Math.ceil(h.sub(t).div(u).toNumber()),d=Math.ceil(new Decimal$1(e).sub(h).div(u).toNumber()),p=f+d+1;return p>n?calculateStep(t,e,n,o,l+1):(p<n&&(d=e>0?d+(n-p):d,f=e>0?f:f+(n-p)),{step:u,tickMin:h.sub(new Decimal$1(f).mul(u)),tickMax:h.add(new Decimal$1(d).mul(u))})}function getNiceTickValuesFn(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=Math.max(l,2),f=getValidInterval([n,o]),d=_slicedToArray$7(f,2),p=d[0],m=d[1];if(p===-1/0||m===1/0){var v=m===1/0?[p].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return-1/0})),[m]);return n>o?reverse(v):v}if(p===m)return getTickOfSingleValue(p,l,u);var _=calculateStep(p,m,h,u),S=_.step,T=_.tickMin,A=_.tickMax,w=Arithmetic.rangeStep(T,A.add(new Decimal$1(.1).mul(S)),S);return n>o?reverse(w):w}function getTickValuesFixedDomainFn(t,e){var n=_slicedToArray$7(t,2),o=n[0],l=n[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=getValidInterval([o,l]),f=_slicedToArray$7(h,2),d=f[0],p=f[1];if(d===-1/0||p===1/0)return[o,l];if(d===p)return[d];var m=Math.max(e,2),v=getFormatStep(new Decimal$1(p).sub(d).div(m-1),u,0),_=[].concat(_toConsumableArray$8(Arithmetic.rangeStep(new Decimal$1(d),new Decimal$1(p).sub(new Decimal$1(.99).mul(v)),v)),[p]);return o>l?reverse(_):_}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(t,e){throw new Error(prefix)}var _excluded$9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$u(t){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$u(t)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$i.apply(this,arguments)}function _slicedToArray$6(t,e){return _arrayWithHoles$7(t)||_iterableToArrayLimit$6(t,e)||_unsupportedIterableToArray$c(t,e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$c(t,e)}}function _arrayLikeToArray$c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$7(t){if(Array.isArray(t))return t}function _objectWithoutProperties$9(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$9(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$t(o.key),o)}}function _createClass$c(t,e,n){return e&&_defineProperties$c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$9(t,e,n){return e=_getPrototypeOf$a(e),_possibleConstructorReturn$a(t,_isNativeReflectConstruct$a()?Reflect.construct(e,n||[],_getPrototypeOf$a(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$a(t,e){if(e&&(_typeof$u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(t)}function _assertThisInitialized$a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!t})()}function _getPrototypeOf$a(t){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$a(t)}function _inherits$a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$a(t,e)}function _setPrototypeOf$a(t,e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$a(t,e)}function _defineProperty$t(t,e,n){return e=_toPropertyKey$t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return _typeof$u(e)=="symbol"?e:e+""}function _toPrimitive$t(t,e){if(_typeof$u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$u(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ErrorBar=function(t){function e(){return _classCallCheck$c(this,e),_callSuper$9(this,e,arguments)}return _inherits$a(e,t),_createClass$c(e,[{key:"render",value:function(){var o=this.props,l=o.offset,u=o.layout,h=o.width,f=o.dataKey,d=o.data,p=o.dataPointFormatter,m=o.xAxis,v=o.yAxis,_=_objectWithoutProperties$9(o,_excluded$9),S=filterProps(_,!1);this.props.direction==="x"&&m.type!=="number"&&invariant();var T=d.map(function(A){var w=p(A,f),C=w.x,O=w.y,L=w.value,F=w.errorVal;if(!F)return null;var B=[],U,V;if(Array.isArray(F)){var q=_slicedToArray$6(F,2);U=q[0],V=q[1]}else U=V=F;if(u==="vertical"){var H=m.scale,G=O+l,Y=G+h,Q=G-h,ie=H(L-U),ae=H(L+V);B.push({x1:ae,y1:Y,x2:ae,y2:Q}),B.push({x1:ie,y1:G,x2:ae,y2:G}),B.push({x1:ie,y1:Y,x2:ie,y2:Q})}else if(u==="horizontal"){var le=v.scale,he=C+l,ge=he-h,J=he+h,se=le(L-U),ce=le(L+V);B.push({x1:ge,y1:ce,x2:J,y2:ce}),B.push({x1:he,y1:se,x2:he,y2:ce}),B.push({x1:ge,y1:se,x2:J,y2:se})}return React.createElement(Layer,_extends$i({className:"recharts-errorBar",key:"bar-".concat(B.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},S),B.map(function(te){return React.createElement("line",_extends$i({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},T)}}])}(React.Component);_defineProperty$t(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$t(ErrorBar,"displayName","ErrorBar");function _typeof$t(t){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$t(t)}function ownKeys$p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(n),!0).forEach(function(o){_defineProperty$s(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$s(t,e,n){return e=_toPropertyKey$s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return _typeof$t(e)=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(_typeof$t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getLegendProps=function t(e){var n=e.children,o=e.formattedGraphicalItems,l=e.legendWidth,u=e.legendContent,h=findChildByType(n,Legend);if(!h)return null;var f=Legend.defaultProps,d=f!==void 0?_objectSpread$p(_objectSpread$p({},f),h.props):{},p;return h.props&&h.props.payload?p=h.props&&h.props.payload:u==="children"?p=(o||[]).reduce(function(m,v){var _=v.item,S=v.props,T=S.sectors||S.data||[];return m.concat(T.map(function(A){return{type:h.props.iconType||_.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):p=(o||[]).map(function(m){var v=m.item,_=v.type.defaultProps,S=_!==void 0?_objectSpread$p(_objectSpread$p({},_),v.props):{},T=S.dataKey,A=S.name,w=S.legendType,C=S.hide;return{inactive:C,dataKey:T,type:d.iconType||w||"square",color:getMainColorOfGraphicItem(v),value:A||T,payload:S}}),_objectSpread$p(_objectSpread$p(_objectSpread$p({},d),Legend.getWithHeight(h,l)),{},{payload:p,item:h})};function _typeof$s(t){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$s(t)}function _toConsumableArray$7(t){return _arrayWithoutHoles$7(t)||_iterableToArray$8(t)||_unsupportedIterableToArray$b(t)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$b(t,e)}}function _iterableToArray$8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$7(t){if(Array.isArray(t))return _arrayLikeToArray$b(t)}function _arrayLikeToArray$b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(n),!0).forEach(function(o){_defineProperty$r(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$r(t,e,n){return e=_toPropertyKey$r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return _typeof$s(e)=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(_typeof$s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,n){return isNil(t)||isNil(e)?n:isNumOrStr(e)?get(t,e,n):isFunction(e)?e(t):n}function getDomainOfDataByKey(t,e,n,o){var l=flatMap(t,function(f){return getValueByDataKey(f,e)});if(n==="number"){var u=l.filter(function(f){return isNumber(f)||parseFloat(f)});return u.length?[min(u),max(u)]:[1/0,-1/0]}var h=o?l.filter(function(f){return!isNil(f)}):l;return h.map(function(f){return isNumOrStr(f)||f instanceof Date?f:""})}var calculateActiveTickIndex=function t(e){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,h=-1,f=(n=o==null?void 0:o.length)!==null&&n!==void 0?n:0;if(f<=1)return 0;if(u&&u.axisType==="angleAxis"&&Math.abs(Math.abs(u.range[1]-u.range[0])-360)<=1e-6)for(var d=u.range,p=0;p<f;p++){var m=p>0?l[p-1].coordinate:l[f-1].coordinate,v=l[p].coordinate,_=p>=f-1?l[0].coordinate:l[p+1].coordinate,S=void 0;if(mathSign(v-m)!==mathSign(_-v)){var T=[];if(mathSign(_-v)===mathSign(d[1]-d[0])){S=_;var A=v+d[1]-d[0];T[0]=Math.min(A,(A+m)/2),T[1]=Math.max(A,(A+m)/2)}else{S=m;var w=_+d[1]-d[0];T[0]=Math.min(v,(w+v)/2),T[1]=Math.max(v,(w+v)/2)}var C=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(e>C[0]&&e<=C[1]||e>=T[0]&&e<=T[1]){h=l[p].index;break}}else{var O=Math.min(m,_),L=Math.max(m,_);if(e>(O+v)/2&&e<=(L+v)/2){h=l[p].index;break}}}else for(var F=0;F<f;F++)if(F===0&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F>0&&F<f-1&&e>(o[F].coordinate+o[F-1].coordinate)/2&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F===f-1&&e>(o[F].coordinate+o[F-1].coordinate)/2){h=o[F].index;break}return h},getMainColorOfGraphicItem=function t(e){var n,o=e,l=o.type.displayName,u=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,h=u.stroke,f=u.fill,d;switch(l){case"Line":d=h;break;case"Area":case"Radar":d=h&&h!=="none"?h:f;break;default:d=f;break}return d},getBarSizeList=function t(e){var n=e.barSize,o=e.totalSize,l=e.stackGroups,u=l===void 0?{}:l;if(!u)return{};for(var h={},f=Object.keys(u),d=0,p=f.length;d<p;d++)for(var m=u[f[d]].stackGroups,v=Object.keys(m),_=0,S=v.length;_<S;_++){var T=m[v[_]],A=T.items,w=T.cateAxisId,C=A.filter(function(V){return getDisplayName(V.type).indexOf("Bar")>=0});if(C&&C.length){var O=C[0].type.defaultProps,L=O!==void 0?_objectSpread$o(_objectSpread$o({},O),C[0].props):C[0].props,F=L.barSize,B=L[w];h[B]||(h[B]=[]);var U=isNil(F)?n:F;h[B].push({item:C[0],stackList:C.slice(1),barSize:isNil(U)?void 0:getPercentValue(U,o,0)})}}return h},getBarPosition=function t(e){var n=e.barGap,o=e.barCategoryGap,l=e.bandSize,u=e.sizeList,h=u===void 0?[]:u,f=e.maxBarSize,d=h.length;if(d<1)return null;var p=getPercentValue(n,l,0,!0),m,v=[];if(h[0].barSize===+h[0].barSize){var _=!1,S=l/d,T=h.reduce(function(F,B){return F+B.barSize||0},0);T+=(d-1)*p,T>=l&&(T-=(d-1)*p,p=0),T>=l&&S>0&&(_=!0,S*=.9,T=d*S);var A=(l-T)/2>>0,w={offset:A-p,size:0};m=h.reduce(function(F,B){var U={item:B.item,position:{offset:w.offset+w.size+p,size:_?S:B.barSize}},V=[].concat(_toConsumableArray$7(F),[U]);return w=V[V.length-1].position,B.stackList&&B.stackList.length&&B.stackList.forEach(function(q){V.push({item:q,position:w})}),V},v)}else{var C=getPercentValue(o,l,0,!0);l-2*C-(d-1)*p<=0&&(p=0);var O=(l-2*C-(d-1)*p)/d;O>1&&(O>>=0);var L=f===+f?Math.min(O,f):O;m=h.reduce(function(F,B,U){var V=[].concat(_toConsumableArray$7(F),[{item:B.item,position:{offset:C+(O+p)*U+(O-L)/2,size:L}}]);return B.stackList&&B.stackList.length&&B.stackList.forEach(function(q){V.push({item:q,position:V[V.length-1].position})}),V},v)}return m},appendOffsetOfLegend=function t(e,n,o,l){var u=o.children,h=o.width,f=o.margin,d=h-(f.left||0)-(f.right||0),p=getLegendProps({children:u,legendWidth:d});if(p){var m=l||{},v=m.width,_=m.height,S=p.align,T=p.verticalAlign,A=p.layout;if((A==="vertical"||A==="horizontal"&&T==="middle")&&S!=="center"&&isNumber(e[S]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},S,e[S]+(v||0)));if((A==="horizontal"||A==="vertical"&&S==="center")&&T!=="middle"&&isNumber(e[T]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},T,e[T]+(_||0)))}return e},isErrorBarRelevantForAxis=function t(e,n,o){return isNil(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||o==="x"?n==="xAxis":o==="y"?n==="yAxis":!0},getDomainOfErrorBars=function t(e,n,o,l,u){var h=n.props.children,f=findAllByType(h,ErrorBar).filter(function(p){return isErrorBarRelevantForAxis(l,u,p.props.direction)});if(f&&f.length){var d=f.map(function(p){return p.props.dataKey});return e.reduce(function(p,m){var v=getValueByDataKey(m,o);if(isNil(v))return p;var _=Array.isArray(v)?[min(v),max(v)]:[v,v],S=d.reduce(function(T,A){var w=getValueByDataKey(m,A,0),C=_[0]-Math.abs(Array.isArray(w)?w[0]:w),O=_[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(C,T[0]),Math.max(O,T[1])]},[1/0,-1/0]);return[Math.min(S[0],p[0]),Math.max(S[1],p[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function t(e,n,o,l,u){var h=n.map(function(f){return getDomainOfErrorBars(e,f,o,u,l)}).filter(function(f){return!isNil(f)});return h&&h.length?h.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function t(e,n,o,l,u){var h=n.map(function(d){var p=d.props.dataKey;return o==="number"&&p&&getDomainOfErrorBars(e,d,p,l)||getDomainOfDataByKey(e,p,o,u)});if(o==="number")return h.reduce(function(d,p){return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);var f={};return h.reduce(function(d,p){for(var m=0,v=p.length;m<v;m++)f[p[m]]||(f[p[m]]=!0,d.push(p[m]));return d},[])},isCategoricalAxis=function t(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},getTicksOfAxis=function t(e,n,o){if(!e)return null;var l=e.scale,u=e.duplicateDomain,h=e.type,f=e.range,d=e.realScaleType==="scaleBand"?l.bandwidth()/2:2,p=(n||o)&&h==="category"&&l.bandwidth?l.bandwidth()/d:0;if(p=e.axisType==="angleAxis"&&(f==null?void 0:f.length)>=2?mathSign(f[0]-f[1])*2*p:p,n&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(v){var _=u?u.indexOf(v):v;return{coordinate:l(_)+p,value:v,offset:p}});return m.filter(function(v){return!isNan(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,_){return{coordinate:l(v)+p,value:v,index:_,offset:p}}):l.ticks&&!o?l.ticks(e.tickCount).map(function(v){return{coordinate:l(v)+p,value:v,offset:p}}):l.domain().map(function(v,_){return{coordinate:l(v)+p,value:u?u[v]:v,index:_,offset:p}})},handlerWeakMap=new WeakMap,combineEventHandlers=function t(e,n){if(typeof n!="function")return e;handlerWeakMap.has(e)||handlerWeakMap.set(e,new WeakMap);var o=handlerWeakMap.get(e);if(o.has(n))return o.get(n);var l=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return o.set(n,l),l},parseScale=function t(e,n,o){var l=e.scale,u=e.type,h=e.layout,f=e.axisType;if(l==="auto")return h==="radial"&&f==="radiusAxis"?{scale:band(),realScaleType:"band"}:h==="radial"&&f==="angleAxis"?{scale:linear(),realScaleType:"linear"}:u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!o)?{scale:point(),realScaleType:"point"}:u==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(l)){var d="scale".concat(upperFirst(l));return{scale:(d3Scales[d]||point)(),realScaleType:d3Scales[d]?d:"point"}}return isFunction(l)?{scale:l}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function t(e){var n=e.domain();if(!(!n||n.length<=2)){var o=n.length,l=e.range(),u=Math.min(l[0],l[1])-EPS,h=Math.max(l[0],l[1])+EPS,f=e(n[0]),d=e(n[o-1]);(f<u||f>h||d<u||d>h)&&e.domain([n[0],n[o-1]])}},findPositionOfBar=function t(e,n){if(!e)return null;for(var o=0,l=e.length;o<l;o++)if(e[o].item===n)return e[o].position;return null},truncateByDomain=function t(e,n){if(!n||n.length!==2||!isNumber(n[0])||!isNumber(n[1]))return e;var o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),u=[e[0],e[1]];return(!isNumber(e[0])||e[0]<o)&&(u[0]=o),(!isNumber(e[1])||e[1]>l)&&(u[1]=l),u[0]>l&&(u[0]=l),u[1]<o&&(u[1]=o),u},offsetSign=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,h=0,f=0;f<n;++f){var d=isNan(e[f][o][1])?e[f][o][0]:e[f][o][1];d>=0?(e[f][o][0]=u,e[f][o][1]=u+d,u=e[f][o][1]):(e[f][o][0]=h,e[f][o][1]=h+d,h=e[f][o][1])}},offsetPositive=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,h=0;h<n;++h){var f=isNan(e[h][o][1])?e[h][o][0]:e[h][o][1];f>=0?(e[h][o][0]=u,e[h][o][1]=u+f,u=e[h][o][1]):(e[h][o][0]=0,e[h][o][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function t(e,n,o){var l=n.map(function(f){return f.props.dataKey}),u=STACK_OFFSET_MAP[o],h=shapeStack().keys(l).value(function(f,d){return+getValueByDataKey(f,d,0)}).order(stackOrderNone).offset(u);return h(e)},getStackGroupsByAxisId=function t(e,n,o,l,u,h){if(!e)return null;var f=h?n.reverse():n,d={},p=f.reduce(function(v,_){var S,T=(S=_.type)!==null&&S!==void 0&&S.defaultProps?_objectSpread$o(_objectSpread$o({},_.type.defaultProps),_.props):_.props,A=T.stackId,w=T.hide;if(w)return v;var C=T[o],O=v[C]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(A)){var L=O.stackGroups[A]||{numericAxisId:o,cateAxisId:l,items:[]};L.items.push(_),O.hasStack=!0,O.stackGroups[A]=L}else O.stackGroups[uniqueId("_stackId_")]={numericAxisId:o,cateAxisId:l,items:[_]};return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},C,O))},d),m={};return Object.keys(p).reduce(function(v,_){var S=p[_];if(S.hasStack){var T={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(A,w){var C=S.stackGroups[w];return _objectSpread$o(_objectSpread$o({},A),{},_defineProperty$r({},w,{numericAxisId:o,cateAxisId:l,items:C.items,stackedData:getStackedData(e,C.items,u)}))},T)}return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},_,S))},m)},getTicksOfScale=function t(e,n){var o=n.realScaleType,l=n.type,u=n.tickCount,h=n.originalDomain,f=n.allowDecimals,d=o||n.scale;if(d!=="auto"&&d!=="linear")return null;if(u&&l==="number"&&h&&(h[0]==="auto"||h[1]==="auto")){var p=e.domain();if(!p.length)return null;var m=getNiceTickValues(p,u,f);return e.domain([min(m),max(m)]),{niceTicks:m}}if(u&&l==="number"){var v=e.domain(),_=getTickValuesFixedDomain(v,u,f);return{niceTicks:_}}return null},getCateCoordinateOfBar=function t(e){var n=e.axis,o=e.ticks,l=e.offset,u=e.bandSize,h=e.entry,f=e.index;if(n.type==="category")return o[f]?o[f].coordinate+l:null;var d=getValueByDataKey(h,n.dataKey,n.domain[f]);return isNil(d)?null:n.scale(d)-u/2+l},getBaseValueOfBar=function t(e){var n=e.numericAxis,o=n.scale.domain();if(n.type==="number"){var l=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]);return l<=0&&u>=0?0:u<0?u:l}return o[0]},getStackedDataOfItem=function t(e,n){var o,l=(o=e.type)!==null&&o!==void 0&&o.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,u=l.stackId;if(isNumOrStr(u)){var h=n[u];if(h){var f=h.items.indexOf(e);return f>=0?h.stackedData[f]:null}}return null},getDomainOfSingle=function t(e){return e.reduce(function(n,o){return[min(o.concat([n[0]]).filter(isNumber)),max(o.concat([n[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function t(e,n,o){return Object.keys(e).reduce(function(l,u){var h=e[u],f=h.stackedData,d=f.reduce(function(p,m){var v=getDomainOfSingle(m.slice(n,o+1));return[Math.min(p[0],v[0]),Math.max(p[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],l[0]),Math.max(d[1],l[1])]},[1/0,-1/0]).map(function(l){return l===1/0||l===-1/0?0:l})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function t(e,n,o){if(isFunction(e))return e(n,o);if(!Array.isArray(e))return n;var l=[];if(isNumber(e[0]))l[0]=o?e[0]:Math.min(e[0],n[0]);else if(MIN_VALUE_REG.test(e[0])){var u=+MIN_VALUE_REG.exec(e[0])[1];l[0]=n[0]-u}else isFunction(e[0])?l[0]=e[0](n[0]):l[0]=n[0];if(isNumber(e[1]))l[1]=o?e[1]:Math.max(e[1],n[1]);else if(MAX_VALUE_REG.test(e[1])){var h=+MAX_VALUE_REG.exec(e[1])[1];l[1]=n[1]+h}else isFunction(e[1])?l[1]=e[1](n[1]):l[1]=n[1];return l},getBandSizeOfAxis=function t(e,n,o){if(e&&e.scale&&e.scale.bandwidth){var l=e.scale.bandwidth();if(!o||l>0)return l}if(e&&n&&n.length>=2){for(var u=sortBy(n,function(v){return v.coordinate}),h=1/0,f=1,d=u.length;f<d;f++){var p=u[f],m=u[f-1];h=Math.min((p.coordinate||0)-(m.coordinate||0),h)}return h===1/0?0:h}return o?void 0:0},parseDomainOfCategoryAxis=function t(e,n,o){return!e||!e.length||isEqual(e,get(o,"type.defaultProps.domain"))?n:e},getTooltipItem=function t(e,n){var o=e.type.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,l=o.dataKey,u=o.name,h=o.unit,f=o.formatter,d=o.tooltipType,p=o.chartType,m=o.hide;return _objectSpread$o(_objectSpread$o({},filterProps(e,!1)),{},{dataKey:l,unit:h,formatter:f,name:u||l,color:getMainColorOfGraphicItem(e),value:getValueByDataKey(n,l),type:d,payload:n,chartType:p,hide:m})};function _typeof$r(t){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$r(t)}function ownKeys$n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(n),!0).forEach(function(o){_defineProperty$q(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$q(t,e,n){return e=_toPropertyKey$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return _typeof$r(e)=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(_typeof$r(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$r(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RADIAN=Math.PI/180,radianToDegree=function t(e){return e*180/Math.PI},polarToCartesian=function t(e,n,o,l){return{x:e+Math.cos(-RADIAN*l)*o,y:n+Math.sin(-RADIAN*l)*o}},distanceBetweenPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,h=n.y;return Math.sqrt(Math.pow(o-u,2)+Math.pow(l-h,2))},getAngleOfPoint=function t(e,n){var o=e.x,l=e.y,u=n.cx,h=n.cy,f=distanceBetweenPoints({x:o,y:l},{x:u,y:h});if(f<=0)return{radius:f};var d=(o-u)/f,p=Math.acos(d);return l>h&&(p=2*Math.PI-p),{radius:f,angle:radianToDegree(p),angleInRadian:p}},formatAngleOfSector=function t(e){var n=e.startAngle,o=e.endAngle,l=Math.floor(n/360),u=Math.floor(o/360),h=Math.min(l,u);return{startAngle:n-h*360,endAngle:o-h*360}},reverseFormatAngleOfSetor=function t(e,n){var o=n.startAngle,l=n.endAngle,u=Math.floor(o/360),h=Math.floor(l/360),f=Math.min(u,h);return e+f*360},inRangeOfSector=function t(e,n){var o=e.x,l=e.y,u=getAngleOfPoint({x:o,y:l},n),h=u.radius,f=u.angle,d=n.innerRadius,p=n.outerRadius;if(h<d||h>p)return!1;if(h===0)return!0;var m=formatAngleOfSector(n),v=m.startAngle,_=m.endAngle,S=f,T;if(v<=_){for(;S>_;)S-=360;for(;S<v;)S+=360;T=S>=v&&S<=_}else{for(;S>v;)S-=360;for(;S<_;)S+=360;T=S>=_&&S<=v}return T?_objectSpread$n(_objectSpread$n({},n),{},{radius:h,angle:reverseFormatAngleOfSetor(S,n)}):null};function _typeof$q(t){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$q(t)}var _excluded$8=["offset"];function _toConsumableArray$6(t){return _arrayWithoutHoles$6(t)||_iterableToArray$7(t)||_unsupportedIterableToArray$a(t)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$a(t,e)}}function _iterableToArray$7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$6(t){if(Array.isArray(t))return _arrayLikeToArray$a(t)}function _arrayLikeToArray$a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _objectWithoutProperties$8(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$8(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(n),!0).forEach(function(o){_defineProperty$p(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$p(t,e,n){return e=_toPropertyKey$p(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return _typeof$q(e)=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(_typeof$q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$q(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$h.apply(this,arguments)}var getLabel=function t(e){var n=e.value,o=e.formatter,l=isNil(e.children)?n:e.children;return isFunction(o)?o(l):l},getDeltaAngle$1=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),360);return o*l},renderRadialLabel=function t(e,n,o){var l=e.position,u=e.viewBox,h=e.offset,f=e.className,d=u,p=d.cx,m=d.cy,v=d.innerRadius,_=d.outerRadius,S=d.startAngle,T=d.endAngle,A=d.clockWise,w=(v+_)/2,C=getDeltaAngle$1(S,T),O=C>=0?1:-1,L,F;l==="insideStart"?(L=S+O*h,F=A):l==="insideEnd"?(L=T-O*h,F=!A):l==="end"&&(L=T+O*h,F=A),F=C<=0?F:!F;var B=polarToCartesian(p,m,w,L),U=polarToCartesian(p,m,w,L+(F?1:-1)*359),V="M".concat(B.x,",").concat(B.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(F?0:1,`,
    `).concat(U.x,",").concat(U.y),q=isNil(e.id)?uniqueId("recharts-radial-line-"):e.id;return React.createElement("text",_extends$h({},o,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",f)}),React.createElement("defs",null,React.createElement("path",{id:q,d:V})),React.createElement("textPath",{xlinkHref:"#".concat(q)},n))},getAttrsOfPolarLabel=function t(e){var n=e.viewBox,o=e.offset,l=e.position,u=n,h=u.cx,f=u.cy,d=u.innerRadius,p=u.outerRadius,m=u.startAngle,v=u.endAngle,_=(m+v)/2;if(l==="outside"){var S=polarToCartesian(h,f,p+o,_),T=S.x,A=S.y;return{x:T,y:A,textAnchor:T>=h?"start":"end",verticalAnchor:"middle"}}if(l==="center")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"middle"};if(l==="centerTop")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"start"};if(l==="centerBottom")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"end"};var w=(d+p)/2,C=polarToCartesian(h,f,w,_),O=C.x,L=C.y;return{x:O,y:L,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function t(e){var n=e.viewBox,o=e.parentViewBox,l=e.offset,u=e.position,h=n,f=h.x,d=h.y,p=h.width,m=h.height,v=m>=0?1:-1,_=v*l,S=v>0?"end":"start",T=v>0?"start":"end",A=p>=0?1:-1,w=A*l,C=A>0?"end":"start",O=A>0?"start":"end";if(u==="top"){var L={x:f+p/2,y:d-v*l,textAnchor:"middle",verticalAnchor:S};return _objectSpread$m(_objectSpread$m({},L),o?{height:Math.max(d-o.y,0),width:p}:{})}if(u==="bottom"){var F={x:f+p/2,y:d+m+_,textAnchor:"middle",verticalAnchor:T};return _objectSpread$m(_objectSpread$m({},F),o?{height:Math.max(o.y+o.height-(d+m),0),width:p}:{})}if(u==="left"){var B={x:f-w,y:d+m/2,textAnchor:C,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},B),o?{width:Math.max(B.x-o.x,0),height:m}:{})}if(u==="right"){var U={x:f+p+w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:m}:{})}var V=o?{width:p,height:m}:{};return u==="insideLeft"?_objectSpread$m({x:f+w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},V):u==="insideRight"?_objectSpread$m({x:f+p-w,y:d+m/2,textAnchor:C,verticalAnchor:"middle"},V):u==="insideTop"?_objectSpread$m({x:f+p/2,y:d+_,textAnchor:"middle",verticalAnchor:T},V):u==="insideBottom"?_objectSpread$m({x:f+p/2,y:d+m-_,textAnchor:"middle",verticalAnchor:S},V):u==="insideTopLeft"?_objectSpread$m({x:f+w,y:d+_,textAnchor:O,verticalAnchor:T},V):u==="insideTopRight"?_objectSpread$m({x:f+p-w,y:d+_,textAnchor:C,verticalAnchor:T},V):u==="insideBottomLeft"?_objectSpread$m({x:f+w,y:d+m-_,textAnchor:O,verticalAnchor:S},V):u==="insideBottomRight"?_objectSpread$m({x:f+p-w,y:d+m-_,textAnchor:C,verticalAnchor:S},V):isObject(u)&&(isNumber(u.x)||isPercent(u.x))&&(isNumber(u.y)||isPercent(u.y))?_objectSpread$m({x:f+getPercentValue(u.x,p),y:d+getPercentValue(u.y,m),textAnchor:"end",verticalAnchor:"end"},V):_objectSpread$m({x:f+p/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},V)},isPolar=function t(e){return"cx"in e&&isNumber(e.cx)};function Label(t){var e=t.offset,n=e===void 0?5:e,o=_objectWithoutProperties$8(t,_excluded$8),l=_objectSpread$m({offset:n},o),u=l.viewBox,h=l.position,f=l.value,d=l.children,p=l.content,m=l.className,v=m===void 0?"":m,_=l.textBreakAll;if(!u||isNil(f)&&isNil(d)&&!reactExports.isValidElement(p)&&!isFunction(p))return null;if(reactExports.isValidElement(p))return reactExports.cloneElement(p,l);var S;if(isFunction(p)){if(S=reactExports.createElement(p,l),reactExports.isValidElement(S))return S}else S=getLabel(l);var T=isPolar(u),A=filterProps(l,!0);if(T&&(h==="insideStart"||h==="insideEnd"||h==="end"))return renderRadialLabel(l,S,A);var w=T?getAttrsOfPolarLabel(l):getAttrsOfCartesianLabel(l);return React.createElement(Text,_extends$h({className:clsx("recharts-label",v)},A,w,{breakAll:_}),S)}Label.displayName="Label";var parseViewBox=function t(e){var n=e.cx,o=e.cy,l=e.angle,u=e.startAngle,h=e.endAngle,f=e.r,d=e.radius,p=e.innerRadius,m=e.outerRadius,v=e.x,_=e.y,S=e.top,T=e.left,A=e.width,w=e.height,C=e.clockWise,O=e.labelViewBox;if(O)return O;if(isNumber(A)&&isNumber(w)){if(isNumber(v)&&isNumber(_))return{x:v,y:_,width:A,height:w};if(isNumber(S)&&isNumber(T))return{x:S,y:T,width:A,height:w}}return isNumber(v)&&isNumber(_)?{x:v,y:_,width:0,height:0}:isNumber(n)&&isNumber(o)?{cx:n,cy:o,startAngle:u||l||0,endAngle:h||l||0,innerRadius:p||0,outerRadius:m||d||f||0,clockWise:C}:e.viewBox?e.viewBox:{}},parseLabel=function t(e,n){return e?e===!0?React.createElement(Label,{key:"label-implicit",viewBox:n}):isNumOrStr(e)?React.createElement(Label,{key:"label-implicit",viewBox:n,value:e}):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,{key:"label-implicit",viewBox:n}):React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isFunction(e)?React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isObject(e)?React.createElement(Label,_extends$h({viewBox:n},e,{key:"label-implicit"})):null:null},renderCallByParent$1=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&o&&!e.label)return null;var l=e.children,u=parseViewBox(e),h=findAllByType(l,Label).map(function(d,p){return reactExports.cloneElement(d,{viewBox:n||u,key:"label-".concat(p)})});if(!o)return h;var f=parseLabel(e.label,n||u);return[f].concat(_toConsumableArray$6(h))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return last_1=t,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$p(t){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$p(t)}var _excluded$7=["valueAccessor"],_excluded2$2=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$9(t,e)}}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$9(t)}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$g.apply(this,arguments)}function ownKeys$l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(n),!0).forEach(function(o){_defineProperty$o(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$o(t,e,n){return e=_toPropertyKey$o(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return _typeof$p(e)=="symbol"?e:e+""}function _toPrimitive$o(t,e){if(_typeof$p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$p(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$7(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var defaultAccessor=function t(e){return Array.isArray(e.value)?last(e.value):e.value};function LabelList(t){var e=t.valueAccessor,n=e===void 0?defaultAccessor:e,o=_objectWithoutProperties$7(t,_excluded$7),l=o.data,u=o.dataKey,h=o.clockWise,f=o.id,d=o.textBreakAll,p=_objectWithoutProperties$7(o,_excluded2$2);return!l||!l.length?null:React.createElement(Layer,{className:"recharts-label-list"},l.map(function(m,v){var _=isNil(u)?n(m,v):getValueByDataKey(m&&m.payload,u),S=isNil(f)?{}:{id:"".concat(f,"-").concat(v)};return React.createElement(Label,_extends$g({},filterProps(m,!0),p,S,{parentViewBox:m.parentViewBox,value:_,textBreakAll:d,viewBox:Label.parseViewBox(isNil(h)?m:_objectSpread$l(_objectSpread$l({},m),{},{clockWise:h})),key:"label-".concat(v),index:v}))}))}LabelList.displayName="LabelList";function parseLabelList(t,e){return t?t===!0?React.createElement(LabelList,{key:"labelList-implicit",data:e}):React.isValidElement(t)||isFunction(t)?React.createElement(LabelList,{key:"labelList-implicit",data:e,content:t}):isObject(t)?React.createElement(LabelList,_extends$g({data:e},t,{key:"labelList-implicit"})):null:null}function renderCallByParent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var o=t.children,l=findAllByType(o,LabelList).map(function(h,f){return reactExports.cloneElement(h,{data:e,key:"labelList-".concat(f)})});if(!n)return l;var u=parseLabelList(t.label,e);return[u].concat(_toConsumableArray$5(l))}LabelList.renderCallByParent=renderCallByParent;function _typeof$o(t){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$o(t)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$f.apply(this,arguments)}function ownKeys$k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(n),!0).forEach(function(o){_defineProperty$n(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$n(t,e,n){return e=_toPropertyKey$n(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return _typeof$o(e)=="symbol"?e:e+""}function _toPrimitive$n(t,e){if(_typeof$o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$o(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDeltaAngle=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),359.999);return o*l},getTangentCircle=function t(e){var n=e.cx,o=e.cy,l=e.radius,u=e.angle,h=e.sign,f=e.isExternal,d=e.cornerRadius,p=e.cornerIsExternal,m=d*(f?1:-1)+l,v=Math.asin(d/m)/RADIAN,_=p?u:u+h*v,S=polarToCartesian(n,o,m,_),T=polarToCartesian(n,o,l,_),A=p?u-h*v:u,w=polarToCartesian(n,o,m*Math.cos(v*RADIAN),A);return{center:S,circleTangency:T,lineTangency:w,theta:v}},getSectorPath=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,h=e.startAngle,f=e.endAngle,d=getDeltaAngle(h,f),p=h+d,m=polarToCartesian(n,o,u,h),v=polarToCartesian(n,o,u,p),_="M ".concat(m.x,",").concat(m.y,`
    A `).concat(u,",").concat(u,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(h>p),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(l>0){var S=polarToCartesian(n,o,l,h),T=polarToCartesian(n,o,l,p);_+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(l,",").concat(l,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(h<=p),`,
            `).concat(S.x,",").concat(S.y," Z")}else _+="L ".concat(n,",").concat(o," Z");return _},getSectorWithCorner=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,h=e.cornerRadius,f=e.forceCornerRadius,d=e.cornerIsExternal,p=e.startAngle,m=e.endAngle,v=mathSign(m-p),_=getTangentCircle({cx:n,cy:o,radius:u,angle:p,sign:v,cornerRadius:h,cornerIsExternal:d}),S=_.circleTangency,T=_.lineTangency,A=_.theta,w=getTangentCircle({cx:n,cy:o,radius:u,angle:m,sign:-v,cornerRadius:h,cornerIsExternal:d}),C=w.circleTangency,O=w.lineTangency,L=w.theta,F=d?Math.abs(p-m):Math.abs(p-m)-A-L;if(F<0)return f?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(h,",").concat(h,",0,0,1,").concat(h*2,`,0
        a`).concat(h,",").concat(h,",0,0,1,").concat(-h*2,`,0
      `):getSectorPath({cx:n,cy:o,innerRadius:l,outerRadius:u,startAngle:p,endAngle:m});var B="M ".concat(T.x,",").concat(T.y,`
    A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(u,",").concat(u,",0,").concat(+(F>180),",").concat(+(v<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(O.x,",").concat(O.y,`
  `);if(l>0){var U=getTangentCircle({cx:n,cy:o,radius:l,angle:p,sign:v,isExternal:!0,cornerRadius:h,cornerIsExternal:d}),V=U.circleTangency,q=U.lineTangency,H=U.theta,G=getTangentCircle({cx:n,cy:o,radius:l,angle:m,sign:-v,isExternal:!0,cornerRadius:h,cornerIsExternal:d}),Y=G.circleTangency,Q=G.lineTangency,ie=G.theta,ae=d?Math.abs(p-m):Math.abs(p-m)-H-ie;if(ae<0&&h===0)return"".concat(B,"L").concat(n,",").concat(o,"Z");B+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(Y.x,",").concat(Y.y,`
      A`).concat(l,",").concat(l,",0,").concat(+(ae>180),",").concat(+(v>0),",").concat(V.x,",").concat(V.y,`
      A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(q.x,",").concat(q.y,"Z")}else B+="L".concat(n,",").concat(o,"Z");return B},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function t(e){var n=_objectSpread$k(_objectSpread$k({},defaultProps$2),e),o=n.cx,l=n.cy,u=n.innerRadius,h=n.outerRadius,f=n.cornerRadius,d=n.forceCornerRadius,p=n.cornerIsExternal,m=n.startAngle,v=n.endAngle,_=n.className;if(h<u||m===v)return null;var S=clsx("recharts-sector",_),T=h-u,A=getPercentValue(f,T,0,!0),w;return A>0&&Math.abs(m-v)<360?w=getSectorWithCorner({cx:o,cy:l,innerRadius:u,outerRadius:h,cornerRadius:Math.min(A,T/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:v}):w=getSectorPath({cx:o,cy:l,innerRadius:u,outerRadius:h,startAngle:m,endAngle:v}),React.createElement("path",_extends$f({},filterProps(n,!0),{className:S,d:w,role:"img"}))};function _typeof$n(t){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$n(t)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$e.apply(this,arguments)}function ownKeys$j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(n),!0).forEach(function(o){_defineProperty$m(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$m(t,e,n){return e=_toPropertyKey$m(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return _typeof$n(e)=="symbol"?e:e+""}function _toPrimitive$m(t,e){if(_typeof$n(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function t(e){return e.x===+e.x&&e.y===+e.y},getX=function t(e){return e.x},getY=function t(e){return e.y},getCurveFactory=function t(e,n){if(isFunction(e))return e;var o="curve".concat(upperFirst(e));return(o==="curveMonotone"||o==="curveBump")&&n?CURVE_FACTORIES["".concat(o).concat(n==="vertical"?"Y":"X")]:CURVE_FACTORIES[o]||curveLinear},getPath$1=function t(e){var n=e.type,o=n===void 0?"linear":n,l=e.points,u=l===void 0?[]:l,h=e.baseLine,f=e.layout,d=e.connectNulls,p=d===void 0?!1:d,m=getCurveFactory(o,f),v=p?u.filter(function(A){return defined(A)}):u,_;if(Array.isArray(h)){var S=p?h.filter(function(A){return defined(A)}):h,T=v.map(function(A,w){return _objectSpread$j(_objectSpread$j({},A),{},{base:S[w]})});return f==="vertical"?_=shapeArea().y(getY).x1(getX).x0(function(A){return A.base.x}):_=shapeArea().x(getX).y1(getY).y0(function(A){return A.base.y}),_.defined(defined).curve(m),_(T)}return f==="vertical"&&isNumber(h)?_=shapeArea().y(getY).x1(getX).x0(h):isNumber(h)?_=shapeArea().x(getX).y1(getY).y0(h):_=shapeLine().x(getX).y(getY),_.defined(defined).curve(m),_(v)},Curve=function t(e){var n=e.className,o=e.points,l=e.path,u=e.pathRef;if((!o||!o.length)&&!l)return null;var h=o&&o.length?getPath$1(e):l;return React.createElement("path",_extends$e({},filterProps(e,!1),adaptEventHandlers(e),{className:clsx("recharts-curve",n),d:h,ref:u}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty;function combineComparators(t,e){return function(o,l,u){return t(o,l,u)&&e(o,l,u)}}function createIsCircular(t){return function(n,o,l){if(!n||!o||typeof n!="object"||typeof o!="object")return t(n,o,l);var u=l.cache,h=u.get(n),f=u.get(o);if(h&&f)return h===o&&f===n;u.set(n,o),u.set(o,n);var d=t(n,o,l);return u.delete(n),u.delete(o),d}}function getStrictProperties(t){return getOwnPropertyNames(t).concat(getOwnPropertySymbols(t))}var hasOwn=Object.hasOwn||function(t,e){return hasOwnProperty.call(t,e)};function sameValueZeroEqual(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(t,e,n){var o=t.length;if(e.length!==o)return!1;for(;o-- >0;)if(!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function areDatesEqual(t,e){return sameValueZeroEqual(t.getTime(),e.getTime())}function areErrorsEqual(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function areFunctionsEqual(t,e){return t===e}function areMapsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.entries(),h,f,d=0;(h=u.next())&&!h.done;){for(var p=e.entries(),m=!1,v=0;(f=p.next())&&!f.done;){if(l[v]){v++;continue}var _=h.value,S=f.value;if(n.equals(_[0],S[0],d,v,t,e,n)&&n.equals(_[1],S[1],_[0],S[0],t,e,n)){m=l[v]=!0;break}v++}if(!m)return!1;d++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(t,e,n){var o=keys(t),l=o.length;if(keys(e).length!==l)return!1;for(;l-- >0;)if(!isPropertyEqual(t,e,n,o[l]))return!1;return!0}function areObjectsEqualStrict(t,e,n){var o=getStrictProperties(t),l=o.length;if(getStrictProperties(e).length!==l)return!1;for(var u,h,f;l-- >0;)if(u=o[l],!isPropertyEqual(t,e,n,u)||(h=getOwnPropertyDescriptor(t,u),f=getOwnPropertyDescriptor(e,u),(h||f)&&(!h||!f||h.configurable!==f.configurable||h.enumerable!==f.enumerable||h.writable!==f.writable)))return!1;return!0}function arePrimitiveWrappersEqual(t,e){return sameValueZeroEqual(t.valueOf(),e.valueOf())}function areRegExpsEqual(t,e){return t.source===e.source&&t.flags===e.flags}function areSetsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.values(),h,f;(h=u.next())&&!h.done;){for(var d=e.values(),p=!1,m=0;(f=d.next())&&!f.done;){if(!l[m]&&n.equals(h.value,f.value,h.value,f.value,t,e,n)){p=l[m]=!0;break}m++}if(!p)return!1}return!0}function areTypedArraysEqual(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function areUrlsEqual(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function isPropertyEqual(t,e,n,o){return(o===REACT_OWNER||o===PREACT_OWNER||o===PREACT_VNODE)&&(t.$$typeof||e.$$typeof)?!0:hasOwn(e,o)&&n.equals(t[o],e[o],o,o,t,e,n)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(t){var e=t.areArraysEqual,n=t.areDatesEqual,o=t.areErrorsEqual,l=t.areFunctionsEqual,u=t.areMapsEqual,h=t.areNumbersEqual,f=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,p=t.areRegExpsEqual,m=t.areSetsEqual,v=t.areTypedArraysEqual,_=t.areUrlsEqual;return function(T,A,w){if(T===A)return!0;if(T==null||A==null)return!1;var C=typeof T;if(C!==typeof A)return!1;if(C!=="object")return C==="number"?h(T,A,w):C==="function"?l(T,A,w):!1;var O=T.constructor;if(O!==A.constructor)return!1;if(O===Object)return f(T,A,w);if(isArray(T))return e(T,A,w);if(isTypedArray!=null&&isTypedArray(T))return v(T,A,w);if(O===Date)return n(T,A,w);if(O===RegExp)return p(T,A,w);if(O===Map)return u(T,A,w);if(O===Set)return m(T,A,w);var L=getTag(T);return L===DATE_TAG?n(T,A,w):L===REG_EXP_TAG?p(T,A,w):L===MAP_TAG?u(T,A,w):L===SET_TAG?m(T,A,w):L===OBJECT_TAG?typeof T.then!="function"&&typeof A.then!="function"&&f(T,A,w):L===URL_TAG?_(T,A,w):L===ERROR_TAG?o(T,A,w):L===ARGUMENTS_TAG?f(T,A,w):L===BOOLEAN_TAG||L===NUMBER_TAG||L===STRING_TAG?d(T,A,w):!1}}function createEqualityComparatorConfig(t){var e=t.circular,n=t.createCustomConfig,o=t.strict,l={areArraysEqual:o?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:o?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:o?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:o?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:o?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(n&&(l=assign({},l,n(l))),e){var u=createIsCircular(l.areArraysEqual),h=createIsCircular(l.areMapsEqual),f=createIsCircular(l.areObjectsEqual),d=createIsCircular(l.areSetsEqual);l=assign({},l,{areArraysEqual:u,areMapsEqual:h,areObjectsEqual:f,areSetsEqual:d})}return l}function createInternalEqualityComparator(t){return function(e,n,o,l,u,h,f){return t(e,n,f)}}function createIsEqual(t){var e=t.circular,n=t.comparator,o=t.createState,l=t.equals,u=t.strict;if(o)return function(d,p){var m=o(),v=m.cache,_=v===void 0?e?new WeakMap:void 0:v,S=m.meta;return n(d,p,{cache:_,equals:l,meta:S,strict:u})};if(e)return function(d,p){return n(d,p,{cache:new WeakMap,equals:l,meta:void 0,strict:u})};var h={cache:void 0,equals:l,meta:void 0,strict:u};return function(d,p){return n(d,p,h)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,o=t.createInternalComparator,l=t.createState,u=t.strict,h=u===void 0?!1:u,f=createEqualityComparatorConfig(t),d=createEqualityComparator(f),p=o?o(d):createInternalEqualityComparator(d);return createIsEqual({circular:n,comparator:d,createState:l,equals:p,strict:h})}function safeRequestAnimationFrame(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function setRafTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,o=function l(u){n<0&&(n=u),u-n>e?(t(u),n=-1):safeRequestAnimationFrame(l)};requestAnimationFrame(o)}function _typeof$m(t){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$m(t)}function _toArray(t){return _arrayWithHoles$6(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$8(t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(t,e)}}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithHoles$6(t){if(Array.isArray(t))return t}function createAnimateManager(){var t={},e=function(){return null},n=!1,o=function l(u){if(!n){if(Array.isArray(u)){if(!u.length)return;var h=u,f=_toArray(h),d=f[0],p=f.slice(1);if(typeof d=="number"){setRafTimeout(l.bind(null,p),d);return}l(d),setRafTimeout(l.bind(null,p));return}_typeof$m(u)==="object"&&(t=u,e(t)),typeof u=="function"&&u()}};return{stop:function(){n=!0},start:function(u){n=!1,o(u)},subscribe:function(u){return e=u,function(){e=function(){return null}}}}}function _typeof$l(t){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$l(t)}function ownKeys$i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(n),!0).forEach(function(o){_defineProperty$l(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$l(t,e,n){return e=_toPropertyKey$l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return _typeof$l(e)==="symbol"?e:String(e)}function _toPrimitive$l(t,e){if(_typeof$l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$l(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getIntersectionKeys=function t(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(o,l){return o.filter(function(u){return l.includes(u)})})},identity=function t(e){return e},getDashCase=function t(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mapObject=function t(e,n){return Object.keys(n).reduce(function(o,l){return _objectSpread$i(_objectSpread$i({},o),{},_defineProperty$l({},l,e(l,n[l])))},{})},getTransitionVal=function t(e,n,o){return e.map(function(l){return"".concat(getDashCase(l)," ").concat(n,"ms ").concat(o)}).join(",")};function _slicedToArray$5(t,e){return _arrayWithHoles$5(t)||_iterableToArrayLimit$5(t,e)||_unsupportedIterableToArray$7(t,e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$5(t){if(Array.isArray(t))return t}function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$7(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(t,e)}}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$7(t)}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var ACCURACY=1e-4,cubicBezierFactor=function t(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},multyTime=function t(e,n){return e.map(function(o,l){return o*Math.pow(n,l)}).reduce(function(o,l){return o+l})},cubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n);return multyTime(l,o)}},derivativeCubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n),u=[].concat(_toConsumableArray$4(l.map(function(h,f){return h*f}).slice(1)),[0]);return multyTime(u,o)}},configBezier=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0],u=n[1],h=n[2],f=n[3];if(n.length===1)switch(n[0]){case"linear":l=0,u=0,h=1,f=1;break;case"ease":l=.25,u=.1,h=.25,f=1;break;case"ease-in":l=.42,u=0,h=1,f=1;break;case"ease-out":l=.42,u=0,h=.58,f=1;break;case"ease-in-out":l=0,u=0,h=.58,f=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var p=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=_slicedToArray$5(p,4);l=m[0],u=m[1],h=m[2],f=m[3]}}}var v=cubicBezier(l,h),_=cubicBezier(u,f),S=derivativeCubicBezier(l,h),T=function(C){return C>1?1:C<0?0:C},A=function(C){for(var O=C>1?1:C,L=O,F=0;F<8;++F){var B=v(L)-O,U=S(L);if(Math.abs(B-O)<ACCURACY||U<ACCURACY)return _(L);L=T(L-B/U)}return _(L)};return A.isStepper=!1,A},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,o=n===void 0?100:n,l=e.damping,u=l===void 0?8:l,h=e.dt,f=h===void 0?17:h,d=function(m,v,_){var S=-(m-v)*o,T=_*u,A=_+(S-T)*f/1e3,w=_*f/1e3+m;return Math.abs(w-v)<ACCURACY&&Math.abs(A)<ACCURACY?[v,0]:[w,A]};return d.isStepper=!0,d.dt=f,d},configEasing=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0];if(typeof l=="string")switch(l){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(l);case"spring":return configSpring();default:if(l.split("(")[0]==="cubic-bezier")return configBezier(l)}return typeof l=="function"?l:null};function _typeof$k(t){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$k(t)}function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$6(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$6(t)}function ownKeys$h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(n),!0).forEach(function(o){_defineProperty$k(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$k(t,e,n){return e=_toPropertyKey$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return _typeof$k(e)==="symbol"?e:String(e)}function _toPrimitive$k(t,e){if(_typeof$k(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$k(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$4(t,e){return _arrayWithHoles$4(t)||_iterableToArrayLimit$4(t,e)||_unsupportedIterableToArray$6(t,e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(t,e)}}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$4(t){if(Array.isArray(t))return t}var alpha=function t(e,n,o){return e+(n-e)*o},needContinue=function t(e){var n=e.from,o=e.to;return n!==o},calStepperVals=function t(e,n,o){var l=mapObject(function(u,h){if(needContinue(h)){var f=e(h.from,h.to,h.velocity),d=_slicedToArray$4(f,2),p=d[0],m=d[1];return _objectSpread$h(_objectSpread$h({},h),{},{from:p,velocity:m})}return h},n);return o<1?mapObject(function(u,h){return needContinue(h)?_objectSpread$h(_objectSpread$h({},h),{},{velocity:alpha(h.velocity,l[u].velocity,o),from:alpha(h.from,l[u].from,o)}):h},n):t(e,l,o-1)};const configUpdate=function(t,e,n,o,l){var u=getIntersectionKeys(t,e),h=u.reduce(function(w,C){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},C,[t[C],e[C]]))},{}),f=u.reduce(function(w,C){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},C,{from:t[C],velocity:0,to:e[C]}))},{}),d=-1,p,m,v=function(){return null},_=function(){return mapObject(function(C,O){return O.from},f)},S=function(){return!Object.values(f).filter(needContinue).length},T=function(C){p||(p=C);var O=C-p,L=O/n.dt;f=calStepperVals(n,f,L),l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),_())),p=C,S()||(d=requestAnimationFrame(v))},A=function(C){m||(m=C);var O=(C-m)/o,L=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$3(U).concat([n(O)]))},h);if(l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),L)),O<1)d=requestAnimationFrame(v);else{var F=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$3(U).concat([n(1)]))},h);l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),F))}};return v=n.isStepper?T:A,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}};function _typeof$j(t){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$j(t)}var _excluded$6=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$6(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$6(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$5(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$5(t)}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(n),!0).forEach(function(o){_defineProperty$j(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$j(t,e,n){return e=_toPropertyKey$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck$b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$j(o.key),o)}}function _createClass$b(t,e,n){return e&&_defineProperties$b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return _typeof$j(e)==="symbol"?e:String(e)}function _toPrimitive$j(t,e){if(_typeof$j(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$j(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits$9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$9(t,e)}function _setPrototypeOf$9(t,e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$9(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf$9(t),l;if(e){var u=_getPrototypeOf$9(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return _possibleConstructorReturn$9(this,l)}}function _possibleConstructorReturn$9(t,e){if(e&&(_typeof$j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(t)}function _assertThisInitialized$9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$9(t){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$9(t)}var Animate=function(t){_inherits$9(n,t);var e=_createSuper(n);function n(o,l){var u;_classCallCheck$b(this,n),u=e.call(this,o,l);var h=u.props,f=h.isActive,d=h.attributeName,p=h.from,m=h.to,v=h.steps,_=h.children,S=h.duration;if(u.handleStyleChange=u.handleStyleChange.bind(_assertThisInitialized$9(u)),u.changeStyle=u.changeStyle.bind(_assertThisInitialized$9(u)),!f||S<=0)return u.state={style:{}},typeof _=="function"&&(u.state={style:m}),_possibleConstructorReturn$9(u);if(v&&v.length)u.state={style:v[0].style};else if(p){if(typeof _=="function")return u.state={style:p},_possibleConstructorReturn$9(u);u.state={style:d?_defineProperty$j({},d,p):p}}else u.state={style:{}};return u}return _createClass$b(n,[{key:"componentDidMount",value:function(){var l=this.props,u=l.isActive,h=l.canBegin;this.mounted=!0,!(!u||!h)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(l){var u=this.props,h=u.isActive,f=u.canBegin,d=u.attributeName,p=u.shouldReAnimate,m=u.to,v=u.from,_=this.state.style;if(f){if(!h){var S={style:d?_defineProperty$j({},d,m):m};this.state&&_&&(d&&_[d]!==m||!d&&_!==m)&&this.setState(S);return}if(!(deepEqual(l.to,m)&&l.canBegin&&l.isActive)){var T=!l.canBegin||!l.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=T||p?v:l.to;if(this.state&&_){var w={style:d?_defineProperty$j({},d,A):A};(d&&_[d]!==A||!d&&_!==A)&&this.setState(w)}this.runAnimation(_objectSpread$g(_objectSpread$g({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var l=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),l&&l()}},{key:"handleStyleChange",value:function(l){this.changeStyle(l)}},{key:"changeStyle",value:function(l){this.mounted&&this.setState({style:l})}},{key:"runJSAnimation",value:function(l){var u=this,h=l.from,f=l.to,d=l.duration,p=l.easing,m=l.begin,v=l.onAnimationEnd,_=l.onAnimationStart,S=configUpdate(h,f,configEasing(p),d,this.changeStyle),T=function(){u.stopJSAnimation=S()};this.manager.start([_,m,T,d,v])}},{key:"runStepAnimation",value:function(l){var u=this,h=l.steps,f=l.begin,d=l.onAnimationStart,p=h[0],m=p.style,v=p.duration,_=v===void 0?0:v,S=function(A,w,C){if(C===0)return A;var O=w.duration,L=w.easing,F=L===void 0?"ease":L,B=w.style,U=w.properties,V=w.onAnimationEnd,q=C>0?h[C-1]:w,H=U||Object.keys(B);if(typeof F=="function"||F==="spring")return[].concat(_toConsumableArray$2(A),[u.runJSAnimation.bind(u,{from:q.style,to:B,duration:O,easing:F}),O]);var G=getTransitionVal(H,O,F),Y=_objectSpread$g(_objectSpread$g(_objectSpread$g({},q.style),B),{},{transition:G});return[].concat(_toConsumableArray$2(A),[Y,O,V]).filter(identity)};return this.manager.start([d].concat(_toConsumableArray$2(h.reduce(S,[m,Math.max(_,f)])),[l.onAnimationEnd]))}},{key:"runAnimation",value:function(l){this.manager||(this.manager=createAnimateManager());var u=l.begin,h=l.duration,f=l.attributeName,d=l.to,p=l.easing,m=l.onAnimationStart,v=l.onAnimationEnd,_=l.steps,S=l.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof p=="function"||typeof S=="function"||p==="spring"){this.runJSAnimation(l);return}if(_.length>1){this.runStepAnimation(l);return}var A=f?_defineProperty$j({},f,d):d,w=getTransitionVal(Object.keys(A),h,p);T.start([m,u,_objectSpread$g(_objectSpread$g({},A),{},{transition:w}),h,v])}},{key:"render",value:function(){var l=this.props,u=l.children;l.begin;var h=l.duration;l.attributeName,l.easing;var f=l.isActive;l.steps,l.from,l.to,l.canBegin,l.onAnimationEnd,l.shouldReAnimate,l.onAnimationReStart;var d=_objectWithoutProperties$6(l,_excluded$6),p=reactExports.Children.count(u),m=this.state.style;if(typeof u=="function")return u(m);if(!f||p===0||h<=0)return u;var v=function(S){var T=S.props,A=T.style,w=A===void 0?{}:A,C=T.className,O=reactExports.cloneElement(S,_objectSpread$g(_objectSpread$g({},d),{},{style:_objectSpread$g(_objectSpread$g({},w),m),className:C}));return O};return p===1?v(reactExports.Children.only(u)):React.createElement("div",null,reactExports.Children.map(u,function(_){return v(_)}))}}]),n}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function t(){},onAnimationStart:function t(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$i(t){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$i(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$d.apply(this,arguments)}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$4(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(t,e)}}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function ownKeys$f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(n),!0).forEach(function(o){_defineProperty$i(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$i(t,e,n){return e=_toPropertyKey$i(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return _typeof$i(e)=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(_typeof$i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$i(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getRectanglePath=function t(e,n,o,l,u){var h=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(h>0&&u instanceof Array){for(var v=[0,0,0,0],_=0,S=4;_<S;_++)v[_]=u[_]>h?h:u[_];m="M".concat(e,",").concat(n+f*v[0]),v[0]>0&&(m+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(p,",").concat(e+d*v[0],",").concat(n)),m+="L ".concat(e+o-d*v[1],",").concat(n),v[1]>0&&(m+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(p,`,
        `).concat(e+o,",").concat(n+f*v[1])),m+="L ".concat(e+o,",").concat(n+l-f*v[2]),v[2]>0&&(m+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(p,`,
        `).concat(e+o-d*v[2],",").concat(n+l)),m+="L ".concat(e+d*v[3],",").concat(n+l),v[3]>0&&(m+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(p,`,
        `).concat(e,",").concat(n+l-f*v[3])),m+="Z"}else if(h>0&&u===+u&&u>0){var T=Math.min(h,u);m="M ".concat(e,",").concat(n+f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+d*T,",").concat(n,`
            L `).concat(e+o-d*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+o,",").concat(n+f*T,`
            L `).concat(e+o,",").concat(n+l-f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+o-d*T,",").concat(n+l,`
            L `).concat(e+d*T,",").concat(n+l,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e,",").concat(n+l-f*T," Z")}else m="M ".concat(e,",").concat(n," h ").concat(o," v ").concat(l," h ").concat(-o," Z");return m},isInRectangle=function t(e,n){if(!e||!n)return!1;var o=e.x,l=e.y,u=n.x,h=n.y,f=n.width,d=n.height;if(Math.abs(f)>0&&Math.abs(d)>0){var p=Math.min(u,u+f),m=Math.max(u,u+f),v=Math.min(h,h+d),_=Math.max(h,h+d);return o>=p&&o<=m&&l>=v&&l<=_}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function t(e){var n=_objectSpread$f(_objectSpread$f({},defaultProps$1),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$3(l,2),h=u[0],f=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var F=o.current.getTotalLength();F&&f(F)}catch{}},[]);var d=n.x,p=n.y,m=n.width,v=n.height,_=n.radius,S=n.className,T=n.animationEasing,A=n.animationDuration,w=n.animationBegin,C=n.isAnimationActive,O=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||m===0||v===0)return null;var L=clsx("recharts-rectangle",S);return O?React.createElement(Animate,{canBegin:h>0,from:{width:m,height:v,x:d,y:p},to:{width:m,height:v,x:d,y:p},duration:A,animationEasing:T,isActive:O},function(F){var B=F.width,U=F.height,V=F.x,q=F.y;return React.createElement(Animate,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:A,isActive:C,easing:T},React.createElement("path",_extends$d({},filterProps(n,!0),{className:L,d:getRectanglePath(V,q,B,U,_),ref:o})))}):React.createElement("path",_extends$d({},filterProps(n,!0),{className:L,d:getRectanglePath(d,p,m,v,_)}))};function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$c.apply(this,arguments)}var Dot=function t(e){var n=e.cx,o=e.cy,l=e.r,u=e.className,h=clsx("recharts-dot",u);return n===+n&&o===+o&&l===+l?React.createElement("circle",_extends$c({},filterProps(e,!1),adaptEventHandlers(e),{className:h,cx:n,cy:o,r:l})):null};function _typeof$h(t){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$h(t)}var _excluded$5=["x","y","top","left","width","height","className"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$b.apply(this,arguments)}function ownKeys$e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(o){_defineProperty$h(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$h(t,e,n){return e=_toPropertyKey$h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return _typeof$h(e)=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(_typeof$h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$5(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$5(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var getPath=function t(e,n,o,l,u,h){return"M".concat(e,",").concat(u,"v").concat(l,"M").concat(h,",").concat(n,"h").concat(o)},Cross=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,h=e.top,f=h===void 0?0:h,d=e.left,p=d===void 0?0:d,m=e.width,v=m===void 0?0:m,_=e.height,S=_===void 0?0:_,T=e.className,A=_objectWithoutProperties$5(e,_excluded$5),w=_objectSpread$e({x:o,y:u,top:f,left:p,width:v,height:S},A);return!isNumber(o)||!isNumber(u)||!isNumber(v)||!isNumber(S)||!isNumber(f)||!isNumber(p)?null:React.createElement("path",_extends$b({},filterProps(w,!0),{className:clsx("recharts-cross",T),d:getPath(o,u,v,S,f,p)}))},_getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var t=require_overArg(),e=t(Object.getPrototypeOf,Object);return _getPrototype=e,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var t=require_baseGetTag(),e=require_getPrototype(),n=requireIsObjectLike(),o="[object Object]",l=Function.prototype,u=Object.prototype,h=l.toString,f=u.hasOwnProperty,d=h.call(Object);function p(m){if(!n(m)||t(m)!=o)return!1;var v=e(m);if(v===null)return!0;var _=f.call(v,"constructor")&&v.constructor;return typeof _=="function"&&_ instanceof _&&h.call(_)==d}return isPlainObject_1=p,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Boolean]";function o(l){return l===!0||l===!1||e(l)&&t(l)==n}return isBoolean_1=o,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$g(t){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$g(t)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$a.apply(this,arguments)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$3(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(t,e)}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(o){_defineProperty$g(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$g(t,e,n){return e=_toPropertyKey$g(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return _typeof$g(e)=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(_typeof$g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getTrapezoidPath=function t(e,n,o,l,u){var h=o-l,f;return f="M ".concat(e,",").concat(n),f+="L ".concat(e+o,",").concat(n),f+="L ".concat(e+o-h/2,",").concat(n+u),f+="L ".concat(e+o-h/2-l,",").concat(n+u),f+="L ".concat(e,",").concat(n," Z"),f},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function t(e){var n=_objectSpread$d(_objectSpread$d({},defaultProps),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$2(l,2),h=u[0],f=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var L=o.current.getTotalLength();L&&f(L)}catch{}},[]);var d=n.x,p=n.y,m=n.upperWidth,v=n.lowerWidth,_=n.height,S=n.className,T=n.animationEasing,A=n.animationDuration,w=n.animationBegin,C=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||_!==+_||m===0&&v===0||_===0)return null;var O=clsx("recharts-trapezoid",S);return C?React.createElement(Animate,{canBegin:h>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:p},to:{upperWidth:m,lowerWidth:v,height:_,x:d,y:p},duration:A,animationEasing:T,isActive:C},function(L){var F=L.upperWidth,B=L.lowerWidth,U=L.height,V=L.x,q=L.y;return React.createElement(Animate,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:A,easing:T},React.createElement("path",_extends$a({},filterProps(n,!0),{className:O,d:getTrapezoidPath(V,q,F,B,U),ref:o})))}):React.createElement("g",null,React.createElement("path",_extends$a({},filterProps(n,!0),{className:O,d:getTrapezoidPath(d,p,m,v,_)})))},_excluded$4=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$4(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(o){_defineProperty$f(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$f(t,e,n){return e=_toPropertyKey$f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return _typeof$f(e)=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(_typeof$f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$f(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$c(_objectSpread$c({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return React.createElement(Rectangle,n);case"trapezoid":return React.createElement(Trapezoid,n);case"sector":return React.createElement(Sector,n);case"symbols":if(isSymbolsProps(e))return React.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var e=t.option,n=t.shapeType,o=t.propTransformer,l=o===void 0?defaultPropTransformer:o,u=t.activeClassName,h=u===void 0?"recharts-active-shape":u,f=t.isActive,d=_objectWithoutProperties$4(t,_excluded$4),p;if(reactExports.isValidElement(e))p=reactExports.cloneElement(e,_objectSpread$c(_objectSpread$c({},d),getPropsFromShapeOption(e)));else if(isFunction(e))p=e(d);else if(isPlainObject(e)&&!isBoolean(e)){var m=l(e,d);p=React.createElement(ShapeSelector,{shapeType:n,elementProps:m})}else{var v=d;p=React.createElement(ShapeSelector,{shapeType:n,elementProps:v})}return f?React.createElement(Layer,{className:h},p):p}function isFunnel(t,e){return e!=null&&"trapezoids"in t.props}function isPie(t,e){return e!=null&&"sectors"in t.props}function isScatter(t,e){return e!=null&&"points"in t.props}function compareFunnel(t,e){var n,o,l=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,u=t.y===(e==null||(o=e.labelViewBox)===null||o===void 0?void 0:o.y)||t.y===e.y;return l&&u}function comparePie(t,e){var n=t.endAngle===e.endAngle,o=t.startAngle===e.startAngle;return n&&o}function compareScatter(t,e){var n=t.x===e.x,o=t.y===e.y,l=t.z===e.z;return n&&o&&l}function getComparisonFn(t,e){var n;return isFunnel(t,e)?n=compareFunnel:isPie(t,e)?n=comparePie:isScatter(t,e)&&(n=compareScatter),n}function getShapeDataKey(t,e){var n;return isFunnel(t,e)?n="trapezoids":isPie(t,e)?n="sectors":isScatter(t,e)&&(n="points"),n}function getActiveShapeTooltipPayload(t,e){if(isFunnel(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(isPie(t,e)){var o;return(o=e.tooltipPayload)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.payload)===null||o===void 0?void 0:o.payload}return isScatter(t,e)?e.payload:{}}function getActiveShapeIndexForTooltip(t){var e=t.activeTooltipItem,n=t.graphicalItem,o=t.itemData,l=getShapeDataKey(n,e),u=getActiveShapeTooltipPayload(n,e),h=o.filter(function(d,p){var m=isEqual(u,d),v=n.props[l].filter(function(T){var A=getComparisonFn(n,e);return A(T,e)}),_=n.props[l].indexOf(v[v.length-1]),S=p===_;return m&&S}),f=o.indexOf(h[h.length-1]);return f}var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var t=Math.ceil,e=Math.max;function n(o,l,u,h){for(var f=-1,d=e(t((l-o)/(u||1)),0),p=Array(d);d--;)p[h?d:++f]=o,o+=u;return p}return _baseRange=n,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var t=requireToNumber(),e=1/0,n=17976931348623157e292;function o(l){if(!l)return l===0?l:0;if(l=t(l),l===e||l===-1/0){var u=l<0?-1:1;return u*n}return l===l?l:0}return toFinite_1=o,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var t=require_baseRange(),e=require_isIterateeCall(),n=requireToFinite();function o(l){return function(u,h,f){return f&&typeof f!="number"&&e(u,h,f)&&(h=f=void 0),u=n(u),h===void 0?(h=u,u=0):h=n(h),f=f===void 0?u<h?1:-1:n(f),t(u,h,f,l)}}return _createRange=o,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var t=require_createRange(),e=t();return range_1=e,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function ownKeys$b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(o){_defineProperty$e(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$e(t,e,n){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$e(e)=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(_typeof$e(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function t(e,n){var o=e.replace(/(\w)/,function(u){return u.toUpperCase()}),l=PREFIX_LIST.reduce(function(u,h){return _objectSpread$b(_objectSpread$b({},u),{},_defineProperty$e({},h+o,n))},{});return l[e]=n,l};function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$9.apply(this,arguments)}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(o){_defineProperty$d(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$d(o.key),o)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),n&&_defineProperties$a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$8(t,e,n){return e=_getPrototypeOf$8(e),_possibleConstructorReturn$8(t,_isNativeReflectConstruct$8()?Reflect.construct(e,n||[],_getPrototypeOf$8(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$8(t,e){if(e&&(_typeof$d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(t)}function _assertThisInitialized$8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!t})()}function _getPrototypeOf$8(t){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$8(t)}function _inherits$8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$8(t,e)}function _setPrototypeOf$8(t,e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$8(t,e)}function _defineProperty$d(t,e,n){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$d(e)=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(_typeof$d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$d(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var createScale=function t(e){var n=e.data,o=e.startIndex,l=e.endIndex,u=e.x,h=e.width,f=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,p=point().domain(range(0,d)).range([u,u+h-f]),m=p.domain().map(function(v){return p(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(o),endX:p(l),scale:p,scaleValues:m}},isTouch=function t(e){return e.changedTouches&&!!e.changedTouches.length},Brush=function(t){function e(n){var o;return _classCallCheck$a(this,e),o=_callSuper$8(this,e,[n]),_defineProperty$d(o,"handleDrag",function(l){o.leaveTimer&&(clearTimeout(o.leaveTimer),o.leaveTimer=null),o.state.isTravellerMoving?o.handleTravellerMove(l):o.state.isSlideMoving&&o.handleSlideDrag(l)}),_defineProperty$d(o,"handleTouchMove",function(l){l.changedTouches!=null&&l.changedTouches.length>0&&o.handleDrag(l.changedTouches[0])}),_defineProperty$d(o,"handleDragEnd",function(){o.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var l=o.props,u=l.endIndex,h=l.onDragEnd,f=l.startIndex;h==null||h({endIndex:u,startIndex:f})}),o.detachDragEndListener()}),_defineProperty$d(o,"handleLeaveWrapper",function(){(o.state.isTravellerMoving||o.state.isSlideMoving)&&(o.leaveTimer=window.setTimeout(o.handleDragEnd,o.props.leaveTimeOut))}),_defineProperty$d(o,"handleEnterSlideOrTraveller",function(){o.setState({isTextActive:!0})}),_defineProperty$d(o,"handleLeaveSlideOrTraveller",function(){o.setState({isTextActive:!1})}),_defineProperty$d(o,"handleSlideDragStart",function(l){var u=isTouch(l)?l.changedTouches[0]:l;o.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:u.pageX}),o.attachDragEndListener()}),o.travellerDragStartHandlers={startX:o.handleTravellerDragStart.bind(o,"startX"),endX:o.handleTravellerDragStart.bind(o,"endX")},o.state={},o}return _inherits$8(e,t),_createClass$a(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(o){var l=o.startX,u=o.endX,h=this.state.scaleValues,f=this.props,d=f.gap,p=f.data,m=p.length-1,v=Math.min(l,u),_=Math.max(l,u),S=e.getIndexInRange(h,v),T=e.getIndexInRange(h,_);return{startIndex:S-S%d,endIndex:T===m?m:T-T%d}}},{key:"getTextOfTick",value:function(o){var l=this.props,u=l.data,h=l.tickFormatter,f=l.dataKey,d=getValueByDataKey(u[o],f,o);return isFunction(h)?h(d,o):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(o){var l=this.state,u=l.slideMoveStartX,h=l.startX,f=l.endX,d=this.props,p=d.x,m=d.width,v=d.travellerWidth,_=d.startIndex,S=d.endIndex,T=d.onChange,A=o.pageX-u;A>0?A=Math.min(A,p+m-v-f,p+m-v-h):A<0&&(A=Math.max(A,p-h,p-f));var w=this.getIndex({startX:h+A,endX:f+A});(w.startIndex!==_||w.endIndex!==S)&&T&&T(w),this.setState({startX:h+A,endX:f+A,slideMoveStartX:o.pageX})}},{key:"handleTravellerDragStart",value:function(o,l){var u=isTouch(l)?l.changedTouches[0]:l;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:o,brushMoveStartX:u.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(o){var l=this.state,u=l.brushMoveStartX,h=l.movingTravellerId,f=l.endX,d=l.startX,p=this.state[h],m=this.props,v=m.x,_=m.width,S=m.travellerWidth,T=m.onChange,A=m.gap,w=m.data,C={startX:this.state.startX,endX:this.state.endX},O=o.pageX-u;O>0?O=Math.min(O,v+_-S-p):O<0&&(O=Math.max(O,v-p)),C[h]=p+O;var L=this.getIndex(C),F=L.startIndex,B=L.endIndex,U=function(){var q=w.length-1;return h==="startX"&&(f>d?F%A===0:B%A===0)||f<d&&B===q||h==="endX"&&(f>d?B%A===0:F%A===0)||f>d&&B===q};this.setState(_defineProperty$d(_defineProperty$d({},h,p+O),"brushMoveStartX",o.pageX),function(){T&&U()&&T(L)})}},{key:"handleTravellerMoveKeyboard",value:function(o,l){var u=this,h=this.state,f=h.scaleValues,d=h.startX,p=h.endX,m=this.state[l],v=f.indexOf(m);if(v!==-1){var _=v+o;if(!(_===-1||_>=f.length)){var S=f[_];l==="startX"&&S>=p||l==="endX"&&S<=d||this.setState(_defineProperty$d({},l,S),function(){u.props.onChange(u.getIndex({startX:u.state.startX,endX:u.state.endX}))})}}}},{key:"renderBackground",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.fill,p=o.stroke;return React.createElement("rect",{stroke:p,fill:d,x:l,y:u,width:h,height:f})}},{key:"renderPanorama",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.data,p=o.children,m=o.padding,v=reactExports.Children.only(p);return v?React.cloneElement(v,{x:l,y:u,width:h,height:f,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(o,l){var u,h,f=this,d=this.props,p=d.y,m=d.travellerWidth,v=d.height,_=d.traveller,S=d.ariaLabel,T=d.data,A=d.startIndex,w=d.endIndex,C=Math.max(o,this.props.x),O=_objectSpread$a(_objectSpread$a({},filterProps(this.props,!1)),{},{x:C,y:p,width:m,height:v}),L=S||"Min value: ".concat((u=T[A])===null||u===void 0?void 0:u.name,", Max value: ").concat((h=T[w])===null||h===void 0?void 0:h.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":L,"aria-valuenow":o,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[l],onTouchStart:this.travellerDragStartHandlers[l],onKeyDown:function(B){["ArrowLeft","ArrowRight"].includes(B.key)&&(B.preventDefault(),B.stopPropagation(),f.handleTravellerMoveKeyboard(B.key==="ArrowRight"?1:-1,l))},onFocus:function(){f.setState({isTravellerFocused:!0})},onBlur:function(){f.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,O))}},{key:"renderSlide",value:function(o,l){var u=this.props,h=u.y,f=u.height,d=u.stroke,p=u.travellerWidth,m=Math.min(o,l)+p,v=Math.max(Math.abs(l-o)-p,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:h,width:v,height:f})}},{key:"renderText",value:function(){var o=this.props,l=o.startIndex,u=o.endIndex,h=o.y,f=o.height,d=o.travellerWidth,p=o.stroke,m=this.state,v=m.startX,_=m.endX,S=5,T={pointerEvents:"none",fill:p};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$9({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,_)-S,y:h+f/2},T),this.getTextOfTick(l)),React.createElement(Text,_extends$9({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,_)+d+S,y:h+f/2},T),this.getTextOfTick(u)))}},{key:"render",value:function(){var o=this.props,l=o.data,u=o.className,h=o.children,f=o.x,d=o.y,p=o.width,m=o.height,v=o.alwaysShowText,_=this.state,S=_.startX,T=_.endX,A=_.isTextActive,w=_.isSlideMoving,C=_.isTravellerMoving,O=_.isTravellerFocused;if(!l||!l.length||!isNumber(f)||!isNumber(d)||!isNumber(p)||!isNumber(m)||p<=0||m<=0)return null;var L=clsx("recharts-brush",u),F=React.Children.count(h)===1,B=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:L,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:B},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(S,T),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(T,"endX"),(A||w||C||O||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(o){var l=o.x,u=o.y,h=o.width,f=o.height,d=o.stroke,p=Math.floor(u+f/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:l,y:u,width:h,height:f,fill:d,stroke:"none"}),React.createElement("line",{x1:l+1,y1:p,x2:l+h-1,y2:p,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:l+1,y1:p+2,x2:l+h-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(o,l){var u;return React.isValidElement(o)?u=React.cloneElement(o,l):isFunction(o)?u=o(l):u=e.renderDefaultTraveller(l),u}},{key:"getDerivedStateFromProps",value:function(o,l){var u=o.data,h=o.width,f=o.x,d=o.travellerWidth,p=o.updateId,m=o.startIndex,v=o.endIndex;if(u!==l.prevData||p!==l.prevUpdateId)return _objectSpread$a({prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:h},u&&u.length?createScale({data:u,width:h,x:f,travellerWidth:d,startIndex:m,endIndex:v}):{scale:null,scaleValues:null});if(l.scale&&(h!==l.prevWidth||f!==l.prevX||d!==l.prevTravellerWidth)){l.scale.range([f,f+h-d]);var _=l.scale.domain().map(function(S){return l.scale(S)});return{prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:h,startX:l.scale(o.startIndex),endX:l.scale(o.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(o,l){for(var u=o.length,h=0,f=u-1;f-h>1;){var d=Math.floor((h+f)/2);o[d]>l?f=d:h=d}return l>=o[f]?f:h}}])}(reactExports.PureComponent);_defineProperty$d(Brush,"displayName","Brush");_defineProperty$d(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var t=require_baseEach();function e(n,o){var l;return t(n,function(u,h,f){return l=o(u,h,f),!l}),!!l}return _baseSome=e,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var t=require_arraySome(),e=require_baseIteratee(),n=require_baseSome(),o=requireIsArray(),l=require_isIterateeCall();function u(h,f,d){var p=o(h)?t:n;return d&&l(h,f,d)&&(f=void 0),p(h,e(f,3))}return some_1=u,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function t(e,n){var o=e.alwaysShow,l=e.ifOverflow;return o&&(l="extendDomain"),l===n},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var t=require_defineProperty();function e(n,o,l){o=="__proto__"&&t?t(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}return _baseAssignValue=e,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var t=require_baseAssignValue(),e=require_baseForOwn(),n=require_baseIteratee();function o(l,u){var h={};return u=n(u,3),e(l,function(f,d,p){t(h,d,u(f,d,p))}),h}return mapValues_1=o,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(!n(e[o],o,e))return!1;return!0}return _arrayEvery=t,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var t=require_baseEach();function e(n,o){var l=!0;return t(n,function(u,h,f){return l=!!o(u,h,f),l}),l}return _baseEvery=e,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var t=require_arrayEvery(),e=require_baseEvery(),n=require_baseIteratee(),o=requireIsArray(),l=require_isIterateeCall();function u(h,f,d){var p=o(h)?t:e;return d&&l(h,f,d)&&(f=void 0),p(h,n(f,3))}return every_1=u,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$3=["x","y"];function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$8.apply(this,arguments)}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(o){_defineProperty$c(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$c(t,e,n){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$c(e)=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(_typeof$c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$c(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$3(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function typeguardBarRectangleProps(t,e){var n=t.x,o=t.y,l=_objectWithoutProperties$3(t,_excluded$3),u="".concat(n),h=parseInt(u,10),f="".concat(o),d=parseInt(f,10),p="".concat(e.height||l.height),m=parseInt(p,10),v="".concat(e.width||l.width),_=parseInt(v,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},e),l),h?{x:h}:{}),d?{y:d}:{}),{},{height:m,width:_,name:e.name,radius:e.radius})}function BarRectangle(t){return React.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(o,l){if(typeof e=="number")return e;var u=typeof o=="number";return u?e(o,l):(u||invariant(),n)}},_excluded$2=["value","background"],_Bar;function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function _objectWithoutProperties$2(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$2(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$7.apply(this,arguments)}function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(o){_defineProperty$b(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$b(o.key),o)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),n&&_defineProperties$9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$7(t,e,n){return e=_getPrototypeOf$7(e),_possibleConstructorReturn$7(t,_isNativeReflectConstruct$7()?Reflect.construct(e,n||[],_getPrototypeOf$7(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$7(t,e){if(e&&(_typeof$b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(t)}function _assertThisInitialized$7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!t})()}function _getPrototypeOf$7(t){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$7(t)}function _inherits$7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$7(t,e)}function _setPrototypeOf$7(t,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$7(t,e)}function _defineProperty$b(t,e,n){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$b(e)=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(_typeof$b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$b(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bar=function(t){function e(){var n;_classCallCheck$9(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$7(this,e,[].concat(l)),_defineProperty$b(n,"state",{isAnimationFinished:!1}),_defineProperty$b(n,"id",uniqueId("recharts-bar-")),_defineProperty$b(n,"handleAnimationEnd",function(){var h=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),h&&h()}),_defineProperty$b(n,"handleAnimationStart",function(){var h=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),h&&h()}),n}return _inherits$7(e,t),_createClass$9(e,[{key:"renderRectanglesStatically",value:function(o){var l=this,u=this.props,h=u.shape,f=u.dataKey,d=u.activeIndex,p=u.activeBar,m=filterProps(this.props,!1);return o&&o.map(function(v,_){var S=_===d,T=S?p:h,A=_objectSpread$8(_objectSpread$8(_objectSpread$8({},m),v),{},{isActive:S,option:T,index:_,dataKey:f,onAnimationStart:l.handleAnimationStart,onAnimationEnd:l.handleAnimationEnd});return React.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(l.props,v,_),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(_)}),React.createElement(BarRectangle,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var o=this,l=this.props,u=l.data,h=l.layout,f=l.isAnimationActive,d=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,_=this.state.prevData;return React.createElement(Animate,{begin:d,duration:p,isActive:f,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var T=S.t,A=u.map(function(w,C){var O=_&&_[C];if(O){var L=interpolateNumber$2(O.x,w.x),F=interpolateNumber$2(O.y,w.y),B=interpolateNumber$2(O.width,w.width),U=interpolateNumber$2(O.height,w.height);return _objectSpread$8(_objectSpread$8({},w),{},{x:L(T),y:F(T),width:B(T),height:U(T)})}if(h==="horizontal"){var V=interpolateNumber$2(0,w.height),q=V(T);return _objectSpread$8(_objectSpread$8({},w),{},{y:w.y+w.height-q,height:q})}var H=interpolateNumber$2(0,w.width),G=H(T);return _objectSpread$8(_objectSpread$8({},w),{},{width:G})});return React.createElement(Layer,null,o.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var o=this.props,l=o.data,u=o.isAnimationActive,h=this.state.prevData;return u&&l&&l.length&&(!h||!isEqual(h,l))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(l)}},{key:"renderBackground",value:function(){var o=this,l=this.props,u=l.data,h=l.dataKey,f=l.activeIndex,d=filterProps(this.props.background,!1);return u.map(function(p,m){p.value;var v=p.background,_=_objectWithoutProperties$2(p,_excluded$2);if(!v)return null;var S=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},_),{},{fill:"#eee"},v),d),adaptEventsOfChild(o.props,p,m)),{},{onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd,dataKey:h,index:m,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(m),option:o.props.background,isActive:m===f},S))})}},{key:"renderErrorBar",value:function(o,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var u=this.props,h=u.data,f=u.xAxis,d=u.yAxis,p=u.layout,m=u.children,v=findAllByType(m,ErrorBar);if(!v)return null;var _=p==="vertical"?h[0].height/2:h[0].width/2,S=function(w,C){var O=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:O,errorVal:getValueByDataKey(w,C)}},T={clipPath:o?"url(#clipPath-".concat(l,")"):null};return React.createElement(Layer,T,v.map(function(A){return React.cloneElement(A,{key:"error-bar-".concat(l,"-").concat(A.props.dataKey),data:h,xAxis:f,yAxis:d,layout:p,offset:_,dataPointFormatter:S})}))}},{key:"render",value:function(){var o=this.props,l=o.hide,u=o.data,h=o.className,f=o.xAxis,d=o.yAxis,p=o.left,m=o.top,v=o.width,_=o.height,S=o.isAnimationActive,T=o.background,A=o.id;if(l||!u||!u.length)return null;var w=this.state.isAnimationFinished,C=clsx("recharts-bar",h),O=f&&f.allowDataOverflow,L=d&&d.allowDataOverflow,F=O||L,B=isNil(A)?this.id:A;return React.createElement(Layer,{className:C},O||L?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(B)},React.createElement("rect",{x:O?p:p-v/2,y:L?m:m-_/2,width:O?v:v*2,height:L?_:_*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(B,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,B),(!S||w)&&LabelList.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curData:o.data,prevData:l.curData}:o.data!==l.curData?{curData:o.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$b(Bar,"getComposedData",function(t){var e=t.props,n=t.item,o=t.barPosition,l=t.bandSize,u=t.xAxis,h=t.yAxis,f=t.xAxisTicks,d=t.yAxisTicks,p=t.stackedData,m=t.dataStartIndex,v=t.displayedData,_=t.offset,S=findPositionOfBar(o,n);if(!S)return null;var T=e.layout,A=n.type.defaultProps,w=A!==void 0?_objectSpread$8(_objectSpread$8({},A),n.props):n.props,C=w.dataKey,O=w.children,L=w.minPointSize,F=T==="horizontal"?h:u,B=p?F.scale.domain():null,U=getBaseValueOfBar({numericAxis:F}),V=findAllByType(O,Cell),q=v.map(function(H,G){var Y,Q,ie,ae,le,he;p?Y=truncateByDomain(p[m+G],B):(Y=getValueByDataKey(H,C),Array.isArray(Y)||(Y=[U,Y]));var ge=minPointSizeCallback(L,_Bar.defaultProps.minPointSize)(Y[1],G);if(T==="horizontal"){var J,se=[h.scale(Y[0]),h.scale(Y[1])],ce=se[0],te=se[1];Q=getCateCoordinateOfBar({axis:u,ticks:f,bandSize:l,offset:S.offset,entry:H,index:G}),ie=(J=te??ce)!==null&&J!==void 0?J:void 0,ae=S.size;var fe=ce-te;if(le=Number.isNaN(fe)?0:fe,he={x:Q,y:h.y,width:ae,height:h.height},Math.abs(ge)>0&&Math.abs(le)<Math.abs(ge)){var _e=mathSign(le||ge)*(Math.abs(ge)-Math.abs(le));ie-=_e,le+=_e}}else{var ye=[u.scale(Y[0]),u.scale(Y[1])],xe=ye[0],Me=ye[1];if(Q=xe,ie=getCateCoordinateOfBar({axis:h,ticks:d,bandSize:l,offset:S.offset,entry:H,index:G}),ae=Me-xe,le=S.size,he={x:u.x,y:ie,width:u.width,height:le},Math.abs(ge)>0&&Math.abs(ae)<Math.abs(ge)){var be=mathSign(ae||ge)*(Math.abs(ge)-Math.abs(ae));ae+=be}}return _objectSpread$8(_objectSpread$8(_objectSpread$8({},H),{},{x:Q,y:ie,width:ae,height:le,value:p?Y:Y[1],payload:H,background:he},V&&V[G]&&V[G].props),{},{tooltipPayload:[getTooltipItem(n,H)],tooltipPosition:{x:Q+ae/2,y:ie+le/2}})});return _objectSpread$8({data:q,layout:T},_)});function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$a(o.key),o)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(o){_defineProperty$a(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$a(t,e,n){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$a(e)=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(_typeof$a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$a(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var formatAxisMap=function t(e,n,o,l,u){var h=e.width,f=e.height,d=e.layout,p=e.children,m=Object.keys(n),v={left:o.left,leftMirror:o.left,right:h-o.right,rightMirror:h-o.right,top:o.top,topMirror:o.top,bottom:f-o.bottom,bottomMirror:f-o.bottom},_=!!findChildByType(p,Bar);return m.reduce(function(S,T){var A=n[T],w=A.orientation,C=A.domain,O=A.padding,L=O===void 0?{}:O,F=A.mirror,B=A.reversed,U="".concat(w).concat(F?"Mirror":""),V,q,H,G,Y;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var Q=C[1]-C[0],ie=1/0,ae=A.categoricalDomain.sort(compareValues);if(ae.forEach(function(ye,xe){xe>0&&(ie=Math.min((ye||0)-(ae[xe-1]||0),ie))}),Number.isFinite(ie)){var le=ie/Q,he=A.layout==="vertical"?o.height:o.width;if(A.padding==="gap"&&(V=le*he/2),A.padding==="no-gap"){var ge=getPercentValue(e.barCategoryGap,le*he),J=le*he/2;V=J-ge-(J-ge)/he*ge}}}l==="xAxis"?q=[o.left+(L.left||0)+(V||0),o.left+o.width-(L.right||0)-(V||0)]:l==="yAxis"?q=d==="horizontal"?[o.top+o.height-(L.bottom||0),o.top+(L.top||0)]:[o.top+(L.top||0)+(V||0),o.top+o.height-(L.bottom||0)-(V||0)]:q=A.range,B&&(q=[q[1],q[0]]);var se=parseScale(A,u,_),ce=se.scale,te=se.realScaleType;ce.domain(C).range(q),checkDomainOfScale(ce);var fe=getTicksOfScale(ce,_objectSpread$7(_objectSpread$7({},A),{},{realScaleType:te}));l==="xAxis"?(Y=w==="top"&&!F||w==="bottom"&&F,H=o.left,G=v[U]-Y*A.height):l==="yAxis"&&(Y=w==="left"&&!F||w==="right"&&F,H=v[U]-Y*A.width,G=o.top);var _e=_objectSpread$7(_objectSpread$7(_objectSpread$7({},A),fe),{},{realScaleType:te,x:H,y:G,scale:ce,width:l==="xAxis"?o.width:A.width,height:l==="yAxis"?o.height:A.height});return _e.bandSize=getBandSizeOfAxis(_e,fe),!A.hide&&l==="xAxis"?v[U]+=(Y?-1:1)*_e.height:A.hide||(v[U]+=(Y?-1:1)*_e.width),_objectSpread$7(_objectSpread$7({},S),{},_defineProperty$a({},T,_e))},{})},rectWithPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,h=n.y;return{x:Math.min(o,u),y:Math.min(l,h),width:Math.abs(u-o),height:Math.abs(h-l)}},rectWithCoords=function t(e){var n=e.x1,o=e.y1,l=e.x2,u=e.y2;return rectWithPoints({x:n,y:o},{x:l,y:u})},ScaleHelper=function(){function t(e){_classCallCheck$8(this,t),this.scale=e}return _createClass$8(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;if(n!==void 0){if(u)switch(u){case"start":return this.scale(n);case"middle":{var h=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+h}case"end":{var f=this.bandwidth?this.bandwidth():0;return this.scale(n)+f}default:return this.scale(n)}if(l){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var o=this.range(),l=o[0],u=o[o.length-1];return l<=u?n>=l&&n<=u:n>=u&&n<=l}}],[{key:"create",value:function(n){return new t(n)}}])}();_defineProperty$a(ScaleHelper,"EPS",1e-4);var createLabeledScales=function t(e){var n=Object.keys(e).reduce(function(o,l){return _objectSpread$7(_objectSpread$7({},o),{},_defineProperty$a({},l,ScaleHelper.create(e[l])))},{});return _objectSpread$7(_objectSpread$7({},n),{},{apply:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.bandAware,f=u.position;return mapValues(l,function(d,p){return n[p].apply(d,{bandAware:h,position:f})})},isInRange:function(l){return every(l,function(u,h){return n[h].isInRange(u)})}})};function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var n=e.width,o=e.height,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(l),h=u*Math.PI/180,f=Math.atan(o/n),d=h>f&&h<Math.PI-f?o/Math.sin(h):n/Math.cos(h);return Math.abs(d)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var t=require_baseIteratee(),e=requireIsArrayLike(),n=requireKeys();function o(l){return function(u,h,f){var d=Object(u);if(!e(u)){var p=t(h,3);u=n(u),h=function(v){return p(d[v],v,d)}}var m=l(u,h,f);return m>-1?d[p?u[m]:m]:void 0}}return _createFind=o,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var t=requireToFinite();function e(n){var o=t(n),l=o%1;return o===o?l?o-l:o:0}return toInteger_1=e,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var t=require_baseFindIndex(),e=require_baseIteratee(),n=requireToInteger(),o=Math.max;function l(u,h,f){var d=u==null?0:u.length;if(!d)return-1;var p=f==null?0:n(f);return p<0&&(p=o(d+p,0)),t(u,e(h,3),p)}return findIndex_1=l,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var t=require_createFind(),e=requireFindIndex(),n=t(e);return find_1=n,find_1}requireFind();var memoizeExports=requireMemoize();const memoize=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function t(e){var n=e.state,o=n.xAxisMap,l=n.yAxisMap,u=n.offset,h=e.clipPathId,f=e.children,d=e.width,p=e.height,m=calculateViewBox(u);return React.createElement(XAxisContext.Provider,{value:o},React.createElement(YAxisContext.Provider,{value:l},React.createElement(OffsetContext.Provider,{value:u},React.createElement(ViewBoxContext.Provider,{value:m},React.createElement(ClipPathIdContext.Provider,{value:h},React.createElement(ChartHeightContext.Provider,{value:p},React.createElement(ChartWidthContext.Provider,{value:d},f)))))))},useClipPathId=function t(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function t(e){var n=reactExports.useContext(XAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useYAxisOrThrow=function t(e){var n=reactExports.useContext(YAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useViewBox=function t(){var e=reactExports.useContext(ViewBoxContext);return e},useChartWidth=function t(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function t(){return reactExports.useContext(ChartHeightContext)};function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$9(o.key),o)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$6(t,e,n){return e=_getPrototypeOf$6(e),_possibleConstructorReturn$6(t,_isNativeReflectConstruct$6()?Reflect.construct(e,n||[],_getPrototypeOf$6(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$6(t,e){if(e&&(_typeof$9(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(t)}function _assertThisInitialized$6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!t})()}function _getPrototypeOf$6(t){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$6(t)}function _inherits$6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$6(t,e)}function _setPrototypeOf$6(t,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$6(t,e)}function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(o){_defineProperty$9(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$9(t,e,n){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$9(e)=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(_typeof$9(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$9(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$2(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(t,e)}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$6.apply(this,arguments)}var renderLine=function t(e,n){var o;return React.isValidElement(e)?o=React.cloneElement(e,n):isFunction(e)?o=e(n):o=React.createElement("line",_extends$6({},n,{className:"recharts-reference-line-line"})),o},getEndPoints=function t(e,n,o,l,u,h,f,d,p){var m=u.x,v=u.y,_=u.width,S=u.height;if(o){var T=p.y,A=e.y.apply(T,{position:h});if(ifOverflowMatches(p,"discard")&&!e.y.isInRange(A))return null;var w=[{x:m+_,y:A},{x:m,y:A}];return d==="left"?w.reverse():w}if(n){var C=p.x,O=e.x.apply(C,{position:h});if(ifOverflowMatches(p,"discard")&&!e.x.isInRange(O))return null;var L=[{x:O,y:v+S},{x:O,y:v}];return f==="top"?L.reverse():L}if(l){var F=p.segment,B=F.map(function(U){return e.apply(U,{position:h})});return ifOverflowMatches(p,"discard")&&some(B,function(U){return!e.isInRange(U)})?null:B}return null};function ReferenceLineImpl(t){var e=t.x,n=t.y,o=t.segment,l=t.xAxisId,u=t.yAxisId,h=t.shape,f=t.className,d=t.alwaysShow,p=useClipPathId(),m=useXAxisOrThrow(l),v=useYAxisOrThrow(u),_=useViewBox();if(!p||!_)return null;warn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=createLabeledScales({x:m.scale,y:v.scale}),T=isNumOrStr(e),A=isNumOrStr(n),w=o&&o.length===2,C=getEndPoints(S,T,A,w,_,t.position,m.orientation,v.orientation,t);if(!C)return null;var O=_slicedToArray$1(C,2),L=O[0],F=L.x,B=L.y,U=O[1],V=U.x,q=U.y,H=ifOverflowMatches(t,"hidden")?"url(#".concat(p,")"):void 0,G=_objectSpread$6(_objectSpread$6({clipPath:H},filterProps(t,!0)),{},{x1:F,y1:B,x2:V,y2:q});return React.createElement(Layer,{className:clsx("recharts-reference-line",f)},renderLine(h,G),Label.renderCallByParent(t,rectWithCoords({x1:F,y1:B,x2:V,y2:q})))}var ReferenceLine=function(t){function e(){return _classCallCheck$7(this,e),_callSuper$6(this,e,arguments)}return _inherits$6(e,t),_createClass$7(e,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$9(ReferenceLine,"displayName","ReferenceLine");_defineProperty$9(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$5.apply(this,arguments)}function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(o){_defineProperty$8(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$8(o.key),o)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$5(t,e,n){return e=_getPrototypeOf$5(e),_possibleConstructorReturn$5(t,_isNativeReflectConstruct$5()?Reflect.construct(e,n||[],_getPrototypeOf$5(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$5(t,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(t)}function _assertThisInitialized$5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!t})()}function _getPrototypeOf$5(t){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$5(t)}function _inherits$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$5(t,e)}function _setPrototypeOf$5(t,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$5(t,e)}function _defineProperty$8(t,e,n){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$8(e)=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(_typeof$8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$8(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getCoordinate=function t(e){var n=e.x,o=e.y,l=e.xAxis,u=e.yAxis,h=createLabeledScales({x:l.scale,y:u.scale}),f=h.apply({x:n,y:o},{bandAware:!0});return ifOverflowMatches(e,"discard")&&!h.isInRange(f)?null:f},ReferenceDot=function(t){function e(){return _classCallCheck$6(this,e),_callSuper$5(this,e,arguments)}return _inherits$5(e,t),_createClass$6(e,[{key:"render",value:function(){var o=this.props,l=o.x,u=o.y,h=o.r,f=o.alwaysShow,d=o.clipPathId,p=isNumOrStr(l),m=isNumOrStr(u);if(warn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!m)return null;var v=getCoordinate(this.props);if(!v)return null;var _=v.x,S=v.y,T=this.props,A=T.shape,w=T.className,C=ifOverflowMatches(this.props,"hidden")?"url(#".concat(d,")"):void 0,O=_objectSpread$5(_objectSpread$5({clipPath:C},filterProps(this.props,!0)),{},{cx:_,cy:S});return React.createElement(Layer,{className:clsx("recharts-reference-dot",w)},e.renderDot(A,O),Label.renderCallByParent(this.props,{x:_-h,y:S-h,width:2*h,height:2*h}))}}])}(React.Component);_defineProperty$8(ReferenceDot,"displayName","ReferenceDot");_defineProperty$8(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$8(ReferenceDot,"renderDot",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Dot,_extends$5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$4.apply(this,arguments)}function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(o){_defineProperty$7(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$7(o.key),o)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$4(t,e,n){return e=_getPrototypeOf$4(e),_possibleConstructorReturn$4(t,_isNativeReflectConstruct$4()?Reflect.construct(e,n||[],_getPrototypeOf$4(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$4(t,e){if(e&&(_typeof$7(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(t)}function _assertThisInitialized$4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!t})()}function _getPrototypeOf$4(t){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$4(t)}function _inherits$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$4(t,e)}function _setPrototypeOf$4(t,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$4(t,e)}function _defineProperty$7(t,e,n){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(_typeof$7(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$7(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getRect=function t(e,n,o,l,u){var h=u.x1,f=u.x2,d=u.y1,p=u.y2,m=u.xAxis,v=u.yAxis;if(!m||!v)return null;var _=createLabeledScales({x:m.scale,y:v.scale}),S={x:e?_.x.apply(h,{position:"start"}):_.x.rangeMin,y:o?_.y.apply(d,{position:"start"}):_.y.rangeMin},T={x:n?_.x.apply(f,{position:"end"}):_.x.rangeMax,y:l?_.y.apply(p,{position:"end"}):_.y.rangeMax};return ifOverflowMatches(u,"discard")&&(!_.isInRange(S)||!_.isInRange(T))?null:rectWithPoints(S,T)},ReferenceArea=function(t){function e(){return _classCallCheck$5(this,e),_callSuper$4(this,e,arguments)}return _inherits$4(e,t),_createClass$5(e,[{key:"render",value:function(){var o=this.props,l=o.x1,u=o.x2,h=o.y1,f=o.y2,d=o.className,p=o.alwaysShow,m=o.clipPathId;warn(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=isNumOrStr(l),_=isNumOrStr(u),S=isNumOrStr(h),T=isNumOrStr(f),A=this.props.shape;if(!v&&!_&&!S&&!T&&!A)return null;var w=getRect(v,_,S,T,this.props);if(!w&&!A)return null;var C=ifOverflowMatches(this.props,"hidden")?"url(#".concat(m,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",d)},e.renderRect(A,_objectSpread$4(_objectSpread$4({clipPath:C},filterProps(this.props,!0)),w)),Label.renderCallByParent(this.props,w))}}])}(React.Component);_defineProperty$7(ReferenceArea,"displayName","ReferenceArea");_defineProperty$7(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$7(ReferenceArea,"renderRect",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Rectangle,_extends$4({},e,{className:"recharts-reference-area-rect"})),n});function getEveryNthWithCondition(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var o=[],l=0;l<t.length;l+=e)o.push(t[l]);return o}function getAngledTickWidth(t,e,n){var o={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(o,n)}function getTickBoundaries(t,e,n){var o=n==="width",l=t.x,u=t.y,h=t.width,f=t.height;return e===1?{start:o?l:u,end:o?l+h:u+f}:{start:o?l+h:u+f,end:o?l:u}}function isVisible(t,e,n,o,l){if(t*e<t*o||t*e>t*l)return!1;var u=n();return t*(e-t*u/2-o)>=0&&t*(e+t*u/2-l)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,n,o,l){for(var u=(o||[]).slice(),h=e.start,f=e.end,d=0,p=1,m=h,v=function(){var T=o==null?void 0:o[d];if(T===void 0)return{v:getEveryNthWithCondition(o,p)};var A=d,w,C=function(){return w===void 0&&(w=n(T,A)),w},O=T.coordinate,L=d===0||isVisible(t,O,C,m,f);L||(d=0,m=h,p+=1),L&&(m=O+t*(C()/2+l),d+=p)},_;p<=u.length;)if(_=v(),_)return _.v;return[]}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(o){_defineProperty$6(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$6(t,e,n){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(_typeof$6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$6(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,n,o,l){for(var u=(o||[]).slice(),h=u.length,f=e.start,d=e.end,p=function(_){var S=u[_],T,A=function(){return T===void 0&&(T=n(S,_)),T};if(_===h-1){var w=t*(S.coordinate+t*A()/2-d);u[_]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:w>0?S.coordinate-w*t:S.coordinate})}else u[_]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:S.coordinate});var C=isVisible(t,S.tickCoord,A,f,d);C&&(d=S.tickCoord-t*(A()/2+l),u[_]=_objectSpread$3(_objectSpread$3({},S),{},{isShow:!0}))},m=h-1;m>=0;m--)p(m);return u}function getTicksStart(t,e,n,o,l,u){var h=(o||[]).slice(),f=h.length,d=e.start,p=e.end;if(u){var m=o[f-1],v=n(m,f-1),_=t*(m.coordinate+t*v/2-p);h[f-1]=m=_objectSpread$3(_objectSpread$3({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate});var S=isVisible(t,m.tickCoord,function(){return v},d,p);S&&(p=m.tickCoord-t*(v/2+l),h[f-1]=_objectSpread$3(_objectSpread$3({},m),{},{isShow:!0}))}for(var T=u?f-1:f,A=function(O){var L=h[O],F,B=function(){return F===void 0&&(F=n(L,O)),F};if(O===0){var U=t*(L.coordinate-t*B()/2-d);h[O]=L=_objectSpread$3(_objectSpread$3({},L),{},{tickCoord:U<0?L.coordinate-U*t:L.coordinate})}else h[O]=L=_objectSpread$3(_objectSpread$3({},L),{},{tickCoord:L.coordinate});var V=isVisible(t,L.tickCoord,B,d,p);V&&(d=L.tickCoord+t*(B()/2+l),h[O]=_objectSpread$3(_objectSpread$3({},L),{},{isShow:!0}))},w=0;w<T;w++)A(w);return h}function getTicks(t,e,n){var o=t.tick,l=t.ticks,u=t.viewBox,h=t.minTickGap,f=t.orientation,d=t.interval,p=t.tickFormatter,m=t.unit,v=t.angle;if(!l||!l.length||!o)return[];if(isNumber(d)||Global.isSsr)return getNumberIntervalTicks(l,typeof d=="number"&&isNumber(d)?d:0);var _=[],S=f==="top"||f==="bottom"?"width":"height",T=m&&S==="width"?getStringSize(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(L,F){var B=isFunction(p)?p(L.value,F):L.value;return S==="width"?getAngledTickWidth(getStringSize(B,{fontSize:e,letterSpacing:n}),T,v):getStringSize(B,{fontSize:e,letterSpacing:n})[S]},w=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,C=getTickBoundaries(u,w,S);return d==="equidistantPreserveStart"?getEquidistantTicks(w,C,A,l,h):(d==="preserveStart"||d==="preserveStartEnd"?_=getTicksStart(w,C,A,l,h,d==="preserveStartEnd"):_=getTicksEnd(w,C,A,l,h),_.filter(function(O){return O.isShow}))}var _excluded$1=["viewBox"],_excluded2$1=["viewBox"],_excluded3=["ticks"];function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$3.apply(this,arguments)}function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(o){_defineProperty$5(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _objectWithoutProperties$1(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$1(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$5(o.key),o)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$3(t,e,n){return e=_getPrototypeOf$3(e),_possibleConstructorReturn$3(t,_isNativeReflectConstruct$3()?Reflect.construct(e,n||[],_getPrototypeOf$3(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$3(t,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(t)}function _assertThisInitialized$3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!t})()}function _getPrototypeOf$3(t){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$3(t)}function _inherits$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$3(t,e)}function _setPrototypeOf$3(t,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$3(t,e)}function _defineProperty$5(t,e,n){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$5(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CartesianAxis=function(t){function e(n){var o;return _classCallCheck$4(this,e),o=_callSuper$3(this,e,[n]),o.state={fontSize:"",letterSpacing:""},o}return _inherits$3(e,t),_createClass$4(e,[{key:"shouldComponentUpdate",value:function(o,l){var u=o.viewBox,h=_objectWithoutProperties$1(o,_excluded$1),f=this.props,d=f.viewBox,p=_objectWithoutProperties$1(f,_excluded2$1);return!shallowEqual(u,d)||!shallowEqual(h,p)||!shallowEqual(l,this.state)}},{key:"componentDidMount",value:function(){var o=this.layerReference;if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];l&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}},{key:"getTickLineCoord",value:function(o){var l=this.props,u=l.x,h=l.y,f=l.width,d=l.height,p=l.orientation,m=l.tickSize,v=l.mirror,_=l.tickMargin,S,T,A,w,C,O,L=v?-1:1,F=o.tickSize||m,B=isNumber(o.tickCoord)?o.tickCoord:o.coordinate;switch(p){case"top":S=T=o.coordinate,w=h+ +!v*d,A=w-L*F,O=A-L*_,C=B;break;case"left":A=w=o.coordinate,T=u+ +!v*f,S=T-L*F,C=S-L*_,O=B;break;case"right":A=w=o.coordinate,T=u+ +v*f,S=T+L*F,C=S+L*_,O=B;break;default:S=T=o.coordinate,w=h+ +v*d,A=w+L*F,O=A+L*_,C=B;break}return{line:{x1:S,y1:A,x2:T,y2:w},tick:{x:C,y:O}}}},{key:"getTickTextAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,h;switch(l){case"left":h=u?"start":"end";break;case"right":h=u?"end":"start";break;default:h="middle";break}return h}},{key:"getTickVerticalAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,h="end";switch(l){case"left":case"right":h="middle";break;case"top":h=u?"start":"end";break;default:h=u?"end":"start";break}return h}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.orientation,p=o.mirror,m=o.axisLine,v=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(this.props,!1)),filterProps(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!p||d==="bottom"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l,y1:u+_*f,x2:l+h,y2:u+_*f})}else{var S=+(d==="left"&&!p||d==="right"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l+S*h,y1:u,x2:l+S*h,y2:u+f})}return React.createElement("line",_extends$3({},v,{className:clsx("recharts-cartesian-axis-line",get(m,"className"))}))}},{key:"renderTicks",value:function(o,l,u){var h=this,f=this.props,d=f.tickLine,p=f.stroke,m=f.tick,v=f.tickFormatter,_=f.unit,S=getTicks(_objectSpread$2(_objectSpread$2({},this.props),{},{ticks:o}),l,u),T=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),w=filterProps(this.props,!1),C=filterProps(m,!1),O=_objectSpread$2(_objectSpread$2({},w),{},{fill:"none"},filterProps(d,!1)),L=S.map(function(F,B){var U=h.getTickLineCoord(F),V=U.line,q=U.tick,H=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({textAnchor:T,verticalAnchor:A},w),{},{stroke:"none",fill:p},C),q),{},{index:B,payload:F,visibleTicksCount:S.length,tickFormatter:v});return React.createElement(Layer,_extends$3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},adaptEventsOfChild(h.props,F,B)),d&&React.createElement("line",_extends$3({},O,V,{className:clsx("recharts-cartesian-axis-tick-line",get(d,"className"))})),m&&e.renderTickItem(m,H,"".concat(isFunction(v)?v(F.value,B):F.value).concat(_||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},L)}},{key:"render",value:function(){var o=this,l=this.props,u=l.axisLine,h=l.width,f=l.height,d=l.ticksGenerator,p=l.className,m=l.hide;if(m)return null;var v=this.props,_=v.ticks,S=_objectWithoutProperties$1(v,_excluded3),T=_;return isFunction(d)&&(T=_&&_.length>0?d(this.props):d(S)),h<=0||f<=0||!T||!T.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",p),ref:function(w){o.layerReference=w}},u&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(o,l,u){var h;return React.isValidElement(o)?h=React.cloneElement(o,l):isFunction(o)?h=o(l):h=React.createElement(Text,_extends$3({},l,{className:"recharts-cartesian-axis-tick-value"}),u),h}}])}(reactExports.Component);_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$4(o.key),o)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$2(t,e,n){return e=_getPrototypeOf$2(e),_possibleConstructorReturn$2(t,_isNativeReflectConstruct$2()?Reflect.construct(e,n||[],_getPrototypeOf$2(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$2(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!t})()}function _getPrototypeOf$2(t){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$2(t)}function _inherits$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$2(t,e)}function _defineProperty$4(t,e,n){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$4(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$4(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$2.apply(this,arguments)}function XAxisImpl(t){var e=t.xAxisId,n=useChartWidth(),o=useChartHeight(),l=useXAxisOrThrow(e);return l==null?null:React.createElement(CartesianAxis,_extends$2({},l,{className:clsx("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:n,height:o},ticksGenerator:function(h){return getTicksOfAxis(h,!0)}}))}var XAxis=function(t){function e(){return _classCallCheck$3(this,e),_callSuper$2(this,e,arguments)}return _inherits$2(e,t),_createClass$3(e,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$3(o.key),o)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$1(t,e,n){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(e,n||[],_getPrototypeOf$1(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!t})()}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(t)}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(t,e)}function _defineProperty$3(t,e,n){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$3(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$1.apply(this,arguments)}var YAxisImpl=function t(e){var n=e.yAxisId,o=useChartWidth(),l=useChartHeight(),u=useYAxisOrThrow(n);return u==null?null:React.createElement(CartesianAxis,_extends$1({},u,{className:clsx("recharts-".concat(u.axisType," ").concat(u.axisType),u.className),viewBox:{x:0,y:0,width:o,height:l},ticksGenerator:function(f){return getTicksOfAxis(f,!0)}}))},YAxis=function(t){function e(){return _classCallCheck$2(this,e),_callSuper$1(this,e,arguments)}return _inherits$1(e,t),_createClass$2(e,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var detectReferenceElementsDomain=function t(e,n,o,l,u){var h=findAllByType(e,ReferenceLine),f=findAllByType(e,ReferenceDot),d=[].concat(_toConsumableArray$1(h),_toConsumableArray$1(f)),p=findAllByType(e,ReferenceArea),m="".concat(l,"Id"),v=l[0],_=n;if(d.length&&(_=d.reduce(function(A,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[v])){var C=w.props[v];return[Math.min(A[0],C),Math.max(A[1],C)]}return A},_)),p.length){var S="".concat(v,"1"),T="".concat(v,"2");_=p.reduce(function(A,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[S])&&isNumber(w.props[T])){var C=w.props[S],O=w.props[T];return[Math.min(A[0],C,O),Math.max(A[1],C,O)]}return A},_)}return u&&u.length&&(_=u.reduce(function(A,w){return isNumber(w)?[Math.min(A[0],w),Math.max(A[1],w)]:A},_)),_},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function l(d,p,m){this.fn=d,this.context=p,this.once=m||!1}function u(d,p,m,v,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new l(m,v||d,_),T=n?n+p:p;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],S]:d._events[T].push(S):(d._events[T]=S,d._eventsCount++),d}function h(d,p){--d._eventsCount===0?d._events=new o:delete d._events[p]}function f(){this._events=new o,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],m,v;if(this._eventsCount===0)return p;for(v in m=this._events)e.call(m,v)&&p.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},f.prototype.listeners=function(p){var m=n?n+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,S=v.length,T=new Array(S);_<S;_++)T[_]=v[_].fn;return T},f.prototype.listenerCount=function(p){var m=n?n+p:p,v=this._events[m];return v?v.fn?1:v.length:0},f.prototype.emit=function(p,m,v,_,S,T){var A=n?n+p:p;if(!this._events[A])return!1;var w=this._events[A],C=arguments.length,O,L;if(w.fn){switch(w.once&&this.removeListener(p,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,v),!0;case 4:return w.fn.call(w.context,m,v,_),!0;case 5:return w.fn.call(w.context,m,v,_,S),!0;case 6:return w.fn.call(w.context,m,v,_,S,T),!0}for(L=1,O=new Array(C-1);L<C;L++)O[L-1]=arguments[L];w.fn.apply(w.context,O)}else{var F=w.length,B;for(L=0;L<F;L++)switch(w[L].once&&this.removeListener(p,w[L].fn,void 0,!0),C){case 1:w[L].fn.call(w[L].context);break;case 2:w[L].fn.call(w[L].context,m);break;case 3:w[L].fn.call(w[L].context,m,v);break;case 4:w[L].fn.call(w[L].context,m,v,_);break;default:if(!O)for(B=1,O=new Array(C-1);B<C;B++)O[B-1]=arguments[B];w[L].fn.apply(w[L].context,O)}}return!0},f.prototype.on=function(p,m,v){return u(this,p,m,v,!1)},f.prototype.once=function(p,m,v){return u(this,p,m,v,!0)},f.prototype.removeListener=function(p,m,v,_){var S=n?n+p:p;if(!this._events[S])return this;if(!m)return h(this,S),this;var T=this._events[S];if(T.fn)T.fn===m&&(!_||T.once)&&(!v||T.context===v)&&h(this,S);else{for(var A=0,w=[],C=T.length;A<C;A++)(T[A].fn!==m||_&&!T[A].once||v&&T[A].context!==v)&&w.push(T[A]);w.length?this._events[S]=w.length===1?w[0]:w:h(this,S)}return this},f.prototype.removeAllListeners=function(p){var m;return p?(m=n?n+p:p,this._events[m]&&h(this,m)):(this._events=new o,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,t.exports=f}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$2(o.key),o)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty$2(t,e,n){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$2(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AccessibilityManager=function(){function t(){_classCallCheck$1(this,t),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(t,[{key:"setDetails",value:function(n){var o,l=n.coordinateList,u=l===void 0?null:l,h=n.container,f=h===void 0?null:h,d=n.layout,p=d===void 0?null:d,m=n.offset,v=m===void 0?null:m,_=n.mouseHandlerCallback,S=_===void 0?null:_;this.coordinateList=(o=u??this.coordinateList)!==null&&o!==void 0?o:[],this.container=f??this.container,this.layout=p??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,o;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var l=this.container.getBoundingClientRect(),u=l.x,h=l.y,f=l.height,d=this.coordinateList[this.activeIndex].coordinate,p=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((o=window)===null||o===void 0?void 0:o.scrollY)||0,v=u+d+p,_=h+this.offset.top+f/2+m;this.mouseHandlerCallback({pageX:v,pageY:_})}}}])}();function isDomainSpecifiedByUser(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var o=t==null?void 0:t[0],l=t==null?void 0:t[1];if(o&&l&&isNumber(o)&&isNumber(l))return!0}return!1}function getCursorRectangle(t,e,n,o){var l=o/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-l:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-l,width:t==="horizontal"?o:n.width-1,height:t==="horizontal"?n.height-1:o}}function getRadialCursorPoints(t){var e=t.cx,n=t.cy,o=t.radius,l=t.startAngle,u=t.endAngle,h=polarToCartesian(e,n,o,l),f=polarToCartesian(e,n,o,u);return{points:[h,f],cx:e,cy:n,radius:o,startAngle:l,endAngle:u}}function getCursorPoints(t,e,n){var o,l,u,h;if(t==="horizontal")o=e.x,u=o,l=n.top,h=n.top+n.height;else if(t==="vertical")l=e.y,h=l,o=n.left,u=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var f=e.cx,d=e.cy,p=e.innerRadius,m=e.outerRadius,v=e.angle,_=polarToCartesian(f,d,p,v),S=polarToCartesian(f,d,m,v);o=_.x,l=_.y,u=S.x,h=S.y}else return getRadialCursorPoints(e);return[{x:o,y:l},{x:u,y:h}]}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(o){_defineProperty$1(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$1(t,e,n){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$1(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cursor(t){var e,n,o=t.element,l=t.tooltipEventType,u=t.isActive,h=t.activeCoordinate,f=t.activePayload,d=t.offset,p=t.activeTooltipIndex,m=t.tooltipAxisBandSize,v=t.layout,_=t.chartName,S=(e=o.props.cursor)!==null&&e!==void 0?e:(n=o.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!o||!S||!u||!h||_!=="ScatterChart"&&l!=="axis")return null;var T,A=Curve;if(_==="ScatterChart")T=h,A=Cross;else if(_==="BarChart")T=getCursorRectangle(v,h,d,m),A=Rectangle;else if(v==="radial"){var w=getRadialCursorPoints(h),C=w.cx,O=w.cy,L=w.radius,F=w.startAngle,B=w.endAngle;T={cx:C,cy:O,startAngle:F,endAngle:B,innerRadius:L,outerRadius:L},A=Sector}else T={points:getCursorPoints(v,h,d)},A=Curve;var U=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},d),T),filterProps(S,!1)),{},{payload:f,payloadIndex:p,className:clsx("recharts-tooltip-cursor",S.className)});return reactExports.isValidElement(S)?reactExports.cloneElement(S,U):reactExports.createElement(A,U)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends.apply(this,arguments)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectWithoutProperties(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(t){return t}var calculateTooltipPos=function t(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},getActiveCoordinate=function t(e,n,o,l){var u=n.find(function(m){return m&&m.index===o});if(u){if(e==="horizontal")return{x:u.coordinate,y:l.y};if(e==="vertical")return{x:l.x,y:u.coordinate};if(e==="centric"){var h=u.coordinate,f=l.radius;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,f,h)),{},{angle:h,radius:f})}var d=u.coordinate,p=l.angle;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,d,p)),{},{angle:p,radius:d})}return originCoordinate},getDisplayedData=function t(e,n){var o=n.graphicalItems,l=n.dataStartIndex,u=n.dataEndIndex,h=(o??[]).reduce(function(f,d){var p=d.props.data;return p&&p.length?[].concat(_toConsumableArray(f),_toConsumableArray(p)):f},[]);return h.length>0?h:e&&e.length&&isNumber(l)&&isNumber(u)?e.slice(l,u+1):[]};function getDefaultDomainByAxisType(t){return t==="number"?[0,"auto"]:void 0}var getTooltipContent=function t(e,n,o,l){var u=e.graphicalItems,h=e.tooltipAxis,f=getDisplayedData(n,e);return o<0||!u||!u.length||o>=f.length?null:u.reduce(function(d,p){var m,v=(m=p.props.data)!==null&&m!==void 0?m:n;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=o&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(h.dataKey&&!h.allowDuplicatedCategory){var S=v===void 0?f:v;_=findEntryInArray(S,h.dataKey,l)}else _=v&&v[o]||f[o];return _?[].concat(_toConsumableArray(d),[getTooltipItem(p,_)]):d},[])},getTooltipData=function t(e,n,o,l){var u=l||{x:e.chartX,y:e.chartY},h=calculateTooltipPos(u,o),f=e.orderedTooltipTicks,d=e.tooltipAxis,p=e.tooltipTicks,m=calculateActiveTickIndex(h,f,p,d);if(m>=0&&p){var v=p[m]&&p[m].value,_=getTooltipContent(e,n,m,v),S=getActiveCoordinate(o,f,m,u);return{activeTooltipIndex:m,activeLabel:v,activePayload:_,activeCoordinate:S}}return null},getAxisMapByAxes=function t(e,n){var o=n.axes,l=n.graphicalItems,u=n.axisType,h=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,_=e.stackOffset,S=isCategoricalAxis(m,u);return o.reduce(function(T,A){var w,C=A.type.defaultProps!==void 0?_objectSpread(_objectSpread({},A.type.defaultProps),A.props):A.props,O=C.type,L=C.dataKey,F=C.allowDataOverflow,B=C.allowDuplicatedCategory,U=C.scale,V=C.ticks,q=C.includeHidden,H=C[h];if(T[H])return T;var G=getDisplayedData(e.data,{graphicalItems:l.filter(function(fe){var _e,ye=h in fe.props?fe.props[h]:(_e=fe.type.defaultProps)===null||_e===void 0?void 0:_e[h];return ye===H}),dataStartIndex:d,dataEndIndex:p}),Y=G.length,Q,ie,ae;isDomainSpecifiedByUser(C.domain,F,O)&&(Q=parseSpecifiedDomain(C.domain,null,F),S&&(O==="number"||U!=="auto")&&(ae=getDomainOfDataByKey(G,L,"category")));var le=getDefaultDomainByAxisType(O);if(!Q||Q.length===0){var he,ge=(he=C.domain)!==null&&he!==void 0?he:le;if(L){if(Q=getDomainOfDataByKey(G,L,O),O==="category"&&S){var J=hasDuplicate(Q);B&&J?(ie=Q,Q=range(0,Y)):B||(Q=parseDomainOfCategoryAxis(ge,Q,A).reduce(function(fe,_e){return fe.indexOf(_e)>=0?fe:[].concat(_toConsumableArray(fe),[_e])},[]))}else if(O==="category")B?Q=Q.filter(function(fe){return fe!==""&&!isNil(fe)}):Q=parseDomainOfCategoryAxis(ge,Q,A).reduce(function(fe,_e){return fe.indexOf(_e)>=0||_e===""||isNil(_e)?fe:[].concat(_toConsumableArray(fe),[_e])},[]);else if(O==="number"){var se=parseErrorBarsOfAxis(G,l.filter(function(fe){var _e,ye,xe=h in fe.props?fe.props[h]:(_e=fe.type.defaultProps)===null||_e===void 0?void 0:_e[h],Me="hide"in fe.props?fe.props.hide:(ye=fe.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return xe===H&&(q||!Me)}),L,u,m);se&&(Q=se)}S&&(O==="number"||U!=="auto")&&(ae=getDomainOfDataByKey(G,L,"category"))}else S?Q=range(0,Y):f&&f[H]&&f[H].hasStack&&O==="number"?Q=_==="expand"?[0,1]:getDomainOfStackGroups(f[H].stackGroups,d,p):Q=getDomainOfItemsWithSameAxis(G,l.filter(function(fe){var _e=h in fe.props?fe.props[h]:fe.type.defaultProps[h],ye="hide"in fe.props?fe.props.hide:fe.type.defaultProps.hide;return _e===H&&(q||!ye)}),O,m,!0);if(O==="number")Q=detectReferenceElementsDomain(v,Q,H,u,V),ge&&(Q=parseSpecifiedDomain(ge,Q,F));else if(O==="category"&&ge){var ce=ge,te=Q.every(function(fe){return ce.indexOf(fe)>=0});te&&(Q=ce)}}return _objectSpread(_objectSpread({},T),{},_defineProperty({},H,_objectSpread(_objectSpread({},C),{},{axisType:u,domain:Q,categoricalDomain:ae,duplicateDomain:ie,originalDomain:(w=C.domain)!==null&&w!==void 0?w:le,isCategorical:S,layout:m})))},{})},getAxisMapByItems=function t(e,n){var o=n.graphicalItems,l=n.Axis,u=n.axisType,h=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,_=getDisplayedData(e.data,{graphicalItems:o,dataStartIndex:d,dataEndIndex:p}),S=_.length,T=isCategoricalAxis(m,u),A=-1;return o.reduce(function(w,C){var O=C.type.defaultProps!==void 0?_objectSpread(_objectSpread({},C.type.defaultProps),C.props):C.props,L=O[h],F=getDefaultDomainByAxisType("number");if(!w[L]){A++;var B;return T?B=range(0,S):f&&f[L]&&f[L].hasStack?(B=getDomainOfStackGroups(f[L].stackGroups,d,p),B=detectReferenceElementsDomain(v,B,L,u)):(B=parseSpecifiedDomain(F,getDomainOfItemsWithSameAxis(_,o.filter(function(U){var V,q,H=h in U.props?U.props[h]:(V=U.type.defaultProps)===null||V===void 0?void 0:V[h],G="hide"in U.props?U.props.hide:(q=U.type.defaultProps)===null||q===void 0?void 0:q.hide;return H===L&&!G}),"number",m),l.defaultProps.allowDataOverflow),B=detectReferenceElementsDomain(v,B,L,u)),_objectSpread(_objectSpread({},w),{},_defineProperty({},L,_objectSpread(_objectSpread({axisType:u},l.defaultProps),{},{hide:!0,orientation:get(ORIENT_MAP,"".concat(u,".").concat(A%2),null),domain:B,originalDomain:F,isCategorical:T,layout:m})))}return w},{})},getAxisMap=function t(e,n){var o=n.axisType,l=o===void 0?"xAxis":o,u=n.AxisComp,h=n.graphicalItems,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.children,v="".concat(l,"Id"),_=findAllByType(m,u),S={};return _&&_.length?S=getAxisMapByAxes(e,{axes:_,graphicalItems:h,axisType:l,axisIdKey:v,stackGroups:f,dataStartIndex:d,dataEndIndex:p}):h&&h.length&&(S=getAxisMapByItems(e,{Axis:u,graphicalItems:h,axisType:l,axisIdKey:v,stackGroups:f,dataStartIndex:d,dataEndIndex:p})),S},tooltipTicksGenerator=function t(e){var n=getAnyElementOfObject(e),o=getTicksOfAxis(n,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:sortBy(o,function(l){return l.coordinate}),tooltipAxis:n,tooltipAxisBandSize:getBandSizeOfAxis(n,o)}},createDefaultState=function t(e){var n=e.children,o=e.defaultShowTooltip,l=findChildByType(n,Brush),u=0,h=0;return e.data&&e.data.length!==0&&(h=e.data.length-1),l&&l.props&&(l.props.startIndex>=0&&(u=l.props.startIndex),l.props.endIndex>=0&&(h=l.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:u,dataEndIndex:h,activeTooltipIndex:-1,isTooltipActive:!!o}},hasGraphicalBarItem=function t(e){return!e||!e.length?!1:e.some(function(n){var o=getDisplayName(n&&n.type);return o&&o.indexOf("Bar")>=0})},getAxisNameByLayout=function t(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function t(e,n){var o=e.props,l=e.graphicalItems,u=e.xAxisMap,h=u===void 0?{}:u,f=e.yAxisMap,d=f===void 0?{}:f,p=o.width,m=o.height,v=o.children,_=o.margin||{},S=findChildByType(v,Brush),T=findChildByType(v,Legend),A=Object.keys(d).reduce(function(B,U){var V=d[U],q=V.orientation;return!V.mirror&&!V.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},q,B[q]+V.width)):B},{left:_.left||0,right:_.right||0}),w=Object.keys(h).reduce(function(B,U){var V=h[U],q=V.orientation;return!V.mirror&&!V.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},q,get(B,"".concat(q))+V.height)):B},{top:_.top||0,bottom:_.bottom||0}),C=_objectSpread(_objectSpread({},w),A),O=C.bottom;S&&(C.bottom+=S.props.height||Brush.defaultProps.height),T&&n&&(C=appendOffsetOfLegend(C,l,o,n));var L=p-C.left-C.right,F=m-C.top-C.bottom;return _objectSpread(_objectSpread({brushBottom:O},C),{},{width:Math.max(L,0),height:Math.max(F,0)})},getCartesianAxisSize=function t(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},generateCategoricalChart=function t(e){var n=e.chartName,o=e.GraphicalChild,l=e.defaultTooltipEventType,u=l===void 0?"axis":l,h=e.validateTooltipEventTypes,f=h===void 0?["axis"]:h,d=e.axisComponents,p=e.legendContent,m=e.formatAxisMap,v=e.defaultProps,_=function(C,O){var L=O.graphicalItems,F=O.stackGroups,B=O.offset,U=O.updateId,V=O.dataStartIndex,q=O.dataEndIndex,H=C.barSize,G=C.layout,Y=C.barGap,Q=C.barCategoryGap,ie=C.maxBarSize,ae=getAxisNameByLayout(G),le=ae.numericAxisName,he=ae.cateAxisName,ge=hasGraphicalBarItem(L),J=[];return L.forEach(function(se,ce){var te=getDisplayedData(C.data,{graphicalItems:[se],dataStartIndex:V,dataEndIndex:q}),fe=se.type.defaultProps!==void 0?_objectSpread(_objectSpread({},se.type.defaultProps),se.props):se.props,_e=fe.dataKey,ye=fe.maxBarSize,xe=fe["".concat(le,"Id")],Me=fe["".concat(he,"Id")],be={},Ce=d.reduce(function(ke,ct){var me=O["".concat(ct.axisType,"Map")],ue=fe["".concat(ct.axisType,"Id")];me&&me[ue]||ct.axisType==="zAxis"||invariant();var Ae=me[ue];return _objectSpread(_objectSpread({},ke),{},_defineProperty(_defineProperty({},ct.axisType,Ae),"".concat(ct.axisType,"Ticks"),getTicksOfAxis(Ae)))},be),Re=Ce[he],Ne=Ce["".concat(he,"Ticks")],Oe=F&&F[xe]&&F[xe].hasStack&&getStackedDataOfItem(se,F[xe].stackGroups),Te=getDisplayName(se.type).indexOf("Bar")>=0,tt=getBandSizeOfAxis(Re,Ne),de=[],Xe=ge&&getBarSizeList({barSize:H,stackGroups:F,totalSize:getCartesianAxisSize(Ce,he)});if(Te){var qe,Ye,Ie=isNil(ye)?ie:ye,et=(qe=(Ye=getBandSizeOfAxis(Re,Ne,!0))!==null&&Ye!==void 0?Ye:Ie)!==null&&qe!==void 0?qe:0;de=getBarPosition({barGap:Y,barCategoryGap:Q,bandSize:et!==tt?et:tt,sizeList:Xe[Me],maxBarSize:Ie}),et!==tt&&(de=de.map(function(ke){return _objectSpread(_objectSpread({},ke),{},{position:_objectSpread(_objectSpread({},ke.position),{},{offset:ke.position.offset-et/2})})}))}var Ue=se&&se.type&&se.type.getComposedData;Ue&&J.push({props:_objectSpread(_objectSpread({},Ue(_objectSpread(_objectSpread({},Ce),{},{displayedData:te,props:C,dataKey:_e,item:se,bandSize:tt,barPosition:de,offset:B,stackedData:Oe,layout:G,dataStartIndex:V,dataEndIndex:q}))),{},_defineProperty(_defineProperty(_defineProperty({key:se.key||"item-".concat(ce)},le,Ce[le]),he,Ce[he]),"animationId",U)),childIndex:parseChildIndex(se,C.children),item:se})}),J},S=function(C,O){var L=C.props,F=C.dataStartIndex,B=C.dataEndIndex,U=C.updateId;if(!validateWidthHeight({props:L}))return null;var V=L.children,q=L.layout,H=L.stackOffset,G=L.data,Y=L.reverseStackOrder,Q=getAxisNameByLayout(q),ie=Q.numericAxisName,ae=Q.cateAxisName,le=findAllByType(V,o),he=getStackGroupsByAxisId(G,le,"".concat(ie,"Id"),"".concat(ae,"Id"),H,Y),ge=d.reduce(function(fe,_e){var ye="".concat(_e.axisType,"Map");return _objectSpread(_objectSpread({},fe),{},_defineProperty({},ye,getAxisMap(L,_objectSpread(_objectSpread({},_e),{},{graphicalItems:le,stackGroups:_e.axisType===ie&&he,dataStartIndex:F,dataEndIndex:B}))))},{}),J=calculateOffset(_objectSpread(_objectSpread({},ge),{},{props:L,graphicalItems:le}),O==null?void 0:O.legendBBox);Object.keys(ge).forEach(function(fe){ge[fe]=m(L,ge[fe],J,fe.replace("Map",""),n)});var se=ge["".concat(ae,"Map")],ce=tooltipTicksGenerator(se),te=_(L,_objectSpread(_objectSpread({},ge),{},{dataStartIndex:F,dataEndIndex:B,updateId:U,graphicalItems:le,stackGroups:he,offset:J}));return _objectSpread(_objectSpread({formattedGraphicalItems:te,graphicalItems:le,offset:J,stackGroups:he},ce),ge)},T=function(w){function C(O){var L,F,B;return _classCallCheck(this,C),B=_callSuper(this,C,[O]),_defineProperty(B,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(B,"accessibilityManager",new AccessibilityManager),_defineProperty(B,"handleLegendBBoxUpdate",function(U){if(U){var V=B.state,q=V.dataStartIndex,H=V.dataEndIndex,G=V.updateId;B.setState(_objectSpread({legendBBox:U},S({props:B.props,dataStartIndex:q,dataEndIndex:H,updateId:G},_objectSpread(_objectSpread({},B.state),{},{legendBBox:U}))))}}),_defineProperty(B,"handleReceiveSyncEvent",function(U,V,q){if(B.props.syncId===U){if(q===B.eventEmitterSymbol&&typeof B.props.syncMethod!="function")return;B.applySyncEvent(V)}}),_defineProperty(B,"handleBrushChange",function(U){var V=U.startIndex,q=U.endIndex;if(V!==B.state.dataStartIndex||q!==B.state.dataEndIndex){var H=B.state.updateId;B.setState(function(){return _objectSpread({dataStartIndex:V,dataEndIndex:q},S({props:B.props,dataStartIndex:V,dataEndIndex:q,updateId:H},B.state))}),B.triggerSyncEvent({dataStartIndex:V,dataEndIndex:q})}}),_defineProperty(B,"handleMouseEnter",function(U){var V=B.getMouseInfo(U);if(V){var q=_objectSpread(_objectSpread({},V),{},{isTooltipActive:!0});B.setState(q),B.triggerSyncEvent(q);var H=B.props.onMouseEnter;isFunction(H)&&H(q,U)}}),_defineProperty(B,"triggeredAfterMouseMove",function(U){var V=B.getMouseInfo(U),q=V?_objectSpread(_objectSpread({},V),{},{isTooltipActive:!0}):{isTooltipActive:!1};B.setState(q),B.triggerSyncEvent(q);var H=B.props.onMouseMove;isFunction(H)&&H(q,U)}),_defineProperty(B,"handleItemMouseEnter",function(U){B.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),_defineProperty(B,"handleItemMouseLeave",function(){B.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(B,"handleMouseMove",function(U){U.persist(),B.throttleTriggeredAfterMouseMove(U)}),_defineProperty(B,"handleMouseLeave",function(U){B.throttleTriggeredAfterMouseMove.cancel();var V={isTooltipActive:!1};B.setState(V),B.triggerSyncEvent(V);var q=B.props.onMouseLeave;isFunction(q)&&q(V,U)}),_defineProperty(B,"handleOuterEvent",function(U){var V=getReactEventByType(U),q=get(B.props,"".concat(V));if(V&&isFunction(q)){var H,G;/.*touch.*/i.test(V)?G=B.getMouseInfo(U.changedTouches[0]):G=B.getMouseInfo(U),q((H=G)!==null&&H!==void 0?H:{},U)}}),_defineProperty(B,"handleClick",function(U){var V=B.getMouseInfo(U);if(V){var q=_objectSpread(_objectSpread({},V),{},{isTooltipActive:!0});B.setState(q),B.triggerSyncEvent(q);var H=B.props.onClick;isFunction(H)&&H(q,U)}}),_defineProperty(B,"handleMouseDown",function(U){var V=B.props.onMouseDown;if(isFunction(V)){var q=B.getMouseInfo(U);V(q,U)}}),_defineProperty(B,"handleMouseUp",function(U){var V=B.props.onMouseUp;if(isFunction(V)){var q=B.getMouseInfo(U);V(q,U)}}),_defineProperty(B,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),_defineProperty(B,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseDown(U.changedTouches[0])}),_defineProperty(B,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseUp(U.changedTouches[0])}),_defineProperty(B,"handleDoubleClick",function(U){var V=B.props.onDoubleClick;if(isFunction(V)){var q=B.getMouseInfo(U);V(q,U)}}),_defineProperty(B,"handleContextMenu",function(U){var V=B.props.onContextMenu;if(isFunction(V)){var q=B.getMouseInfo(U);V(q,U)}}),_defineProperty(B,"triggerSyncEvent",function(U){B.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,B.props.syncId,U,B.eventEmitterSymbol)}),_defineProperty(B,"applySyncEvent",function(U){var V=B.props,q=V.layout,H=V.syncMethod,G=B.state.updateId,Y=U.dataStartIndex,Q=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)B.setState(_objectSpread({dataStartIndex:Y,dataEndIndex:Q},S({props:B.props,dataStartIndex:Y,dataEndIndex:Q,updateId:G},B.state)));else if(U.activeTooltipIndex!==void 0){var ie=U.chartX,ae=U.chartY,le=U.activeTooltipIndex,he=B.state,ge=he.offset,J=he.tooltipTicks;if(!ge)return;if(typeof H=="function")le=H(J,U);else if(H==="value"){le=-1;for(var se=0;se<J.length;se++)if(J[se].value===U.activeLabel){le=se;break}}var ce=_objectSpread(_objectSpread({},ge),{},{x:ge.left,y:ge.top}),te=Math.min(ie,ce.x+ce.width),fe=Math.min(ae,ce.y+ce.height),_e=J[le]&&J[le].value,ye=getTooltipContent(B.state,B.props.data,le),xe=J[le]?{x:q==="horizontal"?J[le].coordinate:te,y:q==="horizontal"?fe:J[le].coordinate}:originCoordinate;B.setState(_objectSpread(_objectSpread({},U),{},{activeLabel:_e,activeCoordinate:xe,activePayload:ye,activeTooltipIndex:le}))}else B.setState(U)}),_defineProperty(B,"renderCursor",function(U){var V,q=B.state,H=q.isTooltipActive,G=q.activeCoordinate,Y=q.activePayload,Q=q.offset,ie=q.activeTooltipIndex,ae=q.tooltipAxisBandSize,le=B.getTooltipEventType(),he=(V=U.props.active)!==null&&V!==void 0?V:H,ge=B.props.layout,J=U.key||"_recharts-cursor";return React.createElement(Cursor,{key:J,activeCoordinate:G,activePayload:Y,activeTooltipIndex:ie,chartName:n,element:U,isActive:he,layout:ge,offset:Q,tooltipAxisBandSize:ae,tooltipEventType:le})}),_defineProperty(B,"renderPolarAxis",function(U,V,q){var H=get(U,"type.axisType"),G=get(B.state,"".concat(H,"Map")),Y=U.type.defaultProps,Q=Y!==void 0?_objectSpread(_objectSpread({},Y),U.props):U.props,ie=G&&G[Q["".concat(H,"Id")]];return reactExports.cloneElement(U,_objectSpread(_objectSpread({},ie),{},{className:clsx(H,ie.className),key:U.key||"".concat(V,"-").concat(q),ticks:getTicksOfAxis(ie,!0)}))}),_defineProperty(B,"renderPolarGrid",function(U){var V=U.props,q=V.radialLines,H=V.polarAngles,G=V.polarRadius,Y=B.state,Q=Y.radiusAxisMap,ie=Y.angleAxisMap,ae=getAnyElementOfObject(Q),le=getAnyElementOfObject(ie),he=le.cx,ge=le.cy,J=le.innerRadius,se=le.outerRadius;return reactExports.cloneElement(U,{polarAngles:Array.isArray(H)?H:getTicksOfAxis(le,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(G)?G:getTicksOfAxis(ae,!0).map(function(ce){return ce.coordinate}),cx:he,cy:ge,innerRadius:J,outerRadius:se,key:U.key||"polar-grid",radialLines:q})}),_defineProperty(B,"renderLegend",function(){var U=B.state.formattedGraphicalItems,V=B.props,q=V.children,H=V.width,G=V.height,Y=B.props.margin||{},Q=H-(Y.left||0)-(Y.right||0),ie=getLegendProps({children:q,formattedGraphicalItems:U,legendWidth:Q,legendContent:p});if(!ie)return null;var ae=ie.item,le=_objectWithoutProperties(ie,_excluded);return reactExports.cloneElement(ae,_objectSpread(_objectSpread({},le),{},{chartWidth:H,chartHeight:G,margin:Y,onBBoxUpdate:B.handleLegendBBoxUpdate}))}),_defineProperty(B,"renderTooltip",function(){var U,V=B.props,q=V.children,H=V.accessibilityLayer,G=findChildByType(q,Tooltip);if(!G)return null;var Y=B.state,Q=Y.isTooltipActive,ie=Y.activeCoordinate,ae=Y.activePayload,le=Y.activeLabel,he=Y.offset,ge=(U=G.props.active)!==null&&U!==void 0?U:Q;return reactExports.cloneElement(G,{viewBox:_objectSpread(_objectSpread({},he),{},{x:he.left,y:he.top}),active:ge,label:le,payload:ge?ae:[],coordinate:ie,accessibilityLayer:H})}),_defineProperty(B,"renderBrush",function(U){var V=B.props,q=V.margin,H=V.data,G=B.state,Y=G.offset,Q=G.dataStartIndex,ie=G.dataEndIndex,ae=G.updateId;return reactExports.cloneElement(U,{key:U.key||"_recharts-brush",onChange:combineEventHandlers(B.handleBrushChange,U.props.onChange),data:H,x:isNumber(U.props.x)?U.props.x:Y.left,y:isNumber(U.props.y)?U.props.y:Y.top+Y.height+Y.brushBottom-(q.bottom||0),width:isNumber(U.props.width)?U.props.width:Y.width,startIndex:Q,endIndex:ie,updateId:"brush-".concat(ae)})}),_defineProperty(B,"renderReferenceElement",function(U,V,q){if(!U)return null;var H=B,G=H.clipPathId,Y=B.state,Q=Y.xAxisMap,ie=Y.yAxisMap,ae=Y.offset,le=U.type.defaultProps||{},he=U.props,ge=he.xAxisId,J=ge===void 0?le.xAxisId:ge,se=he.yAxisId,ce=se===void 0?le.yAxisId:se;return reactExports.cloneElement(U,{key:U.key||"".concat(V,"-").concat(q),xAxis:Q[J],yAxis:ie[ce],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:G})}),_defineProperty(B,"renderActivePoints",function(U){var V=U.item,q=U.activePoint,H=U.basePoint,G=U.childIndex,Y=U.isRange,Q=[],ie=V.props.key,ae=V.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},V.item.type.defaultProps),V.item.props):V.item.props,le=ae.activeDot,he=ae.dataKey,ge=_objectSpread(_objectSpread({index:G,dataKey:he,cx:q.x,cy:q.y,r:4,fill:getMainColorOfGraphicItem(V.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value},filterProps(le,!1)),adaptEventHandlers(le));return Q.push(C.renderActiveDot(le,ge,"".concat(ie,"-activePoint-").concat(G))),H?Q.push(C.renderActiveDot(le,_objectSpread(_objectSpread({},ge),{},{cx:H.x,cy:H.y}),"".concat(ie,"-basePoint-").concat(G))):Y&&Q.push(null),Q}),_defineProperty(B,"renderGraphicChild",function(U,V,q){var H=B.filterFormatItem(U,V,q);if(!H)return null;var G=B.getTooltipEventType(),Y=B.state,Q=Y.isTooltipActive,ie=Y.tooltipAxis,ae=Y.activeTooltipIndex,le=Y.activeLabel,he=B.props.children,ge=findChildByType(he,Tooltip),J=H.props,se=J.points,ce=J.isRange,te=J.baseLine,fe=H.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},H.item.type.defaultProps),H.item.props):H.item.props,_e=fe.activeDot,ye=fe.hide,xe=fe.activeBar,Me=fe.activeShape,be=!!(!ye&&Q&&ge&&(_e||xe||Me)),Ce={};G!=="axis"&&ge&&ge.props.trigger==="click"?Ce={onClick:combineEventHandlers(B.handleItemMouseEnter,U.props.onClick)}:G!=="axis"&&(Ce={onMouseLeave:combineEventHandlers(B.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:combineEventHandlers(B.handleItemMouseEnter,U.props.onMouseEnter)});var Re=reactExports.cloneElement(U,_objectSpread(_objectSpread({},H.props),Ce));function Ne(ct){return typeof ie.dataKey=="function"?ie.dataKey(ct.payload):null}if(be)if(ae>=0){var Oe,Te;if(ie.dataKey&&!ie.allowDuplicatedCategory){var tt=typeof ie.dataKey=="function"?Ne:"payload.".concat(ie.dataKey.toString());Oe=findEntryInArray(se,tt,le),Te=ce&&te&&findEntryInArray(te,tt,le)}else Oe=se==null?void 0:se[ae],Te=ce&&te&&te[ae];if(Me||xe){var de=U.props.activeIndex!==void 0?U.props.activeIndex:ae;return[reactExports.cloneElement(U,_objectSpread(_objectSpread(_objectSpread({},H.props),Ce),{},{activeIndex:de})),null,null]}if(!isNil(Oe))return[Re].concat(_toConsumableArray(B.renderActivePoints({item:H,activePoint:Oe,basePoint:Te,childIndex:ae,isRange:ce})))}else{var Xe,qe=(Xe=B.getItemByXY(B.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:Re},Ye=qe.graphicalItem,Ie=Ye.item,et=Ie===void 0?U:Ie,Ue=Ye.childIndex,ke=_objectSpread(_objectSpread(_objectSpread({},H.props),Ce),{},{activeIndex:Ue});return[reactExports.cloneElement(et,ke),null,null]}return ce?[Re,null,null]:[Re,null]}),_defineProperty(B,"renderCustomized",function(U,V,q){return reactExports.cloneElement(U,_objectSpread(_objectSpread({key:"recharts-customized-".concat(q)},B.props),B.state))}),_defineProperty(B,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:B.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:B.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:B.renderBrush,once:!0},Bar:{handler:B.renderGraphicChild},Line:{handler:B.renderGraphicChild},Area:{handler:B.renderGraphicChild},Radar:{handler:B.renderGraphicChild},RadialBar:{handler:B.renderGraphicChild},Scatter:{handler:B.renderGraphicChild},Pie:{handler:B.renderGraphicChild},Funnel:{handler:B.renderGraphicChild},Tooltip:{handler:B.renderCursor,once:!0},PolarGrid:{handler:B.renderPolarGrid,once:!0},PolarAngleAxis:{handler:B.renderPolarAxis},PolarRadiusAxis:{handler:B.renderPolarAxis},Customized:{handler:B.renderCustomized}}),B.clipPathId="".concat((L=O.id)!==null&&L!==void 0?L:uniqueId("recharts"),"-clip"),B.throttleTriggeredAfterMouseMove=throttle(B.triggeredAfterMouseMove,(F=O.throttleDelay)!==null&&F!==void 0?F:1e3/60),B.state={},B}return _inherits(C,w),_createClass(C,[{key:"componentDidMount",value:function(){var L,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var L=this.props,F=L.children,B=L.data,U=L.height,V=L.layout,q=findChildByType(F,Tooltip);if(q){var H=q.props.defaultIndex;if(!(typeof H!="number"||H<0||H>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[H]&&this.state.tooltipTicks[H].value,Y=getTooltipContent(this.state,B,H,G),Q=this.state.tooltipTicks[H].coordinate,ie=(this.state.offset.top+U)/2,ae=V==="horizontal",le=ae?{x:Q,y:ie}:{y:Q,x:ie},he=this.state.formattedGraphicalItems.find(function(J){var se=J.item;return se.type.name==="Scatter"});he&&(le=_objectSpread(_objectSpread({},le),he.props.points[H].tooltipPosition),Y=he.props.points[H].tooltipPayload);var ge={activeTooltipIndex:H,isTooltipActive:!0,activeLabel:G,activePayload:Y,activeCoordinate:le};this.setState(ge),this.renderCursor(q),this.accessibilityManager.setIndex(H)}}}},{key:"getSnapshotBeforeUpdate",value:function(L,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==L.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==L.margin){var B,U;this.accessibilityManager.setDetails({offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(L){isChildrenEqual([findChildByType(L.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var L=findChildByType(this.props.children,Tooltip);if(L&&typeof L.props.shared=="boolean"){var F=L.props.shared?"axis":"item";return f.indexOf(F)>=0?F:u}return u}},{key:"getMouseInfo",value:function(L){if(!this.container)return null;var F=this.container,B=F.getBoundingClientRect(),U=getOffset(B),V={chartX:Math.round(L.pageX-U.left),chartY:Math.round(L.pageY-U.top)},q=B.width/F.offsetWidth||1,H=this.inRange(V.chartX,V.chartY,q);if(!H)return null;var G=this.state,Y=G.xAxisMap,Q=G.yAxisMap,ie=this.getTooltipEventType(),ae=getTooltipData(this.state,this.props.data,this.props.layout,H);if(ie!=="axis"&&Y&&Q){var le=getAnyElementOfObject(Y).scale,he=getAnyElementOfObject(Q).scale,ge=le&&le.invert?le.invert(V.chartX):null,J=he&&he.invert?he.invert(V.chartY):null;return _objectSpread(_objectSpread({},V),{},{xValue:ge,yValue:J},ae)}return ae?_objectSpread(_objectSpread({},V),ae):null}},{key:"inRange",value:function(L,F){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,V=L/B,q=F/B;if(U==="horizontal"||U==="vertical"){var H=this.state.offset,G=V>=H.left&&V<=H.left+H.width&&q>=H.top&&q<=H.top+H.height;return G?{x:V,y:q}:null}var Y=this.state,Q=Y.angleAxisMap,ie=Y.radiusAxisMap;if(Q&&ie){var ae=getAnyElementOfObject(Q);return inRangeOfSector({x:V,y:q},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var L=this.props.children,F=this.getTooltipEventType(),B=findChildByType(L,Tooltip),U={};B&&F==="axis"&&(B.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var V=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},V),U)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(L,F,B){for(var U=this.state.formattedGraphicalItems,V=0,q=U.length;V<q;V++){var H=U[V];if(H.item===L||H.props.key===L.key||F===getDisplayName(H.item.type)&&B===H.childIndex)return H}return null}},{key:"renderClipPath",value:function(){var L=this.clipPathId,F=this.state.offset,B=F.left,U=F.top,V=F.height,q=F.width;return React.createElement("defs",null,React.createElement("clipPath",{id:L},React.createElement("rect",{x:B,y:U,height:V,width:q})))}},{key:"getXScales",value:function(){var L=this.state.xAxisMap;return L?Object.entries(L).reduce(function(F,B){var U=_slicedToArray(B,2),V=U[0],q=U[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},V,q.scale))},{}):null}},{key:"getYScales",value:function(){var L=this.state.yAxisMap;return L?Object.entries(L).reduce(function(F,B){var U=_slicedToArray(B,2),V=U[0],q=U[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},V,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(L){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[L])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(L){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[L])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(L){var F=this.state,B=F.formattedGraphicalItems,U=F.activeItem;if(B&&B.length)for(var V=0,q=B.length;V<q;V++){var H=B[V],G=H.props,Y=H.item,Q=Y.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Y.type.defaultProps),Y.props):Y.props,ie=getDisplayName(Y.type);if(ie==="Bar"){var ae=(G.data||[]).find(function(J){return isInRectangle(L,J)});if(ae)return{graphicalItem:H,payload:ae}}else if(ie==="RadialBar"){var le=(G.data||[]).find(function(J){return inRangeOfSector(L,J)});if(le)return{graphicalItem:H,payload:le}}else if(isFunnel(H,U)||isPie(H,U)||isScatter(H,U)){var he=getActiveShapeIndexForTooltip({graphicalItem:H,activeTooltipItem:U,itemData:Q.data}),ge=Q.activeIndex===void 0?he:Q.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},H),{},{childIndex:ge}),payload:isScatter(H,U)?Q.data[he]:H.props.data[he]}}}return null}},{key:"render",value:function(){var L=this;if(!validateWidthHeight(this))return null;var F=this.props,B=F.children,U=F.className,V=F.width,q=F.height,H=F.style,G=F.compact,Y=F.title,Q=F.desc,ie=_objectWithoutProperties(F,_excluded2),ae=filterProps(ie,!1);if(G)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},ae,{width:V,height:q,title:Y,desc:Q}),this.renderClipPath(),renderByOrder(B,this.renderMap)));if(this.props.accessibilityLayer){var le,he;ae.tabIndex=(le=this.props.tabIndex)!==null&&le!==void 0?le:0,ae.role=(he=this.props.role)!==null&&he!==void 0?he:"application",ae.onKeyDown=function(J){L.accessibilityManager.keyboardEvent(J)},ae.onFocus=function(){L.accessibilityManager.focus()}}var ge=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",U),style:_objectSpread({position:"relative",cursor:"default",width:V,height:q},H)},ge,{ref:function(se){L.container=se}}),React.createElement(Surface,_extends({},ae,{width:V,height:q,title:Y,desc:Q,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(B,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(T,"displayName",n),_defineProperty(T,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),_defineProperty(T,"getDerivedStateFromProps",function(w,C){var O=w.dataKey,L=w.data,F=w.children,B=w.width,U=w.height,V=w.layout,q=w.stackOffset,H=w.margin,G=C.dataStartIndex,Y=C.dataEndIndex;if(C.updateId===void 0){var Q=createDefaultState(w);return _objectSpread(_objectSpread(_objectSpread({},Q),{},{updateId:0},S(_objectSpread(_objectSpread({props:w},Q),{},{updateId:0}),C)),{},{prevDataKey:O,prevData:L,prevWidth:B,prevHeight:U,prevLayout:V,prevStackOffset:q,prevMargin:H,prevChildren:F})}if(O!==C.prevDataKey||L!==C.prevData||B!==C.prevWidth||U!==C.prevHeight||V!==C.prevLayout||q!==C.prevStackOffset||!shallowEqual(H,C.prevMargin)){var ie=createDefaultState(w),ae={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},le=_objectSpread(_objectSpread({},getTooltipData(C,L,V)),{},{updateId:C.updateId+1}),he=_objectSpread(_objectSpread(_objectSpread({},ie),ae),le);return _objectSpread(_objectSpread(_objectSpread({},he),S(_objectSpread({props:w},he),C)),{},{prevDataKey:O,prevData:L,prevWidth:B,prevHeight:U,prevLayout:V,prevStackOffset:q,prevMargin:H,prevChildren:F})}if(!isChildrenEqual(F,C.prevChildren)){var ge,J,se,ce,te=findChildByType(F,Brush),fe=te&&(ge=(J=te.props)===null||J===void 0?void 0:J.startIndex)!==null&&ge!==void 0?ge:G,_e=te&&(se=(ce=te.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&se!==void 0?se:Y,ye=fe!==G||_e!==Y,xe=!isNil(L),Me=xe&&!ye?C.updateId:C.updateId+1;return _objectSpread(_objectSpread({updateId:Me},S(_objectSpread(_objectSpread({props:w},C),{},{updateId:Me,dataStartIndex:fe,dataEndIndex:_e}),C)),{},{prevChildren:F,dataStartIndex:fe,dataEndIndex:_e})}return null}),_defineProperty(T,"renderActiveDot",function(w,C,O){var L;return reactExports.isValidElement(w)?L=reactExports.cloneElement(w,C):isFunction(w)?L=w(C):L=React.createElement(Dot,C),React.createElement(Layer,{className:"recharts-active-dot",key:O},L)});var A=reactExports.forwardRef(function(C,O){return React.createElement(T,_extends({},C,{ref:O}))});return A.displayName=T.displayName,A},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});const WaterAccessChart=()=>{const{regions:t,seasonType:e}=useAppContext(),n=[{name:"timo",range:"80-100%",count:0},{name:"Bom",range:"60-80%",count:0},{name:"Moderado",range:"40-60%",count:0},{name:"Deficiente",range:"20-40%",count:0},{name:"Crtico",range:"0-20%",count:0}];return t.forEach(o=>{const l=o[e].waterAccessLevel;l>=80?n[0].count++:l>=60?n[1].count++:l>=40?n[2].count++:l>=20?n[3].count++:n[4].count++}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:180,children:jsxRuntimeExports.jsxs(BarChart,{data:n,margin:{top:5,right:5,left:-20,bottom:5},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name",tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{formatter:o=>[`${o} regies`,"Quantidade"],labelFormatter:(o,l)=>{var h;const u=(h=l[0])==null?void 0:h.payload;return`${o} (${u==null?void 0:u.range})`}}),jsxRuntimeExports.jsx(Bar,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})};var lib={};const SIZEOF_SHORT=2,SIZEOF_INT=4,FILE_IDENTIFIER_LENGTH=4,SIZE_PREFIX_LENGTH=4,int32=new Int32Array(2),float32=new Float32Array(int32.buffer),float64=new Float64Array(int32.buffer),isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Encoding;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(Encoding||(Encoding={}));class ByteBuffer{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new ByteBuffer(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return int32[0]=this.readInt32(e),float32[0]}readFloat64(e){return int32[isLittleEndian?0:1]=this.readInt32(e),int32[isLittleEndian?1:0]=this.readInt32(e+4),float64[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){float32[0]=n,this.writeInt32(e,int32[0])}writeFloat64(e,n){float64[0]=n,this.writeInt32(e,int32[isLittleEndian?0:1]),this.writeInt32(e+4,int32[isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+SIZEOF_INT+FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<FILE_IDENTIFIER_LENGTH;n++)e+=String.fromCharCode(this.readInt8(this.position_+SIZEOF_INT+n));return e}__offset(e,n){const o=e-this.readInt32(e);return n<this.readInt16(o)?this.readInt16(o+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const o=this.readInt32(e);e+=SIZEOF_INT;const l=this.bytes_.subarray(e,e+o);return n===Encoding.UTF8_BYTES?l:this.text_decoder_.decode(l)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+SIZEOF_INT}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let n=0;n<FILE_IDENTIFIER_LENGTH;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+SIZEOF_INT+n))return!1;return!0}createScalarList(e,n){const o=[];for(let l=0;l<n;++l){const u=e(l);u!==null&&o.push(u)}return o}createObjList(e,n){const o=[];for(let l=0;l<n;++l){const u=e(l);u!==null&&o.push(u.unpack())}return o}}class Builder{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=ByteBuffer.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const o=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<o+e+n;){const l=this.bb.capacity();this.bb=Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-l}this.pad(o)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,o){(this.force_defaults||n!=o)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,o){(this.force_defaults||n!=o)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,o){(this.force_defaults||n!=o)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,o){(this.force_defaults||n!==o)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,o){(this.force_defaults||n!=o)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,o){n!=o&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const o=n<<1,l=ByteBuffer.allocate(o);return l.setPosition(o-n),l.bytes().set(e.bytes(),o-n),l}addOffset(e){this.prep(SIZEOF_INT,0),this.writeInt32(this.offset()-e+SIZEOF_INT)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const o=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const l=2;this.addInt16(e-this.object_start);const u=(o+l)*SIZEOF_SHORT;this.addInt16(u);let h=0;const f=this.space;e:for(n=0;n<this.vtables.length;n++){const d=this.bb.capacity()-this.vtables[n];if(u==this.bb.readInt16(d)){for(let p=SIZEOF_SHORT;p<u;p+=SIZEOF_SHORT)if(this.bb.readInt16(f+p)!=this.bb.readInt16(d+p))continue e;h=this.vtables[n];break}}return h?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,h-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,o){const l=o?SIZE_PREFIX_LENGTH:0;if(n){const u=n;if(this.prep(this.minalign,SIZEOF_INT+FILE_IDENTIFIER_LENGTH+l),u.length!=FILE_IDENTIFIER_LENGTH)throw new TypeError("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let h=FILE_IDENTIFIER_LENGTH-1;h>=0;h--)this.writeInt8(u.charCodeAt(h))}this.prep(this.minalign,SIZEOF_INT+l),this.addOffset(e),l&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const o=this.bb.capacity()-e,l=o-this.bb.readInt32(o);if(!(n<this.bb.readInt16(l)&&this.bb.readInt16(l+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,o){this.notNested(),this.vector_num_elems=n,this.prep(SIZEOF_INT,e*n),this.prep(o,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let o=0;o<e.length;++o){const l=e[o];if(l!==null)n.push(this.createObjectOffset(l));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const flatbuffers=Object.freeze(Object.defineProperty({__proto__:null,Builder,ByteBuffer,get Encoding(){return Encoding},FILE_IDENTIFIER_LENGTH,SIZEOF_INT,SIZEOF_SHORT,SIZE_PREFIX_LENGTH,float32,float64,int32,isLittleEndian},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(flatbuffers);var weatherApiResponse={},model={},hasRequiredModel;function requireModel(){if(hasRequiredModel)return model;hasRequiredModel=1,Object.defineProperty(model,"__esModule",{value:!0}),model.Model=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i"}(t||(model.Model=t={})),model}var variablesWithTime={},variableWithValues={},aggregation={},hasRequiredAggregation;function requireAggregation(){if(hasRequiredAggregation)return aggregation;hasRequiredAggregation=1,Object.defineProperty(aggregation,"__esModule",{value:!0}),aggregation.Aggregation=void 0;var t;return function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread"}(t||(aggregation.Aggregation=t={})),aggregation}var unit={},hasRequiredUnit;function requireUnit(){if(hasRequiredUnit)return unit;hasRequiredUnit=1,Object.defineProperty(unit,"__esModule",{value:!0}),unit.Unit=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million"}(t||(unit.Unit=t={})),unit}var variable={},hasRequiredVariable;function requireVariable(){if(hasRequiredVariable)return variable;hasRequiredVariable=1,Object.defineProperty(variable,"__esModule",{value:!0}),variable.Variable=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction"}(t||(variable.Variable=t={})),variable}var hasRequiredVariableWithValues;function requireVariableWithValues(){if(hasRequiredVariableWithValues)return variableWithValues;hasRequiredVariableWithValues=1;var t=variableWithValues&&variableWithValues.__createBinding||(Object.create?function(d,p,m,v){v===void 0&&(v=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(d,v,_)}:function(d,p,m,v){v===void 0&&(v=m),d[v]=p[m]}),e=variableWithValues&&variableWithValues.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),n=variableWithValues&&variableWithValues.__importStar||function(){var d=function(p){return d=Object.getOwnPropertyNames||function(m){var v=[];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(v[v.length]=_);return v},d(p)};return function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v=d(p),_=0;_<v.length;_++)v[_]!=="default"&&t(m,p,v[_]);return e(m,p),m}}();Object.defineProperty(variableWithValues,"__esModule",{value:!0}),variableWithValues.VariableWithValues=void 0;const o=n(require$$0),l=requireAggregation(),u=requireUnit(),h=requireVariable();class f{constructor(){this.bb=null,this.bb_pos=0}__init(p,m){return this.bb_pos=p,this.bb=m,this}static getRootAsVariableWithValues(p,m){return(m||new f).__init(p.readInt32(p.position())+p.position(),p)}static getSizePrefixedRootAsVariableWithValues(p,m){return p.setPosition(p.position()+o.SIZE_PREFIX_LENGTH),(m||new f).__init(p.readInt32(p.position())+p.position(),p)}variable(){const p=this.bb.__offset(this.bb_pos,4);return p?this.bb.readUint8(this.bb_pos+p):h.Variable.undefined}unit(){const p=this.bb.__offset(this.bb_pos,6);return p?this.bb.readUint8(this.bb_pos+p):u.Unit.undefined}value(){const p=this.bb.__offset(this.bb_pos,8);return p?this.bb.readFloat32(this.bb_pos+p):0}values(p){const m=this.bb.__offset(this.bb_pos,10);return m?this.bb.readFloat32(this.bb.__vector(this.bb_pos+m)+p*4):0}valuesLength(){const p=this.bb.__offset(this.bb_pos,10);return p?this.bb.__vector_len(this.bb_pos+p):0}valuesArray(){const p=this.bb.__offset(this.bb_pos,10);return p?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+p),this.bb.__vector_len(this.bb_pos+p)):null}valuesInt64(p){const m=this.bb.__offset(this.bb_pos,12);return m?this.bb.readInt64(this.bb.__vector(this.bb_pos+m)+p*8):BigInt(0)}valuesInt64Length(){const p=this.bb.__offset(this.bb_pos,12);return p?this.bb.__vector_len(this.bb_pos+p):0}altitude(){const p=this.bb.__offset(this.bb_pos,14);return p?this.bb.readInt16(this.bb_pos+p):0}aggregation(){const p=this.bb.__offset(this.bb_pos,16);return p?this.bb.readUint8(this.bb_pos+p):l.Aggregation.none}pressureLevel(){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.readInt16(this.bb_pos+p):0}depth(){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.readInt16(this.bb_pos+p):0}depthTo(){const p=this.bb.__offset(this.bb_pos,22);return p?this.bb.readInt16(this.bb_pos+p):0}ensembleMember(){const p=this.bb.__offset(this.bb_pos,24);return p?this.bb.readInt16(this.bb_pos+p):0}previousDay(){const p=this.bb.__offset(this.bb_pos,26);return p?this.bb.readInt16(this.bb_pos+p):0}}return variableWithValues.VariableWithValues=f,variableWithValues}var hasRequiredVariablesWithTime;function requireVariablesWithTime(){if(hasRequiredVariablesWithTime)return variablesWithTime;hasRequiredVariablesWithTime=1;var t=variablesWithTime&&variablesWithTime.__createBinding||(Object.create?function(h,f,d,p){p===void 0&&(p=d);var m=Object.getOwnPropertyDescriptor(f,d);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(h,p,m)}:function(h,f,d,p){p===void 0&&(p=d),h[p]=f[d]}),e=variablesWithTime&&variablesWithTime.__setModuleDefault||(Object.create?function(h,f){Object.defineProperty(h,"default",{enumerable:!0,value:f})}:function(h,f){h.default=f}),n=variablesWithTime&&variablesWithTime.__importStar||function(){var h=function(f){return h=Object.getOwnPropertyNames||function(d){var p=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(p[p.length]=m);return p},h(f)};return function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var p=h(f),m=0;m<p.length;m++)p[m]!=="default"&&t(d,f,p[m]);return e(d,f),d}}();Object.defineProperty(variablesWithTime,"__esModule",{value:!0}),variablesWithTime.VariablesWithTime=void 0;const o=n(require$$0),l=requireVariableWithValues();class u{constructor(){this.bb=null,this.bb_pos=0}__init(f,d){return this.bb_pos=f,this.bb=d,this}static getRootAsVariablesWithTime(f,d){return(d||new u).__init(f.readInt32(f.position())+f.position(),f)}static getSizePrefixedRootAsVariablesWithTime(f,d){return f.setPosition(f.position()+o.SIZE_PREFIX_LENGTH),(d||new u).__init(f.readInt32(f.position())+f.position(),f)}time(){const f=this.bb.__offset(this.bb_pos,4);return f?this.bb.readInt64(this.bb_pos+f):BigInt("0")}timeEnd(){const f=this.bb.__offset(this.bb_pos,6);return f?this.bb.readInt64(this.bb_pos+f):BigInt("0")}interval(){const f=this.bb.__offset(this.bb_pos,8);return f?this.bb.readInt32(this.bb_pos+f):0}variables(f,d){const p=this.bb.__offset(this.bb_pos,10);return p?(d||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+p)+f*4),this.bb):null}variablesLength(){const f=this.bb.__offset(this.bb_pos,10);return f?this.bb.__vector_len(this.bb_pos+f):0}}return variablesWithTime.VariablesWithTime=u,variablesWithTime}var hasRequiredWeatherApiResponse;function requireWeatherApiResponse(){if(hasRequiredWeatherApiResponse)return weatherApiResponse;hasRequiredWeatherApiResponse=1;var t=weatherApiResponse&&weatherApiResponse.__createBinding||(Object.create?function(f,d,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(f,m,v)}:function(f,d,p,m){m===void 0&&(m=p),f[m]=d[p]}),e=weatherApiResponse&&weatherApiResponse.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),n=weatherApiResponse&&weatherApiResponse.__importStar||function(){var f=function(d){return f=Object.getOwnPropertyNames||function(p){var m=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m[m.length]=v);return m},f(d)};return function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var m=f(d),v=0;v<m.length;v++)m[v]!=="default"&&t(p,d,m[v]);return e(p,d),p}}();Object.defineProperty(weatherApiResponse,"__esModule",{value:!0}),weatherApiResponse.WeatherApiResponse=void 0;const o=n(require$$0),l=requireModel(),u=requireVariablesWithTime();class h{constructor(){this.bb=null,this.bb_pos=0}__init(d,p){return this.bb_pos=d,this.bb=p,this}static getRootAsWeatherApiResponse(d,p){return(p||new h).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsWeatherApiResponse(d,p){return d.setPosition(d.position()+o.SIZE_PREFIX_LENGTH),(p||new h).__init(d.readInt32(d.position())+d.position(),d)}latitude(){const d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readFloat32(this.bb_pos+d):0}longitude(){const d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readFloat32(this.bb_pos+d):0}elevation(){const d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readFloat32(this.bb_pos+d):0}generationTimeMilliseconds(){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readFloat32(this.bb_pos+d):0}locationId(){const d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readInt64(this.bb_pos+d):BigInt("0")}model(){const d=this.bb.__offset(this.bb_pos,14);return d?this.bb.readUint8(this.bb_pos+d):l.Model.undefined}utcOffsetSeconds(){const d=this.bb.__offset(this.bb_pos,16);return d?this.bb.readInt32(this.bb_pos+d):0}timezone(d){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.__string(this.bb_pos+p,d):null}timezoneAbbreviation(d){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.__string(this.bb_pos+p,d):null}current(d){const p=this.bb.__offset(this.bb_pos,22);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}daily(d){const p=this.bb.__offset(this.bb_pos,24);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}hourly(d){const p=this.bb.__offset(this.bb_pos,26);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}minutely15(d){const p=this.bb.__offset(this.bb_pos,28);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}sixHourly(d){const p=this.bb.__offset(this.bb_pos,30);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}}return weatherApiResponse.WeatherApiResponse=h,weatherApiResponse}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var t=lib&&lib.__awaiter||function(h,f,d,p){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function S(w){try{A(p.next(w))}catch(C){_(C)}}function T(w){try{A(p.throw(w))}catch(C){_(C)}}function A(w){w.done?v(w.value):m(w.value).then(S,T)}A((p=p.apply(h,f||[])).next())})};Object.defineProperty(lib,"__esModule",{value:!0}),lib.fetchWeatherApi=u;const e=require$$0,n=requireWeatherApiResponse(),o=h=>new Promise(f=>setTimeout(f,h));function l(h){return t(this,arguments,void 0,function*(f,d=3,p=.5,m=2,v={}){const _=[500,502,504],S=[400,429];let T=0,A=yield fetch(f,v);for(;_.includes(A.status);){if(T++,T>=d)throw new Error(A.statusText);const w=Math.min(p*Math.pow(2,T),m)*1e3;yield o(w),A=yield fetch(f,v)}if(S.includes(A.status)){const w=yield A.json();throw"reason"in w?new Error(w.reason):new Error(A.statusText)}return A})}function u(h,f){return t(this,arguments,void 0,function*(d,p,m=3,v=.2,_=2,S={}){const T=new URLSearchParams(p);T.set("format","flatbuffers");const A=yield l(`${d}?${T.toString()}`,m,v,_,S),w=new e.ByteBuffer(new Uint8Array(yield A.arrayBuffer())),C=[];let O=0;for(;O<w.capacity();){w.setPosition(O);const L=w.readInt32(w.position());C.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(w)),O+=L+4}return C})}return lib}var libExports=requireLib();const WeatherForecast=()=>{var F,B;const[t,e]=reactExports.useState(null),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(null),[h,f]=reactExports.useState({latitude:-15.7801,longitude:-47.9292}),[d,p]=reactExports.useState(!1);reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(U=>{f({latitude:U.coords.latitude,longitude:U.coords.longitude})},()=>{console.log("Usando localizao padro")})},[]),reactExports.useEffect(()=>{(async()=>{try{o(!0);const V={latitude:h.latitude,longitude:h.longitude,hourly:["temperature_2m","precipitation","rain","relative_humidity_2m","wind_speed_10m","wind_direction_10m","apparent_temperature","surface_pressure","cloud_cover","visibility"],daily:["precipitation_probability_max","wind_speed_10m_max","wind_direction_10m_dominant","temperature_2m_max","temperature_2m_min","apparent_temperature_max","apparent_temperature_min","sunrise","sunset","sunshine_duration","uv_index_max"],current:["temperature_2m"]},G=(await libExports.fetchWeatherApi("https://api.open-meteo.com/v1/forecast",V))[0],Y=G.utcOffsetSeconds(),Q=G.current(),ie=G.hourly(),ae=G.daily(),le=ae.variables(7),he=ae.variables(8),ge={current:{time:new Date((Number(Q.time())+Y)*1e3),temperature2m:Q.variables(0).value()},hourly:{time:[...Array((Number(ie.timeEnd())-Number(ie.time()))/ie.interval())].map((J,se)=>new Date((Number(ie.time())+se*ie.interval()+Y)*1e3)),temperature2m:ie.variables(0).valuesArray(),precipitation:ie.variables(1).valuesArray(),rain:ie.variables(2).valuesArray(),relativeHumidity2m:ie.variables(3).valuesArray(),windSpeed10m:ie.variables(4).valuesArray(),windDirection10m:ie.variables(5).valuesArray(),apparentTemperature:ie.variables(6).valuesArray(),surfacePressure:ie.variables(7).valuesArray(),cloudCover:ie.variables(8).valuesArray(),visibility:ie.variables(9).valuesArray()},daily:{time:[...Array((Number(ae.timeEnd())-Number(ae.time()))/ae.interval())].map((J,se)=>new Date((Number(ae.time())+se*ae.interval()+Y)*1e3)),precipitationProbabilityMax:ae.variables(0).valuesArray(),windSpeed10mMax:ae.variables(1).valuesArray(),windDirection10mDominant:ae.variables(2).valuesArray(),temperature2mMax:ae.variables(3).valuesArray(),temperature2mMin:ae.variables(4).valuesArray(),apparentTemperatureMax:ae.variables(5).valuesArray(),apparentTemperatureMin:ae.variables(6).valuesArray(),sunrise:[...Array(le.valuesInt64Length())].map((J,se)=>new Date((Number(le.valuesInt64(se))+Y)*1e3)),sunset:[...Array(he.valuesInt64Length())].map((J,se)=>new Date((Number(he.valuesInt64(se))+Y)*1e3)),sunshineDuration:ae.variables(9).valuesArray(),uvIndexMax:ae.variables(10).valuesArray()}};e(ge),o(!1)}catch(V){console.error("Erro ao buscar dados meteorolgicos:",V),u("No foi possvel carregar os dados meteorolgicos"),o(!1)}})()},[h]);const m=t==null?void 0:t.hourly.rain.slice(0,24).some(U=>U>.1),v=t==null?void 0:t.daily.temperature2mMax[0],_=t==null?void 0:t.daily.temperature2mMin[0],S=t==null?void 0:t.hourly.precipitation.slice(0,24).reduce((U,V)=>U+V,0),T=t==null?void 0:t.current.time.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),A=(F=t==null?void 0:t.daily.sunrise[0])==null?void 0:F.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),w=(B=t==null?void 0:t.daily.sunset[0])==null?void 0:B.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),C=U=>{const V=["N","NE","L","SE","S","SO","O","NO"],q=Math.round(U/45)%8;return V[q]},O=()=>{if(!t)return jsxRuntimeExports.jsx(Cloud$1,{className:"h-10 w-10 text-gray-400"});const U=t.current.time.getHours(),V=t.hourly.rain[0]>.1,q=t.hourly.cloudCover[0];return V?jsxRuntimeExports.jsx(CloudRain,{className:"h-10 w-10 text-blue-500"}):U>=6&&U<18?q>50?jsxRuntimeExports.jsx(Cloud$1,{className:"h-10 w-10 text-gray-400"}):jsxRuntimeExports.jsx(Sun$1,{className:"h-10 w-10 text-yellow-500"}):jsxRuntimeExports.jsx(Cloud$1,{className:"h-10 w-10 text-gray-400"})},L=()=>{if(!t)return"";const U=m,V=t.hourly.windSpeed10m[0],q=t.hourly.relativeHumidity2m[0],H=t.daily.uvIndexMax[0];return U?"Recomendamos verificar o sistema de drenagem das plantaes devido  previso de chuva.":V>20?"Ventos fortes previstos. Considere adiar pulverizaes e proteger mudas jovens.":q<30?"Umidade baixa. Aumente a frequncia de irrigao para evitar estresse hdrico nas plantas.":H>8?"ndice UV muito alto. Proteja trabalhadores e considere sombreamento para culturas sensveis.":"Condies favorveis para trabalhos no campo hoje."};return jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Thermometer,{className:"h-5 w-5 text-gray-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-700",children:"Previso do Tempo"})]}),!n&&!l&&t&&jsxRuntimeExports.jsx("button",{onClick:()=>p(!d),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:d?"Ver menos":"Ver mais detalhes"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-gray-200 rounded-lg p-4 sm:p-5",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-24",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):l?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500",children:l}):t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[O(),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Agora  ",T]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[t.current.temperature2m.toFixed(1),"C"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Sensao: ",t.hourly.apparentTemperature[0].toFixed(1),"C"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Mx/Mn"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[v==null?void 0:v.toFixed(1),"/",_==null?void 0:_.toFixed(1),""]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Sensao: ",t.daily.apparentTemperatureMax[0].toFixed(1),"/",t.daily.apparentTemperatureMin[0].toFixed(1),""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(CloudRain,{className:"h-4 w-4 text-blue-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Precipitao"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[S==null?void 0:S.toFixed(1)," mm"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Prob: ",t.daily.precipitationProbabilityMax[0],"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Wind,{className:"h-4 w-4 text-gray-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Vento"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[t.hourly.windSpeed10m[0].toFixed(1)," km/h"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Direo: ",C(t.hourly.windDirection10m[0])]})]})]}),d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-4 w-4 text-blue-400 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Umidade"})]}),jsxRuntimeExports.jsxs("p",{className:"text-base font-semibold text-gray-800",children:[t.hourly.relativeHumidity2m[0].toFixed(0),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Gauge,{className:"h-4 w-4 text-gray-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Presso"})]}),jsxRuntimeExports.jsxs("p",{className:"text-base font-semibold text-gray-800",children:[(t.hourly.surfacePressure[0]/10).toFixed(0)," kPa"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4 text-orange-400 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"ndice UV"})]}),jsxRuntimeExports.jsx("p",{className:"text-base font-semibold text-gray-800",children:t.daily.uvIndexMax[0].toFixed(0)})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Cloud$1,{className:"h-4 w-4 text-gray-400 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Nuvens"})]}),jsxRuntimeExports.jsxs("p",{className:"text-base font-semibold text-gray-800",children:[t.hourly.cloudCover[0].toFixed(0),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Sunrise,{className:"h-4 w-4 text-amber-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Nascer do Sol"})]}),jsxRuntimeExports.jsx("p",{className:"text-base font-semibold text-gray-800",children:A})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx(Sunset,{className:"h-4 w-4 text-orange-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Pr do Sol"})]}),jsxRuntimeExports.jsx("p",{className:"text-base font-semibold text-gray-800",children:w})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3 mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Previso para os prximos dias"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:[0,1,2].map(U=>jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:t.daily.time[U].toLocaleDateString("pt-BR",{weekday:"short"})}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium",children:[t.daily.temperature2mMax[U].toFixed(0),"/",t.daily.temperature2mMin[U].toFixed(0),""]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[t.daily.precipitationProbabilityMax[U],"% chuva"]})]},U))})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-sm text-gray-600",children:jsxRuntimeExports.jsx("p",{children:L()})})]}):null})]})},InfoPanel=()=>{const{regions:t,seasonType:e}=useAppContext(),n=t.reduce((u,h)=>u+h[e].waterAccessLevel,0)/t.length,l=t.filter(u=>u[e].waterAccessLevel<40).length/t.length*100;return jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Viso Geral"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-6 w-6 text-blue-500 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Acesso Hdrico Mdio"}),jsxRuntimeExports.jsxs("p",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:[n.toFixed(1),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"h-6 w-6 text-orange-500 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Regies com Dficit"}),jsxRuntimeExports.jsxs("p",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:[l.toFixed(0),"%"]})]})]}),jsxRuntimeExports.jsx(WeatherForecast,{}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(AreaChart,{className:"h-5 w-5 text-gray-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-700",children:"Distribuio de Acesso Hdrico"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4",children:jsxRuntimeExports.jsx(WaterAccessChart,{})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(Info,{className:"h-5 w-5 text-gray-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-700",children:"Informaes"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-5 text-sm sm:text-base text-gray-600 space-y-3 leading-relaxed",children:[jsxRuntimeExports.jsx("p",{children:"O mapa mostra a anlise de acesso hdrico para plantao de algodo. As regies so coloridas de acordo com o nvel de acesso  gua."}),jsxRuntimeExports.jsx("p",{children:"Selecione uma regio no mapa para ver detalhes especficos e recomendaes de como melhorar o acesso hdrico em reas com dficit."}),jsxRuntimeExports.jsx("p",{children:"Use o controle de temporada para alternar entre estao seca e chuvosa e ver como o acesso hdrico varia durante o ano."}),jsxRuntimeExports.jsx("p",{children:"A previso do tempo mostra condies climticas atuais e ajuda a planejar atividades agrcolas com base na probabilidade de chuva."})]})]})]})},SolutionRecommendations=({waterAccessLevel:t})=>{const n=t<20?[{title:"Sistema de Irrigao por Gotejamento",description:"Implementao de sistema de irrigao por gotejamento para maximizar a eficincia do uso da gua.",impact:"high"},{title:"Captao de gua da Chuva",description:"Criao de reservatrios para captao e armazenamento de gua da chuva para uso durante perodos de seca.",impact:"high"},{title:"Barreiras Contra Vento",description:"Instalao de barreiras fsicas para reduzir a evaporao causada por ventos fortes.",impact:"medium"},{title:"Variedades de Algodo Resistentes  Seca",description:"Utilizao de variedades de algodo geneticamente adaptadas para resistir a condies de baixa disponibilidade de gua.",impact:"high"}]:t<40?[{title:"Irrigao Eficiente",description:"Implementao de sistema de irrigao por asperso com controle de fluxo para reduzir o consumo de gua.",impact:"high"},{title:"Cobertura do Solo",description:"Uso de cobertura vegetal ou mulch para reduzir a evaporao e manter a umidade do solo.",impact:"medium"},{title:"Monitoramento de Umidade do Solo",description:"Instalao de sensores de umidade para monitoramento em tempo real e otimizao da irrigao.",impact:"medium"},{title:"Plantio em Curvas de Nvel",description:"Tcnica de plantio seguindo as curvas de nvel do terreno para melhor reteno de gua no solo.",impact:"medium"}]:[{title:"Otimizao de Horrios de Irrigao",description:"Ajuste dos horrios de irrigao para perodos de menor evaporao (incio da manh ou final da tarde).",impact:"medium"},{title:"Manejo Integrado de Pragas",description:"Implementao de estratgias de controle biolgico para reduzir o estresse das plantas e melhorar o uso da gua.",impact:"low"},{title:"Rotao de Culturas",description:"Incluso de culturas que melhoram a estrutura do solo e sua capacidade de reteno de gua.",impact:"medium"}];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-5 w-5 text-yellow-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Recomendaes para Melhorar o Acesso Hdrico"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:n.map((o,l)=>jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center mr-3 
                  ${o.impact==="high"?"bg-green-100 text-green-600":o.impact==="medium"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-800",children:o.title})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-3 text-sm text-gray-600",children:[jsxRuntimeExports.jsx("p",{children:o.description}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium mr-1",children:"Impacto:"}),jsxRuntimeExports.jsx("span",{className:`text-xs font-bold ${o.impact==="high"?"text-green-600":o.impact==="medium"?"text-blue-600":"text-gray-600"}`,children:o.impact==="high"?"Alto":o.impact==="medium"?"Mdio":"Baixo"})]})]})]},l))})]})},RegionDetail=({region:t})=>{const{name:e,currentData:n}=t,{waterAccessLevel:o,precipitation:l,temperature:u,soilMoisture:h}=n,f=p=>p>=80?"timo":p>=60?"Bom":p>=40?"Moderado":p>=20?"Deficiente":"Crtico",d=p=>p>=80?"text-green-600":p>=60?"text-blue-600":p>=40?"text-yellow-600":p>=20?"text-orange-600":"text-red-600";return jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-full sm:max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.history.back(),className:"p-1 rounded-full hover:bg-gray-100 mr-2",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5 text-gray-500"})}),jsxRuntimeExports.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 break-words",children:["Regio ",e]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-6 w-6 text-blue-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Acesso Hdrico"})]}),jsxRuntimeExports.jsxs("span",{className:`text-lg sm:text-xl font-bold ${d(o)}`,children:[o,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:jsxRuntimeExports.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${o}%`,backgroundColor:o>=80?"#22c55e":o>=60?"#3b82f6":o>=40?"#eab308":o>=20?"#f97316":"#ef4444"}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Classificao:"," ",jsxRuntimeExports.jsx("span",{className:`font-medium ${d(o)}`,children:f(o)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(CloudRain,{className:"h-5 w-5 text-blue-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Precipitao"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[l," mm"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(Thermometer,{className:"h-5 w-5 text-orange-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Temperatura"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[u,"C"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(Wind,{className:"h-5 w-5 text-teal-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Umidade do Solo"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[h,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center",children:["Ver dados histricos",jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4 ml-1"})]})})]}),o<60&&jsxRuntimeExports.jsx(SolutionRecommendations,{waterAccessLevel:o})]})};function MapaDinamico(){const[t,e]=React.useState(null);return jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 relative h-[60vh] lg:h-full",children:jsxRuntimeExports.jsx(MapContainer,{onSelectRegion:e})}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-96 border-t lg:border-t-0 lg:border-l border-gray-200 bg-white overflow-y-auto h-auto lg:h-full",children:t?jsxRuntimeExports.jsx(RegionDetail,{region:t}):jsxRuntimeExports.jsx(InfoPanel,{})})]})]})})}const navItems=[{name:"Incio",path:"/"},{name:"O que  Yield Gap",path:"/what-is-yield-gap"},{name:"Evoluo Histrica",path:"/historical-evolution"},{name:"Ferramentas",path:"/tools-for-yield-gap"},{name:"Solues",path:"/solve-yield-gap"},{name:"Mapa",path:"/mapa"}],Navbar=()=>{const[t,e]=reactExports.useState(!1),[n,o]=reactExports.useState(!1),l=useLocation();return reactExports.useEffect(()=>{const u=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),reactExports.useEffect(()=>{e(!1)},[l]),jsxRuntimeExports.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ease-in-out ${n||t?"bg-white shadow-md py-3":"bg-transparent py-4"}`,children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[" ",jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-2 flex-shrink-0",children:[" ",jsxRuntimeExports.jsx(Leaf,{size:28,className:"text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold text-primary-800",children:"FlowCot"})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:navItems.map(u=>jsxRuntimeExports.jsx(Link,{to:u.path,className:`px-1 py-2 text-sm font-medium transition-colors duration-200 ease-in-out ${l.pathname===u.path?"text-primary-600 border-b-2 border-primary-600":n?"text-gray-700 hover:text-primary-600":"text-gray-800 hover:text-primary-600"}`,children:u.name},u.path))}),jsxRuntimeExports.jsx("div",{className:"lg:hidden",children:jsxRuntimeExports.jsx("button",{className:"text-gray-700 focus:outline-none p-2",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?jsxRuntimeExports.jsx(X$1,{size:24}):jsxRuntimeExports.jsx(Menu,{size:24})})})]}),jsxRuntimeExports.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-300 ease-in-out ${t?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"bg-white pt-2 pb-4 px-4 space-y-2",children:[" ",navItems.map(u=>jsxRuntimeExports.jsx(Link,{to:u.path,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ease-in-out ${l.pathname===u.path?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100 hover:text-primary-600"}`,children:u.name},u.path))]})})]})})},Footer=()=>jsxRuntimeExports.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[" ",jsxRuntimeExports.jsxs("div",{className:"container-custom py-12 md:py-16",children:[" ",jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[" ",jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(Leaf,{size:24,className:"text-primary-400"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold text-white",children:"FlowCot"})]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed",children:[" ","Disseminando conhecimento e oferecendo solues para a reduo do yield gap na cotonicultura brasileira."]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-base font-semibold mb-4 uppercase tracking-wider",children:"Navegao"})," ",jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Incio"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/what-is-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"O que  Yield Gap"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/historical-evolution",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Evoluo Histrica"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/tools-for-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Ferramentas"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/solve-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Solues"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/mapa",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Mapa Dinmico"})})," "]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-base font-semibold mb-4 uppercase tracking-wider",children:"Recursos"})," ",jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/minecraft-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Minecraft e o Yield Gap"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Passos Prticos"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/about-us",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm",children:"Sobre Ns"})})," "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-700 mt-10 pt-6 text-center text-gray-500 text-xs",children:[" ",jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," FlowCot. Todos os direitos reservados."]})]})]})]}),Layout=()=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(motion.main,{className:"flex-grow",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{})]});function App(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AnimatedBackground,{}),jsxRuntimeExports.jsx(FlyingBirds,{}),jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"what-is-yield-gap",element:jsxRuntimeExports.jsx(WhatIsYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"historical-evolution",element:jsxRuntimeExports.jsx(HistoricalEvolution,{})}),jsxRuntimeExports.jsx(Route,{path:"tools-for-yield-gap",element:jsxRuntimeExports.jsx(ToolsForYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"solve-yield-gap",element:jsxRuntimeExports.jsx(SolveYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"minecraft-yield-gap",element:jsxRuntimeExports.jsx(MinecraftYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"steps-to-avoid",element:jsxRuntimeExports.jsx(PassosParaEvitar,{})}),jsxRuntimeExports.jsx(Route,{path:"about-us",element:jsxRuntimeExports.jsx(AboutUs,{})}),jsxRuntimeExports.jsx(Route,{path:"conclusions",element:jsxRuntimeExports.jsx(Conclusions,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}),jsxRuntimeExports.jsx(Route,{path:"mapa",element:jsxRuntimeExports.jsx(MapaDinamico,{})})]})}),jsxRuntimeExports.jsx(ParrotMascot,{})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
