var Ff=Object.defineProperty;var $f=(t,e,n)=>e in t?Ff(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cn=(t,e,n)=>$f(t,typeof e!="symbol"?e+"":e,n);function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),n}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=v&&Q[v]||Q["@@iterator"],typeof Q=="function"?Q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function w(Q,ue,_e){this.props=Q,this.context=ue,this.refs=A,this.updater=_e||S}w.prototype.isReactComponent={},w.prototype.setState=function(Q,ue){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ue,"setState")},w.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function C(){}C.prototype=w.prototype;function O(Q,ue,_e){this.props=Q,this.context=ue,this.refs=A,this.updater=_e||S}var L=O.prototype=new C;L.constructor=O,M(L,w.prototype),L.isPureReactComponent=!0;var F=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function q(Q,ue,_e){var ge,ve={},we=null,Pe=null;if(ue!=null)for(ge in ue.ref!==void 0&&(Pe=ue.ref),ue.key!==void 0&&(we=""+ue.key),ue)$.call(ue,ge)&&!U.hasOwnProperty(ge)&&(ve[ge]=ue[ge]);var Re=arguments.length-2;if(Re===1)ve.children=_e;else if(1<Re){for(var Ae=Array(Re),Ne=0;Ne<Re;Ne++)Ae[Ne]=arguments[Ne+2];ve.children=Ae}if(Q&&Q.defaultProps)for(ge in Re=Q.defaultProps,Re)ve[ge]===void 0&&(ve[ge]=Re[ge]);return{$$typeof:t,type:Q,key:we,ref:Pe,props:ve,_owner:B.current}}function Z(Q,ue){return{$$typeof:t,type:Q.type,key:ue,ref:Q.ref,props:Q.props,_owner:Q._owner}}function G(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function H(Q){var ue={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(_e){return ue[_e]})}var ne=/\/+/g;function ae(Q,ue){return typeof Q=="object"&&Q!==null&&Q.key!=null?H(""+Q.key):ue.toString(36)}function te(Q,ue,_e,ge,ve){var we=typeof Q;(we==="undefined"||we==="boolean")&&(Q=null);var Pe=!1;if(Q===null)Pe=!0;else switch(we){case"string":case"number":Pe=!0;break;case"object":switch(Q.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=Q,ve=ve(Pe),Q=ge===""?"."+ae(Pe,0):ge,F(ve)?(_e="",Q!=null&&(_e=Q.replace(ne,"$&/")+"/"),te(ve,ue,_e,"",function(Ne){return Ne})):ve!=null&&(G(ve)&&(ve=Z(ve,_e+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(ne,"$&/")+"/")+Q)),ue.push(ve)),1;if(Pe=0,ge=ge===""?".":ge+":",F(Q))for(var Re=0;Re<Q.length;Re++){we=Q[Re];var Ae=ge+ae(we,Re);Pe+=te(we,ue,_e,Ae,ve)}else if(Ae=_(Q),typeof Ae=="function")for(Q=Ae.call(Q),Re=0;!(we=Q.next()).done;)we=we.value,Ae=ge+ae(we,Re++),Pe+=te(we,ue,_e,Ae,ve);else if(we==="object")throw ue=String(Q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Pe}function ce(Q,ue,_e){if(Q==null)return Q;var ge=[],ve=0;return te(Q,ge,"","",function(we){return ue.call(_e,we,ve++)}),ge}function fe(Q){if(Q._status===-1){var ue=Q._result;ue=ue(),ue.then(function(_e){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=_e)},function(_e){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=_e)}),Q._status===-1&&(Q._status=0,Q._result=ue)}if(Q._status===1)return Q._result.default;throw Q._result}var ye={current:null},J={transition:null},oe={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function se(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ce,forEach:function(Q,ue,_e){ce(Q,function(){ue.apply(this,arguments)},_e)},count:function(Q){var ue=0;return ce(Q,function(){ue++}),ue},toArray:function(Q){return ce(Q,function(ue){return ue})||[]},only:function(Q){if(!G(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},react_production_min.Component=w,react_production_min.Fragment=n,react_production_min.Profiler=l,react_production_min.PureComponent=O,react_production_min.StrictMode=o,react_production_min.Suspense=d,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,react_production_min.act=se,react_production_min.cloneElement=function(Q,ue,_e){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var ge=M({},Q.props),ve=Q.key,we=Q.ref,Pe=Q._owner;if(ue!=null){if(ue.ref!==void 0&&(we=ue.ref,Pe=B.current),ue.key!==void 0&&(ve=""+ue.key),Q.type&&Q.type.defaultProps)var Re=Q.type.defaultProps;for(Ae in ue)$.call(ue,Ae)&&!U.hasOwnProperty(Ae)&&(ge[Ae]=ue[Ae]===void 0&&Re!==void 0?Re[Ae]:ue[Ae])}var Ae=arguments.length-2;if(Ae===1)ge.children=_e;else if(1<Ae){Re=Array(Ae);for(var Ne=0;Ne<Ae;Ne++)Re[Ne]=arguments[Ne+2];ge.children=Re}return{$$typeof:t,type:Q.type,key:ve,ref:we,props:ge,_owner:Pe}},react_production_min.createContext=function(Q){return Q={$$typeof:f,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:u,_context:Q},Q.Consumer=Q},react_production_min.createElement=q,react_production_min.createFactory=function(Q){var ue=q.bind(null,Q);return ue.type=Q,ue},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Q){return{$$typeof:h,render:Q}},react_production_min.isValidElement=G,react_production_min.lazy=function(Q){return{$$typeof:m,_payload:{_status:-1,_result:Q},_init:fe}},react_production_min.memo=function(Q,ue){return{$$typeof:p,type:Q,compare:ue===void 0?null:ue}},react_production_min.startTransition=function(Q){var ue=J.transition;J.transition={};try{Q()}finally{J.transition=ue}},react_production_min.unstable_act=se,react_production_min.useCallback=function(Q,ue){return ye.current.useCallback(Q,ue)},react_production_min.useContext=function(Q){return ye.current.useContext(Q)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Q){return ye.current.useDeferredValue(Q)},react_production_min.useEffect=function(Q,ue){return ye.current.useEffect(Q,ue)},react_production_min.useId=function(){return ye.current.useId()},react_production_min.useImperativeHandle=function(Q,ue,_e){return ye.current.useImperativeHandle(Q,ue,_e)},react_production_min.useInsertionEffect=function(Q,ue){return ye.current.useInsertionEffect(Q,ue)},react_production_min.useLayoutEffect=function(Q,ue){return ye.current.useLayoutEffect(Q,ue)},react_production_min.useMemo=function(Q,ue){return ye.current.useMemo(Q,ue)},react_production_min.useReducer=function(Q,ue,_e){return ye.current.useReducer(Q,ue,_e)},react_production_min.useRef=function(Q){return ye.current.useRef(Q)},react_production_min.useState=function(Q){return ye.current.useState(Q)},react_production_min.useSyncExternalStore=function(Q,ue,_e){return ye.current.useSyncExternalStore(Q,ue,_e)},react_production_min.useTransition=function(){return ye.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var reactExports=requireReact();const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(t){function e(J,oe){var se=J.length;J.push(oe);e:for(;0<se;){var Q=se-1>>>1,ue=J[Q];if(0<l(ue,oe))J[Q]=oe,J[se]=ue,se=Q;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var oe=J[0],se=J.pop();if(se!==oe){J[0]=se;e:for(var Q=0,ue=J.length,_e=ue>>>1;Q<_e;){var ge=2*(Q+1)-1,ve=J[ge],we=ge+1,Pe=J[we];if(0>l(ve,se))we<ue&&0>l(Pe,ve)?(J[Q]=Pe,J[we]=se,Q=we):(J[Q]=ve,J[ge]=se,Q=ge);else if(we<ue&&0>l(Pe,se))J[Q]=Pe,J[we]=se,Q=we;else break e}}return oe}function l(J,oe){var se=J.sortIndex-oe.sortIndex;return se!==0?se:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();t.unstable_now=function(){return f.now()-h}}var d=[],p=[],m=1,v=null,_=3,S=!1,M=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var oe=n(p);oe!==null;){if(oe.callback===null)o(p);else if(oe.startTime<=J)o(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(p)}}function F(J){if(A=!1,L(J),!M)if(n(d)!==null)M=!0,fe($);else{var oe=n(p);oe!==null&&ye(F,oe.startTime-J)}}function $(J,oe){M=!1,A&&(A=!1,C(q),q=-1),S=!0;var se=_;try{for(L(oe),v=n(d);v!==null&&(!(v.expirationTime>oe)||J&&!H());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,_=v.priorityLevel;var ue=Q(v.expirationTime<=oe);oe=t.unstable_now(),typeof ue=="function"?v.callback=ue:v===n(d)&&o(d),L(oe)}else o(d);v=n(d)}if(v!==null)var _e=!0;else{var ge=n(p);ge!==null&&ye(F,ge.startTime-oe),_e=!1}return _e}finally{v=null,_=se,S=!1}}var B=!1,U=null,q=-1,Z=5,G=-1;function H(){return!(t.unstable_now()-G<Z)}function ne(){if(U!==null){var J=t.unstable_now();G=J;var oe=!0;try{oe=U(!0,J)}finally{oe?ae():(B=!1,U=null)}}else B=!1}var ae;if(typeof O=="function")ae=function(){O(ne)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=ne,ae=function(){ce.postMessage(null)}}else ae=function(){w(ne,0)};function fe(J){U=J,B||(B=!0,ae())}function ye(J,oe){q=w(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){M||S||(M=!0,fe($))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var se=_;_=oe;try{return J()}finally{_=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=_;_=J;try{return oe()}finally{_=se}},t.unstable_scheduleCallback=function(J,oe,se){var Q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Q+se:Q):se=Q,J){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=se+ue,J={id:m++,callback:oe,priorityLevel:J,startTime:se,expirationTime:ue,sortIndex:-1},se>Q?(J.sortIndex=se,e(p,J),n(d)===null&&J===n(p)&&(A?(C(q),q=-1):A=!0,ye(F,se-Q))):(J.sortIndex=ue,e(d,J),M||S||(M=!0,fe($))),J},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(J){var oe=_;return function(){var se=_;_=oe;try{return J.apply(this,arguments)}finally{_=se}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler$1();function n(b){for(var T="https://reactjs.org/docs/error-decoder.html?invariant="+b,N=1;N<arguments.length;N++)T+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(b,T){f(b,T),f(b+"Capture",T)}function f(b,T){for(l[b]=T,b=0;b<T.length;b++)o.add(T[b])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function _(b){return d.call(v,b)?!0:d.call(m,b)?!1:p.test(b)?v[b]=!0:(m[b]=!0,!1)}function S(b,T,N,V){if(N!==null&&N.type===0)return!1;switch(typeof T){case"function":case"symbol":return!0;case"boolean":return V?!1:N!==null?!N.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function M(b,T,N,V){if(T===null||typeof T>"u"||S(b,T,N,V))return!0;if(V)return!1;if(N!==null)switch(N.type){case 3:return!T;case 4:return T===!1;case 5:return isNaN(T);case 6:return isNaN(T)||1>T}return!1}function A(b,T,N,V,Y,ie,me){this.acceptsBooleans=T===2||T===3||T===4,this.attributeName=V,this.attributeNamespace=Y,this.mustUseProperty=N,this.propertyName=b,this.type=T,this.sanitizeURL=ie,this.removeEmptyString=me}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){w[b]=new A(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var T=b[0];w[T]=new A(T,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){w[b]=new A(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){w[b]=new A(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){w[b]=new A(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){w[b]=new A(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){w[b]=new A(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){w[b]=new A(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){w[b]=new A(b,5,!1,b.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var T=b.replace(C,O);w[T]=new A(T,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var T=b.replace(C,O);w[T]=new A(T,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var T=b.replace(C,O);w[T]=new A(T,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){w[b]=new A(b,1,!1,b.toLowerCase(),null,!1,!1)}),w.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){w[b]=new A(b,1,!1,b.toLowerCase(),null,!0,!0)});function L(b,T,N,V){var Y=w.hasOwnProperty(T)?w[T]:null;(Y!==null?Y.type!==0:V||!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(M(T,N,Y,V)&&(N=null),V||Y===null?_(T)&&(N===null?b.removeAttribute(T):b.setAttribute(T,""+N)):Y.mustUseProperty?b[Y.propertyName]=N===null?Y.type===3?!1:"":N:(T=Y.attributeName,V=Y.attributeNamespace,N===null?b.removeAttribute(T):(Y=Y.type,N=Y===3||Y===4&&N===!0?"":""+N,V?b.setAttributeNS(V,T,N):b.setAttribute(T,N))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),B=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),J=Symbol.iterator;function oe(b){return b===null||typeof b!="object"?null:(b=J&&b[J]||b["@@iterator"],typeof b=="function"?b:null)}var se=Object.assign,Q;function ue(b){if(Q===void 0)try{throw Error()}catch(N){var T=N.stack.trim().match(/\n( *(at )?)/);Q=T&&T[1]||""}return`
`+Q+b}var _e=!1;function ge(b,T){if(!b||_e)return"";_e=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(T)if(T=function(){throw Error()},Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(nt){var V=nt}Reflect.construct(b,[],T)}else{try{T.call()}catch(nt){V=nt}b.call(T.prototype)}else{try{throw Error()}catch(nt){V=nt}b()}}catch(nt){if(nt&&V&&typeof nt.stack=="string"){for(var Y=nt.stack.split(`
`),ie=V.stack.split(`
`),me=Y.length-1,Ce=ie.length-1;1<=me&&0<=Ce&&Y[me]!==ie[Ce];)Ce--;for(;1<=me&&0<=Ce;me--,Ce--)if(Y[me]!==ie[Ce]){if(me!==1||Ce!==1)do if(me--,Ce--,0>Ce||Y[me]!==ie[Ce]){var Le=`
`+Y[me].replace(" at new "," at ");return b.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",b.displayName)),Le}while(1<=me&&0<=Ce);break}}}finally{_e=!1,Error.prepareStackTrace=N}return(b=b?b.displayName||b.name:"")?ue(b):""}function ve(b){switch(b.tag){case 5:return ue(b.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return b=ge(b.type,!1),b;case 11:return b=ge(b.type.render,!1),b;case 1:return b=ge(b.type,!0),b;default:return""}}function we(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case U:return"Fragment";case B:return"Portal";case Z:return"Profiler";case q:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case H:return(b.displayName||"Context")+".Consumer";case G:return(b._context.displayName||"Context")+".Provider";case ne:var T=b.render;return b=b.displayName,b||(b=T.displayName||T.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case ce:return T=b.displayName||null,T!==null?T:we(b.type)||"Memo";case fe:T=b._payload,b=b._init;try{return we(b(T))}catch{}}return null}function Pe(b){var T=b.type;switch(b.tag){case 24:return"Cache";case 9:return(T.displayName||"Context")+".Consumer";case 10:return(T._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=T.render,b=b.displayName||b.name||"",T.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return T;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(T);case 8:return T===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof T=="function")return T.displayName||T.name||null;if(typeof T=="string")return T}return null}function Re(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function Ae(b){var T=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(T==="checkbox"||T==="radio")}function Ne(b){var T=Ae(b)?"checked":"value",N=Object.getOwnPropertyDescriptor(b.constructor.prototype,T),V=""+b[T];if(!b.hasOwnProperty(T)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var Y=N.get,ie=N.set;return Object.defineProperty(b,T,{configurable:!0,get:function(){return Y.call(this)},set:function(me){V=""+me,ie.call(this,me)}}),Object.defineProperty(b,T,{enumerable:N.enumerable}),{getValue:function(){return V},setValue:function(me){V=""+me},stopTracking:function(){b._valueTracker=null,delete b[T]}}}}function Ie(b){b._valueTracker||(b._valueTracker=Ne(b))}function he(b){if(!b)return!1;var T=b._valueTracker;if(!T)return!0;var N=T.getValue(),V="";return b&&(V=Ae(b)?b.checked?"true":"false":b.value),b=V,b!==N?(T.setValue(b),!0):!1}function ke(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function Me(b,T){var N=T.checked;return se({},T,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??b._wrapperState.initialChecked})}function je(b,T){var N=T.defaultValue==null?"":T.defaultValue,V=T.checked!=null?T.checked:T.defaultChecked;N=Re(T.value!=null?T.value:N),b._wrapperState={initialChecked:V,initialValue:N,controlled:T.type==="checkbox"||T.type==="radio"?T.checked!=null:T.value!=null}}function Fe(b,T){T=T.checked,T!=null&&L(b,"checked",T,!1)}function Qe(b,T){Fe(b,T);var N=Re(T.value),V=T.type;if(N!=null)V==="number"?(N===0&&b.value===""||b.value!=N)&&(b.value=""+N):b.value!==""+N&&(b.value=""+N);else if(V==="submit"||V==="reset"){b.removeAttribute("value");return}T.hasOwnProperty("value")?Je(b,T.type,N):T.hasOwnProperty("defaultValue")&&Je(b,T.type,Re(T.defaultValue)),T.checked==null&&T.defaultChecked!=null&&(b.defaultChecked=!!T.defaultChecked)}function Ve(b,T,N){if(T.hasOwnProperty("value")||T.hasOwnProperty("defaultValue")){var V=T.type;if(!(V!=="submit"&&V!=="reset"||T.value!==void 0&&T.value!==null))return;T=""+b._wrapperState.initialValue,N||T===b.value||(b.value=T),b.defaultValue=T}N=b.name,N!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,N!==""&&(b.name=N)}function Je(b,T,N){(T!=="number"||ke(b.ownerDocument)!==b)&&(N==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+N&&(b.defaultValue=""+N))}var ot=Array.isArray;function pe(b,T,N,V){if(b=b.options,T){T={};for(var Y=0;Y<N.length;Y++)T["$"+N[Y]]=!0;for(N=0;N<b.length;N++)Y=T.hasOwnProperty("$"+b[N].value),b[N].selected!==Y&&(b[N].selected=Y),Y&&V&&(b[N].defaultSelected=!0)}else{for(N=""+Re(N),T=null,Y=0;Y<b.length;Y++){if(b[Y].value===N){b[Y].selected=!0,V&&(b[Y].defaultSelected=!0);return}T!==null||b[Y].disabled||(T=b[Y])}T!==null&&(T.selected=!0)}}function de(b,T){if(T.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},T,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Oe(b,T){var N=T.value;if(N==null){if(N=T.children,T=T.defaultValue,N!=null){if(T!=null)throw Error(n(92));if(ot(N)){if(1<N.length)throw Error(n(93));N=N[0]}T=N}T==null&&(T=""),N=T}b._wrapperState={initialValue:Re(N)}}function De(b,T){var N=Re(T.value),V=Re(T.defaultValue);N!=null&&(N=""+N,N!==b.value&&(b.value=N),T.defaultValue==null&&b.defaultValue!==N&&(b.defaultValue=N)),V!=null&&(b.defaultValue=""+V)}function Ue(b){var T=b.textContent;T===b._wrapperState.initialValue&&T!==""&&T!==null&&(b.value=T)}function tt(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(b,T){return b==null||b==="http://www.w3.org/1999/xhtml"?tt(T):b==="http://www.w3.org/2000/svg"&&T==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var mt,it=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(T,N,V,Y){MSApp.execUnsafeLocalFunction(function(){return b(T,N,V,Y)})}:b}(function(b,T){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=T;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+T.valueOf().toString()+"</svg>",T=mt.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;T.firstChild;)b.appendChild(T.firstChild)}});function ht(b,T){if(T){var N=b.firstChild;if(N&&N===b.lastChild&&N.nodeType===3){N.nodeValue=T;return}}b.textContent=T}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(b){dt.forEach(function(T){T=T+b.charAt(0).toUpperCase()+b.substring(1),Et[T]=Et[b]})});function It(b,T,N){return T==null||typeof T=="boolean"||T===""?"":N||typeof T!="number"||T===0||Et.hasOwnProperty(b)&&Et[b]?(""+T).trim():T+"px"}function bt(b,T){b=b.style;for(var N in T)if(T.hasOwnProperty(N)){var V=N.indexOf("--")===0,Y=It(N,T[N],V);N==="float"&&(N="cssFloat"),V?b.setProperty(N,Y):b[N]=Y}}var pt=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(b,T){if(T){if(pt[b]&&(T.children!=null||T.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(T.dangerouslySetInnerHTML!=null){if(T.children!=null)throw Error(n(60));if(typeof T.dangerouslySetInnerHTML!="object"||!("__html"in T.dangerouslySetInnerHTML))throw Error(n(61))}if(T.style!=null&&typeof T.style!="object")throw Error(n(62))}}function We(b,T){if(b.indexOf("-")===-1)return typeof T.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function qe(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var lt=null,Te=null,gt=null;function ze(b){if(b=ca(b)){if(typeof lt!="function")throw Error(n(280));var T=b.stateNode;T&&(T=al(T),lt(b.stateNode,b.type,T))}}function at(b){Te?gt?gt.push(b):gt=[b]:Te=b}function yt(){if(Te){var b=Te,T=gt;if(gt=Te=null,ze(b),T)for(b=0;b<T.length;b++)ze(T[b])}}function At(b,T){return b(T)}function Tt(){}var Nt=!1;function Jt(b,T,N){if(Nt)return b(T,N);Nt=!0;try{return At(b,T,N)}finally{Nt=!1,(Te!==null||gt!==null)&&(Tt(),yt())}}function Ut(b,T){var N=b.stateNode;if(N===null)return null;var V=al(N);if(V===null)return null;N=V[T];e:switch(T){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(b=b.type,V=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!V;break e;default:b=!1}if(b)return null;if(N&&typeof N!="function")throw Error(n(231,T,typeof N));return N}var Zt=!1;if(h)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Zt=!1}function Qn(b,T,N,V,Y,ie,me,Ce,Le){var nt=Array.prototype.slice.call(arguments,3);try{T.apply(N,nt)}catch(_t){this.onError(_t)}}var $n=!1,or=null,er=!1,sr=null,Wn={onError:function(b){$n=!0,or=b}};function fi(b,T,N,V,Y,ie,me,Ce,Le){$n=!1,or=null,Qn.apply(Wn,arguments)}function xo(b,T,N,V,Y,ie,me,Ce,Le){if(fi.apply(this,arguments),$n){if($n){var nt=or;$n=!1,or=null}else throw Error(n(198));er||(er=!0,sr=nt)}}function Zr(b){var T=b,N=b;if(b.alternate)for(;T.return;)T=T.return;else{b=T;do T=b,(T.flags&4098)!==0&&(N=T.return),b=T.return;while(b)}return T.tag===3?N:null}function bo(b){if(b.tag===13){var T=b.memoizedState;if(T===null&&(b=b.alternate,b!==null&&(T=b.memoizedState)),T!==null)return T.dehydrated}return null}function be(b){if(Zr(b)!==b)throw Error(n(188))}function He(b){var T=b.alternate;if(!T){if(T=Zr(b),T===null)throw Error(n(188));return T!==b?null:b}for(var N=b,V=T;;){var Y=N.return;if(Y===null)break;var ie=Y.alternate;if(ie===null){if(V=Y.return,V!==null){N=V;continue}break}if(Y.child===ie.child){for(ie=Y.child;ie;){if(ie===N)return be(Y),b;if(ie===V)return be(Y),T;ie=ie.sibling}throw Error(n(188))}if(N.return!==V.return)N=Y,V=ie;else{for(var me=!1,Ce=Y.child;Ce;){if(Ce===N){me=!0,N=Y,V=ie;break}if(Ce===V){me=!0,V=Y,N=ie;break}Ce=Ce.sibling}if(!me){for(Ce=ie.child;Ce;){if(Ce===N){me=!0,N=ie,V=Y;break}if(Ce===V){me=!0,V=ie,N=Y;break}Ce=Ce.sibling}if(!me)throw Error(n(189))}}if(N.alternate!==V)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?b:T}function et(b){return b=He(b),b!==null?rt(b):null}function rt(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var T=rt(b);if(T!==null)return T;b=b.sibling}return null}var Ze=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,jt=e.unstable_requestPaint,ft=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,Xt=e.unstable_ImmediatePriority,qt=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,Xn=e.unstable_LowPriority,vn=e.unstable_IdlePriority,wn=null,Ft=null;function Ot(b){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(wn,b,void 0,(b.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Jr,tn=Math.log,Mn=Math.LN2;function Jr(b){return b>>>=0,b===0?32:31-(tn(b)/Mn|0)|0}var Vn=64,Cn=4194304;function pn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function vr(b,T){var N=b.pendingLanes;if(N===0)return 0;var V=0,Y=b.suspendedLanes,ie=b.pingedLanes,me=N&268435455;if(me!==0){var Ce=me&~Y;Ce!==0?V=pn(Ce):(ie&=me,ie!==0&&(V=pn(ie)))}else me=N&~Y,me!==0?V=pn(me):ie!==0&&(V=pn(ie));if(V===0)return 0;if(T!==0&&T!==V&&(T&Y)===0&&(Y=V&-V,ie=T&-T,Y>=ie||Y===16&&(ie&4194240)!==0))return T;if((V&4)!==0&&(V|=N&16),T=b.entangledLanes,T!==0)for(b=b.entanglements,T&=V;0<T;)N=31-Sn(T),Y=1<<N,V|=b[N],T&=~Y;return V}function Bi(b,T){switch(b){case 1:case 2:case 4:return T+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(b,T){for(var N=b.suspendedLanes,V=b.pingedLanes,Y=b.expirationTimes,ie=b.pendingLanes;0<ie;){var me=31-Sn(ie),Ce=1<<me,Le=Y[me];Le===-1?((Ce&N)===0||(Ce&V)!==0)&&(Y[me]=Bi(Ce,T)):Le<=T&&(b.expiredLanes|=Ce),ie&=~Ce}}function tr(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Ar(){var b=Vn;return Vn<<=1,(Vn&4194240)===0&&(Vn=64),b}function Mi(b){for(var T=[],N=0;31>N;N++)T.push(b);return T}function Ti(b,T,N){b.pendingLanes|=T,T!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,T=31-Sn(T),b[T]=N}function Ds(b,T){var N=b.pendingLanes&~T;b.pendingLanes=T,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=T,b.mutableReadLanes&=T,b.entangledLanes&=T,T=b.entanglements;var V=b.eventTimes;for(b=b.expirationTimes;0<N;){var Y=31-Sn(N),ie=1<<Y;T[Y]=0,V[Y]=-1,b[Y]=-1,N&=~ie}}function Ai(b,T){var N=b.entangledLanes|=T;for(b=b.entanglements;N;){var V=31-Sn(N),Y=1<<V;Y&T|b[V]&T&&(b[V]|=T),N&=~Y}}var un=0;function Ui(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Ma,So,Eo,zi,ja,hi=!1,Pi=[],_r=null,Qt=null,di=null,Qr=new Map,Vi=new Map,mi=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function On(b,T){switch(b){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Qr.delete(T.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(T.pointerId)}}function Ci(b,T,N,V,Y,ie){return b===null||b.nativeEvent!==ie?(b={blockedOn:T,domEventName:N,eventSystemFlags:V,nativeEvent:ie,targetContainers:[Y]},T!==null&&(T=ca(T),T!==null&&So(T)),b):(b.eventSystemFlags|=V,T=b.targetContainers,Y!==null&&T.indexOf(Y)===-1&&T.push(Y),b)}function ks(b,T,N,V,Y){switch(T){case"focusin":return _r=Ci(_r,b,T,N,V,Y),!0;case"dragenter":return Qt=Ci(Qt,b,T,N,V,Y),!0;case"mouseover":return di=Ci(di,b,T,N,V,Y),!0;case"pointerover":var ie=Y.pointerId;return Qr.set(ie,Ci(Qr.get(ie)||null,b,T,N,V,Y)),!0;case"gotpointercapture":return ie=Y.pointerId,Vi.set(ie,Ci(Vi.get(ie)||null,b,T,N,V,Y)),!0}return!1}function Pr(b){var T=$a(b.target);if(T!==null){var N=Zr(T);if(N!==null){if(T=N.tag,T===13){if(T=bo(N),T!==null){b.blockedOn=T,ja(b.priority,function(){Eo(N)});return}}else if(T===3&&N.stateNode.current.memoizedState.isDehydrated){b.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Ta(b){if(b.blockedOn!==null)return!1;for(var T=b.targetContainers;0<T.length;){var N=Cr(b.domEventName,b.eventSystemFlags,T[0],b.nativeEvent);if(N===null){N=b.nativeEvent;var V=new N.constructor(N.type,N);xe=V,N.target.dispatchEvent(V),xe=null}else return T=ca(N),T!==null&&So(T),b.blockedOn=N,!1;T.shift()}return!0}function Aa(b,T,N){Ta(b)&&N.delete(T)}function ei(){hi=!1,_r!==null&&Ta(_r)&&(_r=null),Qt!==null&&Ta(Qt)&&(Qt=null),di!==null&&Ta(di)&&(di=null),Qr.forEach(Aa),Vi.forEach(Aa)}function Ji(b,T){b.blockedOn===T&&(b.blockedOn=null,hi||(hi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ei)))}function Pa(b){function T(Y){return Ji(Y,b)}if(0<Pi.length){Ji(Pi[0],b);for(var N=1;N<Pi.length;N++){var V=Pi[N];V.blockedOn===b&&(V.blockedOn=null)}}for(_r!==null&&Ji(_r,b),Qt!==null&&Ji(Qt,b),di!==null&&Ji(di,b),Qr.forEach(T),Vi.forEach(T),N=0;N<mi.length;N++)V=mi[N],V.blockedOn===b&&(V.blockedOn=null);for(;0<mi.length&&(N=mi[0],N.blockedOn===null);)Pr(N),N.blockedOn===null&&mi.shift()}var lr=F.ReactCurrentBatchConfig,cr=!0;function Gi(b,T,N,V){var Y=un,ie=lr.transition;lr.transition=null;try{un=1,qa(b,T,N,V)}finally{un=Y,lr.transition=ie}}function gi(b,T,N,V){var Y=un,ie=lr.transition;lr.transition=null;try{un=4,qa(b,T,N,V)}finally{un=Y,lr.transition=ie}}function qa(b,T,N,V){if(cr){var Y=Cr(b,T,N,V);if(Y===null)Qs(b,T,V,Ca,N),On(b,V);else if(ks(Y,b,T,N,V))V.stopPropagation();else if(On(b,V),T&4&&-1<Ls.indexOf(b)){for(;Y!==null;){var ie=ca(Y);if(ie!==null&&Ma(ie),ie=Cr(b,T,N,V),ie===null&&Qs(b,T,V,Ca,N),ie===Y)break;Y=ie}Y!==null&&V.stopPropagation()}else Qs(b,T,V,null,N)}}var Ca=null;function Cr(b,T,N,V){if(Ca=null,b=qe(V),b=$a(b),b!==null)if(T=Zr(b),T===null)b=null;else if(N=T.tag,N===13){if(b=bo(T),b!==null)return b;b=null}else if(N===3){if(T.stateNode.current.memoizedState.isDehydrated)return T.tag===3?T.stateNode.containerInfo:null;b=null}else T!==b&&(b=null);return Ca=b,null}function Ra(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case Xt:return 1;case qt:return 4;case gn:case Xn:return 16;case vn:return 536870912;default:return 16}default:return 16}}var jr=null,Qi=null,ur=null;function nr(){if(ur)return ur;var b,T=Qi,N=T.length,V,Y="value"in jr?jr.value:jr.textContent,ie=Y.length;for(b=0;b<N&&T[b]===Y[b];b++);var me=N-b;for(V=1;V<=me&&T[N-V]===Y[ie-V];V++);return ur=Y.slice(b,1<V?1-V:void 0)}function ea(b){var T=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&T===13&&(b=13)):b=T,b===10&&(b=13),32<=b||b===13?b:0}function qr(){return!0}function ta(){return!1}function fr(b){function T(N,V,Y,ie,me){this._reactName=N,this._targetInst=Y,this.type=V,this.nativeEvent=ie,this.target=me,this.currentTarget=null;for(var Ce in b)b.hasOwnProperty(Ce)&&(N=b[Ce],this[Ce]=N?N(ie):ie[Ce]);return this.isDefaultPrevented=(ie.defaultPrevented!=null?ie.defaultPrevented:ie.returnValue===!1)?qr:ta,this.isPropagationStopped=ta,this}return se(T.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),T}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kn=fr(na),rr=se({},na,{view:0,detail:0}),jn=fr(rr),kn,Nr,yi,wo=se({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==yi&&(yi&&b.type==="mousemove"?(kn=b.screenX-yi.screenX,Nr=b.screenY-yi.screenY):Nr=kn=0,yi=b),kn)},movementY:function(b){return"movementY"in b?b.movementY:Nr}}),wl=fr(wo),ra=se({},wo,{dataTransfer:0}),Ia=fr(ra),Ns=se({},rr,{relatedTarget:0}),Fs=fr(Ns),$s=se({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=fr($s),gc=se({},na,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Ml=fr(gc),Bs=se({},na,{data:0}),Tl=fr(Bs),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(b){var T=this.nativeEvent;return T.getModifierState?T.getModifierState(b):(b=Al[b])?!!T[b]:!1}function Oa(){return Mo}var Us=se({},rr,{key:function(b){if(b.key){var T=yc[b.key]||b.key;if(T!=="Unidentified")return T}return b.type==="keypress"?(b=ea(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?vc[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(b){return b.type==="keypress"?ea(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?ea(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),zs=fr(Us),vi=se({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=fr(vi),Ha=se({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),ia=fr(Ha),aa=se({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wa=fr(aa),_c=se({},wo,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Pl=fr(_c),Cl=[9,13,27,32],Fr=h&&"CompositionEvent"in window,xr=null;h&&"documentMode"in document&&(xr=document.documentMode);var Dn=h&&"TextEvent"in window&&!xr,To=h&&(!Fr||xr&&8<xr&&11>=xr),_i=" ",Rl=!1;function Il(b,T){switch(b){case"keyup":return Cl.indexOf(T.keyCode)!==-1;case"keydown":return T.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vs(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Da=!1;function xc(b,T){switch(b){case"compositionend":return Vs(T);case"keypress":return T.which!==32?null:(Rl=!0,_i);case"textInput":return b=T.data,b===_i&&Rl?null:b;default:return null}}function Qo(b,T){if(Da)return b==="compositionend"||!Fr&&Il(b,T)?(b=nr(),ur=Qi=jr=null,Da=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(T.ctrlKey||T.altKey||T.metaKey)||T.ctrlKey&&T.altKey){if(T.char&&1<T.char.length)return T.char;if(T.which)return String.fromCharCode(T.which)}return null;case"compositionend":return To&&T.locale!=="ko"?null:T.data;default:return null}}var Ao={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gs(b){var T=b&&b.nodeName&&b.nodeName.toLowerCase();return T==="input"?!!Ao[b.type]:T==="textarea"}function Po(b,T,N,V){at(V),T=el(T,"onChange"),0<T.length&&(N=new Kn("onChange","change",null,N,V),b.push({event:N,listeners:T}))}var La=null,Co=null;function bc(b){Do(b,0)}function oa(b){var T=qn(b);if(he(T))return b}function Sc(b,T){if(b==="change")return T}var Ro=!1;if(h){var Hr;if(h){var Xa="oninput"in document;if(!Xa){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Xa=typeof Ka.oninput=="function"}Hr=Xa}else Hr=!1;Ro=Hr&&(!document.documentMode||9<document.documentMode)}function Ri(){La&&(La.detachEvent("onpropertychange",js),Co=La=null)}function js(b){if(b.propertyName==="value"&&oa(Co)){var T=[];Po(T,Co,b,qe(b)),Jt(bc,T)}}function Io(b,T,N){b==="focusin"?(Ri(),La=T,Co=N,La.attachEvent("onpropertychange",js)):b==="focusout"&&Ri()}function Ec(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return oa(Co)}function Ol(b,T){if(b==="click")return oa(T)}function Nn(b,T){if(b==="input"||b==="change")return oa(T)}function qs(b,T){return b===T&&(b!==0||1/b===1/T)||b!==b&&T!==T}var ni=typeof Object.is=="function"?Object.is:qs;function Ya(b,T){if(ni(b,T))return!0;if(typeof b!="object"||b===null||typeof T!="object"||T===null)return!1;var N=Object.keys(b),V=Object.keys(T);if(N.length!==V.length)return!1;for(V=0;V<N.length;V++){var Y=N[V];if(!d.call(T,Y)||!ni(b[Y],T[Y]))return!1}return!0}function es(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function ri(b,T){var N=es(b);b=0;for(var V;N;){if(N.nodeType===3){if(V=b+N.textContent.length,b<=T&&V>=T)return{node:N,offset:T-b};b=V}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=es(N)}}function Za(b,T){return b&&T?b===T?!0:b&&b.nodeType===3?!1:T&&T.nodeType===3?Za(b,T.parentNode):"contains"in b?b.contains(T):b.compareDocumentPosition?!!(b.compareDocumentPosition(T)&16):!1:!1}function Fn(){for(var b=window,T=ke();T instanceof b.HTMLIFrameElement;){try{var N=typeof T.contentWindow.location.href=="string"}catch{N=!1}if(N)b=T.contentWindow;else break;T=ke(b.document)}return T}function hr(b){var T=b&&b.nodeName&&b.nodeName.toLowerCase();return T&&(T==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||T==="textarea"||b.contentEditable==="true")}function dr(b){var T=Fn(),N=b.focusedElem,V=b.selectionRange;if(T!==N&&N&&N.ownerDocument&&Za(N.ownerDocument.documentElement,N)){if(V!==null&&hr(N)){if(T=V.start,b=V.end,b===void 0&&(b=T),"selectionStart"in N)N.selectionStart=T,N.selectionEnd=Math.min(b,N.value.length);else if(b=(T=N.ownerDocument||document)&&T.defaultView||window,b.getSelection){b=b.getSelection();var Y=N.textContent.length,ie=Math.min(V.start,Y);V=V.end===void 0?ie:Math.min(V.end,Y),!b.extend&&ie>V&&(Y=V,V=ie,ie=Y),Y=ri(N,ie);var me=ri(N,V);Y&&me&&(b.rangeCount!==1||b.anchorNode!==Y.node||b.anchorOffset!==Y.offset||b.focusNode!==me.node||b.focusOffset!==me.offset)&&(T=T.createRange(),T.setStart(Y.node,Y.offset),b.removeAllRanges(),ie>V?(b.addRange(T),b.extend(me.node,me.offset)):(T.setEnd(me.node,me.offset),b.addRange(T)))}}for(T=[],b=N;b=b.parentNode;)b.nodeType===1&&T.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<T.length;N++)b=T[N],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Hs=h&&"documentMode"in document&&11>=document.documentMode,ji=null,Ja=null,ts=null,pr=!1;function Ws(b,T,N){var V=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;pr||ji==null||ji!==ke(V)||(V=ji,"selectionStart"in V&&hr(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),ts&&Ya(ts,V)||(ts=V,V=el(Ja,"onSelect"),0<V.length&&(T=new Kn("onSelect","select",null,T,N),b.push({event:T,listeners:V}),T.target=ji)))}function Oo(b,T){var N={};return N[b.toLowerCase()]=T.toLowerCase(),N["Webkit"+b]="webkit"+T,N["Moz"+b]="moz"+T,N}var Na={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Ii={},Oi={};h&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function qi(b){if(Ii[b])return Ii[b];if(!Na[b])return b;var T=Na[b],N;for(N in T)if(T.hasOwnProperty(N)&&N in Oi)return Ii[b]=T[N];return b}var ns=qi("animationend"),rs=qi("animationiteration"),Dl=qi("animationstart"),Ll=qi("transitionend"),kl=new Map,Nl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(b,T){kl.set(b,T),u(T,[b])}for(var Xs=0;Xs<Nl.length;Xs++){var as=Nl[Xs],os=as.toLowerCase(),wc=as[0].toUpperCase()+as.slice(1);sa(os,"on"+wc)}sa(ns,"onAnimationEnd"),sa(rs,"onAnimationIteration"),sa(Dl,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(Ll,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ks=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Ys(b,T,N){var V=b.type||"unknown-event";b.currentTarget=N,xo(V,T,void 0,b),b.currentTarget=null}function Do(b,T){T=(T&4)!==0;for(var N=0;N<b.length;N++){var V=b[N],Y=V.event;V=V.listeners;e:{var ie=void 0;if(T)for(var me=V.length-1;0<=me;me--){var Ce=V[me],Le=Ce.instance,nt=Ce.currentTarget;if(Ce=Ce.listener,Le!==ie&&Y.isPropagationStopped())break e;Ys(Y,Ce,nt),ie=Le}else for(me=0;me<V.length;me++){if(Ce=V[me],Le=Ce.instance,nt=Ce.currentTarget,Ce=Ce.listener,Le!==ie&&Y.isPropagationStopped())break e;Ys(Y,Ce,nt),ie=Le}}}if(er)throw b=sr,er=!1,sr=null,b}function Tn(b,T){var N=T[no];N===void 0&&(N=T[no]=new Set);var V=b+"__bubble";N.has(V)||(Js(T,b,2,!1),N.add(V))}function Zs(b,T,N){var V=0;T&&(V|=4),Js(N,b,V,T)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Lo(b){if(!b[ss]){b[ss]=!0,o.forEach(function(N){N!=="selectionchange"&&(Ks.has(N)||Zs(N,!1,b),Zs(N,!0,b))});var T=b.nodeType===9?b:b.ownerDocument;T===null||T[ss]||(T[ss]=!0,Zs("selectionchange",!1,T))}}function Js(b,T,N,V){switch(Ra(T)){case 1:var Y=Gi;break;case 4:Y=gi;break;default:Y=qa}N=Y.bind(null,T,N,b),Y=void 0,!Zt||T!=="touchstart"&&T!=="touchmove"&&T!=="wheel"||(Y=!0),V?Y!==void 0?b.addEventListener(T,N,{capture:!0,passive:Y}):b.addEventListener(T,N,!0):Y!==void 0?b.addEventListener(T,N,{passive:Y}):b.addEventListener(T,N,!1)}function Qs(b,T,N,V,Y){var ie=V;if((T&1)===0&&(T&2)===0&&V!==null)e:for(;;){if(V===null)return;var me=V.tag;if(me===3||me===4){var Ce=V.stateNode.containerInfo;if(Ce===Y||Ce.nodeType===8&&Ce.parentNode===Y)break;if(me===4)for(me=V.return;me!==null;){var Le=me.tag;if((Le===3||Le===4)&&(Le=me.stateNode.containerInfo,Le===Y||Le.nodeType===8&&Le.parentNode===Y))return;me=me.return}for(;Ce!==null;){if(me=$a(Ce),me===null)return;if(Le=me.tag,Le===5||Le===6){V=ie=me;continue e}Ce=Ce.parentNode}}V=V.return}Jt(function(){var nt=ie,_t=qe(N),xt=[];e:{var vt=kl.get(b);if(vt!==void 0){var Dt=Kn,$t=b;switch(b){case"keypress":if(ea(N)===0)break e;case"keydown":case"keyup":Dt=zs;break;case"focusin":$t="focus",Dt=Fs;break;case"focusout":$t="blur",Dt=Fs;break;case"beforeblur":case"afterblur":Dt=Fs;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=ia;break;case ns:case rs:case Dl:Dt=mc;break;case Ll:Dt=Wa;break;case"scroll":Dt=jn;break;case"wheel":Dt=Pl;break;case"copy":case"cut":case"paste":Dt=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=ti}var zt=(T&4)!==0,ar=!zt&&b==="scroll",Xe=zt?vt!==null?vt+"Capture":null:vt;zt=[];for(var $e=nt,Ke;$e!==null;){Ke=$e;var wt=Ke.stateNode;if(Ke.tag===5&&wt!==null&&(Ke=wt,Xe!==null&&(wt=Ut($e,Xe),wt!=null&&zt.push(ko($e,wt,Ke)))),ar)break;$e=$e.return}0<zt.length&&(vt=new Dt(vt,$t,null,N,_t),xt.push({event:vt,listeners:zt}))}}if((T&7)===0){e:{if(vt=b==="mouseover"||b==="pointerover",Dt=b==="mouseout"||b==="pointerout",vt&&N!==xe&&($t=N.relatedTarget||N.fromElement)&&($a($t)||$t[ii]))break e;if((Dt||vt)&&(vt=_t.window===_t?_t:(vt=_t.ownerDocument)?vt.defaultView||vt.parentWindow:window,Dt?($t=N.relatedTarget||N.toElement,Dt=nt,$t=$t?$a($t):null,$t!==null&&(ar=Zr($t),$t!==ar||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Dt=null,$t=nt),Dt!==$t)){if(zt=wl,wt="onMouseLeave",Xe="onMouseEnter",$e="mouse",(b==="pointerout"||b==="pointerover")&&(zt=ti,wt="onPointerLeave",Xe="onPointerEnter",$e="pointer"),ar=Dt==null?vt:qn(Dt),Ke=$t==null?vt:qn($t),vt=new zt(wt,$e+"leave",Dt,N,_t),vt.target=ar,vt.relatedTarget=Ke,wt=null,$a(_t)===nt&&(zt=new zt(Xe,$e+"enter",$t,N,_t),zt.target=Ke,zt.relatedTarget=ar,wt=zt),ar=wt,Dt&&$t)t:{for(zt=Dt,Xe=$t,$e=0,Ke=zt;Ke;Ke=Qa(Ke))$e++;for(Ke=0,wt=Xe;wt;wt=Qa(wt))Ke++;for(;0<$e-Ke;)zt=Qa(zt),$e--;for(;0<Ke-$e;)Xe=Qa(Xe),Ke--;for(;$e--;){if(zt===Xe||Xe!==null&&zt===Xe.alternate)break t;zt=Qa(zt),Xe=Qa(Xe)}zt=null}else zt=null;Dt!==null&&Mc(xt,vt,Dt,zt,!1),$t!==null&&ar!==null&&Mc(xt,ar,$t,zt,!0)}}e:{if(vt=nt?qn(nt):window,Dt=vt.nodeName&&vt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&vt.type==="file")var Gt=Sc;else if(Gs(vt))if(Ro)Gt=Nn;else{Gt=Ec;var Kt=Io}else(Dt=vt.nodeName)&&Dt.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(Gt=Ol);if(Gt&&(Gt=Gt(b,nt))){Po(xt,Gt,N,_t);break e}Kt&&Kt(b,vt,nt),b==="focusout"&&(Kt=vt._wrapperState)&&Kt.controlled&&vt.type==="number"&&Je(vt,"number",vt.value)}switch(Kt=nt?qn(nt):window,b){case"focusin":(Gs(Kt)||Kt.contentEditable==="true")&&(ji=Kt,Ja=nt,ts=null);break;case"focusout":ts=Ja=ji=null;break;case"mousedown":pr=!0;break;case"contextmenu":case"mouseup":case"dragend":pr=!1,Ws(xt,N,_t);break;case"selectionchange":if(Hs)break;case"keydown":case"keyup":Ws(xt,N,_t)}var Yt;if(Fr)e:{switch(b){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else Da?Il(b,N)&&(en="onCompositionEnd"):b==="keydown"&&N.keyCode===229&&(en="onCompositionStart");en&&(To&&N.locale!=="ko"&&(Da||en!=="onCompositionStart"?en==="onCompositionEnd"&&Da&&(Yt=nr()):(jr=_t,Qi="value"in jr?jr.value:jr.textContent,Da=!0)),Kt=el(nt,en),0<Kt.length&&(en=new Tl(en,b,null,N,_t),xt.push({event:en,listeners:Kt}),Yt?en.data=Yt:(Yt=Vs(N),Yt!==null&&(en.data=Yt)))),(Yt=Dn?xc(b,N):Qo(b,N))&&(nt=el(nt,"onBeforeInput"),0<nt.length&&(_t=new Tl("onBeforeInput","beforeinput",null,N,_t),xt.push({event:_t,listeners:nt}),_t.data=Yt))}Do(xt,T)})}function ko(b,T,N){return{instance:b,listener:T,currentTarget:N}}function el(b,T){for(var N=T+"Capture",V=[];b!==null;){var Y=b,ie=Y.stateNode;Y.tag===5&&ie!==null&&(Y=ie,ie=Ut(b,N),ie!=null&&V.unshift(ko(b,ie,Y)),ie=Ut(b,T),ie!=null&&V.push(ko(b,ie,Y))),b=b.return}return V}function Qa(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function Mc(b,T,N,V,Y){for(var ie=T._reactName,me=[];N!==null&&N!==V;){var Ce=N,Le=Ce.alternate,nt=Ce.stateNode;if(Le!==null&&Le===V)break;Ce.tag===5&&nt!==null&&(Ce=nt,Y?(Le=Ut(N,ie),Le!=null&&me.unshift(ko(N,Le,Ce))):Y||(Le=Ut(N,ie),Le!=null&&me.push(ko(N,Le,Ce)))),N=N.return}me.length!==0&&b.push({event:T,listeners:me})}var ou=/\r\n?/g,Tc=/\u0000|\uFFFD/g;function Fl(b){return(typeof b=="string"?b:""+b).replace(ou,`
`).replace(Tc,"")}function ls(b,T,N){if(T=Fl(T),Fl(b)!==T&&N)throw Error(n(425))}function cs(){}var No=null,$l=null;function Bl(b,T){return b==="textarea"||b==="noscript"||typeof T.children=="string"||typeof T.children=="number"||typeof T.dangerouslySetInnerHTML=="object"&&T.dangerouslySetInnerHTML!==null&&T.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,zl=typeof clearTimeout=="function"?clearTimeout:void 0,tl=typeof Promise=="function"?Promise:void 0,su=typeof queueMicrotask=="function"?queueMicrotask:typeof tl<"u"?function(b){return tl.resolve(null).then(b).catch(Ac)}:Ul;function Ac(b){setTimeout(function(){throw b})}function nl(b,T){var N=T,V=0;do{var Y=N.nextSibling;if(b.removeChild(N),Y&&Y.nodeType===8)if(N=Y.data,N==="/$"){if(V===0){b.removeChild(Y),Pa(T);return}V--}else N!=="$"&&N!=="$?"&&N!=="$!"||V++;N=Y}while(N);Pa(T)}function la(b){for(;b!=null;b=b.nextSibling){var T=b.nodeType;if(T===1||T===3)break;if(T===8){if(T=b.data,T==="$"||T==="$!"||T==="$?")break;if(T==="/$")return null}}return b}function Vl(b){b=b.previousSibling;for(var T=0;b;){if(b.nodeType===8){var N=b.data;if(N==="$"||N==="$!"||N==="$?"){if(T===0)return b;T--}else N==="/$"&&T++}b=b.previousSibling}return null}var eo=Math.random().toString(36).slice(2),ir="__reactFiber$"+eo,Fo="__reactProps$"+eo,ii="__reactContainer$"+eo,no="__reactEvents$"+eo,rl="__reactListeners$"+eo,il="__reactHandles$"+eo;function $a(b){var T=b[ir];if(T)return T;for(var N=b.parentNode;N;){if(T=N[ii]||N[ir]){if(N=T.alternate,T.child!==null||N!==null&&N.child!==null)for(b=Vl(b);b!==null;){if(N=b[ir])return N;b=Vl(b)}return T}b=N,N=b.parentNode}return null}function ca(b){return b=b[ir]||b[ii],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function qn(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function al(b){return b[Fo]||null}var Gl=[],mr=-1;function Bn(b){return{current:b}}function An(b){0>mr||(b.current=Gl[mr],Gl[mr]=null,mr--)}function En(b,T){mr++,Gl[mr]=b.current,b.current=T}var ua={},br=Bn(ua),$r=Bn(!1),fa=ua;function ro(b,T){var N=b.type.contextTypes;if(!N)return ua;var V=b.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===T)return V.__reactInternalMemoizedMaskedChildContext;var Y={},ie;for(ie in N)Y[ie]=T[ie];return V&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=T,b.__reactInternalMemoizedMaskedChildContext=Y),Y}function Rr(b){return b=b.childContextTypes,b!=null}function us(){An($r),An(br)}function jl(b,T,N){if(br.current!==ua)throw Error(n(168));En(br,T),En($r,N)}function fs(b,T,N){var V=b.stateNode;if(T=T.childContextTypes,typeof V.getChildContext!="function")return N;V=V.getChildContext();for(var Y in V)if(!(Y in T))throw Error(n(108,Pe(b)||"Unknown",Y));return se({},N,V)}function io(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||ua,fa=br.current,En(br,b),En($r,$r.current),!0}function ql(b,T,N){var V=b.stateNode;if(!V)throw Error(n(169));N?(b=fs(b,T,fa),V.__reactInternalMemoizedMergedChildContext=b,An($r),An(br),En(br,b)):An($r),En($r,N)}var Di=null,hs=!1,ol=!1;function ds(b){Di===null?Di=[b]:Di.push(b)}function Pc(b){hs=!0,ds(b)}function Hi(){if(!ol&&Di!==null){ol=!0;var b=0,T=un;try{var N=Di;for(un=1;b<N.length;b++){var V=N[b];do V=V(!0);while(V!==null)}Di=null,hs=!1}catch(Y){throw Di!==null&&(Di=Di.slice(b+1)),Ze(Xt,Hi),Y}finally{un=T,ol=!1}}return null}var ao=[],Wr=0,sl=null,ll=0,Br=[],gr=0,oo=null,Mt=1,xi="";function ha(b,T){ao[Wr++]=ll,ao[Wr++]=sl,sl=b,ll=T}function Hl(b,T,N){Br[gr++]=Mt,Br[gr++]=xi,Br[gr++]=oo,oo=b;var V=Mt;b=xi;var Y=32-Sn(V)-1;V&=~(1<<Y),N+=1;var ie=32-Sn(T)+Y;if(30<ie){var me=Y-Y%5;ie=(V&(1<<me)-1).toString(32),V>>=me,Y-=me,Mt=1<<32-Sn(T)+Y|N<<Y|V,xi=ie+b}else Mt=1<<ie|N<<Y|V,xi=b}function Wl(b){b.return!==null&&(ha(b,1),Hl(b,1,0))}function da(b){for(;b===sl;)sl=ao[--Wr],ao[Wr]=null,ll=ao[--Wr],ao[Wr]=null;for(;b===oo;)oo=Br[--gr],Br[gr]=null,xi=Br[--gr],Br[gr]=null,Mt=Br[--gr],Br[gr]=null}var Sr=null,Ur=null,Rn=!1,bi=null;function Xl(b,T){var N=Zi(5,null,null,0);N.elementType="DELETED",N.stateNode=T,N.return=b,T=b.deletions,T===null?(b.deletions=[N],b.flags|=16):T.push(N)}function Kl(b,T){switch(b.tag){case 5:var N=b.type;return T=T.nodeType!==1||N.toLowerCase()!==T.nodeName.toLowerCase()?null:T,T!==null?(b.stateNode=T,Sr=b,Ur=la(T.firstChild),!0):!1;case 6:return T=b.pendingProps===""||T.nodeType!==3?null:T,T!==null?(b.stateNode=T,Sr=b,Ur=null,!0):!1;case 13:return T=T.nodeType!==8?null:T,T!==null?(N=oo!==null?{id:Mt,overflow:xi}:null,b.memoizedState={dehydrated:T,treeContext:N,retryLane:1073741824},N=Zi(18,null,null,0),N.stateNode=T,N.return=b,b.child=N,Sr=b,Ur=null,!0):!1;default:return!1}}function cl(b){return(b.mode&1)!==0&&(b.flags&128)===0}function ul(b){if(Rn){var T=Ur;if(T){var N=T;if(!Kl(b,T)){if(cl(b))throw Error(n(418));T=la(N.nextSibling);var V=Sr;T&&Kl(b,T)?Xl(V,N):(b.flags=b.flags&-4097|2,Rn=!1,Sr=b)}}else{if(cl(b))throw Error(n(418));b.flags=b.flags&-4097|2,Rn=!1,Sr=b}}}function fl(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Sr=b}function $o(b){if(b!==Sr)return!1;if(!Rn)return fl(b),Rn=!0,!1;var T;if((T=b.tag!==3)&&!(T=b.tag!==5)&&(T=b.type,T=T!=="head"&&T!=="body"&&!Bl(b.type,b.memoizedProps)),T&&(T=Ur)){if(cl(b))throw Yl(),Error(n(418));for(;T;)Xl(b,T),T=la(T.nextSibling)}if(fl(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,T=0;b;){if(b.nodeType===8){var N=b.data;if(N==="/$"){if(T===0){Ur=la(b.nextSibling);break e}T--}else N!=="$"&&N!=="$!"&&N!=="$?"||T++}b=b.nextSibling}Ur=null}}else Ur=Sr?la(b.stateNode.nextSibling):null;return!0}function Yl(){for(var b=Ur;b;)b=la(b.nextSibling)}function Ba(){Ur=Sr=null,Rn=!1}function Bo(b){bi===null?bi=[b]:bi.push(b)}var lu=F.ReactCurrentBatchConfig;function ps(b,T,N){if(b=N.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var V=N.stateNode}if(!V)throw Error(n(147,b));var Y=V,ie=""+b;return T!==null&&T.ref!==null&&typeof T.ref=="function"&&T.ref._stringRef===ie?T.ref:(T=function(me){var Ce=Y.refs;me===null?delete Ce[ie]:Ce[ie]=me},T._stringRef=ie,T)}if(typeof b!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,b))}return b}function ms(b,T){throw b=Object.prototype.toString.call(T),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b))}function Zl(b){var T=b._init;return T(b._payload)}function Jl(b){function T(Xe,$e){if(b){var Ke=Xe.deletions;Ke===null?(Xe.deletions=[$e],Xe.flags|=16):Ke.push($e)}}function N(Xe,$e){if(!b)return null;for(;$e!==null;)T(Xe,$e),$e=$e.sibling;return null}function V(Xe,$e){for(Xe=new Map;$e!==null;)$e.key!==null?Xe.set($e.key,$e):Xe.set($e.index,$e),$e=$e.sibling;return Xe}function Y(Xe,$e){return Xe=Yo(Xe,$e),Xe.index=0,Xe.sibling=null,Xe}function ie(Xe,$e,Ke){return Xe.index=Ke,b?(Ke=Xe.alternate,Ke!==null?(Ke=Ke.index,Ke<$e?(Xe.flags|=2,$e):Ke):(Xe.flags|=2,$e)):(Xe.flags|=1048576,$e)}function me(Xe){return b&&Xe.alternate===null&&(Xe.flags|=2),Xe}function Ce(Xe,$e,Ke,wt){return $e===null||$e.tag!==6?($e=Au(Ke,Xe.mode,wt),$e.return=Xe,$e):($e=Y($e,Ke),$e.return=Xe,$e)}function Le(Xe,$e,Ke,wt){var Gt=Ke.type;return Gt===U?_t(Xe,$e,Ke.props.children,wt,Ke.key):$e!==null&&($e.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===fe&&Zl(Gt)===$e.type)?(wt=Y($e,Ke.props),wt.ref=ps(Xe,$e,Ke),wt.return=Xe,wt):(wt=Zc(Ke.type,Ke.key,Ke.props,null,Xe.mode,wt),wt.ref=ps(Xe,$e,Ke),wt.return=Xe,wt)}function nt(Xe,$e,Ke,wt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==Ke.containerInfo||$e.stateNode.implementation!==Ke.implementation?($e=Pu(Ke,Xe.mode,wt),$e.return=Xe,$e):($e=Y($e,Ke.children||[]),$e.return=Xe,$e)}function _t(Xe,$e,Ke,wt,Gt){return $e===null||$e.tag!==7?($e=Os(Ke,Xe.mode,wt,Gt),$e.return=Xe,$e):($e=Y($e,Ke),$e.return=Xe,$e)}function xt(Xe,$e,Ke){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return $e=Au(""+$e,Xe.mode,Ke),$e.return=Xe,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case $:return Ke=Zc($e.type,$e.key,$e.props,null,Xe.mode,Ke),Ke.ref=ps(Xe,null,$e),Ke.return=Xe,Ke;case B:return $e=Pu($e,Xe.mode,Ke),$e.return=Xe,$e;case fe:var wt=$e._init;return xt(Xe,wt($e._payload),Ke)}if(ot($e)||oe($e))return $e=Os($e,Xe.mode,Ke,null),$e.return=Xe,$e;ms(Xe,$e)}return null}function vt(Xe,$e,Ke,wt){var Gt=$e!==null?$e.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Gt!==null?null:Ce(Xe,$e,""+Ke,wt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case $:return Ke.key===Gt?Le(Xe,$e,Ke,wt):null;case B:return Ke.key===Gt?nt(Xe,$e,Ke,wt):null;case fe:return Gt=Ke._init,vt(Xe,$e,Gt(Ke._payload),wt)}if(ot(Ke)||oe(Ke))return Gt!==null?null:_t(Xe,$e,Ke,wt,null);ms(Xe,Ke)}return null}function Dt(Xe,$e,Ke,wt,Gt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Xe=Xe.get(Ke)||null,Ce($e,Xe,""+wt,Gt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case $:return Xe=Xe.get(wt.key===null?Ke:wt.key)||null,Le($e,Xe,wt,Gt);case B:return Xe=Xe.get(wt.key===null?Ke:wt.key)||null,nt($e,Xe,wt,Gt);case fe:var Kt=wt._init;return Dt(Xe,$e,Ke,Kt(wt._payload),Gt)}if(ot(wt)||oe(wt))return Xe=Xe.get(Ke)||null,_t($e,Xe,wt,Gt,null);ms($e,wt)}return null}function $t(Xe,$e,Ke,wt){for(var Gt=null,Kt=null,Yt=$e,en=$e=0,Lr=null;Yt!==null&&en<Ke.length;en++){Yt.index>en?(Lr=Yt,Yt=null):Lr=Yt.sibling;var _n=vt(Xe,Yt,Ke[en],wt);if(_n===null){Yt===null&&(Yt=Lr);break}b&&Yt&&_n.alternate===null&&T(Xe,Yt),$e=ie(_n,$e,en),Kt===null?Gt=_n:Kt.sibling=_n,Kt=_n,Yt=Lr}if(en===Ke.length)return N(Xe,Yt),Rn&&ha(Xe,en),Gt;if(Yt===null){for(;en<Ke.length;en++)Yt=xt(Xe,Ke[en],wt),Yt!==null&&($e=ie(Yt,$e,en),Kt===null?Gt=Yt:Kt.sibling=Yt,Kt=Yt);return Rn&&ha(Xe,en),Gt}for(Yt=V(Xe,Yt);en<Ke.length;en++)Lr=Dt(Yt,Xe,en,Ke[en],wt),Lr!==null&&(b&&Lr.alternate!==null&&Yt.delete(Lr.key===null?en:Lr.key),$e=ie(Lr,$e,en),Kt===null?Gt=Lr:Kt.sibling=Lr,Kt=Lr);return b&&Yt.forEach(function(Zo){return T(Xe,Zo)}),Rn&&ha(Xe,en),Gt}function zt(Xe,$e,Ke,wt){var Gt=oe(Ke);if(typeof Gt!="function")throw Error(n(150));if(Ke=Gt.call(Ke),Ke==null)throw Error(n(151));for(var Kt=Gt=null,Yt=$e,en=$e=0,Lr=null,_n=Ke.next();Yt!==null&&!_n.done;en++,_n=Ke.next()){Yt.index>en?(Lr=Yt,Yt=null):Lr=Yt.sibling;var Zo=vt(Xe,Yt,_n.value,wt);if(Zo===null){Yt===null&&(Yt=Lr);break}b&&Yt&&Zo.alternate===null&&T(Xe,Yt),$e=ie(Zo,$e,en),Kt===null?Gt=Zo:Kt.sibling=Zo,Kt=Zo,Yt=Lr}if(_n.done)return N(Xe,Yt),Rn&&ha(Xe,en),Gt;if(Yt===null){for(;!_n.done;en++,_n=Ke.next())_n=xt(Xe,_n.value,wt),_n!==null&&($e=ie(_n,$e,en),Kt===null?Gt=_n:Kt.sibling=_n,Kt=_n);return Rn&&ha(Xe,en),Gt}for(Yt=V(Xe,Yt);!_n.done;en++,_n=Ke.next())_n=Dt(Yt,Xe,en,_n.value,wt),_n!==null&&(b&&_n.alternate!==null&&Yt.delete(_n.key===null?en:_n.key),$e=ie(_n,$e,en),Kt===null?Gt=_n:Kt.sibling=_n,Kt=_n);return b&&Yt.forEach(function(Nf){return T(Xe,Nf)}),Rn&&ha(Xe,en),Gt}function ar(Xe,$e,Ke,wt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===U&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case $:e:{for(var Gt=Ke.key,Kt=$e;Kt!==null;){if(Kt.key===Gt){if(Gt=Ke.type,Gt===U){if(Kt.tag===7){N(Xe,Kt.sibling),$e=Y(Kt,Ke.props.children),$e.return=Xe,Xe=$e;break e}}else if(Kt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===fe&&Zl(Gt)===Kt.type){N(Xe,Kt.sibling),$e=Y(Kt,Ke.props),$e.ref=ps(Xe,Kt,Ke),$e.return=Xe,Xe=$e;break e}N(Xe,Kt);break}else T(Xe,Kt);Kt=Kt.sibling}Ke.type===U?($e=Os(Ke.props.children,Xe.mode,wt,Ke.key),$e.return=Xe,Xe=$e):(wt=Zc(Ke.type,Ke.key,Ke.props,null,Xe.mode,wt),wt.ref=ps(Xe,$e,Ke),wt.return=Xe,Xe=wt)}return me(Xe);case B:e:{for(Kt=Ke.key;$e!==null;){if($e.key===Kt)if($e.tag===4&&$e.stateNode.containerInfo===Ke.containerInfo&&$e.stateNode.implementation===Ke.implementation){N(Xe,$e.sibling),$e=Y($e,Ke.children||[]),$e.return=Xe,Xe=$e;break e}else{N(Xe,$e);break}else T(Xe,$e);$e=$e.sibling}$e=Pu(Ke,Xe.mode,wt),$e.return=Xe,Xe=$e}return me(Xe);case fe:return Kt=Ke._init,ar(Xe,$e,Kt(Ke._payload),wt)}if(ot(Ke))return $t(Xe,$e,Ke,wt);if(oe(Ke))return zt(Xe,$e,Ke,wt);ms(Xe,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,$e!==null&&$e.tag===6?(N(Xe,$e.sibling),$e=Y($e,Ke),$e.return=Xe,Xe=$e):(N(Xe,$e),$e=Au(Ke,Xe.mode,wt),$e.return=Xe,Xe=$e),me(Xe)):N(Xe,$e)}return ar}var so=Jl(!0),gs=Jl(!1),lo=Bn(null),co=null,pa=null,Uo=null;function uo(){Uo=pa=co=null}function ys(b){var T=lo.current;An(lo),b._currentValue=T}function vs(b,T,N){for(;b!==null;){var V=b.alternate;if((b.childLanes&T)!==T?(b.childLanes|=T,V!==null&&(V.childLanes|=T)):V!==null&&(V.childLanes&T)!==T&&(V.childLanes|=T),b===N)break;b=b.return}}function Ua(b,T){co=b,Uo=pa=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&T)!==0&&(sn=!0),b.firstContext=null)}function ai(b){var T=b._currentValue;if(Uo!==b)if(b={context:b,memoizedValue:T,next:null},pa===null){if(co===null)throw Error(n(308));pa=b,co.dependencies={lanes:0,firstContext:b}}else pa=pa.next=b;return T}var ma=null;function Ql(b){ma===null?ma=[b]:ma.push(b)}function _s(b,T,N,V){var Y=T.interleaved;return Y===null?(N.next=N,Ql(T)):(N.next=Y.next,Y.next=N),T.interleaved=N,Li(b,V)}function Li(b,T){b.lanes|=T;var N=b.alternate;for(N!==null&&(N.lanes|=T),N=b,b=b.return;b!==null;)b.childLanes|=T,N=b.alternate,N!==null&&(N.childLanes|=T),N=b,b=b.return;return N.tag===3?N.stateNode:null}var xn=!1;function on(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hn(b,T){b=b.updateQueue,T.updateQueue===b&&(T.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function bn(b,T){return{eventTime:b,lane:T,tag:0,payload:null,callback:null,next:null}}function Ln(b,T,N){var V=b.updateQueue;if(V===null)return null;if(V=V.shared,(yn&2)!==0){var Y=V.pending;return Y===null?T.next=T:(T.next=Y.next,Y.next=T),V.pending=T,Li(b,N)}return Y=V.interleaved,Y===null?(T.next=T,Ql(V)):(T.next=Y.next,Y.next=T),V.interleaved=T,Li(b,N)}function Ir(b,T,N){if(T=T.updateQueue,T!==null&&(T=T.shared,(N&4194240)!==0)){var V=T.lanes;V&=b.pendingLanes,N|=V,T.lanes=N,Ai(b,N)}}function fo(b,T){var N=b.updateQueue,V=b.alternate;if(V!==null&&(V=V.updateQueue,N===V)){var Y=null,ie=null;if(N=N.firstBaseUpdate,N!==null){do{var me={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};ie===null?Y=ie=me:ie=ie.next=me,N=N.next}while(N!==null);ie===null?Y=ie=T:ie=ie.next=T}else Y=ie=T;N={baseState:V.baseState,firstBaseUpdate:Y,lastBaseUpdate:ie,shared:V.shared,effects:V.effects},b.updateQueue=N;return}b=N.lastBaseUpdate,b===null?N.firstBaseUpdate=T:b.next=T,N.lastBaseUpdate=T}function Un(b,T,N,V){var Y=b.updateQueue;xn=!1;var ie=Y.firstBaseUpdate,me=Y.lastBaseUpdate,Ce=Y.shared.pending;if(Ce!==null){Y.shared.pending=null;var Le=Ce,nt=Le.next;Le.next=null,me===null?ie=nt:me.next=nt,me=Le;var _t=b.alternate;_t!==null&&(_t=_t.updateQueue,Ce=_t.lastBaseUpdate,Ce!==me&&(Ce===null?_t.firstBaseUpdate=nt:Ce.next=nt,_t.lastBaseUpdate=Le))}if(ie!==null){var xt=Y.baseState;me=0,_t=nt=Le=null,Ce=ie;do{var vt=Ce.lane,Dt=Ce.eventTime;if((V&vt)===vt){_t!==null&&(_t=_t.next={eventTime:Dt,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var $t=b,zt=Ce;switch(vt=T,Dt=N,zt.tag){case 1:if($t=zt.payload,typeof $t=="function"){xt=$t.call(Dt,xt,vt);break e}xt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=zt.payload,vt=typeof $t=="function"?$t.call(Dt,xt,vt):$t,vt==null)break e;xt=se({},xt,vt);break e;case 2:xn=!0}}Ce.callback!==null&&Ce.lane!==0&&(b.flags|=64,vt=Y.effects,vt===null?Y.effects=[Ce]:vt.push(Ce))}else Dt={eventTime:Dt,lane:vt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},_t===null?(nt=_t=Dt,Le=xt):_t=_t.next=Dt,me|=vt;if(Ce=Ce.next,Ce===null){if(Ce=Y.shared.pending,Ce===null)break;vt=Ce,Ce=vt.next,vt.next=null,Y.lastBaseUpdate=vt,Y.shared.pending=null}}while(!0);if(_t===null&&(Le=xt),Y.baseState=Le,Y.firstBaseUpdate=nt,Y.lastBaseUpdate=_t,T=Y.shared.interleaved,T!==null){Y=T;do me|=Y.lane,Y=Y.next;while(Y!==T)}else ie===null&&(Y.shared.lanes=0);Ps|=me,b.lanes=me,b.memoizedState=xt}}function zo(b,T,N){if(b=T.effects,T.effects=null,b!==null)for(T=0;T<b.length;T++){var V=b[T],Y=V.callback;if(Y!==null){if(V.callback=null,V=N,typeof Y!="function")throw Error(n(191,Y));Y.call(V)}}}var Wi={},oi=Bn(Wi),ho=Bn(Wi),ga=Bn(Wi);function Yn(b){if(b===Wi)throw Error(n(174));return b}function xs(b,T){switch(En(ga,T),En(ho,b),En(oi,Wi),b=T.nodeType,b){case 9:case 11:T=(T=T.documentElement)?T.namespaceURI:ut(null,"");break;default:b=b===8?T.parentNode:T,T=b.namespaceURI||null,b=b.tagName,T=ut(T,b)}An(oi),En(oi,T)}function za(){An(oi),An(ho),An(ga)}function po(b){Yn(ga.current);var T=Yn(oi.current),N=ut(T,b.type);T!==N&&(En(ho,b),En(oi,N))}function Vo(b){ho.current===b&&(An(oi),An(ho))}var In=Bn(0);function ki(b){for(var T=b;T!==null;){if(T.tag===13){var N=T.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return T}else if(T.tag===19&&T.memoizedProps.revealOrder!==void 0){if((T.flags&128)!==0)return T}else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===b)break;for(;T.sibling===null;){if(T.return===null||T.return===b)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}return null}var Go=[];function Xi(){for(var b=0;b<Go.length;b++)Go[b]._workInProgressVersionPrimary=null;Go.length=0}var mo=F.ReactCurrentDispatcher,go=F.ReactCurrentBatchConfig,ya=0,Pn=null,zn=null,mn=null,Ni=!1,Or=!1,Va=0,Xr=0;function Er(){throw Error(n(321))}function bs(b,T){if(T===null)return!1;for(var N=0;N<T.length&&N<b.length;N++)if(!ni(b[N],T[N]))return!1;return!0}function Ss(b,T,N,V,Y,ie){if(ya=ie,Pn=T,T.memoizedState=null,T.updateQueue=null,T.lanes=0,mo.current=b===null||b.memoizedState===null?kc:Nc,b=N(V,Y),Or){ie=0;do{if(Or=!1,Va=0,25<=ie)throw Error(n(301));ie+=1,mn=zn=null,T.updateQueue=null,mo.current=Fc,b=N(V,Y)}while(Or)}if(mo.current=vl,T=zn!==null&&zn.next!==null,ya=0,mn=zn=Pn=null,Ni=!1,T)throw Error(n(300));return b}function ec(){var b=Va!==0;return Va=0,b}function wr(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Pn.memoizedState=mn=b:mn=mn.next=b,mn}function si(){if(zn===null){var b=Pn.alternate;b=b!==null?b.memoizedState:null}else b=zn.next;var T=mn===null?Pn.memoizedState:mn.next;if(T!==null)mn=T,zn=b;else{if(b===null)throw Error(n(310));zn=b,b={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},mn===null?Pn.memoizedState=mn=b:mn=mn.next=b}return mn}function jo(b,T){return typeof T=="function"?T(b):T}function Es(b){var T=si(),N=T.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=b;var V=zn,Y=V.baseQueue,ie=N.pending;if(ie!==null){if(Y!==null){var me=Y.next;Y.next=ie.next,ie.next=me}V.baseQueue=Y=ie,N.pending=null}if(Y!==null){ie=Y.next,V=V.baseState;var Ce=me=null,Le=null,nt=ie;do{var _t=nt.lane;if((ya&_t)===_t)Le!==null&&(Le=Le.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),V=nt.hasEagerState?nt.eagerState:b(V,nt.action);else{var xt={lane:_t,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};Le===null?(Ce=Le=xt,me=V):Le=Le.next=xt,Pn.lanes|=_t,Ps|=_t}nt=nt.next}while(nt!==null&&nt!==ie);Le===null?me=V:Le.next=Ce,ni(V,T.memoizedState)||(sn=!0),T.memoizedState=V,T.baseState=me,T.baseQueue=Le,N.lastRenderedState=V}if(b=N.interleaved,b!==null){Y=b;do ie=Y.lane,Pn.lanes|=ie,Ps|=ie,Y=Y.next;while(Y!==b)}else Y===null&&(N.lanes=0);return[T.memoizedState,N.dispatch]}function va(b){var T=si(),N=T.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=b;var V=N.dispatch,Y=N.pending,ie=T.memoizedState;if(Y!==null){N.pending=null;var me=Y=Y.next;do ie=b(ie,me.action),me=me.next;while(me!==Y);ni(ie,T.memoizedState)||(sn=!0),T.memoizedState=ie,T.baseQueue===null&&(T.baseState=ie),N.lastRenderedState=ie}return[ie,V]}function tc(){}function nc(b,T){var N=Pn,V=si(),Y=T(),ie=!ni(V.memoizedState,Y);if(ie&&(V.memoizedState=Y,sn=!0),V=V.queue,ac(Cc.bind(null,N,V,b),[b]),V.getSnapshot!==T||ie||mn!==null&&mn.memoizedState.tag&1){if(N.flags|=2048,Fi(9,ws.bind(null,N,V,Y,T),void 0,null),Dr===null)throw Error(n(349));(ya&30)!==0||hl(N,T,Y)}return Y}function hl(b,T,N){b.flags|=16384,b={getSnapshot:T,value:N},T=Pn.updateQueue,T===null?(T={lastEffect:null,stores:null},Pn.updateQueue=T,T.stores=[b]):(N=T.stores,N===null?T.stores=[b]:N.push(b))}function ws(b,T,N,V){T.value=N,T.getSnapshot=V,Rc(T)&&rc(b)}function Cc(b,T,N){return N(function(){Rc(T)&&rc(b)})}function Rc(b){var T=b.getSnapshot;b=b.value;try{var N=T();return!ni(b,N)}catch{return!0}}function rc(b){var T=Li(b,1);T!==null&&wa(T,b,1,-1)}function ic(b){var T=wr();return typeof b=="function"&&(b=b()),T.memoizedState=T.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:b},T.queue=b,b=b.dispatch=yo.bind(null,Pn,b),[T.memoizedState,b]}function Fi(b,T,N,V){return b={tag:b,create:T,destroy:N,deps:V,next:null},T=Pn.updateQueue,T===null?(T={lastEffect:null,stores:null},Pn.updateQueue=T,T.lastEffect=b.next=b):(N=T.lastEffect,N===null?T.lastEffect=b.next=b:(V=N.next,N.next=b,b.next=V,T.lastEffect=b)),b}function Ic(){return si().memoizedState}function Ki(b,T,N,V){var Y=wr();Pn.flags|=b,Y.memoizedState=Fi(1|T,N,void 0,V===void 0?null:V)}function Ms(b,T,N,V){var Y=si();V=V===void 0?null:V;var ie=void 0;if(zn!==null){var me=zn.memoizedState;if(ie=me.destroy,V!==null&&bs(V,me.deps)){Y.memoizedState=Fi(T,N,ie,V);return}}Pn.flags|=b,Y.memoizedState=Fi(1|T,N,ie,V)}function zr(b,T){return Ki(8390656,8,b,T)}function ac(b,T){return Ms(2048,8,b,T)}function oc(b,T){return Ms(4,2,b,T)}function Oc(b,T){return Ms(4,4,b,T)}function Dc(b,T){if(typeof T=="function")return b=b(),T(b),function(){T(null)};if(T!=null)return b=b(),T.current=b,function(){T.current=null}}function sc(b,T,N){return N=N!=null?N.concat([b]):null,Ms(4,4,Dc.bind(null,T,b),N)}function dl(){}function Lc(b,T){var N=si();T=T===void 0?null:T;var V=N.memoizedState;return V!==null&&T!==null&&bs(T,V[1])?V[0]:(N.memoizedState=[b,T],b)}function li(b,T){var N=si();T=T===void 0?null:T;var V=N.memoizedState;return V!==null&&T!==null&&bs(T,V[1])?V[0]:(b=b(),N.memoizedState=[b,T],b)}function pl(b,T,N){return(ya&21)===0?(b.baseState&&(b.baseState=!1,sn=!0),b.memoizedState=N):(ni(N,T)||(N=Ar(),Pn.lanes|=N,Ps|=N,b.baseState=!0),T)}function cu(b,T){var N=un;un=N!==0&&4>N?N:4,b(!0);var V=go.transition;go.transition={};try{b(!1),T()}finally{un=N,go.transition=V}}function xa(){return si().memoizedState}function ml(b,T,N){var V=Xo(b);if(N={lane:V,action:N,hasEagerState:!1,eagerState:null,next:null},Ts(b))gl(T,N);else if(N=_s(b,T,N,V),N!==null){var Y=ui();wa(N,b,V,Y),yl(N,T,V)}}function yo(b,T,N){var V=Xo(b),Y={lane:V,action:N,hasEagerState:!1,eagerState:null,next:null};if(Ts(b))gl(T,Y);else{var ie=b.alternate;if(b.lanes===0&&(ie===null||ie.lanes===0)&&(ie=T.lastRenderedReducer,ie!==null))try{var me=T.lastRenderedState,Ce=ie(me,N);if(Y.hasEagerState=!0,Y.eagerState=Ce,ni(Ce,me)){var Le=T.interleaved;Le===null?(Y.next=Y,Ql(T)):(Y.next=Le.next,Le.next=Y),T.interleaved=Y;return}}catch{}finally{}N=_s(b,T,Y,V),N!==null&&(Y=ui(),wa(N,b,V,Y),yl(N,T,V))}}function Ts(b){var T=b.alternate;return b===Pn||T!==null&&T===Pn}function gl(b,T){Or=Ni=!0;var N=b.pending;N===null?T.next=T:(T.next=N.next,N.next=T),b.pending=T}function yl(b,T,N){if((N&4194240)!==0){var V=T.lanes;V&=b.pendingLanes,N|=V,T.lanes=N,Ai(b,N)}}var vl={readContext:ai,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},kc={readContext:ai,useCallback:function(b,T){return wr().memoizedState=[b,T===void 0?null:T],b},useContext:ai,useEffect:zr,useImperativeHandle:function(b,T,N){return N=N!=null?N.concat([b]):null,Ki(4194308,4,Dc.bind(null,T,b),N)},useLayoutEffect:function(b,T){return Ki(4194308,4,b,T)},useInsertionEffect:function(b,T){return Ki(4,2,b,T)},useMemo:function(b,T){var N=wr();return T=T===void 0?null:T,b=b(),N.memoizedState=[b,T],b},useReducer:function(b,T,N){var V=wr();return T=N!==void 0?N(T):T,V.memoizedState=V.baseState=T,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:T},V.queue=b,b=b.dispatch=ml.bind(null,Pn,b),[V.memoizedState,b]},useRef:function(b){var T=wr();return b={current:b},T.memoizedState=b},useState:ic,useDebugValue:dl,useDeferredValue:function(b){return wr().memoizedState=b},useTransition:function(){var b=ic(!1),T=b[0];return b=cu.bind(null,b[1]),wr().memoizedState=b,[T,b]},useMutableSource:function(){},useSyncExternalStore:function(b,T,N){var V=Pn,Y=wr();if(Rn){if(N===void 0)throw Error(n(407));N=N()}else{if(N=T(),Dr===null)throw Error(n(349));(ya&30)!==0||hl(V,T,N)}Y.memoizedState=N;var ie={value:N,getSnapshot:T};return Y.queue=ie,zr(Cc.bind(null,V,ie,b),[b]),V.flags|=2048,Fi(9,ws.bind(null,V,ie,N,T),void 0,null),N},useId:function(){var b=wr(),T=Dr.identifierPrefix;if(Rn){var N=xi,V=Mt;N=(V&~(1<<32-Sn(V)-1)).toString(32)+N,T=":"+T+"R"+N,N=Va++,0<N&&(T+="H"+N.toString(32)),T+=":"}else N=Xr++,T=":"+T+"r"+N.toString(32)+":";return b.memoizedState=T},unstable_isNewReconciler:!1},Nc={readContext:ai,useCallback:Lc,useContext:ai,useEffect:ac,useImperativeHandle:sc,useInsertionEffect:oc,useLayoutEffect:Oc,useMemo:li,useReducer:Es,useRef:Ic,useState:function(){return Es(jo)},useDebugValue:dl,useDeferredValue:function(b){var T=si();return pl(T,zn.memoizedState,b)},useTransition:function(){var b=Es(jo)[0],T=si().memoizedState;return[b,T]},useMutableSource:tc,useSyncExternalStore:nc,useId:xa,unstable_isNewReconciler:!1},Fc={readContext:ai,useCallback:Lc,useContext:ai,useEffect:ac,useImperativeHandle:sc,useInsertionEffect:oc,useLayoutEffect:Oc,useMemo:li,useReducer:va,useRef:Ic,useState:function(){return va(jo)},useDebugValue:dl,useDeferredValue:function(b){var T=si();return zn===null?T.memoizedState=b:pl(T,zn.memoizedState,b)},useTransition:function(){var b=va(jo)[0],T=si().memoizedState;return[b,T]},useMutableSource:tc,useSyncExternalStore:nc,useId:xa,unstable_isNewReconciler:!1};function Si(b,T){if(b&&b.defaultProps){T=se({},T),b=b.defaultProps;for(var N in b)T[N]===void 0&&(T[N]=b[N]);return T}return T}function As(b,T,N,V){T=b.memoizedState,N=N(V,T),N=N==null?T:se({},T,N),b.memoizedState=N,b.lanes===0&&(b.updateQueue.baseState=N)}var _l={isMounted:function(b){return(b=b._reactInternals)?Zr(b)===b:!1},enqueueSetState:function(b,T,N){b=b._reactInternals;var V=ui(),Y=Xo(b),ie=bn(V,Y);ie.payload=T,N!=null&&(ie.callback=N),T=Ln(b,ie,Y),T!==null&&(wa(T,b,Y,V),Ir(T,b,Y))},enqueueReplaceState:function(b,T,N){b=b._reactInternals;var V=ui(),Y=Xo(b),ie=bn(V,Y);ie.tag=1,ie.payload=T,N!=null&&(ie.callback=N),T=Ln(b,ie,Y),T!==null&&(wa(T,b,Y,V),Ir(T,b,Y))},enqueueForceUpdate:function(b,T){b=b._reactInternals;var N=ui(),V=Xo(b),Y=bn(N,V);Y.tag=2,T!=null&&(Y.callback=T),T=Ln(b,Y,V),T!==null&&(wa(T,b,V,N),Ir(T,b,V))}};function $c(b,T,N,V,Y,ie,me){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(V,ie,me):T.prototype&&T.prototype.isPureReactComponent?!Ya(N,V)||!Ya(Y,ie):!0}function R(b,T,N){var V=!1,Y=ua,ie=T.contextType;return typeof ie=="object"&&ie!==null?ie=ai(ie):(Y=Rr(T)?fa:br.current,V=T.contextTypes,ie=(V=V!=null)?ro(b,Y):ua),T=new T(N,ie),b.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=_l,b.stateNode=T,T._reactInternals=b,V&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=Y,b.__reactInternalMemoizedMaskedChildContext=ie),T}function I(b,T,N,V){b=T.state,typeof T.componentWillReceiveProps=="function"&&T.componentWillReceiveProps(N,V),typeof T.UNSAFE_componentWillReceiveProps=="function"&&T.UNSAFE_componentWillReceiveProps(N,V),T.state!==b&&_l.enqueueReplaceState(T,T.state,null)}function z(b,T,N,V){var Y=b.stateNode;Y.props=N,Y.state=b.memoizedState,Y.refs={},on(b);var ie=T.contextType;typeof ie=="object"&&ie!==null?Y.context=ai(ie):(ie=Rr(T)?fa:br.current,Y.context=ro(b,ie)),Y.state=b.memoizedState,ie=T.getDerivedStateFromProps,typeof ie=="function"&&(As(b,T,ie,N),Y.state=b.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(T=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),T!==Y.state&&_l.enqueueReplaceState(Y,Y.state,null),Un(b,N,Y,V),Y.state=b.memoizedState),typeof Y.componentDidMount=="function"&&(b.flags|=4194308)}function K(b,T){try{var N="",V=T;do N+=ve(V),V=V.return;while(V);var Y=N}catch(ie){Y=`
Error generating stack: `+ie.message+`
`+ie.stack}return{value:b,source:T,stack:Y,digest:null}}function ee(b,T,N){return{value:b,source:null,stack:N??null,digest:T??null}}function le(b,T){try{console.error(T.value)}catch(N){setTimeout(function(){throw N})}}var Ee=typeof WeakMap=="function"?WeakMap:Map;function Be(b,T,N){N=bn(-1,N),N.tag=3,N.payload={element:null};var V=T.value;return N.callback=function(){qc||(qc=!0,_u=V),le(b,T)},N}function ct(b,T,N){N=bn(-1,N),N.tag=3;var V=b.type.getDerivedStateFromError;if(typeof V=="function"){var Y=T.value;N.payload=function(){return V(Y)},N.callback=function(){le(b,T)}}var ie=b.stateNode;return ie!==null&&typeof ie.componentDidCatch=="function"&&(N.callback=function(){le(b,T),typeof V!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var me=T.stack;this.componentDidCatch(T.value,{componentStack:me!==null?me:""})}),N}function St(b,T,N){var V=b.pingCache;if(V===null){V=b.pingCache=new Ee;var Y=new Set;V.set(T,Y)}else Y=V.get(T),Y===void 0&&(Y=new Set,V.set(T,Y));Y.has(N)||(Y.add(N),b=Mf.bind(null,b,T,N),T.then(b,b))}function Lt(b){do{var T;if((T=b.tag===13)&&(T=b.memoizedState,T=T!==null?T.dehydrated!==null:!0),T)return b;b=b.return}while(b!==null);return null}function nn(b,T,N,V,Y){return(b.mode&1)===0?(b===T?b.flags|=65536:(b.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(T=bn(-1,1),T.tag=2,Ln(N,T,1))),N.lanes|=1),b):(b.flags|=65536,b.lanes=Y,b)}var Ht=F.ReactCurrentOwner,sn=!1;function Rt(b,T,N,V){T.child=b===null?gs(T,null,N,V):so(T,b.child,N,V)}function Mr(b,T,N,V,Y){N=N.render;var ie=T.ref;return Ua(T,Y),V=Ss(b,T,N,V,ie,Y),N=ec(),b!==null&&!sn?(T.updateQueue=b.updateQueue,T.flags&=-2053,b.lanes&=~Y,vo(b,T,Y)):(Rn&&N&&Wl(T),T.flags|=1,Rt(b,T,V,Y),T.child)}function ci(b,T,N,V,Y){if(b===null){var ie=N.type;return typeof ie=="function"&&!Tu(ie)&&ie.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(T.tag=15,T.type=ie,Ye(b,T,ie,V,Y)):(b=Zc(N.type,null,V,T,T.mode,Y),b.ref=T.ref,b.return=T,T.child=b)}if(ie=b.child,(b.lanes&Y)===0){var me=ie.memoizedProps;if(N=N.compare,N=N!==null?N:Ya,N(me,V)&&b.ref===T.ref)return vo(b,T,Y)}return T.flags|=1,b=Yo(ie,V),b.ref=T.ref,b.return=T,T.child=b}function Ye(b,T,N,V,Y){if(b!==null){var ie=b.memoizedProps;if(Ya(ie,V)&&b.ref===T.ref)if(sn=!1,T.pendingProps=V=ie,(b.lanes&Y)!==0)(b.flags&131072)!==0&&(sn=!0);else return T.lanes=b.lanes,vo(b,T,Y)}return Ct(b,T,N,V,Y)}function Ge(b,T,N){var V=T.pendingProps,Y=V.children,ie=b!==null?b.memoizedState:null;if(V.mode==="hidden")if((T.mode&1)===0)T.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(bl,$i),$i|=N;else{if((N&1073741824)===0)return b=ie!==null?ie.baseLanes|N:N,T.lanes=T.childLanes=1073741824,T.memoizedState={baseLanes:b,cachePool:null,transitions:null},T.updateQueue=null,En(bl,$i),$i|=b,null;T.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=ie!==null?ie.baseLanes:N,En(bl,$i),$i|=V}else ie!==null?(V=ie.baseLanes|N,T.memoizedState=null):V=N,En(bl,$i),$i|=V;return Rt(b,T,Y,N),T.child}function st(b,T){var N=T.ref;(b===null&&N!==null||b!==null&&b.ref!==N)&&(T.flags|=512,T.flags|=2097152)}function Ct(b,T,N,V,Y){var ie=Rr(N)?fa:br.current;return ie=ro(T,ie),Ua(T,Y),N=Ss(b,T,N,V,ie,Y),V=ec(),b!==null&&!sn?(T.updateQueue=b.updateQueue,T.flags&=-2053,b.lanes&=~Y,vo(b,T,Y)):(Rn&&V&&Wl(T),T.flags|=1,Rt(b,T,N,Y),T.child)}function Vt(b,T,N,V,Y){if(Rr(N)){var ie=!0;io(T)}else ie=!1;if(Ua(T,Y),T.stateNode===null)Uc(b,T),R(T,N,V),z(T,N,V,Y),V=!0;else if(b===null){var me=T.stateNode,Ce=T.memoizedProps;me.props=Ce;var Le=me.context,nt=N.contextType;typeof nt=="object"&&nt!==null?nt=ai(nt):(nt=Rr(N)?fa:br.current,nt=ro(T,nt));var _t=N.getDerivedStateFromProps,xt=typeof _t=="function"||typeof me.getSnapshotBeforeUpdate=="function";xt||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Ce!==V||Le!==nt)&&I(T,me,V,nt),xn=!1;var vt=T.memoizedState;me.state=vt,Un(T,V,me,Y),Le=T.memoizedState,Ce!==V||vt!==Le||$r.current||xn?(typeof _t=="function"&&(As(T,N,_t,V),Le=T.memoizedState),(Ce=xn||$c(T,N,Ce,V,vt,Le,nt))?(xt||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(T.flags|=4194308)):(typeof me.componentDidMount=="function"&&(T.flags|=4194308),T.memoizedProps=V,T.memoizedState=Le),me.props=V,me.state=Le,me.context=nt,V=Ce):(typeof me.componentDidMount=="function"&&(T.flags|=4194308),V=!1)}else{me=T.stateNode,Hn(b,T),Ce=T.memoizedProps,nt=T.type===T.elementType?Ce:Si(T.type,Ce),me.props=nt,xt=T.pendingProps,vt=me.context,Le=N.contextType,typeof Le=="object"&&Le!==null?Le=ai(Le):(Le=Rr(N)?fa:br.current,Le=ro(T,Le));var Dt=N.getDerivedStateFromProps;(_t=typeof Dt=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Ce!==xt||vt!==Le)&&I(T,me,V,Le),xn=!1,vt=T.memoizedState,me.state=vt,Un(T,V,me,Y);var $t=T.memoizedState;Ce!==xt||vt!==$t||$r.current||xn?(typeof Dt=="function"&&(As(T,N,Dt,V),$t=T.memoizedState),(nt=xn||$c(T,N,nt,V,vt,$t,Le)||!1)?(_t||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(V,$t,Le),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(V,$t,Le)),typeof me.componentDidUpdate=="function"&&(T.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(T.flags|=1024)):(typeof me.componentDidUpdate!="function"||Ce===b.memoizedProps&&vt===b.memoizedState||(T.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Ce===b.memoizedProps&&vt===b.memoizedState||(T.flags|=1024),T.memoizedProps=V,T.memoizedState=$t),me.props=V,me.state=$t,me.context=Le,V=nt):(typeof me.componentDidUpdate!="function"||Ce===b.memoizedProps&&vt===b.memoizedState||(T.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Ce===b.memoizedProps&&vt===b.memoizedState||(T.flags|=1024),V=!1)}return an(b,T,N,V,ie,Y)}function an(b,T,N,V,Y,ie){st(b,T);var me=(T.flags&128)!==0;if(!V&&!me)return Y&&ql(T,N,!1),vo(b,T,ie);V=T.stateNode,Ht.current=T;var Ce=me&&typeof N.getDerivedStateFromError!="function"?null:V.render();return T.flags|=1,b!==null&&me?(T.child=so(T,b.child,null,ie),T.child=so(T,null,Ce,ie)):Rt(b,T,Ce,ie),T.memoizedState=V.state,Y&&ql(T,N,!0),T.child}function rn(b){var T=b.stateNode;T.pendingContext?jl(b,T.pendingContext,T.pendingContext!==T.context):T.context&&jl(b,T.context,!1),xs(b,T.containerInfo)}function dn(b,T,N,V,Y){return Ba(),Bo(Y),T.flags|=256,Rt(b,T,N,V),T.child}var Zn={dehydrated:null,treeContext:null,retryLane:0};function hn(b){return{baseLanes:b,cachePool:null,transitions:null}}function ba(b,T,N){var V=T.pendingProps,Y=In.current,ie=!1,me=(T.flags&128)!==0,Ce;if((Ce=me)||(Ce=b!==null&&b.memoizedState===null?!1:(Y&2)!==0),Ce?(ie=!0,T.flags&=-129):(b===null||b.memoizedState!==null)&&(Y|=1),En(In,Y&1),b===null)return ul(T),b=T.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((T.mode&1)===0?T.lanes=1:b.data==="$!"?T.lanes=8:T.lanes=1073741824,null):(me=V.children,b=V.fallback,ie?(V=T.mode,ie=T.child,me={mode:"hidden",children:me},(V&1)===0&&ie!==null?(ie.childLanes=0,ie.pendingProps=me):ie=Jc(me,V,0,null),b=Os(b,V,N,null),ie.return=T,b.return=T,ie.sibling=b,T.child=ie,T.child.memoizedState=hn(N),T.memoizedState=Zn,b):lc(T,me));if(Y=b.memoizedState,Y!==null&&(Ce=Y.dehydrated,Ce!==null))return df(b,T,me,V,Ce,Y,N);if(ie){ie=V.fallback,me=T.mode,Y=b.child,Ce=Y.sibling;var Le={mode:"hidden",children:V.children};return(me&1)===0&&T.child!==Y?(V=T.child,V.childLanes=0,V.pendingProps=Le,T.deletions=null):(V=Yo(Y,Le),V.subtreeFlags=Y.subtreeFlags&14680064),Ce!==null?ie=Yo(Ce,ie):(ie=Os(ie,me,N,null),ie.flags|=2),ie.return=T,V.return=T,V.sibling=ie,T.child=V,V=ie,ie=T.child,me=b.child.memoizedState,me=me===null?hn(N):{baseLanes:me.baseLanes|N,cachePool:null,transitions:me.transitions},ie.memoizedState=me,ie.childLanes=b.childLanes&~N,T.memoizedState=Zn,V}return ie=b.child,b=ie.sibling,V=Yo(ie,{mode:"visible",children:V.children}),(T.mode&1)===0&&(V.lanes=N),V.return=T,V.sibling=null,b!==null&&(N=T.deletions,N===null?(T.deletions=[b],T.flags|=16):N.push(b)),T.child=V,T.memoizedState=null,V}function lc(b,T){return T=Jc({mode:"visible",children:T},b.mode,0,null),T.return=b,b.child=T}function Bc(b,T,N,V){return V!==null&&Bo(V),so(T,b.child,null,N),b=lc(T,T.pendingProps.children),b.flags|=2,T.memoizedState=null,b}function df(b,T,N,V,Y,ie,me){if(N)return T.flags&256?(T.flags&=-257,V=ee(Error(n(422))),Bc(b,T,me,V)):T.memoizedState!==null?(T.child=b.child,T.flags|=128,null):(ie=V.fallback,Y=T.mode,V=Jc({mode:"visible",children:V.children},Y,0,null),ie=Os(ie,Y,me,null),ie.flags|=2,V.return=T,ie.return=T,V.sibling=ie,T.child=V,(T.mode&1)!==0&&so(T,b.child,null,me),T.child.memoizedState=hn(me),T.memoizedState=Zn,ie);if((T.mode&1)===0)return Bc(b,T,me,null);if(Y.data==="$!"){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var Ce=V.dgst;return V=Ce,ie=Error(n(419)),V=ee(ie,V,void 0),Bc(b,T,me,V)}if(Ce=(me&b.childLanes)!==0,sn||Ce){if(V=Dr,V!==null){switch(me&-me){case 4:Y=2;break;case 16:Y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Y=32;break;case 536870912:Y=268435456;break;default:Y=0}Y=(Y&(V.suspendedLanes|me))!==0?0:Y,Y!==0&&Y!==ie.retryLane&&(ie.retryLane=Y,Li(b,Y),wa(V,b,Y,-1))}return Mu(),V=ee(Error(n(421))),Bc(b,T,me,V)}return Y.data==="$?"?(T.flags|=128,T.child=b.child,T=Tf.bind(null,b),Y._reactRetry=T,null):(b=ie.treeContext,Ur=la(Y.nextSibling),Sr=T,Rn=!0,bi=null,b!==null&&(Br[gr++]=Mt,Br[gr++]=xi,Br[gr++]=oo,Mt=b.id,xi=b.overflow,oo=T),T=lc(T,V.children),T.flags|=4096,T)}function ku(b,T,N){b.lanes|=T;var V=b.alternate;V!==null&&(V.lanes|=T),vs(b.return,T,N)}function uu(b,T,N,V,Y){var ie=b.memoizedState;ie===null?b.memoizedState={isBackwards:T,rendering:null,renderingStartTime:0,last:V,tail:N,tailMode:Y}:(ie.isBackwards=T,ie.rendering=null,ie.renderingStartTime=0,ie.last=V,ie.tail=N,ie.tailMode=Y)}function Nu(b,T,N){var V=T.pendingProps,Y=V.revealOrder,ie=V.tail;if(Rt(b,T,V.children,N),V=In.current,(V&2)!==0)V=V&1|2,T.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=T.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&ku(b,N,T);else if(b.tag===19)ku(b,N,T);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===T)break e;for(;b.sibling===null;){if(b.return===null||b.return===T)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}V&=1}if(En(In,V),(T.mode&1)===0)T.memoizedState=null;else switch(Y){case"forwards":for(N=T.child,Y=null;N!==null;)b=N.alternate,b!==null&&ki(b)===null&&(Y=N),N=N.sibling;N=Y,N===null?(Y=T.child,T.child=null):(Y=N.sibling,N.sibling=null),uu(T,!1,Y,N,ie);break;case"backwards":for(N=null,Y=T.child,T.child=null;Y!==null;){if(b=Y.alternate,b!==null&&ki(b)===null){T.child=Y;break}b=Y.sibling,Y.sibling=N,N=Y,Y=b}uu(T,!0,N,null,ie);break;case"together":uu(T,!1,null,null,void 0);break;default:T.memoizedState=null}return T.child}function Uc(b,T){(T.mode&1)===0&&b!==null&&(b.alternate=null,T.alternate=null,T.flags|=2)}function vo(b,T,N){if(b!==null&&(T.dependencies=b.dependencies),Ps|=T.lanes,(N&T.childLanes)===0)return null;if(b!==null&&T.child!==b.child)throw Error(n(153));if(T.child!==null){for(b=T.child,N=Yo(b,b.pendingProps),T.child=N,N.return=T;b.sibling!==null;)b=b.sibling,N=N.sibling=Yo(b,b.pendingProps),N.return=T;N.sibling=null}return T.child}function pf(b,T,N){switch(T.tag){case 3:rn(T),Ba();break;case 5:po(T);break;case 1:Rr(T.type)&&io(T);break;case 4:xs(T,T.stateNode.containerInfo);break;case 10:var V=T.type._context,Y=T.memoizedProps.value;En(lo,V._currentValue),V._currentValue=Y;break;case 13:if(V=T.memoizedState,V!==null)return V.dehydrated!==null?(En(In,In.current&1),T.flags|=128,null):(N&T.child.childLanes)!==0?ba(b,T,N):(En(In,In.current&1),b=vo(b,T,N),b!==null?b.sibling:null);En(In,In.current&1);break;case 19:if(V=(N&T.childLanes)!==0,(b.flags&128)!==0){if(V)return Nu(b,T,N);T.flags|=128}if(Y=T.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),En(In,In.current),V)break;return null;case 22:case 23:return T.lanes=0,Ge(b,T,N)}return vo(b,T,N)}var Fu,fu,$u,Bu;Fu=function(b,T){for(var N=T.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===T)break;for(;N.sibling===null;){if(N.return===null||N.return===T)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},fu=function(){},$u=function(b,T,N,V){var Y=b.memoizedProps;if(Y!==V){b=T.stateNode,Yn(oi.current);var ie=null;switch(N){case"input":Y=Me(b,Y),V=Me(b,V),ie=[];break;case"select":Y=se({},Y,{value:void 0}),V=se({},V,{value:void 0}),ie=[];break;case"textarea":Y=de(b,Y),V=de(b,V),ie=[];break;default:typeof Y.onClick!="function"&&typeof V.onClick=="function"&&(b.onclick=cs)}Se(N,V);var me;N=null;for(nt in Y)if(!V.hasOwnProperty(nt)&&Y.hasOwnProperty(nt)&&Y[nt]!=null)if(nt==="style"){var Ce=Y[nt];for(me in Ce)Ce.hasOwnProperty(me)&&(N||(N={}),N[me]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(l.hasOwnProperty(nt)?ie||(ie=[]):(ie=ie||[]).push(nt,null));for(nt in V){var Le=V[nt];if(Ce=Y!=null?Y[nt]:void 0,V.hasOwnProperty(nt)&&Le!==Ce&&(Le!=null||Ce!=null))if(nt==="style")if(Ce){for(me in Ce)!Ce.hasOwnProperty(me)||Le&&Le.hasOwnProperty(me)||(N||(N={}),N[me]="");for(me in Le)Le.hasOwnProperty(me)&&Ce[me]!==Le[me]&&(N||(N={}),N[me]=Le[me])}else N||(ie||(ie=[]),ie.push(nt,N)),N=Le;else nt==="dangerouslySetInnerHTML"?(Le=Le?Le.__html:void 0,Ce=Ce?Ce.__html:void 0,Le!=null&&Ce!==Le&&(ie=ie||[]).push(nt,Le)):nt==="children"?typeof Le!="string"&&typeof Le!="number"||(ie=ie||[]).push(nt,""+Le):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(l.hasOwnProperty(nt)?(Le!=null&&nt==="onScroll"&&Tn("scroll",b),ie||Ce===Le||(ie=[])):(ie=ie||[]).push(nt,Le))}N&&(ie=ie||[]).push("style",N);var nt=ie;(T.updateQueue=nt)&&(T.flags|=4)}},Bu=function(b,T,N,V){N!==V&&(T.flags|=4)};function cc(b,T){if(!Rn)switch(b.tailMode){case"hidden":T=b.tail;for(var N=null;T!==null;)T.alternate!==null&&(N=T),T=T.sibling;N===null?b.tail=null:N.sibling=null;break;case"collapsed":N=b.tail;for(var V=null;N!==null;)N.alternate!==null&&(V=N),N=N.sibling;V===null?T||b.tail===null?b.tail=null:b.tail.sibling=null:V.sibling=null}}function Kr(b){var T=b.alternate!==null&&b.alternate.child===b.child,N=0,V=0;if(T)for(var Y=b.child;Y!==null;)N|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags&14680064,V|=Y.flags&14680064,Y.return=b,Y=Y.sibling;else for(Y=b.child;Y!==null;)N|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags,V|=Y.flags,Y.return=b,Y=Y.sibling;return b.subtreeFlags|=V,b.childLanes=N,T}function mf(b,T,N){var V=T.pendingProps;switch(da(T),T.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(T),null;case 1:return Rr(T.type)&&us(),Kr(T),null;case 3:return V=T.stateNode,za(),An($r),An(br),Xi(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(b===null||b.child===null)&&($o(T)?T.flags|=4:b===null||b.memoizedState.isDehydrated&&(T.flags&256)===0||(T.flags|=1024,bi!==null&&(Su(bi),bi=null))),fu(b,T),Kr(T),null;case 5:Vo(T);var Y=Yn(ga.current);if(N=T.type,b!==null&&T.stateNode!=null)$u(b,T,N,V,Y),b.ref!==T.ref&&(T.flags|=512,T.flags|=2097152);else{if(!V){if(T.stateNode===null)throw Error(n(166));return Kr(T),null}if(b=Yn(oi.current),$o(T)){V=T.stateNode,N=T.type;var ie=T.memoizedProps;switch(V[ir]=T,V[Fo]=ie,b=(T.mode&1)!==0,N){case"dialog":Tn("cancel",V),Tn("close",V);break;case"iframe":case"object":case"embed":Tn("load",V);break;case"video":case"audio":for(Y=0;Y<Fa.length;Y++)Tn(Fa[Y],V);break;case"source":Tn("error",V);break;case"img":case"image":case"link":Tn("error",V),Tn("load",V);break;case"details":Tn("toggle",V);break;case"input":je(V,ie),Tn("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!ie.multiple},Tn("invalid",V);break;case"textarea":Oe(V,ie),Tn("invalid",V)}Se(N,ie),Y=null;for(var me in ie)if(ie.hasOwnProperty(me)){var Ce=ie[me];me==="children"?typeof Ce=="string"?V.textContent!==Ce&&(ie.suppressHydrationWarning!==!0&&ls(V.textContent,Ce,b),Y=["children",Ce]):typeof Ce=="number"&&V.textContent!==""+Ce&&(ie.suppressHydrationWarning!==!0&&ls(V.textContent,Ce,b),Y=["children",""+Ce]):l.hasOwnProperty(me)&&Ce!=null&&me==="onScroll"&&Tn("scroll",V)}switch(N){case"input":Ie(V),Ve(V,ie,!0);break;case"textarea":Ie(V),Ue(V);break;case"select":case"option":break;default:typeof ie.onClick=="function"&&(V.onclick=cs)}V=Y,T.updateQueue=V,V!==null&&(T.flags|=4)}else{me=Y.nodeType===9?Y:Y.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=tt(N)),b==="http://www.w3.org/1999/xhtml"?N==="script"?(b=me.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof V.is=="string"?b=me.createElement(N,{is:V.is}):(b=me.createElement(N),N==="select"&&(me=b,V.multiple?me.multiple=!0:V.size&&(me.size=V.size))):b=me.createElementNS(b,N),b[ir]=T,b[Fo]=V,Fu(b,T,!1,!1),T.stateNode=b;e:{switch(me=We(N,V),N){case"dialog":Tn("cancel",b),Tn("close",b),Y=V;break;case"iframe":case"object":case"embed":Tn("load",b),Y=V;break;case"video":case"audio":for(Y=0;Y<Fa.length;Y++)Tn(Fa[Y],b);Y=V;break;case"source":Tn("error",b),Y=V;break;case"img":case"image":case"link":Tn("error",b),Tn("load",b),Y=V;break;case"details":Tn("toggle",b),Y=V;break;case"input":je(b,V),Y=Me(b,V),Tn("invalid",b);break;case"option":Y=V;break;case"select":b._wrapperState={wasMultiple:!!V.multiple},Y=se({},V,{value:void 0}),Tn("invalid",b);break;case"textarea":Oe(b,V),Y=de(b,V),Tn("invalid",b);break;default:Y=V}Se(N,Y),Ce=Y;for(ie in Ce)if(Ce.hasOwnProperty(ie)){var Le=Ce[ie];ie==="style"?bt(b,Le):ie==="dangerouslySetInnerHTML"?(Le=Le?Le.__html:void 0,Le!=null&&it(b,Le)):ie==="children"?typeof Le=="string"?(N!=="textarea"||Le!=="")&&ht(b,Le):typeof Le=="number"&&ht(b,""+Le):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(l.hasOwnProperty(ie)?Le!=null&&ie==="onScroll"&&Tn("scroll",b):Le!=null&&L(b,ie,Le,me))}switch(N){case"input":Ie(b),Ve(b,V,!1);break;case"textarea":Ie(b),Ue(b);break;case"option":V.value!=null&&b.setAttribute("value",""+Re(V.value));break;case"select":b.multiple=!!V.multiple,ie=V.value,ie!=null?pe(b,!!V.multiple,ie,!1):V.defaultValue!=null&&pe(b,!!V.multiple,V.defaultValue,!0);break;default:typeof Y.onClick=="function"&&(b.onclick=cs)}switch(N){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(T.flags|=4)}T.ref!==null&&(T.flags|=512,T.flags|=2097152)}return Kr(T),null;case 6:if(b&&T.stateNode!=null)Bu(b,T,b.memoizedProps,V);else{if(typeof V!="string"&&T.stateNode===null)throw Error(n(166));if(N=Yn(ga.current),Yn(oi.current),$o(T)){if(V=T.stateNode,N=T.memoizedProps,V[ir]=T,(ie=V.nodeValue!==N)&&(b=Sr,b!==null))switch(b.tag){case 3:ls(V.nodeValue,N,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&ls(V.nodeValue,N,(b.mode&1)!==0)}ie&&(T.flags|=4)}else V=(N.nodeType===9?N:N.ownerDocument).createTextNode(V),V[ir]=T,T.stateNode=V}return Kr(T),null;case 13:if(An(In),V=T.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Rn&&Ur!==null&&(T.mode&1)!==0&&(T.flags&128)===0)Yl(),Ba(),T.flags|=98560,ie=!1;else if(ie=$o(T),V!==null&&V.dehydrated!==null){if(b===null){if(!ie)throw Error(n(318));if(ie=T.memoizedState,ie=ie!==null?ie.dehydrated:null,!ie)throw Error(n(317));ie[ir]=T}else Ba(),(T.flags&128)===0&&(T.memoizedState=null),T.flags|=4;Kr(T),ie=!1}else bi!==null&&(Su(bi),bi=null),ie=!0;if(!ie)return T.flags&65536?T:null}return(T.flags&128)!==0?(T.lanes=N,T):(V=V!==null,V!==(b!==null&&b.memoizedState!==null)&&V&&(T.child.flags|=8192,(T.mode&1)!==0&&(b===null||(In.current&1)!==0?Tr===0&&(Tr=3):Mu())),T.updateQueue!==null&&(T.flags|=4),Kr(T),null);case 4:return za(),fu(b,T),b===null&&Lo(T.stateNode.containerInfo),Kr(T),null;case 10:return ys(T.type._context),Kr(T),null;case 17:return Rr(T.type)&&us(),Kr(T),null;case 19:if(An(In),ie=T.memoizedState,ie===null)return Kr(T),null;if(V=(T.flags&128)!==0,me=ie.rendering,me===null)if(V)cc(ie,!1);else{if(Tr!==0||b!==null&&(b.flags&128)!==0)for(b=T.child;b!==null;){if(me=ki(b),me!==null){for(T.flags|=128,cc(ie,!1),V=me.updateQueue,V!==null&&(T.updateQueue=V,T.flags|=4),T.subtreeFlags=0,V=N,N=T.child;N!==null;)ie=N,b=V,ie.flags&=14680066,me=ie.alternate,me===null?(ie.childLanes=0,ie.lanes=b,ie.child=null,ie.subtreeFlags=0,ie.memoizedProps=null,ie.memoizedState=null,ie.updateQueue=null,ie.dependencies=null,ie.stateNode=null):(ie.childLanes=me.childLanes,ie.lanes=me.lanes,ie.child=me.child,ie.subtreeFlags=0,ie.deletions=null,ie.memoizedProps=me.memoizedProps,ie.memoizedState=me.memoizedState,ie.updateQueue=me.updateQueue,ie.type=me.type,b=me.dependencies,ie.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),N=N.sibling;return En(In,In.current&1|2),T.child}b=b.sibling}ie.tail!==null&&ft()>Sl&&(T.flags|=128,V=!0,cc(ie,!1),T.lanes=4194304)}else{if(!V)if(b=ki(me),b!==null){if(T.flags|=128,V=!0,N=b.updateQueue,N!==null&&(T.updateQueue=N,T.flags|=4),cc(ie,!0),ie.tail===null&&ie.tailMode==="hidden"&&!me.alternate&&!Rn)return Kr(T),null}else 2*ft()-ie.renderingStartTime>Sl&&N!==1073741824&&(T.flags|=128,V=!0,cc(ie,!1),T.lanes=4194304);ie.isBackwards?(me.sibling=T.child,T.child=me):(N=ie.last,N!==null?N.sibling=me:T.child=me,ie.last=me)}return ie.tail!==null?(T=ie.tail,ie.rendering=T,ie.tail=T.sibling,ie.renderingStartTime=ft(),T.sibling=null,N=In.current,En(In,V?N&1|2:N&1),T):(Kr(T),null);case 22:case 23:return wu(),V=T.memoizedState!==null,b!==null&&b.memoizedState!==null!==V&&(T.flags|=8192),V&&(T.mode&1)!==0?($i&1073741824)!==0&&(Kr(T),T.subtreeFlags&6&&(T.flags|=8192)):Kr(T),null;case 24:return null;case 25:return null}throw Error(n(156,T.tag))}function gf(b,T){switch(da(T),T.tag){case 1:return Rr(T.type)&&us(),b=T.flags,b&65536?(T.flags=b&-65537|128,T):null;case 3:return za(),An($r),An(br),Xi(),b=T.flags,(b&65536)!==0&&(b&128)===0?(T.flags=b&-65537|128,T):null;case 5:return Vo(T),null;case 13:if(An(In),b=T.memoizedState,b!==null&&b.dehydrated!==null){if(T.alternate===null)throw Error(n(340));Ba()}return b=T.flags,b&65536?(T.flags=b&-65537|128,T):null;case 19:return An(In),null;case 4:return za(),null;case 10:return ys(T.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var zc=!1,Yr=!1,yf=typeof WeakSet=="function"?WeakSet:Set,kt=null;function xl(b,T){var N=b.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(V){Jn(b,T,V)}else N.current=null}function hu(b,T,N){try{N()}catch(V){Jn(b,T,V)}}var Uu=!1;function vf(b,T){if(No=cr,b=Fn(),hr(b)){if("selectionStart"in b)var N={start:b.selectionStart,end:b.selectionEnd};else e:{N=(N=b.ownerDocument)&&N.defaultView||window;var V=N.getSelection&&N.getSelection();if(V&&V.rangeCount!==0){N=V.anchorNode;var Y=V.anchorOffset,ie=V.focusNode;V=V.focusOffset;try{N.nodeType,ie.nodeType}catch{N=null;break e}var me=0,Ce=-1,Le=-1,nt=0,_t=0,xt=b,vt=null;t:for(;;){for(var Dt;xt!==N||Y!==0&&xt.nodeType!==3||(Ce=me+Y),xt!==ie||V!==0&&xt.nodeType!==3||(Le=me+V),xt.nodeType===3&&(me+=xt.nodeValue.length),(Dt=xt.firstChild)!==null;)vt=xt,xt=Dt;for(;;){if(xt===b)break t;if(vt===N&&++nt===Y&&(Ce=me),vt===ie&&++_t===V&&(Le=me),(Dt=xt.nextSibling)!==null)break;xt=vt,vt=xt.parentNode}xt=Dt}N=Ce===-1||Le===-1?null:{start:Ce,end:Le}}else N=null}N=N||{start:0,end:0}}else N=null;for($l={focusedElem:b,selectionRange:N},cr=!1,kt=T;kt!==null;)if(T=kt,b=T.child,(T.subtreeFlags&1028)!==0&&b!==null)b.return=T,kt=b;else for(;kt!==null;){T=kt;try{var $t=T.alternate;if((T.flags&1024)!==0)switch(T.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var zt=$t.memoizedProps,ar=$t.memoizedState,Xe=T.stateNode,$e=Xe.getSnapshotBeforeUpdate(T.elementType===T.type?zt:Si(T.type,zt),ar);Xe.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:var Ke=T.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(wt){Jn(T,T.return,wt)}if(b=T.sibling,b!==null){b.return=T.return,kt=b;break}kt=T.return}return $t=Uu,Uu=!1,$t}function uc(b,T,N){var V=T.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var Y=V=V.next;do{if((Y.tag&b)===b){var ie=Y.destroy;Y.destroy=void 0,ie!==void 0&&hu(T,N,ie)}Y=Y.next}while(Y!==V)}}function Vc(b,T){if(T=T.updateQueue,T=T!==null?T.lastEffect:null,T!==null){var N=T=T.next;do{if((N.tag&b)===b){var V=N.create;N.destroy=V()}N=N.next}while(N!==T)}}function du(b){var T=b.ref;if(T!==null){var N=b.stateNode;switch(b.tag){case 5:b=N;break;default:b=N}typeof T=="function"?T(b):T.current=b}}function zu(b){var T=b.alternate;T!==null&&(b.alternate=null,zu(T)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(T=b.stateNode,T!==null&&(delete T[ir],delete T[Fo],delete T[no],delete T[rl],delete T[il])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Vu(b){return b.tag===5||b.tag===3||b.tag===4}function Gu(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Vu(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function pu(b,T,N){var V=b.tag;if(V===5||V===6)b=b.stateNode,T?N.nodeType===8?N.parentNode.insertBefore(b,T):N.insertBefore(b,T):(N.nodeType===8?(T=N.parentNode,T.insertBefore(b,N)):(T=N,T.appendChild(b)),N=N._reactRootContainer,N!=null||T.onclick!==null||(T.onclick=cs));else if(V!==4&&(b=b.child,b!==null))for(pu(b,T,N),b=b.sibling;b!==null;)pu(b,T,N),b=b.sibling}function mu(b,T,N){var V=b.tag;if(V===5||V===6)b=b.stateNode,T?N.insertBefore(b,T):N.appendChild(b);else if(V!==4&&(b=b.child,b!==null))for(mu(b,T,N),b=b.sibling;b!==null;)mu(b,T,N),b=b.sibling}var Vr=null,Sa=!1;function qo(b,T,N){for(N=N.child;N!==null;)ju(b,T,N),N=N.sibling}function ju(b,T,N){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(wn,N)}catch{}switch(N.tag){case 5:Yr||xl(N,T);case 6:var V=Vr,Y=Sa;Vr=null,qo(b,T,N),Vr=V,Sa=Y,Vr!==null&&(Sa?(b=Vr,N=N.stateNode,b.nodeType===8?b.parentNode.removeChild(N):b.removeChild(N)):Vr.removeChild(N.stateNode));break;case 18:Vr!==null&&(Sa?(b=Vr,N=N.stateNode,b.nodeType===8?nl(b.parentNode,N):b.nodeType===1&&nl(b,N),Pa(b)):nl(Vr,N.stateNode));break;case 4:V=Vr,Y=Sa,Vr=N.stateNode.containerInfo,Sa=!0,qo(b,T,N),Vr=V,Sa=Y;break;case 0:case 11:case 14:case 15:if(!Yr&&(V=N.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){Y=V=V.next;do{var ie=Y,me=ie.destroy;ie=ie.tag,me!==void 0&&((ie&2)!==0||(ie&4)!==0)&&hu(N,T,me),Y=Y.next}while(Y!==V)}qo(b,T,N);break;case 1:if(!Yr&&(xl(N,T),V=N.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=N.memoizedProps,V.state=N.memoizedState,V.componentWillUnmount()}catch(Ce){Jn(N,T,Ce)}qo(b,T,N);break;case 21:qo(b,T,N);break;case 22:N.mode&1?(Yr=(V=Yr)||N.memoizedState!==null,qo(b,T,N),Yr=V):qo(b,T,N);break;default:qo(b,T,N)}}function qu(b){var T=b.updateQueue;if(T!==null){b.updateQueue=null;var N=b.stateNode;N===null&&(N=b.stateNode=new yf),T.forEach(function(V){var Y=Af.bind(null,b,V);N.has(V)||(N.add(V),V.then(Y,Y))})}}function Ea(b,T){var N=T.deletions;if(N!==null)for(var V=0;V<N.length;V++){var Y=N[V];try{var ie=b,me=T,Ce=me;e:for(;Ce!==null;){switch(Ce.tag){case 5:Vr=Ce.stateNode,Sa=!1;break e;case 3:Vr=Ce.stateNode.containerInfo,Sa=!0;break e;case 4:Vr=Ce.stateNode.containerInfo,Sa=!0;break e}Ce=Ce.return}if(Vr===null)throw Error(n(160));ju(ie,me,Y),Vr=null,Sa=!1;var Le=Y.alternate;Le!==null&&(Le.return=null),Y.return=null}catch(nt){Jn(Y,T,nt)}}if(T.subtreeFlags&12854)for(T=T.child;T!==null;)Hu(T,b),T=T.sibling}function Hu(b,T){var N=b.alternate,V=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Ea(T,b),Ga(b),V&4){try{uc(3,b,b.return),Vc(3,b)}catch(zt){Jn(b,b.return,zt)}try{uc(5,b,b.return)}catch(zt){Jn(b,b.return,zt)}}break;case 1:Ea(T,b),Ga(b),V&512&&N!==null&&xl(N,N.return);break;case 5:if(Ea(T,b),Ga(b),V&512&&N!==null&&xl(N,N.return),b.flags&32){var Y=b.stateNode;try{ht(Y,"")}catch(zt){Jn(b,b.return,zt)}}if(V&4&&(Y=b.stateNode,Y!=null)){var ie=b.memoizedProps,me=N!==null?N.memoizedProps:ie,Ce=b.type,Le=b.updateQueue;if(b.updateQueue=null,Le!==null)try{Ce==="input"&&ie.type==="radio"&&ie.name!=null&&Fe(Y,ie),We(Ce,me);var nt=We(Ce,ie);for(me=0;me<Le.length;me+=2){var _t=Le[me],xt=Le[me+1];_t==="style"?bt(Y,xt):_t==="dangerouslySetInnerHTML"?it(Y,xt):_t==="children"?ht(Y,xt):L(Y,_t,xt,nt)}switch(Ce){case"input":Qe(Y,ie);break;case"textarea":De(Y,ie);break;case"select":var vt=Y._wrapperState.wasMultiple;Y._wrapperState.wasMultiple=!!ie.multiple;var Dt=ie.value;Dt!=null?pe(Y,!!ie.multiple,Dt,!1):vt!==!!ie.multiple&&(ie.defaultValue!=null?pe(Y,!!ie.multiple,ie.defaultValue,!0):pe(Y,!!ie.multiple,ie.multiple?[]:"",!1))}Y[Fo]=ie}catch(zt){Jn(b,b.return,zt)}}break;case 6:if(Ea(T,b),Ga(b),V&4){if(b.stateNode===null)throw Error(n(162));Y=b.stateNode,ie=b.memoizedProps;try{Y.nodeValue=ie}catch(zt){Jn(b,b.return,zt)}}break;case 3:if(Ea(T,b),Ga(b),V&4&&N!==null&&N.memoizedState.isDehydrated)try{Pa(T.containerInfo)}catch(zt){Jn(b,b.return,zt)}break;case 4:Ea(T,b),Ga(b);break;case 13:Ea(T,b),Ga(b),Y=b.child,Y.flags&8192&&(ie=Y.memoizedState!==null,Y.stateNode.isHidden=ie,!ie||Y.alternate!==null&&Y.alternate.memoizedState!==null||(vu=ft())),V&4&&qu(b);break;case 22:if(_t=N!==null&&N.memoizedState!==null,b.mode&1?(Yr=(nt=Yr)||_t,Ea(T,b),Yr=nt):Ea(T,b),Ga(b),V&8192){if(nt=b.memoizedState!==null,(b.stateNode.isHidden=nt)&&!_t&&(b.mode&1)!==0)for(kt=b,_t=b.child;_t!==null;){for(xt=kt=_t;kt!==null;){switch(vt=kt,Dt=vt.child,vt.tag){case 0:case 11:case 14:case 15:uc(4,vt,vt.return);break;case 1:xl(vt,vt.return);var $t=vt.stateNode;if(typeof $t.componentWillUnmount=="function"){V=vt,N=vt.return;try{T=V,$t.props=T.memoizedProps,$t.state=T.memoizedState,$t.componentWillUnmount()}catch(zt){Jn(V,N,zt)}}break;case 5:xl(vt,vt.return);break;case 22:if(vt.memoizedState!==null){Ku(xt);continue}}Dt!==null?(Dt.return=vt,kt=Dt):Ku(xt)}_t=_t.sibling}e:for(_t=null,xt=b;;){if(xt.tag===5){if(_t===null){_t=xt;try{Y=xt.stateNode,nt?(ie=Y.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none"):(Ce=xt.stateNode,Le=xt.memoizedProps.style,me=Le!=null&&Le.hasOwnProperty("display")?Le.display:null,Ce.style.display=It("display",me))}catch(zt){Jn(b,b.return,zt)}}}else if(xt.tag===6){if(_t===null)try{xt.stateNode.nodeValue=nt?"":xt.memoizedProps}catch(zt){Jn(b,b.return,zt)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===b)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===b)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===b)break e;_t===xt&&(_t=null),xt=xt.return}_t===xt&&(_t=null),xt.sibling.return=xt.return,xt=xt.sibling}}break;case 19:Ea(T,b),Ga(b),V&4&&qu(b);break;case 21:break;default:Ea(T,b),Ga(b)}}function Ga(b){var T=b.flags;if(T&2){try{e:{for(var N=b.return;N!==null;){if(Vu(N)){var V=N;break e}N=N.return}throw Error(n(160))}switch(V.tag){case 5:var Y=V.stateNode;V.flags&32&&(ht(Y,""),V.flags&=-33);var ie=Gu(b);mu(b,ie,Y);break;case 3:case 4:var me=V.stateNode.containerInfo,Ce=Gu(b);pu(b,Ce,me);break;default:throw Error(n(161))}}catch(Le){Jn(b,b.return,Le)}b.flags&=-3}T&4096&&(b.flags&=-4097)}function _f(b,T,N){kt=b,Wu(b)}function Wu(b,T,N){for(var V=(b.mode&1)!==0;kt!==null;){var Y=kt,ie=Y.child;if(Y.tag===22&&V){var me=Y.memoizedState!==null||zc;if(!me){var Ce=Y.alternate,Le=Ce!==null&&Ce.memoizedState!==null||Yr;Ce=zc;var nt=Yr;if(zc=me,(Yr=Le)&&!nt)for(kt=Y;kt!==null;)me=kt,Le=me.child,me.tag===22&&me.memoizedState!==null?Yu(Y):Le!==null?(Le.return=me,kt=Le):Yu(Y);for(;ie!==null;)kt=ie,Wu(ie),ie=ie.sibling;kt=Y,zc=Ce,Yr=nt}Xu(b)}else(Y.subtreeFlags&8772)!==0&&ie!==null?(ie.return=Y,kt=ie):Xu(b)}}function Xu(b){for(;kt!==null;){var T=kt;if((T.flags&8772)!==0){var N=T.alternate;try{if((T.flags&8772)!==0)switch(T.tag){case 0:case 11:case 15:Yr||Vc(5,T);break;case 1:var V=T.stateNode;if(T.flags&4&&!Yr)if(N===null)V.componentDidMount();else{var Y=T.elementType===T.type?N.memoizedProps:Si(T.type,N.memoizedProps);V.componentDidUpdate(Y,N.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var ie=T.updateQueue;ie!==null&&zo(T,ie,V);break;case 3:var me=T.updateQueue;if(me!==null){if(N=null,T.child!==null)switch(T.child.tag){case 5:N=T.child.stateNode;break;case 1:N=T.child.stateNode}zo(T,me,N)}break;case 5:var Ce=T.stateNode;if(N===null&&T.flags&4){N=Ce;var Le=T.memoizedProps;switch(T.type){case"button":case"input":case"select":case"textarea":Le.autoFocus&&N.focus();break;case"img":Le.src&&(N.src=Le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(T.memoizedState===null){var nt=T.alternate;if(nt!==null){var _t=nt.memoizedState;if(_t!==null){var xt=_t.dehydrated;xt!==null&&Pa(xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yr||T.flags&512&&du(T)}catch(vt){Jn(T,T.return,vt)}}if(T===b){kt=null;break}if(N=T.sibling,N!==null){N.return=T.return,kt=N;break}kt=T.return}}function Ku(b){for(;kt!==null;){var T=kt;if(T===b){kt=null;break}var N=T.sibling;if(N!==null){N.return=T.return,kt=N;break}kt=T.return}}function Yu(b){for(;kt!==null;){var T=kt;try{switch(T.tag){case 0:case 11:case 15:var N=T.return;try{Vc(4,T)}catch(Le){Jn(T,N,Le)}break;case 1:var V=T.stateNode;if(typeof V.componentDidMount=="function"){var Y=T.return;try{V.componentDidMount()}catch(Le){Jn(T,Y,Le)}}var ie=T.return;try{du(T)}catch(Le){Jn(T,ie,Le)}break;case 5:var me=T.return;try{du(T)}catch(Le){Jn(T,me,Le)}}}catch(Le){Jn(T,T.return,Le)}if(T===b){kt=null;break}var Ce=T.sibling;if(Ce!==null){Ce.return=T.return,kt=Ce;break}kt=T.return}}var xf=Math.ceil,Gc=F.ReactCurrentDispatcher,gu=F.ReactCurrentOwner,Yi=F.ReactCurrentBatchConfig,yn=0,Dr=null,yr=null,Gr=0,$i=0,bl=Bn(0),Tr=0,fc=null,Ps=0,jc=0,yu=0,hc=null,Ei=null,vu=0,Sl=1/0,_o=null,qc=!1,_u=null,Ho=null,Hc=!1,Wo=null,Wc=0,dc=0,xu=null,Xc=-1,Kc=0;function ui(){return(yn&6)!==0?ft():Xc!==-1?Xc:Xc=ft()}function Xo(b){return(b.mode&1)===0?1:(yn&2)!==0&&Gr!==0?Gr&-Gr:lu.transition!==null?(Kc===0&&(Kc=Ar()),Kc):(b=un,b!==0||(b=window.event,b=b===void 0?16:Ra(b.type)),b)}function wa(b,T,N,V){if(50<dc)throw dc=0,xu=null,Error(n(185));Ti(b,N,V),((yn&2)===0||b!==Dr)&&(b===Dr&&((yn&2)===0&&(jc|=N),Tr===4&&Ko(b,Gr)),wi(b,V),N===1&&yn===0&&(T.mode&1)===0&&(Sl=ft()+500,hs&&Hi()))}function wi(b,T){var N=b.callbackNode;Gn(b,T);var V=vr(b,b===Dr?Gr:0);if(V===0)N!==null&&Pt(N),b.callbackNode=null,b.callbackPriority=0;else if(T=V&-V,b.callbackPriority!==T){if(N!=null&&Pt(N),T===1)b.tag===0?Pc(Ju.bind(null,b)):ds(Ju.bind(null,b)),su(function(){(yn&6)===0&&Hi()}),N=null;else{switch(Ui(V)){case 1:N=Xt;break;case 4:N=qt;break;case 16:N=gn;break;case 536870912:N=vn;break;default:N=gn}N=sf(N,Zu.bind(null,b))}b.callbackPriority=T,b.callbackNode=N}}function Zu(b,T){if(Xc=-1,Kc=0,(yn&6)!==0)throw Error(n(327));var N=b.callbackNode;if(El()&&b.callbackNode!==N)return null;var V=vr(b,b===Dr?Gr:0);if(V===0)return null;if((V&30)!==0||(V&b.expiredLanes)!==0||T)T=Yc(b,V);else{T=V;var Y=yn;yn|=2;var ie=ef();(Dr!==b||Gr!==T)&&(_o=null,Sl=ft()+500,Rs(b,T));do try{Ef();break}catch(Ce){Qu(b,Ce)}while(!0);uo(),Gc.current=ie,yn=Y,yr!==null?T=0:(Dr=null,Gr=0,T=Tr)}if(T!==0){if(T===2&&(Y=tr(b),Y!==0&&(V=Y,T=bu(b,Y))),T===1)throw N=fc,Rs(b,0),Ko(b,V),wi(b,ft()),N;if(T===6)Ko(b,V);else{if(Y=b.current.alternate,(V&30)===0&&!bf(Y)&&(T=Yc(b,V),T===2&&(ie=tr(b),ie!==0&&(V=ie,T=bu(b,ie))),T===1))throw N=fc,Rs(b,0),Ko(b,V),wi(b,ft()),N;switch(b.finishedWork=Y,b.finishedLanes=V,T){case 0:case 1:throw Error(n(345));case 2:Is(b,Ei,_o);break;case 3:if(Ko(b,V),(V&130023424)===V&&(T=vu+500-ft(),10<T)){if(vr(b,0)!==0)break;if(Y=b.suspendedLanes,(Y&V)!==V){ui(),b.pingedLanes|=b.suspendedLanes&Y;break}b.timeoutHandle=Ul(Is.bind(null,b,Ei,_o),T);break}Is(b,Ei,_o);break;case 4:if(Ko(b,V),(V&4194240)===V)break;for(T=b.eventTimes,Y=-1;0<V;){var me=31-Sn(V);ie=1<<me,me=T[me],me>Y&&(Y=me),V&=~ie}if(V=Y,V=ft()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*xf(V/1960))-V,10<V){b.timeoutHandle=Ul(Is.bind(null,b,Ei,_o),V);break}Is(b,Ei,_o);break;case 5:Is(b,Ei,_o);break;default:throw Error(n(329))}}}return wi(b,ft()),b.callbackNode===N?Zu.bind(null,b):null}function bu(b,T){var N=hc;return b.current.memoizedState.isDehydrated&&(Rs(b,T).flags|=256),b=Yc(b,T),b!==2&&(T=Ei,Ei=N,T!==null&&Su(T)),b}function Su(b){Ei===null?Ei=b:Ei.push.apply(Ei,b)}function bf(b){for(var T=b;;){if(T.flags&16384){var N=T.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var V=0;V<N.length;V++){var Y=N[V],ie=Y.getSnapshot;Y=Y.value;try{if(!ni(ie(),Y))return!1}catch{return!1}}}if(N=T.child,T.subtreeFlags&16384&&N!==null)N.return=T,T=N;else{if(T===b)break;for(;T.sibling===null;){if(T.return===null||T.return===b)return!0;T=T.return}T.sibling.return=T.return,T=T.sibling}}return!0}function Ko(b,T){for(T&=~yu,T&=~jc,b.suspendedLanes|=T,b.pingedLanes&=~T,b=b.expirationTimes;0<T;){var N=31-Sn(T),V=1<<N;b[N]=-1,T&=~V}}function Ju(b){if((yn&6)!==0)throw Error(n(327));El();var T=vr(b,0);if((T&1)===0)return wi(b,ft()),null;var N=Yc(b,T);if(b.tag!==0&&N===2){var V=tr(b);V!==0&&(T=V,N=bu(b,V))}if(N===1)throw N=fc,Rs(b,0),Ko(b,T),wi(b,ft()),N;if(N===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=T,Is(b,Ei,_o),wi(b,ft()),null}function Eu(b,T){var N=yn;yn|=1;try{return b(T)}finally{yn=N,yn===0&&(Sl=ft()+500,hs&&Hi())}}function Cs(b){Wo!==null&&Wo.tag===0&&(yn&6)===0&&El();var T=yn;yn|=1;var N=Yi.transition,V=un;try{if(Yi.transition=null,un=1,b)return b()}finally{un=V,Yi.transition=N,yn=T,(yn&6)===0&&Hi()}}function wu(){$i=bl.current,An(bl)}function Rs(b,T){b.finishedWork=null,b.finishedLanes=0;var N=b.timeoutHandle;if(N!==-1&&(b.timeoutHandle=-1,zl(N)),yr!==null)for(N=yr.return;N!==null;){var V=N;switch(da(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&us();break;case 3:za(),An($r),An(br),Xi();break;case 5:Vo(V);break;case 4:za();break;case 13:An(In);break;case 19:An(In);break;case 10:ys(V.type._context);break;case 22:case 23:wu()}N=N.return}if(Dr=b,yr=b=Yo(b.current,null),Gr=$i=T,Tr=0,fc=null,yu=jc=Ps=0,Ei=hc=null,ma!==null){for(T=0;T<ma.length;T++)if(N=ma[T],V=N.interleaved,V!==null){N.interleaved=null;var Y=V.next,ie=N.pending;if(ie!==null){var me=ie.next;ie.next=Y,V.next=me}N.pending=V}ma=null}return b}function Qu(b,T){do{var N=yr;try{if(uo(),mo.current=vl,Ni){for(var V=Pn.memoizedState;V!==null;){var Y=V.queue;Y!==null&&(Y.pending=null),V=V.next}Ni=!1}if(ya=0,mn=zn=Pn=null,Or=!1,Va=0,gu.current=null,N===null||N.return===null){Tr=1,fc=T,yr=null;break}e:{var ie=b,me=N.return,Ce=N,Le=T;if(T=Gr,Ce.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var nt=Le,_t=Ce,xt=_t.tag;if((_t.mode&1)===0&&(xt===0||xt===11||xt===15)){var vt=_t.alternate;vt?(_t.updateQueue=vt.updateQueue,_t.memoizedState=vt.memoizedState,_t.lanes=vt.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var Dt=Lt(me);if(Dt!==null){Dt.flags&=-257,nn(Dt,me,Ce,ie,T),Dt.mode&1&&St(ie,nt,T),T=Dt,Le=nt;var $t=T.updateQueue;if($t===null){var zt=new Set;zt.add(Le),T.updateQueue=zt}else $t.add(Le);break e}else{if((T&1)===0){St(ie,nt,T),Mu();break e}Le=Error(n(426))}}else if(Rn&&Ce.mode&1){var ar=Lt(me);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),nn(ar,me,Ce,ie,T),Bo(K(Le,Ce));break e}}ie=Le=K(Le,Ce),Tr!==4&&(Tr=2),hc===null?hc=[ie]:hc.push(ie),ie=me;do{switch(ie.tag){case 3:ie.flags|=65536,T&=-T,ie.lanes|=T;var Xe=Be(ie,Le,T);fo(ie,Xe);break e;case 1:Ce=Le;var $e=ie.type,Ke=ie.stateNode;if((ie.flags&128)===0&&(typeof $e.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(Ho===null||!Ho.has(Ke)))){ie.flags|=65536,T&=-T,ie.lanes|=T;var wt=ct(ie,Ce,T);fo(ie,wt);break e}}ie=ie.return}while(ie!==null)}nf(N)}catch(Gt){T=Gt,yr===N&&N!==null&&(yr=N=N.return);continue}break}while(!0)}function ef(){var b=Gc.current;return Gc.current=vl,b===null?vl:b}function Mu(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Dr===null||(Ps&268435455)===0&&(jc&268435455)===0||Ko(Dr,Gr)}function Yc(b,T){var N=yn;yn|=2;var V=ef();(Dr!==b||Gr!==T)&&(_o=null,Rs(b,T));do try{Sf();break}catch(Y){Qu(b,Y)}while(!0);if(uo(),yn=N,Gc.current=V,yr!==null)throw Error(n(261));return Dr=null,Gr=0,Tr}function Sf(){for(;yr!==null;)tf(yr)}function Ef(){for(;yr!==null&&!Bt();)tf(yr)}function tf(b){var T=of(b.alternate,b,$i);b.memoizedProps=b.pendingProps,T===null?nf(b):yr=T,gu.current=null}function nf(b){var T=b;do{var N=T.alternate;if(b=T.return,(T.flags&32768)===0){if(N=mf(N,T,$i),N!==null){yr=N;return}}else{if(N=gf(N,T),N!==null){N.flags&=32767,yr=N;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Tr=6,yr=null;return}}if(T=T.sibling,T!==null){yr=T;return}yr=T=b}while(T!==null);Tr===0&&(Tr=5)}function Is(b,T,N){var V=un,Y=Yi.transition;try{Yi.transition=null,un=1,wf(b,T,N,V)}finally{Yi.transition=Y,un=V}return null}function wf(b,T,N,V){do El();while(Wo!==null);if((yn&6)!==0)throw Error(n(327));N=b.finishedWork;var Y=b.finishedLanes;if(N===null)return null;if(b.finishedWork=null,b.finishedLanes=0,N===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var ie=N.lanes|N.childLanes;if(Ds(b,ie),b===Dr&&(yr=Dr=null,Gr=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Hc||(Hc=!0,sf(gn,function(){return El(),null})),ie=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||ie){ie=Yi.transition,Yi.transition=null;var me=un;un=1;var Ce=yn;yn|=4,gu.current=null,vf(b,N),Hu(N,b),dr($l),cr=!!No,$l=No=null,b.current=N,_f(N),jt(),yn=Ce,un=me,Yi.transition=ie}else b.current=N;if(Hc&&(Hc=!1,Wo=b,Wc=Y),ie=b.pendingLanes,ie===0&&(Ho=null),Ot(N.stateNode),wi(b,ft()),T!==null)for(V=b.onRecoverableError,N=0;N<T.length;N++)Y=T[N],V(Y.value,{componentStack:Y.stack,digest:Y.digest});if(qc)throw qc=!1,b=_u,_u=null,b;return(Wc&1)!==0&&b.tag!==0&&El(),ie=b.pendingLanes,(ie&1)!==0?b===xu?dc++:(dc=0,xu=b):dc=0,Hi(),null}function El(){if(Wo!==null){var b=Ui(Wc),T=Yi.transition,N=un;try{if(Yi.transition=null,un=16>b?16:b,Wo===null)var V=!1;else{if(b=Wo,Wo=null,Wc=0,(yn&6)!==0)throw Error(n(331));var Y=yn;for(yn|=4,kt=b.current;kt!==null;){var ie=kt,me=ie.child;if((kt.flags&16)!==0){var Ce=ie.deletions;if(Ce!==null){for(var Le=0;Le<Ce.length;Le++){var nt=Ce[Le];for(kt=nt;kt!==null;){var _t=kt;switch(_t.tag){case 0:case 11:case 15:uc(8,_t,ie)}var xt=_t.child;if(xt!==null)xt.return=_t,kt=xt;else for(;kt!==null;){_t=kt;var vt=_t.sibling,Dt=_t.return;if(zu(_t),_t===nt){kt=null;break}if(vt!==null){vt.return=Dt,kt=vt;break}kt=Dt}}}var $t=ie.alternate;if($t!==null){var zt=$t.child;if(zt!==null){$t.child=null;do{var ar=zt.sibling;zt.sibling=null,zt=ar}while(zt!==null)}}kt=ie}}if((ie.subtreeFlags&2064)!==0&&me!==null)me.return=ie,kt=me;else e:for(;kt!==null;){if(ie=kt,(ie.flags&2048)!==0)switch(ie.tag){case 0:case 11:case 15:uc(9,ie,ie.return)}var Xe=ie.sibling;if(Xe!==null){Xe.return=ie.return,kt=Xe;break e}kt=ie.return}}var $e=b.current;for(kt=$e;kt!==null;){me=kt;var Ke=me.child;if((me.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=me,kt=Ke;else e:for(me=$e;kt!==null;){if(Ce=kt,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:Vc(9,Ce)}}catch(Gt){Jn(Ce,Ce.return,Gt)}if(Ce===me){kt=null;break e}var wt=Ce.sibling;if(wt!==null){wt.return=Ce.return,kt=wt;break e}kt=Ce.return}}if(yn=Y,Hi(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(wn,b)}catch{}V=!0}return V}finally{un=N,Yi.transition=T}}return!1}function rf(b,T,N){T=K(N,T),T=Be(b,T,1),b=Ln(b,T,1),T=ui(),b!==null&&(Ti(b,1,T),wi(b,T))}function Jn(b,T,N){if(b.tag===3)rf(b,b,N);else for(;T!==null;){if(T.tag===3){rf(T,b,N);break}else if(T.tag===1){var V=T.stateNode;if(typeof T.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(Ho===null||!Ho.has(V))){b=K(N,b),b=ct(T,b,1),T=Ln(T,b,1),b=ui(),T!==null&&(Ti(T,1,b),wi(T,b));break}}T=T.return}}function Mf(b,T,N){var V=b.pingCache;V!==null&&V.delete(T),T=ui(),b.pingedLanes|=b.suspendedLanes&N,Dr===b&&(Gr&N)===N&&(Tr===4||Tr===3&&(Gr&130023424)===Gr&&500>ft()-vu?Rs(b,0):yu|=N),wi(b,T)}function af(b,T){T===0&&((b.mode&1)===0?T=1:(T=Cn,Cn<<=1,(Cn&130023424)===0&&(Cn=4194304)));var N=ui();b=Li(b,T),b!==null&&(Ti(b,T,N),wi(b,N))}function Tf(b){var T=b.memoizedState,N=0;T!==null&&(N=T.retryLane),af(b,N)}function Af(b,T){var N=0;switch(b.tag){case 13:var V=b.stateNode,Y=b.memoizedState;Y!==null&&(N=Y.retryLane);break;case 19:V=b.stateNode;break;default:throw Error(n(314))}V!==null&&V.delete(T),af(b,N)}var of;of=function(b,T,N){if(b!==null)if(b.memoizedProps!==T.pendingProps||$r.current)sn=!0;else{if((b.lanes&N)===0&&(T.flags&128)===0)return sn=!1,pf(b,T,N);sn=(b.flags&131072)!==0}else sn=!1,Rn&&(T.flags&1048576)!==0&&Hl(T,ll,T.index);switch(T.lanes=0,T.tag){case 2:var V=T.type;Uc(b,T),b=T.pendingProps;var Y=ro(T,br.current);Ua(T,N),Y=Ss(null,T,V,b,Y,N);var ie=ec();return T.flags|=1,typeof Y=="object"&&Y!==null&&typeof Y.render=="function"&&Y.$$typeof===void 0?(T.tag=1,T.memoizedState=null,T.updateQueue=null,Rr(V)?(ie=!0,io(T)):ie=!1,T.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,on(T),Y.updater=_l,T.stateNode=Y,Y._reactInternals=T,z(T,V,b,N),T=an(null,T,V,!0,ie,N)):(T.tag=0,Rn&&ie&&Wl(T),Rt(null,T,Y,N),T=T.child),T;case 16:V=T.elementType;e:{switch(Uc(b,T),b=T.pendingProps,Y=V._init,V=Y(V._payload),T.type=V,Y=T.tag=Cf(V),b=Si(V,b),Y){case 0:T=Ct(null,T,V,b,N);break e;case 1:T=Vt(null,T,V,b,N);break e;case 11:T=Mr(null,T,V,b,N);break e;case 14:T=ci(null,T,V,Si(V.type,b),N);break e}throw Error(n(306,V,""))}return T;case 0:return V=T.type,Y=T.pendingProps,Y=T.elementType===V?Y:Si(V,Y),Ct(b,T,V,Y,N);case 1:return V=T.type,Y=T.pendingProps,Y=T.elementType===V?Y:Si(V,Y),Vt(b,T,V,Y,N);case 3:e:{if(rn(T),b===null)throw Error(n(387));V=T.pendingProps,ie=T.memoizedState,Y=ie.element,Hn(b,T),Un(T,V,null,N);var me=T.memoizedState;if(V=me.element,ie.isDehydrated)if(ie={element:V,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},T.updateQueue.baseState=ie,T.memoizedState=ie,T.flags&256){Y=K(Error(n(423)),T),T=dn(b,T,V,N,Y);break e}else if(V!==Y){Y=K(Error(n(424)),T),T=dn(b,T,V,N,Y);break e}else for(Ur=la(T.stateNode.containerInfo.firstChild),Sr=T,Rn=!0,bi=null,N=gs(T,null,V,N),T.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Ba(),V===Y){T=vo(b,T,N);break e}Rt(b,T,V,N)}T=T.child}return T;case 5:return po(T),b===null&&ul(T),V=T.type,Y=T.pendingProps,ie=b!==null?b.memoizedProps:null,me=Y.children,Bl(V,Y)?me=null:ie!==null&&Bl(V,ie)&&(T.flags|=32),st(b,T),Rt(b,T,me,N),T.child;case 6:return b===null&&ul(T),null;case 13:return ba(b,T,N);case 4:return xs(T,T.stateNode.containerInfo),V=T.pendingProps,b===null?T.child=so(T,null,V,N):Rt(b,T,V,N),T.child;case 11:return V=T.type,Y=T.pendingProps,Y=T.elementType===V?Y:Si(V,Y),Mr(b,T,V,Y,N);case 7:return Rt(b,T,T.pendingProps,N),T.child;case 8:return Rt(b,T,T.pendingProps.children,N),T.child;case 12:return Rt(b,T,T.pendingProps.children,N),T.child;case 10:e:{if(V=T.type._context,Y=T.pendingProps,ie=T.memoizedProps,me=Y.value,En(lo,V._currentValue),V._currentValue=me,ie!==null)if(ni(ie.value,me)){if(ie.children===Y.children&&!$r.current){T=vo(b,T,N);break e}}else for(ie=T.child,ie!==null&&(ie.return=T);ie!==null;){var Ce=ie.dependencies;if(Ce!==null){me=ie.child;for(var Le=Ce.firstContext;Le!==null;){if(Le.context===V){if(ie.tag===1){Le=bn(-1,N&-N),Le.tag=2;var nt=ie.updateQueue;if(nt!==null){nt=nt.shared;var _t=nt.pending;_t===null?Le.next=Le:(Le.next=_t.next,_t.next=Le),nt.pending=Le}}ie.lanes|=N,Le=ie.alternate,Le!==null&&(Le.lanes|=N),vs(ie.return,N,T),Ce.lanes|=N;break}Le=Le.next}}else if(ie.tag===10)me=ie.type===T.type?null:ie.child;else if(ie.tag===18){if(me=ie.return,me===null)throw Error(n(341));me.lanes|=N,Ce=me.alternate,Ce!==null&&(Ce.lanes|=N),vs(me,N,T),me=ie.sibling}else me=ie.child;if(me!==null)me.return=ie;else for(me=ie;me!==null;){if(me===T){me=null;break}if(ie=me.sibling,ie!==null){ie.return=me.return,me=ie;break}me=me.return}ie=me}Rt(b,T,Y.children,N),T=T.child}return T;case 9:return Y=T.type,V=T.pendingProps.children,Ua(T,N),Y=ai(Y),V=V(Y),T.flags|=1,Rt(b,T,V,N),T.child;case 14:return V=T.type,Y=Si(V,T.pendingProps),Y=Si(V.type,Y),ci(b,T,V,Y,N);case 15:return Ye(b,T,T.type,T.pendingProps,N);case 17:return V=T.type,Y=T.pendingProps,Y=T.elementType===V?Y:Si(V,Y),Uc(b,T),T.tag=1,Rr(V)?(b=!0,io(T)):b=!1,Ua(T,N),R(T,V,Y),z(T,V,Y,N),an(null,T,V,!0,b,N);case 19:return Nu(b,T,N);case 22:return Ge(b,T,N)}throw Error(n(156,T.tag))};function sf(b,T){return Ze(b,T)}function Pf(b,T,N,V){this.tag=b,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=T,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(b,T,N,V){return new Pf(b,T,N,V)}function Tu(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Cf(b){if(typeof b=="function")return Tu(b)?1:0;if(b!=null){if(b=b.$$typeof,b===ne)return 11;if(b===ce)return 14}return 2}function Yo(b,T){var N=b.alternate;return N===null?(N=Zi(b.tag,T,b.key,b.mode),N.elementType=b.elementType,N.type=b.type,N.stateNode=b.stateNode,N.alternate=b,b.alternate=N):(N.pendingProps=T,N.type=b.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=b.flags&14680064,N.childLanes=b.childLanes,N.lanes=b.lanes,N.child=b.child,N.memoizedProps=b.memoizedProps,N.memoizedState=b.memoizedState,N.updateQueue=b.updateQueue,T=b.dependencies,N.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext},N.sibling=b.sibling,N.index=b.index,N.ref=b.ref,N}function Zc(b,T,N,V,Y,ie){var me=2;if(V=b,typeof b=="function")Tu(b)&&(me=1);else if(typeof b=="string")me=5;else e:switch(b){case U:return Os(N.children,Y,ie,T);case q:me=8,Y|=8;break;case Z:return b=Zi(12,N,T,Y|2),b.elementType=Z,b.lanes=ie,b;case ae:return b=Zi(13,N,T,Y),b.elementType=ae,b.lanes=ie,b;case te:return b=Zi(19,N,T,Y),b.elementType=te,b.lanes=ie,b;case ye:return Jc(N,Y,ie,T);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case G:me=10;break e;case H:me=9;break e;case ne:me=11;break e;case ce:me=14;break e;case fe:me=16,V=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return T=Zi(me,N,T,Y),T.elementType=b,T.type=V,T.lanes=ie,T}function Os(b,T,N,V){return b=Zi(7,b,V,T),b.lanes=N,b}function Jc(b,T,N,V){return b=Zi(22,b,V,T),b.elementType=ye,b.lanes=N,b.stateNode={isHidden:!1},b}function Au(b,T,N){return b=Zi(6,b,null,T),b.lanes=N,b}function Pu(b,T,N){return T=Zi(4,b.children!==null?b.children:[],b.key,T),T.lanes=N,T.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},T}function Rf(b,T,N,V,Y){this.tag=T,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=V,this.onRecoverableError=Y,this.mutableSourceEagerHydrationData=null}function Cu(b,T,N,V,Y,ie,me,Ce,Le){return b=new Rf(b,T,N,Ce,Le),T===1?(T=1,ie===!0&&(T|=8)):T=0,ie=Zi(3,null,null,T),b.current=ie,ie.stateNode=b,ie.memoizedState={element:V,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},on(ie),b}function If(b,T,N){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:V==null?null:""+V,children:b,containerInfo:T,implementation:N}}function lf(b){if(!b)return ua;b=b._reactInternals;e:{if(Zr(b)!==b||b.tag!==1)throw Error(n(170));var T=b;do{switch(T.tag){case 3:T=T.stateNode.context;break e;case 1:if(Rr(T.type)){T=T.stateNode.__reactInternalMemoizedMergedChildContext;break e}}T=T.return}while(T!==null);throw Error(n(171))}if(b.tag===1){var N=b.type;if(Rr(N))return fs(b,N,T)}return T}function cf(b,T,N,V,Y,ie,me,Ce,Le){return b=Cu(N,V,!0,b,Y,ie,me,Ce,Le),b.context=lf(null),N=b.current,V=ui(),Y=Xo(N),ie=bn(V,Y),ie.callback=T??null,Ln(N,ie,Y),b.current.lanes=Y,Ti(b,Y,V),wi(b,V),b}function Qc(b,T,N,V){var Y=T.current,ie=ui(),me=Xo(Y);return N=lf(N),T.context===null?T.context=N:T.pendingContext=N,T=bn(ie,me),T.payload={element:b},V=V===void 0?null:V,V!==null&&(T.callback=V),b=Ln(Y,T,me),b!==null&&(wa(b,Y,me,ie),Ir(b,Y,me)),me}function eu(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function uf(b,T){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var N=b.retryLane;b.retryLane=N!==0&&N<T?N:T}}function Ru(b,T){uf(b,T),(b=b.alternate)&&uf(b,T)}function Of(){return null}var ff=typeof reportError=="function"?reportError:function(b){console.error(b)};function Iu(b){this._internalRoot=b}tu.prototype.render=Iu.prototype.render=function(b){var T=this._internalRoot;if(T===null)throw Error(n(409));Qc(b,T,null,null)},tu.prototype.unmount=Iu.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var T=b.containerInfo;Cs(function(){Qc(null,b,null,null)}),T[ii]=null}};function tu(b){this._internalRoot=b}tu.prototype.unstable_scheduleHydration=function(b){if(b){var T=zi();b={blockedOn:null,target:b,priority:T};for(var N=0;N<mi.length&&T!==0&&T<mi[N].priority;N++);mi.splice(N,0,b),N===0&&Pr(b)}};function Ou(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function nu(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function hf(){}function Df(b,T,N,V,Y){if(Y){if(typeof V=="function"){var ie=V;V=function(){var nt=eu(me);ie.call(nt)}}var me=cf(T,V,b,0,null,!1,!1,"",hf);return b._reactRootContainer=me,b[ii]=me.current,Lo(b.nodeType===8?b.parentNode:b),Cs(),me}for(;Y=b.lastChild;)b.removeChild(Y);if(typeof V=="function"){var Ce=V;V=function(){var nt=eu(Le);Ce.call(nt)}}var Le=Cu(b,0,!1,null,null,!1,!1,"",hf);return b._reactRootContainer=Le,b[ii]=Le.current,Lo(b.nodeType===8?b.parentNode:b),Cs(function(){Qc(T,Le,N,V)}),Le}function ru(b,T,N,V,Y){var ie=N._reactRootContainer;if(ie){var me=ie;if(typeof Y=="function"){var Ce=Y;Y=function(){var Le=eu(me);Ce.call(Le)}}Qc(T,me,b,Y)}else me=Df(N,T,b,Y,V);return eu(me)}Ma=function(b){switch(b.tag){case 3:var T=b.stateNode;if(T.current.memoizedState.isDehydrated){var N=pn(T.pendingLanes);N!==0&&(Ai(T,N|1),wi(T,ft()),(yn&6)===0&&(Sl=ft()+500,Hi()))}break;case 13:Cs(function(){var V=Li(b,1);if(V!==null){var Y=ui();wa(V,b,1,Y)}}),Ru(b,1)}},So=function(b){if(b.tag===13){var T=Li(b,134217728);if(T!==null){var N=ui();wa(T,b,134217728,N)}Ru(b,134217728)}},Eo=function(b){if(b.tag===13){var T=Xo(b),N=Li(b,T);if(N!==null){var V=ui();wa(N,b,T,V)}Ru(b,T)}},zi=function(){return un},ja=function(b,T){var N=un;try{return un=b,T()}finally{un=N}},lt=function(b,T,N){switch(T){case"input":if(Qe(b,N),T=N.name,N.type==="radio"&&T!=null){for(N=b;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+T)+'][type="radio"]'),T=0;T<N.length;T++){var V=N[T];if(V!==b&&V.form===b.form){var Y=al(V);if(!Y)throw Error(n(90));he(V),Qe(V,Y)}}}break;case"textarea":De(b,N);break;case"select":T=N.value,T!=null&&pe(b,!!N.multiple,T,!1)}},At=Eu,Tt=Cs;var Lf={usingClientEntryPoint:!1,Events:[ca,qn,al,at,yt,Eu]},pc={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kf={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=et(b),b===null?null:b.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||Of,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{wn=iu.inject(kf),Ft=iu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lf,reactDom_production_min.createPortal=function(b,T){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(T))throw Error(n(200));return If(b,T,null,N)},reactDom_production_min.createRoot=function(b,T){if(!Ou(b))throw Error(n(299));var N=!1,V="",Y=ff;return T!=null&&(T.unstable_strictMode===!0&&(N=!0),T.identifierPrefix!==void 0&&(V=T.identifierPrefix),T.onRecoverableError!==void 0&&(Y=T.onRecoverableError)),T=Cu(b,1,!1,null,null,N,!1,V,Y),b[ii]=T.current,Lo(b.nodeType===8?b.parentNode:b),new Iu(T)},reactDom_production_min.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var T=b._reactInternals;if(T===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=et(T),b=b===null?null:b.stateNode,b},reactDom_production_min.flushSync=function(b){return Cs(b)},reactDom_production_min.hydrate=function(b,T,N){if(!nu(T))throw Error(n(200));return ru(null,b,T,!0,N)},reactDom_production_min.hydrateRoot=function(b,T,N){if(!Ou(b))throw Error(n(405));var V=N!=null&&N.hydratedSources||null,Y=!1,ie="",me=ff;if(N!=null&&(N.unstable_strictMode===!0&&(Y=!0),N.identifierPrefix!==void 0&&(ie=N.identifierPrefix),N.onRecoverableError!==void 0&&(me=N.onRecoverableError)),T=cf(T,null,b,1,N??null,Y,!1,ie,me),b[ii]=T.current,Lo(b),V)for(b=0;b<V.length;b++)N=V[b],Y=N._getVersion,Y=Y(N._source),T.mutableSourceEagerHydrationData==null?T.mutableSourceEagerHydrationData=[N,Y]:T.mutableSourceEagerHydrationData.push(N,Y);return new tu(T)},reactDom_production_min.render=function(b,T,N){if(!nu(T))throw Error(n(200));return ru(null,b,T,!1,N)},reactDom_production_min.unmountComponentAtNode=function(b){if(!nu(b))throw Error(n(40));return b._reactRootContainer?(Cs(function(){ru(null,null,b,!1,function(){b._reactRootContainer=null,b[ii]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Eu,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(b,T,N,V){if(!nu(N))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return ru(b,T,N,!1,V)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$s.apply(this,arguments)}var Action;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(o,l){let{pathname:u,search:f,hash:h}=o.location;return createLocation("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(e,n,null,t)}function invariant$2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n,o){return n===void 0&&(n=null),_extends$s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:n,key:e&&e.key||o||createKey()})}function createPath(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,f=l.history,h=Action.Pop,d=null,p=m();p==null&&(p=0,f.replaceState(_extends$s({},f.state,{idx:p}),""));function m(){return(f.state||{idx:null}).idx}function v(){h=Action.Pop;let w=m(),C=w==null?null:w-p;p=w,d&&d({action:h,location:A.location,delta:C})}function _(w,C){h=Action.Push;let O=createLocation(A.location,w,C);p=m()+1;let L=getHistoryState(O,p),F=A.createHref(O);try{f.pushState(L,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(F)}u&&d&&d({action:h,location:A.location,delta:1})}function S(w,C){h=Action.Replace;let O=createLocation(A.location,w,C);p=m();let L=getHistoryState(O,p),F=A.createHref(O);f.replaceState(L,"",F),u&&d&&d({action:h,location:A.location,delta:0})}function M(w){let C=l.location.origin!=="null"?l.location.origin:l.location.href,O=typeof w=="string"?w:createPath(w);return O=O.replace(/ $/,"%20"),invariant$2(C,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,C)}let A={get action(){return h},get location(){return t(l,f)},listen(w){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,v),d=w,()=>{l.removeEventListener(PopStateEventType,v),d=null}},createHref(w){return e(l,w)},createURL:M,encodeLocation(w){let C=M(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:S,go(w){return f.go(w)}};return A}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,n){return n===void 0&&(n="/"),matchRoutesImpl(t,e,n)}function matchRoutesImpl(t,e,n,o){let l=typeof e=="string"?parsePath(e):e,u=stripBasename(l.pathname||"/",n);if(u==null)return null;let f=flattenRoutes(t);rankRouteBranches(f);let h=null;for(let d=0;h==null&&d<f.length;++d){let p=decodePath(u);h=matchRouteBranch(f[d],p)}return h}function flattenRoutes(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,f,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};d.relativePath.startsWith("/")&&(invariant$2(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let p=joinPaths([o,d.relativePath]),m=n.concat(d);u.children&&u.children.length>0&&(invariant$2(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),flattenRoutes(u.children,e,m,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:computeScore(p,u.index),routesMeta:m})};return t.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let d of explodeOptionalSegments(u.path))l(u,f,d)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let f=explodeOptionalSegments(o.join("/")),h=[];return h.push(...f.map(d=>d===""?u:[u,d].join("/"))),l&&h.push(...f),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),o=n.length;return n.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),n.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((o,l)=>o===e[l])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n){let{routesMeta:o}=t,l={},u="/",f=[];for(let h=0;h<o.length;++h){let d=o[h],p=h===o.length-1,m=u==="/"?e:e.slice(u.length)||"/",v=matchPath({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!v)return null;Object.assign(l,v.params),f.push({params:l,pathname:joinPaths([u,v.pathname]),pathnameBase:normalizePathname(joinPaths([u,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(u=joinPaths([u,v.pathnameBase]))}return f}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=compilePath(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((p,m,v)=>{let{paramName:_,isOptional:S}=m;if(_==="*"){let A=h[v]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const M=h[v];return S&&!M?p[_]=void 0:p[_]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:t}}function compilePath(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,d)=>(o.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:l=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(o),hash:normalizeHash(l)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let n=getPathContributingMatches(t);return e?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function resolveTo(t,e,n,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=parsePath(t):(l=_extends$s({},t),invariant$2(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$2(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$2(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=t===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=n;else{let v=e.length-1;if(!o&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),v-=1;l.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=resolvePath(l,h),p=f&&f!=="/"&&f.endsWith("/"),m=(u||f===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$r.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(t,e){let{relative:n}=e===void 0?{}:e;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:l}=reactExports.useContext(NavigationContext),{hash:u,pathname:f,search:h}=useResolvedPath(t,{relative:n}),d=f;return o!=="/"&&(d=f==="/"?o:joinPaths([o,f])),l.createHref({pathname:d,search:h,hash:u})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$3(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:n,navigator:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),f=JSON.stringify(getResolveToMatches(l,n.v7_relativeSplatPath)),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{h.current=!0}),reactExports.useCallback(function(p,m){if(m===void 0&&(m={}),!h.current)return;if(typeof p=="number"){o.go(p);return}let v=resolveTo(p,JSON.parse(f),u,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:joinPaths([e,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[e,o,f,u,t])}const OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useResolvedPath(t,e){let{relative:n}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),f=JSON.stringify(getResolveToMatches(l,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(f),u,n==="path"),[t,f,u,n])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,o){useInRouterContext()||invariant$2(!1);let{navigator:l}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let d=f?f.pathnameBase:"/";f&&f.route;let p=useLocation(),m;if(e){var v;let w=typeof e=="string"?parsePath(e):e;d==="/"||(v=w.pathname)!=null&&v.startsWith(d)||invariant$2(!1),m=w}else m=p;let _=m.pathname||"/",S=_;if(d!=="/"){let w=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let M=matchRoutes(t,{pathname:S}),A=_renderMatches(M&&M.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:joinPaths([d,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:joinPaths([d,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),u,n,o);return e&&A?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$r({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Action.Pop}},A):A}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:l},n):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:n,children:o}=t,l=reactExports.useContext(DataRouterContext);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(t,e,n,o){var l;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var u;if(!n)return null;if(n.errors)t=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let f=t,h=(l=n)==null?void 0:l.errors;if(h!=null){let m=f.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);m>=0||invariant$2(!1),f=f.slice(0,Math.min(f.length,m+1))}let d=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let m=0;m<f.length;m++){let v=f[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:S}=n,M=v.route.loader&&_[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||M){d=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((m,v,_)=>{let S,M=!1,A=null,w=null;n&&(S=h&&v.route.id?h[v.route.id]:void 0,A=v.route.errorElement||defaultErrorElement,d&&(p<0&&_===0?(warningOnce("route-fallback"),M=!0,w=null):p===_&&(M=!0,w=v.route.hydrateFallbackElement||null)));let C=e.concat(f.slice(0,_+1)),O=()=>{let L;return S?L=A:M?L=w:v.route.Component?L=reactExports.createElement(v.route.Component,null):v.route.element?L=v.route.element:L=m,reactExports.createElement(RenderedRoute,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:L})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):O()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant$2(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$2(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant$2(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),n=e.matches[e.matches.length-1];return n.route.id||invariant$2(!1),n.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),n=useDataRouterState(),o=useCurrentRouteId();return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{n.current=!0}),reactExports.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,_extends$r({fromRouteId:e},u)))},[t,e])}const alreadyWarned$1={};function warningOnce(t,e,n){alreadyWarned$1[t]||(alreadyWarned$1[t]=!0)}function logV6DeprecationWarnings(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$2(!1)}function Router(t){let{basename:e="/",children:n=null,location:o,navigationType:l=Action.Pop,navigator:u,static:f=!1,future:h}=t;useInRouterContext()&&invariant$2(!1);let d=e.replace(/^\/*/,"/"),p=reactExports.useMemo(()=>({basename:d,navigator:u,static:f,future:_extends$r({v7_relativeSplatPath:!1},h)}),[d,h,u,f]);typeof o=="string"&&(o=parsePath(o));let{pathname:m="/",search:v="",hash:_="",state:S=null,key:M="default"}=o,A=reactExports.useMemo(()=>{let w=stripBasename(m,d);return w==null?null:{location:{pathname:w,search:v,hash:_,state:S,key:M},navigationType:l}},[d,m,v,_,S,M,l]);return A==null?null:reactExports.createElement(NavigationContext.Provider,{value:p},reactExports.createElement(LocationContext.Provider,{children:n,value:A}))}function Routes(t){let{children:e,location:n}=t;return useRoutes(createRoutesFromChildren(e),n)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let n=[];return reactExports.Children.forEach(t,(o,l)=>{if(!reactExports.isValidElement(o))return;let u=[...e,l];if(o.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(o.props.children,u));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=createRoutesFromChildren(o.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$q.apply(this,arguments)}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}const _excluded$g=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:n,future:o,window:l}=t,u=reactExports.useRef();u.current==null&&(u.current=createBrowserHistory({window:l,v5Compat:!0}));let f=u.current,[h,d]=reactExports.useState({action:f.action,location:f.location}),{v7_startTransition:p}=o||{},m=reactExports.useCallback(v=>{p&&startTransitionImpl?startTransitionImpl(()=>d(v)):d(v)},[d,p]);return reactExports.useLayoutEffect(()=>f.listen(m),[f,m]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:f,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,n){let{onClick:o,relative:l,reloadDocument:u,replace:f,state:h,target:d,to:p,preventScrollReset:m,viewTransition:v}=e,_=_objectWithoutPropertiesLoose$g(e,_excluded$g),{basename:S}=reactExports.useContext(NavigationContext),M,A=!1;if(typeof p=="string"&&ABSOLUTE_URL_REGEX.test(p)&&(M=p,isBrowser$1))try{let L=new URL(window.location.href),F=p.startsWith("//")?new URL(L.protocol+p):new URL(p),$=stripBasename(F.pathname,S);F.origin===L.origin&&$!=null?p=$+F.search+F.hash:A=!0}catch{}let w=useHref(p,{relative:l}),C=useLinkClickHandler(p,{replace:f,state:h,target:d,preventScrollReset:m,relative:l,viewTransition:v});function O(L){o&&o(L),L.defaultPrevented||C(L)}return reactExports.createElement("a",_extends$q({},_,{href:M||w,onClick:A||u?o:O,ref:n,target:d}))});var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(t,e){let{target:n,replace:o,state:l,preventScrollReset:u,relative:f,viewTransition:h}=e===void 0?{}:e,d=useNavigate(),p=useLocation(),m=useResolvedPath(t,{relative:f});return reactExports.useCallback(v=>{if(shouldProcessLinkClick(v,n)){v.preventDefault();let _=o!==void 0?o:createPath(p)===createPath(m);d(t,{replace:_,state:l,preventScrollReset:u,relative:f,viewTransition:h})}},[p,d,m,o,l,n,t,u,f,h])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:h="",children:d,...p},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:l,height:l,stroke:o,strokeWidth:f?Number(u)*24/Number(l):u,className:["lucide",`lucide-${toKebabCase(t)}`,h].join(" "),...p},[...e.map(([v,_])=>reactExports.createElement(v,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AreaChart=createLucideIcon("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRightCircle=createLucideIcon("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bug=createLucideIcon("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudRain=createLucideIcon("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cloud$1=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpu=createLucideIcon("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplet=createLucideIcon("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplets=createLucideIcon("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gauge=createLucideIcon("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Instagram=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Leaf=createLucideIcon("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenTool=createLucideIcon("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ruler=createLucideIcon("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Satellite=createLucideIcon("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scaling=createLucideIcon("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sprout=createLucideIcon("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun$1=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sunrise=createLucideIcon("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sunset=createLucideIcon("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Thermometer=createLucideIcon("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wind=createLucideIcon("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),navItems=[{name:"Incio",path:"/"},{name:"O que  Yield Gap",path:"/what-is-yield-gap"},{name:"Evoluo Histrica",path:"/historical-evolution"},{name:"Ferramentas",path:"/tools-for-yield-gap"},{name:"Solues",path:"/solve-yield-gap"},{name:"Mapa",path:"/mapa"}],Navbar=()=>{const[t,e]=reactExports.useState(!1),[n,o]=reactExports.useState(!1),l=useLocation();return reactExports.useEffect(()=>{const u=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),reactExports.useEffect(()=>{e(!1)},[l]),React$1.createElement("nav",{className:`fixed w-full z-50 transition-all duration-300 ease-in-out ${n||t?"bg-white shadow-md py-3":"bg-transparent py-4"}`},React$1.createElement("div",{className:"container-custom"},React$1.createElement("div",{className:"flex items-center justify-between h-16"}," ",React$1.createElement(Link,{to:"/",className:"flex items-center space-x-2 flex-shrink-0"}," ",React$1.createElement(Leaf,{size:28,className:"text-primary-600"}),React$1.createElement("span",{className:"text-xl font-semibold text-primary-800"},"FlowCot")),React$1.createElement("div",{className:"hidden lg:flex items-center space-x-6"},navItems.map(u=>React$1.createElement(Link,{key:u.path,to:u.path,className:`px-1 py-2 text-sm font-medium transition-colors duration-200 ease-in-out ${l.pathname===u.path?"text-primary-600 border-b-2 border-primary-600":n?"text-gray-700 hover:text-primary-600":"text-gray-800 hover:text-primary-600"}`},u.name))),React$1.createElement("div",{className:"lg:hidden"},React$1.createElement("button",{className:"text-gray-700 focus:outline-none p-2",onClick:()=>e(!t),"aria-label":"Toggle menu"},t?React$1.createElement(X$1,{size:24}):React$1.createElement(Menu,{size:24})))),React$1.createElement("div",{className:`lg:hidden overflow-hidden transition-all duration-300 ease-in-out ${t?"max-h-96 opacity-100":"max-h-0 opacity-0"}`},React$1.createElement("div",{className:"bg-white pt-2 pb-4 px-4 space-y-2"}," ",navItems.map(u=>React$1.createElement(Link,{key:u.path,to:u.path,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ease-in-out ${l.pathname===u.path?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100 hover:text-primary-600"}`},u.name))))))},Footer=()=>React$1.createElement("footer",{className:"bg-gray-900 text-gray-300"}," ",React$1.createElement("div",{className:"container-custom py-12 md:py-16"}," ",React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12"}," ",React$1.createElement("div",null,React$1.createElement("div",{className:"flex items-center space-x-2 mb-4"},React$1.createElement(Leaf,{size:24,className:"text-primary-400"}),React$1.createElement("span",{className:"text-xl font-semibold text-white"},"FlowCot")),React$1.createElement("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed"}," ","Disseminando conhecimento e oferecendo solues para a reduo do yield gap na cotonicultura brasileira."),React$1.createElement("div",{className:"flex space-x-4 text-gray-400"},React$1.createElement("a",{href:"#","aria-label":"Instagram",className:"hover:text-primary-400 transition-colors duration-200"},React$1.createElement(Instagram,{size:20})),React$1.createElement("a",{href:"#","aria-label":"LinkedIn",className:"hover:text-primary-400 transition-colors duration-200"},React$1.createElement(Linkedin,{size:20})),React$1.createElement("a",{href:"#","aria-label":"Twitter",className:"hover:text-primary-400 transition-colors duration-200"},React$1.createElement(Twitter,{size:20})))),React$1.createElement("div",null,React$1.createElement("h3",{className:"text-white text-base font-semibold mb-4 uppercase tracking-wider"},"Navegao")," ",React$1.createElement("ul",{className:"space-y-2"},React$1.createElement("li",null,React$1.createElement(Link,{to:"/",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Incio")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/what-is-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"O que  Yield Gap")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/historical-evolution",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Evoluo Histrica")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/tools-for-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Ferramentas")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/solve-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Solues")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/mapa",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Mapa Dinmico"))," ")),React$1.createElement("div",null,React$1.createElement("h3",{className:"text-white text-base font-semibold mb-4 uppercase tracking-wider"},"Recursos")," ",React$1.createElement("ul",{className:"space-y-2"},React$1.createElement("li",null,React$1.createElement(Link,{to:"/minecraft-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Minecraft e o Yield Gap")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/steps-to-avoid",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Passos Prticos")),React$1.createElement("li",null,React$1.createElement(Link,{to:"/about-us",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Sobre Ns"))," ",React$1.createElement("li",null,React$1.createElement("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"FAQ")),React$1.createElement("li",null,React$1.createElement("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm"},"Blog")))),React$1.createElement("div",null,React$1.createElement("h3",{className:"text-white text-base font-semibold mb-4 uppercase tracking-wider"},"Contato")," ",React$1.createElement("div",{className:"space-y-3 text-gray-400"},React$1.createElement("p",{className:"flex items-center text-sm"},React$1.createElement(Mail,{size:16,className:"mr-2 flex-shrink-0"})," ",React$1.createElement("a",{href:"mailto:contato@flowcot.com.br",className:"hover:text-primary-400 transition-colors break-all"}," ","contato@flowcot.com.br"))))),React$1.createElement("div",{className:"border-t border-gray-700 mt-10 pt-6 text-center text-gray-500 text-xs"}," ",React$1.createElement("p",null," ",new Date().getFullYear()," FlowCot. Todos os direitos reservados.")))),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(t,e,n,o){const{visualElement:l}=reactExports.useContext(MotionContext),u=reactExports.useContext(LazyContext),f=reactExports.useContext(PresenceContext),h=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef();o=o||u.renderer,!d.current&&o&&(d.current=o(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const p=d.current;reactExports.useInsertionEffect(()=>{p&&p.update(n,f)});const m=reactExports.useRef(!!(n[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$2(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),reactExports.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function isRefObject$1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),n&&(typeof n=="function"?n(o):isRefObject$1(n)&&(n.current=o))},[e])}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:o}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(o)?o:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:o,Component:l}){t&&loadFeatures(t);function u(h,d){let p;const m={...reactExports.useContext(MotionConfigContext),...h,layoutId:useLayoutId(h)},{isStatic:v}=m,_=useCreateMotionContext(h),S=o(h,v);if(!v&&isBrowser){_.visualElement=useVisualElement(l,S,m,e);const M=reactExports.useContext(SwitchLayoutGroupContext),A=reactExports.useContext(LazyContext).strict;_.visualElement&&(p=_.visualElement.loadFeatures(m,A,t,M))}return reactExports.createElement(MotionContext.Provider,{value:_},p&&_.visualElement?reactExports.createElement(p,{visualElement:_.visualElement,...m}):null,n(l,h,useMotionRef(S,_.visualElement,d),S,v,_.visualElement))}const f=reactExports.forwardRef(u);return f[motionComponentSymbol]=l,f}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function createMotionProxy(t){function e(o,l={}){return createMotionComponent(t(o,l))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(o,l)=>(n.has(l)||n.set(l,e(l)),n.get(l))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/.test(t))}const scaleCorrectors={};function addScaleCorrector(t){Object.assign(scaleCorrectors,t)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const isMotionValue=t=>!!(t&&t.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},o,l){let u="";for(let f=0;f<numTransforms;f++){const h=transformPropOrder[f];if(t[h]!==void 0){const d=translateAlias[h]||h;u+=`${d}(${t[h]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),l?u=l(t,o?"":u):n&&o&&(u="none"),u}const checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t,clamp$1=(t,e,n)=>Math.min(Math.max(n,t),e),number$3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha$2={...number$3,transform:t=>clamp$1(0,1,t)},scale$1={...number$3,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(t){return typeof t=="string"}const createUnitType=t=>({test:e=>isString$1(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int};function buildHTMLStyles(t,e,n,o){const{style:l,vars:u,transform:f,transformOrigin:h}=t;let d=!1,p=!1,m=!0;for(const v in e){const _=e[v];if(isCSSVariableName(v)){u[v]=_;continue}const S=numberValueTypes[v],M=getValueAsType(_,S);if(transformProps.has(v)){if(d=!0,f[v]=M,!m)continue;_!==(S.default||0)&&(m=!1)}else v.startsWith("origin")?(p=!0,h[v]=M):l[v]=M}if(e.transform||(d||o?l.transform=buildTransform(t.transform,n,m,o):l.transform&&(l.transform="none")),p){const{originX:v="50%",originY:_="50%",originZ:S=0}=h;l.transformOrigin=`${v} ${_} ${S}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const o in e)!isMotionValue(e[o])&&!isForcedMotionValue(o,n)&&(t[o]=e[o])}function useInitialMotionValues({transformTemplate:t},e,n){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,e,{enableHardwareAcceleration:!n},t),Object.assign({},o.vars,o.style)},[e])}function useStyle(t,e,n){const o=t.style||{},l={};return copyRawValuesOnly(l,o,t),Object.assign(l,useInitialMotionValues(t,e,n)),t.transformValues?t.transformValues(l):l}function useHTMLProps(t,e,n){const o={},l=useStyle(t,e,n);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=l,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(t,e,n){const o={};for(const l in t)l==="values"&&typeof t.values=="object"||(shouldForward(l)||n===!0&&isValidMotionProp(l)||!e&&!isValidMotionProp(l)||t.draggable&&l.startsWith("onDrag"))&&(o[l]=t[l]);return o}function calcOrigin$1(t,e,n){return typeof t=="string"?t:px$1.transform(e+n*t)}function calcSVGTransformOrigin(t,e,n){const o=calcOrigin$1(e,t.x,t.width),l=calcOrigin$1(n,t.y,t.height);return`${o} ${l}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,o=0,l=!0){t.pathLength=1;const u=l?dashKeys:camelKeys;t[u.offset]=px$1.transform(-o);const f=px$1.transform(e),h=px$1.transform(n);t[u.array]=`${f} ${h}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:o,originX:l,originY:u,pathLength:f,pathSpacing:h=1,pathOffset:d=0,...p},m,v,_){if(buildHTMLStyles(t,p,m,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:M,dimensions:A}=t;S.transform&&(A&&(M.transform=S.transform),delete S.transform),A&&(l!==void 0||u!==void 0||M.transform)&&(M.transformOrigin=calcSVGTransformOrigin(A,l!==void 0?l:.5,u!==void 0?u:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),o!==void 0&&(S.scale=o),f!==void 0&&buildSVGPath(S,f,h,d,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,o){const l=reactExports.useMemo(()=>{const u=createSvgRenderState();return buildSVGAttrs(u,e,{enableHardwareAcceleration:!1},isSVGTag(o),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};copyRawValuesOnly(u,t.style,t),l.style={...u,...l.style}}return l}function createUseRender(t=!1){return(n,o,l,{latestValues:u},f)=>{const d=(isSVGComponent(n)?useSVGProps:useHTMLProps)(o,u,f,n),m={...filterProps$1(o,typeof n=="string",t),...d,ref:l},{children:v}=o,_=reactExports.useMemo(()=>isMotionValue(v)?v.get():v,[v]);return reactExports.createElement(n,{...m,children:_})}}function renderHTML(t,{style:e,vars:n},o,l){Object.assign(t.style,e,l&&l.getProjectionStyles(o));for(const u in n)t.style.setProperty(u,n[u])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,o){renderHTML(t,e,void 0,o);for(const l in e.attrs)t.setAttribute(camelCaseAttributes.has(l)?l:camelToDash(l),e.attrs[l])}function scrapeMotionValuesFromProps$1(t,e){const{style:n}=t,o={};for(const l in n)(isMotionValue(n[l])||e.style&&isMotionValue(e.style[l])||isForcedMotionValue(l,t))&&(o[l]=n[l]);return o}function scrapeMotionValuesFromProps(t,e){const n=scrapeMotionValuesFromProps$1(t,e);for(const o in t)if(isMotionValue(t[o])||isMotionValue(e[o])){const l=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=t[o]}return n}function resolveVariantFromProps(t,e,n,o={},l={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),e}function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const e=isMotionValue(t)?t.get():t;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},o,l,u){const f={latestValues:makeLatestValues(o,l,u,t),renderState:e()};return n&&(f.mount=h=>n(o,h,f)),f}const makeUseVisualState=t=>(e,n)=>{const o=reactExports.useContext(MotionContext),l=reactExports.useContext(PresenceContext),u=()=>makeState(t,e,o,l);return n?u():useConstant(u)};function makeLatestValues(t,e,n,o){const l={},u=o(t,{});for(const _ in u)l[_]=resolveMotionValue(u[_]);let{initial:f,animate:h}=t;const d=isControllingVariants(t),p=isVariantNode(t);e&&p&&!d&&t.inherit!==!1&&(f===void 0&&(f=e.initial),h===void 0&&(h=e.animate));let m=n?n.initial===!1:!1;m=m||f===!1;const v=m?h:f;return v&&typeof v!="boolean"&&!isAnimationControls(v)&&(Array.isArray(v)?v:[v]).forEach(S=>{const M=resolveVariantFromProps(t,S);if(!M)return;const{transitionEnd:A,transition:w,...C}=M;for(const O in C){let L=C[O];if(Array.isArray(L)){const F=m?L.length-1:0;L=L[F]}L!==null&&(l[O]=L)}for(const O in A)l[O]=A[O]}),l}const noop$2=t=>t;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(t){let e=new Queue,n=new Queue,o=0,l=!1,u=!1;const f=new WeakSet,h={schedule:(d,p=!1,m=!1)=>{const v=m&&l,_=v?e:n;return p&&f.add(d),_.add(d)&&v&&l&&(o=e.order.length),d},cancel:d=>{n.remove(d),f.delete(d)},process:d=>{if(l){u=!0;return}if(l=!0,[e,n]=[n,e],n.clear(),o=e.order.length,o)for(let p=0;p<o;p++){const m=e.order[p];m(d),f.has(m)&&(h.schedule(m),t())}l=!1,u&&(u=!1,h.process(d))}};return h}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(t,e){let n=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=stepsOrder.reduce((v,_)=>(v[_]=createRenderStep(()=>n=!0),v),{}),f=v=>u[v].process(l),h=()=>{const v=performance.now();n=!1,l.delta=o?1e3/60:Math.max(Math.min(v-l.timestamp,maxElapsed),1),l.timestamp=v,l.isProcessing=!0,stepsOrder.forEach(f),l.isProcessing=!1,n&&e&&(o=!1,t(h))},d=()=>{n=!0,o=!0,l.isProcessing||t(h)};return{schedule:stepsOrder.reduce((v,_)=>{const S=u[_];return v[_]=(M,A=!1,w=!1)=>(n||d(),S.schedule(M,A,w)),v},{}),cancel:v=>stepsOrder.forEach(_=>u[_].cancel(v)),state:l,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(t,e,{renderState:n,latestValues:o})=>{frame.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(n,o,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),t.transformTemplate),renderSVG(e,n)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(t,{forwardMotionProps:e=!1},n,o){return{...isSVGComponent(t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:n,useRender:createUseRender(e),createVisualElement:o,Component:t}}function addDomEvent(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}const isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function extractEventInfo(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,o){return addDomEvent(t,e,addPointerInfo(n),o)}const combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions);function createLock(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(t){let e=!1;if(t==="y")e=globalVerticalLock();else if(t==="x")e=globalHorizontalLock();else{const n=globalHorizontalLock(),o=globalVerticalLock();n&&o?e=()=>{n(),o()}:(n&&n(),o&&o())}return e}function isDragActive(){const t=getGlobalLock(!0);return t?(t(),!1):!0}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}function addHoverEvent(t,e){const n="pointer"+(e?"enter":"leave"),o="onHover"+(e?"Start":"End"),l=(u,f)=>{if(u.pointerType==="touch"||isDragActive())return;const h=t.getProps();t.animationState&&h.whileHover&&t.animationState.setActive("whileHover",e),h[o]&&frame.update(()=>h[o](u,f))};return addPointerEvent(t.current,n,l,{passive:!t.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1;function fireSyntheticPointerEvent(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,extractEventInfo(n))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$2,this.removeEndListeners=noop$2,this.removeAccessibleListeners=noop$2,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),u=addPointerEvent(window,"pointerup",(h,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:v}=this.node.getProps();frame.update(()=>{!v&&!isNodeOrChild(this.node.current,h.target)?m&&m(h,d):p&&p(h,d)})},{passive:!(o.onTap||o.onPointerUp)}),f=addPointerEvent(window,"pointercancel",(h,d)=>this.cancelPress(h,d),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(u,f),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const f=h=>{h.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&frame.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",f),fireSyntheticPointerEvent("down",(h,d)=>{this.startPress(h,d)})},n=addDomEvent(this.node.current,"keydown",e),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(u,f)=>this.cancelPress(u,f))},l=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(n,l)}}startPress(e,n){this.isPressing=!0;const{onTapStart:o,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.update(()=>o(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.update(()=>o(e,n))}mount(){const e=this.node.getProps(),n=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(n,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const o=observers.get(n),l=JSON.stringify(e);return o[l]||(o[l]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),o[l]}function observeIntersection(t,e,n){const o=initIntersectionObserver(e);return observerCallbacks.set(t,n),o.observe(t),()=>{observerCallbacks.delete(t),o.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:o,amount:l="some",once:u}=e,f={root:n?n.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:thresholdNames[l]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),_=p?m:v;_&&_(d)};return observeIntersection(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}function getCurrent(t){const e={};return t.values.forEach((n,o)=>e[o]=n.get()),e}function getVelocity$1(t){const e={};return t.values.forEach((n,o)=>e[o]=n.getVelocity()),e}function resolveVariant(t,e,n){const o=t.getProps();return resolveVariantFromProps(o,e,n!==void 0?n:o.custom,getCurrent(t),getVelocity$1(t))}let invariant$1=noop$2;const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3,instantAnimationState={current:!1},isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number";function isWaapiSupportedEasing(t){return!!(!t||typeof t=="string"&&supportedWaapiEasing[t]||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,e,n,o])=>`cubic-bezier(${t}, ${e}, ${n}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t){if(t)return isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(mapEasingToNativeEasing):supportedWaapiEasing[t]}function animateStyle(t,e,n,{delay:o=0,duration:l,repeat:u=0,repeatType:f="loop",ease:h,times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=mapEasingToNativeEasing(h);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:o,duration:l,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"})}function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"}){const o=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[o]}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,o,l){let u,f,h=0;do f=e+(n-e)/2,u=calcBezier(f,o,l)-t,u>0?n=f:e=f;while(Math.abs(u)>subdivisionPrecision&&++h<subdivisionMaxIterations);return f}function cubicBezier$1(t,e,n,o){if(t===e&&n===o)return noop$2;const l=u=>binarySubdivide(u,0,1,t,n);return u=>u===0||u===1?u:calcBezier(l(u),e,o)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=t=>{if(Array.isArray(t)){invariant$1(t.length===4);const[e,n,o,l]=t;return cubicBezier$1(e,n,o,l)}else if(typeof t=="string")return easingLookup[t];return t},isColorString=(t,e)=>n=>!!(isString$1(n)&&singleColorRegex.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>o=>{if(!isString$1(o))return o;const[l,u,f,h]=o.match(floatRegex);return{[t]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=t=>clamp$1(0,255,t),rgbUnit={...number$3,transform:t=>Math.round(clampRgbUnit(t))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$2.transform(o))+")"};function parseHex(t){let e="",n="",o="",l="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),o=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),o=t.substring(3,4),l=t.substring(4,5),e+=e,n+=n,o+=o,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$2.transform(o))+")"},color$2={test:t=>rgba$1.test(t)||hex$2.test(t)||hsla$1.test(t),parse:t=>rgba$1.test(t)?rgba$1.parse(t):hsla$1.test(t)?hsla$1.parse(t):hex$2.parse(t),transform:t=>isString$1(t)?t:t.hasOwnProperty("red")?rgba$1.transform(t):hsla$1.transform(t)},mix=(t,e,n)=>-n*t+n*e+t;function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,e/=100,n/=100;let l=0,u=0,f=0;if(!e)l=u=f=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;l=hueToRgb(d,h,t+1/3),u=hueToRgb(d,h,t),f=hueToRgb(d,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:o}}const mixLinearColor=(t,e,n)=>{const o=t*t;return Math.sqrt(Math.max(0,n*(e*e-o)+o))},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);let n=e.parse(t);return e===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),o=asRGBA(e),l={...n};return u=>(l.red=mixLinearColor(n.red,o.red,u),l.green=mixLinearColor(n.green,o.green,u),l.blue=mixLinearColor(n.blue,o.blue,u),l.alpha=mix(n.alpha,o.alpha,u),rgba$1.transform(l))};function test(t){var e,n;return isNaN(t)&&isString$1(t)&&(((e=t.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$2},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$2.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$3.parse};function tokenise(t,{regex:e,countKey:n,token:o,parse:l}){const u=t.tokenised.match(e);u&&(t["num"+n]=u.length,t.tokenised=t.tokenised.replace(e,o),t.values.push(...u.map(l)))}function analyseComplexValue(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tokenise(n,cssVarTokeniser),tokenise(n,colorTokeniser),tokenise(n,numberTokeniser),n}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{values:e,numColors:n,numVars:o,tokenised:l}=analyseComplexValue(t),u=e.length;return f=>{let h=l;for(let d=0;d<u;d++)d<o?h=h.replace(cssVarTokeniser.token,f[d]):d<o+n?h=h.replace(colorTokeniser.token,color$2.transform(f[d])):h=h.replace(numberTokeniser.token,sanitize(f[d]));return h}}const convertNumbersToZero=t=>typeof t=="number"?0:t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(t,e)=>n=>`${n>0?e:t}`;function getMixer(t,e){return typeof t=="number"?n=>mix(t,e,n):color$2.test(t)?mixColor(t,e):t.startsWith("var(")?mixImmediate(t,e):mixComplex(t,e)}const mixArray=(t,e)=>{const n=[...t],o=n.length,l=t.map((u,f)=>getMixer(u,e[f]));return u=>{for(let f=0;f<o;f++)n[f]=l[f](u);return n}},mixObject=(t,e)=>{const n={...t,...e},o={};for(const l in n)t[l]!==void 0&&e[l]!==void 0&&(o[l]=getMixer(t[l],e[l]));return l=>{for(const u in o)n[u]=o[u](l);return n}},mixComplex=(t,e)=>{const n=complex.createTransformer(e),o=analyseComplexValue(t),l=analyseComplexValue(e);return o.numVars===l.numVars&&o.numColors===l.numColors&&o.numNumbers>=l.numNumbers?pipe(mixArray(o.values,l.values),n):mixImmediate(t,e)},progress=(t,e,n)=>{const o=e-t;return o===0?1:(n-t)/o},mixNumber=(t,e)=>n=>mix(t,e,n);function detectMixerFactory(t){return typeof t=="number"?mixNumber:typeof t=="string"?color$2.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?mixObject:mixNumber}function createMixers(t,e,n){const o=[],l=n||detectMixerFactory(t[0]),u=t.length-1;for(let f=0;f<u;f++){let h=l(t[f],t[f+1]);if(e){const d=Array.isArray(e)?e[f]||noop$2:e;h=pipe(d,h)}o.push(h)}return o}function interpolate$3(t,e,{clamp:n=!0,ease:o,mixer:l}={}){const u=t.length;if(invariant$1(u===e.length),u===1)return()=>e[0];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=createMixers(e,o,l),h=f.length,d=p=>{let m=0;if(h>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const v=progress(t[m],t[m+1],p);return f[m](v)};return n?p=>d(clamp$1(t[0],t[u-1],p)):d}function fillOffset(t,e){const n=t[t.length-1];for(let o=1;o<=e;o++){const l=progress(0,e,o);t.push(mix(n,1,l))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:o="easeInOut"}){const l=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),u={done:!1,value:e[0]},f=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),h=interpolate$3(f,e,{ease:Array.isArray(l)?l:defaultEasing(e,l)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}function velocityPerSecond(t,e){return e?t*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const o=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(o),e-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:t=800,bounce:e=.25,velocity:n=0,mass:o=1}){let l,u,f=1-e;f=clamp$1(minDamping,maxDamping,f),t=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(t)),f<1?(l=p=>{const m=p*f,v=m*t,_=m-n,S=calcAngularFreq(p,f),M=Math.exp(-v);return safeMin-_/S*M},u=p=>{const v=p*f*t,_=v*n+n,S=Math.pow(f,2)*Math.pow(p,2)*t,M=Math.exp(-v),A=calcAngularFreq(Math.pow(p,2),f);return(-l(p)+safeMin>0?-1:1)*((_-S)*M)/A}):(l=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},u=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const h=5/t,d=approximateRoot(l,u,h);if(t=secondsToMilliseconds(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*o;return{stiffness:p,damping:f*2*Math.sqrt(o*p),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let o=n;for(let l=1;l<rootIterations;l++)o=o-t(o)/e(o);return o}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys)){const n=findSpring(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:t,restDelta:e,restSpeed:n,...o}){const l=t[0],u=t[t.length-1],f={done:!1,value:l},{stiffness:h,damping:d,mass:p,duration:m,velocity:v,isResolvedFromDuration:_}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),S=v||0,M=d/(2*Math.sqrt(h*p)),A=u-l,w=millisecondsToSeconds(Math.sqrt(h/p)),C=Math.abs(A)<5;n||(n=C?.01:2),e||(e=C?.005:.5);let O;if(M<1){const L=calcAngularFreq(w,M);O=F=>{const $=Math.exp(-M*w*F);return u-$*((S+M*w*A)/L*Math.sin(L*F)+A*Math.cos(L*F))}}else if(M===1)O=L=>u-Math.exp(-w*L)*(A+(S+w*A)*L);else{const L=w*Math.sqrt(M*M-1);O=F=>{const $=Math.exp(-M*w*F),B=Math.min(L*F,300);return u-$*((S+M*w*A)*Math.sinh(B)+L*A*Math.cosh(B))/L}}return{calculatedDuration:_&&m||null,next:L=>{const F=O(L);if(_)f.done=L>=m;else{let $=S;L!==0&&(M<1?$=calcGeneratorVelocity(O,L,F):$=0);const B=Math.abs($)<=n,U=Math.abs(u-F)<=e;f.done=B&&U}return f.value=f.done?u:F,f}}}function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:f,min:h,max:d,restDelta:p=.5,restSpeed:m}){const v=t[0],_={done:!1,value:v},S=q=>h!==void 0&&q<h||d!==void 0&&q>d,M=q=>h===void 0?d:d===void 0||Math.abs(h-q)<Math.abs(d-q)?h:d;let A=n*e;const w=v+A,C=f===void 0?w:f(w);C!==w&&(A=C-v);const O=q=>-A*Math.exp(-q/o),L=q=>C+O(q),F=q=>{const Z=O(q),G=L(q);_.done=Math.abs(Z)<=p,_.value=_.done?C:G};let $,B;const U=q=>{S(_.value)&&($=q,B=spring({keyframes:[_.value,M(_.value)],velocity:calcGeneratorVelocity(L,q,_.value),damping:l,stiffness:u,restDelta:p,restSpeed:m}))};return U(0),{calculatedDuration:null,next:q=>{let Z=!1;return!B&&$===void 0&&(Z=!0,F(q),U(q)),$!==void 0&&q>$?B.next(q-$):(!Z&&F(q),_)}}}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let o=t.next(e);for(;!o.done&&e<maxGeneratorDuration;)e+=n,o=t.next(e);return e>=maxGeneratorDuration?1/0:e}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:t=!0,delay:e=0,driver:n=frameloopDriver,keyframes:o,type:l="keyframes",repeat:u=0,repeatDelay:f=0,repeatType:h="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:v,..._}){let S=1,M=!1,A,w;const C=()=>{w=new Promise(Q=>{A=Q})};C();let O;const L=types[l]||keyframes;let F;L!==keyframes&&typeof o[0]!="number"&&(F=interpolate$3([0,100],o,{clamp:!1}),o=[0,100]);const $=L({..._,keyframes:o});let B;h==="mirror"&&(B=L({..._,keyframes:[...o].reverse(),velocity:-(_.velocity||0)}));let U="idle",q=null,Z=null,G=null;$.calculatedDuration===null&&u&&($.calculatedDuration=calcGeneratorDuration($));const{calculatedDuration:H}=$;let ne=1/0,ae=1/0;H!==null&&(ne=H+f,ae=ne*(u+1)-f);let te=0;const ce=Q=>{if(Z===null)return;S>0&&(Z=Math.min(Z,Q)),S<0&&(Z=Math.min(Q-ae/S,Z)),q!==null?te=q:te=Math.round(Q-Z)*S;const ue=te-e*(S>=0?1:-1),_e=S>=0?ue<0:ue>ae;te=Math.max(ue,0),U==="finished"&&q===null&&(te=ae);let ge=te,ve=$;if(u){const Ae=Math.min(te,ae)/ne;let Ne=Math.floor(Ae),Ie=Ae%1;!Ie&&Ae>=1&&(Ie=1),Ie===1&&Ne--,Ne=Math.min(Ne,u+1),!!(Ne%2)&&(h==="reverse"?(Ie=1-Ie,f&&(Ie-=f/ne)):h==="mirror"&&(ve=B)),ge=clamp$1(0,1,Ie)*ne}const we=_e?{done:!1,value:o[0]}:ve.next(ge);F&&(we.value=F(we.value));let{done:Pe}=we;!_e&&H!==null&&(Pe=S>=0?te>=ae:te<=0);const Re=q===null&&(U==="finished"||U==="running"&&Pe);return v&&v(we.value),Re&&J(),we},fe=()=>{O&&O.stop(),O=void 0},ye=()=>{U="idle",fe(),A(),C(),Z=G=null},J=()=>{U="finished",m&&m(),fe(),A()},oe=()=>{if(M)return;O||(O=n(ce));const Q=O.now();d&&d(),q!==null?Z=Q-q:(!Z||U==="finished")&&(Z=Q),U==="finished"&&C(),G=Z,q=null,U="running",O.start()};t&&oe();const se={then(Q,ue){return w.then(Q,ue)},get time(){return millisecondsToSeconds(te)},set time(Q){Q=secondsToMilliseconds(Q),te=Q,q!==null||!O||S===0?q=Q:Z=O.now()-Q/S},get duration(){const Q=$.calculatedDuration===null?calcGeneratorDuration($):$.calculatedDuration;return millisecondsToSeconds(Q)},get speed(){return S},set speed(Q){Q===S||!O||(S=Q,se.time=millisecondsToSeconds(te))},get state(){return U},play:oe,pause:()=>{U="paused",q=te},stop:()=>{M=!0,U!=="idle"&&(U="idle",p&&p(),ye())},cancel:()=>{G!==null&&ce(G),ye()},complete:()=>{U="finished"},sample:Q=>(Z=0,ce(Q))};return se}function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(t,e)=>e.type==="spring"||t==="backgroundColor"||!isWaapiSupportedEasing(e.ease);function createAcceleratedAnimation(t,e,{onUpdate:n,onComplete:o,...l}){if(!(supportsWaapi()&&acceleratedValues.has(e)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let f=!1,h,d,p=!1;const m=()=>{d=new Promise(L=>{h=L})};m();let{keyframes:v,duration:_=300,ease:S,times:M}=l;if(requiresPregeneratedKeyframes(e,l)){const L=animateValue({...l,repeat:0,delay:0});let F={done:!1,value:v[0]};const $=[];let B=0;for(;!F.done&&B<maxDuration;)F=L.sample(B),$.push(F.value),B+=sampleDelta;M=void 0,v=$,_=B-sampleDelta,S="linear"}const A=animateStyle(t.owner.current,e,v,{...l,duration:_,ease:S,times:M}),w=()=>{p=!1,A.cancel()},C=()=>{p=!0,frame.update(w),h(),m()};return A.onfinish=()=>{p||(t.set(getFinalKeyframe(v,l)),o&&o(),C())},{then(L,F){return d.then(L,F)},attachTimeline(L){return A.timeline=L,A.onfinish=null,noop$2},get time(){return millisecondsToSeconds(A.currentTime||0)},set time(L){A.currentTime=secondsToMilliseconds(L)},get speed(){return A.playbackRate},set speed(L){A.playbackRate=L},get duration(){return millisecondsToSeconds(_)},play:()=>{f||(A.play(),cancelFrame(w))},pause:()=>A.pause(),stop:()=>{if(f=!0,A.playState==="idle")return;const{currentTime:L}=A;if(L){const F=animateValue({...l,autoplay:!1});t.setWithVelocity(F.sample(L-sampleDelta).value,F.sample(L).value,sampleDelta)}C()},complete:()=>{p||A.finish()},cancel:C}}function createInstantAnimation({keyframes:t,delay:e,onUpdate:n,onComplete:o}){const l=()=>(n&&n(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:noop$2,pause:noop$2,stop:noop$2,then:u=>(u(),Promise.resolve()),cancel:noop$2,complete:noop$2});return e?animateValue({keyframes:[0,1],duration:0,delay:e,onComplete:l}):l()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease,isAnimatable=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=n.match(floatRegex)||[];if(!o)return t;const l=n.replace(o,"");let u=maxDefaults.has(e)?1:0;return o!==n&&(u*=100),e+"("+u+l+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const isZeroValueString=t=>/^0[^.\s]+$/.test(t);function isNone(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||isZeroValueString(t)}function getKeyframes(t,e,n,o){const l=isAnimatable(e,n);let u;Array.isArray(n)?u=[...n]:u=[null,n];const f=o.from!==void 0?o.from:t.get();let h;const d=[];for(let p=0;p<u.length;p++)u[p]===null&&(u[p]=p===0?f:u[p-1]),isNone(u[p])&&d.push(p),typeof u[p]=="string"&&u[p]!=="none"&&u[p]!=="0"&&(h=u[p]);if(l&&d.length&&h)for(let p=0;p<d.length;p++){const m=d[p];u[m]=getAnimatableNone(e,h)}return u}function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:f,repeatDelay:h,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function getValueTransition(t,e){return t[e]||t.default||t}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(t,e,n,o={})=>l=>{const u=getValueTransition(o,t)||{},f=u.delay||o.delay||0;let{elapsed:h=0}=o;h=h-secondsToMilliseconds(f);const d=getKeyframes(e,t,n,u),p=d[0],m=d[d.length-1],v=isAnimatable(t,p),_=isAnimatable(t,m);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...u,delay:-h,onUpdate:M=>{e.set(M),u.onUpdate&&u.onUpdate(M)},onComplete:()=>{l(),u.onComplete&&u.onComplete()}};if(isTransitionDefined(u)||(S={...S,...getDefaultTransition(t,S)}),S.duration&&(S.duration=secondsToMilliseconds(S.duration)),S.repeatDelay&&(S.repeatDelay=secondsToMilliseconds(S.repeatDelay)),!v||!_||instantAnimationState.current||u.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(S);if(!o.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const M=createAcceleratedAnimation(e,t,S);if(M)return M}return animateValue(S)};function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}const isNumericalString=t=>/^\-?\d*\.?\d+$/.test(t);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,o);else for(let u=0;u<l;u++){const f=this.subscriptions[u];f&&f(e,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,l=!0)=>{this.prev=this.current,this.current=o;const{delta:u,timestamp:f}=frameData;this.lastUpdated!==f&&(this.timeDelta=u,this.lastUpdated=f,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=isFloat(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const o=this.events[e].add(n);return e==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,o){this.set(n),this.prev=e,this.timeDelta=o}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const testValueType=t=>e=>e.test(t),auto={test:t=>t==="auto",parse:t=>t},dimensionValueTypes=[number$3,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t)),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=t=>valueTypes.find(testValueType(t));function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:o={},transition:l={},...u}=n?t.makeTargetAnimatable(n,!1):{};u={...u,...o};for(const f in u){const h=resolveFinalValueInKeyframes(u[f]);setMotionValue(t,f,h)}}function setVariants(t,e){[...e].reverse().forEach(o=>{const l=t.getVariant(o);l&&setTarget(t,l),t.variantChildren&&t.variantChildren.forEach(u=>{setVariants(u,e)})})}function setValues(t,e){if(Array.isArray(e))return setVariants(t,e);if(typeof e=="string")return setVariants(t,[e]);setTarget(t,e)}function checkTargetForNewValues(t,e,n){var o,l;const u=Object.keys(e).filter(h=>!t.hasValue(h)),f=u.length;if(f)for(let h=0;h<f;h++){const d=u[h],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(l=(o=n[d])!==null&&o!==void 0?o:t.readValue(d))!==null&&l!==void 0?l:e[d]),m!=null&&(typeof m=="string"&&(isNumericalString(m)||isZeroValueString(m))?m=parseFloat(m):!findValueType(m)&&complex.test(p)&&(m=getAnimatableNone(d,p)),t.addValue(d,motionValue(m,{owner:t})),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function getOriginFromTransition(t,e){return e?(e[t]||e.default||e).from:void 0}function getOrigin(t,e,n){const o={};for(const l in t){const u=getOriginFromTransition(l,e);if(u!==void 0)o[l]=u;else{const f=n.getValue(l);f&&(o[l]=f.get())}}return o}function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,o}function hasKeyframesChanged(t,e){const n=t.get();if(Array.isArray(e)){for(let o=0;o<e.length;o++)if(e[o]!==n)return!0}else return n!==e}function animateTarget(t,e,{delay:n=0,transitionOverride:o,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:f,...h}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");o&&(u=o);const p=[],m=l&&t.animationState&&t.animationState.getState()[l];for(const v in h){const _=t.getValue(v),S=h[v];if(!_||S===void 0||m&&shouldBlockAnimation(m,v))continue;const M={delay:n,elapsed:0,...getValueTransition(u||{},v)};if(window.HandoffAppearAnimations){const C=t.getProps()[optimizedAppearDataAttribute];if(C){const O=window.HandoffAppearAnimations(C,v,_,frame);O!==null&&(M.elapsed=O,M.isHandoff=!0)}}let A=!M.isHandoff&&!hasKeyframesChanged(_,S);if(M.type==="spring"&&(_.getVelocity()||M.velocity)&&(A=!1),_.animation&&(A=!1),A)continue;_.start(animateMotionValue(v,_,S,t.shouldReduceMotion&&transformProps.has(v)?{type:!1}:M));const w=_.animation;isWillChangeMotionValue(d)&&(d.add(v),w.then(()=>d.remove(v))),p.push(w)}return f&&Promise.all(p).then(()=>{f&&setTarget(t,f)}),p}function animateVariant(t,e,n={}){const o=resolveVariant(t,e,n.custom);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const u=o?()=>Promise.all(animateTarget(t,o,n)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=l;return animateChildren(t,e,p+d,m,v,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[d,p]=h==="beforeChildren"?[u,f]:[f,u];return d().then(()=>p())}else return Promise.all([u(),f(n.delay)])}function animateChildren(t,e,n=0,o=0,l=1,u){const f=[],h=(t.variantChildren.size-1)*o,d=l===1?(p=0)=>p*o:(p=0)=>h-p*o;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((p,m)=>{p.notify("AnimationStart",e),f.push(animateVariant(p,e,{...u,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(f)}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const l=e.map(u=>animateVariant(t,u,n));o=Promise.all(l)}else if(typeof e=="string")o=animateVariant(t,e,n);else{const l=typeof e=="function"?resolveVariant(t,e,n.custom):e;o=Promise.all(animateTarget(t,l,n))}return o.then(()=>t.notify("AnimationComplete",e))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:o})=>animateVisualElement(t,n,o)))}function createAnimationState(t){let e=animateList(t);const n=createState();let o=!0;const l=(d,p)=>{const m=resolveVariant(t,p);if(m){const{transition:v,transitionEnd:_,...S}=m;d={...d,...S,..._}}return d};function u(d){e=d(t)}function f(d,p){const m=t.getProps(),v=t.getVariantContext(!0)||{},_=[],S=new Set;let M={},A=1/0;for(let C=0;C<numAnimationTypes;C++){const O=reversePriorityOrder[C],L=n[O],F=m[O]!==void 0?m[O]:v[O],$=isVariantLabel(F),B=O===p?L.isActive:null;B===!1&&(A=C);let U=F===v[O]&&F!==m[O]&&$;if(U&&o&&t.manuallyAnimateOnMount&&(U=!1),L.protectedKeys={...M},!L.isActive&&B===null||!F&&!L.prevProp||isAnimationControls(F)||typeof F=="boolean")continue;let Z=checkVariantsDidChange(L.prevProp,F)||O===p&&L.isActive&&!U&&$||C>A&&$,G=!1;const H=Array.isArray(F)?F:[F];let ne=H.reduce(l,{});B===!1&&(ne={});const{prevResolvedValues:ae={}}=L,te={...ae,...ne},ce=fe=>{Z=!0,S.has(fe)&&(G=!0,S.delete(fe)),L.needsAnimating[fe]=!0};for(const fe in te){const ye=ne[fe],J=ae[fe];if(M.hasOwnProperty(fe))continue;let oe=!1;isKeyframesTarget(ye)&&isKeyframesTarget(J)?oe=!shallowCompare(ye,J):oe=ye!==J,oe?ye!==void 0?ce(fe):S.add(fe):ye!==void 0&&S.has(fe)?ce(fe):L.protectedKeys[fe]=!0}L.prevProp=F,L.prevResolvedValues=ne,L.isActive&&(M={...M,...ne}),o&&t.blockInitialAnimation&&(Z=!1),Z&&(!U||G)&&_.push(...H.map(fe=>({animation:fe,options:{type:O,...d}})))}if(S.size){const C={};S.forEach(O=>{const L=t.getBaseTarget(O);L!==void 0&&(C[O]=L)}),_.push({animation:C})}let w=!!_.length;return o&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(w=!1),o=!1,w?e(_):Promise.resolve()}function h(d,p,m){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(S=>{var M;return(M=S.animationState)===null||M===void 0?void 0:M.setActive(d,p)}),n[d].isActive=p;const _=f(m,d);for(const S in n)n[S].protectedKeys={};return _}return{animateChanges:f,setActive:h,setAnimateFunction:u,getState:()=>n}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:o}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===l)return;const u=this.node.animationState.setActive("exit",!e,{custom:o??this.node.getProps().custom});n&&!e&&u.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),o=distance(t.y,e.y);return Math.sqrt(n**2+o**2)}class PanSession{constructor(e,n,{transformPagePoint:o,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=getPanInfo(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=distance2D(v.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:M}=v,{timestamp:A}=frameData;this.history.push({...M,timestamp:A});const{onStart:w,onMove:C}=this.handlers;_||(w&&w(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=transformPoint(_,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:M,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=getPanInfo(v.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,w),M&&M(v,w)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=o,this.contextWindow=l||window;const f=extractEventInfo(e),h=transformPoint(f,this.transformPagePoint),{point:d}=h,{timestamp:p}=frameData;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,getPanInfo(h,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const l=lastDevicePoint(t);for(;n>=0&&(o=t[n],!(l.timestamp-o.timestamp>secondsToMilliseconds(e)));)n--;if(!o)return{x:0,y:0};const u=millisecondsToSeconds(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const f={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function calcLength(t){return t.max-t.min}function isNear(t,e=0,n=.01){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,o=.5){t.origin=o,t.originPoint=mix(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mix(n.min,n.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,o){calcAxisDelta(t.x,e.x,n.x,o?o.originX:void 0),calcAxisDelta(t.y,e.y,n.y,o?o.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function applyConstraints(t,{min:e,max:n},o){return e!==void 0&&t<e?t=o?mix(e,t,o.min):Math.max(t,e):n!==void 0&&t>n&&(t=o?mix(n,t,o.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:o,right:l}){return{x:calcRelativeAxisConstraints(t.x,n,l),y:calcRelativeAxisConstraints(t.y,e,o)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const o=calcLength(t),l=calcLength(e);return l>o?n=progress(e.min,e.max-o,t.min):o>l&&(n=progress(t.min,t.max-l,e.min)),clamp$1(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const o=t-n,l=e*o;return n+l}function applyPointDelta(t,e,n,o,l){return l!==void 0&&(t=scalePoint(t,l,o)),scalePoint(t,n,o)+e}function applyAxisDelta(t,e=0,n=1,o,l){t.min=applyPointDelta(t.min,e,n,o,l),t.max=applyPointDelta(t.max,e,n,o,l)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}function applyTreeDeltas(t,e,n,o=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,f;for(let h=0;h<l;h++){u=n[h],f=u.projectionDelta;const d=u.instance;d&&d.style&&d.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(e.x*=f.x.scale,e.y*=f.y.scale,applyBoxDelta(t,f)),o&&hasTransform(u.latestValues)&&transformBox(t,u.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,[n,o,l]){const u=e[l]!==void 0?e[l]:.5,f=mix(t.min,t.max,u);applyAxisDelta(t,e[n],e[o],f,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(t,e){transformAxis(t.x,e,xKeys$1),transformAxis(t.y,e,yKeys$1)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const o=measureViewportBox(t,n),{scroll:l}=e;return l&&(translateAxis(o.x,l.offset.x),translateAxis(o.y,l.offset.y)),o}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(m,"page").point)},u=(m,v)=>{const{drag:_,dragPropagation:S,onDragStart:M}=this.getProps();if(_&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(w=>{let C=this.getAxisMotionValue(w).get()||0;if(percent.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const L=O.layout.layoutBox[w];L&&(C=calcLength(L)*(parseFloat(C)/100))}}this.originPoint[w]=C}),M&&frame.update(()=>M(m,v),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(m,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:M,onDrag:A}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:w}=v;if(S&&this.currentDirection===null){this.currentDirection=getCurrentDirection(w),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",v.point,w),this.updateAxis("y",v.point,w),this.visualElement.render(),A&&A(m,v)},h=(m,v)=>this.stop(m,v),d=()=>eachAxis(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&frame.update(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,o){const{drag:l}=this.getProps();if(!o||!shouldDrag(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let f=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(f=applyConstraints(f,this.constraints[e],this.elastic[e])),u.set(f)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:o}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;n&&isRefObject$1(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=calcRelativeConstraints(l.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(o),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(f=>{this.getAxisMotionValue(f)&&(this.constraints[f]=rebaseAxisConstraints(l.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject$1(e))return!1;const o=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=measurePageBox(o,l.root,this.visualElement.getTransformPagePoint());let f=calcViewportConstraints(l.layout.layoutBox,u);if(n){const h=n(convertBoxToBoundingBox(f));this.hasMutatedConstraints=!!h,h&&(f=convertBoundingBoxToBox(h))}return f}startAnimation(e){const{drag:n,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=eachAxis(m=>{if(!shouldDrag(m,n,this.currentDirection))return;let v=d&&d[m]||{};f&&(v={min:0,max:0});const _=l?200:1e6,S=l?40:1e7,M={type:"inertia",velocity:o?e[m]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(m,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const o=this.getAxisMotionValue(e);return o.start(animateMotionValue(e,o,0,n))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),o=this.visualElement.getProps(),l=o[n];return l||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:o}=this.getProps();if(!shouldDrag(n,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:f,max:h}=l.layout.layoutBox[n];u.set(e[n]-mix(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject$1(n)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};eachAxis(f=>{const h=this.getAxisMotionValue(f);if(h){const d=h.get();l[f]=calcOrigin({min:d,max:d},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(f=>{if(!shouldDrag(f,e,null))return;const h=this.getAxisMotionValue(f),{min:d,max:p}=this.constraints[f];h.set(mix(d,p,l[f]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),o=()=>{const{dragConstraints:d}=this.getProps();isRefObject$1(d)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),o();const f=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(eachAxis(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:f=defaultElastic,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:f,dragMomentum:h}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.update(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:o,onEnd:(u,f)=>{delete this.session,l&&frame.update(()=>l(u,f))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:o}=t,l=reactExports.useId();return reactExports.useEffect(()=>o(l),[]),!e&&n?[!1,()=>n&&n(l)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px$1.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),o=pixelsToPercent(t,e.target.y);return`${n}% ${o}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,l=complex.parse(t);if(l.length>5)return o;const u=complex.createTransformer(t),f=typeof l[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;l[0+f]/=h,l[1+f]/=d;const p=mix(h,d,.5);return typeof l[2+f]=="number"&&(l[2+f]/=p),typeof l[3+f]=="number"&&(l[3+f]/=p),u(l)}};class MeasureLayoutWithContext extends React$1.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=e;addScaleCorrector(defaultScaleCorrectors),u&&(n.group&&n.group.add(u),o&&o.register&&l&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:o,drag:l,isPresent:u}=this.props,f=o.projection;return f&&(f.isPresent=u,l||e.layoutDependency!==n||n===void 0?f.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?f.promote():f.relegate()||frame.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return React$1.createElement(MeasureLayoutWithContext,{...t,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px$1.test(t);function mixValues(t,e,n,o,l,u){l?(t.opacity=mix(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(o)),t.opacityExit=mix(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(o))):u&&(t.opacity=mix(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let f=0;f<numBorders;f++){const h=`border${borders[f]}Radius`;let d=getRadius(e,h),p=getRadius(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||isPx(d)===isPx(p)?(t[h]=Math.max(mix(asNumber(d),asNumber(p),o),0),(percent.test(p)||percent.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=mix(e.rotate||0,n.rotate||0,o))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(t,e,n){return o=>o<t?0:o>e?1:n(progress(t,e,o))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function removePointDelta(t,e,n,o,l){return t-=e,t=scalePoint(t,1/n,o),l!==void 0&&(t=scalePoint(t,1/l,o)),t}function removeAxisDelta(t,e=0,n=1,o=.5,l,u=t,f=t){if(percent.test(e)&&(e=parseFloat(e),e=mix(f.min,f.max,e/100)-f.min),typeof e!="number")return;let h=mix(u.min,u.max,o);t===u&&(h-=e),t.min=removePointDelta(t.min,e,n,h,l),t.max=removePointDelta(t.max,e,n,h,l)}function removeAxisTransforms(t,e,[n,o,l],u,f){removeAxisDelta(t,e[n],e[o],e[l],e.scale,u,f)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,o){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,o?o.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function boxEqualsRounded(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let o;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,n){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,n&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:o}=e;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let o="";const l=t.x.translate/e.x,u=t.y.translate/e.y;if((l||u)&&(o=`translate3d(${l}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:m}=n;d&&(o+=`rotate(${d}deg) `),p&&(o+=`rotateX(${p}deg) `),m&&(o+=`rotateY(${m}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(o+=`scale(${f}, ${h})`),o||"none"}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=performance.now(),o=({timestamp:l})=>{const u=l-n;u>=e&&(cancelFrame(o),t(u-e))};return frame.read(o,!0),()=>cancelFrame(o)}function record(t){window.MotionDebug&&window.MotionDebug.record(t)}function isSVGElement(t){return t instanceof SVGElement&&t.tagName!=="svg"}function animateSingleValue(t,e,n){const o=isMotionValue(t)?t:motionValue(t);return o.start(animateMotionValue("",o,e,n)),o.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(f={},h=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new SubscriptionManager),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const d=this.eventHandlers.get(f);d&&d.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(f),this.instance=f;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=delay(_,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=m.getProps(),O=!this.targetLayout||!boxEqualsRounded(this.targetLayout,M)||S,L=!_&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,L);const F={...getValueTransition(A,"layout"),onPlay:w,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else _||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const h=performance.now();frameData.delta=clamp$1(0,1e3/60,h-frameData.timestamp),frameData.timestamp=h,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:o(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;f&&(h||hasTransform(this.latestValues)||m)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return f&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return createBox();const h=f.measureViewportBox(),{scroll:d}=this.root;return d&&(translateAxis(h.x,d.offset.x),translateAxis(h.y,d.offset.y)),h}removeElementScroll(f){const h=createBox();copyBoxInto(h,f);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:v}=p;if(p!==this.root&&m&&v.layoutScroll){if(m.isRoot){copyBoxInto(h,f);const{scroll:_}=this.root;_&&(translateAxis(h.x,-_.offset.x),translateAxis(h.y,-_.offset.y))}translateAxis(h.x,m.offset.x),translateAxis(h.y,m.offset.y)}}return h}applyTransform(f,h=!1){const d=createBox();copyBoxInto(d,f);for(let p=0;p<this.path.length;p++){const m=this.path[p];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&transformBox(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),hasTransform(m.latestValues)&&transformBox(d,m.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(f){const h=createBox();copyBoxInto(h,f);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!hasTransform(p.latestValues))continue;hasScale(p.latestValues)&&p.updateSnapshot();const m=createBox(),v=p.measurePageBox();copyBoxInto(m,v),removeBoxTransforms(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,S.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:M}=h;if(!M){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const A=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,M,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==_||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,h=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=createBox(),S=d?d.source:void 0,M=this.layout?this.layout.source:void 0,A=S!==M,w=this.getStack(),C=!w||w.members.length<=1,O=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let L;this.mixTargetDelta=F=>{const $=F/1e3;mixAxisDelta(v.x,f.x,$),mixAxisDelta(v.y,f.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,_,$),L&&boxEquals(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=createBox()),copyBoxInto(L,this.relativeTarget)),A&&(this.animationValues=m,mixValues(m,p,this.latestValues,$,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...f,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:m}=f;if(!(!h||!d||!p)){if(this!==f&&this.layout&&p&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||createBox();const v=calcLength(this.layout.layoutBox.x);d.x.min=f.target.x.min,d.x.max=d.x.min+v;const _=calcLength(this.layout.layoutBox.y);d.y.min=f.target.y.min,d.y.max=d.y.min+_}copyBoxInto(h,d),transformBox(h,m),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new NodeStack),this.sharedNodes.get(f).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:h}=this.options;return h?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:h}=this.options;return h?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:d}=f;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(h=!0),!h)return;const p={};for(let m=0;m<transformAxes.length;m++){const v="rotate"+transformAxes[m];d[v]&&(p[v]=d[v],f.setStaticValue(v,0))}f.render();for(const m in p)f.setStaticValue(m,p[m]);f.scheduleRender()}getProjectionStyles(f){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=resolveMotionValue(f==null?void 0:f.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=resolveMotionValue(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,_),m&&(p.transform=m(_,p.transform));const{x:S,y:M}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const A in scaleCorrectors){if(_[A]===void 0)continue;const{correct:w,applyTo:C}=scaleCorrectors[A],O=p.transform==="none"?_[A]:w(_[A],v);if(C){const L=C.length;for(let F=0;F<L;F++)p[C[F]]=O}else p[A]=O}return this.options.layoutId&&(p.pointerEvents=v===this?resolveMotionValue(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var h;return(h=f.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:l}=t.layout,{animationType:u}=t.options,f=n.source!==t.layout.source;u==="size"?eachAxis(v=>{const _=f?n.measuredBox[v]:n.layoutBox[v],S=calcLength(_);_.min=o[v].min,_.max=_.min+S}):shouldAnimatePositionOnly(u,n.layoutBox,o)&&eachAxis(v=>{const _=f?n.measuredBox[v]:n.layoutBox[v],S=calcLength(o[v]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const h=createDelta();calcBoxDelta(h,o,n.layoutBox);const d=createDelta();f?calcBoxDelta(d,t.applyTransform(l,!0),n.measuredBox):calcBoxDelta(d,o,n.layoutBox);const p=!isDeltaZero(h);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const M=createBox();calcRelativePosition(M,n.layoutBox,_.layoutBox);const A=createBox();calcRelativePosition(A,o,S.layoutBox),boxEqualsRounded(M,A)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=M,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function propagateDirtyNodes(t){projectionFrameData.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mix(e.translate,0,n),t.scale=mix(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,o){t.min=mix(e.min,n.min,o),t.max=mix(e.max,n.max,o)}function mixBox(t,e,n,o){mixAxis(t.x,e.x,n.x,o),mixAxis(t.y,e.y,n.y,o)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,o]=e;return[n,o]}function getVariableValue(t,e,n=1){const[o,l]=parseCSSVariable(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const f=u.trim();return isNumericalString(f)?parseFloat(f):f}else return isCSSVariableToken(l)?getVariableValue(l,e,n+1):l}function resolveCSSVariables(t,{...e},n){const o=t.current;if(!(o instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(l=>{const u=l.get();if(!isCSSVariableToken(u))return;const f=getVariableValue(u,o);f&&l.set(f)});for(const l in e){const u=e[l];if(!isCSSVariableToken(u))continue;const f=getVariableValue(u,o);f&&(e[l]=f,n||(n={}),n[l]===void 0&&(n[l]=u))}return{target:e,transitionEnd:n}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=t=>positionalKeys.has(t),hasPositionalKey=t=>Object.keys(t).some(isPositionalKey),isNumOrPxType=t=>t===number$3||t===px$1,getPosFromMatrix=(t,e)=>parseFloat(t.split(", ")[e]),getTranslateFromMatrix=(t,e)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const l=o.match(/^matrix3d\((.+)\)$/);if(l)return getPosFromMatrix(l[1],e);{const u=o.match(/^matrix\((.+)\)$/);return u?getPosFromMatrix(u[1],t):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const o=t.getValue(n);o!==void 0&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(t,e,n)=>{const o=e.measureViewportBox(),l=e.current,u=getComputedStyle(l),{display:f}=u,h={};f==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{h[p]=positionalValues[p](o,u)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(h[p]),t[p]=positionalValues[p](d,u)}),t},checkAndConvertChangedValueTypes=(t,e,n={},o={})=>{e={...e},o={...o};const l=Object.keys(e).filter(isPositionalKey);let u=[],f=!1;const h=[];if(l.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],v=findDimensionValueType(m);const _=e[d];let S;if(isKeyframesTarget(_)){const M=_.length,A=_[0]===null?1:0;m=_[A],v=findDimensionValueType(m);for(let w=A;w<M&&_[w]!==null;w++)S?invariant$1(findDimensionValueType(_[w])===S):S=findDimensionValueType(_[w])}else S=findDimensionValueType(_);if(v!==S)if(isNumOrPxType(v)&&isNumOrPxType(S)){const M=p.get();typeof M=="string"&&p.set(parseFloat(M)),typeof _=="string"?e[d]=parseFloat(_):Array.isArray(_)&&S===px$1&&(e[d]=_.map(parseFloat))}else v!=null&&v.transform&&(S!=null&&S.transform)&&(m===0||_===0)?m===0?p.set(S.transform(m)):e[d]=v.transform(_):(f||(u=removeNonTranslationalTransform(t),f=!0),h.push(d),o[d]=o[d]!==void 0?o[d]:e[d],p.jump(_))}),h.length){const d=h.indexOf("height")>=0?window.pageYOffset:null,p=convertChangedValueTypes(e,t,h);return u.length&&u.forEach(([m,v])=>{t.getValue(m).set(v)}),t.render(),isBrowser&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:o}}else return{target:e,transitionEnd:o}};function unitConversion(t,e,n,o){return hasPositionalKey(e)?checkAndConvertChangedValueTypes(t,e,n,o):{target:e,transitionEnd:o}}const parseDomVariant=(t,e,n,o)=>{const l=resolveCSSVariables(t,e,o);return e=l.target,o=l.transitionEnd,unitConversion(t,e,n,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(t,e,n){const{willChange:o}=e;for(const l in e){const u=e[l],f=n[l];if(isMotionValue(u))t.addValue(l,u),isWillChangeMotionValue(o)&&o.add(l);else if(isMotionValue(f))t.addValue(l,motionValue(u,{owner:t})),isWillChangeMotionValue(o)&&o.remove(l);else if(f!==u)if(t.hasValue(l)){const h=t.getValue(l);!h.hasAnimated&&h.set(u)}else{const h=t.getStaticValue(l);t.addValue(l,motionValue(h!==void 0?h:u,{owner:t}))}}for(const l in n)e[l]===void 0&&t.removeValue(l);return e}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:e,props:n,presenceContext:o,reducedMotionConfig:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:h,renderState:d}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const v in m){const _=m[v];h[v]!==void 0&&isMotionValue(_)&&(_.set(h[v],!1),isWillChangeMotionValue(p)&&p.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const o=transformProps.has(e),l=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{l(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},o,l,u){let f,h;for(let d=0;d<numFeatures;d++){const p=featureNames[d],{isEnabled:m,Feature:v,ProjectionNode:_,MeasureLayout:S}=featureDefinitions[p];_&&(f=_),m(n)&&(!this.features[p]&&v&&(this.features[p]=new v(this)),S&&(h=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:v,layoutScroll:_,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||v&&isRefObject$1(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:u,layoutScroll:_,layoutRoot:S})}return h}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<propEventHandlers.length;o++){const l=propEventHandlers[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u=e["on"+l];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const n={};for(let o=0;o<numVariantProps;o++){const l=variantProps[o],u=this.props[l];(isVariantLabel(u)||u===!1)&&(n[l]=u)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&n!==void 0&&(o=motionValue(n,{owner:this}),this.addValue(e,o)),o}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:o}=this.props,l=typeof o=="string"||typeof o=="object"?(n=resolveVariantFromProps(this.props,o))===null||n===void 0?void 0:n[e]:void 0;if(o&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!isMotionValue(u)?u:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:o}){delete n[e],delete o[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...o},{transformValues:l},u){let f=getOrigin(o,e||{},this);if(l&&(n&&(n=l(n)),o&&(o=l(o)),f&&(f=l(f))),u){checkTargetForNewValues(this,o,f);const h=parseDomVariant(this,o,f,n);n=h.transitionEnd,o=h.target}return{transition:e,transitionEnd:n,...o}}}function getComputedStyle$2(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}else{const o=getComputedStyle$2(e),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,o,l){buildHTMLStyles(e,n,o,l.transformTemplate)}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps$1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,o,l){renderHTML(e,n,o,l)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps(e,n)}build(e,n,o,l){buildSVGAttrs(e,n,o,this.isSVGTag,l.transformTemplate)}renderInstance(e,n,o,l){renderSVG(e,n,o,l)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((t,e)=>createDomMotionConfig(t,e,preloadedFeatures,createDomVisualElement));function stopAnimation(t){t.values.forEach(e=>e.stop())}function animationControls(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,o){const l=[];return t.forEach(u=>{l.push(animateVisualElement(u,n,{transitionOverride:o}))}),Promise.all(l)},set(n){return t.forEach(o=>{setValues(o,n)})},stop(){t.forEach(n=>{stopAnimation(n)})},mount(){return()=>{e.stop()}}};return e}function useAnimationControls(){const t=useConstant(animationControls);return useIsomorphicLayoutEffect$2(t.mount,[]),t}const useAnimation=useAnimationControls,Layout=()=>React$1.createElement("div",{className:"flex flex-col min-h-screen"},React$1.createElement(Navbar,null),React$1.createElement(motion.main,{className:"flex-grow",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},React$1.createElement(Outlet,null)),React$1.createElement(Footer,null));var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function getRootId(t){return t?(RootIds.has(t)||(rootId+=1,RootIds.set(t,rootId.toString())),RootIds.get(t)):"0"}function optionsToId(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?getRootId(t.root):t[e]}`).toString()}function createObserver(t){const e=optionsToId(t);let n=observerMap.get(e);if(!n){const o=new Map;let l;const u=new IntersectionObserver(f=>{f.forEach(h=>{var d;const p=h.isIntersecting&&l.some(m=>h.intersectionRatio>=m);t.trackVisibility&&typeof h.isVisible>"u"&&(h.isVisible=p),(d=o.get(h.target))==null||d.forEach(m=>{m(p,h)})})},t);l=u.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:u,elements:o},observerMap.set(e,n)}return n}function observe(t,e,n={},o=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const d=t.getBoundingClientRect();return e(o,{isIntersecting:o,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:l,observer:u,elements:f}=createObserver(n),h=f.get(t)||[];return f.has(t)||f.set(t,h),h.push(e),u.observe(t),function(){h.splice(h.indexOf(e),1),h.length===0&&(f.delete(t),u.unobserve(t)),f.size===0&&(u.disconnect(),observerMap.delete(l))}}function useInView({threshold:t,delay:e,trackVisibility:n,rootMargin:o,root:l,triggerOnce:u,skip:f,initialInView:h,fallbackInView:d,onChange:p}={}){var m;const[v,_]=reactExports.useState(null),S=reactExports.useRef(p),[M,A]=reactExports.useState({inView:!!h,entry:void 0});S.current=p,reactExports.useEffect(()=>{if(f||!v)return;let L;return L=observe(v,(F,$)=>{A({inView:F,entry:$}),S.current&&S.current(F,$),$.isIntersecting&&u&&L&&(L(),L=void 0)},{root:l,rootMargin:o,threshold:t,trackVisibility:n,delay:e},d),()=>{L&&L()}},[Array.isArray(t)?t.toString():t,v,l,o,u,f,n,d,e]);const w=(m=M.entry)==null?void 0:m.target,C=reactExports.useRef(void 0);!v&&w&&!u&&!f&&C.current!==w&&(C.current=w,A({inView:!!h,entry:void 0}));const O=[_,M.inView,M.entry];return O.ref=O[0],O.inView=O[1],O.entry=O[2],O}const Hero=({title:t,subtitle:e,ctaText:n,ctaLink:o,secondaryCtaText:l,secondaryCtaLink:u,imageUrl:f})=>React$1.createElement("div",{className:"relative bg-gradient-to-b from-primary-50 to-white pt-32 pb-16 md:pt-40 md:pb-24"},React$1.createElement("div",{className:"container-custom"},React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center"},React$1.createElement(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8}},React$1.createElement("h1",{className:"text-primary-800 font-bold mb-4 leading-tight"},t),React$1.createElement("p",{className:"text-lg text-gray-700 mb-8 max-w-lg"},e),React$1.createElement("div",{className:"flex flex-wrap gap-4"},React$1.createElement(Link,{to:o,className:"btn btn-primary"},n),l&&u&&React$1.createElement(Link,{to:u,className:"btn btn-outline"},l))),React$1.createElement(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative"},React$1.createElement("img",{src:f,alt:"Cotton field",className:"rounded-lg shadow-xl w-full object-cover h-80 lg:h-96"}),React$1.createElement("div",{className:"absolute inset-0 bg-primary-600 opacity-20 rounded-lg"})))),React$1.createElement("div",{className:"absolute bottom-0 left-0 right-0"},React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},React$1.createElement("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,128L80,144C160,160,320,192,480,186.7C640,181,800,139,960,128C1120,117,1280,139,1360,149.3L1440,160L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"})))),SectionHeader=({title:t,subtitle:e,centered:n=!1})=>{const[o,l]=useInView({triggerOnce:!0,threshold:.1});return React$1.createElement(motion.div,{ref:o,initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6},className:`mb-8 sm:mb-12 px-4 ${n?"text-center":""}`},React$1.createElement("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary-800 break-words"},t),e&&React$1.createElement("p",{className:`text-base sm:text-lg text-gray-600 mt-3 leading-relaxed ${n?"max-w-2xl mx-auto":""}`},e),React$1.createElement("div",{className:`h-1 mt-4 rounded ${n?"mx-auto":""} bg-primary-600`,style:{width:n?"4rem":"3rem"}}))},InfoCard=({title:t,description:e,content:n,icon:o,delay:l=0,illustration:u})=>{const f=e||n,[h,d]=useInView({triggerOnce:!0,threshold:.3}),p={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,delay:l*.1,ease:"easeOut"}},hover:{scale:1.05,zIndex:10,transition:{duration:.2,ease:"easeInOut"}},notHovered:{scale:.95,opacity:.7,transition:{duration:.2,ease:"easeInOut"}}},m={hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{duration:.5,delay:l*.1+.2,type:"spring",stiffness:200}}};return React$1.createElement(motion.div,{ref:h,variants:p,initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,amount:.3},className:"bg-white rounded-lg p-6 shadow-md hover:shadow-xl transition-all relative overflow-hidden group"},React$1.createElement(motion.div,{className:"relative z-10",whileHover:{scale:1.05}},o&&React$1.createElement(motion.div,{variants:m,className:"flex items-center mb-4"},React$1.createElement("div",{className:"bg-primary-100 p-3 rounded-lg"},React$1.createElement(o,{className:"w-6 h-6 text-primary-600"}))),React$1.createElement(motion.h3,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:l*.1+.3},className:"text-xl font-semibold mb-2 text-gray-800"},t),React$1.createElement(motion.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:l*.1+.4},className:"text-gray-600"},f)),u&&React$1.createElement(motion.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:.1,scale:1},transition:{delay:l*.1+.5},className:"absolute -bottom-8 -right-8 w-32 h-32 pointer-events-none"},React$1.createElement("img",{src:u,alt:"",className:"w-full h-full object-contain"})),React$1.createElement(motion.div,{initial:{scale:0},whileInView:{scale:1},transition:{delay:l*.1+.6},className:"absolute -bottom-12 -right-12 w-24 h-24 bg-primary-100 rounded-full opacity-10"}),React$1.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-primary-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}))},VideoPlayer=({src:t,title:e,poster:n,initialMuted:o=!0})=>{const[l,u]=React$1.useState(!1),[f,h]=React$1.useState(o),d=React$1.useRef(null);React$1.useEffect(()=>{d.current&&(d.current.muted=f)},[f]);const p=()=>{d.current&&(l?d.current.pause():d.current.play())},m=()=>{d.current&&(d.current.muted=!f,h(!f))},v=()=>u(!0),_=()=>u(!1),S=()=>u(!1),M=()=>console.error("Erro ao carregar o vdeo.");return React$1.createElement("div",{className:"relative rounded-xl overflow-hidden shadow-lg group"},React$1.createElement("video",{ref:d,className:"w-full aspect-video object-cover",src:t,poster:n,muted:f,playsInline:!0,onPlay:v,onPause:_,onEnded:S,onError:M}),React$1.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"},React$1.createElement("div",{className:"flex gap-4"},React$1.createElement("button",{onClick:p,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":l?"Pausar vdeo":"Reproduzir vdeo"},l?React$1.createElement(Pause,{className:"w-6 h-6 text-primary-600"}):React$1.createElement(Play,{className:"w-6 h-6 text-primary-600"})),React$1.createElement("button",{onClick:m,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":f?"Ativar som":"Desativar som"},f?React$1.createElement(VolumeX,{className:"w-6 h-6 text-primary-600"}):React$1.createElement(Volume2,{className:"w-6 h-6 text-primary-600"})))),React$1.createElement("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent"},React$1.createElement("h3",{className:"text-white font-medium"},e)))},HomePage=()=>{reactExports.useEffect(()=>{document.title="FlowCot"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return React$1.createElement("div",null,React$1.createElement(Hero,{title:"Yield Gap do Algodo no Brasil",subtitle:"Maximizando a produtividade para um futuro sustentvel da cotonicultura brasileira",imageUrl:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),React$1.createElement("section",{className:"section"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"O Que  o Yield Gap?",subtitle:"Entenda a diferena entre o potencial produtivo e a realidade nas lavouras de algodo brasileiras.",centered:!0}),React$1.createElement("div",{className:"flex flex-col md:flex-row items-center gap-10"},React$1.createElement("div",{className:"w-full md:w-1/2"},React$1.createElement(VideoPlayer,{src:"https://player.vimeo.com/external/373787639.hd.mp4?s=dee27e23aac0fc7c24892cf4b1cacce6b7c57c6c&profile_id=175&oauth2_token_id=57447761",title:"Entendendo o Yield Gap",poster:"https://images.pexels.com/photos/4946994/pexels-photo-4946994.jpeg"})),React$1.createElement("div",{className:"w-full md:w-1/2"},React$1.createElement(motion.div,{ref:t,initial:{opacity:0,x:20},animate:e?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"Por que isso importa?"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"O ",React$1.createElement("strong",null,"yield gap")," (lacuna de produtividade) representa a diferena entre a produtividade potencial que poderia ser alcanada em condies ideais e a produtividade real obtida nas fazendas brasileiras."),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Reduzir essa lacuna significa aumentar a produo sem expandir a rea plantada, resultando em maior eficincia, sustentabilidade e lucratividade."),React$1.createElement("div",{className:"mt-6"},React$1.createElement(Link,{to:"/what-is-yield-gap",className:"btn btn-primary"},"Entenda o Conceito"))))))),React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Explorando o Yield Gap",subtitle:"Conhea as principais reas de estudo para entender e solucionar o yield gap do algodo no Brasil.",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},React$1.createElement(InfoCard,{title:"O Que  Yield Gap",description:"Entenda o conceito, os tipos de produtividade e a importncia de reduzir essa lacuna.",icon:Sprout,delay:0,illustration:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),React$1.createElement(InfoCard,{title:"Evoluo Histrica",description:"Conhea a evoluo do yield gap na cotonicultura brasileira desde 2000 at 2025.",icon:BarChart3,delay:1,illustration:"https://images.pexels.com/photos/4946994/pexels-photo-4946994.jpeg"}),React$1.createElement(InfoCard,{title:"Ferramentas de Anlise",description:"Descubra as principais tecnologias e metodologias para identificar e quantificar o yield gap.",icon:PenTool,delay:2,illustration:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg"}),React$1.createElement(InfoCard,{title:"Solues Prticas",description:"Conhea as melhores prticas e tecnologias para reduzir o yield gap e aumentar a produtividade.",icon:BookOpen,delay:3,illustration:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg"})))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center"},React$1.createElement(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0,amount:.3}},React$1.createElement("h2",{className:"text-3xl font-semibold mb-6 text-primary-800"},"Transforme sua produo de algodo"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Nosso objetivo  fornecer conhecimento e solues prticas para agricultores, pesquisadores e estudantes interessados em melhorar a produtividade do algodo brasileiro."),React$1.createElement("p",{className:"mb-6 text-gray-700"},"Atravs de contedo educacional, ferramentas de anlise e recomendaes baseadas em evidncias cientficas, queremos contribuir para uma cotonicultura mais eficiente e sustentvel."),React$1.createElement("div",{className:"flex flex-wrap gap-4"},React$1.createElement(Link,{to:"/steps-to-avoid",className:"btn btn-primary"},"Passos Prticos"),React$1.createElement(Link,{to:"/about-us",className:"btn btn-outline"},"Conhea Nossa Equipe"))),React$1.createElement(motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"relative"},React$1.createElement(VideoPlayer,{src:"https://player.vimeo.com/external/373787639.hd.mp4?s=dee27e23aac0fc7c24892cf4b1cacce6b7c57c6c&profile_id=175&oauth2_token_id=57447761",title:"Transformando a Cotonicultura",poster:"https://images.pexels.com/photos/1166209/pexels-photo-1166209.jpeg"}),React$1.createElement("div",{className:"absolute top-0 left-0 bg-primary-600 text-white font-semibold py-2 px-4 rounded-tl-lg rounded-br-lg"},"Inovao na Cotonicultura"))))),React$1.createElement("section",{className:"section bg-gray-900 text-white"},React$1.createElement("div",{className:"container-custom text-center"},React$1.createElement("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white"},"Pronto para maximizar sua produtividade?"),React$1.createElement("p",{className:"text-lg text-gray-300 mb-8 max-w-3xl mx-auto"},"Descubra como reduzir o yield gap e aumentar a eficincia da sua produo de algodo."),React$1.createElement("div",{className:"flex flex-wrap justify-center gap-4"},React$1.createElement(Link,{to:"/solve-yield-gap",className:"btn bg-primary-500 text-white hover:bg-primary-600"},"Explorar Solues"),React$1.createElement(Link,{to:"/minecraft-yield-gap",className:"btn bg-accent-500 text-white hover:bg-accent-600"},"Jogo em Minecraft")))))},YieldGapInfoGraphic=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.2}),n={hidden:{width:0},visible:o=>({width:`${o}%`,transition:{duration:1,delay:o*.01}})};return React$1.createElement(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6 md:p-8",initial:{opacity:0},animate:e?{opacity:1}:{opacity:0},transition:{duration:.5}},React$1.createElement("h3",{className:"text-xl md:text-2xl font-semibold mb-6 text-center text-primary-800"},"Entendendo o Yield Gap no Algodo"),React$1.createElement("div",{className:"space-y-10 my-8"},React$1.createElement("div",null,React$1.createElement("div",{className:"flex justify-between items-center mb-2"},React$1.createElement("span",{className:"font-semibold text-gray-800"},"Produtividade Potencial (PP)"),React$1.createElement("span",{className:"font-bold text-primary-800"},"100%")),React$1.createElement("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden"},React$1.createElement(motion.div,{className:"h-full bg-primary-600 rounded-full",custom:100,variants:n,initial:"hidden",animate:e?"visible":"hidden"})),React$1.createElement("p",{className:"text-sm text-gray-600 mt-2"},"O rendimento mximo terico que poderia ser alcanado em condies ideais, sem limitaes.")),React$1.createElement("div",null,React$1.createElement("div",{className:"flex justify-between items-center mb-2"},React$1.createElement("span",{className:"font-semibold text-gray-800"},"Produtividade Atingvel (PA)"),React$1.createElement("span",{className:"font-bold text-accent-600"},"80%")),React$1.createElement("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden"},React$1.createElement(motion.div,{className:"h-full bg-accent-500 rounded-full",custom:80,variants:n,initial:"hidden",animate:e?"visible":"hidden"})),React$1.createElement("p",{className:"text-sm text-gray-600 mt-2"},"O rendimento mximo que poderia ser alcanado com as melhores prticas de manejo disponveis.")),React$1.createElement("div",null,React$1.createElement("div",{className:"flex justify-between items-center mb-2"},React$1.createElement("span",{className:"font-semibold text-gray-800"},"Produtividade Real (PR)"),React$1.createElement("span",{className:"font-bold text-warning-600"},"50%")),React$1.createElement("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden"},React$1.createElement(motion.div,{className:"h-full bg-warning-500 rounded-full",custom:50,variants:n,initial:"hidden",animate:e?"visible":"hidden"})),React$1.createElement("p",{className:"text-sm text-gray-600 mt-2"},"O rendimento que os agricultores realmente alcanam nas condies atuais de cultivo."))),React$1.createElement("div",{className:"mt-8 p-4 bg-primary-50 rounded-lg"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Yield Gap = Produtividade Atingvel - Produtividade Real"),React$1.createElement("p",{className:"text-gray-700"},'O "yield gap" representa a diferena entre o que poderia ser produzido (PA) e o que realmente  produzido (PR). Reduzir este gap significa aumentar a produtividade sem necessariamente expandir a rea plantada.')))},WhatIsYieldGap=()=>{reactExports.useEffect(()=>{document.title="O que  Yield Gap no Algodo? | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),[n,o]=useInView({triggerOnce:!0,threshold:.1});return React$1.createElement("div",{className:"pt-24"},React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"O que  Yield Gap no Algodo?",subtitle:"Entenda a diferena entre o potencial produtivo e a realidade nas lavouras de algodo",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center"},React$1.createElement(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"Compreendendo o Conceito"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"O ",React$1.createElement("strong",null,"yield gap")," ou ",React$1.createElement("strong",null,"lacuna de produtividade"),"  a diferena entre o que poderia ser produzido e o que  realmente produzido nas lavouras de algodo. Esta lacuna pode ser definida de diferentes formas, considerando diferentes nveis de produtividade:"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 mb-4 text-gray-700"},React$1.createElement("li",null,React$1.createElement("strong",null,"Produtividade Potencial (PP):"),"  o mximo rendimento terico que poderia ser alcanado em condies ideais, sem limitaes de gua, nutrientes ou ocorrncia de pragas e doenas."),React$1.createElement("li",null,React$1.createElement("strong",null,"Produtividade Atingvel (PA):"),"  o rendimento mximo que poderia ser alcanado com as melhores prticas de manejo disponveis, considerando algumas limitaes ambientais inevitveis."),React$1.createElement("li",null,React$1.createElement("strong",null,"Produtividade Real (PR):"),"  o rendimento que os agricultores realmente alcanam nas condies atuais de cultivo.")),React$1.createElement("p",{className:"text-gray-700"},'A diferena entre PA e PR  frequentemente considerada o "yield gap" explorvel, pois representa a produtividade que poderia ser alcanada com a adoo de prticas de manejo melhoradas.')),React$1.createElement(motion.div,{ref:n,initial:{opacity:0,x:20},animate:o?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6}},React$1.createElement("img",{src:"https://images.pexels.com/photos/7457/pexels-photo.jpg",alt:"Campo de algodo",className:"rounded-lg shadow-md w-full h-auto"}))))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10"},React$1.createElement(YieldGapInfoGraphic,null),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"flex flex-col justify-center"},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"Por que o Yield Gap existe?"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"O yield gap no algodo brasileiro pode ser atribudo a diversos fatores, que podem ser classificados em diferentes categorias:"),React$1.createElement("div",{className:"bg-primary-50 p-4 rounded-lg mb-4"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fatores Biofsicos"),React$1.createElement("ul",{className:"list-disc pl-5 text-gray-700"},React$1.createElement("li",null,"Limitaes climticas (dficit hdrico, temperaturas extremas)"),React$1.createElement("li",null,"Caractersticas do solo (fertilidade, compactao)"),React$1.createElement("li",null,"Ocorrncia de pragas, doenas e plantas daninhas"))),React$1.createElement("div",{className:"bg-primary-50 p-4 rounded-lg mb-4"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fatores Tecnolgicos"),React$1.createElement("ul",{className:"list-disc pl-5 text-gray-700"},React$1.createElement("li",null,"Acesso limitado a variedades melhoradas"),React$1.createElement("li",null,"Prticas inadequadas de manejo"),React$1.createElement("li",null,"Baixo nvel de mecanizao e tecnologia"))),React$1.createElement("div",{className:"bg-primary-50 p-4 rounded-lg mb-4"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fatores Socioeconmicos"),React$1.createElement("ul",{className:"list-disc pl-5 text-gray-700"},React$1.createElement("li",null,"Restries de capital e acesso a crdito"),React$1.createElement("li",null,"Falta de conhecimento tcnico"),React$1.createElement("li",null,"Infraestrutura deficiente (estradas, armazenamento)"),React$1.createElement("li",null,"Polticas pblicas inadequadas"))),React$1.createElement("p",{className:"mt-2 text-gray-700"},"Compreender esses fatores  essencial para desenvolver estratgias eficazes de reduo do yield gap e aumento da produtividade do algodo no Brasil."))))),React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Importncia da Reduo do Yield Gap",subtitle:"Por que devemos nos preocupar em reduzir a lacuna de produtividade no algodo?",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:0},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Sustentabilidade Ambiental"),React$1.createElement("p",{className:"text-gray-700"},"Aumentar a produtividade nas reas j cultivadas reduz a presso para expandir a fronteira agrcola, protegendo biomas naturais e contribuindo para a conservao da biodiversidade e recursos naturais.")),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Viabilidade Econmica"),React$1.createElement("p",{className:"text-gray-700"},"Maior produtividade significa melhor aproveitamento dos recursos e insumos, resultando em maior rentabilidade para os produtores e fortalecimento da cadeia produtiva do algodo brasileiro.")),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Competitividade Global"),React$1.createElement("p",{className:"text-gray-700"},"A reduo do yield gap aumenta a competitividade do algodo brasileiro no mercado internacional, contribuindo para o fortalecimento da posio do Brasil como um dos principais produtores mundiais."))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-12 p-6 bg-white rounded-lg shadow-md"},React$1.createElement("h3",{className:"text-xl font-semibold mb-4 text-primary-800"},"Uma analogia para entender melhor"),React$1.createElement("p",{className:"text-gray-700 mb-4"},"Pense no yield gap como a diferena entre a velocidade mxima que um carro pode atingir (produtividade potencial) e a velocidade mdia que ele realmente mantm em uma viagem (produtividade real). Diversos fatores podem reduzir essa velocidade: condies da estrada, habilidade do motorista, congestionamento, limitaes do veculo, etc."),React$1.createElement("p",{className:"text-gray-700"},"Da mesma forma, o yield gap na produo de algodo  influenciado por mltiplos fatores que impedem que a lavoura atinja seu potencial mximo. Identificar e solucionar esses gargalos  como melhorar as condies da viagem para chegar mais rpido ao destino - ou, no caso do algodo, alcanar maior produtividade.")))))};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(t){return t+.5|0}const lim=(t,e,n)=>Math.max(Math.min(t,n),e);function p2b(t){return lim(round$1(t*2.55),0,255)}function n2b(t){return lim(round$1(t*255),0,255)}function b2n(t){return lim(round$1(t/2.55)/100,0,1)}function n2p(t){return lim(round$1(t*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=t=>hex$1[t&15],h2=t=>hex$1[(t&240)>>4]+hex$1[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&map$1$1[t[1]]*17,g:255&map$1$1[t[2]]*17,b:255&map$1$1[t[3]]*17,a:e===5?map$1$1[t[4]]*17:255}:(e===7||e===9)&&(n={r:map$1$1[t[1]]<<4|map$1$1[t[2]],g:map$1$1[t[3]]<<4|map$1$1[t[4]],b:map$1$1[t[5]]<<4|map$1$1[t[6]],a:e===9?map$1$1[t[7]]<<4|map$1$1[t[8]]:255})),n}const alpha$1=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha$1(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,n){const o=e*Math.min(n,1-n),l=(u,f=(u+t/30)%12)=>n-o*Math.max(Math.min(f-3,9-f,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(t,e,n){const o=(l,u=(l+t/60)%6)=>n-n*e*Math.max(Math.min(u,4-u,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(t,e,n){const o=hsl2rgbn(t,1,.5);let l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)o[l]*=1-e-n,o[l]+=e;return o}function hueValue(t,e,n,o,l){return t===l?(e-n)/o+(e<n?6:0):e===l?(n-t)/o+2:(t-e)/o+4}function rgb2hsl(t){const n=t.r/255,o=t.g/255,l=t.b/255,u=Math.max(n,o,l),f=Math.min(n,o,l),h=(u+f)/2;let d,p,m;return u!==f&&(m=u-f,p=h>.5?m/(2-u-f):m/(u+f),d=hueValue(n,o,l,m,u),d=d*60+.5),[d|0,p||0,h]}function calln(t,e,n,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,o)).map(n2b)}function hsl2rgb$1(t,e,n){return calln(hsl2rgbn,t,e,n)}function hwb2rgb(t,e,n){return calln(hwb2rgbn,t,e,n)}function hsv2rgb(t,e,n){return calln(hsv2rgbn,t,e,n)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let n=255,o;if(!e)return;e[5]!==o&&(n=e[6]?p2b(+e[5]):n2b(+e[5]));const l=hue(+e[2]),u=+e[3]/100,f=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(l,u,f):e[1]==="hsv"?o=hsv2rgb(l,u,f):o=hsl2rgb$1(l,u,f),{r:o[0],g:o[1],b:o[2],a:n}}function rotate(t,e){var n=rgb2hsl(t);n[0]=hue(n[0]+e),n=hsl2rgb$1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),n=e[0],o=n2p(e[1]),l=n2p(e[2]);return t.a<255?`hsla(${n}, ${o}%, ${l}%, ${b2n(t.a)})`:`hsl(${n}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),n=Object.keys(map$2);let o,l,u,f,h;for(o=0;o<e.length;o++){for(f=h=e[o],l=0;l<n.length;l++)u=n[l],h=h.replace(u,map$2[u]);u=parseInt(names$1[f],16),t[h]=[u>>16&255,u>>8&255,u&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let n=255,o,l,u;if(e){if(e[7]!==o){const f=+e[7];n=e[8]?p2b(f):lim(f*255,0,255)}return o=+e[1],l=+e[3],u=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),l=255&(e[4]?p2b(l):lim(l,0,255)),u=255&(e[6]?p2b(u):lim(u,0,255)),{r:o,g:l,b:u,a:n}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$2(t,e,n){const o=from(b2n(t.r)),l=from(b2n(t.g)),u=from(b2n(t.b));return{r:n2b(to(o+n*(from(b2n(e.r))-o))),g:n2b(to(l+n*(from(b2n(e.g))-l))),b:n2b(to(u+n*(from(b2n(e.b))-u))),a:t.a+n*(e.a-t.a)}}function modHSL(t,e,n){if(t){let o=rgb2hsl(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*n,e===0?360:1)),o=hsl2rgb$1(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function clone$2(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$2(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}let Color$2=class Lu{constructor(e){if(e instanceof Lu)return e;const n=typeof e;let o;n==="object"?o=fromObject(e):n==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone$2(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,n){if(e){const o=this.rgb,l=e.rgb;let u;const f=n===u?.5:n,h=2*f-1,d=o.a-l.a,p=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;u=1-p,o.r=255&p*o.r+u*l.r+.5,o.g=255&p*o.g+u*l.g+.5,o.b=255&p*o.b+u*l.b+.5,o.a=f*o.a+(1-f)*l.a,this.rgb=o}return this}interpolate(e,n){return e&&(this._rgb=interpolate$2(this._rgb,e._rgb,n)),this}clone(){return new Lu(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=round$1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray$1(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$1(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function each(t,e,n,o){let l,u,f;if(isArray$1(t))for(u=t.length,l=0;l<u;l++)e.call(n,t[l],l);else if(isObject$1(t))for(f=Object.keys(t),u=f.length,l=0;l<u;l++)e.call(n,t[f[l]],f[l])}function _elementsEqual(t,e){let n,o,l,u;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(l=t[n],u=e[n],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function clone$1(t){if(isArray$1(t))return t.map(clone$1);if(isObject$1(t)){const e=Object.create(null),n=Object.keys(t),o=n.length;let l=0;for(;l<o;++l)e[n[l]]=clone$1(t[n[l]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,n,o){if(!isValidKey(t))return;const l=e[t],u=n[t];isObject$1(l)&&isObject$1(u)?merge(l,u,o):e[t]=clone$1(u)}function merge(t,e,n){const o=isArray$1(e)?e:[e],l=o.length;if(!isObject$1(t))return t;n=n||{};const u=n.merger||_merger;let f;for(let h=0;h<l;++h){if(f=o[h],!isObject$1(f))continue;const d=Object.keys(f);for(let p=0,m=d.length;p<m;++p)u(d[p],t,f,n)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,n){if(!isValidKey(t))return;const o=e[t],l=n[t];isObject$1(o)&&isObject$1(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(l))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),n=[];let o="";for(const l of e)o+=l,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}function _getKeyResolver(t){const e=_splitKey(t);return n=>{for(const o of e){if(o==="")break;n=n&&n[o]}return n}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined$1=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$2=Math.sign;function almostEquals(t,e,n){return Math.abs(t-e)<n}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(log10(t))),o=t/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function _factorize(t){const e=[],n=Math.sqrt(t);let o;for(o=1;o<n;o++)t%o===0&&(e.push(o),e.push(t/o));return n===(n|0)&&e.push(n),e.sort((l,u)=>l-u).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber$2(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _setMinAndMaxByKey(t,e,n){let o,l,u;for(o=0,l=t.length;o<l;o++)u=t[o][n],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function getAngleFromPoint(t,e){const n=e.x-t.x,o=e.y-t.y,l=Math.sqrt(n*n+o*o);let u=Math.atan2(o,n);return u<-.5*PI&&(u+=TAU),{angle:u,distance:l}}function distanceBetweenPoints$1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+PITAU)%TAU-PI}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,n,o){const l=_normalizeAngle(t),u=_normalizeAngle(e),f=_normalizeAngle(n),h=_normalizeAngle(u-l),d=_normalizeAngle(f-l),p=_normalizeAngle(l-u),m=_normalizeAngle(l-f);return l===u||l===f||o&&u===f||h>d&&p<m}function _limitValue(t,e,n){return Math.max(e,Math.min(n,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,n,o=1e-6){return t>=Math.min(e,n)-o&&t<=Math.max(e,n)+o}function _lookup(t,e,n){n=n||(f=>t[f]<e);let o=t.length-1,l=0,u;for(;o-l>1;)u=l+o>>1,n(u)?l=u:o=u;return{lo:l,hi:o}}const _lookupByKey=(t,e,n,o)=>_lookup(t,n,o?l=>{const u=t[l][e];return u<n||u===n&&t[l+1][e]===n}:l=>t[l][e]<n),_rlookupByKey=(t,e,n)=>_lookup(t,n,o=>t[o][e]>=n);function _filterBetween(t,e,n){let o=0,l=t.length;for(;o<l&&t[o]<e;)o++;for(;l>o&&t[l-1]>n;)l--;return o>0||l<t.length?t.slice(o,l):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(n=>{const o="_onData"+_capitalize(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...u){const f=l.apply(this,u);return t._chartjs.listeners.forEach(h=>{typeof h[o]=="function"&&h[o](...u)}),f}})})}function unlistenArrayEvents(t,e){const n=t._chartjs;if(!n)return;const o=n.listeners,l=o.indexOf(e);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(u=>{delete t[u]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e){let n=[],o=!1;return function(...l){n=l,o||(o=!0,requestAnimFrame.call(window,()=>{o=!1,t.apply(e,n)}))}}function debounce(t,e){let n;return function(...o){return e?(clearTimeout(n),n=setTimeout(t,e,o)):t.apply(this,o),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_textX=(t,e,n,o)=>t===(o?"left":"right")?n:t==="center"?(e+n)/2:e;function _getStartAndCountOfVisiblePoints(t,e,n){const o=e.length;let l=0,u=o;if(t._sorted){const{iScale:f,vScale:h,_parsed:d}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=f.axis,{min:v,max:_,minDefined:S,maxDefined:M}=f.getUserBounds();if(S){if(l=Math.min(_lookupByKey(d,m,v).lo,n?o:_lookupByKey(e,m,f.getPixelForValue(v)).lo),p){const A=d.slice(0,l+1).reverse().findIndex(w=>!isNullOrUndef(w[h.axis]));l-=Math.max(0,A)}l=_limitValue(l,0,o-1)}if(M){let A=Math.max(_lookupByKey(d,f.axis,_,!0).hi+1,n?0:_lookupByKey(e,m,f.getPixelForValue(_),!0).hi+1);if(p){const w=d.slice(A-1).findIndex(C=>!isNullOrUndef(C[h.axis]));A+=Math.max(0,w)}u=_limitValue(A,l,o)-l}else u=o-l}return{start:l,count:u}}function _scaleRangesChanged(t){const{xScale:e,yScale:n,_scaleRanges:o}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!o)return t._scaleRanges=l,!0;const u=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,l),u}const atEdge=t=>t===0||t===1,elasticIn=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/n)),elasticOut=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/n)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color$1(t){return isPatternOrGradient(t)?t:new Color$2(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color$2(t).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const n=t+JSON.stringify(e);let o=intlCache.get(n);return o||(o=new Intl.NumberFormat(t,e),intlCache.set(n,o)),o}function formatNumber(t,e,n){return getNumberFormat(e,n).format(t)}const formatters={values(t){return isArray$1(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const o=this.chart.options.locale;let l,u=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(l="scientific"),u=calculateDelta(t,n)}const f=log10(Math.abs(u)),h=isNaN(f)?1:Math.max(Math.min(-1*Math.floor(f),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),formatNumber(t,o,d)}};function calculateDelta(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const n=e.split(".");for(let o=0,l=n.length;o<l;++o){const u=n[o];t=t[u]||(t[u]=Object.create(null))}return t}function set(t,e,n){return typeof e=="string"?merge(getScope$1(t,e),n):merge(getScope$1(t,""),e)}class Defaults{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,l)=>getHoverColor(l.backgroundColor),this.hoverBorderColor=(o,l)=>getHoverColor(l.borderColor),this.hoverColor=(o,l)=>getHoverColor(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return set(this,e,n)}get(e){return getScope$1(this,e)}describe(e,n){return set(descriptors,e,n)}override(e,n){return set(overrides,e,n)}route(e,n,o,l){const u=getScope$1(this,e),f=getScope$1(this,o),h="_"+n;Object.defineProperties(u,{[h]:{value:u[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[h],p=f[l];return isObject$1(d)?Object.assign({},p,d):valueOrDefault(d,p)},set(d){this[h]=d}}})}apply(e){e.forEach(n=>n(this))}}var defaults$1=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,n,o,l){let u=e[l];return u||(u=e[l]=t.measureText(l).width,n.push(l)),u>o&&(o=u),o}function _alignPixel(t,e,n){const o=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*o)/o+l}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,n,o){drawPointLegend(t,e,n,o,null)}function drawPointLegend(t,e,n,o,l){let u,f,h,d,p,m,v,_;const S=e.pointStyle,M=e.rotation,A=e.radius;let w=(M||0)*RAD_PER_DEG;if(S&&typeof S=="object"&&(u=S.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){t.save(),t.translate(n,o),t.rotate(w),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(A)||A<=0)){switch(t.beginPath(),S){default:l?t.ellipse(n,o,l/2,A,0,0,TAU):t.arc(n,o,A,0,TAU),t.closePath();break;case"triangle":m=l?l/2:A,t.moveTo(n+Math.sin(w)*m,o-Math.cos(w)*A),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*A),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*A),t.closePath();break;case"rectRounded":p=A*.516,d=A-p,f=Math.cos(w+QUARTER_PI)*d,v=Math.cos(w+QUARTER_PI)*(l?l/2-p:d),h=Math.sin(w+QUARTER_PI)*d,_=Math.sin(w+QUARTER_PI)*(l?l/2-p:d),t.arc(n-v,o-h,p,w-PI,w-HALF_PI),t.arc(n+_,o-f,p,w-HALF_PI,w),t.arc(n+v,o+h,p,w,w+HALF_PI),t.arc(n-_,o+f,p,w+HALF_PI,w+PI),t.closePath();break;case"rect":if(!M){d=Math.SQRT1_2*A,m=l?l/2:d,t.rect(n-m,o-d,2*m,2*d);break}w+=QUARTER_PI;case"rectRot":v=Math.cos(w)*(l?l/2:A),f=Math.cos(w)*A,h=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-h),t.lineTo(n+_,o-f),t.lineTo(n+v,o+h),t.lineTo(n-_,o+f),t.closePath();break;case"crossRot":w+=QUARTER_PI;case"cross":v=Math.cos(w)*(l?l/2:A),f=Math.cos(w)*A,h=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-h),t.lineTo(n+v,o+h),t.moveTo(n+_,o-f),t.lineTo(n-_,o+f);break;case"star":v=Math.cos(w)*(l?l/2:A),f=Math.cos(w)*A,h=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-h),t.lineTo(n+v,o+h),t.moveTo(n+_,o-f),t.lineTo(n-_,o+f),w+=QUARTER_PI,v=Math.cos(w)*(l?l/2:A),f=Math.cos(w)*A,h=Math.sin(w)*A,_=Math.sin(w)*(l?l/2:A),t.moveTo(n-v,o-h),t.lineTo(n+v,o+h),t.moveTo(n+_,o-f),t.lineTo(n-_,o+f);break;case"line":f=l?l/2:Math.cos(w)*A,h=Math.sin(w)*A,t.moveTo(n-f,o-h),t.lineTo(n+f,o+h);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(w)*(l?l/2:A),o+Math.sin(w)*A);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,n,o,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){const u=(e.x+n.x)/2;t.lineTo(u,e.y),t.lineTo(u,n.y)}else l==="after"!=!!o?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _bezierCurveTo(t,e,n,o){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,n,o,l){if(l.strikethrough||l.underline){const u=t.measureText(o),f=e-u.actualBoundingBoxLeft,h=e+u.actualBoundingBoxRight,d=n-u.actualBoundingBoxAscent,p=n+u.actualBoundingBoxDescent,m=l.strikethrough?(d+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(f,m),t.lineTo(h,m),t.stroke()}}function drawBackdrop(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function renderText(t,e,n,o,l,u={}){const f=isArray$1(e)?e:[e],h=u.strokeWidth>0&&u.strokeColor!=="";let d,p;for(t.save(),t.font=l.string,setRenderOpts(t,u),d=0;d<f.length;++d)p=f[d],u.backdrop&&drawBackdrop(t,u.backdrop),h&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),isNullOrUndef(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(p,n,o,u.maxWidth)),t.fillText(p,n,o,u.maxWidth),decorateText(t,n,o,p,u),o+=Number(l.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:n,y:o,w:l,h:u,radius:f}=e;t.arc(n+f.topLeft,o+f.topLeft,f.topLeft,1.5*PI,PI,!0),t.lineTo(n,o+u-f.bottomLeft),t.arc(n+f.bottomLeft,o+u-f.bottomLeft,f.bottomLeft,PI,HALF_PI,!0),t.lineTo(n+l-f.bottomRight,o+u),t.arc(n+l-f.bottomRight,o+u-f.bottomRight,f.bottomRight,HALF_PI,0,!0),t.lineTo(n+l,o+f.topRight),t.arc(n+l-f.topRight,o+f.topRight,f.topRight,0,-HALF_PI,!0),t.lineTo(n+f.topLeft,o)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const n=(""+t).match(LINE_HEIGHT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const n={},o=isObject$1(e),l=o?Object.keys(e):e,u=isObject$1(t)?o?f=>valueOrDefault(t[f],t[e[f]]):f=>t[f]:()=>t;for(const f of l)n[f]=numberOrZero(u(f));return n}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults$1.font;let n=valueOrDefault(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let o=valueOrDefault(t.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const l={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),n),size:n,style:o,weight:valueOrDefault(t.weight,e.weight),string:""};return l.string=toFontString(l),l}function resolve$1(t,e,n,o){let l,u,f;for(l=0,u=t.length;l<u;++l)if(f=t[l],f!==void 0&&f!==void 0)return f}function _addGrace(t,e,n){const{min:o,max:l}=t,u=toDimension(e,(l-o)/2),f=(h,d)=>n&&h===0?0:h+d;return{min:f(o,-Math.abs(u)),max:f(l,u)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],n,o,l=()=>t[0]){const u=n||t;typeof o>"u"&&(o=_resolve("_fallback",t));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:u,_fallback:o,_getTarget:l,override:h=>_createResolver([h,...t],e,u,o)};return new Proxy(f,{deleteProperty(h,d){return delete h[d],delete h._keys,delete t[0][d],!0},get(h,d){return _cached(h,d,()=>_resolveWithPrefixes(d,e,t,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(h,d){return getKeysFromAllScopes(h).includes(d)},ownKeys(h){return getKeysFromAllScopes(h)},set(h,d,p){const m=h._storage||(h._storage=l());return h[d]=m[d]=p,delete h._keys,!0}})}function _attachContext(t,e,n,o){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_descriptors(t,o),setContext:u=>_attachContext(t,u,n,o),override:u=>_attachContext(t.override(u),e,n,o)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete t[f],!0},get(u,f,h){return _cached(u,f,()=>_resolveWithContext(u,f,h))},getOwnPropertyDescriptor(u,f){return u._descriptors.allKeys?Reflect.has(t,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,f)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(u,f){return Reflect.has(t,f)},ownKeys(){return Reflect.ownKeys(t)},set(u,f,h){return t[f]=h,delete u[f],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:o=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:o,isScriptable:isFunction$1(n)?n:()=>n,isIndexable:isFunction$1(o)?o:()=>o}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject$1(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const o=n();return t[e]=o,o}function _resolveWithContext(t,e,n){const{_proxy:o,_context:l,_subProxy:u,_descriptors:f}=t;let h=o[e];return isFunction$1(h)&&f.isScriptable(e)&&(h=_resolveScriptable(e,h,t,n)),isArray$1(h)&&h.length&&(h=_resolveArray(e,h,t,f.isIndexable)),needsSubResolver(e,h)&&(h=_attachContext(h,l,u&&u[e],f)),h}function _resolveScriptable(t,e,n,o){const{_proxy:l,_context:u,_subProxy:f,_stack:h}=n;if(h.has(t))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+t);h.add(t);let d=e(u,f||o);return h.delete(t),needsSubResolver(t,d)&&(d=createSubResolver(l._scopes,l,t,d)),d}function _resolveArray(t,e,n,o){const{_proxy:l,_context:u,_subProxy:f,_descriptors:h}=n;if(typeof u.index<"u"&&o(t))return e[u.index%e.length];if(isObject$1(e[0])){const d=e,p=l._scopes.filter(m=>m!==d);e=[];for(const m of d){const v=createSubResolver(p,l,t,m);e.push(_attachContext(v,u,f&&f[t],h))}}return e}function resolveFallback(t,e,n){return isFunction$1(t)?t(e,n):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,n,o,l){for(const u of e){const f=getScope(n,u);if(f){t.add(f);const h=resolveFallback(f._fallback,n,l);if(typeof h<"u"&&h!==n&&h!==o)return h}else if(f===!1&&typeof o<"u"&&n!==o)return null}return!1}function createSubResolver(t,e,n,o){const l=e._rootScopes,u=resolveFallback(e._fallback,n,o),f=[...t,...l],h=new Set;h.add(o);let d=addScopesFromKey(h,f,n,u||n,o);return d===null||typeof u<"u"&&u!==n&&(d=addScopesFromKey(h,f,u,d,o),d===null)?!1:_createResolver(Array.from(h),[""],l,u,()=>subGetTarget(e,n,o))}function addScopesFromKey(t,e,n,o,l){for(;n;)n=addScopes(t,e,n,o,l);return n}function subGetTarget(t,e,n){const o=t._getTarget();e in o||(o[e]={});const l=o[e];return isArray$1(l)&&isObject$1(n)?n:l||{}}function _resolveWithPrefixes(t,e,n,o){let l;for(const u of e)if(l=_resolve(readKey(u,t),n),typeof l<"u")return needsSubResolver(t,l)?createSubResolver(n,o,t,l):l}function _resolve(t,e){for(const n of e){if(!n)continue;const o=n[t];if(typeof o<"u")return o}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const n of t)for(const o of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(o);return Array.from(e)}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>t==="x"?"y":"x";function splineCurve(t,e,n,o){const l=t.skip?e:t,u=e,f=n.skip?e:n,h=distanceBetweenPoints$1(u,l),d=distanceBetweenPoints$1(f,u);let p=h/(h+d),m=d/(h+d);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=o*p,_=o*m;return{previous:{x:u.x-v*(f.x-l.x),y:u.y-v*(f.y-l.y)},next:{x:u.x+_*(f.x-l.x),y:u.y+_*(f.y-l.y)}}}function monotoneAdjust(t,e,n){const o=t.length;let l,u,f,h,d,p=getPoint(t,0);for(let m=0;m<o-1;++m)if(d=p,p=getPoint(t,m+1),!(!d||!p)){if(almostEquals(e[m],0,EPSILON$1)){n[m]=n[m+1]=0;continue}l=n[m]/e[m],u=n[m+1]/e[m],h=Math.pow(l,2)+Math.pow(u,2),!(h<=9)&&(f=3/Math.sqrt(h),n[m]=l*f*e[m],n[m+1]=u*f*e[m])}}function monotoneCompute(t,e,n="x"){const o=getValueAxis(n),l=t.length;let u,f,h,d=getPoint(t,0);for(let p=0;p<l;++p){if(f=h,h=d,d=getPoint(t,p+1),!h)continue;const m=h[n],v=h[o];f&&(u=(m-f[n])/3,h[`cp1${n}`]=m-u,h[`cp1${o}`]=v-u*e[p]),d&&(u=(d[n]-m)/3,h[`cp2${n}`]=m+u,h[`cp2${o}`]=v+u*e[p])}}function splineCurveMonotone(t,e="x"){const n=getValueAxis(e),o=t.length,l=Array(o).fill(0),u=Array(o);let f,h,d,p=getPoint(t,0);for(f=0;f<o;++f)if(h=d,d=p,p=getPoint(t,f+1),!!d){if(p){const m=p[e]-d[e];l[f]=m!==0?(p[n]-d[n])/m:0}u[f]=h?p?sign$2(l[f-1])!==sign$2(l[f])?0:(l[f-1]+l[f])/2:l[f-1]:l[f]}monotoneAdjust(t,l,u),monotoneCompute(t,u,e)}function capControlPoint(t,e,n){return Math.max(Math.min(t,n),e)}function capBezierPoints(t,e){let n,o,l,u,f,h=_isPointInArea(t[0],e);for(n=0,o=t.length;n<o;++n)f=u,u=h,h=n<o-1&&_isPointInArea(t[n+1],e),u&&(l=t[n],f&&(l.cp1x=capControlPoint(l.cp1x,e.left,e.right),l.cp1y=capControlPoint(l.cp1y,e.top,e.bottom)),h&&(l.cp2x=capControlPoint(l.cp2x,e.left,e.right),l.cp2y=capControlPoint(l.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(t,e,n,o,l){let u,f,h,d;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(t,l);else{let p=o?t[t.length-1]:t[0];for(u=0,f=t.length;u<f;++u)h=t[u],d=splineCurve(p,h,t[Math.min(u+1,f-(o?0:1))%f],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,p=h}e.capBezierPoints&&capBezierPoints(t,n)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,n){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[n])):o=t,o}const getComputedStyle$1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,n){const o={};n=n?"-"+n:"";for(let l=0;l<4;l++){const u=positions[l];o[u]=parseFloat(t[e+"-"+u+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function getCanvasPosition(t,e){const n=t.touches,o=n&&n.length?n[0]:t,{offsetX:l,offsetY:u}=o;let f=!1,h,d;if(useOffsetPos(l,u,t.target))h=l,d=u;else{const p=e.getBoundingClientRect();h=o.clientX-p.left,d=o.clientY-p.top,f=!0}return{x:h,y:d,box:f}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:o}=e,l=getComputedStyle$1(n),u=l.boxSizing==="border-box",f=getPositionedStyle(l,"padding"),h=getPositionedStyle(l,"border","width"),{x:d,y:p,box:m}=getCanvasPosition(t,n),v=f.left+(m&&h.left),_=f.top+(m&&h.top);let{width:S,height:M}=e;return u&&(S-=f.width+h.width,M-=f.height+h.height),{x:Math.round((d-v)/S*n.width/o),y:Math.round((p-_)/M*n.height/o)}}function getContainerSize(t,e,n){let o,l;if(e===void 0||n===void 0){const u=t&&_getParentNode(t);if(!u)e=t.clientWidth,n=t.clientHeight;else{const f=u.getBoundingClientRect(),h=getComputedStyle$1(u),d=getPositionedStyle(h,"border","width"),p=getPositionedStyle(h,"padding");e=f.width-p.width-d.width,n=f.height-p.height-d.height,o=parseMaxStyle(h.maxWidth,u,"clientWidth"),l=parseMaxStyle(h.maxHeight,u,"clientHeight")}}return{width:e,height:n,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,n,o){const l=getComputedStyle$1(t),u=getPositionedStyle(l,"margin"),f=parseMaxStyle(l.maxWidth,t,"clientWidth")||INFINITY,h=parseMaxStyle(l.maxHeight,t,"clientHeight")||INFINITY,d=getContainerSize(t,e,n);let{width:p,height:m}=d;if(l.boxSizing==="content-box"){const _=getPositionedStyle(l,"border","width"),S=getPositionedStyle(l,"padding");p-=S.width+_.width,m-=S.height+_.height}return p=Math.max(0,p-u.width),m=Math.max(0,o?p/o:m-u.height),p=round1(Math.min(p,f,d.maxWidth)),m=round1(Math.min(m,h,d.maxHeight)),p&&!m&&(m=round1(p/2)),(e!==void 0||n!==void 0)&&o&&d.height&&m>d.height&&(m=d.height,p=round1(Math.floor(m*o))),{width:p,height:m}}function retinaScale(t,e,n){const o=e||1,l=Math.floor(t.height*o),u=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const f=t.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${t.height}px`,f.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||f.height!==l||f.width!==u?(t.currentDevicePixelRatio=o,f.height=l,f.width=u,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function readUsedSize(t,e){const n=getStyle(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _steppedInterpolation(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:o==="middle"?n<.5?t.y:e.y:o==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _bezierInterpolation(t,e,n,o){const l={x:t.cp2x,y:t.cp2y},u={x:e.cp1x,y:e.cp1y},f=_pointInLine(t,l,n),h=_pointInLine(l,u,n),d=_pointInLine(u,e,n),p=_pointInLine(f,h,n),m=_pointInLine(h,d,n);return _pointInLine(p,m,n)}const getRightToLeftAdapter=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,o){return n-o},leftForLtr(n,o){return n-o}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,n){return t?getRightToLeftAdapter(e,n):getLeftToRightAdapter()}function overrideTextDirection(t,e){let n,o;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=o)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return t==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,n)=>e-n,normalize:e=>e}}function normalizeSegment({start:t,end:e,count:n,loop:o,style:l}){return{start:t%n,end:e%n,loop:o&&(e-t+1)%n===0,style:l}}function getSegment(t,e,n){const{property:o,start:l,end:u}=n,{between:f,normalize:h}=propertyFn(o),d=e.length;let{start:p,end:m,loop:v}=t,_,S;if(v){for(p+=d,m+=d,_=0,S=d;_<S&&f(h(e[p%d][o]),l,u);++_)p--,m--;p%=d,m%=d}return m<p&&(m+=d),{start:p,end:m,loop:v,style:t.style}}function _boundSegment(t,e,n){if(!n)return[t];const{property:o,start:l,end:u}=n,f=e.length,{compare:h,between:d,normalize:p}=propertyFn(o),{start:m,end:v,loop:_,style:S}=getSegment(t,e,n),M=[];let A=!1,w=null,C,O,L;const F=()=>d(l,L,C)&&h(l,L)!==0,$=()=>h(u,C)===0||d(u,L,C),B=()=>A||F(),U=()=>!A||$();for(let q=m,Z=m;q<=v;++q)O=e[q%f],!O.skip&&(C=p(O[o]),C!==L&&(A=d(C,l,u),w===null&&B()&&(w=h(C,l)===0?q:Z),w!==null&&U()&&(M.push(normalizeSegment({start:w,end:q,loop:_,count:f,style:S})),w=null),Z=q,L=C));return w!==null&&M.push(normalizeSegment({start:w,end:v,loop:_,count:f,style:S})),M}function _boundSegments(t,e){const n=[],o=t.segments;for(let l=0;l<o.length;l++){const u=_boundSegment(o[l],t.points,e);u.length&&n.push(...u)}return n}function findStartAndEnd(t,e,n,o){let l=0,u=e-1;if(n&&!o)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(u+=l);u>l&&t[u%e].skip;)u--;return u%=e,{start:l,end:u}}function solidSegments(t,e,n,o){const l=t.length,u=[];let f=e,h=t[e],d;for(d=e+1;d<=n;++d){const p=t[d%l];p.skip||p.stop?h.skip||(o=!1,u.push({start:e%l,end:(d-1)%l,loop:o}),e=f=p.stop?d:null):(f=d,h.skip&&(e=d)),h=p}return f!==null&&u.push({start:e%l,end:f%l,loop:o}),u}function _computeSegments(t,e){const n=t.points,o=t.options.spanGaps,l=n.length;if(!l)return[];const u=!!t._loop,{start:f,end:h}=findStartAndEnd(n,l,u,o);if(o===!0)return splitByStyles(t,[{start:f,end:h,loop:u}],n,e);const d=h<f?h+l:h,p=!!t._fullLoop&&f===0&&h===l-1;return splitByStyles(t,solidSegments(n,f,d,p),n,e)}function splitByStyles(t,e,n,o){return!o||!o.setContext||!n?e:doSplitByStyles(t,e,n,o)}function doSplitByStyles(t,e,n,o){const l=t._chart.getContext(),u=readStyle(t.options),{_datasetIndex:f,options:{spanGaps:h}}=t,d=n.length,p=[];let m=u,v=e[0].start,_=v;function S(M,A,w,C){const O=h?-1:1;if(M!==A){for(M+=d;n[M%d].skip;)M-=O;for(;n[A%d].skip;)A+=O;M%d!==A%d&&(p.push({start:M%d,end:A%d,loop:w,style:C}),m=C,v=A%d)}}for(const M of e){v=h?v:M.start;let A=n[v%d],w;for(_=v+1;_<=M.end;_++){const C=n[_%d];w=readStyle(o.setContext(createContext(l,{type:"segment",p0:A,p1:C,p0DataIndex:(_-1)%d,p1DataIndex:_%d,datasetIndex:f}))),styleChanged(w,m)&&S(v,_-1,M.loop,m),A=C,m=w}v<_-1&&S(v,_-1,M.loop,m)}return p}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){if(!e)return!1;const n=[],o=function(l,u){return isPatternOrGradient(u)?(n.includes(u)||n.push(u),n.indexOf(u)):u};return JSON.stringify(t,o)!==JSON.stringify(e,o)}function getSizeForArea(t,e,n){return t.options.clip?t[n]:e[n]}function getDatasetArea(t,e){const{xScale:n,yScale:o}=t;return n&&o?{left:getSizeForArea(n,e,"left"),right:getSizeForArea(n,e,"right"),top:getSizeForArea(o,e,"top"),bottom:getSizeForArea(o,e,"bottom")}:e}function getDatasetClipArea(t,e){const n=e._clip;if(n.disabled)return!1;const o=getDatasetArea(e,t.chartArea);return{left:n.left===!1?0:o.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:o.right+(n.right===!0?0:n.right),top:n.top===!1?0:o.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:o.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,o,l){const u=n.listeners[l],f=n.duration;u.forEach(h=>h({chart:e,initial:n.initial,numSteps:f,currentStep:Math.min(o-n.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const u=o.items;let f=u.length-1,h=!1,d;for(;f>=0;--f)d=u[f],d._active?(d._total>o.duration&&(o.duration=d._total),d.tick(e),h=!0):(u[f]=u[u.length-1],u.pop());h&&(l.draw(),this._notify(l,o,e,"progress")),u.length||(o.running=!1,this._notify(l,o,e,"complete"),o.initial=!1),n+=u.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let o=n.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,o)),o}listen(e,n,o){this._getAnims(e).listeners[n].push(o)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const o=n.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const o=color$1(t||transparent),l=o.valid&&color$1(e||transparent);return l&&l.valid?l.mix(o,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Animation{constructor(e,n,o,l){const u=n[o];l=resolve$1([e.to,l,u,e.from]);const f=resolve$1([e.from,u,l]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof f],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=o,this._from=f,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,o){if(this._active){this._notify(!1);const l=this._target[this._prop],u=o-this._start,f=this._duration-u;this._start=o,this._duration=Math.floor(Math.max(f,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=resolve$1([e.to,n,l,e.from]),this._from=resolve$1([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,o=this._duration,l=this._prop,u=this._from,f=this._loop,h=this._to;let d;if(this._active=u!==h&&(f||n<o),!this._active){this._target[l]=h,this._notify(!0);return}if(n<0){this._target[l]=u;return}d=n/o%2,d=f&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(u,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,o)=>{e.push({res:n,rej:o})})}_notify(e){const n=e?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][n]()}}class Animations{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!isObject$1(e))return;const n=Object.keys(defaults$1.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const u=e[l];if(!isObject$1(u))return;const f={};for(const h of n)f[h]=u[h];(isArray$1(u.properties)&&u.properties||[l]).forEach(h=>{(h===l||!o.has(h))&&o.set(h,f)})})}_animateOptions(e,n){const o=n.options,l=resolveTargetOptions(e,o);if(!l)return[];const u=this._createAnimations(l,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),u}_createAnimations(e,n){const o=this._properties,l=[],u=e.$animations||(e.$animations={}),f=Object.keys(n),h=Date.now();let d;for(d=f.length-1;d>=0;--d){const p=f[d];if(p.charAt(0)==="$")continue;if(p==="options"){l.push(...this._animateOptions(e,n));continue}const m=n[p];let v=u[p];const _=o.get(p);if(v)if(_&&v.active()){v.update(_,m,h);continue}else v.cancel();if(!_||!_.duration){e[p]=m;continue}u[p]=v=new Animation(_,e,p,m),l.push(v)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const o=this._createAnimations(e,n);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(t,e){const n=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const u=t[o[l]];u&&u.active()&&n.push(u.wait())}return Promise.all(n)}function resolveTargetOptions(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function scaleClip(t,e){const n=t&&t.options||{},o=n.reverse,l=n.min===void 0?e:0,u=n.max===void 0?e:0;return{start:o?u:l,end:o?l:u}}function defaultClip(t,e,n){if(n===!1)return!1;const o=scaleClip(t,n),l=scaleClip(e,n);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(t){let e,n,o,l;return isObject$1(t)?(e=t.top,n=t.right,o=t.bottom,l=t.left):e=n=o=l=t,{top:e,right:n,bottom:o,left:l,disabled:t===!1}}function getSortedDatasetIndices(t,e){const n=[],o=t._getSortedDatasetMetas(e);let l,u;for(l=0,u=o.length;l<u;++l)n.push(o[l].index);return n}function applyStack(t,e,n,o={}){const l=t.keys,u=o.mode==="single";let f,h,d,p;if(e===null)return;let m=!1;for(f=0,h=l.length;f<h;++f){if(d=+l[f],d===n){if(m=!0,o.all)continue;break}p=t.values[d],isNumberFinite(p)&&(u||e===0||sign$2(e)===sign$2(p))&&(e+=p)}return!m&&!o.all?0:e}function convertObjectDataToArray(t,e){const{iScale:n,vScale:o}=e,l=n.axis==="x"?"x":"y",u=o.axis==="x"?"x":"y",f=Object.keys(t),h=new Array(f.length);let d,p,m;for(d=0,p=f.length;d<p;++d)m=f[d],h[d]={[l]:m,[u]:t[m]};return h}function isStacked(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function getStackKey(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function getUserBounds(t){const{min:e,max:n,minDefined:o,maxDefined:l}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,n){const o=t[e]||(t[e]={});return o[n]||(o[n]={})}function getLastIndexInStack(t,e,n,o){for(const l of e.getMatchingVisibleMetas(o).reverse()){const u=t[l.index];if(n&&u>0||!n&&u<0)return l.index}return null}function updateStacks(t,e){const{chart:n,_cachedMeta:o}=t,l=n._stacks||(n._stacks={}),{iScale:u,vScale:f,index:h}=o,d=u.axis,p=f.axis,m=getStackKey(u,f,o),v=e.length;let _;for(let S=0;S<v;++S){const M=e[S],{[d]:A,[p]:w}=M,C=M._stacks||(M._stacks={});_=C[p]=getOrCreateStack(l,m,A),_[h]=w,_._top=getLastIndexInStack(_,f,!0,o.type),_._bottom=getLastIndexInStack(_,f,!1,o.type);const O=_._visualValues||(_._visualValues={});O[h]=w}}function getFirstScaleId(t,e){const n=t.scales;return Object.keys(n).filter(o=>n[o].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,n){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const n=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const l of e){const u=l._stacks;if(!u||u[o]===void 0||u[o][n]===void 0)return;delete u[o][n],u[o]._visualValues!==void 0&&u[o]._visualValues[n]!==void 0&&delete u[o]._visualValues[n]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(n,!0),values:null};class DatasetController{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,o=this.getDataset(),l=(v,_,S,M)=>v==="x"?_:v==="r"?M:S,u=n.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),f=n.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),h=n.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),d=n.indexAxis,p=n.iAxisID=l(d,u,f,h),m=n.vAxisID=l(d,f,u,h);n.xScale=this.getScaleForId(u),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),o=this._data;if(isObject$1(n)){const l=this._cachedMeta;this._data=convertObjectDataToArray(n,l)}else if(o!==n){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}n&&Object.isExtensible(n)&&listenArrayEvents(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const u=n._stacked;n._stacked=isStacked(n.vScale,n),n.stack!==o.stack&&(l=!0,clearStacks(n),n.stack=o.stack),this._resyncElements(e),(l||u!==n._stacked)&&(updateStacks(this,n._parsed),n._stacked=isStacked(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:o,_data:l}=this,{iScale:u,_stacked:f}=o,h=u.axis;let d=e===0&&n===l.length?!0:o._sorted,p=e>0&&o._parsed[e-1],m,v,_;if(this._parsing===!1)o._parsed=l,o._sorted=!0,_=l;else{isArray$1(l[e])?_=this.parseArrayData(o,l,e,n):isObject$1(l[e])?_=this.parseObjectData(o,l,e,n):_=this.parsePrimitiveData(o,l,e,n);const S=()=>v[h]===null||p&&v[h]<p[h];for(m=0;m<n;++m)o._parsed[m+e]=v=_[m],d&&(S()&&(d=!1),p=v);o._sorted=d}f&&updateStacks(this,_)}parsePrimitiveData(e,n,o,l){const{iScale:u,vScale:f}=e,h=u.axis,d=f.axis,p=u.getLabels(),m=u===f,v=new Array(l);let _,S,M;for(_=0,S=l;_<S;++_)M=_+o,v[_]={[h]:m||u.parse(p[M],M),[d]:f.parse(n[M],M)};return v}parseArrayData(e,n,o,l){const{xScale:u,yScale:f}=e,h=new Array(l);let d,p,m,v;for(d=0,p=l;d<p;++d)m=d+o,v=n[m],h[d]={x:u.parse(v[0],m),y:f.parse(v[1],m)};return h}parseObjectData(e,n,o,l){const{xScale:u,yScale:f}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,p=new Array(l);let m,v,_,S;for(m=0,v=l;m<v;++m)_=m+o,S=n[_],p[m]={x:u.parse(resolveObjectKey(S,h),_),y:f.parse(resolveObjectKey(S,d),_)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,o){const l=this.chart,u=this._cachedMeta,f=n[e.axis],h={keys:getSortedDatasetIndices(l,!0),values:n._stacks[e.axis]._visualValues};return applyStack(h,f,u.index,{mode:o})}updateRangeFromParsed(e,n,o,l){const u=o[n.axis];let f=u===null?NaN:u;const h=l&&o._stacks[n.axis];l&&h&&(l.values=h,f=applyStack(l,u,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,n){const o=this._cachedMeta,l=o._parsed,u=o._sorted&&e===o.iScale,f=l.length,h=this._getOtherScale(e),d=createStack(n,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=getUserBounds(h);let _,S;function M(){S=l[_];const A=S[h.axis];return!isNumberFinite(S[e.axis])||m>A||v<A}for(_=0;_<f&&!(!M()&&(this.updateRangeFromParsed(p,e,S,d),u));++_);if(u){for(_=f-1;_>=0;--_)if(!M()){this.updateRangeFromParsed(p,e,S,d);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,o=[];let l,u,f;for(l=0,u=n.length;l<u;++l)f=n[l][e.axis],isNumberFinite(f)&&o.push(f);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,o=n.iScale,l=n.vScale,u=this.getParsed(e);return{label:o?""+o.getLabelForValue(u[o.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=toClip(valueOrDefault(this.options.clip,defaultClip(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,o=this._cachedMeta,l=o.data||[],u=n.chartArea,f=[],h=this._drawStart||0,d=this._drawCount||l.length-h,p=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,u,h,d),m=h;m<h+d;++m){const v=l[m];v.hidden||(v.active&&p?f.push(v):v.draw(e,u))}for(m=0;m<f.length;++m)f[m].draw(e,u)}getStyle(e,n){const o=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,n,o){const l=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];u=f.$context||(f.$context=createDataContext(this.getContext(),e,f)),u.parsed=this.getParsed(e),u.raw=l.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!n,u.mode=o,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",o){const l=n==="active",u=this._cachedDataOpts,f=e+"-"+n,h=u[f],d=this.enableOptionSharing&&defined$1(o);if(h)return cloneIfNotShared(h,d);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=l?[`${e}Hover`,"hover",e,""]:[e,""],_=p.getOptionScopes(this.getDataset(),m),S=Object.keys(defaults$1.elements[e]),M=()=>this.getContext(o,l,n),A=p.resolveNamedOptions(_,S,M,v);return A.$shared&&(A.$shared=d,u[f]=Object.freeze(cloneIfNotShared(A,d))),A}_resolveAnimations(e,n,o){const l=this.chart,u=this._cachedDataOpts,f=`animation-${n}`,h=u[f];if(h)return h;let d;if(l.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,n),_=m.getOptionScopes(this.getDataset(),v);d=m.createResolver(_,this.getContext(e,o,n))}const p=new Animations(l,d&&d.animations);return d&&d._cacheable&&(u[f]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const o=this.resolveDataElementOptions(e,n),l=this._sharedOptions,u=this.getSharedOptions(o),f=this.includeOptions(n,u)||u!==l;return this.updateSharedOptions(u,n,o),{sharedOptions:u,includeOptions:f}}updateElement(e,n,o,l){isDirectUpdateMode(l)?Object.assign(e,o):this._resolveAnimations(n,l).update(e,o)}updateSharedOptions(e,n,o){e&&!isDirectUpdateMode(n)&&this._resolveAnimations(void 0,n).update(e,o)}_setStyle(e,n,o,l){e.active=l;const u=this.getStyle(n,l);this._resolveAnimations(n,o,l).update(e,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(e,n,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,n,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,o=this._cachedMeta.data;for(const[h,d,p]of this._syncList)this[h](d,p);this._syncList=[];const l=o.length,u=n.length,f=Math.min(u,l);f&&this.parse(0,f),u>l?this._insertElements(l,u-l,e):u<l&&this._removeElements(u,l-u)}_insertElements(e,n,o=!0){const l=this._cachedMeta,u=l.data,f=e+n;let h;const d=p=>{for(p.length+=n,h=p.length-1;h>=f;h--)p[h]=p[h-n]};for(d(u),h=e;h<f;++h)u[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(e,n),o&&this.updateElements(u,e,n,"reset")}updateElements(e,n,o,l){}_removeElements(e,n){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(e,n);o._stacked&&clearStacks(o,l)}o.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,o,l]=e;this[n](o,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}cn(DatasetController,"defaults",{}),cn(DatasetController,"datasetElementType",null),cn(DatasetController,"dataElementType",null);class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:o,data:l=[],_dataset:u}=n,f=this.chart._animationsDisabled;let{start:h,count:d}=_getStartAndCountOfVisiblePoints(n,l,f);this._drawStart=h,this._drawCount=d,_scaleRangesChanged(n)&&(h=0,d=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!u._decimated,o.points=l;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!f,options:p},e),this.updateElements(l,h,d,e)}updateElements(e,n,o,l){const u=l==="reset",{iScale:f,vScale:h,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,l),_=f.axis,S=h.axis,{spanGaps:M,segment:A}=this.options,w=isNumber$2(M)?M:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||u||l==="none",O=n+o,L=e.length;let F=n>0&&this.getParsed(n-1);for(let $=0;$<L;++$){const B=e[$],U=C?B:{};if($<n||$>=O){U.skip=!0;continue}const q=this.getParsed($),Z=isNullOrUndef(q[S]),G=U[_]=f.getPixelForValue(q[_],$),H=U[S]=u||Z?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,q,d):q[S],$);U.skip=isNaN(G)||isNaN(H)||Z,U.stop=$>0&&Math.abs(q[_]-F[_])>w,A&&(U.parsed=q,U.raw=p.data[$]),v&&(U.options=m||this.resolveDataElementOptions($,B.active?"active":l)),C||this.updateElement(B,$,U,l),F=q}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,o=n.options&&n.options.borderWidth||0,l=e.data||[];if(!l.length)return o;const u=l[0].size(this.resolveDataElementOptions(0)),f=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,u,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}cn(LineController,"id","line"),cn(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),cn(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){cn(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,n,o){const{controller:l,data:u,_sorted:f}=t,h=l._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&f&&u.length){const p=h._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const m=u[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const _=p(u,e,n-v),S=p(u,e,n+v);return{lo:_.lo,hi:S.hi}}}}else{const m=p(u,e,n);if(d){const{vScale:v}=l._cachedMeta,{_parsed:_}=t,S=_.slice(0,m.lo+1).reverse().findIndex(A=>!isNullOrUndef(A[v.axis]));m.lo-=Math.max(0,S);const M=_.slice(m.hi).findIndex(A=>!isNullOrUndef(A[v.axis]));m.hi+=Math.max(0,M)}return m}}return{lo:0,hi:u.length-1}}function evaluateInteractionItems(t,e,n,o,l){const u=t.getSortedVisibleDatasetMetas(),f=n[e];for(let h=0,d=u.length;h<d;++h){const{index:p,data:m}=u[h],{lo:v,hi:_}=binarySearch(u[h],e,f,l);for(let S=v;S<=_;++S){const M=m[S];M.skip||o(M,p,S)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(o,l){const u=e?Math.abs(o.x-l.x):0,f=n?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}function getIntersectItems(t,e,n,o,l){const u=[];return!l&&!t.isPointInArea(e)||evaluateInteractionItems(t,n,e,function(h,d,p){!l&&!_isPointInArea(h,t.chartArea,0)||h.inRange(e.x,e.y,o)&&u.push({element:h,datasetIndex:d,index:p})},!0),u}function getNearestRadialItems(t,e,n,o){let l=[];function u(f,h,d){const{startAngle:p,endAngle:m}=f.getProps(["startAngle","endAngle"],o),{angle:v}=getAngleFromPoint(f,{x:e.x,y:e.y});_angleBetween(v,p,m)&&l.push({element:f,datasetIndex:h,index:d})}return evaluateInteractionItems(t,n,e,u),l}function getNearestCartesianItems(t,e,n,o,l,u){let f=[];const h=getDistanceMetricForAxis(n);let d=Number.POSITIVE_INFINITY;function p(m,v,_){const S=m.inRange(e.x,e.y,l);if(o&&!S)return;const M=m.getCenterPoint(l);if(!(!!u||t.isPointInArea(M))&&!S)return;const w=h(e,M);w<d?(f=[{element:m,datasetIndex:v,index:_}],d=w):w===d&&f.push({element:m,datasetIndex:v,index:_})}return evaluateInteractionItems(t,n,e,p),f}function getNearestItems(t,e,n,o,l,u){return!u&&!t.isPointInArea(e)?[]:n==="r"&&!o?getNearestRadialItems(t,e,n,l):getNearestCartesianItems(t,e,n,o,l,u)}function getAxisItems(t,e,n,o,l){const u=[],f=n==="x"?"inXRange":"inYRange";let h=!1;return evaluateInteractionItems(t,n,e,(d,p,m)=>{d[f]&&d[f](e[n],l)&&(u.push({element:d,datasetIndex:p,index:m}),h=h||d.inRange(e.x,e.y,l))}),o&&!h?[]:u}var Interaction={modes:{index(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"x",f=n.includeInvisible||!1,h=n.intersect?getIntersectItems(t,l,u,o,f):getNearestItems(t,l,u,!1,o,f),d=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const m=h[0].index,v=p.data[m];v&&!v.skip&&d.push({element:v,datasetIndex:p.index,index:m})}),d):[]},dataset(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;let h=n.intersect?getIntersectItems(t,l,u,o,f):getNearestItems(t,l,u,!1,o,f);if(h.length>0){const d=h[0].datasetIndex,p=t.getDatasetMeta(d).data;h=[];for(let m=0;m<p.length;++m)h.push({element:p[m],datasetIndex:d,index:m})}return h},point(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;return getIntersectItems(t,l,u,o,f)},nearest(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;return getNearestItems(t,l,u,n.intersect,o,f)},x(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"x",n.intersect,o)},y(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"y",n.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(n=>n.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(n=>STATIC_POSITIONS.indexOf(n.pos)===-1&&n.box.axis===e)}function sortByWeight(t,e){return t.sort((n,o)=>{const l=e?o:n,u=e?n:o;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function wrapBoxes(t){const e=[];let n,o,l,u,f,h;for(n=0,o=(t||[]).length;n<o;++n)l=t[n],{position:u,options:{stack:f,stackWeight:h=1}}=l,e.push({index:n,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:f&&u+f,stackWeight:h});return e}function buildStacks(t){const e={};for(const n of t){const{stack:o,pos:l,stackWeight:u}=n;if(!o||!STATIC_POSITIONS.includes(l))continue;const f=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=u}return e}function setLayoutDims(t,e){const n=buildStacks(t),{vBoxMaxWidth:o,hBoxMaxHeight:l}=e;let u,f,h;for(u=0,f=t.length;u<f;++u){h=t[u];const{fullSize:d}=h.box,p=n[h.stack],m=p&&h.stackWeight/p.weight;h.horizontal?(h.width=m?m*o:d&&e.availableWidth,h.height=l):(h.width=o,h.height=m?m*l:d&&e.availableHeight)}return n}function buildLayoutBoxes(t){const e=wrapBoxes(t),n=sortByWeight(e.filter(p=>p.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),l=sortByWeight(filterByPosition(e,"right")),u=sortByWeight(filterByPosition(e,"top"),!0),f=sortByWeight(filterByPosition(e,"bottom")),h=filterDynamicPositionByAxis(e,"x"),d=filterDynamicPositionByAxis(e,"y");return{fullSize:n,leftAndTop:o.concat(u),rightAndBottom:l.concat(d).concat(f).concat(h),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(l).concat(d),horizontal:u.concat(f).concat(h)}}function getCombinedMax(t,e,n,o){return Math.max(t[n],e[n])+Math.max(t[o],e[o])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,n,o){const{pos:l,box:u}=n,f=t.maxPadding;if(!isObject$1(l)){n.size&&(t[l]-=n.size);const v=o[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?u.height:u.width),n.size=v.size/v.count,t[l]+=n.size}u.getPadding&&updateMaxPadding(f,u.getPadding());const h=Math.max(0,e.outerWidth-getCombinedMax(f,t,"left","right")),d=Math.max(0,e.outerHeight-getCombinedMax(f,t,"top","bottom")),p=h!==t.w,m=d!==t.h;return t.w=h,t.h=d,n.horizontal?{same:p,other:m}:{same:m,other:p}}function handleMaxPadding(t){const e=t.maxPadding;function n(o){const l=Math.max(e[o]-t[o],0);return t[o]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function getMargins(t,e){const n=e.maxPadding;function o(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(f=>{u[f]=Math.max(e[f],n[f])}),u}return o(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,n,o){const l=[];let u,f,h,d,p,m;for(u=0,f=t.length,p=0;u<f;++u){h=t[u],d=h.box,d.update(h.width||e.w,h.height||e.h,getMargins(h.horizontal,e));const{same:v,other:_}=updateDims(e,n,h,o);p|=v&&l.length,m=m||_,d.fullSize||l.push(h)}return p&&fitBoxes(l,e,n,o)||m}function setBoxDims(t,e,n,o,l){t.top=n,t.left=e,t.right=e+o,t.bottom=n+l,t.width=o,t.height=l}function placeBoxes(t,e,n,o){const l=n.padding;let{x:u,y:f}=e;for(const h of t){const d=h.box,p=o[h.stack]||{placed:0,weight:1},m=h.stackWeight/p.weight||1;if(h.horizontal){const v=e.w*m,_=p.size||d.height;defined$1(p.start)&&(f=p.start),d.fullSize?setBoxDims(d,l.left,f,n.outerWidth-l.right-l.left,_):setBoxDims(d,e.left+p.placed,f,v,_),p.start=f,p.placed+=v,f=d.bottom}else{const v=e.h*m,_=p.size||d.width;defined$1(p.start)&&(u=p.start),d.fullSize?setBoxDims(d,u,l.top,_,n.outerHeight-l.bottom-l.top):setBoxDims(d,u,e.top+p.placed,_,v),p.start=u,p.placed+=v,u=d.right}}e.x=u,e.y=f}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,o){if(!t)return;const l=toPadding(t.options.layout.padding),u=Math.max(e-l.width,0),f=Math.max(n-l.height,0),h=buildLayoutBoxes(t.boxes),d=h.vertical,p=h.horizontal;each(t.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const m=d.reduce((A,w)=>w.box.options&&w.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:u,availableHeight:f,vBoxMaxWidth:u/2/m,hBoxMaxHeight:f/2}),_=Object.assign({},l);updateMaxPadding(_,toPadding(o));const S=Object.assign({maxPadding:_,w:u,h:f,x:l.left,y:l.top},l),M=setLayoutDims(d.concat(p),v);fitBoxes(h.fullSize,S,v,M),fitBoxes(d,S,v,M),fitBoxes(p,S,v,M)&&fitBoxes(d,S,v,M),handleMaxPadding(S),placeBoxes(h.leftAndTop,S,v,M),S.x+=S.w,S.y+=S.h,placeBoxes(h.rightAndBottom,S,v,M),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},each(h.chartArea,A=>{const w=A.box;Object.assign(w,t.chartArea),w.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,o){}removeEventListener(e,n,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,o,l){return n=Math.max(0,n||e.width),o=o||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const n=t.style,o=t.getAttribute("height"),l=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:o,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(l)){const u=readUsedSize(t,"width");u!==void 0&&(t.width=u)}if(isNullOrEmpty(o))if(t.style.height==="")t.height=t.width/(e||2);else{const u=readUsedSize(t,"height");u!==void 0&&(t.height=u)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,n){t&&t.addEventListener(e,n,eventListenerOptions)}function removeListener(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,eventListenerOptions)}function fromNativeEvent(t,e){const n=EVENT_TYPES[t.type]||t.type,{x:o,y:l}=getRelativePosition(t,e);return{type:n,chart:e,native:t,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function createAttachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let f=!1;for(const h of u)f=f||nodeListContains(h.addedNodes,o),f=f&&!nodeListContains(h.removedNodes,o);f&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let f=!1;for(const h of u)f=f||nodeListContains(h.removedNodes,o),f=f&&!nodeListContains(h.addedNodes,o);f&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,n){const o=t.canvas,l=o&&_getParentNode(o);if(!l)return;const u=throttled((h,d)=>{const p=l.clientWidth;n(h,d),p<l.clientWidth&&n()},window),f=new ResizeObserver(h=>{const d=h[0],p=d.contentRect.width,m=d.contentRect.height;p===0&&m===0||u(p,m)});return f.observe(l),listenDevicePixelRatioChanges(t,u),f}function releaseObserver(t,e,n){n&&n.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,n){const o=t.canvas,l=throttled(u=>{t.ctx!==null&&n(fromNativeEvent(u,t))},t);return addListener(o,e,l),l}class DomPlatform extends BasePlatform{acquireContext(e,n){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,n),o):null}releaseContext(e){const n=e.canvas;if(!n[EXPANDO_KEY])return!1;const o=n[EXPANDO_KEY].initial;["height","width"].forEach(u=>{const f=o[u];isNullOrUndef(f)?n.removeAttribute(u):n.setAttribute(u,f)});const l=o.style||{};return Object.keys(l).forEach(u=>{n.style[u]=l[u]}),n.width=n.width,delete n[EXPANDO_KEY],!0}addEventListener(e,n,o){this.removeEventListener(e,n);const l=e.$proxies||(e.$proxies={}),f={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[n]||createProxyAndListen;l[n]=f(e,n,o)}removeEventListener(e,n){const o=e.$proxies||(e.$proxies={}),l=o[n];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[n]||removeListener)(e,n,l),o[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,o,l){return getMaximumSize(e,n,o,l)}isAttached(e){const n=e&&_getParentNode(e);return!!(n&&n.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var au;let Element$1=(au=class{constructor(){cn(this,"x");cn(this,"y");cn(this,"active",!1);cn(this,"options");cn(this,"$animations")}tooltipPosition(e){const{x:n,y:o}=this.getProps(["x","y"],e);return{x:n,y:o}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(e,n){const o=this.$animations;if(!n||!o)return this;const l={};return e.forEach(u=>{l[u]=o[u]&&o[u].active()?o[u]._to:this[u]}),l}},cn(au,"defaults",{}),cn(au,"defaultRoutes"),au);function autoSkip(t,e){const n=t.options.ticks,o=determineMaxTicks(t),l=Math.min(n.maxTicksLimit||o,o),u=n.major.enabled?getMajorIndices(e):[],f=u.length,h=u[0],d=u[f-1],p=[];if(f>l)return skipMajors(e,p,u,f/l),p;const m=calculateSpacing(u,e,l);if(f>0){let v,_;const S=f>1?Math.round((d-h)/(f-1)):null;for(skip(e,p,m,isNullOrUndef(S)?0:h-S,h),v=0,_=f-1;v<_;v++)skip(e,p,m,u[v],u[v+1]);return skip(e,p,m,d,isNullOrUndef(S)?e.length:d+S),p}return skip(e,p,m),p}function determineMaxTicks(t){const e=t.options.offset,n=t._tickSize(),o=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(o,l))}function calculateSpacing(t,e,n){const o=getEvenSpacing(t),l=e.length/n;if(!o)return Math.max(l,1);const u=_factorize(o);for(let f=0,h=u.length-1;f<h;f++){const d=u[f];if(d>l)return d}return Math.max(l,1)}function getMajorIndices(t){const e=[];let n,o;for(n=0,o=t.length;n<o;n++)t[n].major&&e.push(n);return e}function skipMajors(t,e,n,o){let l=0,u=n[0],f;for(o=Math.ceil(o),f=0;f<t.length;f++)f===u&&(e.push(t[f]),l++,u=n[l*o])}function skip(t,e,n,o,l){const u=valueOrDefault(o,0),f=Math.min(valueOrDefault(l,t.length),t.length);let h=0,d,p,m;for(n=Math.ceil(n),l&&(d=l-o,n=d/Math.floor(d/n)),m=u;m<0;)h++,m=Math.round(u+h*n);for(p=Math.max(u,0);p<f;p++)p===m&&(e.push(t[p]),h++,m=Math.round(u+h*n))}function getEvenSpacing(t){const e=t.length;let n,o;if(e<2)return!1;for(o=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==o)return!1;return o}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const n=[],o=t.length/e,l=t.length;let u=0;for(;u<l;u+=o)n.push(t[Math.floor(u)]);return n}function getPixelForGridLine(t,e,n){const o=t.ticks.length,l=Math.min(e,o-1),u=t._startPixel,f=t._endPixel,h=1e-6;let d=t.getPixelForTick(l),p;if(!(n&&(o===1?p=Math.max(d-u,f-d):e===0?p=(t.getPixelForTick(1)-d)/2:p=(d-t.getPixelForTick(l-1))/2,d+=l<e?p:-p,d<u-h||d>f+h)))return d}function garbageCollect(t,e){each(t,n=>{const o=n.gc,l=o.length/2;let u;if(l>e){for(u=0;u<l;++u)delete n.data[o[u]];o.splice(0,l)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const n=toFont(t.font,e),o=toPadding(t.padding);return(isArray$1(t.text)?t.text.length:1)*n.lineHeight+o.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,n){return createContext(t,{tick:n,index:e,type:"tick"})}function titleAlign(t,e,n){let o=_toLeftRightCenter(t);return(n&&e!=="right"||!n&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(t,e,n,o){const{top:l,left:u,bottom:f,right:h,chart:d}=t,{chartArea:p,scales:m}=d;let v=0,_,S,M;const A=f-l,w=h-u;if(t.isHorizontal()){if(S=_alignStartEnd(o,u,h),isObject$1(n)){const C=Object.keys(n)[0],O=n[C];M=m[C].getPixelForValue(O)+A-e}else n==="center"?M=(p.bottom+p.top)/2+A-e:M=offsetFromEdge(t,n,e);_=h-u}else{if(isObject$1(n)){const C=Object.keys(n)[0],O=n[C];S=m[C].getPixelForValue(O)-w+e}else n==="center"?S=(p.left+p.right)/2-w+e:S=offsetFromEdge(t,n,e);M=_alignStartEnd(o,f,l),v=n==="left"?-HALF_PI:HALF_PI}return{titleX:S,titleY:M,maxWidth:_,rotation:v}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:o,_suggestedMax:l}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),n=finiteOrDefault(n,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(n,l),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(n)}}getMinMax(e){let{min:n,max:o,minDefined:l,maxDefined:u}=this.getUserBounds(),f;if(l&&u)return{min:n,max:o};const h=this.getMatchingVisibleMetas();for(let d=0,p=h.length;d<p;++d)f=h[d].controller.getMinMax(this,e),l||(n=Math.min(n,f.min)),u||(o=Math.max(o,f.max));return n=u&&n>o?o:n,o=l&&n>o?n:o,{min:finiteOrDefault(n,finiteOrDefault(o,n)),max:finiteOrDefault(o,finiteOrDefault(n,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,n,o){const{beginAtZero:l,grace:u,ticks:f}=this.options,h=f.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?sample(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||f.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,o;this.isHorizontal()?(n=this.left,o=this.right):(n=this.top,o=this.bottom,e=!e),this._startPixel=n,this._endPixel=o,this._reversePixels=e,this._length=o-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let o,l,u;for(o=0,l=e.length;o<l;o++)u=e[o],u.label=callback(n.callback,[u.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,o=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,u=n.maxRotation;let f=l,h,d,p;if(!this._isVisible()||!n.display||l>=u||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),v=m.widest.width,_=m.highest.height,S=_limitValue(this.chart.width-v,0,this.maxWidth);h=e.offset?this.maxWidth/o:S/(o-1),v+6>h&&(h=S/(o-(e.offset?.5:1)),d=this.maxHeight-getTickMarkLength(e.grid)-n.padding-getTitleHeight(e.title,this.chart.options.font),p=Math.sqrt(v*v+_*_),f=toDegrees(Math.min(Math.asin(_limitValue((m.highest.height+6)/h,-1,1)),Math.asin(_limitValue(d/p,-1,1))-Math.asin(_limitValue(_/p,-1,1)))),f=Math.max(l,Math.min(u,f))),this.labelRotation=f}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:o,title:l,grid:u}}=this,f=this._isVisible(),h=this.isHorizontal();if(f){const d=getTitleHeight(l,n.options.font);if(h?(e.width=this.maxWidth,e.height=getTickMarkLength(u)+d):(e.height=this.maxHeight,e.width=getTickMarkLength(u)+d),o.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:_}=this._getLabelSizes(),S=o.padding*2,M=toRadians(this.labelRotation),A=Math.cos(M),w=Math.sin(M);if(h){const C=o.mirror?0:w*v.width+A*_.height;e.height=Math.min(this.maxHeight,e.height+C+S)}else{const C=o.mirror?0:A*v.width+w*_.height;e.width=Math.min(this.maxWidth,e.width+C+S)}this._calculatePadding(p,m,w,A)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,o,l){const{ticks:{align:u,padding:f},position:h}=this.options,d=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,S=0;d?p?(_=l*e.width,S=o*n.height):(_=o*e.height,S=l*n.width):u==="start"?S=n.width:u==="end"?_=e.width:u!=="inner"&&(_=e.width/2,S=n.width/2),this.paddingLeft=Math.max((_-m+f)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-v+f)*this.width/(this.width-v),0)}else{let m=n.height/2,v=e.height/2;u==="start"?(m=0,v=e.height):u==="end"&&(m=n.height,v=0),this.paddingTop=m+f,this.paddingBottom=v+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,o;for(n=0,o=e.length;n<o;n++)isNullOrUndef(e[n].label)&&(e.splice(n,1),o--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let o=this.ticks;n<o.length&&(o=sample(o,n)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,o){const{ctx:l,_longestTextCache:u}=this,f=[],h=[],d=Math.floor(n/getTicksLimit(n,o));let p=0,m=0,v,_,S,M,A,w,C,O,L,F,$;for(v=0;v<n;v+=d){if(M=e[v].label,A=this._resolveTickFontOptions(v),l.font=w=A.string,C=u[w]=u[w]||{data:{},gc:[]},O=A.lineHeight,L=F=0,!isNullOrUndef(M)&&!isArray$1(M))L=_measureText(l,C.data,C.gc,L,M),F=O;else if(isArray$1(M))for(_=0,S=M.length;_<S;++_)$=M[_],!isNullOrUndef($)&&!isArray$1($)&&(L=_measureText(l,C.data,C.gc,L,$),F+=O);f.push(L),h.push(F),p=Math.max(L,p),m=Math.max(F,m)}garbageCollect(u,n);const B=f.indexOf(p),U=h.indexOf(m),q=Z=>({width:f[Z]||0,height:h[Z]||0});return{first:q(0),last:q(n-1),widest:q(B),highest:q(U),widths:f,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const o=n[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=toRadians(this.labelRotation),o=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),u=this._getLabelSizes(),f=e.autoSkipPadding||0,h=u?u.widest.width+f:0,d=u?u.highest.height+f:0;return this.isHorizontal()?d*o>h*l?h/o:d/l:d*l<h*o?d/o:h/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,o=this.chart,l=this.options,{grid:u,position:f,border:h}=l,d=u.offset,p=this.isHorizontal(),v=this.ticks.length+(d?1:0),_=getTickMarkLength(u),S=[],M=h.setContext(this.getContext()),A=M.display?M.width:0,w=A/2,C=function(fe){return _alignPixel(o,fe,A)};let O,L,F,$,B,U,q,Z,G,H,ne,ae;if(f==="top")O=C(this.bottom),U=this.bottom-_,Z=O-w,H=C(e.top)+w,ae=e.bottom;else if(f==="bottom")O=C(this.top),H=e.top,ae=C(e.bottom)-w,U=O+w,Z=this.top+_;else if(f==="left")O=C(this.right),B=this.right-_,q=O-w,G=C(e.left)+w,ne=e.right;else if(f==="right")O=C(this.left),G=e.left,ne=C(e.right)-w,B=O+w,q=this.left+_;else if(n==="x"){if(f==="center")O=C((e.top+e.bottom)/2+.5);else if(isObject$1(f)){const fe=Object.keys(f)[0],ye=f[fe];O=C(this.chart.scales[fe].getPixelForValue(ye))}H=e.top,ae=e.bottom,U=O+w,Z=U+_}else if(n==="y"){if(f==="center")O=C((e.left+e.right)/2);else if(isObject$1(f)){const fe=Object.keys(f)[0],ye=f[fe];O=C(this.chart.scales[fe].getPixelForValue(ye))}B=O-w,q=B-_,G=e.left,ne=e.right}const te=valueOrDefault(l.ticks.maxTicksLimit,v),ce=Math.max(1,Math.ceil(v/te));for(L=0;L<v;L+=ce){const fe=this.getContext(L),ye=u.setContext(fe),J=h.setContext(fe),oe=ye.lineWidth,se=ye.color,Q=J.dash||[],ue=J.dashOffset,_e=ye.tickWidth,ge=ye.tickColor,ve=ye.tickBorderDash||[],we=ye.tickBorderDashOffset;F=getPixelForGridLine(this,L,d),F!==void 0&&($=_alignPixel(o,F,oe),p?B=q=G=ne=$:U=Z=H=ae=$,S.push({tx1:B,ty1:U,tx2:q,ty2:Z,x1:G,y1:H,x2:ne,y2:ae,width:oe,color:se,borderDash:Q,borderDashOffset:ue,tickWidth:_e,tickColor:ge,tickBorderDash:ve,tickBorderDashOffset:we}))}return this._ticksLength=v,this._borderValue=O,S}_computeLabelItems(e){const n=this.axis,o=this.options,{position:l,ticks:u}=o,f=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:p,padding:m,mirror:v}=u,_=getTickMarkLength(o.grid),S=_+m,M=v?-m:S,A=-toRadians(this.labelRotation),w=[];let C,O,L,F,$,B,U,q,Z,G,H,ne,ae="middle";if(l==="top")B=this.bottom-M,U=this._getXAxisLabelAlignment();else if(l==="bottom")B=this.top+M,U=this._getXAxisLabelAlignment();else if(l==="left"){const ce=this._getYAxisLabelAlignment(_);U=ce.textAlign,$=ce.x}else if(l==="right"){const ce=this._getYAxisLabelAlignment(_);U=ce.textAlign,$=ce.x}else if(n==="x"){if(l==="center")B=(e.top+e.bottom)/2+S;else if(isObject$1(l)){const ce=Object.keys(l)[0],fe=l[ce];B=this.chart.scales[ce].getPixelForValue(fe)+S}U=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")$=(e.left+e.right)/2-S;else if(isObject$1(l)){const ce=Object.keys(l)[0],fe=l[ce];$=this.chart.scales[ce].getPixelForValue(fe)}U=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(d==="start"?ae="top":d==="end"&&(ae="bottom"));const te=this._getLabelSizes();for(C=0,O=h.length;C<O;++C){L=h[C],F=L.label;const ce=u.setContext(this.getContext(C));q=this.getPixelForTick(C)+u.labelOffset,Z=this._resolveTickFontOptions(C),G=Z.lineHeight,H=isArray$1(F)?F.length:1;const fe=H/2,ye=ce.color,J=ce.textStrokeColor,oe=ce.textStrokeWidth;let se=U;f?($=q,U==="inner"&&(C===O-1?se=this.options.reverse?"left":"right":C===0?se=this.options.reverse?"right":"left":se="center"),l==="top"?p==="near"||A!==0?ne=-H*G+G/2:p==="center"?ne=-te.highest.height/2-fe*G+G:ne=-te.highest.height+G/2:p==="near"||A!==0?ne=G/2:p==="center"?ne=te.highest.height/2-fe*G:ne=te.highest.height-H*G,v&&(ne*=-1),A!==0&&!ce.showLabelBackdrop&&($+=G/2*Math.sin(A))):(B=q,ne=(1-H)*G/2);let Q;if(ce.showLabelBackdrop){const ue=toPadding(ce.backdropPadding),_e=te.heights[C],ge=te.widths[C];let ve=ne-ue.top,we=0-ue.left;switch(ae){case"middle":ve-=_e/2;break;case"bottom":ve-=_e;break}switch(U){case"center":we-=ge/2;break;case"right":we-=ge;break;case"inner":C===O-1?we-=ge:C>0&&(we-=ge/2);break}Q={left:we,top:ve,width:ge+ue.width,height:_e+ue.height,color:ce.backdropColor}}w.push({label:F,font:Z,textOffset:ne,options:{rotation:A,color:ye,strokeColor:J,strokeWidth:oe,textAlign:se,textBaseline:ae,translation:[$,B],backdrop:Q}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:o,mirror:l,padding:u}}=this.options,f=this._getLabelSizes(),h=e+u,d=f.widest.width;let p,m;return n==="left"?l?(m=this.right+u,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m+=d)):(m=this.right-h,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m=this.left)):n==="right"?l?(m=this.left+u,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m-=d)):(m=this.left+h,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:o,top:l,width:u,height:f}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(o,l,u,f),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(u=>u.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const n=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,f;const h=(d,p,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(p.x,p.y),o.stroke(),o.restore())};if(n.display)for(u=0,f=l.length;u<f;++u){const d=l[u];n.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:o,grid:l}}=this,u=o.setContext(this.getContext()),f=o.display?u.width:0;if(!f)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,m,v,_;this.isHorizontal()?(p=_alignPixel(e,this.left,f)-f/2,m=_alignPixel(e,this.right,h)+h/2,v=_=d):(v=_alignPixel(e,this.top,f)-f/2,_=_alignPixel(e,this.bottom,h)+h/2,p=m=d),n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.beginPath(),n.moveTo(p,v),n.lineTo(m,_),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const u=this.getLabelItems(e);for(const f of u){const h=f.options,d=f.font,p=f.label,m=f.textOffset;renderText(o,p,0,m,d,h)}l&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:n,title:o,reverse:l}}=this;if(!o.display)return;const u=toFont(o.font),f=toPadding(o.padding),h=o.align;let d=u.lineHeight/2;n==="bottom"||n==="center"||isObject$1(n)?(d+=f.bottom,isArray$1(o.text)&&(d+=u.lineHeight*(o.text.length-1))):d+=f.top;const{titleX:p,titleY:m,maxWidth:v,rotation:_}=titleArgs(this,d,n,h);renderText(e,o.text,0,0,u,{color:o.color,maxWidth:v,rotation:_,textAlign:titleAlign(h,n,l),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1),l=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:n,draw:u=>{this.draw(u)}}]:[{z:o,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let u,f;for(u=0,f=n.length;u<f;++u){const h=n[u];h[o]===this.id&&(!e||h.type===e)&&l.push(h)}return l}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return toFont(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,n,o){this.type=e,this.scope=n,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let o;isIChartComponent(n)&&(o=this.register(n));const l=this.items,u=e.id,f=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in l||(l[u]=e,registerDefaults(e,f,o),this.override&&defaults$1.override(e.id,e.overrides)),f}get(e){return this.items[e]}unregister(e){const n=this.items,o=e.id,l=this.scope;o in n&&delete n[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(t,e,n){const o=merge(Object.create(null),[n?defaults$1.get(n):{},defaults$1.get(e),t.defaults]);defaults$1.set(e,o),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults$1.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(n=>{const o=n.split("."),l=o.pop(),u=[t].concat(o).join("."),f=e[n].split("."),h=f.pop(),d=f.join(".");defaults$1.route(u,l,d,h)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,o){[...n].forEach(l=>{const u=o||this._getRegistryForType(l);o||u.isForType(l)||u===this.plugins&&l.id?this._exec(e,u,l):each(l,f=>{const h=o||this._getRegistryForType(f);this._exec(e,h,f)})})}_exec(e,n,o){const l=_capitalize(e);callback(o["before"+l],[],o),n[e](o),callback(o["after"+l],[],o)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const o=this._typedRegistries[n];if(o.isForType(e))return o}return this.plugins}_get(e,n,o){const l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,n,o,l){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const u=l?this._descriptors(e).filter(l):this._descriptors(e),f=this._notify(u,e,n,o);return n==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall")),f}_notify(e,n,o,l){l=l||{};for(const u of e){const f=u.plugin,h=f[o],d=[n,l,u.options];if(callback(h,d,f)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const o=e&&e.config,l=valueOrDefault(o.options&&o.options.plugins,{}),u=allPlugins(o);return l===!1&&!n?[]:createDescriptors(e,u,l,n)}_notifyStateChanges(e){const n=this._oldCache||[],o=this._cache,l=(u,f)=>u.filter(h=>!f.some(d=>h.plugin.id===d.plugin.id));this._notify(l(n,o),e,"stop"),this._notify(l(o,n),e,"start")}}function allPlugins(t){const e={},n=[],o=Object.keys(registry.plugins.items);for(let u=0;u<o.length;u++)n.push(registry.getPlugin(o[u]));const l=t.plugins||[];for(let u=0;u<l.length;u++){const f=l[u];n.indexOf(f)===-1&&(n.push(f),e[f.id]=!0)}return{plugins:n,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:n},o,l){const u=[],f=t.getContext();for(const h of e){const d=h.id,p=getOpts(o[d],l);p!==null&&u.push({plugin:h,options:pluginOpts(t.config,{plugin:h,local:n[d]},p,f)})}return u}function pluginOpts(t,{plugin:e,local:n},o,l){const u=t.pluginScopeKeys(e),f=t.getOptionScopes(o,u);return n&&e.defaults&&f.push(e.defaults),t.createResolver(f,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const n=defaults$1.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const n of e){const o=n.axis||axisFromPosition(n.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(o=>o.xAxisID===t||o.yAxisID===t);if(n.length)return getAxisFromDataset(t,"x",n[0])||getAxisFromDataset(t,"y",n[0])}return{}}function mergeScaleConfig(t,e){const n=overrides[t.type]||{scales:{}},o=e.scales||{},l=getIndexAxis(t.type,e),u=Object.create(null);return Object.keys(o).forEach(f=>{const h=o[f];if(!isObject$1(h))return console.error(`Invalid scale configuration for scale: ${f}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const d=determineAxis(f,h,retrieveAxisFromDatasets(f,t),defaults$1.scales[h.type]),p=getDefaultScaleIDFromAxis(d,l),m=n.scales||{};u[f]=mergeIf(Object.create(null),[{axis:d},h,m[d],m[p]])}),t.data.datasets.forEach(f=>{const h=f.type||t.type,d=f.indexAxis||getIndexAxis(h,e),m=(overrides[h]||{}).scales||{};Object.keys(m).forEach(v=>{const _=getAxisFromDefaultScaleID(v,d),S=f[_+"AxisID"]||_;u[S]=u[S]||Object.create(null),mergeIf(u[S],[{axis:_},o[S],m[v]])})}),Object.keys(u).forEach(f=>{const h=u[f];mergeIf(h,[defaults$1.scales[h.type],defaults$1.scale])}),u}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let n=keyCache.get(t);return n||(n=e(),keyCache.set(t,n),keysCached.add(n)),n}const addIfFound=(t,e,n)=>{const o=resolveObjectKey(e,n);o!==void 0&&t.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cachedKeys(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cachedKeys(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,o=this.type;return cachedKeys(`${o}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const o=this._scopeCache;let l=o.get(e);return(!l||n)&&(l=new Map,o.set(e,l)),l}getOptionScopes(e,n,o){const{options:l,type:u}=this,f=this._cachedScopes(e,o),h=f.get(n);if(h)return h;const d=new Set;n.forEach(m=>{e&&(d.add(e),m.forEach(v=>addIfFound(d,e,v))),m.forEach(v=>addIfFound(d,l,v)),m.forEach(v=>addIfFound(d,overrides[u]||{},v)),m.forEach(v=>addIfFound(d,defaults$1,v)),m.forEach(v=>addIfFound(d,descriptors,v))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),keysCached.has(n)&&f.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,overrides[n]||{},defaults$1.datasets[n]||{},{type:n},defaults$1,descriptors]}resolveNamedOptions(e,n,o,l=[""]){const u={$shared:!0},{resolver:f,subPrefixes:h}=getResolver(this._resolverCache,e,l);let d=f;if(needContext(f,n)){u.$shared=!1,o=isFunction$1(o)?o():o;const p=this.createResolver(e,o,h);d=_attachContext(f,o,p)}for(const p of n)u[p]=d[p];return u}createResolver(e,n,o=[""],l){const{resolver:u}=getResolver(this._resolverCache,e,o);return isObject$1(n)?_attachContext(u,n,void 0,l):u}}function getResolver(t,e,n){let o=t.get(e);o||(o=new Map,t.set(e,o));const l=n.join();let u=o.get(l);return u||(u={resolver:_createResolver(e,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},o.set(l,u)),u}const hasFunction=t=>isObject$1(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction$1(t[e]));function needContext(t,e){const{isScriptable:n,isIndexable:o}=_descriptors(t);for(const l of e){const u=n(l),f=o(l),h=(f||u)&&t[l];if(u&&(isFunction$1(h)||hasFunction(h))||f&&isArray$1(h))return!0}return!1}var version="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(n,o){return n[t]===o[t]?n[e]-o[e]:n[t]-o[t]}}function onAnimationsComplete(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),callback(n&&n.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,n=e.options.animation;callback(n&&n.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(n=>n.canvas===e).pop()};function moveNumericKeys(t,e,n){const o=Object.keys(t);for(const l of o){const u=+l;if(u>=e){const f=t[l];delete t[l],(n>0||u>e)&&(t[u+n]=f)}}}function determineLastEvent(t,e,n,o){return!n||t.type==="mouseout"?null:o?e:t}var Jo;let Chart$1=(Jo=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,n){const o=this.config=new Config(n),l=getCanvas(e),u=getChart(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const f=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const h=this.platform.acquireContext(l,f.aspectRatio),d=h&&h.canvas,p=d&&d.height,m=d&&d.width;if(this.id=uid(),this.ctx=h,this.canvas=d,this.width=m,this.height=p,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(v=>this.update(v),f.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:o,height:l,_aspectRatio:u}=this;return isNullOrUndef(e)?n&&u?u:l?o/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,n){animator.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const o=this.options,l=this.canvas,u=o.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(l,e,n,u),h=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,retinaScale(this,h,!0)&&(this.notifyPlugins("resize",{size:f}),callback(o.onResize,[this,f],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};each(n,(o,l)=>{o.id=l})}buildOrUpdateScales(){const e=this.options,n=e.scales,o=this.scales,l=Object.keys(o).reduce((f,h)=>(f[h]=!1,f),{});let u=[];n&&(u=u.concat(Object.keys(n).map(f=>{const h=n[f],d=determineAxis(f,h),p=d==="r",m=d==="x";return{options:h,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),each(u,f=>{const h=f.options,d=h.id,p=determineAxis(d,h),m=valueOrDefault(h.type,f.dtype);(h.position===void 0||positionIsHorizontal(h.position,p)!==positionIsHorizontal(f.dposition))&&(h.position=f.dposition),l[d]=!0;let v=null;if(d in o&&o[d].type===m)v=o[d];else{const _=registry.getScale(m);v=new _({id:d,type:m,ctx:this.ctx,chart:this}),o[v.id]=v}v.init(h,e)}),each(l,(f,h)=>{f||delete o[h]}),each(o,f=>{layouts.configure(this,f,f.options),layouts.addBox(this,f)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,o=e.length;if(e.sort((l,u)=>l.index-u.index),o>n){for(let l=n;l<o;++l)this._destroyDatasetMeta(l);e.splice(n,o-n)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((o,l)=>{n.filter(u=>u===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=n.length;o<l;o++){const u=n[o];let f=this.getDatasetMeta(o);const h=u.type||this.config.type;if(f.type&&f.type!==h&&(this._destroyDatasetMeta(o),f=this.getDatasetMeta(o)),f.type=h,f.indexAxis=u.indexAxis||getIndexAxis(h,this.options),f.order=u.order||0,f.index=o,f.label=""+u.label,f.visible=this.isDatasetVisible(o),f.controller)f.controller.updateIndex(o),f.controller.linkScales();else{const d=registry.getController(h),{datasetElementType:p,dataElementType:m}=defaults$1.datasets[h];Object.assign(d,{dataElementType:registry.getElement(m),datasetElementType:p&&registry.getElement(p)}),f.controller=new d(this,o),e.push(f.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const o=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),_=!l&&u.indexOf(v)===-1;v.buildOrUpdateElements(_),f=Math.max(+v.getMaxOverflow(),f)}f=this._minPadding=o.layout.autoPadding?f:0,this._updateLayout(f),l||each(u,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(n,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:u}of n){const f=o==="_removeElements"?-u:u;moveNumericKeys(e,l,f)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,o=u=>new Set(e.filter(f=>f[0]===u).map((f,h)=>h+","+f.splice(1).join(","))),l=o(0);for(let u=1;u<n;u++)if(!setsEqual(l,o(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const n=this.chartArea,o=n.width<=0||n.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,o=this.data.datasets.length;n<o;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,o=this.data.datasets.length;n<o;++n)this._updateDataset(n,isFunction$1(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const o=this.getDatasetMeta(e),l={meta:o,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,o=[];let l,u;for(l=0,u=n.length;l<u;++l){const f=n[l];(!e||f.visible)&&o.push(f)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,o={meta:e,index:e.index,cancelable:!0},l=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(l&&clipArea(n,l),e.controller.draw(),l&&unclipArea(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,o,l){const u=Interaction.modes[n];return typeof u=="function"?u(this,e,o,l):[]}getDatasetMeta(e){const n=this.data.datasets[e],o=this._metasets;let l=o.filter(u=>u&&u._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!n.hidden}setDatasetVisibility(e,n){const o=this.getDatasetMeta(e);o.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,o){const l=o?"show":"hide",u=this.getDatasetMeta(e),f=u.controller._resolveAnimations(void 0,l);defined$1(n)?(u.data[n].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),f.update(u,{visible:o}),this.update(h=>h.datasetIndex===e?l:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),animator.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,o=(u,f)=>{n.addEventListener(this,u,f),e[u]=f},l=(u,f,h)=>{u.offsetX=f,u.offsetY=h,this._eventHandler(u)};each(this.options.events,u=>o(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,o=(d,p)=>{n.addEventListener(this,d,p),e[d]=p},l=(d,p)=>{e[d]&&(n.removeEventListener(this,d,p),delete e[d])},u=(d,p)=>{this.canvas&&this.resize(d,p)};let f;const h=()=>{l("attach",h),this.attached=!0,this.resize(),o("resize",u),o("detach",f)};f=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),o("attach",h)},n.isAttached(this.canvas)?h():f()}unbindEvents(){each(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},each(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,o){const l=o?"set":"remove";let u,f,h,d;for(n==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){f=e[h];const p=f&&this.getDatasetMeta(f.datasetIndex).controller;p&&p[l+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],o=e.map(({datasetIndex:u,index:f})=>{const h=this.getDatasetMeta(u);if(!h)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:h.data[f],index:f}});!_elementsEqual(o,n)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,n))}notifyPlugins(e,n,o){return this._plugins.notify(this,e,n,o)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,o){const l=this.options.hover,u=(d,p)=>d.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),f=u(n,e),h=o?e:u(e,n);f.length&&this.updateHoverStyle(f,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(e,n){const o={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},l=f=>(f.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const u=this._handleEvent(e,n,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(u||o.changed)&&this.render(),this}_handleEvent(e,n,o){const{_active:l=[],options:u}=this,f=n,h=this._getActiveElements(e,l,o,f),d=_isClickEvent(e),p=determineLastEvent(e,this._lastEvent,o,d);o&&(this._lastEvent=null,callback(u.onHover,[e,h,this],this),d&&callback(u.onClick,[e,h,this],this));const m=!_elementsEqual(h,l);return(m||n)&&(this._active=h,this._updateHoverStyles(h,l,n)),this._lastEvent=p,m}_getActiveElements(e,n,o,l){if(e.type==="mouseout")return[];if(!o)return n;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,l)}},cn(Jo,"defaults",defaults$1),cn(Jo,"instances",instances),cn(Jo,"overrides",overrides),cn(Jo,"registry",registry),cn(Jo,"version",version),cn(Jo,"getChart",getChart),Jo);function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function setStyle(t,e,n=e){t.lineCap=valueOrDefault(n.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(n.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(n.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(n.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(n.borderColor,e.borderColor)}function lineTo(t,e,n){t.lineTo(n.x,n.y)}function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||t.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(t,e,n={}){const o=t.length,{start:l=0,end:u=o-1}=n,{start:f,end:h}=e,d=Math.max(l,f),p=Math.min(u,h),m=l<f&&u<f||l>h&&u>h;return{count:o,start:d,loop:e.loop,ilen:p<d&&!m?o+p-d:p-d}}function pathSegment(t,e,n,o){const{points:l,options:u}=e,{count:f,start:h,loop:d,ilen:p}=pathVars(l,n,o),m=getLineMethod(u);let{move:v=!0,reverse:_}=o||{},S,M,A;for(S=0;S<=p;++S)M=l[(h+(_?p-S:S))%f],!M.skip&&(v?(t.moveTo(M.x,M.y),v=!1):m(t,A,M,_,u.stepped),A=M);return d&&(M=l[(h+(_?p:0))%f],m(t,A,M,_,u.stepped)),!!d}function fastPathSegment(t,e,n,o){const l=e.points,{count:u,start:f,ilen:h}=pathVars(l,n,o),{move:d=!0,reverse:p}=o||{};let m=0,v=0,_,S,M,A,w,C;const O=F=>(f+(p?h-F:F))%u,L=()=>{A!==w&&(t.lineTo(m,w),t.lineTo(m,A),t.lineTo(m,C))};for(d&&(S=l[O(0)],t.moveTo(S.x,S.y)),_=0;_<=h;++_){if(S=l[O(_)],S.skip)continue;const F=S.x,$=S.y,B=F|0;B===M?($<A?A=$:$>w&&(w=$),m=(v*m+F)/++v):(L(),t.lineTo(F,$),M=B,v=0,A=w=$),C=$}L()}function _getSegmentMethod(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fastPathSegment:pathSegment}function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||t.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(t,e,n,o){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,o)&&l.closePath()),setStyle(t,e.options),t.stroke(l)}function strokePathDirect(t,e,n,o){const{segments:l,options:u}=e,f=_getSegmentMethod(e);for(const h of l)setStyle(t,u,h.style),t.beginPath(),f(t,e,h,{start:n,end:n+o-1})&&t.closePath(),t.stroke()}const usePath2D=typeof Path2D=="function";function draw(t,e,n,o){usePath2D&&!e.options.segment?strokePathWithCache(t,e,n,o):strokePathDirect(t,e,n,o)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,l,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,o=e.length;return o&&n[e[o-1].end]}interpolate(e,n){const o=this.options,l=e[n],u=this.points,f=_boundSegments(this,{property:n,start:l,end:l});if(!f.length)return;const h=[],d=_getInterpolationMethod(o);let p,m;for(p=0,m=f.length;p<m;++p){const{start:v,end:_}=f[p],S=u[v],M=u[_];if(S===M){h.push(S);continue}const A=Math.abs((l-S[n])/(M[n]-S[n])),w=d(S,M,A,o.stepped);w[n]=e[n],h.push(w)}return h.length===1?h[0]:h}pathSegment(e,n,o){return _getSegmentMethod(this)(e,this,n,o)}path(e,n,o){const l=this.segments,u=_getSegmentMethod(this);let f=this._loop;n=n||0,o=o||this.points.length-n;for(const h of l)f&=u(e,this,h,{start:n,end:n+o-1});return!!f}draw(e,n,o,l){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),draw(e,this,o,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}cn(LineElement,"id","line"),cn(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),cn(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),cn(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(t,e,n,o){const l=t.options,{[n]:u}=t.getProps([n],o);return Math.abs(e-u)<l.radius+l.hitRadius}class PointElement extends Element$1{constructor(n){super();cn(this,"parsed");cn(this,"skip");cn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,o,l){const u=this.options,{x:f,y:h}=this.getProps(["x","y"],l);return Math.pow(n-f,2)+Math.pow(o-h,2)<Math.pow(u.hitRadius+u.radius,2)}inXRange(n,o){return inRange$1(this,n,"x",o)}inYRange(n,o){return inRange$1(this,n,"y",o)}getCenterPoint(n){const{x:o,y:l}=this.getProps(["x","y"],n);return{x:o,y:l}}size(n){n=n||this.options||{};let o=n.radius||0;o=Math.max(o,o&&n.hoverRadius||0);const l=o&&n.borderWidth||0;return(o+l)*2}draw(n,o){const l=this.options;this.skip||l.radius<.1||!_isPointInArea(this,o,this.size(l)/2)||(n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.fillStyle=l.backgroundColor,drawPoint(n,l,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}cn(PointElement,"id","point"),cn(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),cn(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(t,e)=>{let{boxHeight:n=e,boxWidth:o=e}=t;return t.usePointStyle&&(n=Math.min(n,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(e,n)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let Legend$1=class extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,o){this.maxWidth=e,this.maxHeight=n,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(o=>e.filter(o,this.chart.data))),e.sort&&(n=n.sort((o,l)=>e.sort(o,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,l=toFont(o.font),u=l.size,f=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=getBoxSize(o,u);let p,m;n.font=l.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(f,u,h,d)+10):(m=this.maxHeight,p=this._fitCols(f,l,h,d)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,o,l){const{ctx:u,maxWidth:f,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],m=l+h;let v=e;u.textAlign="left",u.textBaseline="middle";let _=-1,S=-m;return this.legendItems.forEach((M,A)=>{const w=o+n/2+u.measureText(M.text).width;(A===0||p[p.length-1]+w+2*h>f)&&(v+=m,p[p.length-(A>0?0:1)]=0,S+=m,_++),d[A]={left:0,top:S,row:_,width:w,height:l},p[p.length-1]+=w+h}),v}_fitCols(e,n,o,l){const{ctx:u,maxHeight:f,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],m=f-e;let v=h,_=0,S=0,M=0,A=0;return this.legendItems.forEach((w,C)=>{const{itemWidth:O,itemHeight:L}=calculateItemSize(o,n,u,w,l);C>0&&S+L+2*h>m&&(v+=_+h,p.push({width:_,height:S}),M+=_+h,A++,_=S=0),d[C]={left:M,top:S,col:A,width:O,height:L},_=Math.max(_,O),S+=L+h}),v+=_,p.push({width:_,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:o,labels:{padding:l},rtl:u}}=this,f=getRtlAdapter(u,this.left,this.width);if(this.isHorizontal()){let h=0,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[h]);for(const p of n)h!==p.row&&(h=p.row,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[h])),p.top+=this.top+e+l,p.left=f.leftForLtr(f.x(d),p.width),d+=p.width+l}else{let h=0,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[h].height);for(const p of n)p.col!==h&&(h=p.col,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[h].height)),p.top=d,p.left+=this.left+l,p.left=f.leftForLtr(f.x(p.left),p.width),d+=p.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:o,ctx:l}=this,{align:u,labels:f}=e,h=defaults$1.color,d=getRtlAdapter(e.rtl,this.left,this.width),p=toFont(f.font),{padding:m}=f,v=p.size,_=v/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=p.string;const{boxWidth:M,boxHeight:A,itemHeight:w}=getBoxSize(f,v),C=function(B,U,q){if(isNaN(M)||M<=0||isNaN(A)||A<0)return;l.save();const Z=valueOrDefault(q.lineWidth,1);if(l.fillStyle=valueOrDefault(q.fillStyle,h),l.lineCap=valueOrDefault(q.lineCap,"butt"),l.lineDashOffset=valueOrDefault(q.lineDashOffset,0),l.lineJoin=valueOrDefault(q.lineJoin,"miter"),l.lineWidth=Z,l.strokeStyle=valueOrDefault(q.strokeStyle,h),l.setLineDash(valueOrDefault(q.lineDash,[])),f.usePointStyle){const G={radius:A*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:Z},H=d.xPlus(B,M/2),ne=U+_;drawPointLegend(l,G,H,ne,f.pointStyleWidth&&M)}else{const G=U+Math.max((v-A)/2,0),H=d.leftForLtr(B,M),ne=toTRBLCorners(q.borderRadius);l.beginPath(),Object.values(ne).some(ae=>ae!==0)?addRoundedRectPath(l,{x:H,y:G,w:M,h:A,radius:ne}):l.rect(H,G,M,A),l.fill(),Z!==0&&l.stroke()}l.restore()},O=function(B,U,q){renderText(l,q.text,B,U+w/2,p,{strikethrough:q.hidden,textAlign:d.textAlign(q.textAlign)})},L=this.isHorizontal(),F=this._computeTitleHeight();L?S={x:_alignStartEnd(u,this.left+m,this.right-o[0]),y:this.top+m+F,line:0}:S={x:this.left+m,y:_alignStartEnd(u,this.top+F+m,this.bottom-n[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const $=w+m;this.legendItems.forEach((B,U)=>{l.strokeStyle=B.fontColor,l.fillStyle=B.fontColor;const q=l.measureText(B.text).width,Z=d.textAlign(B.textAlign||(B.textAlign=f.textAlign)),G=M+_+q;let H=S.x,ne=S.y;d.setWidth(this.width),L?U>0&&H+G+m>this.right&&(ne=S.y+=$,S.line++,H=S.x=_alignStartEnd(u,this.left+m,this.right-o[S.line])):U>0&&ne+$>this.bottom&&(H=S.x=H+n[S.line].width+m,S.line++,ne=S.y=_alignStartEnd(u,this.top+F+m,this.bottom-n[S.line].height));const ae=d.x(H);if(C(ae,ne,B),H=_textX(Z,H+M+_,L?H+G:this.right,e.rtl),O(d.x(H),ne,B),L)S.x+=G+m;else if(typeof B.text!="string"){const te=p.lineHeight;S.y+=calculateLegendItemHeight(B,te)+m}else S.y+=$}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,o=toFont(n.font),l=toPadding(n.padding);if(!n.display)return;const u=getRtlAdapter(e.rtl,this.left,this.width),f=this.ctx,h=n.position,d=o.size/2,p=l.top+d;let m,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),m=this.top+p,v=_alignStartEnd(e.align,v,this.right-_);else{const M=this.columnSizes.reduce((A,w)=>Math.max(A,w.height),0);m=p+_alignStartEnd(e.align,this.top,this.bottom-M-e.labels.padding-this._computeTitleHeight())}const S=_alignStartEnd(h,v,v+_);f.textAlign=u.textAlign(_toLeftRightCenter(h)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=o.string,renderText(f,n.text,S,m,o)}_computeTitleHeight(){const e=this.options.title,n=toFont(e.font),o=toPadding(e.padding);return e.display?n.lineHeight+o.height:0}_getLegendItemAt(e,n){let o,l,u;if(_isBetween(e,this.left,this.right)&&_isBetween(n,this.top,this.bottom)){for(u=this.legendHitBoxes,o=0;o<u.length;++o)if(l=u[o],_isBetween(e,l.left,l.left+l.width)&&_isBetween(n,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(e){const n=this.options;if(!isListened(e.type,n))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,u=itemsEqual(l,o);l&&!u&&callback(n.onLeave,[e,l,this],this),this._hoveredItem=o,o&&!u&&callback(n.onHover,[e,o,this],this)}else o&&callback(n.onClick,[e,o,this],this)}};function calculateItemSize(t,e,n,o,l){const u=calculateItemWidth(o,t,e,n),f=calculateItemHeight(l,o,e.lineHeight);return{itemWidth:u,itemHeight:f}}function calculateItemWidth(t,e,n,o){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((u,f)=>u.length>f.length?u:f)),e+n.size/2+o.measureText(l).width}function calculateItemHeight(t,e,n){let o=t;return typeof e.text!="string"&&(o=calculateLegendItemHeight(e,n)),o}function calculateLegendItemHeight(t,e){const n=t.text?t.text.length:0;return e*n}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(t,e,n){const o=t.legend=new Legend$1({ctx:t.ctx,options:n,chart:t});layouts.configure(t,o,n),layouts.addBox(t,o)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const o=t.legend;layouts.configure(t,o,n),o.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const o=e.datasetIndex,l=n.chart;l.isDatasetVisible(o)?(l.hide(o),e.hidden=!0):(l.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:l,color:u,useBorderRadius:f,borderRadius:h}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(n?0:void 0),m=toPadding(p.borderWidth);return{text:e[d.index].label,fillStyle:p.backgroundColor,fontColor:u,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:o||p.pointStyle,rotation:p.rotation,textAlign:l||p.textAlign,borderRadius:f&&(h||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const l=isArray$1(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const u=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:o,bottom:l,right:u,options:f}=this,h=f.align;let d=0,p,m,v;return this.isHorizontal()?(m=_alignStartEnd(h,o,u),v=n+e,p=u-o):(f.position==="left"?(m=o+e,v=_alignStartEnd(h,l,n),d=PI*-.5):(m=u-e,v=_alignStartEnd(h,n,l),d=PI*.5),p=l-n),{titleX:m,titleY:v,maxWidth:p,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const o=toFont(n.font),u=o.lineHeight/2+this._padding.top,{titleX:f,titleY:h,maxWidth:d,rotation:p}=this._drawArgs(u);renderText(e,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:p,textAlign:_toLeftRightCenter(n.align),textBaseline:"middle",translation:[f,h]})}}function createTitle(t,e){const n=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,n,e),layouts.addBox(t,n),t.titleBlock=n}var plugin_title={id:"title",_element:Title,start(t,e,n){createTitle(t,n)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const o=t.titleBlock;layouts.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,n,o=new Set,l=0,u=0;for(e=0,n=t.length;e<n;++e){const h=t[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();o.add(d.x),l+=d.y,++u}}return u===0||o.size===0?!1:{x:[...o].reduce((h,d)=>h+d)/o.size,y:l/u}},nearest(t,e){if(!t.length)return!1;let n=e.x,o=e.y,l=Number.POSITIVE_INFINITY,u,f,h;for(u=0,f=t.length;u<f;++u){const d=t[u].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),m=distanceBetweenPoints$1(e,p);m<l&&(l=m,h=d)}}if(h){const d=h.tooltipPosition();n=d.x,o=d.y}return{x:n,y:o}}};function pushOrConcat(t,e){return e&&(isArray$1(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:n,datasetIndex:o,index:l}=e,u=t.getDatasetMeta(o).controller,{label:f,value:h}=u.getLabelAndValue(l);return{chart:t,label:f,parsed:u.getParsed(l),raw:t.data.datasets[o].data[l],formattedValue:h,dataset:u.getDataset(),dataIndex:l,datasetIndex:o,element:n}}function getTooltipSize(t,e){const n=t.chart.ctx,{body:o,footer:l,title:u}=t,{boxWidth:f,boxHeight:h}=e,d=toFont(e.bodyFont),p=toFont(e.titleFont),m=toFont(e.footerFont),v=u.length,_=l.length,S=o.length,M=toPadding(e.padding);let A=M.height,w=0,C=o.reduce((F,$)=>F+$.before.length+$.lines.length+$.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,v&&(A+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),C){const F=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;A+=S*F+(C-S)*d.lineHeight+(C-1)*e.bodySpacing}_&&(A+=e.footerMarginTop+_*m.lineHeight+(_-1)*e.footerSpacing);let O=0;const L=function(F){w=Math.max(w,n.measureText(F).width+O)};return n.save(),n.font=p.string,each(t.title,L),n.font=d.string,each(t.beforeBody.concat(t.afterBody),L),O=e.displayColors?f+2+e.boxPadding:0,each(o,F=>{each(F.before,L),each(F.lines,L),each(F.after,L)}),O=0,n.font=m.string,each(t.footer,L),n.restore(),w+=M.width,{width:w,height:A}}function determineYAlign(t,e){const{y:n,height:o}=e;return n<o/2?"top":n>t.height-o/2?"bottom":"center"}function doesNotFitWithAlign(t,e,n,o){const{x:l,width:u}=o,f=n.caretSize+n.caretPadding;if(t==="left"&&l+u+f>e.width||t==="right"&&l-u-f<0)return!0}function determineXAlign(t,e,n,o){const{x:l,width:u}=n,{width:f,chartArea:{left:h,right:d}}=t;let p="center";return o==="center"?p=l<=(h+d)/2?"left":"right":l<=u/2?p="left":l>=f-u/2&&(p="right"),doesNotFitWithAlign(p,t,e,n)&&(p="center"),p}function determineAlignment(t,e,n){const o=n.yAlign||e.yAlign||determineYAlign(t,n);return{xAlign:n.xAlign||e.xAlign||determineXAlign(t,e,n,o),yAlign:o}}function alignX(t,e){let{x:n,width:o}=t;return e==="right"?n-=o:e==="center"&&(n-=o/2),n}function alignY(t,e,n){let{y:o,height:l}=t;return e==="top"?o+=n:e==="bottom"?o-=l+n:o-=l/2,o}function getBackgroundPoint(t,e,n,o){const{caretSize:l,caretPadding:u,cornerRadius:f}=t,{xAlign:h,yAlign:d}=n,p=l+u,{topLeft:m,topRight:v,bottomLeft:_,bottomRight:S}=toTRBLCorners(f);let M=alignX(e,h);const A=alignY(e,d,p);return d==="center"?h==="left"?M+=p:h==="right"&&(M-=p):h==="left"?M-=Math.max(m,_)+l:h==="right"&&(M+=Math.max(v,S)+l),{x:_limitValue(M,0,o.width-e.width),y:_limitValue(A,0,o.height-e.height)}}function getAlignedX(t,e,n){const o=toPadding(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,n){return createContext(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function overrideCallbacks(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const defaultCallbacks={beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,o=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return n[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return isNullOrUndef(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(t,e,n,o){const l=t[e].call(n,o);return typeof l>"u"?defaultCallbacks[e].call(n,o):l}var Du;let Tooltip$1=(Du=class extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&n.options.animation&&o.animations,u=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeTitle",this,e),u=invokeCallbackWithFallback(o,"title",this,e),f=invokeCallbackWithFallback(o,"afterTitle",this,e);let h=[];return h=pushOrConcat(h,splitNewlines(l)),h=pushOrConcat(h,splitNewlines(u)),h=pushOrConcat(h,splitNewlines(f)),h}getBeforeBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:o}=n,l=[];return each(e,u=>{const f={before:[],lines:[],after:[]},h=overrideCallbacks(o,u);pushOrConcat(f.before,splitNewlines(invokeCallbackWithFallback(h,"beforeLabel",this,u))),pushOrConcat(f.lines,invokeCallbackWithFallback(h,"label",this,u)),pushOrConcat(f.after,splitNewlines(invokeCallbackWithFallback(h,"afterLabel",this,u))),l.push(f)}),l}getAfterBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeFooter",this,e),u=invokeCallbackWithFallback(o,"footer",this,e),f=invokeCallbackWithFallback(o,"afterFooter",this,e);let h=[];return h=pushOrConcat(h,splitNewlines(l)),h=pushOrConcat(h,splitNewlines(u)),h=pushOrConcat(h,splitNewlines(f)),h}_createItems(e){const n=this._active,o=this.chart.data,l=[],u=[],f=[];let h=[],d,p;for(d=0,p=n.length;d<p;++d)h.push(createTooltipItem(this.chart,n[d]));return e.filter&&(h=h.filter((m,v,_)=>e.filter(m,v,_,o))),e.itemSort&&(h=h.sort((m,v)=>e.itemSort(m,v,o))),each(h,m=>{const v=overrideCallbacks(e.callbacks,m);l.push(invokeCallbackWithFallback(v,"labelColor",this,m)),u.push(invokeCallbackWithFallback(v,"labelPointStyle",this,m)),f.push(invokeCallbackWithFallback(v,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=f,this.dataPoints=h,h}update(e,n){const o=this.options.setContext(this.getContext()),l=this._active;let u,f=[];if(!l.length)this.opacity!==0&&(u={opacity:0});else{const h=positioners[o.position].call(this,l,this._eventPosition);f=this._createItems(o),this.title=this.getTitle(f,o),this.beforeBody=this.getBeforeBody(f,o),this.body=this.getBody(f,o),this.afterBody=this.getAfterBody(f,o),this.footer=this.getFooter(f,o);const d=this._size=getTooltipSize(this,o),p=Object.assign({},h,d),m=determineAlignment(this.chart,o,p),v=getBackgroundPoint(o,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,u={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=f,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,o,l){const u=this.getCaretPosition(e,o,l);n.lineTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineTo(u.x3,u.y3)}getCaretPosition(e,n,o){const{xAlign:l,yAlign:u}=this,{caretSize:f,cornerRadius:h}=o,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:v}=toTRBLCorners(h),{x:_,y:S}=e,{width:M,height:A}=n;let w,C,O,L,F,$;return u==="center"?(F=S+A/2,l==="left"?(w=_,C=w-f,L=F+f,$=F-f):(w=_+M,C=w+f,L=F-f,$=F+f),O=w):(l==="left"?C=_+Math.max(d,m)+f:l==="right"?C=_+M-Math.max(p,v)-f:C=this.caretX,u==="top"?(L=S,F=L-f,w=C-f,O=C+f):(L=S+A,F=L+f,w=C+f,O=C-f),$=L),{x1:w,x2:C,x3:O,y1:L,y2:F,y3:$}}drawTitle(e,n,o){const l=this.title,u=l.length;let f,h,d;if(u){const p=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),n.textAlign=p.textAlign(o.titleAlign),n.textBaseline="middle",f=toFont(o.titleFont),h=o.titleSpacing,n.fillStyle=o.titleColor,n.font=f.string,d=0;d<u;++d)n.fillText(l[d],p.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+h,d+1===u&&(e.y+=o.titleMarginBottom-h)}}_drawColorBox(e,n,o,l,u){const f=this.labelColors[o],h=this.labelPointStyles[o],{boxHeight:d,boxWidth:p}=u,m=toFont(u.bodyFont),v=getAlignedX(this,"left",u),_=l.x(v),S=d<m.lineHeight?(m.lineHeight-d)/2:0,M=n.y+S;if(u.usePointStyle){const A={radius:Math.min(p,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=l.leftForLtr(_,p)+p/2,C=M+d/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,drawPoint(e,A,w,C),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,drawPoint(e,A,w,C)}else{e.lineWidth=isObject$1(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const A=l.leftForLtr(_,p),w=l.leftForLtr(l.xPlus(_,1),p-2),C=toTRBLCorners(f.borderRadius);Object.values(C).some(O=>O!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,addRoundedRectPath(e,{x:A,y:M,w:p,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:w,y:M+1,w:p-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(A,M,p,d),e.strokeRect(A,M,p,d),e.fillStyle=f.backgroundColor,e.fillRect(w,M+1,p-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,n,o){const{body:l}=this,{bodySpacing:u,bodyAlign:f,displayColors:h,boxHeight:d,boxWidth:p,boxPadding:m}=o,v=toFont(o.bodyFont);let _=v.lineHeight,S=0;const M=getRtlAdapter(o.rtl,this.x,this.width),A=function(q){n.fillText(q,M.x(e.x+S),e.y+_/2),e.y+=_+u},w=M.textAlign(f);let C,O,L,F,$,B,U;for(n.textAlign=f,n.textBaseline="middle",n.font=v.string,e.x=getAlignedX(this,w,o),n.fillStyle=o.bodyColor,each(this.beforeBody,A),S=h&&w!=="right"?f==="center"?p/2+m:p+2+m:0,F=0,B=l.length;F<B;++F){for(C=l[F],O=this.labelTextColors[F],n.fillStyle=O,each(C.before,A),L=C.lines,h&&L.length&&(this._drawColorBox(n,e,F,M,o),_=Math.max(v.lineHeight,d)),$=0,U=L.length;$<U;++$)A(L[$]),_=v.lineHeight;each(C.after,A)}S=0,_=v.lineHeight,each(this.afterBody,A),e.y-=u}drawFooter(e,n,o){const l=this.footer,u=l.length;let f,h;if(u){const d=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,n.textAlign=d.textAlign(o.footerAlign),n.textBaseline="middle",f=toFont(o.footerFont),n.fillStyle=o.footerColor,n.font=f.string,h=0;h<u;++h)n.fillText(l[h],d.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+o.footerSpacing}}drawBackground(e,n,o,l){const{xAlign:u,yAlign:f}=this,{x:h,y:d}=e,{width:p,height:m}=o,{topLeft:v,topRight:_,bottomLeft:S,bottomRight:M}=toTRBLCorners(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(h+v,d),f==="top"&&this.drawCaret(e,n,o,l),n.lineTo(h+p-_,d),n.quadraticCurveTo(h+p,d,h+p,d+_),f==="center"&&u==="right"&&this.drawCaret(e,n,o,l),n.lineTo(h+p,d+m-M),n.quadraticCurveTo(h+p,d+m,h+p-M,d+m),f==="bottom"&&this.drawCaret(e,n,o,l),n.lineTo(h+S,d+m),n.quadraticCurveTo(h,d+m,h,d+m-S),f==="center"&&u==="left"&&this.drawCaret(e,n,o,l),n.lineTo(h,d+v),n.quadraticCurveTo(h,d,h+v,d),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,o=this.$animations,l=o&&o.x,u=o&&o.y;if(l||u){const f=positioners[e.position].call(this,this._active,this._eventPosition);if(!f)return;const h=this._size=getTooltipSize(this,e),d=Object.assign({},f,this._size),p=determineAlignment(n,e,d),m=getBackgroundPoint(e,d,p,n);(l._to!==m.x||u._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const f=toPadding(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(e.save(),e.globalAlpha=o,this.drawBackground(u,e,l,n),overrideTextDirection(e,n.textDirection),u.y+=f.top,this.drawTitle(u,e,n),this.drawBody(u,e,n),this.drawFooter(u,e,n),restoreTextDirection(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const o=this._active,l=e.map(({datasetIndex:h,index:d})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[d],index:d}}),u=!_elementsEqual(o,l),f=this._positionChanged(l,n);(u||f)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,o=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],f=this._getActiveElements(e,u,n,o),h=this._positionChanged(f,e),d=n||!_elementsEqual(f,u)||h;return d&&(this._active=f,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,o,l){const u=this.options;if(e.type==="mouseout")return[];if(!l)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const f=this.chart.getElementsAtEventForMode(e,u.mode,u,o);return u.reverse&&f.reverse(),f}_positionChanged(e,n){const{caretX:o,caretY:l,options:u}=this,f=positioners[u.position].call(this,e,n);return f!==!1&&(o!==f.x||l!==f.y)}},cn(Du,"positioners",positioners),Du);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(t,e,n){n&&(t.tooltip=new Tooltip$1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,n,o)=>(typeof e=="string"?(n=t.push(e)-1,o.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function findOrAddLabel(t,e,n,o){const l=t.indexOf(e);if(l===-1)return addIfString(t,e,n,o);const u=t.lastIndexOf(e);return l!==u?n:l}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const o=this.getLabels();for(const{index:l,label:u}of n)o[l]===u&&o.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(isNullOrUndef(e))return null;const o=this.getLabels();return n=isFinite(n)&&o[n]===e?n:findOrAddLabel(o,e,valueOrDefault(n,e),this._addedLabels),validIndex(n,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),n||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const e=this.min,n=this.max,o=this.options.offset,l=[];let u=this.getLabels();u=e===0&&n===u.length-1?u:u.slice(e,n+1),this._valueRange=Math.max(u.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let f=e;f<=n;f++)l.push({value:f});return l}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}cn(CategoryScale,"id","category"),cn(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(t,e){const n=[],{bounds:l,step:u,min:f,max:h,precision:d,count:p,maxTicks:m,maxDigits:v,includeBounds:_}=t,S=u||1,M=m-1,{min:A,max:w}=e,C=!isNullOrUndef(f),O=!isNullOrUndef(h),L=!isNullOrUndef(p),F=(w-A)/(v+1);let $=niceNum((w-A)/M/S)*S,B,U,q,Z;if($<1e-14&&!C&&!O)return[{value:A},{value:w}];Z=Math.ceil(w/$)-Math.floor(A/$),Z>M&&($=niceNum(Z*$/M/S)*S),isNullOrUndef(d)||(B=Math.pow(10,d),$=Math.ceil($*B)/B),l==="ticks"?(U=Math.floor(A/$)*$,q=Math.ceil(w/$)*$):(U=A,q=w),C&&O&&u&&almostWhole((h-f)/u,$/1e3)?(Z=Math.round(Math.min((h-f)/$,m)),$=(h-f)/Z,U=f,q=h):L?(U=C?f:U,q=O?h:q,Z=p-1,$=(q-U)/Z):(Z=(q-U)/$,almostEquals(Z,Math.round(Z),$/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const G=Math.max(_decimalPlaces($),_decimalPlaces(U));B=Math.pow(10,isNullOrUndef(d)?G:d),U=Math.round(U*B)/B,q=Math.round(q*B)/B;let H=0;for(C&&(_&&U!==f?(n.push({value:f}),U<f&&H++,almostEquals(Math.round((U+H*$)*B)/B,f,relativeLabelSize(f,F,t))&&H++):U<f&&H++);H<Z;++H){const ne=Math.round((U+H*$)*B)/B;if(O&&ne>h)break;n.push({value:ne})}return O&&_&&q!==h?n.length&&almostEquals(n[n.length-1].value,h,relativeLabelSize(h,F,t))?n[n.length-1].value=h:n.push({value:h}):(!O||q===h)&&n.push({value:q}),n}function relativeLabelSize(t,e,{horizontal:n,minRotation:o}){const l=toRadians(o),u=(n?Math.sin(l):Math.cos(l))||.001,f=.75*e*(""+t).length;return Math.min(e/u,f)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:o}=this.getUserBounds();let{min:l,max:u}=this;const f=d=>l=n?l:d,h=d=>u=o?u:d;if(e){const d=sign$2(l),p=sign$2(u);d<0&&p<0?h(0):d>0&&p>0&&f(0)}if(l===u){let d=u===0?1:Math.abs(u*.05);h(u+d),e||f(l-d)}this.min=l,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:o}=e,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},u=this._range||this,f=generateTicks$1(l,u);return e.bounds==="ticks"&&_setMinAndMaxByKey(f,this,"value"),e.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const e=this.ticks;let n=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const l=(o-n)/Math.max(e.length-1,1)/2;n-=l,o+=l}this._startValue=n,this._endValue=o,this._valueRange=o-n}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(e?Math.sin(o):Math.cos(o))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,u.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}cn(LinearScale,"id","linear"),cn(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const n=t._adapter,{parser:o,round:l,isoWeekday:u}=t._parseOpts;let f=e;return typeof o=="function"&&(f=o(f)),isNumberFinite(f)||(f=typeof o=="string"?n.parse(f,o):n.parse(f)),f===null?null:(l&&(f=l==="week"&&(isNumber$2(u)||u===!0)?n.startOf(f,"isoWeek",u):n.startOf(f,l)),+f)}function determineUnitForAutoTicks(t,e,n,o){const l=UNITS.length;for(let u=UNITS.indexOf(t);u<l-1;++u){const f=INTERVALS[UNITS[u]],h=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-e)/(h*f.size))<=o)return UNITS[u]}return UNITS[l-1]}function determineUnitForFormatting(t,e,n,o,l){for(let u=UNITS.length-1;u>=UNITS.indexOf(n);u--){const f=UNITS[u];if(INTERVALS[f].common&&t._adapter.diff(l,o,f)>=e-1)return f}return UNITS[n?UNITS.indexOf(n):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,n=UNITS.length;e<n;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:o,hi:l}=_lookup(n,e),u=n[o]>=e?n[o]:n[l];t[u]=!0}}function setMajorTicks(t,e,n,o){const l=t._adapter,u=+l.startOf(e[0].value,o),f=e[e.length-1].value;let h,d;for(h=u;h<=f;h=+l.add(h,1,o))d=n[h],d>=0&&(e[d].major=!0);return e}function ticksFromTimestamps(t,e,n){const o=[],l={},u=e.length;let f,h;for(f=0;f<u;++f)h=e[f],l[h]=f,o.push({value:h,major:!1});return u===0||!n?o:setMajorTicks(t,o,l,n)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const o=e.time||(e.time={}),l=this._adapter=new adapters._date(e.adapters.date);l.init(n),mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,o=e.time.unit||"day";let{min:l,max:u,minDefined:f,maxDefined:h}=this.getUserBounds();function d(p){!f&&!isNaN(p.min)&&(l=Math.min(l,p.min)),!h&&!isNaN(p.max)&&(u=Math.max(u,p.max))}(!f||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+n.startOf(Date.now(),o),u=isNumberFinite(u)&&!isNaN(u)?u:+n.endOf(Date.now(),o)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],o=e[e.length-1]),{min:n,max:o}}buildTicks(){const e=this.options,n=e.time,o=e.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,f=this.max,h=_filterBetween(l,u,f);return this._unit=n.unit||(o.autoSkip?determineUnitForAutoTicks(n.minUnit,this.min,this.max,this._getLabelCapacity(u)):determineUnitForFormatting(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),e.reverse&&h.reverse(),ticksFromTimestamps(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,o=0,l,u;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?n=1-l:n=(this.getDecimalForValue(e[1])-l)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?o=u:o=(u-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;n=_limitValue(n,0,f),o=_limitValue(o,0,f),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const e=this._adapter,n=this.min,o=this.max,l=this.options,u=l.time,f=u.unit||determineUnitForAutoTicks(u.minUnit,n,o,this._getLabelCapacity(n)),h=valueOrDefault(l.ticks.stepSize,1),d=f==="week"?u.isoWeekday:!1,p=isNumber$2(d)||d===!0,m={};let v=n,_,S;if(p&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,p?"day":f),e.diff(o,n,f)>1e5*h)throw new Error(n+" and "+o+" are too far apart with stepSize of "+h+" "+f);const M=l.ticks.source==="data"&&this.getDataTimestamps();for(_=v,S=0;_<o;_=+e.add(_,h,f),S++)addTick(m,_,M);return(_===o||l.bounds==="ticks"||S===1)&&addTick(m,_,M),Object.keys(m).sort(sorter).map(A=>+A)}getLabelForValue(e){const n=this._adapter,o=this.options.time;return o.tooltipFormat?n.format(e,o.tooltipFormat):n.format(e,o.displayFormats.datetime)}format(e,n){const l=this.options.time.displayFormats,u=this._unit,f=n||l[u];return this._adapter.format(e,f)}_tickFormatFunction(e,n,o,l){const u=this.options,f=u.ticks.callback;if(f)return callback(f,[e,n,o],this);const h=u.time.displayFormats,d=this._unit,p=this._majorUnit,m=d&&h[d],v=p&&h[p],_=o[n],S=p&&v&&_&&_.major;return this._adapter.format(e,l||(S?v:m))}generateTickLabels(e){let n,o,l;for(n=0,o=e.length;n<o;++n)l=e[n],l.label=this._tickFormatFunction(l.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+o)*n.factor)}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,o=this.ctx.measureText(e).width,l=toRadians(this.isHorizontal()?n.maxRotation:n.minRotation),u=Math.cos(l),f=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:o*u+h*f,h:o*f+h*u}}_getLabelCapacity(e){const n=this.options.time,o=n.displayFormats,l=o[n.unit]||o.millisecond,u=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),l),f=this._getLabelSize(u),h=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],n,o;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,o=l.length;n<o;++n)e=e.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,o;if(e.length)return e;const l=this.getLabels();for(n=0,o=l.length;n<o;++n)e.push(parse(this,l[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}cn(TimeScale,"id","time"),cn(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate$1(t,e,n){let o=0,l=t.length-1,u,f,h,d;n?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=_lookupByKey(t,"pos",e)),{pos:u,time:h}=t[o],{pos:f,time:d}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=_lookupByKey(t,"time",e)),{time:u,pos:h}=t[o],{time:f,pos:d}=t[l]);const p=f-u;return p?h+(d-h)*(e-u)/p:h}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=interpolate$1(n,this.min),this._tableRange=interpolate$1(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:o}=this,l=[],u=[];let f,h,d,p,m;for(f=0,h=e.length;f<h;++f)p=e[f],p>=n&&p<=o&&l.push(p);if(l.length<2)return[{time:n,pos:0},{time:o,pos:1}];for(f=0,h=l.length;f<h;++f)m=l[f+1],d=l[f-1],p=l[f],Math.round((m+d)/2)!==p&&u.push({time:p,pos:f/(h-1)});return u}_generate(){const e=this.min,n=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(n)||o.length===1)&&o.push(n),o.sort((l,u)=>l-u)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),o=this.getLabelTimestamps();return n.length&&o.length?e=this.normalize(n.concat(o)):e=n.length?n:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate$1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return interpolate$1(this._table,o*this._tableRange+this._minPos,!0)}}cn(TimeSeriesScale,"id","timeseries"),cn(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function setOptions(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const o=[];t.datasets=e.map(l=>{const u=t.datasets.find(f=>f[n]===l[n]);return!u||!l.data||o.includes(u)?{...l}:(o.push(u),Object.assign(u,l),u)})}function cloneData(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const n={labels:[],datasets:[]};return setLabels(n,t.labels),setDatasets(n,t.datasets,e),n}function ChartComponent(t,e){const{height:n=150,width:o=300,redraw:l=!1,datasetIdKey:u,type:f,data:h,options:d,plugins:p=[],fallbackContent:m,updateMode:v,..._}=t,S=reactExports.useRef(null),M=reactExports.useRef(null),A=()=>{S.current&&(M.current=new Chart$1(S.current,{type:f,data:cloneData(h,u),options:d&&{...d},plugins:p}),reforwardRef(e,M.current))},w=()=>{reforwardRef(e,null),M.current&&(M.current.destroy(),M.current=null)};return reactExports.useEffect(()=>{!l&&M.current&&d&&setOptions(M.current,d)},[l,d]),reactExports.useEffect(()=>{!l&&M.current&&setLabels(M.current.config.data,h.labels)},[l,h.labels]),reactExports.useEffect(()=>{!l&&M.current&&h.datasets&&setDatasets(M.current.config.data,h.datasets,u)},[l,h.datasets]),reactExports.useEffect(()=>{M.current&&(l?(w(),setTimeout(A)):M.current.update(v))},[l,d,h.labels,h.datasets,v]),reactExports.useEffect(()=>{M.current&&(w(),setTimeout(A))},[f]),reactExports.useEffect(()=>(A(),()=>w()),[]),React$1.createElement("canvas",{ref:S,role:"img",height:n,width:o,..._},m)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(t,e){return Chart$1.register(e),reactExports.forwardRef((n,o)=>React$1.createElement(Chart,{...n,ref:o,type:t}))}const Line$1=createTypedChart("line",LineController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const YieldGapChart=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.1}),o={labels:["2000","2005","2010","2015","2020","2025"],datasets:[{label:"Produtividade Potencial (PP)",data:[5400,5500,5600,5700,5800,5900],borderColor:"rgba(46, 125, 50, 0.8)",backgroundColor:"rgba(46, 125, 50, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Atingvel (PA)",data:[4300,4400,4500,4600,4700,4800],borderColor:"rgba(219, 123, 34, 0.8)",backgroundColor:"rgba(219, 123, 34, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Real (PR)",data:[2600,2900,3200,3400,3600,3800],borderColor:"rgba(255, 152, 0, 0.8)",backgroundColor:"rgba(255, 152, 0, 0.1)",borderWidth:3,tension:.3,fill:!1}]},l={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(u){return`${u.dataset.label}: ${u.parsed.y} kg/ha`}}}},scales:{y:{beginAtZero:!1,min:2e3,title:{display:!0,text:"Produtividade (kg/ha)"}},x:{title:{display:!0,text:"Ano"}}}};return React$1.createElement(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6}},React$1.createElement("h3",{className:"text-xl font-semibold mb-4 text-primary-800 text-center"},"Evoluo do Yield Gap no Algodo Brasileiro (2000-2025)"),React$1.createElement("div",{className:"mt-4"},React$1.createElement(Line$1,{options:l,data:o})),React$1.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},React$1.createElement("div",{className:"p-3 bg-primary-50 rounded-lg"},React$1.createElement("p",{className:"font-semibold text-primary-800"},"Yield Gap 2000"),React$1.createElement("p",{className:"text-2xl font-bold text-primary-700"},"1700 kg/ha")),React$1.createElement("div",{className:"p-3 bg-primary-50 rounded-lg"},React$1.createElement("p",{className:"font-semibold text-primary-800"},"Yield Gap 2025"),React$1.createElement("p",{className:"text-2xl font-bold text-primary-700"},"1000 kg/ha")),React$1.createElement("div",{className:"p-3 bg-success-50 rounded-lg"},React$1.createElement("p",{className:"font-semibold text-success-600"},"Reduo do Gap"),React$1.createElement("p",{className:"text-2xl font-bold text-success-600"},"41%"))),React$1.createElement("p",{className:"mt-6 text-sm text-gray-600 italic"},"Nota: Os dados so baseados em estimativas e projees de pesquisas agrcolas brasileiras. O yield gap est diminuindo, mas ainda h um potencial significativo para aumentar a produtividade real."))},HistoricalEvolution=()=>{reactExports.useEffect(()=>{document.title="Evoluo Histrica do Yield Gap | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),n=[{year:"2000-2005",title:"Expanso do Algodo no Cerrado",description:"O incio da expanso da cultura do algodo no Cerrado brasileiro, com a adaptao de variedades e sistema de produo especficos para a regio.",achievement:"Reduo inicial do yield gap com adaptao de cultivares para o Cerrado.",color:"bg-primary-600"},{year:"2006-2010",title:"Adoo de Cultivares Transgnicas",description:"Introduo de cultivares com tecnologias Bt e resistentes a herbicidas, alterando o manejo de pragas e plantas daninhas.",achievement:"Melhor controle de pragas e reduo de perdas, diminuindo o yield gap em cerca de 15%.",color:"bg-primary-700"},{year:"2011-2015",title:"Avanos em Agricultura de Preciso",description:"Implementao de tecnologias de agricultura de preciso, incluindo mapeamento de solo, aplicao varivel de insumos e monitoramento remoto.",achievement:"Uso mais eficiente de insumos e manejo especfico por local, reduzindo o yield gap em mais 10%.",color:"bg-primary-800"},{year:"2016-2020",title:"Intensificao Sustentvel",description:"Adoo de sistemas integrados de produo, rotao de culturas e prticas conservacionistas de manejo do solo.",achievement:"Melhoria da sade do solo e reduo de estresses biticos, contribuindo para diminuir o yield gap em mais 8%.",color:"bg-primary-900"},{year:"2021-2025",title:"Era Digital na Cotonicultura",description:"Implementao de ferramentas digitais, inteligncia artificial e internet das coisas (IoT) para monitoramento e tomada de deciso em tempo real.",achievement:"Manejo mais preciso e responsivo, com potencial para reduzir o yield gap em mais 12% at 2025.",color:"bg-primary-950"}];return React$1.createElement("div",{className:"pt-24"},React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Evoluo Histrica (2000-2025)",subtitle:"Acompanhe a trajetria e as transformaes do yield gap na cotonicultura brasileira ao longo das ltimas dcadas",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-16"},React$1.createElement(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"Uma Jornada de Transformao"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Desde o ano 2000, a cotonicultura brasileira passou por profundas transformaes tecnolgicas, gerenciais e estruturais. Essas mudanas impactaram diretamente a produtividade das lavouras e, consequentemente, o yield gap do algodo no pas."),React$1.createElement("p",{className:"mb-4 text-gray-700"},"O Brasil saiu da posio de importador para se tornar um dos maiores exportadores mundiais de algodo, com avanos significativos em produtividade. No entanto, apesar desses avanos, ainda existe um potencial considervel para reduo do yield gap em diversas regies produtoras."),React$1.createElement("p",{className:"text-gray-700"},"Nesta seo, exploramos os principais marcos dessa jornada, os fatores que influenciaram as mudanas na produtividade e as tendncias para o futuro da cotonicultura brasileira.")),React$1.createElement(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("img",{src:"https://images.pexels.com/photos/3680313/pexels-photo-3680313.jpeg",alt:"Evoluo da agricultura do algodo",className:"rounded-lg shadow-md w-full h-auto"}))),React$1.createElement(YieldGapChart,null))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Linha do Tempo do Yield Gap no Algodo Brasileiro",subtitle:"Principais marcos e avanos que contriburam para a reduo do yield gap no perodo de 2000 a 2025",centered:!0}),React$1.createElement("div",{className:"relative"},React$1.createElement("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary-200"}),n.map((o,l)=>React$1.createElement(motion.div,{key:l,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0,amount:.3},className:`relative flex flex-col md:flex-row items-center md:justify-between mb-12 ${l%2===0?"md:flex-row-reverse":""}`},React$1.createElement("div",{className:"w-full md:w-5/12"},React$1.createElement("div",{className:"p-6 bg-white rounded-lg shadow-md border-l-4 border-primary-600 h-full"},React$1.createElement("h3",{className:"text-xl font-semibold mb-2 text-primary-800"},o.title),React$1.createElement("div",{className:"inline-block px-3 py-1 text-sm font-semibold text-white rounded-full mb-3 mt-1 bg-primary-600"},o.year),React$1.createElement("p",{className:"text-gray-700 mb-3"},o.description),React$1.createElement("div",{className:"mt-3 p-3 bg-primary-50 rounded-md"},React$1.createElement("p",{className:"text-primary-800 font-medium"},React$1.createElement("span",{className:"font-bold"},"Conquista:")," ",o.achievement)))),React$1.createElement("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-primary-600 border-4 border-white shadow"}),React$1.createElement("div",{className:"w-full md:w-5/12"})))))),React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Fatores Que Influenciaram a Evoluo",subtitle:"Compreenda os principais elementos que impactaram a produtividade do algodo brasileiro e o yield gap ao longo do tempo",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:0},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Avanos Tecnolgicos"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Desenvolvimento de cultivares mais adaptadas e produtivas"),React$1.createElement("li",null,"Adoo de biotecnologia (cultivares Bt e RR)"),React$1.createElement("li",null,"Mecanizao e automao de processos"),React$1.createElement("li",null,"Agricultura de preciso e ferramentas digitais"),React$1.createElement("li",null,"Sistemas de irrigao mais eficientes"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Fatores Econmicos"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Flutuaes nos preos internacionais do algodo"),React$1.createElement("li",null,"Polticas de crdito e financiamento agrcola"),React$1.createElement("li",null,"Investimentos em pesquisa e desenvolvimento"),React$1.createElement("li",null,"Formao de clusters produtivos"),React$1.createElement("li",null,"Integrao com mercados globais"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Mudanas Climticas"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Alteraes nos padres de precipitao"),React$1.createElement("li",null,"Aumento de temperaturas extremas"),React$1.createElement("li",null,"Incidncia de eventos climticos severos"),React$1.createElement("li",null,"Adaptao de sistemas de produo"),React$1.createElement("li",null,"Desenvolvimento de variedades mais resistentes a estresses"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Prticas de Manejo"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Adoo do plantio direto e cobertura permanente do solo"),React$1.createElement("li",null,"Manejo integrado de pragas e doenas"),React$1.createElement("li",null,"Rotao e diversificao de culturas"),React$1.createElement("li",null,"Manejo nutricional especfico"),React$1.createElement("li",null,"Adensamento de plantio"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Fatores Institucionais"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Programas de pesquisa em algodo (pblicos e privados)"),React$1.createElement("li",null,"Criao de associaes de produtores"),React$1.createElement("li",null,"Regulamentaes ambientais e de uso de insumos"),React$1.createElement("li",null,"Transferncia de tecnologia e extenso rural"),React$1.createElement("li",null,"Polticas setoriais especficas"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.5},viewport:{once:!0},className:"card"},React$1.createElement("h3",{className:"text-xl font-semibold mb-3 text-primary-800"},"Desafios Fitossanitrios"),React$1.createElement("ul",{className:"list-disc pl-5 space-y-2 text-gray-700"},React$1.createElement("li",null,"Surgimento de novas pragas e doenas"),React$1.createElement("li",null,"Desenvolvimento de resistncia a defensivos"),React$1.createElement("li",null,"Introduo de tecnologias Bt e manejo de resistncia"),React$1.createElement("li",null,"Sistemas de monitoramento e alerta"),React$1.createElement("li",null,"Controle biolgico e manejo integrado")))))))},ToolsForYieldGap=()=>{reactExports.useEffect(()=>{document.title="Ferramentas para Descobrir o Yield Gap | AlgodoTech"},[]);const t=[{title:"Modelos de Simulao de Culturas",description:"Ferramentas computacionais que simulam o crescimento e desenvolvimento das plantas de algodo em diferentes condies ambientais e de manejo.",icon:LineChart,examples:["DSSAT","APSIM","CropSyst"],advantages:["Permite estimar o potencial produtivo terico","Ajuda a entender interaes complexas entre gentipo, ambiente e manejo","Possibilita simular diferentes cenrios"]},{title:"Sensoriamento Remoto",description:"Uso de imagens de satlite e drones para monitorar o desenvolvimento das lavouras e identificar reas com problemas de crescimento ou produtividade.",icon:Satellite,examples:["ndice de Vegetao por Diferena Normalizada (NDVI)","Imagens multiespectrais e hiperespectrais","Termografia"],advantages:["Cobertura de grandes reas","Monitoramento contnuo ao longo do ciclo","Identificao precoce de estresses"]},{title:"Anlise de Dados e Machine Learning",description:"Aplicao de tcnicas estatsticas avanadas e inteligncia artificial para analisar grandes volumes de dados e identificar padres relacionados ao yield gap.",icon:BrainCircuit,examples:["Algoritmos de aprendizado de mquina","Redes neurais","Anlise preditiva"],advantages:["Processamento de mltiplas variveis simultaneamente","Identificao de relaes no bvias entre fatores","Gerao de modelos preditivos"]},{title:"Anlise Comparativa de Desempenho",description:"Comparao sistemtica entre produtores ou regies com diferentes nveis de produtividade para identificar prticas de manejo e fatores associados a altos rendimentos.",icon:BarChart$1,examples:["Benchmarking","Anlise de eficincia","Estudos de caso"],advantages:["Baseado em dados reais de produo","Identifica boas prticas aplicveis localmente","Facilita a transferncia de conhecimento"]},{title:"Bancos de Dados Agrcolas",description:"Sistemas que integram e organizam informaes sobre solo, clima, prticas de manejo e produtividade para facilitar a anlise do yield gap em diferentes escalas.",icon:Database,examples:["Sistema de Informaes Geogrficas (SIG)","Bancos de dados de produtividade regional","Plataformas de gesto agrcola"],advantages:["Centralizao de informaes","Anlises temporais e espaciais","Suporte  tomada de deciso"]},{title:"Experimentos de Campo",description:"Conduo de ensaios experimentais para quantificar o impacto de diferentes prticas de manejo na produtividade do algodo e identificar limitaes especficas.",icon:Ruler,examples:["Experimentos fatoriais","Ensaios de variedades","Parcelas demonstrativas"],advantages:["Resultados localmente adaptados","Validao de hipteses especficas","Demonstrao prtica de potencial produtivo"]}];return React$1.createElement("div",{className:"pt-24"},React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Ferramentas para Descobrir o Yield Gap",subtitle:"Conhea as principais metodologias e tecnologias utilizadas para identificar e quantificar o yield gap na cultura do algodo",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center mb-16"},React$1.createElement(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"A Importncia da Diagnose Precisa"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Para reduzir efetivamente o yield gap,  fundamental primeiro identific-lo e compreender suas causas especficas. Isso requer ferramentas e metodologias apropriadas que permitam quantificar a diferena entre a produtividade potencial ou atingvel e a produtividade real obtida pelos agricultores."),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Diferentes abordagens podem ser utilizadas, desde modelos de simulao que estimam o potencial terico at anlises de dados em larga escala que identificam padres e tendncias em situaes reais de cultivo."),React$1.createElement("p",{className:"text-gray-700"},"A combinao dessas ferramentas permite no apenas determinar a magnitude do yield gap, mas tambm identificar os fatores limitantes especficos para cada regio ou sistema de produo, orientando intervenes mais eficazes.")),React$1.createElement(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("img",{src:"https://images.pexels.com/photos/1181248/pexels-photo-1181248.jpeg",alt:"Anlise de dados agrcolas",className:"rounded-lg shadow-md w-full h-auto"}))),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((e,n)=>React$1.createElement(motion.div,{key:n,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"card"},React$1.createElement("div",{className:"flex items-center mb-4"},React$1.createElement("div",{className:"p-3 bg-primary-100 rounded-full mr-4"},React$1.createElement(e.icon,{size:24,className:"text-primary-600"})),React$1.createElement("h3",{className:"text-xl font-semibold text-primary-800"},e.title)),React$1.createElement("p",{className:"text-gray-700 mb-4"},e.description),React$1.createElement("div",{className:"mb-3"},React$1.createElement("h4",{className:"font-semibold text-gray-800 mb-2"},"Exemplos:"),React$1.createElement("ul",{className:"text-gray-700 pl-5 list-disc"},e.examples.map((o,l)=>React$1.createElement("li",{key:l},o)))),React$1.createElement("div",null,React$1.createElement("h4",{className:"font-semibold text-gray-800 mb-2"},"Vantagens:"),React$1.createElement("ul",{className:"text-gray-700 pl-5 list-disc"},e.advantages.map((o,l)=>React$1.createElement("li",{key:l},o))))))))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Integrando Ferramentas para Uma Anlise Completa",subtitle:"Abordagem sistemtica para identificao e quantificao do yield gap no algodo",centered:!0}),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md"},React$1.createElement("h3",{className:"text-xl font-semibold mb-6 text-primary-800"},"Metodologia em Cinco Etapas"),React$1.createElement("div",{className:"space-y-6"},React$1.createElement("div",{className:"bg-white p-5 rounded-lg shadow-sm"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3"},"1"),React$1.createElement("h4",{className:"text-lg font-semibold text-primary-800"},"Definio dos Nveis de Referncia")),React$1.createElement("p",{className:"text-gray-700 pl-11"},"Estabelecer claramente os nveis de produtividade de referncia (potencial, atingvel) para a regio ou sistema de produo especfico, utilizando modelos de simulao calibrados para as condies locais.")),React$1.createElement("div",{className:"bg-white p-5 rounded-lg shadow-sm"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3"},"2"),React$1.createElement("h4",{className:"text-lg font-semibold text-primary-800"},"Quantificao da Produtividade Real")),React$1.createElement("p",{className:"text-gray-700 pl-11"},"Coletar dados de produtividade real de mltiplas fontes (agricultores, experimentos, estatsticas oficiais) e valid-los para garantir sua representatividade e preciso.")),React$1.createElement("div",{className:"bg-white p-5 rounded-lg shadow-sm"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3"},"3"),React$1.createElement("h4",{className:"text-lg font-semibold text-primary-800"},"Anlise Espacial e Temporal")),React$1.createElement("p",{className:"text-gray-700 pl-11"},"Utilizar ferramentas de sensoriamento remoto e SIG para analisar a variabilidade espacial do yield gap, e dados histricos para compreender sua evoluo ao longo do tempo.")),React$1.createElement("div",{className:"bg-white p-5 rounded-lg shadow-sm"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3"},"4"),React$1.createElement("h4",{className:"text-lg font-semibold text-primary-800"},"Identificao de Fatores Limitantes")),React$1.createElement("p",{className:"text-gray-700 pl-11"},"Aplicar anlises estatsticas e tcnicas de machine learning para identificar os principais fatores associados ao yield gap, considerando variveis climticas, edficas, biticas e de manejo.")),React$1.createElement("div",{className:"bg-white p-5 rounded-lg shadow-sm"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3"},"5"),React$1.createElement("h4",{className:"text-lg font-semibold text-primary-800"},"Validao em Campo")),React$1.createElement("p",{className:"text-gray-700 pl-11"},"Conduzir experimentos de campo para validar os fatores limitantes identificados e quantificar seu impacto na produtividade, desenvolvendo recomendaes especficas para reduo do yield gap.")))))))},SolutionCard=({title:t,description:e,icon:n,impactLevel:o,implementationLevel:l,delay:u=0})=>{const[f,h]=useInView({triggerOnce:!0,threshold:.1}),d=()=>{switch(o){case"high":return"bg-success-500";case"medium":return"bg-accent-500";case"low":return"bg-warning-500";default:return"bg-gray-500"}},p=()=>{switch(l){case"easy":return"bg-success-500";case"medium":return"bg-accent-500";case"complex":return"bg-warning-500";default:return"bg-gray-500"}};return React$1.createElement(motion.div,{ref:f,initial:{opacity:0,y:20},animate:h?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"card hover:shadow-xl transition-all duration-300"},React$1.createElement("div",{className:"flex flex-col h-full"},React$1.createElement("div",{className:"flex items-center mb-4"},React$1.createElement("div",{className:"p-3 bg-primary-50 rounded-full mr-4"},n),React$1.createElement("h3",{className:"text-xl font-semibold text-primary-800"},t)),React$1.createElement("p",{className:"text-gray-700 mb-6 flex-grow"},e),React$1.createElement("div",{className:"mt-auto"},React$1.createElement("div",{className:"flex justify-between items-center mb-2"},React$1.createElement("div",{className:"flex items-center"},React$1.createElement("span",{className:"text-sm font-medium text-gray-600 mr-2"},"Impacto:"),React$1.createElement("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${d()}`},o==="high"?"Alto":o==="medium"?"Mdio":"Baixo")),React$1.createElement("div",{className:"flex items-center"},React$1.createElement("span",{className:"text-sm font-medium text-gray-600 mr-2"},"Implementao:"),React$1.createElement("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${p()}`},l==="easy"?"Fcil":l==="medium"?"Mdia":"Complexa"))))))},CaseStudyCard=({title:t,location:e,result:n,description:o,image:l,delay:u=0})=>{const[f,h]=useInView({triggerOnce:!0,threshold:.1});return React$1.createElement(motion.div,{ref:f,initial:{opacity:0,y:20},animate:h?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"bg-white rounded-xl shadow-md overflow-hidden"},React$1.createElement("div",{className:"relative h-48"},React$1.createElement("img",{src:l,alt:t,className:"w-full h-full object-cover"}),React$1.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end"},React$1.createElement("div",{className:"p-4 text-white"},React$1.createElement("h3",{className:"text-xl font-bold text-white"},t),React$1.createElement("p",{className:"text-sm text-gray-200"},e)))),React$1.createElement("div",{className:"p-4"},React$1.createElement("div",{className:"bg-primary-50 text-primary-800 font-semibold px-3 py-1 rounded-full text-sm inline-block mb-3"},"Resultado: ",n),React$1.createElement("p",{className:"text-gray-700"},o)))},SolveYieldGap=()=>{reactExports.useEffect(()=>{document.title="Solues para o Yield Gap | AlgodoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return React$1.createElement("div",{className:"pt-24"},React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Solues para o Yield Gap",subtitle:"Estratgias e prticas eficazes para reduzir a lacuna de produtividade no algodo brasileiro",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-16"},React$1.createElement(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"Transformando Potencial em Realidade"),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Reduzir o yield gap na cotonicultura brasileira no  apenas uma questo de adotar novas tecnologias, mas sim de implementar um conjunto integrado de prticas e estratgias adaptadas s condies especficas de cada regio produtora."),React$1.createElement("p",{className:"mb-4 text-gray-700"},"Nesta seo, apresentamos solues prticas, baseadas em evidncias cientficas e experincias bem-sucedidas, que podem ajudar produtores a diminuir a diferena entre a produtividade atingvel e a produtividade real em suas lavouras de algodo."),React$1.createElement("p",{className:"text-gray-700"},"O caminho para a reduo do yield gap passa por quatro pilares fundamentais: manejo adequado do solo, irrigao eficiente, controle integrado de pragas e doenas, e adoo estratgica de tecnologias. Juntos, esses pilares formam a base para uma cotonicultura mais produtiva e sustentvel.")),React$1.createElement(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("img",{src:"https://images.pexels.com/photos/2252584/pexels-photo-2252584.jpeg",alt:"Lavoura de algodo de alta produtividade",className:"rounded-lg shadow-md w-full h-auto"}))))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Solues por Categoria",subtitle:"Conhea as principais estratgias para reduzir o yield gap de acordo com diferentes reas de manejo",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16"},React$1.createElement(SolutionCard,{title:"Manejo Adequado do Solo",description:"Implementao de prticas de plantio direto, rotao de culturas e cobertura permanente do solo, combinadas com anlises regulares de solo e aplicao precisa de corretivos e fertilizantes.",icon:React$1.createElement(Scaling,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"medium",delay:0}),React$1.createElement(SolutionCard,{title:"Irrigao Eficiente",description:"Uso de sistemas de irrigao de preciso, com monitoramento contnuo da umidade do solo e da demanda hdrica da cultura, permitindo aplicaes de gua no momento certo e na quantidade adequada.",icon:React$1.createElement(Droplet,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:1}),React$1.createElement(SolutionCard,{title:"Controle Integrado de Pragas e Doenas",description:"Adoo do Manejo Integrado de Pragas (MIP), combinando monitoramento constante, controle biolgico, uso racional de defensivos e manejo cultural para reduzir perdas por fatores biticos.",icon:React$1.createElement(Bug,{size:24,className:"text-primary-600"}),impactLevel:"medium",implementationLevel:"medium",delay:2}),React$1.createElement(SolutionCard,{title:"Adoo Estratgica de Tecnologias",description:"Integrao de agricultura de preciso, cultivares melhoradas, automao de processos e ferramentas digitais de suporte  deciso, implementadas de forma gradual e adaptada  realidade de cada produtor.",icon:React$1.createElement(Cpu,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:3})),React$1.createElement("div",{className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md"},React$1.createElement("div",{className:"flex items-center mb-6"},React$1.createElement(ShieldCheck,{size:28,className:"text-primary-600 mr-3"}),React$1.createElement("h3",{className:"text-xl md:text-2xl font-semibold text-primary-800"},"Abordagem Integrada: A Chave do Sucesso")),React$1.createElement("p",{className:"text-gray-700 mb-6"},"A experincia tem mostrado que a maior reduo do yield gap  obtida quando as solues so implementadas de forma integrada, considerando as interaes entre diferentes prticas e as especificidades de cada ambiente produtivo."),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fase 1: Diagnstico"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Identificar os fatores especficos que limitam a produtividade na propriedade")),React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fase 2: Planejamento"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Selecionar e priorizar as solues mais adequadas para o contexto local")),React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-800 mb-2"},"Fase 3: Implementao"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Executar as prticas de forma gradual e monitorar constantemente os resultados"))),React$1.createElement("div",{className:"flex justify-center"},React$1.createElement(Link,{to:"/steps-to-avoid",className:"btn btn-primary flex items-center gap-2"},"Ver Passos Prticos ",React$1.createElement(ArrowRight,{size:18})))))),React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Detalhamento das Solues",subtitle:"Aprofunde-se nas principais estratgias para reduzir o yield gap no algodo",centered:!0}),React$1.createElement("div",{className:"space-y-16"},React$1.createElement("div",null,React$1.createElement("div",{className:"flex items-center mb-6"},React$1.createElement("div",{className:"p-3 bg-primary-600 rounded-full mr-4"},React$1.createElement(Scaling,{size:24,className:"text-white"})),React$1.createElement("h3",{className:"text-2xl font-semibold text-primary-800"},"Manejo Adequado do Solo")),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8"},React$1.createElement("div",{className:"lg:col-span-3"},React$1.createElement(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("h4",{className:"text-xl font-semibold mb-4 text-primary-700"},"Principais Prticas"),React$1.createElement("ul",{className:"space-y-4"},React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Sistema Plantio Direto"),React$1.createElement("p",{className:"text-gray-700"},"Manter o solo permanentemente coberto, minimizando a perturbao mecnica e rotacionando culturas. Isso aumenta a matria orgnica, reduz eroso e melhora a estrutura fsica do solo."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Correo do Solo"),React$1.createElement("p",{className:"text-gray-700"},"Realizar anlises peridicas e aplicar calcrio e gesso em doses e pocas adequadas para corrigir acidez e fornecer clcio em profundidade, favorecendo o desenvolvimento radicular do algodoeiro."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Adubao Balanceada"),React$1.createElement("p",{className:"text-gray-700"},"Fornecer nutrientes de forma equilibrada, considerando resultados de anlises de solo e foliar, histrico da rea e expectativa de produtividade, priorizando o parcelamento da adubao nitrogenada."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Descompactao Biolgica"),React$1.createElement("p",{className:"text-gray-700"},"Utilizar plantas de cobertura com sistema radicular vigoroso (como braquirias e crotalrias) para romper camadas compactadas e melhorar a estrutura fsica do solo em profundidade.")))))),React$1.createElement("div",{className:"lg:col-span-2"},React$1.createElement(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-6 h-full"},React$1.createElement("h4",{className:"text-xl font-semibold mb-4 text-primary-700"},"Impacto no Yield Gap"),React$1.createElement("div",{className:"mb-6"},React$1.createElement("div",{className:"flex justify-between items-center mb-1"},React$1.createElement("span",{className:"text-sm font-medium text-gray-700"},"Potencial de Reduo do Gap"),React$1.createElement("span",{className:"text-sm font-bold text-primary-700"},"25-35%")),React$1.createElement("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden"},React$1.createElement("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"30%"}}))),React$1.createElement("h5",{className:"font-semibold text-gray-800 mb-2"},"Principais Benefcios:"),React$1.createElement("ul",{className:"text-gray-700 space-y-2 mb-4"},React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Maior disponibilidade de gua e nutrientes")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Desenvolvimento radicular mais profundo")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Reduo de estresses abiticos")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Maior resistncia a perodos de dficit hdrico"))),React$1.createElement("div",{className:"bg-primary-50 p-3 rounded-lg"},React$1.createElement("p",{className:"text-sm text-primary-800 font-medium"},"Tempo para resultados: Mdio a longo prazo (2-3 safras para efeitos completos)")))))),React$1.createElement("div",null,React$1.createElement("div",{className:"flex items-center mb-6"},React$1.createElement("div",{className:"p-3 bg-accent-500 rounded-full mr-4"},React$1.createElement(Droplet,{size:24,className:"text-white"})),React$1.createElement("h3",{className:"text-2xl font-semibold text-primary-800"},"Irrigao Eficiente")),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8"},React$1.createElement("div",{className:"lg:col-span-3 order-2 lg:order-1"},React$1.createElement(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0}},React$1.createElement("h4",{className:"text-xl font-semibold mb-4 text-primary-700"},"Principais Prticas"),React$1.createElement("ul",{className:"space-y-4"},React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Manejo da Irrigao baseado em Dados"),React$1.createElement("p",{className:"text-gray-700"},"Utilizar sensores de umidade do solo, estaes meteorolgicas e modelos de balano hdrico para determinar o momento e a quantidade exata de gua a ser aplicada em cada fase da cultura."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Sistemas de Irrigao de Preciso"),React$1.createElement("p",{className:"text-gray-700"},"Implementar sistemas como gotejamento, piv central com LEPA (Low Energy Precision Application) ou asperso de preciso, que oferecem maior uniformidade e eficincia na aplicao de gua."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Irrigao Deficitria Controlada"),React$1.createElement("p",{className:"text-gray-700"},"Aplicar estratgias de irrigao deficitria em fases menos sensveis da cultura, visando otimizar o uso da gua sem comprometer significativamente a produtividade."))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Fertirrigao"),React$1.createElement("p",{className:"text-gray-700"},"Aplicar nutrientes via gua de irrigao, permitindo maior parcelamento, uniformidade e eficincia na nutrio das plantas, especialmente para nitrognio e potssio.")))))),React$1.createElement("div",{className:"lg:col-span-2 order-1 lg:order-2"},React$1.createElement(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-6 h-full"},React$1.createElement("h4",{className:"text-xl font-semibold mb-4 text-primary-700"},"Impacto no Yield Gap"),React$1.createElement("div",{className:"mb-6"},React$1.createElement("div",{className:"flex justify-between items-center mb-1"},React$1.createElement("span",{className:"text-sm font-medium text-gray-700"},"Potencial de Reduo do Gap"),React$1.createElement("span",{className:"text-sm font-bold text-primary-700"},"35-45%")),React$1.createElement("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden"},React$1.createElement("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"40%"}}))),React$1.createElement("h5",{className:"font-semibold text-gray-800 mb-2"},"Principais Benefcios:"),React$1.createElement("ul",{className:"text-gray-700 space-y-2 mb-4"},React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Eliminao do estresse hdrico")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Maior absoro e eficincia de nutrientes")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Reduo de abortamento de estruturas reprodutivas")),React$1.createElement("li",{className:"flex items-center"},React$1.createElement("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),React$1.createElement("span",null,"Estabilidade de produo entre safras"))),React$1.createElement("div",{className:"bg-primary-50 p-3 rounded-lg"},React$1.createElement("p",{className:"text-sm text-primary-800 font-medium"},"Tempo para resultados: Imediato a curto prazo (mesma safra de implementao)"))))))))),React$1.createElement("section",{className:"section bg-white"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Casos de Sucesso",subtitle:"Exemplos reais de reduo do yield gap em diferentes regies produtoras",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},React$1.createElement(CaseStudyCard,{title:"Fazenda Esperana",location:"Oeste da Bahia",result:"Reduo de 40% no yield gap",description:"Implementao de sistema de plantio direto combinado com manejo de irrigao de preciso e cultivares adaptadas  regio, resultando em um aumento de produtividade de 3.200 para 4.500 kg/ha em trs safras.",image:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg",delay:0}),React$1.createElement(CaseStudyCard,{title:"Grupo Santa F",location:"Mato Grosso",result:"Reduo de 35% no yield gap",description:"Adoo de agricultura de preciso integrada com manejo biolgico de solo e controle integrado de pragas, elevando a produtividade mdia de 3.800 para 4.900 kg/ha e reduzindo custos com defensivos em 20%.",image:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg",delay:1}),React$1.createElement(CaseStudyCard,{title:"Fazenda Nova Fronteira",location:"Gois",result:"Reduo de 30% no yield gap",description:"Foco na nutrio balanceada com base em anlises de solo e foliar, associada  rotao com leguminosas e monitoramento intensivo de pragas, aumentando a produtividade de 3.600 para 4.400 kg/ha.",image:"https://images.pexels.com/photos/1483880/pexels-photo-1483880.jpeg",delay:2})),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md"},React$1.createElement("div",{className:"flex items-center mb-4"},React$1.createElement(BarChart2,{size:24,className:"text-primary-600 mr-3"}),React$1.createElement("h3",{className:"text-xl font-semibold text-primary-800"},"Fatores Comuns de Sucesso")),React$1.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-700 mb-2"},"Abordagem Integrada"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Implementao de mltiplas solues de forma coordenada, considerando as interaes entre diferentes prticas")),React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-700 mb-2"},"Monitoramento Constante"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Acompanhamento regular de indicadores de solo, planta e ambiente para ajustes rpidos no manejo")),React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-700 mb-2"},"Capacitao Tcnica"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Investimento na formao da equipe e acesso a assistncia tcnica especializada")),React$1.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm"},React$1.createElement("h4",{className:"font-semibold text-primary-700 mb-2"},"Persistncia"),React$1.createElement("p",{className:"text-sm text-gray-700"},"Compromisso com a melhoria contnua e pacincia para resultados que podem levar mais de uma safra")))))),React$1.createElement("section",{className:"section bg-primary-50"},React$1.createElement("div",{className:"container-custom"},React$1.createElement(SectionHeader,{title:"Vdeo Educacional",subtitle:"Especialistas discutem as melhores prticas para reduzir o yield gap no algodo",centered:!0}),React$1.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center"},React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-lg bg-gray-200"},React$1.createElement("div",{className:"flex flex-col items-center justify-center h-full"},React$1.createElement(Video,{size:48,className:"text-primary-600 mb-4"}),React$1.createElement("p",{className:"text-center text-gray-700"},"Vdeo em produo"),React$1.createElement("p",{className:"text-center text-gray-500 text-sm mt-2"},"Em breve, especialistas discutiro estratgias prticas para reduo do yield gap"))),React$1.createElement(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0}},React$1.createElement("h3",{className:"text-2xl font-semibold mb-4 text-primary-800"},"O que voc vai aprender"),React$1.createElement("ul",{className:"space-y-4"},React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Diagnstico e Identificao"),React$1.createElement("p",{className:"text-gray-700"},"Como identificar os principais fatores limitantes da produtividade em sua lavoura"))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Planejamento Estratgico"),React$1.createElement("p",{className:"text-gray-700"},"Elaborao de um plano de ao customizado para a realidade de sua propriedade"))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Implementao Eficiente"),React$1.createElement("p",{className:"text-gray-700"},"Dicas prticas para a adoo de novas tecnologias e prticas de manejo"))),React$1.createElement("li",{className:"flex items-start"},React$1.createElement(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),React$1.createElement("div",null,React$1.createElement("p",{className:"font-medium text-gray-800"},"Avaliao de Resultados"),React$1.createElement("p",{className:"text-gray-700"},"Mtodos para mensurar o impacto das intervenes na reduo do yield gap")))),React$1.createElement("div",{className:"mt-6"},React$1.createElement(Link,{to:"/steps-to-avoid",className:"btn btn-primary"},"Ver Guia Prtico")))))),React$1.createElement("section",{className:"section bg-gray-900 text-white"},React$1.createElement("div",{className:"container-custom text-center"},React$1.createElement("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white"},"Pronto para transformar sua produtividade?"),React$1.createElement("p",{className:"text-lg text-gray-300 mb-8 max-w-3xl mx-auto"},"Conhea as estratgias prticas para reduzir o yield gap em sua lavoura de algodo e maximize seus resultados."),React$1.createElement("div",{className:"flex flex-wrap justify-center gap-4"},React$1.createElement(Link,{to:"/steps-to-avoid",className:"btn bg-primary-500 text-white hover:bg-primary-600"},"Guia Passo a Passo"),React$1.createElement(Link,{to:"/minecraft-yield-gap",className:"btn bg-accent-500 text-white hover:bg-accent-600"},"Experimente o Jogo em Minecraft")))))};function MinecraftYieldGap(){return React$1.createElement("div",{className:"container mx-auto px-4 py-8"},React$1.createElement(SectionHeader,{title:"Minecraft & Yield Gap",subtitle:"Understanding agricultural concepts through gaming"}),React$1.createElement("div",{className:"mt-8 prose prose-lg max-w-none"},React$1.createElement("p",{className:"text-gray-700"},"Minecraft serves as an innovative educational tool for understanding agricultural yield gaps. Through its farming mechanics, players can experience firsthand the challenges and factors that affect crop yields in a simplified but engaging way."),React$1.createElement("div",{className:"bg-white rounded-lg shadow-md p-6 my-8"},React$1.createElement("h3",{className:"text-xl font-semibold mb-4"},"Key Learning Points in Minecraft Farming"),React$1.createElement("ul",{className:"space-y-3"},React$1.createElement("li",null,"Resource management and irrigation systems"),React$1.createElement("li",null,"Impact of environmental conditions on crop growth"),React$1.createElement("li",null,"Importance of soil fertility and crop spacing"),React$1.createElement("li",null,"Basic concepts of agricultural optimization"))),React$1.createElement("p",{className:"text-gray-700"},"By bridging the gap between gaming and agricultural education, Minecraft provides an accessible platform for students and enthusiasts to learn about yield gap concepts in an interactive environment.")))}const StepsToAvoid=()=>React$1.createElement("div",{className:"container mx-auto px-4 py-8"},React$1.createElement(SectionHeader,{title:"Steps to Avoid",subtitle:"Learn about common pitfalls and how to prevent yield gaps"}),React$1.createElement("div",{className:"mt-8 space-y-8"},React$1.createElement("div",{className:"bg-white rounded-lg shadow-md p-6"},React$1.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4"},"Common Mistakes to Avoid"),React$1.createElement("div",{className:"space-y-4"},React$1.createElement("div",{className:"border-l-4 border-red-500 pl-4"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Poor Soil Management"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Neglecting soil health and proper nutrient management can significantly impact crop yields.")),React$1.createElement("div",{className:"border-l-4 border-yellow-500 pl-4"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Incorrect Timing"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Planting or harvesting at suboptimal times can lead to reduced yields.")),React$1.createElement("div",{className:"border-l-4 border-blue-500 pl-4"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Inadequate Water Management"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Both over and under-irrigation can cause significant yield gaps.")))),React$1.createElement("div",{className:"bg-white rounded-lg shadow-md p-6"},React$1.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4"},"Prevention Strategies"),React$1.createElement("div",{className:"grid md:grid-cols-2 gap-6"},React$1.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Regular Monitoring"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Implement consistent monitoring practices to catch issues early.")),React$1.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Data-Driven Decisions"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Use agricultural data and analytics to make informed farming decisions.")),React$1.createElement("div",{className:"bg-purple-50 p-4 rounded-lg"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Expert Consultation"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Regularly consult with agricultural experts and extension services.")),React$1.createElement("div",{className:"bg-orange-50 p-4 rounded-lg"},React$1.createElement("h3",{className:"text-xl font-semibold text-gray-700"},"Technology Integration"),React$1.createElement("p",{className:"text-gray-600 mt-2"},"Adopt appropriate technology solutions for better farm management."))))));function AboutUs(){return React$1.createElement("div",{className:"container mx-auto px-4 py-8"},React$1.createElement(SectionHeader,{title:"About Us",subtitle:"Learn more about our team and mission"}),React$1.createElement("div",{className:"max-w-3xl mx-auto mt-8"},React$1.createElement("p",{className:"text-lg text-gray-700 mb-6"},"We are a dedicated team of agricultural researchers and technology enthusiasts working to bridge the yield gap in global agriculture. Our mission is to help farmers and agricultural professionals understand and overcome the challenges that prevent achieving optimal crop yields."),React$1.createElement("p",{className:"text-lg text-gray-700 mb-6"},"Through research, education, and innovative tools, we strive to make agricultural best practices more accessible and help create a more sustainable and productive farming future.")))}function Conclusions(){return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(SectionHeader,{title:"Conclusions",subtitle:"Key takeaways about yield gap and its solutions"}),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8"},React.createElement(InfoCard,{title:"Understanding Yield Gap",content:"The yield gap represents the difference between potential and actual crop yields, influenced by various environmental, technological, and management factors.",icon:BookOpen}),React.createElement(InfoCard,{title:"Solutions and Implementation",content:"Addressing yield gaps requires a combination of improved farming practices, technology adoption, and knowledge sharing among agricultural communities.",icon:BarChart2}),React.createElement(InfoCard,{title:"Future Outlook",content:"Continuous research and development in agricultural practices will help reduce yield gaps and contribute to global food security.",icon:Lightbulb}),React.createElement(InfoCard,{title:"Call to Action",content:"Join us in our mission to minimize yield gaps and create a more sustainable agricultural future through education and implementation of best practices.",icon:ArrowRight})))}const NotFound=()=>React$1.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4"},React$1.createElement("div",{className:"text-center"},React$1.createElement("h1",{className:"text-9xl font-bold text-primary-600"},"404"),React$1.createElement("h2",{className:"text-3xl font-semibold text-gray-800 mt-4 mb-6"},"Pgina no encontrada"),React$1.createElement("p",{className:"text-gray-600 mb-8 max-w-md mx-auto"},"A pgina que voc est procurando pode ter sido removida, renomeada ou est temporariamente indisponvel."),React$1.createElement("div",{className:"flex flex-wrap justify-center gap-4"},React$1.createElement(Link,{to:"/",className:"btn btn-primary flex items-center gap-2"},React$1.createElement(Home,{size:18}),"Pgina Inicial"),React$1.createElement("button",{onClick:()=>window.history.back(),className:"btn btn-outline flex items-center gap-2"},React$1.createElement(ArrowLeft,{size:18}),"Voltar")))),mascoteAnimadoVideo="/assets/Cotton-C-XI14eJ.mp4",ParrotMascot=({position:t="right"})=>{const e=useAnimation(),n=reactExports.useRef(null),o=reactExports.useRef(null),l=reactExports.useRef(null),[u,f]=reactExports.useState(!1),[h,d]=reactExports.useState(""),[p,m]=reactExports.useState([{text:"Ol! Eu sou o Algodinho, especialista em algodo e yield gap! Como posso ajudar?",type:"bot"}]),[v,_]=reactExports.useState(!1);reactExports.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[p]),reactExports.useEffect(()=>{var A;e.start({y:[0,-10,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(A=o.current)==null||A.play()},[e]);const S=async A=>{_(!0),await new Promise(C=>setTimeout(C,1e3)),_(!1);const w=A.toLowerCase();return w.includes("yield gap")?"O yield gap  a diferena entre a produtividade potencial que poderia ser alcanada e a produtividade real obtida nas fazendas. Trabalho para ajudar os produtores a reduzirem essa diferena!":w.includes("algodo")&&w.includes("produo")?"O Brasil  um dos maiores produtores mundiais de algodo! Nossos principais estados produtores so Mato Grosso e Bahia. A produo sustentvel e eficiente  fundamental para o setor.":w.includes("pragas")||w.includes("doenas")?"O manejo integrado de pragas (MIP)  essencial na cultura do algodo. As principais pragas incluem o bicudo-do-algodoeiro, lagartas e percevejos.  importante fazer monitoramento constante!":w.includes("irrigao")?"A irrigao adequada  fundamental para reduzir o yield gap. Recomendo o uso de sistemas eficientes como gotejamento ou piv central, sempre monitorando a necessidade hdrica da cultura.":w.includes("solo")?"O manejo do solo  crucial! Recomendo anlises regulares, correo adequada e prticas conservacionistas como plantio direto e rotao de culturas.":w.includes("tecnologia")||w.includes("digital")?"A agricultura digital tem um papel importante na reduo do yield gap! Uso de drones, sensores, GPS e softwares de gesto podem ajudar muito na tomada de deciso.":"Posso ajudar com informaes sobre yield gap, produo de algodo, manejo de pragas e doenas, irrigao, solo e tecnologias! O que voc gostaria de saber?"},M=async A=>{if(A.preventDefault(),!h.trim())return;const w={text:h,type:"user"};m(L=>[...L,w]),d("");const O={text:await S(h),type:"bot"};m(L=>[...L,O])};return React$1.createElement(motion.div,{ref:n,animate:e,className:`fixed z-50 ${t==="right"?"right-4":"left-4"} bottom-4 flex items-end gap-4 ${t==="left"?"flex-row-reverse":""}`},u?React$1.createElement(motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm sm:max-w-md overflow-hidden border border-primary-100"},React$1.createElement("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4 flex justify-between items-center"},React$1.createElement("div",{className:"flex items-center gap-3"},React$1.createElement("div",{className:"w-12 h-12 rounded-full bg-primary-50 p-1 flex items-center justify-center overflow-hidden"},React$1.createElement("video",{src:mascoteAnimadoVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-contain"})),React$1.createElement("h3",{className:"text-white font-medium text-sm sm:text-base"},"Algodinho")),React$1.createElement("button",{onClick:()=>f(!1),className:"text-white hover:text-primary-100 transition-colors"},React$1.createElement(X$1,{size:20}))),React$1.createElement("div",{ref:l,className:"max-h-[60vh] overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-primary-50/30 to-transparent"},p.map((A,w)=>React$1.createElement(motion.div,{key:w,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${A.type==="user"?"justify-end":"justify-start"}`},React$1.createElement("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm sm:text-base ${A.type==="user"?"bg-primary-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"}`},A.text))),v&&React$1.createElement(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2 px-4 py-2 bg-gray-100 rounded-full w-20"},React$1.createElement(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:0},className:"w-2 h-2 bg-primary-600 rounded-full"}),React$1.createElement(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:.2},className:"w-2 h-2 bg-primary-600 rounded-full"}),React$1.createElement(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:.4},className:"w-2 h-2 bg-primary-600 rounded-full"}))),React$1.createElement("form",{onSubmit:M,className:"p-4 border-t border-gray-100 bg-white"},React$1.createElement("div",{className:"flex gap-2"},React$1.createElement("input",{type:"text",value:h,onChange:A=>d(A.target.value),placeholder:"Digite sua pergunta...",className:"flex-1 px-4 py-2 text-sm border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent"}),React$1.createElement("button",{type:"submit",className:"bg-primary-600 text-white p-3 rounded-full hover:bg-primary-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105 transition-transform"},React$1.createElement(Send,{size:20}))))):React$1.createElement(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"bg-white p-4 rounded-2xl shadow-lg w-full max-w-xs sm:max-w-sm cursor-pointer flex items-center gap-3 border border-primary-100",onClick:()=>f(!0)},React$1.createElement("div",{className:"w-12 h-12 rounded-full bg-primary-50 p-1 flex items-center justify-center overflow-hidden"},React$1.createElement("video",{src:mascoteAnimadoVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-contain"})),React$1.createElement("p",{className:"text-gray-800 font-medium text-sm"},"Ol! Posso ajudar? "),React$1.createElement("div",{className:`absolute ${t==="right"?"-right-2":"-left-2"} top-1/2 -translate-y-1/2 w-4 h-4 bg-white transform rotate-45 border-r border-b border-primary-100`})))},AnimatedBackground=()=>React$1.createElement("div",{className:"fixed inset-0 -z-10 overflow-hidden"},React$1.createElement(motion.div,{initial:{opacity:0},animate:{opacity:.1},transition:{duration:1},className:"absolute inset-0"},React$1.createElement("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary-100 to-transparent"}),React$1.createElement("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-to-bl from-accent-100 to-transparent"}),React$1.createElement("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-to-tr from-secondary-100 to-transparent"})),[...Array(50)].map((t,e)=>React$1.createElement(motion.div,{key:e,className:"absolute w-2 h-2 bg-primary-200 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-20,0],scale:[1,1.2,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}})));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])})(t,e)};function __extends(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}extendStatics(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)};function __awaiter(t,e,n,o){return new(n||(n=Promise))(function(l,u){function f(p){try{d(o.next(p))}catch(m){u(m)}}function h(p){try{d(o.throw(p))}catch(m){u(m)}}function d(p){var m;p.done?l(p.value):(m=p.value,m instanceof n?m:new n(function(v){v(m)})).then(f,h)}d((o=o.apply(t,[])).next())})}function __generator(t,e){var n,o,l,u,f={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(d){return function(p){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;f;)try{if(n=1,o&&(l=2&m[0]?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return f.label++,{value:m[1],done:!1};case 5:f.label++,o=m[1],m=[0];continue;case 7:m=f.ops.pop(),f.trys.pop();continue;default:if(l=f.trys,!((l=l.length>0&&l[l.length-1])||m[0]!==6&&m[0]!==2)){f=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){f.label=m[1];break}if(m[0]===6&&f.label<l[1]){f.label=l[1],l=m;break}if(l&&f.label<l[2]){f.label=l[2],f.ops.push(m);break}l[2]&&f.ops.pop(),f.trys.pop();continue}m=e.call(t,f)}catch(v){m=[6,v],o=0}finally{n=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,p])}}}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,o,l=t.length;for(n=0;n<l;n+=1)for(var u in o=t[n].prototype)Object.prototype.hasOwnProperty.call(o,u)&&(e.prototype[u]=o[u])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].pause()},resume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].resume()},setRate:function(e){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(e,n){var o,l=0,u=[];switch(e){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<n;l+=1)u.push(o);return u}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(e,n){return e==="float32"?new Float32Array(n):e==="int16"?new Int16Array(n):e==="uint8c"?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){if(_typeof$6(t)==="object"&&t.length){var e,n=createSizedArray(t.length),o=t.length;for(e=0;e<o;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,o){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=o<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,o){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var o,l,u,f,h,d,p,m;switch(d=n*(1-e),p=n*(1-(h=6*t-(f=Math.floor(6*t)))*e),m=n*(1-(1-h)*e),f%6){case 0:o=n,l=m,u=d;break;case 1:o=p,l=n,u=d;break;case 2:o=d,l=n,u=m;break;case 3:o=d,l=p,u=n;break;case 4:o=m,l=d,u=n;break;case 5:o=n,l=d,u=p}return[o,l,u]}function RGBtoHSV(t,e,n){var o,l=Math.max(t,e,n),u=Math.min(t,e,n),f=l-u,h=l===0?0:f/l,d=l/255;switch(l){case u:o=0;break;case t:o=e-n+f*(e<n?6:0),o/=6*f;break;case e:o=n-t+2*f,o/=6*f;break;case n:o=t-e+4*f,o/=6*f}return[o,h,d]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=e.length===1?"0"+e:e;return function(o,l,u){return o<0&&(o=0),l<0&&(l=0),u<0&&(u=0),"#"+n[o]+n[l]+n[u]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var dataManager=function(){var t,e,n=1,o=[],l={onmessage:function(){},postMessage:function(d){t({data:d})}},u={postMessage:function(d){l.onmessage({data:d})}};function f(){e||((e=function(d){if(window.Worker&&window.Blob&&getWebWorker()){var p=new Blob(["var _workerSelf = self; self.onmessage = ",d.toString()],{type:"text/javascript"}),m=URL.createObjectURL(p);return new Worker(m)}return t=d,l}(function(d){if(u.dataManager||(u.dataManager=function(){function m(U,q){var Z,G,H,ne,ae,te,ce=U.length;for(G=0;G<ce;G+=1)if("ks"in(Z=U[G])&&!Z.completed){if(Z.completed=!0,Z.hasMask){var fe=Z.masksProperties;for(ne=fe.length,H=0;H<ne;H+=1)if(fe[H].pt.k.i)S(fe[H].pt.k);else for(te=fe[H].pt.k.length,ae=0;ae<te;ae+=1)fe[H].pt.k[ae].s&&S(fe[H].pt.k[ae].s[0]),fe[H].pt.k[ae].e&&S(fe[H].pt.k[ae].e[0])}Z.ty===0?(Z.layers=v(Z.refId,q),m(Z.layers,q)):Z.ty===4?_(Z.shapes):Z.ty===5&&$(Z)}}function v(U,q){var Z=function(G,H){for(var ne=0,ae=H.length;ne<ae;){if(H[ne].id===G)return H[ne];ne+=1}return null}(U,q);return Z?Z.layers.__used?JSON.parse(JSON.stringify(Z.layers)):(Z.layers.__used=!0,Z.layers):null}function _(U){var q,Z,G;for(q=U.length-1;q>=0;q-=1)if(U[q].ty==="sh")if(U[q].ks.k.i)S(U[q].ks.k);else for(G=U[q].ks.k.length,Z=0;Z<G;Z+=1)U[q].ks.k[Z].s&&S(U[q].ks.k[Z].s[0]),U[q].ks.k[Z].e&&S(U[q].ks.k[Z].e[0]);else U[q].ty==="gr"&&_(U[q].it)}function S(U){var q,Z=U.i.length;for(q=0;q<Z;q+=1)U.i[q][0]+=U.v[q][0],U.i[q][1]+=U.v[q][1],U.o[q][0]+=U.v[q][0],U.o[q][1]+=U.v[q][1]}function M(U,q){var Z=q?q.split("."):[100,100,100];return U[0]>Z[0]||!(Z[0]>U[0])&&(U[1]>Z[1]||!(Z[1]>U[1])&&(U[2]>Z[2]||!(Z[2]>U[2])&&null))}var A,w=function(){var U=[4,4,14];function q(Z){var G,H,ne,ae=Z.length;for(G=0;G<ae;G+=1)Z[G].ty===5&&(H=Z[G],ne=void 0,ne=H.t.d,H.t.d={k:[{s:ne,t:0}]})}return function(Z){if(M(U,Z.v)&&(q(Z.layers),Z.assets)){var G,H=Z.assets.length;for(G=0;G<H;G+=1)Z.assets[G].layers&&q(Z.assets[G].layers)}}}(),C=(A=[4,7,99],function(U){if(U.chars&&!M(A,U.v)){var q,Z=U.chars.length;for(q=0;q<Z;q+=1){var G=U.chars[q];G.data&&G.data.shapes&&(_(G.data.shapes),G.data.ip=0,G.data.op=99999,G.data.st=0,G.data.sr=1,G.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},U.chars[q].t||(G.data.shapes.push({ty:"no"}),G.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),O=function(){var U=[5,7,15];function q(Z){var G,H,ne,ae=Z.length;for(G=0;G<ae;G+=1)Z[G].ty===5&&(H=Z[G],ne=void 0,typeof(ne=H.t.p).a=="number"&&(ne.a={a:0,k:ne.a}),typeof ne.p=="number"&&(ne.p={a:0,k:ne.p}),typeof ne.r=="number"&&(ne.r={a:0,k:ne.r}))}return function(Z){if(M(U,Z.v)&&(q(Z.layers),Z.assets)){var G,H=Z.assets.length;for(G=0;G<H;G+=1)Z.assets[G].layers&&q(Z.assets[G].layers)}}}(),L=function(){var U=[4,1,9];function q(G){var H,ne,ae,te=G.length;for(H=0;H<te;H+=1)if(G[H].ty==="gr")q(G[H].it);else if(G[H].ty==="fl"||G[H].ty==="st")if(G[H].c.k&&G[H].c.k[0].i)for(ae=G[H].c.k.length,ne=0;ne<ae;ne+=1)G[H].c.k[ne].s&&(G[H].c.k[ne].s[0]/=255,G[H].c.k[ne].s[1]/=255,G[H].c.k[ne].s[2]/=255,G[H].c.k[ne].s[3]/=255),G[H].c.k[ne].e&&(G[H].c.k[ne].e[0]/=255,G[H].c.k[ne].e[1]/=255,G[H].c.k[ne].e[2]/=255,G[H].c.k[ne].e[3]/=255);else G[H].c.k[0]/=255,G[H].c.k[1]/=255,G[H].c.k[2]/=255,G[H].c.k[3]/=255}function Z(G){var H,ne=G.length;for(H=0;H<ne;H+=1)G[H].ty===4&&q(G[H].shapes)}return function(G){if(M(U,G.v)&&(Z(G.layers),G.assets)){var H,ne=G.assets.length;for(H=0;H<ne;H+=1)G.assets[H].layers&&Z(G.assets[H].layers)}}}(),F=function(){var U=[4,4,18];function q(G){var H,ne,ae;for(H=G.length-1;H>=0;H-=1)if(G[H].ty==="sh")if(G[H].ks.k.i)G[H].ks.k.c=G[H].closed;else for(ae=G[H].ks.k.length,ne=0;ne<ae;ne+=1)G[H].ks.k[ne].s&&(G[H].ks.k[ne].s[0].c=G[H].closed),G[H].ks.k[ne].e&&(G[H].ks.k[ne].e[0].c=G[H].closed);else G[H].ty==="gr"&&q(G[H].it)}function Z(G){var H,ne,ae,te,ce,fe,ye=G.length;for(ne=0;ne<ye;ne+=1){if((H=G[ne]).hasMask){var J=H.masksProperties;for(te=J.length,ae=0;ae<te;ae+=1)if(J[ae].pt.k.i)J[ae].pt.k.c=J[ae].cl;else for(fe=J[ae].pt.k.length,ce=0;ce<fe;ce+=1)J[ae].pt.k[ce].s&&(J[ae].pt.k[ce].s[0].c=J[ae].cl),J[ae].pt.k[ce].e&&(J[ae].pt.k[ce].e[0].c=J[ae].cl)}H.ty===4&&q(H.shapes)}}return function(G){if(M(U,G.v)&&(Z(G.layers),G.assets)){var H,ne=G.assets.length;for(H=0;H<ne;H+=1)G.assets[H].layers&&Z(G.assets[H].layers)}}}();function $(U){U.t.a.length===0&&U.t.p}var B={completeData:function(U){U.__complete||(L(U),w(U),C(U),O(U),F(U),m(U.layers,U.assets),function(q,Z){if(q){var G=0,H=q.length;for(G=0;G<H;G+=1)q[G].t===1&&(q[G].data.layers=v(q[G].data.refId,Z),m(q[G].data.layers,Z))}}(U.chars,U.assets),U.__complete=!0)}};return B.checkColors=L,B.checkChars=C,B.checkPathProperties=O,B.checkShapes=F,B.completeLayers=m,B}()),u.assetLoader||(u.assetLoader=function(){function m(v){var _=v.getResponseHeader("content-type");return _&&v.responseType==="json"&&_.indexOf("json")!==-1||v.response&&_typeof$5(v.response)==="object"?v.response:v.response&&typeof v.response=="string"?JSON.parse(v.response):v.responseText?JSON.parse(v.responseText):null}return{load:function(v,_,S,M){var A,w=new XMLHttpRequest;try{w.responseType="json"}catch{}w.onreadystatechange=function(){if(w.readyState===4)if(w.status===200)A=m(w),S(A);else try{A=m(w),S(A)}catch(C){M&&M(C)}};try{w.open(["G","E","T"].join(""),v,!0)}catch{w.open(["G","E","T"].join(""),_+"/"+v,!0)}w.send()}}}()),d.data.type==="loadAnimation")u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.dataManager.completeData(m),u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})});else if(d.data.type==="complete"){var p=d.data.animation;u.dataManager.completeData(p),u.postMessage({id:d.data.id,payload:p,status:"success"})}else d.data.type==="loadData"&&u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})})})).onmessage=function(d){var p=d.data,m=p.id,v=o[m];o[m]=null,p.status==="success"?v.onComplete(p.payload):v.onError&&v.onError()})}function h(d,p){var m="processId_"+(n+=1);return o[m]={onComplete:d,onError:p},m}return{loadAnimation:function(d,p,m){f();var v=h(p,m);e.postMessage({type:"loadAnimation",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},loadData:function(d,p,m){f();var v=h(p,m);e.postMessage({type:"loadData",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},completeAnimation:function(d,p,m){f();var v=h(p,m);e.postMessage({type:"complete",animation:d,id:v})}}}(),ImagePreloader=function(){var t=function(){var h=createTag("canvas");h.width=1,h.height=1;var d=h.getContext("2d");return d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,1,1),h}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(h,d,p){var m="";if(h.e)m=h.p;else if(d){var v=h.p;v.indexOf("images/")!==-1&&(v=v.split("/")[1]),m=d+v}else m=p,m+=h.u?h.u:"",m+=h.p;return m}function l(h){var d=0,p=setInterval((function(){(h.getBBox().width||d>500)&&(this._imageLoaded(),clearInterval(p)),d+=1}).bind(this),50)}function u(h){var d={assetData:h},p=o(h,this.assetsPath,this.path);return dataManager.loadData(p,(function(m){d.img=m,this._footageLoaded()}).bind(this),(function(){d.img={},this._footageLoaded()}).bind(this)),d}function f(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=u.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return f.prototype={loadAssets:function(h,d){var p;this.imagesLoadedCb=d;var m=h.length;for(p=0;p<m;p+=1)h[p].layers||(h[p].t&&h[p].t!=="seq"?h[p].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(h[p]))):(this.totalImages+=1,this.images.push(this._createImageData(h[p]))))},setAssetsPath:function(h){this.assetsPath=h||""},setPath:function(h){this.path=h||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(h){for(var d=0,p=this.images.length;d<p;){if(this.images[d].assetData===h)return this.images[d].img;d+=1}return null},createImgData:function(h){var d=o(h,this.assetsPath,this.path),p=createTag("img");p.crossOrigin="anonymous",p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.src=d;var m={img:p,assetData:h};return m},createImageData:function(h){var d=o(h,this.assetsPath,this.path),p=createNS("image");isSafari?this.testImageLoaded(p):p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this._elementHelper.append?this._elementHelper.append(p):this._elementHelper.appendChild(p);var m={img:p,assetData:h};return m},imageLoaded:e,footageLoaded:n,setCacheType:function(h,d){h==="svg"?(this._elementHelper=d,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},f}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],o=0;o<n.length;o+=1)n[o](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,o=this._cbs[t].length;n<o;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,o-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(e){for(var n,o=e.split(`\r
`),l={},u=0,f=0;f<o.length;f+=1)(n=o[f].split(":")).length===2&&(l[n[0]]=n[1].trim(),u+=1);if(u===0)throw new Error;return l}return function(e){for(var n=[],o=0;o<e.length;o+=1){var l=e[o],u={time:l.tm,duration:l.dr};try{u.payload=JSON.parse(e[o].cm)}catch{try{u.payload=t(e[o].cm)}catch{u.payload={name:e[o].cm}}}n.push(u)}return n}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===n)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},o=t.attributes;n.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",n.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?n.loop=!1:l==="true"?n.loop=!0:l!==""&&(n.loop=parseInt(l,10));var u=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;n.autoplay=u!=="false",n.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,o=this.animationData.layers,l=o.length,u=t.layers,f=u.length;for(n=0;n<f;n+=1)for(e=0;e<l;){if(o[e].id===u[n].id){o[e]=u[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(l=t.assets.length,e=0;e<l;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,o=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,o)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&this.goToAndStop(l.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,o=t.length;for(n=0;n<o;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,o=0,l=0,u=!0,f=!1;function h(A){for(var w=0,C=A.target;w<o;)e[w].animation===C&&(e.splice(w,1),w-=1,o-=1,C.isPaused||m()),w+=1}function d(A,w){if(!A)return null;for(var C=0;C<o;){if(e[C].elem===A&&e[C].elem!==null)return e[C].animation;C+=1}var O=new AnimationItem;return v(O,A),O.setData(A,w),O}function p(){l+=1,M()}function m(){l-=1}function v(A,w){A.addEventListener("destroy",h),A.addEventListener("_active",p),A.addEventListener("_idle",m),e.push({elem:w,animation:A}),o+=1}function _(A){var w,C=A-n;for(w=0;w<o;w+=1)e[w].animation.advanceTime(C);n=A,l&&!f?window.requestAnimationFrame(_):u=!0}function S(A){n=A,window.requestAnimationFrame(_)}function M(){!f&&l&&u&&(window.requestAnimationFrame(S),u=!1)}return t.registerAnimation=d,t.loadAnimation=function(A){var w=new AnimationItem;return v(w,null),w.setParams(A),w},t.setSpeed=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setSpeed(A,w)},t.setDirection=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setDirection(A,w)},t.play=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.play(A)},t.pause=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.pause(A)},t.stop=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.stop(A)},t.togglePause=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.togglePause(A)},t.searchAnimations=function(A,w,C){var O,L=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),F=L.length;for(O=0;O<F;O+=1)C&&L[O].setAttribute("data-bm-type",C),d(L[O],A);if(w&&F===0){C||(C="svg");var $=document.getElementsByTagName("body")[0];$.innerText="";var B=createTag("div");B.style.width="100%",B.style.height="100%",B.setAttribute("data-bm-type",C),$.appendChild(B),d(B,A)}},t.resize=function(){var A;for(A=0;A<o;A+=1)e[A].animation.resize()},t.goToAndStop=function(A,w,C){var O;for(O=0;O<o;O+=1)e[O].animation.goToAndStop(A,w,C)},t.destroy=function(A){var w;for(w=o-1;w>=0;w-=1)e[w].animation.destroy(A)},t.freeze=function(){f=!0},t.unfreeze=function(){f=!1,M()},t.setVolume=function(A,w){var C;for(C=0;C<o;C+=1)e[C].animation.setVolume(A,w)},t.mute=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.mute(A)},t.unmute=function(A){var w;for(w=0;w<o;w+=1)e[w].animation.unmute(A)},t.getRegisteredAnimations=function(){var A,w=e.length,C=[];for(A=0;A<w;A+=1)C.push(e[A].animation);return C},t}(),BezierFactory=function(){var t={getBezierEasing:function(p,m,v,_,S){var M=S||("bez_"+p+"_"+m+"_"+v+"_"+_).replace(/\./g,"p");if(e[M])return e[M];var A=new d([p,m,v,_]);return e[M]=A,A}},e={},n=typeof Float32Array=="function";function o(p,m){return 1-3*m+3*p}function l(p,m){return 3*m-6*p}function u(p){return 3*p}function f(p,m,v){return((o(m,v)*p+l(m,v))*p+u(m))*p}function h(p,m,v){return 3*o(m,v)*p*p+2*l(m,v)*p+u(m)}function d(p){this._p=p,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(p){var m=this._p[0],v=this._p[1],_=this._p[2],S=this._p[3];return this._precomputed||this._precompute(),m===v&&_===S?p:p===0?0:p===1?1:f(this._getTForX(p),v,S)},_precompute:function(){var p=this._p[0],m=this._p[1],v=this._p[2],_=this._p[3];this._precomputed=!0,p===m&&v===_||this._calcSampleValues()},_calcSampleValues:function(){for(var p=this._p[0],m=this._p[2],v=0;v<11;++v)this._mSampleValues[v]=f(.1*v,p,m)},_getTForX:function(p){for(var m=this._p[0],v=this._p[2],_=this._mSampleValues,S=0,M=1;M!==10&&_[M]<=p;++M)S+=.1;var A=S+.1*((p-_[--M])/(_[M+1]-_[M])),w=h(A,m,v);return w>=.001?function(C,O,L,F){for(var $=0;$<4;++$){var B=h(O,L,F);if(B===0)return O;O-=(f(O,L,F)-C)/B}return O}(p,A,m,v):w===0?A:function(C,O,L,F,$){var B,U,q=0;do(B=f(U=O+(L-O)/2,F,$)-C)>0?L=U:O=U;while(Math.abs(B)>1e-7&&++q<10);return U}(p,S,S+.1,m,v)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,n){var o=0,l=t,u=createSizedArray(l);return{newElement:function(){return o?u[o-=1]:e()},release:function(f){o===l&&(u=pooling.double(u),l*=2),n&&n(f),u[o]=f,o+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0});function bezFunction(){var t=Math;function e(p,m,v,_,S,M){var A=p*_+m*S+v*M-S*_-M*p-v*m;return A>-.001&&A<.001}var n=function(p,m,v,_){var S,M,A,w,C,O,L=getDefaultCurveSegments(),F=0,$=[],B=[],U=bezierLengthPool.newElement();for(A=v.length,S=0;S<L;S+=1){for(C=S/(L-1),O=0,M=0;M<A;M+=1)w=bmPow(1-C,3)*p[M]+3*bmPow(1-C,2)*C*v[M]+3*(1-C)*bmPow(C,2)*_[M]+bmPow(C,3)*m[M],$[M]=w,B[M]!==null&&(O+=bmPow($[M]-B[M],2)),B[M]=$[M];O&&(F+=O=bmSqrt(O)),U.percents[S]=C,U.lengths[S]=F}return U.addedLength=F,U};function o(p){this.segmentLength=0,this.points=new Array(p)}function l(p,m){this.partialLength=p,this.point=m}var u,f=(u={},function(p,m,v,_){var S=(p[0]+"_"+p[1]+"_"+m[0]+"_"+m[1]+"_"+v[0]+"_"+v[1]+"_"+_[0]+"_"+_[1]).replace(/\./g,"p");if(!u[S]){var M,A,w,C,O,L,F,$=getDefaultCurveSegments(),B=0,U=null;p.length===2&&(p[0]!==m[0]||p[1]!==m[1])&&e(p[0],p[1],m[0],m[1],p[0]+v[0],p[1]+v[1])&&e(p[0],p[1],m[0],m[1],m[0]+_[0],m[1]+_[1])&&($=2);var q=new o($);for(w=v.length,M=0;M<$;M+=1){for(F=createSizedArray(w),O=M/($-1),L=0,A=0;A<w;A+=1)C=bmPow(1-O,3)*p[A]+3*bmPow(1-O,2)*O*(p[A]+v[A])+3*(1-O)*bmPow(O,2)*(m[A]+_[A])+bmPow(O,3)*m[A],F[A]=C,U!==null&&(L+=bmPow(F[A]-U[A],2));B+=L=bmSqrt(L),q.points[M]=new l(L,F),U=F}q.segmentLength=B,u[S]=q}return u[S]});function h(p,m){var v=m.percents,_=m.lengths,S=v.length,M=bmFloor((S-1)*p),A=p*m.addedLength,w=0;if(M===S-1||M===0||A===_[M])return v[M];for(var C=_[M]>A?-1:1,O=!0;O;)if(_[M]<=A&&_[M+1]>A?(w=(A-_[M])/(_[M+1]-_[M]),O=!1):M+=C,M<0||M>=S-1){if(M===S-1)return v[M];O=!1}return v[M]+(v[M+1]-v[M])*w}var d=createTypedArray("float32",8);return{getSegmentsLength:function(p){var m,v=segmentsLengthPool.newElement(),_=p.c,S=p.v,M=p.o,A=p.i,w=p._length,C=v.lengths,O=0;for(m=0;m<w-1;m+=1)C[m]=n(S[m],S[m+1],M[m],A[m+1]),O+=C[m].addedLength;return _&&w&&(C[m]=n(S[m],S[0],M[m],A[0]),O+=C[m].addedLength),v.totalLength=O,v},getNewSegment:function(p,m,v,_,S,M,A){S<0?S=0:S>1&&(S=1);var w,C=h(S,A),O=h(M=M>1?1:M,A),L=p.length,F=1-C,$=1-O,B=F*F*F,U=C*F*F*3,q=C*C*F*3,Z=C*C*C,G=F*F*$,H=C*F*$+F*C*$+F*F*O,ne=C*C*$+F*C*O+C*F*O,ae=C*C*O,te=F*$*$,ce=C*$*$+F*O*$+F*$*O,fe=C*O*$+F*O*O+C*$*O,ye=C*O*O,J=$*$*$,oe=O*$*$+$*O*$+$*$*O,se=O*O*$+$*O*O+O*$*O,Q=O*O*O;for(w=0;w<L;w+=1)d[4*w]=t.round(1e3*(B*p[w]+U*v[w]+q*_[w]+Z*m[w]))/1e3,d[4*w+1]=t.round(1e3*(G*p[w]+H*v[w]+ne*_[w]+ae*m[w]))/1e3,d[4*w+2]=t.round(1e3*(te*p[w]+ce*v[w]+fe*_[w]+ye*m[w]))/1e3,d[4*w+3]=t.round(1e3*(J*p[w]+oe*v[w]+se*_[w]+Q*m[w]))/1e3;return d},getPointInSegment:function(p,m,v,_,S,M){var A=h(S,M),w=1-A;return[t.round(1e3*(w*w*w*p[0]+(A*w*w+w*A*w+w*w*A)*v[0]+(A*A*w+w*A*A+A*w*A)*_[0]+A*A*A*m[0]))/1e3,t.round(1e3*(w*w*w*p[1]+(A*w*w+w*A*w+w*w*A)*v[1]+(A*A*w+w*A*A+A*w*A)*_[1]+A*A*A*m[1]))/1e3]},buildBezierData:f,pointOnLine2D:e,pointOnLine3D:function(p,m,v,_,S,M,A,w,C){if(v===0&&M===0&&C===0)return e(p,m,_,S,A,w);var O,L=t.sqrt(t.pow(_-p,2)+t.pow(S-m,2)+t.pow(M-v,2)),F=t.sqrt(t.pow(A-p,2)+t.pow(w-m,2)+t.pow(C-v,2)),$=t.sqrt(t.pow(A-_,2)+t.pow(w-S,2)+t.pow(C-M,2));return(O=L>F?L>$?L-F-$:$-F-L:$>F?$-F-L:F-L-$)>-1e-4&&O<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,o=this.offsetTime;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var l,u,f,h,d,p,m,v,_,S=e.lastIndex,M=S,A=this.keyframes.length-1,w=!0;w;){if(l=this.keyframes[M],u=this.keyframes[M+1],M===A-1&&t>=u.t-o){l.h&&(l=u),S=0;break}if(u.t-o>t){S=M;break}M<A-1?M+=1:(S=0,w=!1)}f=this.keyframesMetadata[M]||{};var C,O=u.t-o,L=l.t-o;if(l.to){f.bezierData||(f.bezierData=bez.buildBezierData(l.s,u.s||l.e,l.to,l.ti));var F=f.bezierData;if(t>=O||t<L){var $=t>=O?F.points.length-1:0;for(d=F.points[$].point.length,h=0;h<d;h+=1)n[h]=F.points[$].point[h]}else{f.__fnct?_=f.__fnct:(_=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,f.__fnct=_),p=_((t-L)/(O-L));var B,U=F.segmentLength*p,q=e.lastFrame<t&&e._lastKeyframeIndex===M?e._lastAddedLength:0;for(v=e.lastFrame<t&&e._lastKeyframeIndex===M?e._lastPoint:0,w=!0,m=F.points.length;w;){if(q+=F.points[v].partialLength,U===0||p===0||v===F.points.length-1){for(d=F.points[v].point.length,h=0;h<d;h+=1)n[h]=F.points[v].point[h];break}if(U>=q&&U<q+F.points[v+1].partialLength){for(B=(U-q)/F.points[v+1].partialLength,d=F.points[v].point.length,h=0;h<d;h+=1)n[h]=F.points[v].point[h]+(F.points[v+1].point[h]-F.points[v].point[h])*B;break}v<m-1?v+=1:w=!1}e._lastPoint=v,e._lastAddedLength=q-F.points[v].partialLength,e._lastKeyframeIndex=M}}else{var Z,G,H,ne,ae;if(A=l.s.length,C=u.s||l.e,this.sh&&l.h!==1)t>=O?(n[0]=C[0],n[1]=C[1],n[2]=C[2]):t<=L?(n[0]=l.s[0],n[1]=l.s[1],n[2]=l.s[2]):quaternionToEuler(n,slerp(createQuaternion(l.s),createQuaternion(C),(t-L)/(O-L)));else for(M=0;M<A;M+=1)l.h!==1&&(t>=O?p=1:t<L?p=0:(l.o.x.constructor===Array?(f.__fnct||(f.__fnct=[]),f.__fnct[M]?_=f.__fnct[M]:(Z=l.o.x[M]===void 0?l.o.x[0]:l.o.x[M],G=l.o.y[M]===void 0?l.o.y[0]:l.o.y[M],H=l.i.x[M]===void 0?l.i.x[0]:l.i.x[M],ne=l.i.y[M]===void 0?l.i.y[0]:l.i.y[M],_=BezierFactory.getBezierEasing(Z,G,H,ne).get,f.__fnct[M]=_)):f.__fnct?_=f.__fnct:(Z=l.o.x,G=l.o.y,H=l.i.x,ne=l.i.y,_=BezierFactory.getBezierEasing(Z,G,H,ne).get,l.keyframeMetadata=_),p=_((t-L)/(O-L)))),C=u.s||l.e,ae=l.h===1?l.s[M]:l.s[M]+(C[M]-l.s[M])*p,this.propType==="multidimensional"?n[M]=ae:n=ae}return e.lastIndex=S,n}function slerp(t,e,n){var o,l,u,f,h,d=[],p=t[0],m=t[1],v=t[2],_=t[3],S=e[0],M=e[1],A=e[2],w=e[3];return(l=p*S+m*M+v*A+_*w)<0&&(l=-l,S=-S,M=-M,A=-A,w=-w),1-l>1e-6?(o=Math.acos(l),u=Math.sin(o),f=Math.sin((1-n)*o)/u,h=Math.sin(n*o)/u):(f=1-n,h=n),d[0]=f*p+h*S,d[1]=f*m+h*M,d[2]=f*v+h*A,d[3]=f*_+h*w,d}function quaternionToEuler(t,e){var n=e[0],o=e[1],l=e[2],u=e[3],f=Math.atan2(2*o*u-2*n*l,1-2*o*o-2*l*l),h=Math.asin(2*n*o+2*l*u),d=Math.atan2(2*n*u-2*o*l,1-2*n*n-2*l*l);t[0]=f/degToRads,t[1]=h/degToRads,t[2]=d/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,o=t[2]*degToRads,l=Math.cos(e/2),u=Math.cos(n/2),f=Math.cos(o/2),h=Math.sin(e/2),d=Math.sin(n/2),p=Math.sin(o/2);return[h*d*f+l*u*p,h*u*f+l*d*p,l*d*f-h*u*p,l*u*f-h*d*p]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,o){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,o){var l;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var u=e.k.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),this.vel=createTypedArray("float32",u),l=0;l<u;l+=1)this.v[l]=e.k[l]*this.mult,this.pv[l]=e.k[l];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,o){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,o){var l;this.propType="multidimensional";var u,f,h,d,p=e.k.length;for(l=0;l<p-1;l+=1)e.k[l].to&&e.k[l].s&&e.k[l+1]&&e.k[l+1].s&&(u=e.k[l].s,f=e.k[l+1].s,h=e.k[l].to,d=e.k[l].ti,(u.length===2&&(u[0]!==f[0]||u[1]!==f[1])&&bez.pointOnLine2D(u[0],u[1],f[0],f[1],u[0]+h[0],u[1]+h[1])&&bez.pointOnLine2D(u[0],u[1],f[0],f[1],f[0]+d[0],f[1]+d[1])||u.length===3&&(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2])&&bez.pointOnLine3D(u[0],u[1],u[2],f[0],f[1],f[2],u[0]+h[0],u[1]+h[1],u[2]+h[2])&&bez.pointOnLine3D(u[0],u[1],u[2],f[0],f[1],f[2],f[0]+d[0],f[1]+d[1],f[2]+d[2]))&&(e.k[l].to=null,e.k[l].ti=null),u[0]===f[0]&&u[1]===f[1]&&h[0]===0&&h[1]===0&&d[0]===0&&d[1]===0&&(u.length===2||u[2]===f[2]&&h[2]===0&&d[2]===0)&&(e.k[l].to=null,e.k[l].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var m=e.k[0].s.length;for(this.v=createTypedArray("float32",m),this.pv=createTypedArray("float32",m),l=0;l<m;l+=1)this.v[l]=initFrame,this.pv[l]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",m)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,n,o,l){var u;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if(typeof e.k[0]=="number")u=new MultiDimensionalProperty(t,e,o,l);else switch(n){case 0:u=new KeyframedValueProperty(t,e,o,l);break;case 1:u=new KeyframedMultidimensionalProperty(t,e,o,l)}else u=new ValueProperty(t,e,o,l);return u.effectsSequence.length&&l.addDynamicProperty(u),u}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,o,l){var u;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":u=this.v;break;case"i":u=this.i;break;case"o":u=this.o;break;default:u=[]}(!u[o]||u[o]&&!l)&&(u[o]=pointPool.newElement()),u[o][0]=t,u[o][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,o,l,u,f,h){this.setXYAt(t,e,"v",f,h),this.setXYAt(n,o,"o",f,h),this.setXYAt(l,u,"i",f,h)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,o=this.i,l=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],n[0][0],n[0][1],0,!1),l=1);var u,f=this._length-1,h=this._length;for(u=l;u<h;u+=1)t.setTripleAt(e[f][0],e[f][1],o[f][0],o[f][1],n[f][0],n[f][1],u,!1),f-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,n=factory.newElement(),o=t._length===void 0?t.v.length:t._length;for(n.setLength(o),n.c=t.c,e=0;e<o;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,n=t._length;for(e=0;e<n;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function t(_,S,M){var A,w,C,O,L,F,$,B,U,q=M.lastIndex,Z=this.keyframes;if(_<Z[0].t-this.offsetTime)A=Z[0].s[0],C=!0,q=0;else if(_>=Z[Z.length-1].t-this.offsetTime)A=Z[Z.length-1].s?Z[Z.length-1].s[0]:Z[Z.length-2].e[0],C=!0;else{for(var G,H,ne,ae=q,te=Z.length-1,ce=!0;ce&&(G=Z[ae],!((H=Z[ae+1]).t-this.offsetTime>_));)ae<te-1?ae+=1:ce=!1;if(ne=this.keyframesMetadata[ae]||{},q=ae,!(C=G.h===1)){if(_>=H.t-this.offsetTime)B=1;else if(_<G.t-this.offsetTime)B=0;else{var fe;ne.__fnct?fe=ne.__fnct:(fe=BezierFactory.getBezierEasing(G.o.x,G.o.y,G.i.x,G.i.y).get,ne.__fnct=fe),B=fe((_-(G.t-this.offsetTime))/(H.t-this.offsetTime-(G.t-this.offsetTime)))}w=H.s?H.s[0]:G.e[0]}A=G.s[0]}for(F=S._length,$=A.i[0].length,M.lastIndex=q,O=0;O<F;O+=1)for(L=0;L<$;L+=1)U=C?A.i[O][L]:A.i[O][L]+(w.i[O][L]-A.i[O][L])*B,S.i[O][L]=U,U=C?A.o[O][L]:A.o[O][L]+(w.o[O][L]-A.o[O][L])*B,S.o[O][L]=U,U=C?A.v[O][L]:A.v[O][L]+(w.v[O][L]-A.v[O][L])*B,S.v[O][L]=U}function e(){var _=this.comp.renderedFrame-this.offsetTime,S=this.keyframes[0].t-this.offsetTime,M=this.keyframes[this.keyframes.length-1].t-this.offsetTime,A=this._caching.lastFrame;return A!==-999999&&(A<S&&_<S||A>M&&_>M)||(this._caching.lastIndex=A<_?this._caching.lastIndex:0,this.interpolateShape(_,this.pv,this._caching)),this._caching.lastFrame=_,this.pv}function n(){this.paths=this.localShapeCollection}function o(_){(function(S,M){if(S._length!==M._length||S.c!==M.c)return!1;var A,w=S._length;for(A=0;A<w;A+=1)if(S.v[A][0]!==M.v[A][0]||S.v[A][1]!==M.v[A][1]||S.o[A][0]!==M.o[A][0]||S.o[A][1]!==M.o[A][1]||S.i[A][0]!==M.i[A][0]||S.i[A][1]!==M.i[A][1])return!1;return!0})(this.v,_)||(this.v=shapePool.clone(_),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var _,S;this.lock=!0,this._mdf=!1,_=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var M=this.effectsSequence.length;for(S=0;S<M;S+=1)_=this.effectsSequence[S](_);this.setVValue(_),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function u(_,S,M){this.propType="shape",this.comp=_.comp,this.container=_,this.elem=_,this.data=S,this.k=!1,this.kf=!1,this._mdf=!1;var A=M===3?S.pt.k:S.ks.k;this.v=shapePool.clone(A),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function f(_){this.effectsSequence.push(_),this.container.addDynamicProperty(this)}function h(_,S,M){this.propType="shape",this.comp=_.comp,this.elem=_,this.container=_,this.offsetTime=_.data.st,this.keyframes=M===3?S.pt.k:S.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var A=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,A),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}u.prototype.interpolateShape=t,u.prototype.getValue=l,u.prototype.setVValue=o,u.prototype.addEffect=f,h.prototype.getValue=l,h.prototype.interpolateShape=t,h.prototype.setVValue=o,h.prototype.addEffect=f;var d=function(){var _=roundCorner;function S(M,A){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=A.d,this.elem=M,this.comp=M.comp,this.frameId=-1,this.initDynamicPropertyContainer(M),this.p=PropertyFactory.getProp(M,A.p,1,0,this),this.s=PropertyFactory.getProp(M,A.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return S.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var M=this.p.v[0],A=this.p.v[1],w=this.s.v[0]/2,C=this.s.v[1]/2,O=this.d!==3,L=this.v;L.v[0][0]=M,L.v[0][1]=A-C,L.v[1][0]=O?M+w:M-w,L.v[1][1]=A,L.v[2][0]=M,L.v[2][1]=A+C,L.v[3][0]=O?M-w:M+w,L.v[3][1]=A,L.i[0][0]=O?M-w*_:M+w*_,L.i[0][1]=A-C,L.i[1][0]=O?M+w:M-w,L.i[1][1]=A-C*_,L.i[2][0]=O?M+w*_:M-w*_,L.i[2][1]=A+C,L.i[3][0]=O?M-w:M+w,L.i[3][1]=A+C*_,L.o[0][0]=O?M+w*_:M-w*_,L.o[0][1]=A-C,L.o[1][0]=O?M+w:M-w,L.o[1][1]=A+C*_,L.o[2][0]=O?M-w*_:M+w*_,L.o[2][1]=A+C,L.o[3][0]=O?M-w:M+w,L.o[3][1]=A-C*_}},extendPrototype([DynamicPropertyContainer],S),S}(),p=function(){function _(S,M){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=S,this.comp=S.comp,this.data=M,this.frameId=-1,this.d=M.d,this.initDynamicPropertyContainer(S),M.sy===1?(this.ir=PropertyFactory.getProp(S,M.ir,0,0,this),this.is=PropertyFactory.getProp(S,M.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(S,M.pt,0,0,this),this.p=PropertyFactory.getProp(S,M.p,1,0,this),this.r=PropertyFactory.getProp(S,M.r,0,degToRads,this),this.or=PropertyFactory.getProp(S,M.or,0,0,this),this.os=PropertyFactory.getProp(S,M.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var S,M,A,w,C=2*Math.floor(this.pt.v),O=2*Math.PI/C,L=!0,F=this.or.v,$=this.ir.v,B=this.os.v,U=this.is.v,q=2*Math.PI*F/(2*C),Z=2*Math.PI*$/(2*C),G=-Math.PI/2;G+=this.r.v;var H=this.data.d===3?-1:1;for(this.v._length=0,S=0;S<C;S+=1){A=L?B:U,w=L?q:Z;var ne=(M=L?F:$)*Math.cos(G),ae=M*Math.sin(G),te=ne===0&&ae===0?0:ae/Math.sqrt(ne*ne+ae*ae),ce=ne===0&&ae===0?0:-ne/Math.sqrt(ne*ne+ae*ae);ne+=+this.p.v[0],ae+=+this.p.v[1],this.v.setTripleAt(ne,ae,ne-te*w*A*H,ae-ce*w*A*H,ne+te*w*A*H,ae+ce*w*A*H,S,!0),L=!L,G+=O*H}},convertPolygonToPath:function(){var S,M=Math.floor(this.pt.v),A=2*Math.PI/M,w=this.or.v,C=this.os.v,O=2*Math.PI*w/(4*M),L=.5*-Math.PI,F=this.data.d===3?-1:1;for(L+=this.r.v,this.v._length=0,S=0;S<M;S+=1){var $=w*Math.cos(L),B=w*Math.sin(L),U=$===0&&B===0?0:B/Math.sqrt($*$+B*B),q=$===0&&B===0?0:-$/Math.sqrt($*$+B*B);$+=+this.p.v[0],B+=+this.p.v[1],this.v.setTripleAt($,B,$-U*O*C*F,B-q*O*C*F,$+U*O*C*F,B+q*O*C*F,S,!0),L+=A*F}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_),_}(),m=function(){function _(S,M){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=S,this.comp=S.comp,this.frameId=-1,this.d=M.d,this.initDynamicPropertyContainer(S),this.p=PropertyFactory.getProp(S,M.p,1,0,this),this.s=PropertyFactory.getProp(S,M.s,1,0,this),this.r=PropertyFactory.getProp(S,M.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _.prototype={convertRectToPath:function(){var S=this.p.v[0],M=this.p.v[1],A=this.s.v[0]/2,w=this.s.v[1]/2,C=bmMin(A,w,this.r.v),O=C*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(S+A,M-w+C,S+A,M-w+C,S+A,M-w+O,0,!0),this.v.setTripleAt(S+A,M+w-C,S+A,M+w-O,S+A,M+w-C,1,!0),C!==0?(this.v.setTripleAt(S+A-C,M+w,S+A-C,M+w,S+A-O,M+w,2,!0),this.v.setTripleAt(S-A+C,M+w,S-A+O,M+w,S-A+C,M+w,3,!0),this.v.setTripleAt(S-A,M+w-C,S-A,M+w-C,S-A,M+w-O,4,!0),this.v.setTripleAt(S-A,M-w+C,S-A,M-w+O,S-A,M-w+C,5,!0),this.v.setTripleAt(S-A+C,M-w,S-A+C,M-w,S-A+O,M-w,6,!0),this.v.setTripleAt(S+A-C,M-w,S+A-O,M-w,S+A-C,M-w,7,!0)):(this.v.setTripleAt(S-A,M+w,S-A+O,M+w,S-A,M+w,2),this.v.setTripleAt(S-A,M-w,S-A,M-w+O,S-A,M-w,3))):(this.v.setTripleAt(S+A,M-w+C,S+A,M-w+O,S+A,M-w+C,0,!0),C!==0?(this.v.setTripleAt(S+A-C,M-w,S+A-C,M-w,S+A-O,M-w,1,!0),this.v.setTripleAt(S-A+C,M-w,S-A+O,M-w,S-A+C,M-w,2,!0),this.v.setTripleAt(S-A,M-w+C,S-A,M-w+C,S-A,M-w+O,3,!0),this.v.setTripleAt(S-A,M+w-C,S-A,M+w-O,S-A,M+w-C,4,!0),this.v.setTripleAt(S-A+C,M+w,S-A+C,M+w,S-A+O,M+w,5,!0),this.v.setTripleAt(S+A-C,M+w,S+A-O,M+w,S+A-C,M+w,6,!0),this.v.setTripleAt(S+A,M+w-C,S+A,M+w-C,S+A,M+w-O,7,!0)):(this.v.setTripleAt(S-A,M-w,S-A+O,M-w,S-A,M-w,1,!0),this.v.setTripleAt(S-A,M+w,S-A,M+w-O,S-A,M+w,2,!0),this.v.setTripleAt(S+A,M+w,S+A-O,M+w,S+A,M+w,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],_),_}(),v={getShapeProp:function(_,S,M){var A;return M===3||M===4?A=(M===3?S.pt:S.ks).k.length?new h(_,S,M):new u(_,S,M):M===5?A=new m(_,S):M===6?A=new d(_,S):M===7&&(A=new p(_,S)),A.k&&_.addDynamicProperty(A),A},getConstructorFunction:function(){return u},getKeyframedConstructorFunction:function(){return h}};return v}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function u(J){if(J===0)return this;var oe=t(J),se=e(J);return this._t(oe,-se,0,0,se,oe,0,0,0,0,1,0,0,0,0,1)}function f(J){if(J===0)return this;var oe=t(J),se=e(J);return this._t(1,0,0,0,0,oe,-se,0,0,se,oe,0,0,0,0,1)}function h(J){if(J===0)return this;var oe=t(J),se=e(J);return this._t(oe,0,se,0,0,1,0,0,-se,0,oe,0,0,0,0,1)}function d(J){if(J===0)return this;var oe=t(J),se=e(J);return this._t(oe,-se,0,0,se,oe,0,0,0,0,1,0,0,0,0,1)}function p(J,oe){return this._t(1,oe,J,1,0,0)}function m(J,oe){return this.shear(n(J),n(oe))}function v(J,oe){var se=t(oe),Q=e(oe);return this._t(se,Q,0,0,-Q,se,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(J),1,0,0,0,0,1,0,0,0,0,1)._t(se,-Q,0,0,Q,se,0,0,0,0,1,0,0,0,0,1)}function _(J,oe,se){return se||se===0||(se=1),J===1&&oe===1&&se===1?this:this._t(J,0,0,0,0,oe,0,0,0,0,se,0,0,0,0,1)}function S(J,oe,se,Q,ue,_e,ge,ve,we,Pe,Re,Ae,Ne,Ie,he,ke){return this.props[0]=J,this.props[1]=oe,this.props[2]=se,this.props[3]=Q,this.props[4]=ue,this.props[5]=_e,this.props[6]=ge,this.props[7]=ve,this.props[8]=we,this.props[9]=Pe,this.props[10]=Re,this.props[11]=Ae,this.props[12]=Ne,this.props[13]=Ie,this.props[14]=he,this.props[15]=ke,this}function M(J,oe,se){return se=se||0,J!==0||oe!==0||se!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,J,oe,se,1):this}function A(J,oe,se,Q,ue,_e,ge,ve,we,Pe,Re,Ae,Ne,Ie,he,ke){var Me=this.props;if(J===1&&oe===0&&se===0&&Q===0&&ue===0&&_e===1&&ge===0&&ve===0&&we===0&&Pe===0&&Re===1&&Ae===0)return Me[12]=Me[12]*J+Me[15]*Ne,Me[13]=Me[13]*_e+Me[15]*Ie,Me[14]=Me[14]*Re+Me[15]*he,Me[15]*=ke,this._identityCalculated=!1,this;var je=Me[0],Fe=Me[1],Qe=Me[2],Ve=Me[3],Je=Me[4],ot=Me[5],pe=Me[6],de=Me[7],Oe=Me[8],De=Me[9],Ue=Me[10],tt=Me[11],ut=Me[12],mt=Me[13],it=Me[14],ht=Me[15];return Me[0]=je*J+Fe*ue+Qe*we+Ve*Ne,Me[1]=je*oe+Fe*_e+Qe*Pe+Ve*Ie,Me[2]=je*se+Fe*ge+Qe*Re+Ve*he,Me[3]=je*Q+Fe*ve+Qe*Ae+Ve*ke,Me[4]=Je*J+ot*ue+pe*we+de*Ne,Me[5]=Je*oe+ot*_e+pe*Pe+de*Ie,Me[6]=Je*se+ot*ge+pe*Re+de*he,Me[7]=Je*Q+ot*ve+pe*Ae+de*ke,Me[8]=Oe*J+De*ue+Ue*we+tt*Ne,Me[9]=Oe*oe+De*_e+Ue*Pe+tt*Ie,Me[10]=Oe*se+De*ge+Ue*Re+tt*he,Me[11]=Oe*Q+De*ve+Ue*Ae+tt*ke,Me[12]=ut*J+mt*ue+it*we+ht*Ne,Me[13]=ut*oe+mt*_e+it*Pe+ht*Ie,Me[14]=ut*se+mt*ge+it*Re+ht*he,Me[15]=ut*Q+mt*ve+it*Ae+ht*ke,this._identityCalculated=!1,this}function w(J){var oe=J.props;return this.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5],oe[6],oe[7],oe[8],oe[9],oe[10],oe[11],oe[12],oe[13],oe[14],oe[15])}function C(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function O(J){for(var oe=0;oe<16;){if(J.props[oe]!==this.props[oe])return!1;oe+=1}return!0}function L(J){var oe;for(oe=0;oe<16;oe+=1)J.props[oe]=this.props[oe];return J}function F(J){var oe;for(oe=0;oe<16;oe+=1)this.props[oe]=J[oe]}function $(J,oe,se){return{x:J*this.props[0]+oe*this.props[4]+se*this.props[8]+this.props[12],y:J*this.props[1]+oe*this.props[5]+se*this.props[9]+this.props[13],z:J*this.props[2]+oe*this.props[6]+se*this.props[10]+this.props[14]}}function B(J,oe,se){return J*this.props[0]+oe*this.props[4]+se*this.props[8]+this.props[12]}function U(J,oe,se){return J*this.props[1]+oe*this.props[5]+se*this.props[9]+this.props[13]}function q(J,oe,se){return J*this.props[2]+oe*this.props[6]+se*this.props[10]+this.props[14]}function Z(){var J=this.props[0]*this.props[5]-this.props[1]*this.props[4],oe=this.props[5]/J,se=-this.props[1]/J,Q=-this.props[4]/J,ue=this.props[0]/J,_e=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/J,ge=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/J,ve=new Matrix;return ve.props[0]=oe,ve.props[1]=se,ve.props[4]=Q,ve.props[5]=ue,ve.props[12]=_e,ve.props[13]=ge,ve}function G(J){return this.getInverseMatrix().applyToPointArray(J[0],J[1],J[2]||0)}function H(J){var oe,se=J.length,Q=[];for(oe=0;oe<se;oe+=1)Q[oe]=G(J[oe]);return Q}function ne(J,oe,se){var Q=createTypedArray("float32",6);if(this.isIdentity())Q[0]=J[0],Q[1]=J[1],Q[2]=oe[0],Q[3]=oe[1],Q[4]=se[0],Q[5]=se[1];else{var ue=this.props[0],_e=this.props[1],ge=this.props[4],ve=this.props[5],we=this.props[12],Pe=this.props[13];Q[0]=J[0]*ue+J[1]*ge+we,Q[1]=J[0]*_e+J[1]*ve+Pe,Q[2]=oe[0]*ue+oe[1]*ge+we,Q[3]=oe[0]*_e+oe[1]*ve+Pe,Q[4]=se[0]*ue+se[1]*ge+we,Q[5]=se[0]*_e+se[1]*ve+Pe}return Q}function ae(J,oe,se){return this.isIdentity()?[J,oe,se]:[J*this.props[0]+oe*this.props[4]+se*this.props[8]+this.props[12],J*this.props[1]+oe*this.props[5]+se*this.props[9]+this.props[13],J*this.props[2]+oe*this.props[6]+se*this.props[10]+this.props[14]]}function te(J,oe){if(this.isIdentity())return J+","+oe;var se=this.props;return Math.round(100*(J*se[0]+oe*se[4]+se[12]))/100+","+Math.round(100*(J*se[1]+oe*se[5]+se[13]))/100}function ce(){for(var J=0,oe=this.props,se="matrix3d(";J<16;)se+=o(1e4*oe[J])/1e4,se+=J===15?")":",",J+=1;return se}function fe(J){return J<1e-6&&J>0||J>-1e-6&&J<0?o(1e4*J)/1e4:J}function ye(){var J=this.props;return"matrix("+fe(J[0])+","+fe(J[1])+","+fe(J[4])+","+fe(J[5])+","+fe(J[12])+","+fe(J[13])+")"}return function(){this.reset=l,this.rotate=u,this.rotateX=f,this.rotateY=h,this.rotateZ=d,this.skew=m,this.skewFromAxis=v,this.shear=p,this.scale=_,this.setTransform=S,this.translate=M,this.transform=A,this.multiply=w,this.applyToPoint=$,this.applyToX=B,this.applyToY=U,this.applyToZ=q,this.applyToPointArray=ae,this.applyToTriplePoints=ne,this.applyToPointStringified=te,this.toCSS=ce,this.to2dCSS=ye,this.clone=L,this.cloneFromProps=F,this.equals=O,this.inversePoints=H,this.inversePoint=G,this.getInverseMatrix=Z,this._t=this.transform,this.isIdentity=C,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var o=e[n].split("=");if(decodeURIComponent(o[0])==t)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(n,o){e[n]||(e[n]=o)},t.getModifier=function(n,o,l){return new e[n](o,l)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,o,l){var u=[];e<=1?u.push({s:t,e}):t>=1?u.push({s:t-1,e:e-1}):(u.push({s:t,e:1}),u.push({s:0,e:e-1}));var f,h,d=[],p=u.length;for(f=0;f<p;f+=1){var m,v;(h=u[f]).e*l<o||h.s*l>o+n||(m=h.s*l<=o?0:(h.s*l-o)/n,v=h.e*l>=o+n?1:(h.e*l-o)/n,d.push([m,v]))}return d.length||d.push([0,0]),d},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,o,l;if(this._mdf||t){var u=this.o.v%360/360;if(u<0&&(u+=1),(e=this.s.v>1?1+u:this.s.v<0?0+u:this.s.v+u)>(n=this.e.v>1?1+u:this.e.v<0?0+u:this.e.v+u)){var f=e;e=n,n=f}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var h,d,p,m,v,_=this.shapes.length,S=0;if(n===e)for(l=0;l<_;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(l=0;l<_;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var M,A,w=[];for(l=0;l<_;l+=1)if((M=this.shapes[l]).shape._mdf||this._mdf||t||this.m===2){if(d=(o=M.shape.paths)._length,v=0,!M.shape._mdf&&M.pathsData.length)v=M.totalShapeLength;else{for(p=this.releasePathsData(M.pathsData),h=0;h<d;h+=1)m=bez.getSegmentsLength(o.shapes[h]),p.push(m),v+=m.totalLength;M.totalShapeLength=v,M.pathsData=p}S+=v,M.shape._mdf=!0}else M.shape.paths=M.localShapeCollection;var C,O=e,L=n,F=0;for(l=_-1;l>=0;l-=1)if((M=this.shapes[l]).shape._mdf){for((A=M.localShapeCollection).releaseShapes(),this.m===2&&_>1?(C=this.calculateShapeEdges(e,n,M.totalShapeLength,F,S),F+=M.totalShapeLength):C=[[O,L]],d=C.length,h=0;h<d;h+=1){O=C[h][0],L=C[h][1],w.length=0,L<=1?w.push({s:M.totalShapeLength*O,e:M.totalShapeLength*L}):O>=1?w.push({s:M.totalShapeLength*(O-1),e:M.totalShapeLength*(L-1)}):(w.push({s:M.totalShapeLength*O,e:M.totalShapeLength}),w.push({s:0,e:M.totalShapeLength*(L-1)}));var $=this.addShapes(M,w[0]);if(w[0].s!==w[0].e){if(w.length>1)if(M.shape.paths.shapes[M.shape.paths._length-1].c){var B=$.pop();this.addPaths($,A),$=this.addShapes(M,w[1],B)}else this.addPaths($,A),$=this.addShapes(M,w[1]);this.addPaths($,A)}}M.shape.paths=A}}},TrimModifier.prototype.addPaths=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,o,l,u,f){l.setXYAt(e[0],e[1],"o",u),l.setXYAt(n[0],n[1],"i",u+1),f&&l.setXYAt(t[0],t[1],"v",u),l.setXYAt(o[0],o[1],"v",u+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,o){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),o&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var o,l,u,f,h,d,p,m,v=t.pathsData,_=t.shape.paths.shapes,S=t.shape.paths._length,M=0,A=[],w=!0;for(n?(h=n._length,m=n._length):(n=shapePool.newElement(),h=0,m=0),A.push(n),o=0;o<S;o+=1){for(d=v[o].lengths,n.c=_[o].c,u=_[o].c?d.length:d.length+1,l=1;l<u;l+=1)if(M+(f=d[l-1]).addedLength<e.s)M+=f.addedLength,n.c=!1;else{if(M>e.e){n.c=!1;break}e.s<=M&&e.e>=M+f.addedLength?(this.addSegment(_[o].v[l-1],_[o].o[l-1],_[o].i[l],_[o].v[l],n,h,w),w=!1):(p=bez.getNewSegment(_[o].v[l-1],_[o].v[l],_[o].o[l-1],_[o].i[l],(e.s-M)/f.addedLength,(e.e-M)/f.addedLength,d[l-1]),this.addSegmentFromArray(p,n,h,w),w=!1,n.c=!1),M+=f.addedLength,h+=1}if(_[o].c&&d.length){if(f=d[l-1],M<=e.e){var C=d[l-1].addedLength;e.s<=M&&e.e>=M+C?(this.addSegment(_[o].v[l-1],_[o].o[l-1],_[o].i[0],_[o].v[0],n,h,w),w=!1):(p=bez.getNewSegment(_[o].v[l-1],_[o].v[0],_[o].o[l-1],_[o].i[0],(e.s-M)/C,(e.e-M)/C,d[l-1]),this.addSegmentFromArray(p,n,h,w),w=!1,n.c=!1)}else n.c=!1;M+=f.addedLength,h+=1}if(n._length&&(n.setXYAt(n.v[m][0],n.v[m][1],"i",m),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),M>e.e)break;o<S-1&&(n=shapePool.newElement(),w=!0,A.push(n),h=0)}return A},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,o=[0,0],l=t._length,u=0;for(u=0;u<l;u+=1)o[0]+=t.v[u][0],o[1]+=t.v[u][1];o[0]/=l,o[1]/=l;var f,h,d,p,m,v,_=shapePool.newElement();for(_.c=t.c,u=0;u<l;u+=1)f=t.v[u][0]+(o[0]-t.v[u][0])*n,h=t.v[u][1]+(o[1]-t.v[u][1])*n,d=t.o[u][0]+(o[0]-t.o[u][0])*-n,p=t.o[u][1]+(o[1]-t.o[u][1])*-n,m=t.i[u][0]+(o[0]-t.i[u][0])*-n,v=t.i[u][1]+(o[1]-t.i[u][1])*-n,_.setTripleAt(f,h,d,p,m,v,u);return _},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,o,l,u,f,h=this.shapes.length,d=this.amount.v;if(d!==0)for(n=0;n<h;n+=1){if(f=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(f.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)f.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(n,o,l){if(this.elem=n,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||n),o.p&&o.p.s?(this.px=PropertyFactory.getProp(n,o.p.x,0,0,this),this.py=PropertyFactory.getProp(n,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(n,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(n,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(n,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(n,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(n,o.rz,0,degToRads,this),o.or.k[0].ti){var u,f=o.or.k.length;for(u=0;u<f;u+=1)o.or.k[u].to=null,o.or.k[u].ti=null}this.or=PropertyFactory.getProp(n,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(n,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(n,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(n,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(n,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(n,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(n,o.o,0,.01,n):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(n){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&n.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&n.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&n.skewFromAxis(-this.sk.v,this.sa.v),this.r?n.rotate(-this.r.v):n.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?n.translate(this.px.v,this.py.v,-this.pz.v):n.translate(this.px.v,this.py.v,0):n.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(n){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||n){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,u;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),u=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),u=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,u=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],u=[];var f=this.px,h=this.py;f._caching.lastFrame+f.offsetTime<=f.keyframes[0].t?(l[0]=f.getValueAtTime((f.keyframes[0].t+.01)/o,0),l[1]=h.getValueAtTime((h.keyframes[0].t+.01)/o,0),u[0]=f.getValueAtTime(f.keyframes[0].t/o,0),u[1]=h.getValueAtTime(h.keyframes[0].t/o,0)):f._caching.lastFrame+f.offsetTime>=f.keyframes[f.keyframes.length-1].t?(l[0]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/o,0),l[1]=h.getValueAtTime(h.keyframes[h.keyframes.length-1].t/o,0),u[0]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/o,0),u[1]=h.getValueAtTime((h.keyframes[h.keyframes.length-1].t-.01)/o,0)):(l=[f.pv,h.pv],u[0]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/o,f.offsetTime),u[1]=h.getValueAtTime((h._caching.lastFrame+h.offsetTime-.01)/o,h.offsetTime))}else l=u=t;this.v.rotate(-Math.atan2(l[1]-u[1],l[0]-u[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(n){this._addDynamicProperty(n),this.elem.addDynamicProperty(n),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(n,o,l){return new e(n,o,l)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var o=e*e-4*t*n;if(o<0)return[];var l=-e/(2*t);if(o===0)return[l];var u=Math.sqrt(o)/(2*t);return[l-u,l+u]}function polynomialCoefficients(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,o,l){l&&pointEqual(t,e)&&(e=lerpPoint(t,o,1/3)),l&&pointEqual(n,o)&&(n=lerpPoint(t,o,2/3));var u=polynomialCoefficients(t[0],e[0],n[0],o[0]),f=polynomialCoefficients(t[1],e[1],n[1],o[1]);this.a=[u[0],f[0]],this.b=[u[1],f[1]],this.c=[u[2],f[2]],this.d=[u[3],f[3]],this.points=[t,e,n,o]}function extrema(t,e){var n=t.points[0][e],o=t.points[t.points.length-1][e];if(n>o){var l=o;o=n,n=l}for(var u=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),f=0;f<u.length;f+=1)if(u[f]>0&&u[f]<1){var h=t.point(u[f])[e];h<n?n=h:h>o&&(o=h)}return{min:n,max:o}}function intersectData(t,e,n){var o=t.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,o,l,u){if(boxIntersect(t,e))if(n>=u||t.width<=o&&t.height<=o&&e.width<=o&&e.height<=o)l.push([t.t,e.t]);else{var f=splitData(t),h=splitData(e);intersectsImpl(f[0],h[0],n+1,o,l,u),intersectsImpl(f[0],h[1],n+1,o,l,u),intersectsImpl(f[1],h[0],n+1,o,l,u),intersectsImpl(f[1],h[1],n+1,o,l,u)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,o){var l=[t[0],t[1],1],u=[e[0],e[1],1],f=[n[0],n[1],1],h=[o[0],o[1],1],d=crossProduct(crossProduct(l,u),crossProduct(f,h));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,o,l,u,f){var h=n-Math.PI/2,d=n+Math.PI/2,p=e[0]+Math.cos(n)*o*l,m=e[1]-Math.sin(n)*o*l;t.setTripleAt(p,m,p+Math.cos(h)*u,m-Math.sin(h)*u,p+Math.cos(d)*f,m-Math.sin(d)*f,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],o=.5*-Math.PI;return[Math.cos(o)*n[0]-Math.sin(o)*n[1],Math.sin(o)*n[0]+Math.cos(o)*n[1]]}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,o=(e+1)%t.length(),l=getPerpendicularVector(t.v[n],t.v[o]);return Math.atan2(0,1)-Math.atan2(l[1],l[0])}function zigZagCorner(t,e,n,o,l,u,f){var h=getProjectingAngle(e,n),d=e.v[n%e._length],p=e.v[n===0?e._length-1:n-1],m=e.v[(n+1)%e._length],v=u===2?Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)):0,_=u===2?Math.sqrt(Math.pow(d[0]-m[0],2)+Math.pow(d[1]-m[1],2)):0;setPoint(t,e.v[n%e._length],h,f,o,_/(2*(l+1)),v/(2*(l+1)))}function zigZagSegment(t,e,n,o,l,u){for(var f=0;f<o;f+=1){var h=(f+1)/(o+1),d=l===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,p=e.normalAngle(h);setPoint(t,e.point(h),p,u,n,d/(2*(o+1)),d/(2*(o+1))),u=-u}return u}function linearOffset(t,e,n){var o=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,o,n),polarOffset(e,o,n)]}function offsetSegment(t,e){var n,o,l,u,f,h,d;n=(d=linearOffset(t.points[0],t.points[1],e))[0],o=d[1],l=(d=linearOffset(t.points[1],t.points[2],e))[0],u=d[1],f=(d=linearOffset(t.points[2],t.points[3],e))[0],h=d[1];var p=lineIntersection(n,o,l,u);p===null&&(p=o);var m=lineIntersection(f,h,l,u);return m===null&&(m=f),new PolynomialBezier(n,p,m,h)}function joinLines(t,e,n,o,l){var u=e.points[3],f=n.points[0];if(o===3||pointEqual(u,f))return u;if(o===2){var h=-e.tangentAngle(1),d=-n.tangentAngle(0)+Math.PI,p=lineIntersection(u,polarOffset(u,h+Math.PI/2,100),f,polarOffset(f,h+Math.PI/2,100)),m=p?pointDistance(p,u):pointDistance(u,f)/2,v=polarOffset(u,h,2*m*roundCorner);return t.setXYAt(v[0],v[1],"o",t.length()-1),v=polarOffset(f,d,2*m*roundCorner),t.setTripleAt(f[0],f[1],f[0],f[1],v[0],v[1],t.length()),f}var _=lineIntersection(pointEqual(u,e.points[2])?e.points[0]:e.points[2],u,f,pointEqual(f,n.points[1])?n.points[3]:n.points[1]);return _&&pointDistance(_,u)<l?(t.setTripleAt(_[0],_[1],_[0],_[1],_[0],_[1],t.length()),_):u}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),o=e.slice(),l=getIntersection(t[t.length-1],e[0]);return l&&(n[t.length-1]=t[t.length-1].split(l[0])[0],o[0]=e[0].split(l[1])[1]),t.length>1&&e.length>1&&(l=getIntersection(t[0],e[e.length-1]))?[[t[0].split(l[0])[0]],[e[e.length-1].split(l[1])[1]]]:[n,o]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,o,l,u,f=t.inflectionPoints();if(f.length===0)return[offsetSegment(t,e)];if(f.length===1||floatEqual(f[1],1))return n=(l=t.split(f[0]))[0],o=l[1],[offsetSegment(n,e),offsetSegment(o,e)];n=(l=t.split(f[0]))[0];var h=(f[1]-f[0])/(1-f[0]);return u=(l=l[1].split(h))[0],o=l[1],[offsetSegment(n,e),offsetSegment(u,e),offsetSegment(o,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",o="normal",l=e.length,u=0;u<l;u+=1)switch(e[u].toLowerCase()){case"italic":o="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:o,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,o,l,u){var f=u?-1:1,h=o.s.v[0]+(1-o.s.v[0])*(1-l),d=o.s.v[1]+(1-o.s.v[1])*(1-l);t.translate(o.p.v[0]*f*l,o.p.v[1]*f*l,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*f*l),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),n.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),n.scale(u?1/h:h,u?1/d:d),n.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,o){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,o,l,u,f=!1;if(this._mdf||t){var h,d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var p={it:this.cloneElements(this._elements),ty:"gr"};p.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,p),this._groups.splice(0,0,p),this._currentCopies+=1}this.elem.reloadShapes(),f=!0}for(u=0,o=0;o<=this._groups.length-1;o+=1){if(h=u<d,this._groups[o]._render=h,this.changeGroupRender(this._groups[o].it,h),!h){var m=this.elemsData[o].it,v=m[m.length-1];v.transform.op.v!==0?(v.transform.op._mdf=!0,v.transform.op.v=0):v.transform.op._mdf=!1}u+=1}this._currentCopies=d;var _=this.o.v,S=_%1,M=_>0?Math.floor(_):Math.ceil(_),A=this.pMatrix.props,w=this.rMatrix.props,C=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var O,L,F=0;if(_>0){for(;F<M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),F+=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,S,!1),F+=S)}else if(_<0){for(;F>M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),F-=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-S,!0),F-=S)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,u=this._currentCopies;u;){if(L=(n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),F!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15]),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),O=0;O<L;O+=1)n[O]=this.matrix.props[O];this.matrix.reset()}else for(this.matrix.reset(),O=0;O<L;O+=1)n[O]=this.matrix.props[O];F+=1,u-=1,o+=l}}else for(u=this._currentCopies,o=0,l=1;u;)n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,u-=1,o+=l;return f},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,o=shapePool.newElement();o.c=t.c;var l,u,f,h,d,p,m,v,_,S,M,A,w=t._length,C=0;for(n=0;n<w;n+=1)l=t.v[n],f=t.o[n],u=t.i[n],l[0]===f[0]&&l[1]===f[1]&&l[0]===u[0]&&l[1]===u[1]?n!==0&&n!==w-1||t.c?(h=n===0?t.v[w-1]:t.v[n-1],p=(d=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)))?Math.min(d/2,e)/d:0,m=M=l[0]+(h[0]-l[0])*p,v=A=l[1]-(l[1]-h[1])*p,_=m-(m-l[0])*roundCorner,S=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,_,S,M,A,C),C+=1,h=n===w-1?t.v[0]:t.v[n+1],p=(d=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)))?Math.min(d/2,e)/d:0,m=_=l[0]+(h[0]-l[0])*p,v=S=l[1]+(h[1]-l[1])*p,M=m-(m-l[0])*roundCorner,A=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,_,S,M,A,C),C+=1):(o.setTripleAt(l[0],l[1],f[0],f[1],u[0],u[1],C),C+=1):(o.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],C),C+=1);return o},RoundCornersModifier.prototype.processShapes=function(t){var e,n,o,l,u,f,h=this.shapes.length,d=this.rd.v;if(d!==0)for(n=0;n<h;n+=1){if(f=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(f.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)f.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var o=Math.sqrt(n);return floatZero(o)?o>0&&o<1?[e]:[]:[e-o,e+o].filter(function(l){return l>0&&l<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),o=lerpPoint(this.points[2],this.points[3],t),l=lerpPoint(e,n,t),u=lerpPoint(n,o,t),f=lerpPoint(l,u,t);return[new PolynomialBezier(this.points[0],e,l,f,!0),new PolynomialBezier(f,u,o,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,o,n),o},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(t,e,n,o){var l=t._length,u=shapePool.newElement();if(u.c=t.c,t.c||(l-=1),l===0)return u;var f=-1,h=PolynomialBezier.shapeSegment(t,0);zigZagCorner(u,t,0,e,n,o,f);for(var d=0;d<l;d+=1)f=zigZagSegment(u,h,e,n,o,-f),h=d!==l-1||t.c?PolynomialBezier.shapeSegment(t,(d+1)%l):null,zigZagCorner(u,t,d+1,e,n,o,f);return u},ZigZagModifier.prototype.processShapes=function(t){var e,n,o,l,u,f,h=this.shapes.length,d=this.amplitude.v,p=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(d!==0)for(n=0;n<h;n+=1){if(f=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(f.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)f.addShape(this.processPath(e[o],d,p,m));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,o){var l=shapePool.newElement();l.c=t.c;var u,f,h,d=t.length();t.c||(d-=1);var p=[];for(u=0;u<d;u+=1)h=PolynomialBezier.shapeSegment(t,u),p.push(offsetSegmentSplit(h,e));if(!t.c)for(u=d-1;u>=0;u-=1)h=PolynomialBezier.shapeSegmentInverted(t,u),p.push(offsetSegmentSplit(h,e));p=pruneIntersections(p);var m=null,v=null;for(u=0;u<p.length;u+=1){var _=p[u];for(v&&(m=joinLines(l,v,_[0],n,o)),v=_[_.length-1],f=0;f<_.length;f+=1)h=_[f],m&&pointEqual(h.points[0],m)?l.setXYAt(h.points[1][0],h.points[1][1],"o",l.length()-1):l.setTripleAt(h.points[0][0],h.points[0][1],h.points[1][0],h.points[1][1],h.points[0][0],h.points[0][1],l.length()),l.setTripleAt(h.points[3][0],h.points[3][1],h.points[3][0],h.points[3][1],h.points[2][0],h.points[2][1],l.length()),m=h.points[3]}return p.length&&joinLines(l,v,p[0][0],n,o),l},OffsetPathModifier.prototype.processShapes=function(t){var e,n,o,l,u,f,h=this.shapes.length,d=this.amount.v,p=this.miterLimit.v,m=this.lineJoin;if(d!==0)for(n=0;n<h;n+=1){if(f=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(f.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)f.addShape(this.processPath(e[o],d,m,p));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function o(d,p){var m=createTag("span");m.setAttribute("aria-hidden",!0),m.style.fontFamily=p;var v=createTag("span");v.innerText="giItT1WQy@!-/#",m.style.position="absolute",m.style.left="-10000px",m.style.top="-10000px",m.style.fontSize="300px",m.style.fontVariant="normal",m.style.fontStyle="normal",m.style.fontWeight="normal",m.style.letterSpacing="0",m.appendChild(v),document.body.appendChild(m);var _=v.offsetWidth;return v.style.fontFamily=function(S){var M,A=S.split(","),w=A.length,C=[];for(M=0;M<w;M+=1)A[M]!=="sans-serif"&&A[M]!=="monospace"&&C.push(A[M]);return C.join(",")}(d)+", "+p,{node:v,w:_,parent:m}}function l(d,p){var m,v=document.body&&p?"svg":"canvas",_=getFontProperties(d);if(v==="svg"){var S=createNS("text");S.style.fontSize="100px",S.setAttribute("font-family",d.fFamily),S.setAttribute("font-style",_.style),S.setAttribute("font-weight",_.weight),S.textContent="1",d.fClass?(S.style.fontFamily="inherit",S.setAttribute("class",d.fClass)):S.style.fontFamily=d.fFamily,p.appendChild(S),m=S}else{var M=new OffscreenCanvas(500,500).getContext("2d");M.font=_.style+" "+_.weight+" 100px "+d.fFamily,m=M}return{measureText:function(A){return v==="svg"?(m.textContent=A,m.getComputedTextLength()):m.measureText(A).width}}}function u(d){var p=0,m=d.charCodeAt(0);if(m>=55296&&m<=56319){var v=d.charCodeAt(1);v>=56320&&v<=57343&&(p=1024*(m-55296)+v-56320+65536)}return p}function f(d){var p=u(d);return p>=127462&&p<=127487}var h=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return h.isModifier=function(d,p){var m=d.toString(16)+p.toString(16);return n.indexOf(m)!==-1},h.isZeroWidthJoiner=function(d){return d===8205},h.isFlagEmoji=function(d){return f(d.substr(0,2))&&f(d.substr(2,2))},h.isRegionalCode=f,h.isCombinedCharacter=function(d){return e.indexOf(d)!==-1},h.isRegionalFlag=function(d,p){var m=u(d.substr(p,2));if(m!==127988)return!1;var v=0;for(p+=2;v<5;){if((m=u(d.substr(p,2)))<917601||m>917626)return!1;v+=1,p+=2}return u(d.substr(p,2))===917631},h.isVariationSelector=function(d){return d===65039},h.BLACK_FLAG_CODE_POINT=127988,h.prototype={addChars:function(d){if(d){var p;this.chars||(this.chars=[]);var m,v,_=d.length,S=this.chars.length;for(p=0;p<_;p+=1){for(m=0,v=!1;m<S;)this.chars[m].style===d[p].style&&this.chars[m].fFamily===d[p].fFamily&&this.chars[m].ch===d[p].ch&&(v=!0),m+=1;v||(this.chars.push(d[p]),S+=1)}}},addFonts:function(d,p){if(d){if(this.chars)return this.isLoaded=!0,void(this.fonts=d.list);if(!document.body)return this.isLoaded=!0,d.list.forEach(function(F){F.helper=l(F),F.cache={}}),void(this.fonts=d.list);var m,v=d.list,_=v.length,S=_;for(m=0;m<_;m+=1){var M,A,w=!0;if(v[m].loaded=!1,v[m].monoCase=o(v[m].fFamily,"monospace"),v[m].sansCase=o(v[m].fFamily,"sans-serif"),v[m].fPath){if(v[m].fOrigin==="p"||v[m].origin===3){if((M=document.querySelectorAll('style[f-forigin="p"][f-family="'+v[m].fFamily+'"], style[f-origin="3"][f-family="'+v[m].fFamily+'"]')).length>0&&(w=!1),w){var C=createTag("style");C.setAttribute("f-forigin",v[m].fOrigin),C.setAttribute("f-origin",v[m].origin),C.setAttribute("f-family",v[m].fFamily),C.type="text/css",C.innerText="@font-face {font-family: "+v[m].fFamily+"; font-style: normal; src: url('"+v[m].fPath+"');}",p.appendChild(C)}}else if(v[m].fOrigin==="g"||v[m].origin===1){for(M=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),A=0;A<M.length;A+=1)M[A].href.indexOf(v[m].fPath)!==-1&&(w=!1);if(w){var O=createTag("link");O.setAttribute("f-forigin",v[m].fOrigin),O.setAttribute("f-origin",v[m].origin),O.type="text/css",O.rel="stylesheet",O.href=v[m].fPath,document.body.appendChild(O)}}else if(v[m].fOrigin==="t"||v[m].origin===2){for(M=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),A=0;A<M.length;A+=1)v[m].fPath===M[A].src&&(w=!1);if(w){var L=createTag("link");L.setAttribute("f-forigin",v[m].fOrigin),L.setAttribute("f-origin",v[m].origin),L.setAttribute("rel","stylesheet"),L.setAttribute("href",v[m].fPath),p.appendChild(L)}}}else v[m].loaded=!0,S-=1;v[m].helper=l(v[m],p),v[m].cache={},this.fonts.push(v[m])}S===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(d,p,m){for(var v=0,_=this.chars.length;v<_;){if(this.chars[v].ch===d&&this.chars[v].style===p&&this.chars[v].fFamily===m)return this.chars[v];v+=1}return(typeof d=="string"&&d.charCodeAt(0)!==13||!d)&&console&&console.warn&&!this._warned&&(this._warned=!0),t},getFontByName:function(d){for(var p=0,m=this.fonts.length;p<m;){if(this.fonts[p].fName===d)return this.fonts[p];p+=1}return this.fonts[0]},measureText:function(d,p,m){var v=this.getFontByName(p),_=d;if(!v.cache[_]){var S=v.helper;if(d===" "){var M=S.measureText("|"+d+"|"),A=S.measureText("||");v.cache[_]=(M-A)/100}else v.cache[_]=S.measureText(d)/100}return v.cache[_]*m},checkLoadedFonts:function(){var d,p,m,v=this.fonts.length,_=v;for(d=0;d<v;d+=1)this.fonts[d].loaded?_-=1:this.fonts[d].fOrigin==="n"||this.fonts[d].origin===0?this.fonts[d].loaded=!0:(p=this.fonts[d].monoCase.node,m=this.fonts[d].monoCase.w,p.offsetWidth!==m?(_-=1,this.fonts[d].loaded=!0):(p=this.fonts[d].sansCase.node,m=this.fonts[d].sansCase.w,p.offsetWidth!==m&&(_-=1,this.fonts[d].loaded=!0)),this.fonts[d].loaded&&(this.fonts[d].sansCase.parent.parentNode.removeChild(this.fonts[d].sansCase.parent),this.fonts[d].monoCase.parent.parentNode.removeChild(this.fonts[d].monoCase.parent)));_!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},h}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,o=t.ef||[];this.effectElements=[];var l,u=o.length;for(n=0;n<u;n+=1)l=new GroupEffect(o[n],e),this.effectElements.push(l)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var o,l=this.data.ef.length,u=this.data.ef;for(n=0;n<l;n+=1){switch(o=null,u[n].ty){case 0:o=new SliderEffect(u[n],e,this);break;case 1:o=new AngleEffect(u[n],e,this);break;case 2:o=new ColorEffect(u[n],e,this);break;case 3:o=new PointEffect(u[n],e,this);break;case 4:case 7:o=new CheckboxEffect(u[n],e,this);break;case 10:o=new LayerIndexEffect(u[n],e,this);break;case 11:o=new MaskIndexEffect(u[n],e,this);break;case 5:o=new EffectsManager(u[n],e);break;default:o=new NoValueEffect(u[n])}o&&this.effectElements.push(o)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),o=t("shape"),l=t("text"),u=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var f=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(f),this.data.ty===0||this.data.xt?this.compInterface=u(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,o=this.dynamicProperties.length;for(n=0;n<o;n+=1)(e||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,o=this.layers.length;for(this.completeLayers=!0,e=o-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,o=t.length,l=this.layers.length;for(e=0;e<o;e+=1)for(n=0;n<l;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var o=this.elements,l=this.layers,u=0,f=l.length;u<f;)l[u].ind==e&&(o[u]&&o[u]!==!0?(n.push(o[u]),o[u].setAsParent(),l[u].parent!==void 0?this.buildElementParenting(t,l[u].parent,n):t.setHierarchy(n)):(this.buildItem(u),this.addPendingElement(t))),u+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var o=this.createComp(t[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if(typeof n=="number")e=this.elements[n];else{var o,l=this.elements.length;for(o=0;o<l;o+=1)if(this.elements[o].data.nm===n){e=this.elements[o];break}}return t.length===0?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,u=this.globalData.defs,f=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(f),this.solidPath="";var h,d,p,m,v,_,S=this.masksProperties,M=0,A=[],w=createElementID(),C="clipPath",O="clip-path";for(o=0;o<f;o+=1)if((S[o].mode!=="a"&&S[o].mode!=="n"||S[o].inv||S[o].o.k!==100||S[o].o.x)&&(C="mask",O="mask"),S[o].mode!=="s"&&S[o].mode!=="i"||M!==0?p=null:((p=createNS("rect")).setAttribute("fill","#ffffff"),p.setAttribute("width",this.element.comp.data.w||0),p.setAttribute("height",this.element.comp.data.h||0),A.push(p)),l=createNS("path"),S[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),elem:l,lastPath:""},u.appendChild(l);else{var L;if(M+=1,l.setAttribute("fill",S[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),S[o].x.k!==0?(C="mask",O="mask",_=PropertyFactory.getProp(this.element,S[o].x,0,null,this.element),L=createElementID(),(m=createNS("filter")).setAttribute("id",L),(v=createNS("feMorphology")).setAttribute("operator","erode"),v.setAttribute("in","SourceGraphic"),v.setAttribute("radius","0"),m.appendChild(v),u.appendChild(m),l.setAttribute("stroke",S[o].mode==="s"?"#000000":"#ffffff")):(v=null,_=null),this.storedData[o]={elem:l,x:_,expan:v,lastPath:"",lastOperator:"",filterId:L,lastRadius:0},S[o].mode==="i"){d=A.length;var F=createNS("g");for(h=0;h<d;h+=1)F.appendChild(A[h]);var $=createNS("mask");$.setAttribute("mask-type","alpha"),$.setAttribute("id",w+"_"+M),$.appendChild(l),u.appendChild($),F.setAttribute("mask","url("+getLocationHref()+"#"+w+"_"+M+")"),A.length=0,A.push(F)}else A.push(l);S[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),invRect:p},this.viewData[o].prop.k||this.drawPath(S[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(C),f=A.length,o=0;o<f;o+=1)this.maskElement.appendChild(A[o]);M>0&&(this.maskElement.setAttribute("id",w),this.element.maskedElement.setAttribute(O,"url("+getLocationHref()+"#"+w+")"),u.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<o;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<o;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var o=this.localTransforms[t].matrix;n.multiply(o)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)l*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&e.splice(0,0,l.finalTransform),l=l.comp):o=!1;var u,f=e.length;for(n=0;n<f;n+=1)u=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-u[0],t[1]-u[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,o=this.masksProperties.length;for(e=0;e<o;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var l=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),l.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var o,l,u=" M"+e.v[0][0]+","+e.v[0][1];for(l=e._length,o=1;o<l;o+=1)u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==u){var f="";n.elem&&(e.c&&(f=t.inv?this.solidPath+u:u),n.elem.setAttribute("d",f)),n.lastPath=u}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};return t.createFilter=function(e,n){var o=createNS("filter");return o.setAttribute("id",e),n!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},t.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,o="SourceGraphic",l=t.data.ef?t.data.ef.length:0,u=createElementID(),f=filtersFactory.createFilter(u,!0),h=0;for(this.filters=[],e=0;e<l;e+=1){n=null;var d=t.data.ef[e].ty;registeredEffects$1[d]&&(n=new registeredEffects$1[d].effect(f,t.effectsManager.effectElements[e],t,idPrefix+h,o),o=idPrefix+h,registeredEffects$1[d].countsAsEffect&&(h+=1)),n&&this.filters.push(n)}h&&(t.globalData.defs.appendChild(f),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+u+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(n.setAttribute("id",l),n.appendChild(o),this.globalData.defs.appendChild(n),this.checkMasks()){var u=createNS("g");u.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),u.appendChild(this.layerElement),this.transformedElement=u,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,o,l,u=this.layerId+"_"+t;if(t===1||t===3){var f=createNS("mask");f.setAttribute("id",u),f.setAttribute("mask-type",t===3?"luminance":"alpha"),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),f.appendChild(o),this.globalData.defs.appendChild(f),featureSupport.maskType||t!==1||(f.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(l=createNS("g")).appendChild(o),f.appendChild(l),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(t===2){var h=createNS("mask");h.setAttribute("id",u),h.setAttribute("mask-type","alpha");var d=createNS("g");h.appendChild(d),e=createElementID(),n=filtersFactory.createFilter(e);var p=createNS("feComponentTransfer");p.setAttribute("in","SourceGraphic"),n.appendChild(p);var m=createNS("feFuncA");m.setAttribute("type","table"),m.setAttribute("tableValues","1.0 0.0"),p.appendChild(m),this.globalData.defs.appendChild(n);var v=createNS("rect");v.setAttribute("width",this.comp.data.w),v.setAttribute("height",this.comp.data.h),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("fill","#ffffff"),v.setAttribute("opacity","0"),d.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),d.appendChild(v),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(o),featureSupport.maskType||(h.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),l=createNS("g"),d.appendChild(v),l.appendChild(this.layerElement),d.appendChild(l)),this.globalData.defs.appendChild(h)}this.matteMasks[t]=u}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,o=e.length;n<o;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,o=n.length;o;)if(n[o-=1].elem===t)return void(n[o].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var o=0,l=t.length;o<l;){if(t[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,o){var l;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var u,f=e.length||0;for(l=0;l<f;l+=1)u=PropertyFactory.getProp(t,e[l].v,0,0,this),this.k=u.k||this.k,this.dataProps[l]={n:e[l].n,p:u};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var o=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,o=this.o.length/2;n<o;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,o,l=4*this.data.p;for(e=0;e<l;e+=1)n=e%4==0?100:255,o=Math.round(this.prop.v[e]*n),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(l=this.prop.v.length,e=4*this.data.p;e<l;e+=1)n=e%2==0?100:1,o=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==o&&(this.o[e-4*this.data.p]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",n),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,u,f,h=[];for(f=4*e.g.p,u=0;u<f;u+=4)l=createNS("stop"),o.appendChild(l),h.push(l);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=o,this.cst=h},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,o,l,u=createNS("mask"),f=createNS("path");u.appendChild(f);var h=createElementID(),d=createElementID();u.setAttribute("id",d);var p=createNS(t.t===1?"linearGradient":"radialGradient");p.setAttribute("id",h),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),l=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var m=this.stops;for(o=4*t.g.p;o<l;o+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(n),m.push(n);f.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+h+")"),t.ty==="gs"&&(f.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),f.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&f.setAttribute("stroke-miterlimit",t.ml)),this.of=p,this.ms=u,this.ost=m,this.maskId=d,e.msElem=f}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,o){if(e===0)return"";var l,u=t.o,f=t.i,h=t.v,d=" M"+o.applyToPointStringified(h[0][0],h[0][1]);for(l=1;l<e;l+=1)d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(f[l][0],f[l][1])+" "+o.applyToPointStringified(h[l][0],h[l][1]);return n&&e&&(d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(f[0][0],f[0][1])+" "+o.applyToPointStringified(h[0][0],h[0][1]),d+="z"),d},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(p,m,v){(v||m.transform.op._mdf)&&m.transform.container.setAttribute("opacity",m.transform.op.v),(v||m.transform.mProps._mdf)&&m.transform.container.setAttribute("transform",m.transform.mProps.v.to2dCSS())}function o(){}function l(p,m,v){var _,S,M,A,w,C,O,L,F,$,B=m.styles.length,U=m.lvl;for(C=0;C<B;C+=1){if(A=m.sh._mdf||v,m.styles[C].lvl<U){for(L=e.reset(),F=U-m.styles[C].lvl,$=m.transformers.length-1;!A&&F>0;)A=m.transformers[$].mProps._mdf||A,F-=1,$-=1;if(A)for(F=U-m.styles[C].lvl,$=m.transformers.length-1;F>0;)L.multiply(m.transformers[$].mProps.v),F-=1,$-=1}else L=t;if(S=(O=m.sh.paths)._length,A){for(M="",_=0;_<S;_+=1)(w=O.shapes[_])&&w._length&&(M+=buildShapeString(w,w._length,w.c,L));m.caches[C]=M}else M=m.caches[C];m.styles[C].d+=p.hd===!0?"":M,m.styles[C]._mdf=A||m.styles[C]._mdf}}function u(p,m,v){var _=m.style;(m.c._mdf||v)&&_.pElem.setAttribute("fill","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&_.pElem.setAttribute("fill-opacity",m.o.v)}function f(p,m,v){h(p,m,v),d(p,m,v)}function h(p,m,v){var _,S,M,A,w,C=m.gf,O=m.g._hasOpacity,L=m.s.v,F=m.e.v;if(m.o._mdf||v){var $=p.ty==="gf"?"fill-opacity":"stroke-opacity";m.style.pElem.setAttribute($,m.o.v)}if(m.s._mdf||v){var B=p.t===1?"x1":"cx",U=B==="x1"?"y1":"cy";C.setAttribute(B,L[0]),C.setAttribute(U,L[1]),O&&!m.g._collapsable&&(m.of.setAttribute(B,L[0]),m.of.setAttribute(U,L[1]))}if(m.g._cmdf||v){_=m.cst;var q=m.g.c;for(M=_.length,S=0;S<M;S+=1)(A=_[S]).setAttribute("offset",q[4*S]+"%"),A.setAttribute("stop-color","rgb("+q[4*S+1]+","+q[4*S+2]+","+q[4*S+3]+")")}if(O&&(m.g._omdf||v)){var Z=m.g.o;for(M=(_=m.g._collapsable?m.cst:m.ost).length,S=0;S<M;S+=1)A=_[S],m.g._collapsable||A.setAttribute("offset",Z[2*S]+"%"),A.setAttribute("stop-opacity",Z[2*S+1])}if(p.t===1)(m.e._mdf||v)&&(C.setAttribute("x2",F[0]),C.setAttribute("y2",F[1]),O&&!m.g._collapsable&&(m.of.setAttribute("x2",F[0]),m.of.setAttribute("y2",F[1])));else if((m.s._mdf||m.e._mdf||v)&&(w=Math.sqrt(Math.pow(L[0]-F[0],2)+Math.pow(L[1]-F[1],2)),C.setAttribute("r",w),O&&!m.g._collapsable&&m.of.setAttribute("r",w)),m.e._mdf||m.h._mdf||m.a._mdf||v){w||(w=Math.sqrt(Math.pow(L[0]-F[0],2)+Math.pow(L[1]-F[1],2)));var G=Math.atan2(F[1]-L[1],F[0]-L[0]),H=m.h.v;H>=1?H=.99:H<=-1&&(H=-.99);var ne=w*H,ae=Math.cos(G+m.a.v)*ne+L[0],te=Math.sin(G+m.a.v)*ne+L[1];C.setAttribute("fx",ae),C.setAttribute("fy",te),O&&!m.g._collapsable&&(m.of.setAttribute("fx",ae),m.of.setAttribute("fy",te))}}function d(p,m,v){var _=m.style,S=m.d;S&&(S._mdf||v)&&S.dashStr&&(_.pElem.setAttribute("stroke-dasharray",S.dashStr),_.pElem.setAttribute("stroke-dashoffset",S.dashoffset[0])),m.c&&(m.c._mdf||v)&&_.pElem.setAttribute("stroke","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&_.pElem.setAttribute("stroke-opacity",m.o.v),(m.w._mdf||v)&&(_.pElem.setAttribute("stroke-width",m.w.v),_.msElem&&_.msElem.setAttribute("stroke-width",m.w.v))}return{createRenderFunction:function(p){switch(p.ty){case"fl":return u;case"gf":return h;case"gs":return f;case"st":return d;case"sh":case"el":case"rc":case"sr":return l;case"tr":return n;case"no":return o;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,o,l,u){this.o=t,this.sw=e,this.sc=n,this.fc=o,this.m=l,this.p=u,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!o,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,o,l=this.shapes.length,u=this.stylesList.length,f=[],h=!1;for(n=0;n<u;n+=1){for(o=this.stylesList[n],h=!1,f.length=0,t=0;t<l;t+=1)(e=this.shapes[t]).styles.indexOf(o)!==-1&&(f.push(e),h=e._isAnimated||h);f.length>1&&h&&this.setShapesAsAnimated(f)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,o=new SVGStyleData(t,e),l=o.pElem;return t.ty==="st"?n=new SVGStrokeStyleData(this,t,o):t.ty==="fl"?n=new SVGFillStyleData(this,t,o):t.ty==="gf"||t.ty==="gs"?(n=new(t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,o),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),l.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):t.ty==="no"&&(n=new SVGNoStyleData(this,t,o)),t.ty!=="st"&&t.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),l.setAttribute("fill-opacity","0"),t.lj===1&&l.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&l.setAttribute("fill-rule","evenodd"),t.ln&&l.setAttribute("id",t.ln),t.cl&&l.setAttribute("class",t.cl),t.bm&&(l.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(o),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),o=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var o=4;t.ty==="rc"?o=5:t.ty==="el"?o=6:t.ty==="sr"&&(o=7);var l=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,o=this.animatedContents.length;n<o;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,o=this.stylesList.length;for(e=0;e<o;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,o,l,u,f){var h,d,p,m,v,_,S=[].concat(u),M=t.length-1,A=[],w=[];for(h=M;h>=0;h-=1){if((_=this.searchProcessedElement(t[h]))?e[h]=n[_-1]:t[h]._render=f,t[h].ty==="fl"||t[h].ty==="st"||t[h].ty==="gf"||t[h].ty==="gs"||t[h].ty==="no")_?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],l),t[h]._render&&e[h].style.pElem.parentNode!==o&&o.appendChild(e[h].style.pElem),A.push(e[h].style);else if(t[h].ty==="gr"){if(_)for(p=e[h].it.length,d=0;d<p;d+=1)e[h].prevViewData[d]=e[h].it[d];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,e[h].gr,l+1,S,f),t[h]._render&&e[h].gr.parentNode!==o&&o.appendChild(e[h].gr)}else t[h].ty==="tr"?(_||(e[h]=this.createTransformElement(t[h],o)),m=e[h].transform,S.push(m)):t[h].ty==="sh"||t[h].ty==="rc"||t[h].ty==="el"||t[h].ty==="sr"?(_||(e[h]=this.createShapeElement(t[h],S,l)),this.setElementStyles(e[h])):t[h].ty==="tm"||t[h].ty==="rd"||t[h].ty==="ms"||t[h].ty==="pb"||t[h].ty==="zz"||t[h].ty==="op"?(_?(v=e[h]).closed=!1:((v=ShapeModifiers.getModifier(t[h].ty)).init(this,t[h]),e[h]=v,this.shapeModifiers.push(v)),w.push(v)):t[h].ty==="rp"&&(_?(v=e[h]).closed=!0:(v=ShapeModifiers.getModifier(t[h].ty),e[h]=v,v.init(this,t,h,e),this.shapeModifiers.push(v),f=!1),w.push(v));this.addProcessedElement(t[h],h+1)}for(M=A.length,h=0;h<M;h+=1)A[h].closed=!0;for(M=w.length,h=0;h<M;h+=1)w[h].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,o,l,u){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var f=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,f=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,f=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,f=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,f=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,f=!0),!u.length||this.p[0]===u[0]&&this.p[1]===u[1]&&this.p[4]===u[4]&&this.p[5]===u[5]&&this.p[12]===u[12]&&this.p[13]===u[13]||(this.p=u,this._mdf.p=!0,f=!0),f},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,u=t||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)u=n!==this.keysIndex?this.effectsSequence[o](u,u.t):this.effectsSequence[o](this.currentData,u.t);e!==u&&this.setCurrentData(u),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,o=t.length;n<=o-1&&!(n===o-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,o=[],l=0,u=t.length,f=!1,h=!1,d="";l<u;)f=h,h=!1,e=t.charCodeAt(l),d=t.charAt(l),FontManager.isCombinedCharacter(e)?f=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,l)?d=t.substr(l,14):(n=t.charCodeAt(l+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(d=t.substr(l,2),f=!0):d=FontManager.isFlagEmoji(t.substr(l,4))?t.substr(l,4):t.substr(l,2)):e>56319?(n=t.charCodeAt(l+1),FontManager.isVariationSelector(e)&&(f=!0)):FontManager.isZeroWidthJoiner(e)&&(f=!0,h=!0),f?(o[o.length-1]+=d,f=!1):o.push(d),l+=d.length;return o},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,o,l,u,f,h,d=this.elem.globalData.fontManager,p=this.data,m=[],v=0,_=p.m.g,S=0,M=0,A=0,w=[],C=0,O=0,L=d.getFontByName(t.f),F=0,$=getFontProperties(L);t.fWeight=$.weight,t.fStyle=$.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var B,U=t.tr/1e3*t.finalSize;if(t.sz)for(var q,Z,G=!0,H=t.sz[0],ne=t.sz[1];G;){q=0,C=0,n=(Z=this.buildFinalText(t.t)).length,U=t.tr/1e3*t.finalSize;var ae=-1;for(e=0;e<n;e+=1)B=Z[e].charCodeAt(0),o=!1,Z[e]===" "?ae=e:B!==13&&B!==3||(C=0,o=!0,q+=t.finalLineHeight||1.2*t.finalSize),d.chars?(h=d.getCharData(Z[e],L.fStyle,L.fFamily),F=o?0:h.w*t.finalSize/100):F=d.measureText(Z[e],t.f,t.finalSize),C+F>H&&Z[e]!==" "?(ae===-1?n+=1:e=ae,q+=t.finalLineHeight||1.2*t.finalSize,Z.splice(e,ae===e?1:0,"\r"),ae=-1,C=0):(C+=F,C+=U);q+=L.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&ne<q?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=Z,n=t.finalText.length,G=!1)}C=-U,F=0;var te,ce=0;for(e=0;e<n;e+=1)if(o=!1,(B=(te=t.finalText[e]).charCodeAt(0))===13||B===3?(ce=0,w.push(C),O=C>O?C:O,C=-2*U,l="",o=!0,A+=1):l=te,d.chars?(h=d.getCharData(te,L.fStyle,d.getFontByName(t.f).fFamily),F=o?0:h.w*t.finalSize/100):F=d.measureText(l,t.f,t.finalSize),te===" "?ce+=F+U:(C+=F+U+ce,ce=0),m.push({l:F,an:F,add:S,n:o,anIndexes:[],val:l,line:A,animatorJustifyOffset:0}),_==2){if(S+=F,l===""||l===" "||e===n-1){for(l!==""&&l!==" "||(S-=F);M<=e;)m[M].an=S,m[M].ind=v,m[M].extra=F,M+=1;v+=1,S=0}}else if(_==3){if(S+=F,l===""||e===n-1){for(l===""&&(S-=F);M<=e;)m[M].an=S,m[M].ind=v,m[M].extra=F,M+=1;S=0,v+=1}}else m[v].ind=v,m[v].extra=0,v+=1;if(t.l=m,O=C>O?C:O,w.push(C),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=O,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=w;var fe,ye,J,oe,se=p.a;f=se.length;var Q=[];for(u=0;u<f;u+=1){for((fe=se[u]).a.sc&&(t.strokeColorAnim=!0),fe.a.sw&&(t.strokeWidthAnim=!0),(fe.a.fc||fe.a.fh||fe.a.fs||fe.a.fb)&&(t.fillColorAnim=!0),oe=0,J=fe.s.b,e=0;e<n;e+=1)(ye=m[e]).anIndexes[u]=oe,(J==1&&ye.val!==""||J==2&&ye.val!==""&&ye.val!==" "||J==3&&(ye.n||ye.val==" "||e==n-1)||J==4&&(ye.n||e==n-1))&&(fe.s.rn===1&&Q.push(oe),oe+=1);p.a[u].s.totalChars=oe;var ue,_e=-1;if(fe.s.rn===1)for(e=0;e<n;e+=1)_e!=(ye=m[e]).anIndexes[u]&&(_e=ye.anIndexes[u],ue=Q.splice(Math.floor(Math.random()*Q.length),1)[0]),ye.anIndexes[u]=ue}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=L.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function o(l,u){this._currentTextLength=-1,this.k=!1,this.data=u,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,u.s||{k:0},0,0,this),this.e="e"in u?PropertyFactory.getProp(l,u.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,u.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,u.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,u.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,u.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,u.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var u=0,f=0,h=1,d=1;this.ne.v>0?u=this.ne.v/100:f=-this.ne.v/100,this.xe.v>0?h=1-this.xe.v/100:d=1+this.xe.v/100;var p=BezierFactory.getBezierEasing(u,f,h,d).get,m=0,v=this.finalS,_=this.finalE,S=this.data.sh;if(S===2)m=p(m=_===v?l>=_?1:0:t(0,e(.5/(_-v)+(l-v)/(_-v),1)));else if(S===3)m=p(m=_===v?l>=_?0:1:1-t(0,e(.5/(_-v)+(l-v)/(_-v),1)));else if(S===4)_===v?m=0:(m=t(0,e(.5/(_-v)+(l-v)/(_-v),1)))<.5?m*=2:m=1-2*(m-.5),m=p(m);else if(S===5){if(_===v)m=0;else{var M=_-v,A=-M/2+(l=e(t(0,l+.5-v),_-v)),w=M/2;m=Math.sqrt(1-A*A/(w*w))}m=p(m)}else S===6?(_===v?m=0:(l=e(t(0,l+.5-v),_-v),m=(1+Math.cos(Math.PI+2*Math.PI*l/(_-v)))/2),m=p(m)):(l>=n(v)&&(m=t(0,e(l-v<0?e(_,1)-(v-l):_-l,1))),m=p(m));if(this.sm.v!==100){var C=.01*this.sm.v;C===0&&(C=1e-8);var O=.5-.5*C;m<O?m=0:(m=(m-O)/C)>1&&(m=1)}return m*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var u=this.data.r===2?1:100/this.data.totalChars,f=this.o.v/u,h=this.s.v/u+f,d=this.e.v/u+f;if(h>d){var p=h;h=d,d=p}this.finalS=h,this.finalE=d}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,u,f){return new o(l,u)}}}();function TextAnimatorDataProperty(t,e,n){var o={propType:!1},l=PropertyFactory.getProp,u=e.a;this.a={r:u.r?l(t,u.r,0,degToRads,n):o,rx:u.rx?l(t,u.rx,0,degToRads,n):o,ry:u.ry?l(t,u.ry,0,degToRads,n):o,sk:u.sk?l(t,u.sk,0,degToRads,n):o,sa:u.sa?l(t,u.sa,0,degToRads,n):o,s:u.s?l(t,u.s,1,.01,n):o,a:u.a?l(t,u.a,1,0,n):o,o:u.o?l(t,u.o,0,.01,n):o,p:u.p?l(t,u.p,1,0,n):o,sw:u.sw?l(t,u.sw,0,0,n):o,sc:u.sc?l(t,u.sc,1,0,n):o,fc:u.fc?l(t,u.fc,1,0,n):o,fh:u.fh?l(t,u.fh,0,0,n):o,fs:u.fs?l(t,u.fs,0,.01,n):o,fb:u.fb?l(t,u.fb,0,.01,n):o,t:u.t?l(t,u.t,0,0,n):o},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,o=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,o,l,u,f,h,d,p,m,v,_,S,M,A,w,C,O,L,F,$=this._moreOptions.alignment.v,B=this._animatorsData,U=this._textData,q=this.mHelper,Z=this._renderType,G=this.renderedLetters.length,H=t.l;if(this._hasMaskedPath){if(F=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ne,ae=F.v;for(this._pathData.r.v&&(ae=ae.reverse()),f={tLength:0,segments:[]},u=ae._length-1,C=0,l=0;l<u;l+=1)ne=bez.buildBezierData(ae.v[l],ae.v[l+1],[ae.o[l][0]-ae.v[l][0],ae.o[l][1]-ae.v[l][1]],[ae.i[l+1][0]-ae.v[l+1][0],ae.i[l+1][1]-ae.v[l+1][1]]),f.tLength+=ne.segmentLength,f.segments.push(ne),C+=ne.segmentLength;l=u,F.v.c&&(ne=bez.buildBezierData(ae.v[l],ae.v[0],[ae.o[l][0]-ae.v[l][0],ae.o[l][1]-ae.v[l][1]],[ae.i[0][0]-ae.v[0][0],ae.i[0][1]-ae.v[0][1]]),f.tLength+=ne.segmentLength,f.segments.push(ne),C+=ne.segmentLength),this._pathData.pi=f}if(f=this._pathData.pi,h=this._pathData.f.v,_=0,v=1,p=0,m=!0,A=f.segments,h<0&&F.v.c)for(f.tLength<Math.abs(h)&&(h=-Math.abs(h)%f.tLength),v=(M=A[_=A.length-1].points).length-1;h<0;)h+=M[v].partialLength,(v-=1)<0&&(v=(M=A[_-=1].points).length-1);S=(M=A[_].points)[v-1],w=(d=M[v]).partialLength}u=H.length,n=0,o=0;var te,ce,fe,ye,J,oe=1.2*t.finalSize*.714,se=!0;fe=B.length;var Q,ue,_e,ge,ve,we,Pe,Re,Ae,Ne,Ie,he,ke=-1,Me=h,je=_,Fe=v,Qe=-1,Ve="",Je=this.defaultPropsArray;if(t.j===2||t.j===1){var ot=0,pe=0,de=t.j===2?-.5:-1,Oe=0,De=!0;for(l=0;l<u;l+=1)if(H[l].n){for(ot&&(ot+=pe);Oe<l;)H[Oe].animatorJustifyOffset=ot,Oe+=1;ot=0,De=!0}else{for(ce=0;ce<fe;ce+=1)(te=B[ce].a).t.propType&&(De&&t.j===2&&(pe+=te.t.v*de),(J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars)).length?ot+=te.t.v*J[0]*de:ot+=te.t.v*J*de);De=!1}for(ot&&(ot+=pe);Oe<l;)H[Oe].animatorJustifyOffset=ot,Oe+=1}for(l=0;l<u;l+=1){if(q.reset(),ge=1,H[l].n)n=0,o+=t.yOffset,o+=se?1:0,h=Me,se=!1,this._hasMaskedPath&&(v=Fe,S=(M=A[_=je].points)[v-1],w=(d=M[v]).partialLength,p=0),Ve="",Ie="",Ae="",he="",Je=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Qe!==H[l].line){switch(t.j){case 1:h+=C-t.lineWidths[H[l].line];break;case 2:h+=(C-t.lineWidths[H[l].line])/2}Qe=H[l].line}ke!==H[l].ind&&(H[ke]&&(h+=H[ke].extra),h+=H[l].an/2,ke=H[l].ind),h+=$[0]*H[l].an*.005;var Ue=0;for(ce=0;ce<fe;ce+=1)(te=B[ce].a).p.propType&&((J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars)).length?Ue+=te.p.v[0]*J[0]:Ue+=te.p.v[0]*J),te.a.propType&&((J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars)).length?Ue+=te.a.v[0]*J[0]:Ue+=te.a.v[0]*J);for(m=!0,this._pathData.a.v&&(h=.5*H[0].an+(C-this._pathData.f.v-.5*H[0].an-.5*H[H.length-1].an)*ke/(u-1),h+=this._pathData.f.v);m;)p+w>=h+Ue||!M?(O=(h+Ue-p)/d.partialLength,ue=S.point[0]+(d.point[0]-S.point[0])*O,_e=S.point[1]+(d.point[1]-S.point[1])*O,q.translate(-$[0]*H[l].an*.005,-$[1]*oe*.01),m=!1):M&&(p+=d.partialLength,(v+=1)>=M.length&&(v=0,A[_+=1]?M=A[_].points:F.v.c?(v=0,M=A[_=0].points):(p-=d.partialLength,M=null)),M&&(S=d,w=(d=M[v]).partialLength));Q=H[l].an/2-H[l].add,q.translate(-Q,0,0)}else Q=H[l].an/2-H[l].add,q.translate(-Q,0,0),q.translate(-$[0]*H[l].an*.005,-$[1]*oe*.01,0);for(ce=0;ce<fe;ce+=1)(te=B[ce].a).t.propType&&(J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars),n===0&&t.j===0||(this._hasMaskedPath?J.length?h+=te.t.v*J[0]:h+=te.t.v*J:J.length?n+=te.t.v*J[0]:n+=te.t.v*J));for(t.strokeWidthAnim&&(we=t.sw||0),t.strokeColorAnim&&(ve=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(Pe=[t.fc[0],t.fc[1],t.fc[2]]),ce=0;ce<fe;ce+=1)(te=B[ce].a).a.propType&&((J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars)).length?q.translate(-te.a.v[0]*J[0],-te.a.v[1]*J[1],te.a.v[2]*J[2]):q.translate(-te.a.v[0]*J,-te.a.v[1]*J,te.a.v[2]*J));for(ce=0;ce<fe;ce+=1)(te=B[ce].a).s.propType&&((J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars)).length?q.scale(1+(te.s.v[0]-1)*J[0],1+(te.s.v[1]-1)*J[1],1):q.scale(1+(te.s.v[0]-1)*J,1+(te.s.v[1]-1)*J,1));for(ce=0;ce<fe;ce+=1){if(te=B[ce].a,J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars),te.sk.propType&&(J.length?q.skewFromAxis(-te.sk.v*J[0],te.sa.v*J[1]):q.skewFromAxis(-te.sk.v*J,te.sa.v*J)),te.r.propType&&(J.length?q.rotateZ(-te.r.v*J[2]):q.rotateZ(-te.r.v*J)),te.ry.propType&&(J.length?q.rotateY(te.ry.v*J[1]):q.rotateY(te.ry.v*J)),te.rx.propType&&(J.length?q.rotateX(te.rx.v*J[0]):q.rotateX(te.rx.v*J)),te.o.propType&&(J.length?ge+=(te.o.v*J[0]-ge)*J[0]:ge+=(te.o.v*J-ge)*J),t.strokeWidthAnim&&te.sw.propType&&(J.length?we+=te.sw.v*J[0]:we+=te.sw.v*J),t.strokeColorAnim&&te.sc.propType)for(Re=0;Re<3;Re+=1)J.length?ve[Re]+=(te.sc.v[Re]-ve[Re])*J[0]:ve[Re]+=(te.sc.v[Re]-ve[Re])*J;if(t.fillColorAnim&&t.fc){if(te.fc.propType)for(Re=0;Re<3;Re+=1)J.length?Pe[Re]+=(te.fc.v[Re]-Pe[Re])*J[0]:Pe[Re]+=(te.fc.v[Re]-Pe[Re])*J;te.fh.propType&&(Pe=J.length?addHueToRGB(Pe,te.fh.v*J[0]):addHueToRGB(Pe,te.fh.v*J)),te.fs.propType&&(Pe=J.length?addSaturationToRGB(Pe,te.fs.v*J[0]):addSaturationToRGB(Pe,te.fs.v*J)),te.fb.propType&&(Pe=J.length?addBrightnessToRGB(Pe,te.fb.v*J[0]):addBrightnessToRGB(Pe,te.fb.v*J))}}for(ce=0;ce<fe;ce+=1)(te=B[ce].a).p.propType&&(J=B[ce].s.getMult(H[l].anIndexes[ce],U.a[ce].s.totalChars),this._hasMaskedPath?J.length?q.translate(0,te.p.v[1]*J[0],-te.p.v[2]*J[1]):q.translate(0,te.p.v[1]*J,-te.p.v[2]*J):J.length?q.translate(te.p.v[0]*J[0],te.p.v[1]*J[1],-te.p.v[2]*J[2]):q.translate(te.p.v[0]*J,te.p.v[1]*J,-te.p.v[2]*J));if(t.strokeWidthAnim&&(Ae=we<0?0:we),t.strokeColorAnim&&(Ne="rgb("+Math.round(255*ve[0])+","+Math.round(255*ve[1])+","+Math.round(255*ve[2])+")"),t.fillColorAnim&&t.fc&&(Ie="rgb("+Math.round(255*Pe[0])+","+Math.round(255*Pe[1])+","+Math.round(255*Pe[2])+")"),this._hasMaskedPath){if(q.translate(0,-t.ls),q.translate(0,$[1]*oe*.01+o,0),this._pathData.p.v){L=(d.point[1]-S.point[1])/(d.point[0]-S.point[0]);var tt=180*Math.atan(L)/Math.PI;d.point[0]<S.point[0]&&(tt+=180),q.rotate(-tt*Math.PI/180)}q.translate(ue,_e,0),h-=$[0]*H[l].an*.005,H[l+1]&&ke!==H[l+1].ind&&(h+=H[l].an/2,h+=.001*t.tr*t.finalSize)}else{switch(q.translate(n,o,0),t.ps&&q.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:q.translate(H[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[H[l].line]),0,0);break;case 2:q.translate(H[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[H[l].line])/2,0,0)}q.translate(0,-t.ls),q.translate(Q,0,0),q.translate($[0]*H[l].an*.005,$[1]*oe*.01,0),n+=H[l].l+.001*t.tr*t.finalSize}Z==="html"?Ve=q.toCSS():Z==="svg"?Ve=q.to2dCSS():Je=[q.props[0],q.props[1],q.props[2],q.props[3],q.props[4],q.props[5],q.props[6],q.props[7],q.props[8],q.props[9],q.props[10],q.props[11],q.props[12],q.props[13],q.props[14],q.props[15]],he=ge}G<=l?(ye=new LetterProps(he,Ae,Ne,Ie,Ve,Je),this.renderedLetters.push(ye),G+=1,this.lettersChangedFlag=!0):(ye=this.renderedLetters[l],this.lettersChangedFlag=ye.update(he,Ae,Ne,Ie,Ve,Je)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,o,l=e.length,u="";for(n=0;n<l;n+=1)e[n].ty==="sh"&&(o=e[n].ks.k,u+=buildShapeString(o,o.i.length,!0,t));return u},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,o,l){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(o,l,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=e.title,this.svgElement.appendChild(o),n+=l}if(e&&e.description){var u=createNS("desc"),f=createElementID();u.setAttribute("id",f),u.textContent=e.description,this.svgElement.appendChild(u),n+=" "+f}n&&this.svgElement.setAttribute("aria-labelledby",n);var h=createNS("defs");this.svgElement.appendChild(h);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:h,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,o=[],l="";e<n;)t[e]==="\r"||t[e]===""?(o.push(l),l=""):l+=t[e],e+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var o=n.it[n.it.length-1];o.s&&(o.s.k[0]=e,o.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var o=this.globalData.fontManager.getFontByName(n.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=n.fWeight,u=n.fStyle;this.layerElement.setAttribute("font-style",u),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",n.t);var f,h=n.l||[],d=!!this.globalData.fontManager.chars;e=h.length;var p=this.mHelper,m=this.data.singleShape,v=0,_=0,S=!0,M=.001*n.tr*n.finalSize;if(!m||d||n.sz){var A,w=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!d||!m||t===0){if(f=w>t?this.textSpans[t].span:createNS(d?"g":"text"),w<=t){if(f.setAttribute("stroke-linecap","butt"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=f,d){var C=createNS("g");f.appendChild(C),this.textSpans[t].childSpan=C}this.textSpans[t].span=f,this.layerElement.appendChild(f)}f.style.display="inherit"}if(p.reset(),m&&(h[t].n&&(v=-M,_+=n.yOffset,_+=S?1:0,S=!1),this.applyTextPropertiesToMatrix(n,p,h[t].line,v,_),v+=h[t].l||0,v+=M),d){var O;if((A=this.globalData.fontManager.getCharData(n.finalText[t],o.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t===1)O=new SVGCompElement(A.data,this.globalData,this);else{var L=emptyShapeData;A.data&&A.data.shapes&&(L=this.buildShapeData(A.data,n.finalSize)),O=new SVGShapeElement(L,this.globalData,this)}if(this.textSpans[t].glyph){var F=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(F.layerElement),F.destroy()}this.textSpans[t].glyph=O,O._debug=!0,O.prepareFrame(0),O.renderFrame(),this.textSpans[t].childSpan.appendChild(O.layerElement),A.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else m&&f.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),f.textContent=h[t].val,f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&f&&f.setAttribute("d","")}else{var $=this.textContainer,B="start";switch(n.j){case 1:B="end";break;case 2:B="middle";break;default:B="start"}$.setAttribute("text-anchor",B),$.setAttribute("letter-spacing",M);var U=this.buildTextContents(n.finalText);for(e=U.length,_=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(f=this.textSpans[t].span||createNS("tspan")).textContent=U[t],f.setAttribute("x",0),f.setAttribute("y",_),f.style.display="inherit",$.appendChild(f),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=f,_+=n.finalLineHeight;this.layerElement.appendChild($)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,o,l,u=this.textAnimator.renderedLetters,f=this.textProperty.currentData.l;for(e=f.length,t=0;t<e;t+=1)f[t].n||(n=u[t],o=this.textSpans[t].span,(l=this.textSpans[t].glyph)&&l.renderFrame(),n._mdf.m&&o.setAttribute("transform",n.m),n._mdf.o&&o.setAttribute("opacity",n.o),n._mdf.sw&&o.setAttribute("stroke-width",n.sw),n._mdf.sc&&o.setAttribute("stroke",n.sc),n._mdf.fc&&o.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",t.w),o.setAttribute("height",t.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();n.setAttribute("id",l),n.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var o="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(o===-1)return;if(this.elements[o]&&this.elements[o]!==!0){var l=e[o].getMatte(this.layers[t].tt);n.setMatte(l)}else this.buildItem(o),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var o="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,l=this.elements[o].getMatte(this.layers[e].tt);t.setMatte(l);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var o,l=0;l<e;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(n,o):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,o="_";for(e=0;e<n;e+=1)o+=t[e].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(t,e){for(var n=0,o=t.transforms.length,l=e;n<o&&!e;){if(t.transforms[n].transform.mProps._mdf){l=!0;break}n+=1}if(l)for(t.finalTransform.reset(),n=o-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=l},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,o=null;function l(){var u,f,h;e||(u=createNS("svg"),f=createNS("filter"),h=createNS("feColorMatrix"),f.setAttribute("id",t),h.setAttribute("type","matrix"),h.setAttribute("color-interpolation-filters","sRGB"),h.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),f.appendChild(h),u.appendChild(f),u.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(u.style.display="none"),o=u,document.body.appendChild(o),e=createTag("canvas"),(n=e.getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:l,get:function(u){return e||l(),e.width=u.width,e.height=u.height,n.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,n,o=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<o;e+=1){n=null;var l=t.data.ef[e].ty;registeredEffects[l]&&(n=new registeredEffects[l].effect(t.effectsManager.effectElements[e],t)),n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(n=0;n<o;n+=1)this.masksProperties[n].mode!=="n"&&(l=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,o,l=this.element.finalTransform.mat,u=this.element.canvasContext,f=this.masksProperties.length;for(u.beginPath(),t=0;t<f;t+=1)if(this.masksProperties[t].mode!=="n"){var h;this.masksProperties[t].inv&&(u.moveTo(0,0),u.lineTo(this.element.globalData.compSize.w,0),u.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),u.lineTo(0,this.element.globalData.compSize.h),u.lineTo(0,0)),o=this.viewData[t].v,e=l.applyToPointArray(o.v[0][0],o.v[0][1],0),u.moveTo(e[0],e[1]);var d=o._length;for(h=1;h<d;h+=1)n=l.applyToTriplePoints(o.o[h-1],o.i[h],o.v[h]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=l.applyToTriplePoints(o.o[h-1],o.i[0],o.v[0]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),u.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,u=4;e.ty==="rc"?u=5:e.ty==="el"?u=6:e.ty==="sr"&&(u=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,u,t);var f,h=n.length;for(l=0;l<h;l+=1)n[l].closed||(f={transforms:o.addTransformSequence(n[l].transforms),trNodes:[]},this.styledShapes.push(f),n[l].elements.push(f))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||e.clearCanvas===void 0||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,t.pe,0,0,this),t.ks.p.s?(this.px=o(this,t.ks.p.x,1,0,this),this.py=o(this,t.ks.p.y,1,0,this),this.pz=o(this,t.ks.p.z,1,0,this)):this.p=o(this,t.ks.p,1,0,this),t.ks.a&&(this.a=o(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var l,u=t.ks.or.k.length;for(l=0;l<u;l+=1)t.ks.or.k[l].to=null,t.ks.or.k[l].ti=null}this.or=o(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,t.ks.rx,0,degToRads,this),this.ry=o(this,t.ks.ry,0,degToRads,this),this.rz=o(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},o={};if(t.ty==="fl"||t.ty==="st"?(o.c=PropertyFactory.getProp(this,t.c,1,255,this),o.c.k||(n.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):t.ty!=="gf"&&t.ty!=="gs"||(o.s=PropertyFactory.getProp(this,t.s,1,null,this),o.e=PropertyFactory.getProp(this,t.e,1,null,this),o.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,t.g,this)),o.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),o.w=PropertyFactory.getProp(this,t.w,0,null,this),o.w.k||(n.wi=o.w.v),t.d){var l=new DashProperty(this,t.d,"canvas",this);o.d=l,o.d.k||(n.da=o.d.dashArray,n.do=o.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),o.style=n,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,o,l){var u,f,h,d,p,m,v=t.length-1,_=[],S=[],M=[].concat(l);for(u=v;u>=0;u-=1){if((d=this.searchProcessedElement(t[u]))?e[u]=n[d-1]:t[u]._shouldRender=o,t[u].ty==="fl"||t[u].ty==="st"||t[u].ty==="gf"||t[u].ty==="gs")d?e[u].style.closed=!1:e[u]=this.createStyleElement(t[u],M),_.push(e[u].style);else if(t[u].ty==="gr"){if(d)for(h=e[u].it.length,f=0;f<h;f+=1)e[u].prevViewData[f]=e[u].it[f];else e[u]=this.createGroupElement(t[u]);this.searchShapes(t[u].it,e[u].it,e[u].prevViewData,o,M)}else t[u].ty==="tr"?(d||(m=this.createTransformElement(t[u]),e[u]=m),M.push(e[u]),this.addTransformToStyleList(e[u])):t[u].ty==="sh"||t[u].ty==="rc"||t[u].ty==="el"||t[u].ty==="sr"?d||(e[u]=this.createShapeElement(t[u])):t[u].ty==="tm"||t[u].ty==="rd"||t[u].ty==="pb"||t[u].ty==="zz"||t[u].ty==="op"?(d?(p=e[u]).closed=!1:((p=ShapeModifiers.getModifier(t[u].ty)).init(this,t[u]),e[u]=p,this.shapeModifiers.push(p)),S.push(p)):t[u].ty==="rp"&&(d?(p=e[u]).closed=!0:(p=ShapeModifiers.getModifier(t[u].ty),e[u]=p,p.init(this,t,u,e),this.shapeModifiers.push(p),o=!1),S.push(p));this.addProcessedElement(t[u],u+1)}for(this.removeTransformFromStyleList(),this.closeStyles(_),v=S.length,u=0;u<v;u+=1)S[u].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,o,l,u,f,h,d,p=this.stylesList.length,m=this.globalData.renderer,v=this.globalData.canvasContext;for(t=0;t<p;t+=1)if(((h=(d=this.stylesList[t]).type)!=="st"&&h!=="gs"||d.wi!==0)&&d.data._shouldRender&&d.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(m.save(),u=d.elements,h==="st"||h==="gs"?(m.ctxStrokeStyle(h==="st"?d.co:d.grd),m.ctxLineWidth(d.wi),m.ctxLineCap(d.lc),m.ctxLineJoin(d.lj),m.ctxMiterLimit(d.ml||0)):m.ctxFillStyle(h==="fl"?d.co:d.grd),m.ctxOpacity(d.coOp),h!=="st"&&h!=="gs"&&v.beginPath(),m.ctxTransform(d.preTransforms.finalTransform.props),n=u.length,e=0;e<n;e+=1){for(h!=="st"&&h!=="gs"||(v.beginPath(),d.da&&(v.setLineDash(d.da),v.lineDashOffset=d.do)),l=(f=u[e].trNodes).length,o=0;o<l;o+=1)f[o].t==="m"?v.moveTo(f[o].p[0],f[o].p[1]):f[o].t==="c"?v.bezierCurveTo(f[o].pts[0],f[o].pts[1],f[o].pts[2],f[o].pts[3],f[o].pts[4],f[o].pts[5]):v.closePath();h!=="st"&&h!=="gs"||(m.ctxStroke(),d.da&&v.setLineDash(this.dashResetter))}h!=="st"&&h!=="gs"&&this.globalData.renderer.ctxFill(d.r),m.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,o){var l,u;for(u=t,l=e.length-1;l>=0;l-=1)e[l].ty==="tr"?(u=n[l].transform,this.renderShapeTransform(t,u)):e[l].ty==="sh"||e[l].ty==="el"||e[l].ty==="rc"||e[l].ty==="sr"?this.renderPath(e[l],n[l]):e[l].ty==="fl"?this.renderFill(e[l],n[l],u):e[l].ty==="st"?this.renderStroke(e[l],n[l],u):e[l].ty==="gf"||e[l].ty==="gs"?this.renderGradientFill(e[l],n[l],u):e[l].ty==="gr"?this.renderShape(u,e[l].it,n[l].it):e[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,o,l,u=t.trNodes,f=e.paths,h=f._length;u.length=0;var d=t.transforms.finalTransform;for(l=0;l<h;l+=1){var p=f.shapes[l];if(p&&p.v){for(o=p._length,n=1;n<o;n+=1)n===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[n],p.v[n])});o===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&o&&(u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[0],p.v[0])}),u.push({t:"z"}))}}t.trNodes=u}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,o=e.styledShapes.length;for(n=0;n<o;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var o,l=e.style;if(!l.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var u,f=this.globalData.canvasContext,h=e.s.v,d=e.e.v;if(t.t===1)o=f.createLinearGradient(h[0],h[1],d[0],d[1]);else{var p=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),m=Math.atan2(d[1]-h[1],d[0]-h[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var _=p*v,S=Math.cos(m+e.a.v)*_+h[0],M=Math.sin(m+e.a.v)*_+h[1];o=f.createRadialGradient(S,M,0,h[0],h[1],p)}var A=t.g.p,w=e.g.c,C=1;for(u=0;u<A;u+=1)e.g._hasOpacity&&e.g._collapsable&&(C=e.g.o[2*u+1]),o.addColorStop(w[4*u]/100,"rgba("+w[4*u+1]+","+w[4*u+2]+","+w[4*u+3]+","+C+")");l.grd=o}l.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var o=e.style,l=e.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var o,l,u,f,h,d,p,m,v,_,S,M,A=this.globalData.fontManager.getFontByName(t.f),w=t.l,C=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var O=this.data.singleShape,L=.001*t.tr*t.finalSize,F=0,$=0,B=!0,U=0;for(o=0;o<l;o+=1){f=(u=this.globalData.fontManager.getCharData(t.finalText[o],A.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&u.data||{},C.reset(),O&&w[o].n&&(F=-L,$+=t.yOffset,$+=B?1:0,B=!1),v=(p=f.shapes?f.shapes[0].it:[]).length,C.scale(t.finalSize/100,t.finalSize/100),O&&this.applyTextPropertiesToMatrix(t,C,w[o].line,F,$),S=createSizedArray(v-1);var q=0;for(m=0;m<v;m+=1)if(p[m].ty==="sh"){for(d=p[m].ks.k.i.length,_=p[m].ks.k,M=[],h=1;h<d;h+=1)h===1&&M.push(C.applyToX(_.v[0][0],_.v[0][1],0),C.applyToY(_.v[0][0],_.v[0][1],0)),M.push(C.applyToX(_.o[h-1][0],_.o[h-1][1],0),C.applyToY(_.o[h-1][0],_.o[h-1][1],0),C.applyToX(_.i[h][0],_.i[h][1],0),C.applyToY(_.i[h][0],_.i[h][1],0),C.applyToX(_.v[h][0],_.v[h][1],0),C.applyToY(_.v[h][0],_.v[h][1],0));M.push(C.applyToX(_.o[h-1][0],_.o[h-1][1],0),C.applyToY(_.o[h-1][0],_.o[h-1][1],0),C.applyToX(_.i[0][0],_.i[0][1],0),C.applyToY(_.i[0][0],_.i[0][1],0),C.applyToX(_.v[0][0],_.v[0][1],0),C.applyToY(_.v[0][0],_.v[0][1],0)),S[q]=M,q+=1}O&&(F+=w[o].l,F+=L),this.textSpans[U]?this.textSpans[U].elem=S:this.textSpans[U]={elem:S},U+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,o,l,u;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var f,h=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;e=d.length;var p,m,v=null,_=null,S=null,M=this.globalData.renderer;for(t=0;t<e;t+=1)if(!d[t].n){if((f=h[t])&&(M.save(),M.ctxTransform(f.p),M.ctxOpacity(f.o)),this.fill){for(f&&f.fc?v!==f.fc&&(M.ctxFillStyle(f.fc),v=f.fc):v!==this.values.fill&&(v=this.values.fill,M.ctxFillStyle(this.values.fill)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),M.ctxFill()}if(this.stroke){for(f&&f.sw?S!==f.sw&&(S=f.sw,M.ctxLineWidth(f.sw)):S!==this.values.sWidth&&(S=this.values.sWidth,M.ctxLineWidth(this.values.sWidth)),f&&f.sc?_!==f.sc&&(_=f.sc,M.ctxStrokeStyle(f.sc)):_!==this.values.stroke&&(_=this.values.stroke,M.ctxStrokeStyle(this.values.stroke)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),M.ctxStroke()}f&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,o=t.getContext("2d"),l=this.img.width,u=this.img.height,f=l/u,h=this.assetData.w/this.assetData.h,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;f>h&&d==="xMidYMid slice"||f<h&&d!=="xMidYMid slice"?e=(n=u)*h:n=(e=l)/h,o.drawImage(this.img,(l-e)/2,(u-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,o){this.canvasContext.fillRect(t,e,n,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,o,l,u;if(this.reset(),t?(n=t,o=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var f=this.renderConfig.preserveAspectRatio.split(" "),h=f[1]||"meet",d=f[0]||"xMidYMid",p=d.substr(0,4),m=d.substr(4);l=n/o,(u=this.transformCanvas.w/this.transformCanvas.h)>l&&h==="meet"||u<l&&h==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=p==="xMid"&&(u<l&&h==="meet"||u>l&&h==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(u<l&&h==="meet"||u>l&&h==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=m==="YMid"&&(u>l&&h==="meet"||u<l&&h==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:m==="YMax"&&(u>l&&h==="meet"||u<l&&h==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||this.renderConfig.clearCanvas!==!0||e)&&!this.destroyed&&t!==-1){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var o=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],o=n.transform,l=this.cTr.props;for(e=0;e<16;e+=1)l[e]=o[e];if(t){this.nativeContext.restore();var u=this.stack[this.cArrPos+1];this.appliedFillStyle=u.fillStyle,this.appliedStrokeStyle=u.strokeStyle,this.appliedLineWidth=u.lineWidth,this.appliedLineCap=u.lineCap,this.appliedLineJoin=u.lineJoin,this.appliedMiterLimit=u.miterLimit}this.nativeContext.setTransform(o[0],o[1],o[4],o[5],o[12],o[13]),(t||n.opacity!==-1&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,o=this.stack[this.cArrPos];for(n=0;n<16;n+=1)o.transform[n]=e[n];this.cArrPos+=1;var l=this.stack[this.cArrPos];l.opacity=o.opacity,l.fillStyle=o.fillStyle,l.strokeStyle=o.strokeStyle,l.lineWidth=o.lineWidth,l.lineCap=o.lineCap,l.lineJoin=o.lineJoin,l.miterLimit=o.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,o,l,u,f,h=t.sh.v,d=t.transformers,p=h._length;if(!(p<=1)){for(n=0;n<p-1;n+=1)o=this.getTransformedPoint(d,h.v[n]),l=this.getTransformedPoint(d,h.o[n]),u=this.getTransformedPoint(d,h.i[n+1]),f=this.getTransformedPoint(d,h.v[n+1]),this.checkBounds(o,l,u,f,e);h.c&&(o=this.getTransformedPoint(d,h.v[n]),l=this.getTransformedPoint(d,h.o[n]),u=this.getTransformedPoint(d,h.i[0]),f=this.getTransformedPoint(d,h.v[0]),this.checkBounds(o,l,u,f,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,o,l){this.getBoundsOfCurve(t,e,n,o);var u=this.shapeBoundingBox;l.x=bmMin(u.left,l.x),l.xMax=bmMax(u.right,l.xMax),l.y=bmMin(u.top,l.y),l.yMax=bmMax(u.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,o){for(var l,u,f,h,d,p,m,v=[[t[0],o[0]],[t[1],o[1]]],_=0;_<2;++_)u=6*t[_]-12*e[_]+6*n[_],l=-3*t[_]+9*e[_]-9*n[_]+3*o[_],f=3*e[_]-3*t[_],u|=0,f|=0,(l|=0)===0&&u===0||(l===0?(h=-f/u)>0&&h<1&&v[_].push(this.calculateF(h,t,e,n,o,_)):(d=u*u-4*f*l)>=0&&((p=(-u+bmSqrt(d))/(2*l))>0&&p<1&&v[_].push(this.calculateF(p,t,e,n,o,_)),(m=(-u-bmSqrt(d))/(2*l))>0&&m<1&&v[_].push(this.calculateF(m,t,e,n,o,_))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(t,e,n,o,l,u){return bmPow(1-t,3)*e[u]+3*bmPow(1-t,2)*t*n[u]+3*(1-t)*bmPow(t,2)*o[u]+bmPow(t,3)*l[u]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var o=0;o<t.keyframes.length;o+=1){var l=t.keyframes[o].s;l>n&&(n=l)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var o,l,u=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",u.fClass)this.innerElem.className=u.fClass;else{e.fontFamily=u.fFamily;var f=t.fWeight,h=t.fStyle;e.fontStyle=h,e.fontWeight=f}var d,p,m,v=t.l;l=v.length;var _,S=this.mHelper,M="",A=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[A]?d=this.textPaths[A]:((d=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),d.setAttribute("stroke-linejoin",lineJoinEnum[2]),d.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[A]?m=(p=this.textSpans[A]).children[0]:((p=createTag("div")).style.lineHeight=0,(m=createNS("svg")).appendChild(d),styleDiv(p)))):this.isMasked?d=this.textPaths[A]?this.textPaths[A]:createNS("text"):this.textSpans[A]?(p=this.textSpans[A],d=this.textPaths[A]):(styleDiv(p=createTag("span")),styleDiv(d=createTag("span")),p.appendChild(d)),this.globalData.fontManager.chars){var w,C=this.globalData.fontManager.getCharData(t.finalText[o],u.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(w=C?C.data:null,S.reset(),w&&w.shapes&&w.shapes.length&&(_=w.shapes[0].it,S.scale(t.finalSize/100,t.finalSize/100),M=this.createPathShape(S,_),d.setAttribute("d",M)),this.isMasked)this.innerElem.appendChild(d);else{if(this.innerElem.appendChild(p),w&&w.shapes){document.body.appendChild(m);var O=m.getBBox();m.setAttribute("width",O.width+2),m.setAttribute("height",O.height+2),m.setAttribute("viewBox",O.x-1+" "+(O.y-1)+" "+(O.width+2)+" "+(O.height+2));var L=m.style,F="translate("+(O.x-1)+"px,"+(O.y-1)+"px)";L.transform=F,L.webkitTransform=F,v[o].yOffset=O.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);p.appendChild(m)}}else if(d.textContent=v[o].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(d);else{this.innerElem.appendChild(p);var $=d.style,B="translate3d(0,"+-t.finalSize/1.2+"px,0)";$.transform=B,$.webkitTransform=B}this.isMasked?this.textSpans[A]=d:this.textSpans[A]=p,this.textSpans[A].style.display="block",this.textPaths[A]=d,A+=1}for(;A<this.textSpans.length;)this.textSpans[A].style.display="none",A+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,o,l,u,f,h=0,d=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;for(o=p.length,n=0;n<o;n+=1)p[n].n?h+=1:(u=this.textSpans[n],f=this.textPaths[n],l=d[h],h+=1,l._mdf.m&&(this.isMasked?u.setAttribute("transform",l.m):(u.style.webkitTransform=l.m,u.style.transform=l.m)),u.style.opacity=l.o,l.sw&&l._mdf.sw&&f.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&f.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(f.setAttribute("fill",l.fc),f.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var m=this.innerElem.getBBox();if(this.currentBBox.w!==m.width&&(this.currentBBox.w=m.width,this.svgElement.setAttribute("width",m.width)),this.currentBBox.h!==m.height&&(this.currentBBox.h=m.height,this.svgElement.setAttribute("height",m.height)),this.currentBBox.w!==m.width+2||this.currentBBox.h!==m.height+2||this.currentBBox.x!==m.x-1||this.currentBBox.y!==m.y-1){this.currentBBox.w=m.width+2,this.currentBBox.h=m.height+2,this.currentBBox.x=m.x-1,this.currentBBox.y=m.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=v,t.webkitTransform=v}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,o,l=this.comp.threeDElements.length;for(t=0;t<l;t+=1)if((e=this.comp.threeDElements[t]).type==="3d"){n=e.perspectiveElem.style,o=e.container.style;var u=this.pe.v+"px",f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=u,n.webkitPerspective=u,o.transformOrigin="0px 0px 0px",o.mozTransformOrigin="0px 0px 0px",o.webkitTransformOrigin="0px 0px 0px",n.transform=f,n.webkitTransform=f}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var u=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),f=[l[0]/u,l[1]/u,l[2]/u],h=Math.sqrt(f[2]*f[2]+f[0]*f[0]),d=Math.atan2(f[1],h),p=Math.atan2(f[0],-f[2]);this.mat.rotateY(p).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var m=!this._prevMat.equals(this.mat);if((m||this.pe._mdf)&&this.comp.threeDElements){var v,_,S;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if((v=this.comp.threeDElements[t]).type==="3d"){if(m){var M=this.mat.toCSS();(S=v.container.style).transform=M,S.webkitTransform=M}this.pe._mdf&&((_=v.perspectiveElem.style).perspective=this.pe.v+"px",_.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var o=this.layers[e];if(o.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var l,u,f=0;f<e;)this.elements[f]&&this.elements[f]!==!0&&this.elements[f].getBaseElement&&(u=this.elements[f],l=(this.layers[f].ddd?this.getThreeDContainerByPos(f):u.getBaseElement())||l),f+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(n,l):o.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,o,l=createTag("div");styleDiv(l);var u=createTag("div");if(styleDiv(u),e==="3d"){(n=l.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px",n.webkitTransformOrigin="50% 50%",n.mozTransformOrigin="50% 50%",n.transformOrigin="50% 50%";var f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=u.style).transform=f,o.webkitTransform=f}l.appendChild(u);var h={container:u,perspectiveElem:l,startPos:t,endPos:t,type:e};return this.threeDElements.push(h),h},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,o="";for(t=0;t<n;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(o!=="3d"&&(o="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):(o!=="2d"&&(o="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,o=this.threeDElements.length;n<o;){if(e<=this.threeDElements[n].endPos){for(var l,u=this.threeDElements[n].startPos;u<e;)this.elements[u]&&this.elements[u].getBaseElement&&(l=this.elements[u].getBaseElement()),u+=1;l?this.threeDElements[n].container.insertBefore(t,l):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,o=e.style;o.width=t.w+"px",o.height=t.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var u=createNS("defs");l.appendChild(u),this.data=t,this.setupGlobalData(t,l),this.globalData.defs=u,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,o,l=this.animationItem.wrapper.offsetWidth,u=this.animationItem.wrapper.offsetHeight,f=l/u;this.globalData.compSize.w/this.globalData.compSize.h>f?(t=l/this.globalData.compSize.w,e=l/this.globalData.compSize.w,n=0,o=(u-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(t=u/this.globalData.compSize.h,e=u/this.globalData.compSize.h,n=(l-this.globalData.compSize.w*(u/this.globalData.compSize.h))/2,o=0);var h=this.resizerElem.style;h.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+o+",0,1)",h.transform=h.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,o=this.threeDElements.length;for(t=0;t<o;t+=1){var l=this.threeDElements[t].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",l.perspective=l.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,o=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var l=this.createComp(t[e],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,o=0;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(n){for(var o=0,l=t.layers.length;o<l;){if(t.layers[o].nm===n||t.layers[o].ind===n)return t.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function seedRandom(t,e){var n=this,o=e.pow(256,6),l=e.pow(2,52),u=2*l;function f(m){var v,_=m.length,S=this,M=0,A=S.i=S.j=0,w=S.S=[];for(_||(m=[_++]);M<256;)w[M]=M++;for(M=0;M<256;M++)w[M]=w[A=255&A+m[M%_]+(v=w[M])],w[A]=v;S.g=function(C){for(var O,L=0,F=S.i,$=S.j,B=S.S;C--;)O=B[F=255&F+1],L=256*L+B[255&(B[F]=B[$=255&$+O])+(B[$]=O)];return S.i=F,S.j=$,L}}function h(m,v){return v.i=m.i,v.j=m.j,v.S=m.S.slice(),v}function d(m,v){for(var _,S=m+"",M=0;M<S.length;)v[255&M]=255&(_^=19*v[255&M])+S.charCodeAt(M++);return p(v)}function p(m){return String.fromCharCode.apply(0,m)}e.seedrandom=function(m,v,_){var S=[],M=d(function C(O,L){var F,$=[],B=_typeof$2(O);if(L&&B=="object")for(F in O)try{$.push(C(O[F],L-1))}catch{}return $.length?$:B=="string"?O:O+"\0"}((v=v===!0?{entropy:!0}:v||{}).entropy?[m,p(t)]:m===null?function(){try{var C=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(C),p(C)}catch{var O=n.navigator,L=O&&O.plugins;return[+new Date,n,L,n.screen,p(t)]}}():m,3),S),A=new f(S),w=function(){for(var C=A.g(6),O=o,L=0;C<l;)C=256*(C+L),O*=256,L=A.g(1);for(;C>=u;)C/=2,O/=2,L>>>=1;return(C+L)/O};return w.int32=function(){return 0|A.g(4)},w.quick=function(){return A.g(4)/4294967296},w.double=w,d(p(A.S),t),(v.pass||_||function(C,O,L,F){return F&&(F.S&&h(F,A),C.state=function(){return h(A,{})}),L?(e.random=C,O):C})(w,M,"global"in v?v.global:this==e,v.state)},d(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,o=t.length,l=[];for(n=0;n<o;n+=1)l[n]=-t[n];return l}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e)||n==="string"||o==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,f=e.length,h=[];l<u||l<f;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?h[l]=t[l]+e[l]:h[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return h}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e))return n==="string"&&(t=parseInt(t,10)),o==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,f=e.length,h=[];l<u||l<f;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?h[l]=t[l]-e[l]:h[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return h}return 0}function mul(t,e){var n,o,l,u=_typeof$1(t),f=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(f,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(f,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]*e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t*e[o];return n}return 0}function div(t,e){var n,o,l,u=_typeof$1(t),f=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(f,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(f,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]/e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t/e[o];return n}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var o=n;n=e,e=o}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var o=Math.min(t.length,e.length),l=0;for(n=0;n<o;n+=1)l+=Math.pow(e[n]-t[n],2);return Math.sqrt(l)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,o=t[0],l=t[1],u=t[2],f=Math.max(o,l,u),h=Math.min(o,l,u),d=(f+h)/2;if(f===h)e=0,n=0;else{var p=f-h;switch(n=d>.5?p/(2-f-h):p/(f+h),f){case o:e=(l-u)/p+(l<u?6:0);break;case l:e=(u-o)/p+2;break;case u:e=(o-l)/p+4}e/=6}return[e,n,d,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,o,l=t[0],u=t[1],f=t[2];if(u===0)e=f,o=f,n=f;else{var h=f<.5?f*(1+u):f+u-f*u,d=2*f-h;e=hue2rgb(d,h,l+1/3),n=hue2rgb(d,h,l),o=hue2rgb(d,h,l-1/3)}return[e,n,o,t[3]]}function linear(t,e,n,o,l){if(o!==void 0&&l!==void 0||(o=e,l=n,e=0,n=1),n<e){var u=n;n=e,e=u}if(t<=e)return o;if(t>=n)return l;var f,h=n===e?0:(t-e)/(n-e);if(!o.length)return o+(l-o)*h;var d=o.length,p=createTypedArray("float32",d);for(f=0;f<d;f+=1)p[f]=o[f]+(l[f]-o[f])*h;return p}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,o=e.length;t||(t=createTypedArray("float32",o));var l=createTypedArray("float32",o),u=BMMath.random();for(n=0;n<o;n+=1)l[n]=t[n]+u*(e[n]-t[n]);return l}return t===void 0&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,o){var l,u=t.length,f=shapePool.newElement();f.setPathData(!!o,u);var h,d,p=[0,0];for(l=0;l<u;l+=1)h=e&&e[l]?e[l]:p,d=n&&n[l]?n[l]:p,f.setTripleAt(t[l][0],t[l][1],d[0]+t[l][0],d[1]+t[l][1],h[0]+t[l][0],h[1]+t[l][1],l,!0);return f}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(t,e){var n,o,l=this.pv.length?this.pv.length:1,u=createTypedArray("float32",l),f=Math.floor(5*time);for(n=0,o=0;n<f;){for(o=0;o<l;o+=1)u[o]+=-e+2*e*BMMath.random();n+=1}var h=5*time,d=h-Math.floor(h),p=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)p[o]=this.pv[o]+u[o]+(-e+2*e*BMMath.random())*d;return p}return this.pv+u[0]+(-e+2*e*BMMath.random())*d}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],o=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,o,0]}function easeOut(t,e,n,o,l){return applyEase(easeOutBez,t,e,n,o,l)}function easeIn(t,e,n,o,l){return applyEase(easeInBez,t,e,n,o,l)}function ease(t,e,n,o,l){return applyEase(easeInOutBez,t,e,n,o,l)}function applyEase(t,e,n,o,l,u){l===void 0?(l=n,u=o):e=(e-n)/(o-n),e>1?e=1:e<0&&(e=0);var f=t(e);if($bm_isInstanceOfArray(l)){var h,d=l.length,p=createTypedArray("float32",d);for(h=0;h<d;h+=1)p[h]=(u[h]-l[h])*f+l[h];return p}return(u-l)*f+l}function nearestKey(t){var e,n,o,l=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,o=data.k[0].t;else{for(e=0;e<l-1;e+=1){if(t===data.k[e].t){n=e+1,o=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,o=data.k[e+1].t):(n=e+1,o=data.k[e].t);break}}n===-1&&(n=e+1,o=data.k[e].t)}else n=0,o=0;var u={};return u.index=n,u.time=o/elem.comp.globalData.frameRate,u}function key(t){var e,n,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var l=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(o=l.length,n=0;n<o;n+=1)e[n]=l[n],e.value[n]=l[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||t===0||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function(e){var n=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){n+=1},e.renderer.globalData.popExpression=function(){(n-=1)===0&&function(){var l,u=o.length;for(l=0;l<u;l+=1)o[l].release();o.length=0}()},e.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(e,n){this._mask=e,this._data=n}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,o=createSizedArray(e.viewData.length),l=e.viewData.length;for(n=0;n<l;n+=1)o[n]=new t(e.viewData[n],e.masksProperties[n]);return function(u){for(n=0;n<l;){if(e.masksProperties[n].nm===u)return o[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(l,u,f){Object.defineProperty(l,"velocity",{get:function(){return u.getVelocityAtTime(u.comp.currentFrame)}}),l.numKeys=u.keyframes?u.keyframes.length:0,l.key=function(h){if(!l.numKeys)return 0;var d="";d="s"in u.keyframes[h-1]?u.keyframes[h-1].s:"e"in u.keyframes[h-2]?u.keyframes[h-2].e:u.keyframes[h-2].s;var p=f==="unidimensional"?new Number(d):Object.assign({},d);return p.time=u.keyframes[h-1].t/u.elem.comp.globalData.frameRate,p.value=f==="unidimensional"?d[0]:d,p},l.valueAtTime=u.getValueAtTime,l.speedAtTime=u.getSpeedAtTime,l.velocityAtTime=u.getVelocityAtTime,l.propertyGroup=u.propertyGroup}function o(){return t}return function(l){return l?l.propType==="unidimensional"?function(u){u&&"pv"in u||(u=t);var f=1/u.mult,h=u.pv*f,d=new Number(h);return d.value=h,n(d,u,"unidimensional"),function(){return u.k&&u.getValue(),h=u.v*f,d.value!==h&&((d=new Number(h)).value=h,n(d,u,"unidimensional")),d}}(l):function(u){u&&"pv"in u||(u=e);var f=1/u.mult,h=u.data&&u.data.l||u.pv.length,d=createTypedArray("float32",h),p=createTypedArray("float32",h);return d.value=p,n(d,u,"multidimensional"),function(){u.k&&u.getValue();for(var m=0;m<h;m+=1)p[m]=u.v[m]*f,d[m]=p[m];return d}}(l):o}}(),TransformExpressionInterface=function(t){function e(f){switch(f){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,o,l,u;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?u=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),o=ExpressionPropertyInterface(t.py),t.pz&&(l=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?u():[n(),o(),l?l():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(p){var m=new Matrix;return p!==void 0?this._elem.finalTransform.mProp.getValueAtTime(p).clone(m):this._elem.finalTransform.mProp.applyToMatrix(m),m}function e(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.applyPoint(v,p)}function n(p,m){var v=this.getMatrix(m);return this.applyPoint(v,p)}function o(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.invertPoint(v,p)}function l(p,m){var v=this.getMatrix(m);return this.invertPoint(v,p)}function u(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(m[0],m[1],m[2]||0)}function f(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(m)}function h(p){var m=new Matrix;if(m.reset(),this._elem.finalTransform.mProp.applyToMatrix(m),this._elem.hierarchy&&this._elem.hierarchy.length){var v,_=this._elem.hierarchy.length;for(v=0;v<_;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(m);return m.inversePoint(p)}return m.inversePoint(p)}function d(){return[1,1,1,1]}return function(p){var m;function v(S){switch(S){case"ADBE Root Vectors Group":case"Contents":case 2:return v.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return m;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return v.effect;case"ADBE Text Properties":return v.textInterface;default:return null}}v.getMatrix=t,v.invertPoint=f,v.applyPoint=u,v.toWorld=n,v.toWorldVec=e,v.fromWorld=l,v.fromWorldVec=o,v.toComp=n,v.fromComp=h,v.sampleImage=d,v.sourceRectAtTime=p.sourceRectAtTime.bind(p),v._elem=p;var _=getDescriptor(m=TransformExpressionInterface(p.finalTransform.mProp),"anchorPoint");return Object.defineProperties(v,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(m,"rotation"),scale:getDescriptor(m,"scale"),position:getDescriptor(m,"position"),opacity:getDescriptor(m,"opacity"),anchorPoint:_,anchor_point:_,transform:{get:function(){return m}},active:{get:function(){return p.isInRange}}}),v.startTime=p.data.st,v.index=p.data.ind,v.source=p.data.refId,v.height=p.data.ty===0?p.data.h:100,v.width=p.data.ty===0?p.data.w:100,v.inPoint=p.data.ip/p.comp.globalData.frameRate,v.outPoint=p.data.op/p.comp.globalData.frameRate,v._name=p.data.nm,v.registerMaskInterface=function(S){v.mask=new MaskManagerInterface(S,p)},v.registerEffectsInterface=function(S){v.effect=S},v}}(),propertyGroupFactory=function(t,e){return function(n){return(n=n===void 0?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(o){return(o=o===void 0?1:o)<=0?n:e(o-1)}},EffectsExpressionInterface=function(){function t(n,o,l,u){function f(v){for(var _=n.ef,S=0,M=_.length;S<M;){if(v===_[S].nm||v===_[S].mn||v===_[S].ix)return _[S].ty===5?p[S]:p[S]();S+=1}throw new Error}var h,d=propertyGroupFactory(f,l),p=[],m=n.ef.length;for(h=0;h<m;h+=1)n.ef[h].ty===5?p.push(t(n.ef[h],o.effectElements[h],o.effectElements[h].propertyGroup,u)):p.push(e(o.effectElements[h],n.ef[h].ty,u,d));return n.mn==="ADBE Color Control"&&Object.defineProperty(f,"color",{get:function(){return p[0]()}}),Object.defineProperties(f,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:d}}),f.enabled=n.en!==0,f.active=f.enabled,f}function e(n,o,l,u){var f=ExpressionPropertyInterface(n.p);return n.p.setGroupProperty&&n.p.setGroupProperty(PropertyInterface("",u)),function(){return o===10?l.comp.compInterface(n.p.v):f()}}return{createEffectsInterface:function(n,o){if(n.effectsManager){var l,u=[],f=n.data.ef,h=n.effectsManager.effectElements.length;for(l=0;l<h;l+=1)u.push(t(f[l],n.effectsManager.effectElements[l],o,n));var d=n.data.ef||[],p=function(m){for(l=0,h=d.length;l<h;){if(m===d[l].nm||m===d[l].mn||m===d[l].ix)return u[l];l+=1}return null};return Object.defineProperty(p,"numProperties",{get:function(){return d.length}}),p}return null}}}(),ShapePathInterface=function(t,e,n){var o=e.sh;function l(f){return f==="Shape"||f==="shape"||f==="Path"||f==="path"||f==="ADBE Vector Shape"||f===2?l.path:null}var u=propertyGroupFactory(l,n);return o.setGroupProperty(PropertyInterface("Path",u)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),l},ShapeExpressionInterface=function(){function t(S,M,A){var w,C=[],O=S?S.length:0;for(w=0;w<O;w+=1)S[w].ty==="gr"?C.push(e(S[w],M[w],A)):S[w].ty==="fl"?C.push(n(S[w],M[w],A)):S[w].ty==="st"?C.push(u(S[w],M[w],A)):S[w].ty==="tm"?C.push(f(S[w],M[w],A)):S[w].ty==="tr"||(S[w].ty==="el"?C.push(d(S[w],M[w],A)):S[w].ty==="sr"?C.push(p(S[w],M[w],A)):S[w].ty==="sh"?C.push(ShapePathInterface(S[w],M[w],A)):S[w].ty==="rc"?C.push(m(S[w],M[w],A)):S[w].ty==="rd"?C.push(v(S[w],M[w],A)):S[w].ty==="rp"?C.push(_(S[w],M[w],A)):S[w].ty==="gf"?C.push(o(S[w],M[w],A)):C.push(l(S[w],M[w])));return C}function e(S,M,A){var w=function(L){switch(L){case"ADBE Vectors Group":case"Contents":case 2:return w.content;default:return w.transform}};w.propertyGroup=propertyGroupFactory(w,A);var C=function(L,F,$){var B,U=function(Z){for(var G=0,H=B.length;G<H;){if(B[G]._name===Z||B[G].mn===Z||B[G].propertyIndex===Z||B[G].ix===Z||B[G].ind===Z)return B[G];G+=1}return typeof Z=="number"?B[Z-1]:null};U.propertyGroup=propertyGroupFactory(U,$),B=t(L.it,F.it,U.propertyGroup),U.numProperties=B.length;var q=h(L.it[L.it.length-1],F.it[F.it.length-1],U.propertyGroup);return U.transform=q,U.propertyIndex=L.cix,U._name=L.nm,U}(S,M,w.propertyGroup),O=h(S.it[S.it.length-1],M.it[M.it.length-1],w.propertyGroup);return w.content=C,w.transform=O,Object.defineProperty(w,"_name",{get:function(){return S.nm}}),w.numProperties=S.np,w.propertyIndex=S.ix,w.nm=S.nm,w.mn=S.mn,w}function n(S,M,A){function w(C){return C==="Color"||C==="color"?w.color:C==="Opacity"||C==="opacity"?w.opacity:null}return Object.defineProperties(w,{color:{get:ExpressionPropertyInterface(M.c)},opacity:{get:ExpressionPropertyInterface(M.o)},_name:{value:S.nm},mn:{value:S.mn}}),M.c.setGroupProperty(PropertyInterface("Color",A)),M.o.setGroupProperty(PropertyInterface("Opacity",A)),w}function o(S,M,A){function w(C){return C==="Start Point"||C==="start point"?w.startPoint:C==="End Point"||C==="end point"?w.endPoint:C==="Opacity"||C==="opacity"?w.opacity:null}return Object.defineProperties(w,{startPoint:{get:ExpressionPropertyInterface(M.s)},endPoint:{get:ExpressionPropertyInterface(M.e)},opacity:{get:ExpressionPropertyInterface(M.o)},type:{get:function(){return"a"}},_name:{value:S.nm},mn:{value:S.mn}}),M.s.setGroupProperty(PropertyInterface("Start Point",A)),M.e.setGroupProperty(PropertyInterface("End Point",A)),M.o.setGroupProperty(PropertyInterface("Opacity",A)),w}function l(){return function(){return null}}function u(S,M,A){var w,C=propertyGroupFactory(B,A),O=propertyGroupFactory($,C);function L(U){Object.defineProperty($,S.d[U].nm,{get:ExpressionPropertyInterface(M.d.dataProps[U].p)})}var F=S.d?S.d.length:0,$={};for(w=0;w<F;w+=1)L(w),M.d.dataProps[w].p.setGroupProperty(O);function B(U){return U==="Color"||U==="color"?B.color:U==="Opacity"||U==="opacity"?B.opacity:U==="Stroke Width"||U==="stroke width"?B.strokeWidth:null}return Object.defineProperties(B,{color:{get:ExpressionPropertyInterface(M.c)},opacity:{get:ExpressionPropertyInterface(M.o)},strokeWidth:{get:ExpressionPropertyInterface(M.w)},dash:{get:function(){return $}},_name:{value:S.nm},mn:{value:S.mn}}),M.c.setGroupProperty(PropertyInterface("Color",C)),M.o.setGroupProperty(PropertyInterface("Opacity",C)),M.w.setGroupProperty(PropertyInterface("Stroke Width",C)),B}function f(S,M,A){function w(O){return O===S.e.ix||O==="End"||O==="end"?w.end:O===S.s.ix?w.start:O===S.o.ix?w.offset:null}var C=propertyGroupFactory(w,A);return w.propertyIndex=S.ix,M.s.setGroupProperty(PropertyInterface("Start",C)),M.e.setGroupProperty(PropertyInterface("End",C)),M.o.setGroupProperty(PropertyInterface("Offset",C)),w.propertyIndex=S.ix,w.propertyGroup=A,Object.defineProperties(w,{start:{get:ExpressionPropertyInterface(M.s)},end:{get:ExpressionPropertyInterface(M.e)},offset:{get:ExpressionPropertyInterface(M.o)},_name:{value:S.nm}}),w.mn=S.mn,w}function h(S,M,A){function w(O){return S.a.ix===O||O==="Anchor Point"?w.anchorPoint:S.o.ix===O||O==="Opacity"?w.opacity:S.p.ix===O||O==="Position"?w.position:S.r.ix===O||O==="Rotation"||O==="ADBE Vector Rotation"?w.rotation:S.s.ix===O||O==="Scale"?w.scale:S.sk&&S.sk.ix===O||O==="Skew"?w.skew:S.sa&&S.sa.ix===O||O==="Skew Axis"?w.skewAxis:null}var C=propertyGroupFactory(w,A);return M.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",C)),M.transform.mProps.p.setGroupProperty(PropertyInterface("Position",C)),M.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",C)),M.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",C)),M.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",C)),M.transform.mProps.sk&&(M.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",C)),M.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",C))),M.transform.op.setGroupProperty(PropertyInterface("Opacity",C)),Object.defineProperties(w,{opacity:{get:ExpressionPropertyInterface(M.transform.mProps.o)},position:{get:ExpressionPropertyInterface(M.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(M.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(M.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(M.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(M.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(M.transform.mProps.sa)},_name:{value:S.nm}}),w.ty="tr",w.mn=S.mn,w.propertyGroup=A,w}function d(S,M,A){function w(L){return S.p.ix===L?w.position:S.s.ix===L?w.size:null}var C=propertyGroupFactory(w,A);w.propertyIndex=S.ix;var O=M.sh.ty==="tm"?M.sh.prop:M.sh;return O.s.setGroupProperty(PropertyInterface("Size",C)),O.p.setGroupProperty(PropertyInterface("Position",C)),Object.defineProperties(w,{size:{get:ExpressionPropertyInterface(O.s)},position:{get:ExpressionPropertyInterface(O.p)},_name:{value:S.nm}}),w.mn=S.mn,w}function p(S,M,A){function w(L){return S.p.ix===L?w.position:S.r.ix===L?w.rotation:S.pt.ix===L?w.points:S.or.ix===L||L==="ADBE Vector Star Outer Radius"?w.outerRadius:S.os.ix===L?w.outerRoundness:!S.ir||S.ir.ix!==L&&L!=="ADBE Vector Star Inner Radius"?S.is&&S.is.ix===L?w.innerRoundness:null:w.innerRadius}var C=propertyGroupFactory(w,A),O=M.sh.ty==="tm"?M.sh.prop:M.sh;return w.propertyIndex=S.ix,O.or.setGroupProperty(PropertyInterface("Outer Radius",C)),O.os.setGroupProperty(PropertyInterface("Outer Roundness",C)),O.pt.setGroupProperty(PropertyInterface("Points",C)),O.p.setGroupProperty(PropertyInterface("Position",C)),O.r.setGroupProperty(PropertyInterface("Rotation",C)),S.ir&&(O.ir.setGroupProperty(PropertyInterface("Inner Radius",C)),O.is.setGroupProperty(PropertyInterface("Inner Roundness",C))),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(O.p)},rotation:{get:ExpressionPropertyInterface(O.r)},points:{get:ExpressionPropertyInterface(O.pt)},outerRadius:{get:ExpressionPropertyInterface(O.or)},outerRoundness:{get:ExpressionPropertyInterface(O.os)},innerRadius:{get:ExpressionPropertyInterface(O.ir)},innerRoundness:{get:ExpressionPropertyInterface(O.is)},_name:{value:S.nm}}),w.mn=S.mn,w}function m(S,M,A){function w(L){return S.p.ix===L?w.position:S.r.ix===L?w.roundness:S.s.ix===L||L==="Size"||L==="ADBE Vector Rect Size"?w.size:null}var C=propertyGroupFactory(w,A),O=M.sh.ty==="tm"?M.sh.prop:M.sh;return w.propertyIndex=S.ix,O.p.setGroupProperty(PropertyInterface("Position",C)),O.s.setGroupProperty(PropertyInterface("Size",C)),O.r.setGroupProperty(PropertyInterface("Rotation",C)),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(O.p)},roundness:{get:ExpressionPropertyInterface(O.r)},size:{get:ExpressionPropertyInterface(O.s)},_name:{value:S.nm}}),w.mn=S.mn,w}function v(S,M,A){function w(L){return S.r.ix===L||L==="Round Corners 1"?w.radius:null}var C=propertyGroupFactory(w,A),O=M;return w.propertyIndex=S.ix,O.rd.setGroupProperty(PropertyInterface("Radius",C)),Object.defineProperties(w,{radius:{get:ExpressionPropertyInterface(O.rd)},_name:{value:S.nm}}),w.mn=S.mn,w}function _(S,M,A){function w(L){return S.c.ix===L||L==="Copies"?w.copies:S.o.ix===L||L==="Offset"?w.offset:null}var C=propertyGroupFactory(w,A),O=M;return w.propertyIndex=S.ix,O.c.setGroupProperty(PropertyInterface("Copies",C)),O.o.setGroupProperty(PropertyInterface("Offset",C)),Object.defineProperties(w,{copies:{get:ExpressionPropertyInterface(O.c)},offset:{get:ExpressionPropertyInterface(O.o)},_name:{value:S.nm}}),w.mn=S.mn,w}return function(S,M,A){var w;function C(O){if(typeof O=="number")return(O=O===void 0?1:O)===0?A:w[O-1];for(var L=0,F=w.length;L<F;){if(w[L]._name===O)return w[L];L+=1}return null}return C.propertyGroup=propertyGroupFactory(C,function(){return A}),w=t(S,M,C.propertyGroup),C.numProperties=w.length,C._name="Contents",C}}(),TextExpressionInterface=function(t){var e;function n(o){switch(o){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return e&&o===e.value||((e=new String(o)).value=o||new String(o),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n};function _typeof(t){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(n){return n==="Outline"?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(n){var o="",l=n.getFootageData();function u(f){if(l[f])return o=f,_typeof(l=l[f])==="object"?u:l;var h=f.indexOf(o);if(h!==-1){var d=parseInt(f.substr(h+o.length),10);return _typeof(l=l[d])==="object"?u:l}return""}return function(){return o="",l=n.getFootageData(),u}}(t),e},function(t){function e(n){return n==="Data"?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),o=0;if(e.length){var l;for(l=0;l<e.length;l+=1)o+=Math.pow(n[l]-e[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(t){if(this.vel!==void 0)return this.vel;var e,n,o=this.getValueAtTime(t),l=this.getValueAtTime(t+-.001);if(o.length)for(e=createTypedArray("float32",o.length),n=0;n<o.length;n+=1)e[n]=(l[n]-o[n])/-.001;else e=(l-o)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(v,_,S){if(!this.k||!this.keyframes)return this.pv;v=v?v.toLowerCase():"";var M,A,w,C,O,L=this.comp.renderedFrame,F=this.keyframes,$=F[F.length-1].t;if(L<=$)return this.pv;if(S?A=$-(M=_?Math.abs($-this.elem.comp.globalData.frameRate*_):Math.max(0,$-this.elem.data.ip)):((!_||_>F.length-1)&&(_=F.length-1),M=$-(A=F[F.length-1-_].t)),v==="pingpong"){if(Math.floor((L-A)/M)%2!=0)return this.getValueAtTime((M-(L-A)%M+A)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var B=this.getValueAtTime(A/this.comp.globalData.frameRate,0),U=this.getValueAtTime($/this.comp.globalData.frameRate,0),q=this.getValueAtTime(((L-A)%M+A)/this.comp.globalData.frameRate,0),Z=Math.floor((L-A)/M);if(this.pv.length){for(C=(O=new Array(B.length)).length,w=0;w<C;w+=1)O[w]=(U[w]-B[w])*Z+q[w];return O}return(U-B)*Z+q}if(v==="continue"){var G=this.getValueAtTime($/this.comp.globalData.frameRate,0),H=this.getValueAtTime(($-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(C=(O=new Array(G.length)).length,w=0;w<C;w+=1)O[w]=G[w]+(G[w]-H[w])*((L-$)/this.comp.globalData.frameRate)/5e-4;return O}return G+(L-$)/.001*(G-H)}}return this.getValueAtTime(((L-A)%M+A)/this.comp.globalData.frameRate,0)}function e(v,_,S){if(!this.k)return this.pv;v=v?v.toLowerCase():"";var M,A,w,C,O,L=this.comp.renderedFrame,F=this.keyframes,$=F[0].t;if(L>=$)return this.pv;if(S?A=$+(M=_?Math.abs(this.elem.comp.globalData.frameRate*_):Math.max(0,this.elem.data.op-$)):((!_||_>F.length-1)&&(_=F.length-1),M=(A=F[_].t)-$),v==="pingpong"){if(Math.floor(($-L)/M)%2==0)return this.getValueAtTime((($-L)%M+$)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var B=this.getValueAtTime($/this.comp.globalData.frameRate,0),U=this.getValueAtTime(A/this.comp.globalData.frameRate,0),q=this.getValueAtTime((M-($-L)%M+$)/this.comp.globalData.frameRate,0),Z=Math.floor(($-L)/M)+1;if(this.pv.length){for(C=(O=new Array(B.length)).length,w=0;w<C;w+=1)O[w]=q[w]-(U[w]-B[w])*Z;return O}return q-(U-B)*Z}if(v==="continue"){var G=this.getValueAtTime($/this.comp.globalData.frameRate,0),H=this.getValueAtTime(($+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(C=(O=new Array(G.length)).length,w=0;w<C;w+=1)O[w]=G[w]+(G[w]-H[w])*($-L)/.001;return O}return G+(G-H)*($-L)/.001}}return this.getValueAtTime((M-(($-L)%M+$))/this.comp.globalData.frameRate,0)}function n(v,_){if(!this.k)return this.pv;if(v=.5*(v||.4),(_=Math.floor(_||5))<=1)return this.pv;var S,M,A=this.comp.renderedFrame/this.comp.globalData.frameRate,w=A-v,C=_>1?(A+v-w)/(_-1):1,O=0,L=0;for(S=this.pv.length?createTypedArray("float32",this.pv.length):0;O<_;){if(M=this.getValueAtTime(w+O*C),this.pv.length)for(L=0;L<this.pv.length;L+=1)S[L]+=M[L];else S+=M;O+=1}if(this.pv.length)for(L=0;L<this.pv.length;L+=1)S[L]/=_;else S/=_;return S}function o(v){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var _=this._transformCachingAtTime.v;if(_.cloneFromProps(this.pre.props),this.appliedTransformations<1){var S=this.a.getValueAtTime(v);_.translate(-S[0]*this.a.mult,-S[1]*this.a.mult,S[2]*this.a.mult)}if(this.appliedTransformations<2){var M=this.s.getValueAtTime(v);_.scale(M[0]*this.s.mult,M[1]*this.s.mult,M[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var A=this.sk.getValueAtTime(v),w=this.sa.getValueAtTime(v);_.skewFromAxis(-A*this.sk.mult,w*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var C=this.r.getValueAtTime(v);_.rotate(-C*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var O=this.rz.getValueAtTime(v),L=this.ry.getValueAtTime(v),F=this.rx.getValueAtTime(v),$=this.or.getValueAtTime(v);_.rotateZ(-O*this.rz.mult).rotateY(L*this.ry.mult).rotateX(F*this.rx.mult).rotateZ(-$[2]*this.or.mult).rotateY($[1]*this.or.mult).rotateX($[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var B=this.px.getValueAtTime(v),U=this.py.getValueAtTime(v);if(this.data.p.z){var q=this.pz.getValueAtTime(v);_.translate(B*this.px.mult,U*this.py.mult,-q*this.pz.mult)}else _.translate(B*this.px.mult,U*this.py.mult,0)}else{var Z=this.p.getValueAtTime(v);_.translate(Z[0]*this.p.mult,Z[1]*this.p.mult,-Z[2]*this.p.mult)}return _}function l(){return this.v.clone(new Matrix)}var u=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(v,_,S){var M=u(v,_,S);return M.dynamicProperties.length?M.getValueAtTime=o.bind(M):M.getValueAtTime=l.bind(M),M.setGroupProperty=expressionHelpers.setGroupProperty,M};var f=PropertyFactory.getProp;PropertyFactory.getProp=function(v,_,S,M,A){var w=f(v,_,S,M,A);w.kf?w.getValueAtTime=expressionHelpers.getValueAtTime.bind(w):w.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(w),w.setGroupProperty=expressionHelpers.setGroupProperty,w.loopOut=t,w.loopIn=e,w.smooth=n,w.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(w),w.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(w),w.numKeys=_.a===1?_.k.length:0,w.propertyIndex=_.ix;var C=0;return S!==0&&(C=createTypedArray("float32",_.a===1?_.k[0].s.length:_.k.length)),w._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:C},expressionHelpers.searchExpressions(v,_,w),w.k&&A.addDynamicProperty(w),w};var h=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();function p(){}p.prototype={vertices:function(v,_){this.k&&this.getValue();var S,M=this.v;_!==void 0&&(M=this.getValueAtTime(_,0));var A=M._length,w=M[v],C=M.v,O=createSizedArray(A);for(S=0;S<A;S+=1)O[S]=v==="i"||v==="o"?[w[S][0]-C[S][0],w[S][1]-C[S][1]]:[w[S][0],w[S][1]];return O},points:function(v){return this.vertices("v",v)},inTangents:function(v){return this.vertices("i",v)},outTangents:function(v){return this.vertices("o",v)},isClosed:function(){return this.v.c},pointOnPath:function(v,_){var S=this.v;_!==void 0&&(S=this.getValueAtTime(_,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(S));for(var M,A=this._segmentsLength,w=A.lengths,C=A.totalLength*v,O=0,L=w.length,F=0;O<L;){if(F+w[O].addedLength>C){var $=O,B=S.c&&O===L-1?0:O+1,U=(C-F)/w[O].addedLength;M=bez.getPointInSegment(S.v[$],S.v[B],S.o[$],S.i[B],U,w[O]);break}F+=w[O].addedLength,O+=1}return M||(M=S.c?[S.v[0][0],S.v[0][1]]:[S.v[S._length-1][0],S.v[S._length-1][1]]),M},vectorOnPath:function(v,_,S){v==1?v=this.v.c:v==0&&(v=.999);var M=this.pointOnPath(v,_),A=this.pointOnPath(v+.001,_),w=A[0]-M[0],C=A[1]-M[1],O=Math.sqrt(Math.pow(w,2)+Math.pow(C,2));return O===0?[0,0]:S==="tangent"?[w/O,C/O]:[-C/O,w/O]},tangentOnPath:function(v,_){return this.vectorOnPath(v,_,"tangent")},normalOnPath:function(v,_){return this.vectorOnPath(v,_,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([p],h),extendPrototype([p],d),d.prototype.getValueAtTime=function(v){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),v*=this.elem.globalData.frameRate,(v-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<v?this._caching.lastIndex:0,this._cachingAtTime.lastTime=v,this.interpolateShape(v,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},d.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(v,_,S,M,A){var w=m(v,_,S,M,A);return w.propertyIndex=_.ix,w.lock=!1,S===3?expressionHelpers.searchExpressions(v,_.pt,w):S===4&&expressionHelpers.searchExpressions(v,_.ks,w),w.k&&v.addDynamicProperty(w),w}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var o={};return this.copyData(o,t),o.t=n.toString(),o.__complete=!1,o}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,o,l=createNS("feMerge");for(l.setAttribute("result",t),o=0;o<e.length;o+=1)(n=createNS("feMergeNode")).setAttribute("in",e[o]),l.appendChild(n),l.appendChild(n);return l}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,o,l){this.filterManager=e;var u=createNS("feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","linearRGB"),u.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=u,u.setAttribute("result",o+"_tint_1"),t.appendChild(u),(u=createNS("feColorMatrix")).setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),u.setAttribute("result",o+"_tint_2"),t.appendChild(u),this.matrixFilter=u;var f=this.createMergeNode(o,[l,o+"_tint_1",o+"_tint_2"]);t.appendChild(f)}function SVGFillFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",o),t.appendChild(l),this.matrixFilter=l}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(l);var u=createNS("feComponentTransfer");u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),this.matrixFilter=u;var f=createNS("feFuncR");f.setAttribute("type","table"),u.appendChild(f),this.feFuncR=f;var h=createNS("feFuncG");h.setAttribute("type","table"),u.appendChild(h),this.feFuncG=h;var d=createNS("feFuncB");d.setAttribute("type","table"),u.appendChild(d),this.feFuncB=d,t.appendChild(u)}function SVGProLevelsFilter(t,e,n,o){this.filterManager=e;var l=this.filterManager.effectElements,u=createNS("feComponentTransfer");(l[10].p.k||l[10].p.v!==0||l[11].p.k||l[11].p.v!==1||l[12].p.k||l[12].p.v!==1||l[13].p.k||l[13].p.v!==0||l[14].p.k||l[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",u)),(l[17].p.k||l[17].p.v!==0||l[18].p.k||l[18].p.v!==1||l[19].p.k||l[19].p.v!==1||l[20].p.k||l[20].p.v!==0||l[21].p.k||l[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",u)),(l[24].p.k||l[24].p.v!==0||l[25].p.k||l[25].p.v!==1||l[26].p.k||l[26].p.v!==1||l[27].p.k||l[27].p.v!==0||l[28].p.k||l[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",u)),(l[31].p.k||l[31].p.v!==0||l[32].p.k||l[32].p.v!==1||l[33].p.k||l[33].p.v!==1||l[34].p.k||l[34].p.v!==0||l[35].p.k||l[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",u)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(u.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(u)),(l[3].p.k||l[3].p.v!==0||l[4].p.k||l[4].p.v!==1||l[5].p.k||l[5].p.v!==1||l[6].p.k||l[6].p.v!==0||l[7].p.k||l[7].p.v!==1)&&((u=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),t.appendChild(u),this.feFuncRComposed=this.createFeFunc("feFuncR",u),this.feFuncGComposed=this.createFeFunc("feFuncG",u),this.feFuncBComposed=this.createFeFunc("feFuncB",u))}function SVGDropShadowEffect(t,e,n,o,l){var u=e.container.globalData.renderConfig.filterSize,f=e.data.fs||u;t.setAttribute("x",f.x||u.x),t.setAttribute("y",f.y||u.y),t.setAttribute("width",f.width||u.width),t.setAttribute("height",f.height||u.height),this.filterManager=e;var h=createNS("feGaussianBlur");h.setAttribute("in","SourceAlpha"),h.setAttribute("result",o+"_drop_shadow_1"),h.setAttribute("stdDeviation","0"),this.feGaussianBlur=h,t.appendChild(h);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",o+"_drop_shadow_1"),d.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=d,t.appendChild(d);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=p,t.appendChild(p);var m=createNS("feComposite");m.setAttribute("in",o+"_drop_shadow_3"),m.setAttribute("in2",o+"_drop_shadow_2"),m.setAttribute("operator","in"),m.setAttribute("result",o+"_drop_shadow_4"),t.appendChild(m);var v=this.createMergeNode(o,[o+"_drop_shadow_4",l]);t.appendChild(v)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,n=0):o=(n=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<o;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(this.filterManager.effectElements[10].p.v===3){var u=createNS("mask"),f=createElementID();u.setAttribute("id",f),u.setAttribute("mask-type","alpha"),u.appendChild(e),this.elem.globalData.defs.appendChild(u);var h=createNS("g");for(h.setAttribute("mask","url("+getLocationHref()+"#"+f+")");l[0];)h.appendChild(l[0]);this.elem.layerElement.appendChild(h),this.masker=u,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,o,l=this.paths.length;for(e=0;e<l;e+=1)if(this.paths[e].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&o.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var u;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var f=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),h=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),d=o.getTotalLength();u="0 0 0 "+d*f+" ";var p,m=d*(h-f),v=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,_=Math.floor(m/v);for(p=0;p<_;p+=1)u+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";u+="0 "+10*d+" 0 0"}else u="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",u)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var S=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*S[0])+","+bmFloor(255*S[1])+","+bmFloor(255*S[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+n[0]+" "+e[0],u=o[1]+" "+n[1]+" "+e[1],f=o[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",u),this.feFuncB.setAttribute("tableValues",f)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,o,l){for(var u,f,h=0,d=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:256}),v=0,_=l-o,S=e-t;h<=256;)f=(u=h/256)<=d?S<0?l:o:u>=p?S<0?o:l:o+_*Math.pow((u-t)/S,1/n),m[v]=f,v+=1,h+=256/255;return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=n*Math.cos(o),u=n*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",u)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,o){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var l=createNS("feGaussianBlur");l.setAttribute("result",o),t.appendChild(l),this.feGaussianBlur=l}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var o,l=n.children,u=0,f=l.length;u<f&&l[u]!==t.layerElement;)u+=1;u<=f-2&&(o=l[u+1]);var h=createNS("use");h.setAttribute("href","#"+e),o?n.insertBefore(h,o):n.appendChild(h)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var l=t.globalData.defs;l.appendChild(o);var u=createNS("symbol");u.setAttribute("id",n),this.replaceInParent(e,n),u.appendChild(e.layerElement),l.appendChild(u);var f=createNS("use");f.setAttribute("href","#"+n),o.appendChild(f),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,o=e.length;n<o;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=n==3?0:e,l=n==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var u=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",u)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,o=e[1].p.v,l=e[2].p.v===1,u=e[3].p.v,f=l?u:e[4].p.v,h=e[5].p.v,d=e[6].p.v,p=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*f,.01*u,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-h*degToRads,(d+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.6.0",LOTTIE_WEB_VERSION="^5.12.2",PlayerState,PlayerEvent;function parseSrc(t){if(typeof t=="object")return t;try{return JSON.parse(t)}catch{}try{return new URL(t).toString()}catch{}return t}(function(t){t.Loading="loading",t.Playing="playing",t.Paused="paused",t.Stopped="stopped",t.Frozen="frozen",t.Error="error"})(PlayerState||(PlayerState={})),function(t){t.Load="load",t.InstanceSaved="instanceSaved",t.Error="error",t.Ready="ready",t.Play="play",t.Pause="pause",t.Stop="stop",t.Freeze="freeze",t.Loop="loop",t.Complete="complete",t.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(t){function e(n){var o=t.call(this,n)||this;return o.container=null,o.unmounted=!1,o.handleBgChange=function(l){o.setState({background:l})},o.triggerDownload=function(l,u){var f=document.createElement("a");f.href=l,f.download=u,document.body.appendChild(f),f.click(),document.body.removeChild(f)},o.snapshot=function(l){var u;l===void 0&&(l=!0);var f=o.props.id?o.props.id:"lottie",h=document.getElementById(f);if(o.props.renderer==="svg"){if(h){var d=h.querySelector("svg");if(d){var p=new XMLSerializer().serializeToString(d);u="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(p)}}l&&o.triggerDownload(u,"snapshot.svg")}else if(o.props.renderer==="canvas"){if(h){var m=h.querySelector("canvas");m&&(u=m.toDataURL("image/png"))}l&&o.triggerDownload(u,"snapshot.png")}return u},typeof window<"u"&&(window.lottie=lottie),o.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},o}return __extends(e,t),e.getDerivedStateFromProps=function(n,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(l){return n.background!==o.background?[2,{background:n.background}]:[2,null]})})},e.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},e.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},e.prototype.componentDidUpdate=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return this.props.src===n.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.render=function(){var n=this,o=this.props,l=o.children,u=o.loop,f=o.style,h=o.onBackgroundChange,d=o.className,p=this.state,m=p.animationData,v=p.instance,_=p.playerState,S=p.seeker,M=p.debug,A=p.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(w){return n.container=w},style:__assign({background:A,margin:"0 auto",outline:"none",overflow:"hidden"},f),className:d}),reactExports.Children.map(l,function(w){return reactExports.isValidElement(w)?reactExports.cloneElement(w,{animationData:m,background:A,debug:M,instance:v,loop:u,pause:function(){return n.pause()},play:function(){return n.play()},playerState:_,seeker:S,setBackground:function(C){n.setState({background:C}),typeof h=="function"&&h(C)},setSeeker:function(C,O){return n.setSeeker(C,O)},stop:function(){return n.stop()},toggleDebug:function(){return n.toggleDebug()},setLoop:function(C){return n.setLoop(C)},colorChangedEvent:function(C){n.handleBgChange(C)},snapshot:function(){n.snapshot()}}):null}))},e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},e.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,function(){var n,o,l,u,f,h,d,p,m,v,_,S,M,A,w=this;return __generator(this,function(C){switch(C.label){case 0:if(n=this.props,o=n.autoplay,l=n.direction,u=n.loop,f=n.lottieRef,h=n.renderer,d=n.speed,p=n.src,m=n.background,v=n.rendererSettings,_=n.hover,S=this.state.instance,!p||!this.container)return[2];C.label=1;case 1:return C.trys.push([1,5,,6]),typeof(M=parseSrc(p))!="string"?[3,4]:[4,fetch(M).catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,C.sent().json().catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:M=C.sent(),C.label=4;case 4:return S&&S.destroy(),A=lottie.loadAnimation({rendererSettings:v||defaultOptions,animationData:M,autoplay:o||!1,container:this.container,loop:u||!1,renderer:h}),d&&A.setSpeed(d),this.setState({animationData:M}),this.setState({instance:A},function(){w.triggerEvent(PlayerEvent.InstanceSaved),typeof f=="function"&&f(A),o&&w.play()}),A.addEventListener("enterFrame",function(){w.triggerEvent(PlayerEvent.Frame),w.setState({seeker:Math.floor(A.currentFrame)})}),A.addEventListener("DOMLoaded",function(){w.triggerEvent(PlayerEvent.Load)}),A.addEventListener("data_ready",function(){w.triggerEvent(PlayerEvent.Ready)}),A.addEventListener("data_failed",function(){w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error)}),A.addEventListener("loopComplete",function(){w.triggerEvent(PlayerEvent.Loop)}),A.addEventListener("complete",function(){w.triggerEvent(PlayerEvent.Complete),w.setState({playerState:PlayerState.Paused}),w.props.keepLastFrame&&!w.props.loop||w.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){_&&w.state.playerState!==PlayerState.Playing&&(w.props.keepLastFrame&&w.stop(),w.play())}),this.container.addEventListener("mouseleave",function(){_&&w.state.playerState===PlayerState.Playing&&w.stop()})),d&&this.setPlayerSpeed(d),l&&this.setPlayerDirection(l),m&&this.setState({background:m}),[3,6];case 5:return C.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},e.prototype.play=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Play),n.play(),this.setState({playerState:PlayerState.Playing}))},e.prototype.pause=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Pause),n.pause(),this.setState({playerState:PlayerState.Paused}))},e.prototype.stop=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Stop),n.stop(),this.setState({playerState:PlayerState.Stopped}))},e.prototype.setPlayerSpeed=function(n){var o=this.state.instance;o&&o.setSpeed(n)},e.prototype.setPlayerDirection=function(n){var o=this.state.instance;o&&o.setDirection(n)},e.prototype.setSeeker=function(n,o){o===void 0&&(o=!1);var l=this.state,u=l.instance,f=l.playerState;u&&(o&&f===PlayerState.Playing?u.goToAndPlay(n,!0):(u.goToAndStop(n,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},e.prototype.setLoop=function(n){var o=this.state.instance;o&&(o.loop=n,this.setState({instance:o}))},e.prototype.triggerEvent=function(n){var o=this.props.onEvent;o&&o(n)},e.defaultProps={loop:!1},e}(reactExports.Component);function styleInject(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},n.handleChange=function(o,l){if(o==="r"){var u="#"+(256|l).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1);n.setState({hex:u})}else o==="g"?(u="#"+(256|n.state.red).toString(16).slice(1)+(256|l).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1),n.setState({hex:u})):o==="b"&&(u="#"+(256|n.state.red).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|l).toString(16).slice(1),n.setState({hex:u}))},n.parseColor=function(o){var l;if(typeof o=="string"){if(o[0]==="#"){var u=o.length===4?[o.slice(1,2),o.slice(2,3),o.slice(3,4)].map(function(f){return parseInt(""+f+f,16)}):[o.slice(1,3),o.slice(3,5),o.slice(5,7)].map(function(f){return parseInt(f,16)});n.setState({colorComponents:u})}else o.startsWith("rgb")&&(u=(l=o.match(/\d+/g))===null||l===void 0?void 0:l.map(function(f){return parseInt(f)}))!==void 0&&n.setState({colorComponents:u});n.state.colorComponents.length&&(n.setState({red:n.state.colorComponents[0]}),n.setState({green:n.state.colorComponents[1]}),n.setState({blue:n.state.colorComponents[2]}))}},n}return __extends(e,t),e.prototype.componentDidUpdate=function(n,o){return this.props.colorChangedEvent&&this.state.hex!==o.hex&&this.props.colorChangedEvent(this.state.hex),!0},e.prototype.render=function(){var n=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(o){n.setState({hex:o.target.value}),n.parseColor(o.target.value)}}))))},e}(reactExports.Component),Popover=function(t){var e=t.children,n=t.icon,o=reactExports.useState(null),l=o[0],u=o[1],f=reactExports.useState(null),h=f[0],d=f[1],p=reactExports.useState(null),m=p[0],v=p[1],_=reactExports.useState(!1),S=_[0],M=_[1];return reactExports.useEffect(function(){if(l&&h){var A=l.getBoundingClientRect(),w=h.getBoundingClientRect(),C=A.left+w.width>window.innerWidth?-1:0;v(C)}},[m,h,l]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){M(!0)},onMouseLeave:function(){M(!1)},ref:function(A){u(A)}},reactExports.createElement("div",{className:" lf-player-btn"},n),reactExports.createElement("div",{className:"lf-popover-content",ref:function(A){d(A)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:S?"visible":"hidden"}},e))},Seeker=function(t){function e(n){var o=t.call(this,n)||this;return o.inputRef=reactExports.createRef(),o.handleChange=function(){return function(l){var u=l.target.value,f=Math.floor(u/100*o.props.max);o.props.onChange(f)}},o.state={value:0},o}return __extends(e,t),e.prototype.render=function(){var n=this.props.value/this.props.max*100,o={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+n+"%, rgba(15, 204, 206, 0.4)), color-stop("+n+"%, #DAE1E7))"},l={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},u={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:n,onInput:this.handleChange(),onChange:this.handleChange(),style:o}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:l},this.props.min),reactExports.createElement("div",{style:u},this.props.max)))},e}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"};(function(t){function e(n){var o=t.call(this,n)||this;return o.state={activeFrame:0,mouseDown:!1},o}return __extends(e,t),e.prototype.render=function(){var n=this,o=this.props,l=o.instance,u=o.playerState,f=o.seeker,h=o.setLoop,d=o.setSeeker,p=o.play,m=o.pause,v=o.stop,_=o.visible,S=o.buttons;if(!l||!_)return null;var M=!S||S.includes("play"),A=!S||S.includes("stop"),w=!S||S.includes("repeat"),C=!S||S.includes("frame"),O=!S||S.includes("background"),L=!S||S.includes("snapshot"),F={width:14,height:14,viewBox:"0 0 24 24"},$=Math.round(l.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},M&&reactExports.createElement("div",{role:"button","aria-label":u===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},onKeyDown:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},className:"lf-player-btn",style:ControlButtonStyle},u===PlayerState.Playing?reactExports.createElement("svg",__assign({},F),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),A&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return v&&v()},onKeyDown:function(){return v&&v()},className:u===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:l?l.totalFrames:1,value:f||0,onChange:function(B){d&&n.setState({activeFrame:B},function(){d(B,!1)})},onChangeEnd:function(B){d&&n.setState({activeFrame:B},function(){d(B,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),C&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:$,readOnly:!0})),w&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){l&&h&&h(!l.loop)},onKeyDown:function(){l&&h&&h(!l.loop)},className:l.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),O&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),L&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(B){d&&d($+(B.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",$),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},e})(reactExports.Component);const Bird=({delay:t=0,reverse:e=!1})=>{const[n,o]=useInView({triggerOnce:!1,threshold:0}),l={y:[0,-15,0],x:e?[-1e3,window.innerWidth+100]:[window.innerWidth+100,-1e3]};return React$1.createElement(motion.div,{ref:n,initial:{x:e?-100:window.innerWidth+100},animate:o?l:{},transition:{duration:20,delay:t,repeat:1/0,ease:"linear"},className:"absolute",style:{top:`${Math.random()*80}%`}},React$1.createElement(motion.div,{animate:{y:[0,8,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}},React$1.createElement(motion.div,{animate:{rotate:e?[-5,5,-5]:[5,-5,5]},transition:{duration:.5,repeat:1/0,ease:"easeInOut"}},React$1.createElement(Player,{autoplay:!0,loop:!0,src:"https://lottie.host/2a41d144-a431-47f9-8afb-210c2a5e0677/kDSHlpH8Aq.json",style:{width:"50px",height:"50px"}}))))},FlyingBirds=()=>React$1.createElement("div",{className:"fixed inset-0 pointer-events-none z-0"},[...Array(6)].map((t,e)=>React$1.createElement(Bird,{key:e,delay:e*2,reverse:e%2===0}))),generateMockData=()=>{const t=[];for(let o=0;o<8;o++)for(let l=0;l<8;l++){const u=(o-4)*2.5,f=(l-8/2)*2.5,h=Math.abs(u),d=Math.random()*10,p=Math.min(95,Math.max(20,h<2?85+d:h<4?60+d:30+d)),m=Math.min(100,p+15+Math.random()*5);t.push({id:`region-${o}-${l}`,name:`Field ${String.fromCharCode(65+o)}${l+1}`,x:u,z:f,width:2,depth:2,dry:{waterAccessLevel:Math.round(p),precipitation:Math.round(100+Math.random()*150),temperature:Math.round(28+Math.random()*5),soilMoisture:Math.round(p*.8),lastUpdated:new Date},wet:{waterAccessLevel:Math.round(m),precipitation:Math.round(300+Math.random()*200),temperature:Math.round(24+Math.random()*3),soilMoisture:Math.round(m*.9),lastUpdated:new Date}})}return t},AppContext=reactExports.createContext(void 0),AppProvider=({children:t})=>{const[e,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,f]=reactExports.useState("dry");reactExports.useEffect(()=>{l(!0),setTimeout(()=>{const d=generateMockData();n(d),l(!1)},1500)},[]),reactExports.useEffect(()=>{l(!0),setTimeout(()=>{l(!1)},800)},[u]);const h=()=>{f(d=>d==="dry"?"wet":"dry")};return React$1.createElement(AppContext.Provider,{value:{regions:e,isLoading:o,seasonType:u,setSeasonType:f,toggleSimulation:h}},t)},useAppContext=()=>{const t=reactExports.useContext(AppContext);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t},Header=()=>(useAppContext(),React$1.createElement("header",{className:"bg-white border-b border-gray-200 py-8 px-4 flex items-center justify-between shadow-sm"}));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="162",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const l=this._listeners[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,f=l.length;u<f;u++)l[u].call(this,e);e.target=null}}};const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(_lut$1[t&255]+_lut$1[t>>8&255]+_lut$1[t>>16&255]+_lut$1[t>>24&255]+"-"+_lut$1[e&255]+_lut$1[e>>8&255]+"-"+_lut$1[e>>16&15|64]+_lut$1[e>>24&255]+"-"+_lut$1[n&63|128]+_lut$1[n>>8&255]+"-"+_lut$1[n>>16&255]+_lut$1[n>>24&255]+_lut$1[o&255]+_lut$1[o>>8&255]+_lut$1[o>>16&255]+_lut$1[o>>24&255]).toLowerCase()}function clamp(t,e,n){return Math.max(e,Math.min(n,t))}function euclideanModulo(t,e){return(t%e+e)%e}function mapLinear(t,e,n,o,l){return o+(t-e)*(l-o)/(n-e)}function inverseLerp(t,e,n){return t!==e?(n-t)/(e-t):0}function lerp(t,e,n){return(1-n)*t+n*e}function damp(t,e,n,o){return lerp(t,e,1-Math.exp(-n*o))}function pingpong(t,e=1){return e-Math.abs(euclideanModulo(t,e*2)-e)}function smoothstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function smootherstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function randInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function randFloat(t,e){return t+Math.random()*(e-t)}function randFloatSpread(t){return t*(.5-Math.random())}function seededRandom(t){t!==void 0&&(_seed=t);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(t){return t*DEG2RAD}function radToDeg(t){return t*RAD2DEG}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function ceilPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function setQuaternionFromProperEuler(t,e,n,o,l){const u=Math.cos,f=Math.sin,h=u(n/2),d=f(n/2),p=u((e+o)/2),m=f((e+o)/2),v=u((e-o)/2),_=f((e-o)/2),S=u((o-e)/2),M=f((o-e)/2);switch(l){case"XYX":t.set(h*m,d*v,d*_,h*p);break;case"YZY":t.set(d*_,h*m,d*v,h*p);break;case"ZXZ":t.set(d*v,d*_,h*m,h*p);break;case"XZX":t.set(h*m,d*M,d*S,h*p);break;case"YXY":t.set(d*S,h*m,d*M,h*p);break;case"ZYZ":t.set(d*M,d*S,h*m,h*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$1,denormalize};class Vector2{constructor(e=0,n=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,o=this.y,l=e.elements;return this.x=l[0]*n+l[3]*o+l[6],this.y=l[1]*n+l[4]*o+l[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y;return n*n+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const o=Math.cos(n),l=Math.sin(n),u=this.x-e.x,f=this.y-e.y;return this.x=u*o-f*l+e.x,this.y=u*l+f*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,n,o,l,u,f,h,d,p){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,f,h,d,p)}set(e,n,o,l,u,f,h,d,p){const m=this.elements;return m[0]=e,m[1]=l,m[2]=h,m[3]=n,m[4]=u,m[5]=d,m[6]=o,m[7]=f,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],this}extractBasis(e,n,o){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,f=o[0],h=o[3],d=o[6],p=o[1],m=o[4],v=o[7],_=o[2],S=o[5],M=o[8],A=l[0],w=l[3],C=l[6],O=l[1],L=l[4],F=l[7],$=l[2],B=l[5],U=l[8];return u[0]=f*A+h*O+d*$,u[3]=f*w+h*L+d*B,u[6]=f*C+h*F+d*U,u[1]=p*A+m*O+v*$,u[4]=p*w+m*L+v*B,u[7]=p*C+m*F+v*U,u[2]=_*A+S*O+M*$,u[5]=_*w+S*L+M*B,u[8]=_*C+S*F+M*U,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],f=e[4],h=e[5],d=e[6],p=e[7],m=e[8];return n*f*m-n*h*p-o*u*m+o*h*d+l*u*p-l*f*d}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],f=e[4],h=e[5],d=e[6],p=e[7],m=e[8],v=m*f-h*p,_=h*d-m*u,S=p*u-f*d,M=n*v+o*_+l*S;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/M;return e[0]=v*A,e[1]=(l*p-m*o)*A,e[2]=(h*o-l*f)*A,e[3]=_*A,e[4]=(m*n-l*d)*A,e[5]=(l*u-h*n)*A,e[6]=S*A,e[7]=(o*d-p*n)*A,e[8]=(f*n-o*u)*A,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,o,l,u,f,h){const d=Math.cos(u),p=Math.sin(u);return this.set(o*d,o*p,-o*(d*f+p*h)+f+e,-l*p,l*d,-l*(-p*f+d*h)+h+n,0,0,1),this}scale(e,n){return this.premultiply(_m3.makeScale(e,n)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,n){return this.premultiply(_m3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,o,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<9;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<9;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(t,e){return new TYPED_ARRAYS[t](e)}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:t=>t,fromReference:t=>t},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:t=>t.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:t=>t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:t=>t.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:t=>t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!SUPPORTED_WORKING_COLOR_SPACES.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const o=COLOR_SPACES[e].toReference,l=COLOR_SPACES[n].fromReference;return l(o(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return COLOR_SPACES[t].primaries},getTransfer:function(t){return t===NoColorSpace?LinearTransfer:COLOR_SPACES[t].transfer}};function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const o=_canvas.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),n=_canvas}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=createElementNS("canvas");n.width=e.width,n.height=e.height;const o=n.getContext("2d");o.drawImage(e,0,0,e.width,e.height);const l=o.getImageData(0,0,e.width,e.height),u=l.data;for(let f=0;f<u.length;f++)u[f]=SRGBToLinear(u[f]/255)*255;return o.putImageData(l,0,0),n}else if(e.data){const n=e.data.slice(0);for(let o=0;o<n.length;o++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[o]=Math.floor(SRGBToLinear(n[o]/255)*255):n[o]=SRGBToLinear(n[o]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const o={uuid:this.uuid,url:""},l=this.data;if(l!==null){let u;if(Array.isArray(l)){u=[];for(let f=0,h=l.length;f<h;f++)l[f].isDataTexture?u.push(serializeImage(l[f].image)):u.push(serializeImage(l[f]))}else u=serializeImage(l);o.url=u}return n||(e.images[this.uuid]=o),o}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(e=Texture.DEFAULT_IMAGE,n=Texture.DEFAULT_MAPPING,o=ClampToEdgeWrapping,l=ClampToEdgeWrapping,u=LinearFilter,f=LinearMipmapLinearFilter,h=RGBAFormat,d=UnsignedByteType,p=Texture.DEFAULT_ANISOTROPY,m=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=o,this.wrapT=l,this.magFilter=u,this.minFilter=f,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(o.userData=this.userData),n||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,n=0,o=0,l=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=n,this.z=o,this.w=l}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,o,l){return this.x=e,this.y=n,this.z=o,this.w=l,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=this.w,f=e.elements;return this.x=f[0]*n+f[4]*o+f[8]*l+f[12]*u,this.y=f[1]*n+f[5]*o+f[9]*l+f[13]*u,this.z=f[2]*n+f[6]*o+f[10]*l+f[14]*u,this.w=f[3]*n+f[7]*o+f[11]*l+f[15]*u,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,o,l,u;const d=e.elements,p=d[0],m=d[4],v=d[8],_=d[1],S=d[5],M=d[9],A=d[2],w=d[6],C=d[10];if(Math.abs(m-_)<.01&&Math.abs(v-A)<.01&&Math.abs(M-w)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+A)<.1&&Math.abs(M+w)<.1&&Math.abs(p+S+C-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const L=(p+1)/2,F=(S+1)/2,$=(C+1)/2,B=(m+_)/4,U=(v+A)/4,q=(M+w)/4;return L>F&&L>$?L<.01?(o=0,l=.707106781,u=.707106781):(o=Math.sqrt(L),l=B/o,u=U/o):F>$?F<.01?(o=.707106781,l=0,u=.707106781):(l=Math.sqrt(F),o=B/l,u=q/l):$<.01?(o=.707106781,l=.707106781,u=0):(u=Math.sqrt($),o=U/u,l=q/u),this.set(o,l,u,n),this}let O=Math.sqrt((w-M)*(w-M)+(v-A)*(v-A)+(_-m)*(_-m));return Math.abs(O)<.001&&(O=1),this.x=(w-M)/O,this.y=(v-A)/O,this.z=(_-m)/O,this.w=Math.acos((p+S+C-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this.w=e.w+(n.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(e=1,n=1,o={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Vector4(0,0,e,n),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,n);const l={width:e,height:n,depth:1};o=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},o);const u=new Texture(l,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.colorSpace);u.flipY=!1,u.generateMipmaps=o.generateMipmaps,u.internalFormat=o.internalFormat,this.textures=[];const f=o.count;for(let h=0;h<f;h++)this.textures[h]=u.clone(),this.textures[h].isRenderTargetTexture=!0;this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.depthTexture=o.depthTexture,this.samples=o.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,o=1){if(this.width!==e||this.height!==n||this.depth!==o){this.width=e,this.height=n,this.depth=o;for(let l=0,u=this.textures.length;l<u;l++)this.textures[l].image.width=e,this.textures[l].image.height=n,this.textures[l].image.depth=o;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let o=0,l=e.textures.length;o<l;o++)this.textures[o]=e.textures[o].clone(),this.textures[o].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Source(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,n=1,o={}){super(e,n,o),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGLArrayRenderTarget=!0,this.depth=o,this.texture=new DataArrayTexture(null,e,n,o),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGL3DRenderTarget=!0,this.depth=o,this.texture=new Data3DTexture(null,e,n,o),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(e=0,n=0,o=0,l=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=o,this._w=l}static slerpFlat(e,n,o,l,u,f,h){let d=o[l+0],p=o[l+1],m=o[l+2],v=o[l+3];const _=u[f+0],S=u[f+1],M=u[f+2],A=u[f+3];if(h===0){e[n+0]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v;return}if(h===1){e[n+0]=_,e[n+1]=S,e[n+2]=M,e[n+3]=A;return}if(v!==A||d!==_||p!==S||m!==M){let w=1-h;const C=d*_+p*S+m*M+v*A,O=C>=0?1:-1,L=1-C*C;if(L>Number.EPSILON){const $=Math.sqrt(L),B=Math.atan2($,C*O);w=Math.sin(w*B)/$,h=Math.sin(h*B)/$}const F=h*O;if(d=d*w+_*F,p=p*w+S*F,m=m*w+M*F,v=v*w+A*F,w===1-h){const $=1/Math.sqrt(d*d+p*p+m*m+v*v);d*=$,p*=$,m*=$,v*=$}}e[n]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v}static multiplyQuaternionsFlat(e,n,o,l,u,f){const h=o[l],d=o[l+1],p=o[l+2],m=o[l+3],v=u[f],_=u[f+1],S=u[f+2],M=u[f+3];return e[n]=h*M+m*v+d*S-p*_,e[n+1]=d*M+m*_+p*v-h*S,e[n+2]=p*M+m*S+h*_-d*v,e[n+3]=m*M-h*v-d*_-p*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,o,l){return this._x=e,this._y=n,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const o=e._x,l=e._y,u=e._z,f=e._order,h=Math.cos,d=Math.sin,p=h(o/2),m=h(l/2),v=h(u/2),_=d(o/2),S=d(l/2),M=d(u/2);switch(f){case"XYZ":this._x=_*m*v+p*S*M,this._y=p*S*v-_*m*M,this._z=p*m*M+_*S*v,this._w=p*m*v-_*S*M;break;case"YXZ":this._x=_*m*v+p*S*M,this._y=p*S*v-_*m*M,this._z=p*m*M-_*S*v,this._w=p*m*v+_*S*M;break;case"ZXY":this._x=_*m*v-p*S*M,this._y=p*S*v+_*m*M,this._z=p*m*M+_*S*v,this._w=p*m*v-_*S*M;break;case"ZYX":this._x=_*m*v-p*S*M,this._y=p*S*v+_*m*M,this._z=p*m*M-_*S*v,this._w=p*m*v+_*S*M;break;case"YZX":this._x=_*m*v+p*S*M,this._y=p*S*v+_*m*M,this._z=p*m*M-_*S*v,this._w=p*m*v-_*S*M;break;case"XZY":this._x=_*m*v-p*S*M,this._y=p*S*v-_*m*M,this._z=p*m*M+_*S*v,this._w=p*m*v+_*S*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+f)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const o=n/2,l=Math.sin(o);return this._x=e.x*l,this._y=e.y*l,this._z=e.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,o=n[0],l=n[4],u=n[8],f=n[1],h=n[5],d=n[9],p=n[2],m=n[6],v=n[10],_=o+h+v;if(_>0){const S=.5/Math.sqrt(_+1);this._w=.25/S,this._x=(m-d)*S,this._y=(u-p)*S,this._z=(f-l)*S}else if(o>h&&o>v){const S=2*Math.sqrt(1+o-h-v);this._w=(m-d)/S,this._x=.25*S,this._y=(l+f)/S,this._z=(u+p)/S}else if(h>v){const S=2*Math.sqrt(1+h-o-v);this._w=(u-p)/S,this._x=(l+f)/S,this._y=.25*S,this._z=(d+m)/S}else{const S=2*Math.sqrt(1+v-o-h);this._w=(f-l)/S,this._x=(u+p)/S,this._y=(d+m)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let o=e.dot(n)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,n){const o=this.angleTo(e);if(o===0)return this;const l=Math.min(1,n/o);return this.slerp(e,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const o=e._x,l=e._y,u=e._z,f=e._w,h=n._x,d=n._y,p=n._z,m=n._w;return this._x=o*m+f*h+l*p-u*d,this._y=l*m+f*d+u*h-o*p,this._z=u*m+f*p+o*d-l*h,this._w=f*m-o*h-l*d-u*p,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const o=this._x,l=this._y,u=this._z,f=this._w;let h=f*e._w+o*e._x+l*e._y+u*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=f,this._x=o,this._y=l,this._z=u,this;const d=1-h*h;if(d<=Number.EPSILON){const S=1-n;return this._w=S*f+n*this._w,this._x=S*o+n*this._x,this._y=S*l+n*this._y,this._z=S*u+n*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,h),v=Math.sin((1-n)*m)/p,_=Math.sin(n*m)/p;return this._w=f*v+this._w*_,this._x=o*v+this._x*_,this._y=l*v+this._y*_,this._z=u*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,n,o){return this.copy(e).slerp(n,o)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),o=Math.random(),l=Math.sqrt(1-o),u=Math.sqrt(o);return this.set(l*Math.sin(e),l*Math.cos(e),u*Math.sin(n),u*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,n=0,o=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=n,this.z=o}set(e,n,o){return o===void 0&&(o=this.z),this.x=e,this.y=n,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[3]*o+u[6]*l,this.y=u[1]*n+u[4]*o+u[7]*l,this.z=u[2]*n+u[5]*o+u[8]*l,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=e.elements,f=1/(u[3]*n+u[7]*o+u[11]*l+u[15]);return this.x=(u[0]*n+u[4]*o+u[8]*l+u[12])*f,this.y=(u[1]*n+u[5]*o+u[9]*l+u[13])*f,this.z=(u[2]*n+u[6]*o+u[10]*l+u[14])*f,this}applyQuaternion(e){const n=this.x,o=this.y,l=this.z,u=e.x,f=e.y,h=e.z,d=e.w,p=2*(f*l-h*o),m=2*(h*n-u*l),v=2*(u*o-f*n);return this.x=n+d*p+f*v-h*m,this.y=o+d*m+h*p-u*v,this.z=l+d*v+u*m-f*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[4]*o+u[8]*l,this.y=u[1]*n+u[5]*o+u[9]*l,this.z=u[2]*n+u[6]*o+u[10]*l,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const o=e.x,l=e.y,u=e.z,f=n.x,h=n.y,d=n.z;return this.x=l*d-u*h,this.y=u*f-o*d,this.z=o*h-l*f,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const o=e.dot(this)/n;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y,l=this.z-e.z;return n*n+o*o+l*l}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,o){const l=Math.sin(n)*e;return this.x=l*Math.sin(o),this.y=Math.cos(n)*e,this.z=l*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,o){return this.x=e*Math.sin(n),this.y=o,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),l=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=o,this.z=l,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,o=Math.sqrt(1-n*n);return this.x=o*Math.cos(e),this.y=n,this.z=o*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),n=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n+=3)this.expandByPoint(_vector$b.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,o=e.count;n<o;n++)this.expandByPoint(_vector$b.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$b.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const o=e.geometry;if(o!==void 0){const u=o.getAttribute("position");if(n===!0&&u!==void 0&&e.isInstancedMesh!==!0)for(let f=0,h=u.count;f<h;f++)e.isMesh===!0?e.getVertexPosition(f,_vector$b):_vector$b.fromBufferAttribute(u,f),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(o.boundingBox===null&&o.computeBoundingBox(),_box$4.copy(o.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const l=e.children;for(let u=0,f=l.length;u<f;u++)this.expandByObject(l[u],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,o;return e.normal.x>0?(n=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),n<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let n=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents)||(n=[1,0,0,0,1,0,0,0,1],!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),n=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,n,o,l){for(let u=0,f=t.length-3;u<=f;u+=3){_testAxis.fromArray(t,u);const h=l.x*Math.abs(_testAxis.x)+l.y*Math.abs(_testAxis.y)+l.z*Math.abs(_testAxis.z),d=e.dot(_testAxis),p=n.dot(_testAxis),m=o.dot(_testAxis);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>h)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const o=this.center;n!==void 0?o.copy(n):_box$3.setFromPoints(e).getCenter(o);let l=0;for(let u=0,f=e.length;u<f;u++)l=Math.max(l,o.distanceToSquared(e[u]));return this.radius=Math.sqrt(l),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const o=this.center.distanceToSquared(e);return n.copy(e),o>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const n=_v1$6.lengthSq();if(n>this.radius*this.radius){const o=Math.sqrt(n),l=(o-this.radius)*.5;this.center.addScaledVector(_v1$6,l/o),this.radius+=l}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,n=new Vector3(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const o=n.dot(this.direction);return o<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,o)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_vector$a.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,n),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,n,o,l){_segCenter.copy(e).add(n).multiplyScalar(.5),_segDir.copy(n).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const u=e.distanceTo(n)*.5,f=-this.direction.dot(_segDir),h=_diff.dot(this.direction),d=-_diff.dot(_segDir),p=_diff.lengthSq(),m=Math.abs(1-f*f);let v,_,S,M;if(m>0)if(v=f*d-h,_=f*h-d,M=u*m,v>=0)if(_>=-M)if(_<=M){const A=1/m;v*=A,_*=A,S=v*(v+f*_+2*h)+_*(f*v+_+2*d)+p}else _=u,v=Math.max(0,-(f*_+h)),S=-v*v+_*(_+2*d)+p;else _=-u,v=Math.max(0,-(f*_+h)),S=-v*v+_*(_+2*d)+p;else _<=-M?(v=Math.max(0,-(-f*u+h)),_=v>0?-u:Math.min(Math.max(-u,-d),u),S=-v*v+_*(_+2*d)+p):_<=M?(v=0,_=Math.min(Math.max(-u,-d),u),S=_*(_+2*d)+p):(v=Math.max(0,-(f*u+h)),_=v>0?u:Math.min(Math.max(-u,-d),u),S=-v*v+_*(_+2*d)+p);else _=f>0?-u:u,v=Math.max(0,-(f*_+h)),S=-v*v+_*(_+2*d)+p;return o&&o.copy(this.origin).addScaledVector(this.direction,v),l&&l.copy(_segCenter).addScaledVector(_segDir,_),S}intersectSphere(e,n){_vector$a.subVectors(e.center,this.origin);const o=_vector$a.dot(this.direction),l=_vector$a.dot(_vector$a)-o*o,u=e.radius*e.radius;if(l>u)return null;const f=Math.sqrt(u-l),h=o-f,d=o+f;return d<0?null:h<0?this.at(d,n):this.at(h,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/n;return o>=0?o:null}intersectPlane(e,n){const o=this.distanceToPlane(e);return o===null?null:this.at(o,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let o,l,u,f,h,d;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return p>=0?(o=(e.min.x-_.x)*p,l=(e.max.x-_.x)*p):(o=(e.max.x-_.x)*p,l=(e.min.x-_.x)*p),m>=0?(u=(e.min.y-_.y)*m,f=(e.max.y-_.y)*m):(u=(e.max.y-_.y)*m,f=(e.min.y-_.y)*m),o>f||u>l||((u>o||isNaN(o))&&(o=u),(f<l||isNaN(l))&&(l=f),v>=0?(h=(e.min.z-_.z)*v,d=(e.max.z-_.z)*v):(h=(e.max.z-_.z)*v,d=(e.min.z-_.z)*v),o>d||h>l)||((h>o||o!==o)&&(o=h),(d<l||l!==l)&&(l=d),l<0)?null:this.at(o>=0?o:l,n)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,n,o,l,u){_edge1.subVectors(n,e),_edge2.subVectors(o,e),_normal$1.crossVectors(_edge1,_edge2);let f=this.direction.dot(_normal$1),h;if(f>0){if(l)return null;h=1}else if(f<0)h=-1,f=-f;else return null;_diff.subVectors(this.origin,e);const d=h*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(d<0)return null;const p=h*this.direction.dot(_edge1.cross(_diff));if(p<0||d+p>f)return null;const m=-h*_diff.dot(_normal$1);return m<0?null:this.at(m/f,u)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,n,o,l,u,f,h,d,p,m,v,_,S,M,A,w){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,f,h,d,p,m,v,_,S,M,A,w)}set(e,n,o,l,u,f,h,d,p,m,v,_,S,M,A,w){const C=this.elements;return C[0]=e,C[4]=n,C[8]=o,C[12]=l,C[1]=u,C[5]=f,C[9]=h,C[13]=d,C[2]=p,C[6]=m,C[10]=v,C[14]=_,C[3]=S,C[7]=M,C[11]=A,C[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],this}copyPosition(e){const n=this.elements,o=e.elements;return n[12]=o[12],n[13]=o[13],n[14]=o[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,o){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,n,o){return this.set(e.x,n.x,o.x,0,e.y,n.y,o.y,0,e.z,n.z,o.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,o=e.elements,l=1/_v1$5.setFromMatrixColumn(e,0).length(),u=1/_v1$5.setFromMatrixColumn(e,1).length(),f=1/_v1$5.setFromMatrixColumn(e,2).length();return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n[3]=0,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=0,n[8]=o[8]*f,n[9]=o[9]*f,n[10]=o[10]*f,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,o=e.x,l=e.y,u=e.z,f=Math.cos(o),h=Math.sin(o),d=Math.cos(l),p=Math.sin(l),m=Math.cos(u),v=Math.sin(u);if(e.order==="XYZ"){const _=f*m,S=f*v,M=h*m,A=h*v;n[0]=d*m,n[4]=-d*v,n[8]=p,n[1]=S+M*p,n[5]=_-A*p,n[9]=-h*d,n[2]=A-_*p,n[6]=M+S*p,n[10]=f*d}else if(e.order==="YXZ"){const _=d*m,S=d*v,M=p*m,A=p*v;n[0]=_+A*h,n[4]=M*h-S,n[8]=f*p,n[1]=f*v,n[5]=f*m,n[9]=-h,n[2]=S*h-M,n[6]=A+_*h,n[10]=f*d}else if(e.order==="ZXY"){const _=d*m,S=d*v,M=p*m,A=p*v;n[0]=_-A*h,n[4]=-f*v,n[8]=M+S*h,n[1]=S+M*h,n[5]=f*m,n[9]=A-_*h,n[2]=-f*p,n[6]=h,n[10]=f*d}else if(e.order==="ZYX"){const _=f*m,S=f*v,M=h*m,A=h*v;n[0]=d*m,n[4]=M*p-S,n[8]=_*p+A,n[1]=d*v,n[5]=A*p+_,n[9]=S*p-M,n[2]=-p,n[6]=h*d,n[10]=f*d}else if(e.order==="YZX"){const _=f*d,S=f*p,M=h*d,A=h*p;n[0]=d*m,n[4]=A-_*v,n[8]=M*v+S,n[1]=v,n[5]=f*m,n[9]=-h*m,n[2]=-p*m,n[6]=S*v+M,n[10]=_-A*v}else if(e.order==="XZY"){const _=f*d,S=f*p,M=h*d,A=h*p;n[0]=d*m,n[4]=-v,n[8]=p*m,n[1]=_*v+A,n[5]=f*m,n[9]=S*v-M,n[2]=M*v-S,n[6]=h*m,n[10]=A*v+_}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,n,o){const l=this.elements;return _z.subVectors(e,n),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(o,_z),_x.lengthSq()===0&&(Math.abs(o.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(o,_z)),_x.normalize(),_y.crossVectors(_z,_x),l[0]=_x.x,l[4]=_y.x,l[8]=_z.x,l[1]=_x.y,l[5]=_y.y,l[9]=_z.y,l[2]=_x.z,l[6]=_y.z,l[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,f=o[0],h=o[4],d=o[8],p=o[12],m=o[1],v=o[5],_=o[9],S=o[13],M=o[2],A=o[6],w=o[10],C=o[14],O=o[3],L=o[7],F=o[11],$=o[15],B=l[0],U=l[4],q=l[8],Z=l[12],G=l[1],H=l[5],ne=l[9],ae=l[13],te=l[2],ce=l[6],fe=l[10],ye=l[14],J=l[3],oe=l[7],se=l[11],Q=l[15];return u[0]=f*B+h*G+d*te+p*J,u[4]=f*U+h*H+d*ce+p*oe,u[8]=f*q+h*ne+d*fe+p*se,u[12]=f*Z+h*ae+d*ye+p*Q,u[1]=m*B+v*G+_*te+S*J,u[5]=m*U+v*H+_*ce+S*oe,u[9]=m*q+v*ne+_*fe+S*se,u[13]=m*Z+v*ae+_*ye+S*Q,u[2]=M*B+A*G+w*te+C*J,u[6]=M*U+A*H+w*ce+C*oe,u[10]=M*q+A*ne+w*fe+C*se,u[14]=M*Z+A*ae+w*ye+C*Q,u[3]=O*B+L*G+F*te+$*J,u[7]=O*U+L*H+F*ce+$*oe,u[11]=O*q+L*ne+F*fe+$*se,u[15]=O*Z+L*ae+F*ye+$*Q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[4],l=e[8],u=e[12],f=e[1],h=e[5],d=e[9],p=e[13],m=e[2],v=e[6],_=e[10],S=e[14],M=e[3],A=e[7],w=e[11],C=e[15];return M*(+u*d*v-l*p*v-u*h*_+o*p*_+l*h*S-o*d*S)+A*(+n*d*S-n*p*_+u*f*_-l*f*S+l*p*m-u*d*m)+w*(+n*p*v-n*h*S-u*f*v+o*f*S+u*h*m-o*p*m)+C*(-l*h*m-n*d*v+n*h*_+l*f*v-o*f*_+o*d*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,o){const l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=n,l[14]=o),this}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],f=e[4],h=e[5],d=e[6],p=e[7],m=e[8],v=e[9],_=e[10],S=e[11],M=e[12],A=e[13],w=e[14],C=e[15],O=v*w*p-A*_*p+A*d*S-h*w*S-v*d*C+h*_*C,L=M*_*p-m*w*p-M*d*S+f*w*S+m*d*C-f*_*C,F=m*A*p-M*v*p+M*h*S-f*A*S-m*h*C+f*v*C,$=M*v*d-m*A*d-M*h*_+f*A*_+m*h*w-f*v*w,B=n*O+o*L+l*F+u*$;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/B;return e[0]=O*U,e[1]=(A*_*u-v*w*u-A*l*S+o*w*S+v*l*C-o*_*C)*U,e[2]=(h*w*u-A*d*u+A*l*p-o*w*p-h*l*C+o*d*C)*U,e[3]=(v*d*u-h*_*u-v*l*p+o*_*p+h*l*S-o*d*S)*U,e[4]=L*U,e[5]=(m*w*u-M*_*u+M*l*S-n*w*S-m*l*C+n*_*C)*U,e[6]=(M*d*u-f*w*u-M*l*p+n*w*p+f*l*C-n*d*C)*U,e[7]=(f*_*u-m*d*u+m*l*p-n*_*p-f*l*S+n*d*S)*U,e[8]=F*U,e[9]=(M*v*u-m*A*u-M*o*S+n*A*S+m*o*C-n*v*C)*U,e[10]=(f*A*u-M*h*u+M*o*p-n*A*p-f*o*C+n*h*C)*U,e[11]=(m*h*u-f*v*u-m*o*p+n*v*p+f*o*S-n*h*S)*U,e[12]=$*U,e[13]=(m*A*l-M*v*l+M*o*_-n*A*_-m*o*w+n*v*w)*U,e[14]=(M*h*l-f*A*l-M*o*d+n*A*d+f*o*w-n*h*w)*U,e[15]=(f*v*l-m*h*l+m*o*d-n*v*d-f*o*_+n*h*_)*U,this}scale(e){const n=this.elements,o=e.x,l=e.y,u=e.z;return n[0]*=o,n[4]*=l,n[8]*=u,n[1]*=o,n[5]*=l,n[9]*=u,n[2]*=o,n[6]*=l,n[10]*=u,n[3]*=o,n[7]*=l,n[11]*=u,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],l=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,o,l))}makeTranslation(e,n,o){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,o,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const o=Math.cos(n),l=Math.sin(n),u=1-o,f=e.x,h=e.y,d=e.z,p=u*f,m=u*h;return this.set(p*f+o,p*h-l*d,p*d+l*h,0,p*h+l*d,m*h+o,m*d-l*f,0,p*d-l*h,m*d+l*f,u*d*d+o,0,0,0,0,1),this}makeScale(e,n,o){return this.set(e,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,n,o,l,u,f){return this.set(1,o,u,0,e,1,f,0,n,l,1,0,0,0,0,1),this}compose(e,n,o){const l=this.elements,u=n._x,f=n._y,h=n._z,d=n._w,p=u+u,m=f+f,v=h+h,_=u*p,S=u*m,M=u*v,A=f*m,w=f*v,C=h*v,O=d*p,L=d*m,F=d*v,$=o.x,B=o.y,U=o.z;return l[0]=(1-(A+C))*$,l[1]=(S+F)*$,l[2]=(M-L)*$,l[3]=0,l[4]=(S-F)*B,l[5]=(1-(_+C))*B,l[6]=(w+O)*B,l[7]=0,l[8]=(M+L)*U,l[9]=(w-O)*U,l[10]=(1-(_+A))*U,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this}decompose(e,n,o){const l=this.elements;let u=_v1$5.set(l[0],l[1],l[2]).length();const f=_v1$5.set(l[4],l[5],l[6]).length(),h=_v1$5.set(l[8],l[9],l[10]).length();this.determinant()<0&&(u=-u),e.x=l[12],e.y=l[13],e.z=l[14],_m1$4.copy(this);const p=1/u,m=1/f,v=1/h;return _m1$4.elements[0]*=p,_m1$4.elements[1]*=p,_m1$4.elements[2]*=p,_m1$4.elements[4]*=m,_m1$4.elements[5]*=m,_m1$4.elements[6]*=m,_m1$4.elements[8]*=v,_m1$4.elements[9]*=v,_m1$4.elements[10]*=v,n.setFromRotationMatrix(_m1$4),o.x=u,o.y=f,o.z=h,this}makePerspective(e,n,o,l,u,f,h=WebGLCoordinateSystem){const d=this.elements,p=2*u/(n-e),m=2*u/(o-l),v=(n+e)/(n-e),_=(o+l)/(o-l);let S,M;if(h===WebGLCoordinateSystem)S=-(f+u)/(f-u),M=-2*f*u/(f-u);else if(h===WebGPUCoordinateSystem)S=-f/(f-u),M=-f*u/(f-u);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return d[0]=p,d[4]=0,d[8]=v,d[12]=0,d[1]=0,d[5]=m,d[9]=_,d[13]=0,d[2]=0,d[6]=0,d[10]=S,d[14]=M,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,n,o,l,u,f,h=WebGLCoordinateSystem){const d=this.elements,p=1/(n-e),m=1/(o-l),v=1/(f-u),_=(n+e)*p,S=(o+l)*m;let M,A;if(h===WebGLCoordinateSystem)M=(f+u)*v,A=-2*v;else if(h===WebGPUCoordinateSystem)M=u*v,A=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-_,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-S,d[2]=0,d[6]=0,d[10]=A,d[14]=-M,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<16;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<16;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e[n+9]=o[9],e[n+10]=o[10],e[n+11]=o[11],e[n+12]=o[12],e[n+13]=o[13],e[n+14]=o[14],e[n+15]=o[15],e}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,n=0,o=0,l=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=o,this._order=l}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,o,l=this._order){return this._x=e,this._y=n,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,o=!0){const l=e.elements,u=l[0],f=l[4],h=l[8],d=l[1],p=l[5],m=l[9],v=l[2],_=l[6],S=l[10];switch(n){case"XYZ":this._y=Math.asin(clamp(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,S),this._z=Math.atan2(-f,u)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(h,S),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,u),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-f,p)):(this._y=0,this._z=Math.atan2(d,u));break;case"ZYX":this._y=Math.asin(-clamp(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,S),this._z=Math.atan2(d,u)):(this._x=0,this._z=Math.atan2(-f,p));break;case"YZX":this._z=Math.asin(clamp(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,u)):(this._x=0,this._y=Math.atan2(h,S));break;case"XZY":this._z=Math.asin(-clamp(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(h,u)):(this._x=Math.atan2(-m,S),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,o){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,n,o)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,n=new Euler,o=new Quaternion,l=new Vector3(1,1,1);function u(){o.setFromEuler(n,!1)}function f(){n.setFromQuaternion(o,void 0,!1)}n._onChange(u),o._onChange(f),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,n){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(e,n,o){e.isVector3?_target.copy(e):_target.set(e,n,o);const l=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),l&&(_m1$3.extractRotation(l.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$3),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let o=0,l=this.children.length;o<l;o++){const f=this.children[o].getObjectByProperty(e,n);if(f!==void 0)return f}}getObjectsByProperty(e,n,o=[]){this[e]===n&&o.push(this);const l=this.children;for(let u=0,f=l.length;u<f;u++)l[u].getObjectsByProperty(e,n,o);return o}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let o=0,l=n.length;o<l;o++){const u=n[o];(u.matrixWorldAutoUpdate===!0||e===!0)&&u.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const o=this.parent;if(e===!0&&o!==null&&o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const l=this.children;for(let u=0,f=l.length;u<f;u++){const h=l[u];h.matrixWorldAutoUpdate===!0&&h.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",o={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.castShadow===!0&&(l.castShadow=!0),this.receiveShadow===!0&&(l.receiveShadow=!0),this.visible===!1&&(l.visible=!1),this.frustumCulled===!1&&(l.frustumCulled=!1),this.renderOrder!==0&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(h=>({boxInitialized:h.boxInitialized,boxMin:h.box.min.toArray(),boxMax:h.box.max.toArray(),sphereInitialized:h.sphereInitialized,sphereRadius:h.sphere.radius,sphereCenter:h.sphere.center.toArray()})),l.maxGeometryCount=this._maxGeometryCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),this.boundingBox!==null&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}));function u(h,d){return h[d.uuid]===void 0&&(h[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(l.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=u(e.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const v=d[p];u(e.shapes,v)}else u(e.shapes,d)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(u(e.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(u(e.materials,this.material[d]));l.material=h}else l.material=u(e.materials,this.material);if(this.children.length>0){l.children=[];for(let h=0;h<this.children.length;h++)l.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){l.animations=[];for(let h=0;h<this.animations.length;h++){const d=this.animations[h];l.animations.push(u(e.animations,d))}}if(n){const h=f(e.geometries),d=f(e.materials),p=f(e.textures),m=f(e.images),v=f(e.shapes),_=f(e.skeletons),S=f(e.animations),M=f(e.nodes);h.length>0&&(o.geometries=h),d.length>0&&(o.materials=d),p.length>0&&(o.textures=p),m.length>0&&(o.images=m),v.length>0&&(o.shapes=v),_.length>0&&(o.skeletons=_),S.length>0&&(o.animations=S),M.length>0&&(o.nodes=M)}return o.object=l,o;function f(h){const d=[];for(const p in h){const m=h[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let o=0;o<e.children.length;o++){const l=e.children[o];this.add(l.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(e=new Vector3,n=new Vector3,o=new Vector3){this.a=e,this.b=n,this.c=o}static getNormal(e,n,o,l){l.subVectors(o,n),_v0$1.subVectors(e,n),l.cross(_v0$1);const u=l.lengthSq();return u>0?l.multiplyScalar(1/Math.sqrt(u)):l.set(0,0,0)}static getBarycoord(e,n,o,l,u){_v0$1.subVectors(l,n),_v1$3.subVectors(o,n),_v2$2.subVectors(e,n);const f=_v0$1.dot(_v0$1),h=_v0$1.dot(_v1$3),d=_v0$1.dot(_v2$2),p=_v1$3.dot(_v1$3),m=_v1$3.dot(_v2$2),v=f*p-h*h;if(v===0)return u.set(0,0,0),null;const _=1/v,S=(p*d-h*m)*_,M=(f*m-h*d)*_;return u.set(1-S-M,M,S)}static containsPoint(e,n,o,l){return this.getBarycoord(e,n,o,l,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,n,o,l,u,f,h,d){return this.getBarycoord(e,n,o,l,_v3$2)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(u,_v3$2.x),d.addScaledVector(f,_v3$2.y),d.addScaledVector(h,_v3$2.z),d)}static isFrontFacing(e,n,o,l){return _v0$1.subVectors(o,n),_v1$3.subVectors(e,n),_v0$1.cross(_v1$3).dot(l)<0}set(e,n,o){return this.a.copy(e),this.b.copy(n),this.c.copy(o),this}setFromPointsAndIndices(e,n,o,l){return this.a.copy(e[n]),this.b.copy(e[o]),this.c.copy(e[l]),this}setFromAttributeAndIndices(e,n,o,l){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,l),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Triangle.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,o,l,u){return Triangle.getInterpolation(e,this.a,this.b,this.c,n,o,l,u)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const o=this.a,l=this.b,u=this.c;let f,h;_vab.subVectors(l,o),_vac.subVectors(u,o),_vap.subVectors(e,o);const d=_vab.dot(_vap),p=_vac.dot(_vap);if(d<=0&&p<=0)return n.copy(o);_vbp.subVectors(e,l);const m=_vab.dot(_vbp),v=_vac.dot(_vbp);if(m>=0&&v<=m)return n.copy(l);const _=d*v-m*p;if(_<=0&&d>=0&&m<=0)return f=d/(d-m),n.copy(o).addScaledVector(_vab,f);_vcp.subVectors(e,u);const S=_vab.dot(_vcp),M=_vac.dot(_vcp);if(M>=0&&S<=M)return n.copy(u);const A=S*p-d*M;if(A<=0&&p>=0&&M<=0)return h=p/(p-M),n.copy(o).addScaledVector(_vac,h);const w=m*M-S*v;if(w<=0&&v-m>=0&&S-M>=0)return _vbc.subVectors(u,l),h=(v-m)/(v-m+(S-M)),n.copy(l).addScaledVector(_vbc,h);const C=1/(w+A+_);return f=A*C,h=_*C,n.copy(o).addScaledVector(_vab,f).addScaledVector(_vac,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Color$1=class{constructor(e,n,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,o)}set(e,n,o){if(n===void 0&&o===void 0){const l=e;l&&l.isColor?this.copy(l):typeof l=="number"?this.setHex(l):typeof l=="string"&&this.setStyle(l)}else this.setRGB(e,n,o);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,n),this}setRGB(e,n,o,l=ColorManagement.workingColorSpace){return this.r=e,this.g=n,this.b=o,ColorManagement.toWorkingColorSpace(this,l),this}setHSL(e,n,o,l=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),n=clamp(n,0,1),o=clamp(o,0,1),n===0)this.r=this.g=this.b=o;else{const u=o<=.5?o*(1+n):o+n-o*n,f=2*o-u;this.r=hue2rgb(f,u,e+1/3),this.g=hue2rgb(f,u,e),this.b=hue2rgb(f,u,e-1/3)}return ColorManagement.toWorkingColorSpace(this,l),this}setStyle(e,n=SRGBColorSpace){function o(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let l;if(l=/^(\w+)\(([^\)]*)\)/.exec(e)){let u;const f=l[1],h=l[2];switch(f){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return o(u[4]),this.setRGB(Math.min(255,parseInt(u[1],10))/255,Math.min(255,parseInt(u[2],10))/255,Math.min(255,parseInt(u[3],10))/255,n);if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return o(u[4]),this.setRGB(Math.min(100,parseInt(u[1],10))/100,Math.min(100,parseInt(u[2],10))/100,Math.min(100,parseInt(u[3],10))/100,n);break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return o(u[4]),this.setHSL(parseFloat(u[1])/360,parseFloat(u[2])/100,parseFloat(u[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(e)){const u=l[1],f=u.length;if(f===3)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,n);if(f===6)return this.setHex(parseInt(u,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=SRGBColorSpace){const o=_colorKeywords[e.toLowerCase()];return o!==void 0?this.setHex(o,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),n);const o=_color.r,l=_color.g,u=_color.b,f=Math.max(o,l,u),h=Math.min(o,l,u);let d,p;const m=(h+f)/2;if(h===f)d=0,p=0;else{const v=f-h;switch(p=m<=.5?v/(f+h):v/(2-f-h),f){case o:d=(l-u)/v+(l<u?6:0);break;case l:d=(u-o)/v+2;break;case u:d=(o-l)/v+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,n=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),n),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const n=_color.r,o=_color.g,l=_color.b;return e!==SRGBColorSpace?`color(${e} ${n.toFixed(3)} ${o.toFixed(3)} ${l.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(o*255)},${Math.round(l*255)})`}offsetHSL(e,n,o){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+n,_hslA.l+o)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,o){return this.r=e.r+(n.r-e.r)*o,this.g=e.g+(n.g-e.g)*o,this.b=e.b+(n.b-e.b)*o,this}lerpHSL(e,n){this.getHSL(_hslA),e.getHSL(_hslB);const o=lerp(_hslA.h,_hslB.h,n),l=lerp(_hslA.s,_hslB.s,n),u=lerp(_hslA.l,_hslB.l,n);return this.setHSL(o,l,u),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,o=this.g,l=this.b,u=e.elements;return this.r=u[0]*n+u[3]*o+u[6]*l,this.g=u[1]*n+u[4]*o+u[7]*l,this.b=u[2]*n+u[5]*o+u[8]*l,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const o=e[n];if(o===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const l=this[n];if(l===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[n]=o}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const o={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(o.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(o.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(o.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapRotation!==void 0&&(o.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(o.blending=this.blending),this.side!==FrontSide&&(o.side=this.side),this.vertexColors===!0&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(o.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(o.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(o.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(o.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(o.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(o.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(o.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(o.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(o.depthFunc=this.depthFunc),this.depthTest===!1&&(o.depthTest=this.depthTest),this.depthWrite===!1&&(o.depthWrite=this.depthWrite),this.colorWrite===!1&&(o.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(o.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(o.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(o.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(o.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(o.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(o.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(o.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(o.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaHash===!0&&(o.alphaHash=!0),this.alphaToCoverage===!0&&(o.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=!0),this.forceSinglePass===!0&&(o.forceSinglePass=!0),this.wireframe===!0&&(o.wireframe=!0),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=!0),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),Object.keys(this.userData).length>0&&(o.userData=this.userData);function l(u){const f=[];for(const h in u){const d=u[h];delete d.metadata,f.push(d)}return f}if(n){const u=l(e.textures),f=l(e.images);u.length>0&&(o.textures=u),f.length>0&&(o.images=f)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let o=null;if(n!==null){const l=n.length;o=new Array(l);for(let u=0;u!==l;++u)o[u]=n[u].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _tables=_generateTables();function _generateTables(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),o=new Uint32Array(512),l=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(o[d]=0,o[d|256]=32768,l[d]=24,l[d|256]=24):p<-14?(o[d]=1024>>-p-14,o[d|256]=1024>>-p-14|32768,l[d]=-p-1,l[d|256]=-p-1):p<=15?(o[d]=p+15<<10,o[d|256]=p+15<<10|32768,l[d]=13,l[d|256]=13):p<128?(o[d]=31744,o[d|256]=64512,l[d]=24,l[d|256]=24):(o[d]=31744,o[d|256]=64512,l[d]=13,l[d|256]=13)}const u=new Uint32Array(2048),f=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,u[d]=p|m}for(let d=1024;d<2048;++d)u[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)f[d]=d<<23;f[31]=1199570944,f[32]=2147483648;for(let d=33;d<63;++d)f[d]=2147483648+(d-32<<23);f[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(h[d]=1024);return{floatView:e,uint32View:n,baseTable:o,shiftTable:l,mantissaTable:u,exponentTable:f,offsetTable:h}}function toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=clamp(t,-65504,65504),_tables.floatView[0]=t;const e=_tables.uint32View[0],n=e>>23&511;return _tables.baseTable[n]+((e&8388607)>>_tables.shiftTable[n])}function fromHalfFloat(t){const e=t>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(t&1023)]+_tables.exponentTable[e],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,n,o=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=o,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return warnOnce("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,o){e*=this.itemSize,o*=n.itemSize;for(let l=0,u=this.itemSize;l<u;l++)this.array[e+l]=n.array[o+l];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,o=this.count;n<o;n++)_vector2$1.fromBufferAttribute(this,n),_vector2$1.applyMatrix3(e),this.setXY(n,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix3(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix4(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyNormalMatrix(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.transformDirection(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let o=this.array[e*this.itemSize+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.array[e*this.itemSize+n]=o,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=n,this.array[e+1]=o,this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this.array[e+3]=u,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Int8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int8Array(e),n,o)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8Array(e),n,o)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8ClampedArray(e),n,o)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int16Array(e),n,o)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int32Array(e),n,o)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint32Array(e),n,o)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o),this.isFloat16BufferAttribute=!0}getX(e){let n=fromHalfFloat(this.array[e*this.itemSize]);return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=toHalfFloat(n),this}getY(e){let n=fromHalfFloat(this.array[e*this.itemSize+1]);return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=toHalfFloat(n),this}getZ(e){let n=fromHalfFloat(this.array[e*this.itemSize+2]);return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=toHalfFloat(n),this}getW(e){let n=fromHalfFloat(this.array[e*this.itemSize+3]);return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=toHalfFloat(n),this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this.array[e+3]=toHalfFloat(u),this}}class Float32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Float32Array(e),n,o)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,o=0){this.groups.push({start:e,count:n,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const u=new Matrix3().getNormalMatrix(e);o.applyNormalMatrix(u),o.needsUpdate=!0}const l=this.attributes.tangent;return l!==void 0&&(l.transformDirection(e),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$2.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$2),this}rotateX(e){return _m1$2.makeRotationX(e),this.applyMatrix4(_m1$2),this}rotateY(e){return _m1$2.makeRotationY(e),this.applyMatrix4(_m1$2),this}rotateZ(e){return _m1$2.makeRotationZ(e),this.applyMatrix4(_m1$2),this}translate(e,n,o){return _m1$2.makeTranslation(e,n,o),this.applyMatrix4(_m1$2),this}scale(e,n,o){return _m1$2.makeScale(e,n,o),this.applyMatrix4(_m1$2),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const n=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];n.push(u.x,u.y,u.z||0)}return this.setAttribute("position",new Float32BufferAttribute(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let o=0,l=n.length;o<l;o++){const u=n[o];_box$2.setFromBufferAttribute(u),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const o=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),n)for(let u=0,f=n.length;u<f;u++){const h=n[u];_boxMorphTargets.setFromBufferAttribute(h),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(o);let l=0;for(let u=0,f=e.count;u<f;u++)_vector$8.fromBufferAttribute(e,u),l=Math.max(l,o.distanceToSquared(_vector$8));if(n)for(let u=0,f=n.length;u<f;u++){const h=n[u],d=this.morphTargetsRelative;for(let p=0,m=h.count;p<m;p++)_vector$8.fromBufferAttribute(h,p),d&&(_offset.fromBufferAttribute(e,p),_vector$8.add(_offset)),l=Math.max(l,o.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=n.position,l=n.normal,u=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*o.count),4));const f=this.getAttribute("tangent"),h=[],d=[];for(let q=0;q<o.count;q++)h[q]=new Vector3,d[q]=new Vector3;const p=new Vector3,m=new Vector3,v=new Vector3,_=new Vector2,S=new Vector2,M=new Vector2,A=new Vector3,w=new Vector3;function C(q,Z,G){p.fromBufferAttribute(o,q),m.fromBufferAttribute(o,Z),v.fromBufferAttribute(o,G),_.fromBufferAttribute(u,q),S.fromBufferAttribute(u,Z),M.fromBufferAttribute(u,G),m.sub(p),v.sub(p),S.sub(_),M.sub(_);const H=1/(S.x*M.y-M.x*S.y);isFinite(H)&&(A.copy(m).multiplyScalar(M.y).addScaledVector(v,-S.y).multiplyScalar(H),w.copy(v).multiplyScalar(S.x).addScaledVector(m,-M.x).multiplyScalar(H),h[q].add(A),h[Z].add(A),h[G].add(A),d[q].add(w),d[Z].add(w),d[G].add(w))}let O=this.groups;O.length===0&&(O=[{start:0,count:e.count}]);for(let q=0,Z=O.length;q<Z;++q){const G=O[q],H=G.start,ne=G.count;for(let ae=H,te=H+ne;ae<te;ae+=3)C(e.getX(ae+0),e.getX(ae+1),e.getX(ae+2))}const L=new Vector3,F=new Vector3,$=new Vector3,B=new Vector3;function U(q){$.fromBufferAttribute(l,q),B.copy($);const Z=h[q];L.copy(Z),L.sub($.multiplyScalar($.dot(Z))).normalize(),F.crossVectors(B,Z);const H=F.dot(d[q])<0?-1:1;f.setXYZW(q,L.x,L.y,L.z,H)}for(let q=0,Z=O.length;q<Z;++q){const G=O[q],H=G.start,ne=G.count;for(let ae=H,te=H+ne;ae<te;ae+=3)U(e.getX(ae+0)),U(e.getX(ae+1)),U(e.getX(ae+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new BufferAttribute(new Float32Array(n.count*3),3),this.setAttribute("normal",o);else for(let _=0,S=o.count;_<S;_++)o.setXYZ(_,0,0,0);const l=new Vector3,u=new Vector3,f=new Vector3,h=new Vector3,d=new Vector3,p=new Vector3,m=new Vector3,v=new Vector3;if(e)for(let _=0,S=e.count;_<S;_+=3){const M=e.getX(_+0),A=e.getX(_+1),w=e.getX(_+2);l.fromBufferAttribute(n,M),u.fromBufferAttribute(n,A),f.fromBufferAttribute(n,w),m.subVectors(f,u),v.subVectors(l,u),m.cross(v),h.fromBufferAttribute(o,M),d.fromBufferAttribute(o,A),p.fromBufferAttribute(o,w),h.add(m),d.add(m),p.add(m),o.setXYZ(M,h.x,h.y,h.z),o.setXYZ(A,d.x,d.y,d.z),o.setXYZ(w,p.x,p.y,p.z)}else for(let _=0,S=n.count;_<S;_+=3)l.fromBufferAttribute(n,_+0),u.fromBufferAttribute(n,_+1),f.fromBufferAttribute(n,_+2),m.subVectors(f,u),v.subVectors(l,u),m.cross(v),o.setXYZ(_+0,m.x,m.y,m.z),o.setXYZ(_+1,m.x,m.y,m.z),o.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),o.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,o=e.count;n<o;n++)_vector$8.fromBufferAttribute(e,n),_vector$8.normalize(),e.setXYZ(n,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(h,d){const p=h.array,m=h.itemSize,v=h.normalized,_=new p.constructor(d.length*m);let S=0,M=0;for(let A=0,w=d.length;A<w;A++){h.isInterleavedBufferAttribute?S=d[A]*h.data.stride+h.offset:S=d[A]*m;for(let C=0;C<m;C++)_[M++]=p[S++]}return new BufferAttribute(_,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new BufferGeometry,o=this.index.array,l=this.attributes;for(const h in l){const d=l[h],p=e(d,o);n.setAttribute(h,p)}const u=this.morphAttributes;for(const h in u){const d=[],p=u[h];for(let m=0,v=p.length;m<v;m++){const _=p[m],S=e(_,o);d.push(S)}n.morphAttributes[h]=d}n.morphTargetsRelative=this.morphTargetsRelative;const f=this.groups;for(let h=0,d=f.length;h<d;h++){const p=f[h];n.addGroup(p.start,p.count,p.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const o=this.attributes;for(const d in o){const p=o[d];e.data.attributes[d]=p.toJSON(e.data)}const l={};let u=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let v=0,_=p.length;v<_;v++){const S=p[v];m.push(S.toJSON(e.data))}m.length>0&&(l[d]=m,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);const f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));const h=this.boundingSphere;return h!==null&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone(n));const l=e.attributes;for(const p in l){const m=l[p];this.setAttribute(p,m.clone(n))}const u=e.morphAttributes;for(const p in u){const m=[],v=u[p];for(let _=0,S=v.length;_<S;_++)m.push(v[_].clone(n));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const f=e.groups;for(let p=0,m=f.length;p<m;p++){const v=f[p];this.addGroup(v.start,v.count,v.materialIndex)}const h=e.boundingBox;h!==null&&(this.boundingBox=h.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,n=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=l.length;u<f;u++){const h=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=u}}}}getVertexPosition(e,n){const o=this.geometry,l=o.attributes.position,u=o.morphAttributes.position,f=o.morphTargetsRelative;n.fromBufferAttribute(l,e);const h=this.morphTargetInfluences;if(u&&h){_morphA.set(0,0,0);for(let d=0,p=u.length;d<p;d++){const m=h[d],v=u[d];m!==0&&(_tempA.fromBufferAttribute(v,e),f?_morphA.addScaledVector(_tempA,m):_morphA.addScaledVector(_tempA.sub(n),m))}n.add(_morphA)}return n}raycast(e,n){const o=this.geometry,l=this.material,u=this.matrixWorld;l!==void 0&&(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$6.copy(o.boundingSphere),_sphere$6.applyMatrix4(u),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(u).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(o.boundingBox!==null&&_ray$3.intersectsBox(o.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$3)))}_computeIntersections(e,n,o){let l;const u=this.geometry,f=this.material,h=u.index,d=u.attributes.position,p=u.attributes.uv,m=u.attributes.uv1,v=u.attributes.normal,_=u.groups,S=u.drawRange;if(h!==null)if(Array.isArray(f))for(let M=0,A=_.length;M<A;M++){const w=_[M],C=f[w.materialIndex],O=Math.max(w.start,S.start),L=Math.min(h.count,Math.min(w.start+w.count,S.start+S.count));for(let F=O,$=L;F<$;F+=3){const B=h.getX(F),U=h.getX(F+1),q=h.getX(F+2);l=checkGeometryIntersection(this,C,e,o,p,m,v,B,U,q),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const M=Math.max(0,S.start),A=Math.min(h.count,S.start+S.count);for(let w=M,C=A;w<C;w+=3){const O=h.getX(w),L=h.getX(w+1),F=h.getX(w+2);l=checkGeometryIntersection(this,f,e,o,p,m,v,O,L,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}else if(d!==void 0)if(Array.isArray(f))for(let M=0,A=_.length;M<A;M++){const w=_[M],C=f[w.materialIndex],O=Math.max(w.start,S.start),L=Math.min(d.count,Math.min(w.start+w.count,S.start+S.count));for(let F=O,$=L;F<$;F+=3){const B=F,U=F+1,q=F+2;l=checkGeometryIntersection(this,C,e,o,p,m,v,B,U,q),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const M=Math.max(0,S.start),A=Math.min(d.count,S.start+S.count);for(let w=M,C=A;w<C;w+=3){const O=w,L=w+1,F=w+2;l=checkGeometryIntersection(this,f,e,o,p,m,v,O,L,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}}}function checkIntersection(t,e,n,o,l,u,f,h){let d;if(e.side===BackSide?d=o.intersectTriangle(f,u,l,!0,h):d=o.intersectTriangle(l,u,f,e.side===FrontSide,h),d===null)return null;_intersectionPointWorld.copy(h),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const p=n.ray.origin.distanceTo(_intersectionPointWorld);return p<n.near||p>n.far?null:{distance:p,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,n,o,l,u,f,h,d,p){t.getVertexPosition(h,_vA$1),t.getVertexPosition(d,_vB$1),t.getVertexPosition(p,_vC$1);const m=checkIntersection(t,e,n,o,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(m){l&&(_uvA$1.fromBufferAttribute(l,h),_uvB$1.fromBufferAttribute(l,d),_uvC$1.fromBufferAttribute(l,p),m.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),u&&(_uvA$1.fromBufferAttribute(u,h),_uvB$1.fromBufferAttribute(u,d),_uvC$1.fromBufferAttribute(u,p),m.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),f&&(_normalA.fromBufferAttribute(f,h),_normalB.fromBufferAttribute(f,d),_normalC.fromBufferAttribute(f,p),m.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),m.normal.dot(o.direction)>0&&m.normal.multiplyScalar(-1));const v={a:h,b:d,c:p,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,v.normal),m.face=v}return m}class BoxGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1,u=1,f=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:o,widthSegments:l,heightSegments:u,depthSegments:f};const h=this;l=Math.floor(l),u=Math.floor(u),f=Math.floor(f);const d=[],p=[],m=[],v=[];let _=0,S=0;M("z","y","x",-1,-1,o,n,e,f,u,0),M("z","y","x",1,-1,o,n,-e,f,u,1),M("x","z","y",1,1,e,o,n,l,f,2),M("x","z","y",1,-1,e,o,-n,l,f,3),M("x","y","z",1,-1,e,n,o,l,u,4),M("x","y","z",-1,-1,e,n,-o,l,u,5),this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(p,3)),this.setAttribute("normal",new Float32BufferAttribute(m,3)),this.setAttribute("uv",new Float32BufferAttribute(v,2));function M(A,w,C,O,L,F,$,B,U,q,Z){const G=F/U,H=$/q,ne=F/2,ae=$/2,te=B/2,ce=U+1,fe=q+1;let ye=0,J=0;const oe=new Vector3;for(let se=0;se<fe;se++){const Q=se*H-ae;for(let ue=0;ue<ce;ue++){const _e=ue*G-ne;oe[A]=_e*O,oe[w]=Q*L,oe[C]=te,p.push(oe.x,oe.y,oe.z),oe[A]=0,oe[w]=0,oe[C]=B>0?1:-1,m.push(oe.x,oe.y,oe.z),v.push(ue/U),v.push(1-se/q),ye+=1}}for(let se=0;se<q;se++)for(let Q=0;Q<U;Q++){const ue=_+Q+ce*se,_e=_+Q+ce*(se+1),ge=_+(Q+1)+ce*(se+1),ve=_+(Q+1)+ce*se;d.push(ue,_e,ve),d.push(_e,ge,ve),J+=6}h.addGroup(S,J,Z),S+=J,_+=ye}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const n in t){e[n]={};for(const o in t[n]){const l=t[n][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?l.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][o]=null):e[n][o]=l.clone():Array.isArray(l)?e[n][o]=l.slice():e[n][o]=l}}return e}function mergeUniforms(t){const e={};for(let n=0;n<t.length;n++){const o=cloneUniforms(t[n]);for(const l in o)e[l]=o[l]}return e}function cloneUniformsGroups(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function getUnlitUniformColorSpace(t){return t.getRenderTarget()===null?t.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const l in this.uniforms){const f=this.uniforms[l].value;f&&f.isTexture?n.uniforms[l]={type:"t",value:f.toJSON(e).uuid}:f&&f.isColor?n.uniforms[l]={type:"c",value:f.getHex()}:f&&f.isVector2?n.uniforms[l]={type:"v2",value:f.toArray()}:f&&f.isVector3?n.uniforms[l]={type:"v3",value:f.toArray()}:f&&f.isVector4?n.uniforms[l]={type:"v4",value:f.toArray()}:f&&f.isMatrix3?n.uniforms[l]={type:"m3",value:f.toArray()}:f&&f.isMatrix4?n.uniforms[l]={type:"m4",value:f.toArray()}:n.uniforms[l]={value:f}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const o={};for(const l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(n.extensions=o),n}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,n=1,o=.1,l=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,o){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),o.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,n){return this.getViewBounds(e,_minTarget,_maxTarget),n.subVectors(_maxTarget,_minTarget)}setViewOffset(e,n,o,l,u,f){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,o=2*n,l=this.aspect*o,u=-.5*l;const f=this.view;if(this.view!==null&&this.view.enabled){const d=f.fullWidth,p=f.fullHeight;u+=f.offsetX*l/d,n-=f.offsetY*o/p,l*=f.width/d,o*=f.height/p}const h=this.filmOffset;h!==0&&(u+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+l,n,n-o,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,n,o){super(),this.type="CubeCamera",this.renderTarget=o,this.coordinateSystem=null,this.activeMipmapLevel=0;const l=new PerspectiveCamera(fov,aspect,e,n);l.layers=this.layers,this.add(l);const u=new PerspectiveCamera(fov,aspect,e,n);u.layers=this.layers,this.add(u);const f=new PerspectiveCamera(fov,aspect,e,n);f.layers=this.layers,this.add(f);const h=new PerspectiveCamera(fov,aspect,e,n);h.layers=this.layers,this.add(h);const d=new PerspectiveCamera(fov,aspect,e,n);d.layers=this.layers,this.add(d);const p=new PerspectiveCamera(fov,aspect,e,n);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[o,l,u,f,h,d]=n;for(const p of n)this.remove(p);if(e===WebGLCoordinateSystem)o.up.set(0,1,0),o.lookAt(1,0,0),l.up.set(0,1,0),l.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),f.up.set(0,0,1),f.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)o.up.set(0,-1,0),o.lookAt(-1,0,0),l.up.set(0,-1,0),l.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),f.up.set(0,0,-1),f.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of n)this.add(p),p.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:o,activeMipmapLevel:l}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[u,f,h,d,p,m]=this.children,v=e.getRenderTarget(),_=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const A=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0,l),e.render(n,u),e.setRenderTarget(o,1,l),e.render(n,f),e.setRenderTarget(o,2,l),e.render(n,h),e.setRenderTarget(o,3,l),e.render(n,d),e.setRenderTarget(o,4,l),e.render(n,p),o.texture.generateMipmaps=A,e.setRenderTarget(o,5,l),e.render(n,m),e.setRenderTarget(v,_,S),e.xr.enabled=M,o.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,n,o,l,u,f,h,d,p,m){e=e!==void 0?e:[],n=n!==void 0?n:CubeReflectionMapping,super(e,n,o,l,u,f,h,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const o={width:e,height:e,depth:1},l=[o,o,o,o,o,o];this.texture=new CubeTexture(l,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:LinearFilter}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},l=new BoxGeometry(5,5,5),u=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:BackSide,blending:NoBlending});u.uniforms.tEquirect.value=n;const f=new Mesh(l,u),h=n.minFilter;return n.minFilter===LinearMipmapLinearFilter&&(n.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,f),n.minFilter=h,f.geometry.dispose(),f.material.dispose(),this}clear(e,n,o,l){const u=e.getRenderTarget();for(let f=0;f<6;f++)e.setRenderTarget(this,f),e.clear(n,o,l);e.setRenderTarget(u)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,o,l){return this.normal.set(e,n,o),this.constant=l,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,o){const l=_vector1.subVectors(o,n).cross(_vector2.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(l,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const o=e.delta(_vector1),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const u=-(e.start.dot(this.normal)+this.constant)/l;return u<0||u>1?null:n.copy(e.start).addScaledVector(o,u)}intersectsLine(e){const n=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return n<0&&o>0||o<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const o=n||_normalMatrix.getNormalMatrix(e),l=this.coplanarPoint(_vector1).applyMatrix4(e),u=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(u),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere,_vector$7=new Vector3;class Frustum{constructor(e=new Plane,n=new Plane,o=new Plane,l=new Plane,u=new Plane,f=new Plane){this.planes=[e,n,o,l,u,f]}set(e,n,o,l,u,f){const h=this.planes;return h[0].copy(e),h[1].copy(n),h[2].copy(o),h[3].copy(l),h[4].copy(u),h[5].copy(f),this}copy(e){const n=this.planes;for(let o=0;o<6;o++)n[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e,n=WebGLCoordinateSystem){const o=this.planes,l=e.elements,u=l[0],f=l[1],h=l[2],d=l[3],p=l[4],m=l[5],v=l[6],_=l[7],S=l[8],M=l[9],A=l[10],w=l[11],C=l[12],O=l[13],L=l[14],F=l[15];if(o[0].setComponents(d-u,_-p,w-S,F-C).normalize(),o[1].setComponents(d+u,_+p,w+S,F+C).normalize(),o[2].setComponents(d+f,_+m,w+M,F+O).normalize(),o[3].setComponents(d-f,_-m,w-M,F-O).normalize(),o[4].setComponents(d-h,_-v,w-A,F-L).normalize(),n===WebGLCoordinateSystem)o[5].setComponents(d+h,_+v,w+A,F+L).normalize();else if(n===WebGPUCoordinateSystem)o[5].setComponents(h,v,A,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$5.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$5.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(e){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(e){const n=this.planes,o=e.center,l=-e.radius;for(let u=0;u<6;u++)if(n[u].distanceToPoint(o)<l)return!1;return!0}intersectsBox(e){const n=this.planes;for(let o=0;o<6;o++){const l=n[o];if(_vector$7.x=l.normal.x>0?e.max.x:e.min.x,_vector$7.y=l.normal.y>0?e.max.y:e.min.y,_vector$7.z=l.normal.z>0?e.max.z:e.min.z,l.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let o=0;o<6;o++)if(n[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let t=null,e=!1,n=null,o=null;function l(u,f){n(u,f),o=t.requestAnimationFrame(l)}return{start:function(){e!==!0&&n!==null&&(o=t.requestAnimationFrame(l),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(u){n=u},setContext:function(u){t=u}}}function WebGLAttributes(t,e){const n=e.isWebGL2,o=new WeakMap;function l(p,m){const v=p.array,_=p.usage,S=v.byteLength,M=t.createBuffer();t.bindBuffer(m,M),t.bufferData(m,v,_),p.onUploadCallback();let A;if(v instanceof Float32Array)A=t.FLOAT;else if(v instanceof Uint16Array)if(p.isFloat16BufferAttribute)if(n)A=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else A=t.UNSIGNED_SHORT;else if(v instanceof Int16Array)A=t.SHORT;else if(v instanceof Uint32Array)A=t.UNSIGNED_INT;else if(v instanceof Int32Array)A=t.INT;else if(v instanceof Int8Array)A=t.BYTE;else if(v instanceof Uint8Array)A=t.UNSIGNED_BYTE;else if(v instanceof Uint8ClampedArray)A=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:M,type:A,bytesPerElement:v.BYTES_PER_ELEMENT,version:p.version,size:S}}function u(p,m,v){const _=m.array,S=m._updateRange,M=m.updateRanges;if(t.bindBuffer(v,p),S.count===-1&&M.length===0&&t.bufferSubData(v,0,_),M.length!==0){for(let A=0,w=M.length;A<w;A++){const C=M[A];n?t.bufferSubData(v,C.start*_.BYTES_PER_ELEMENT,_,C.start,C.count):t.bufferSubData(v,C.start*_.BYTES_PER_ELEMENT,_.subarray(C.start,C.start+C.count))}m.clearUpdateRanges()}S.count!==-1&&(n?t.bufferSubData(v,S.offset*_.BYTES_PER_ELEMENT,_,S.offset,S.count):t.bufferSubData(v,S.offset*_.BYTES_PER_ELEMENT,_.subarray(S.offset,S.offset+S.count)),S.count=-1),m.onUploadCallback()}function f(p){return p.isInterleavedBufferAttribute&&(p=p.data),o.get(p)}function h(p){p.isInterleavedBufferAttribute&&(p=p.data);const m=o.get(p);m&&(t.deleteBuffer(m.buffer),o.delete(p))}function d(p,m){if(p.isGLBufferAttribute){const _=o.get(p);(!_||_.version<p.version)&&o.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version});return}p.isInterleavedBufferAttribute&&(p=p.data);const v=o.get(p);if(v===void 0)o.set(p,l(p,m));else if(v.version<p.version){if(v.size!==p.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");u(v.buffer,p,m),v.version=p.version}}return{get:f,remove:h,update:d}}class PlaneGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:o,heightSegments:l};const u=e/2,f=n/2,h=Math.floor(o),d=Math.floor(l),p=h+1,m=d+1,v=e/h,_=n/d,S=[],M=[],A=[],w=[];for(let C=0;C<m;C++){const O=C*_-f;for(let L=0;L<p;L++){const F=L*v-u;M.push(F,-O,0),A.push(0,0,1),w.push(L/h),w.push(1-C/d)}}for(let C=0;C<d;C++)for(let O=0;O<h;O++){const L=O+p*C,F=O+p*(C+1),$=O+1+p*(C+1),B=O+1+p*C;S.push(L,F,B),S.push(F,$,B)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(M,3)),this.setAttribute("normal",new Float32BufferAttribute(A,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(t,e,n,o,l,u,f){const h=new Color$1(0);let d=u===!0?0:1,p,m,v=null,_=0,S=null;function M(w,C){let O=!1,L=C.isScene===!0?C.background:null;L&&L.isTexture&&(L=(C.backgroundBlurriness>0?n:e).get(L)),L===null?A(h,d):L&&L.isColor&&(A(L,1),O=!0);const F=t.xr.getEnvironmentBlendMode();F==="additive"?o.buffers.color.setClear(0,0,0,1,f):F==="alpha-blend"&&o.buffers.color.setClear(0,0,0,0,f),(t.autoClear||O)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),L&&(L.isCubeTexture||L.mapping===CubeUVReflectionMapping)?(m===void 0&&(m=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function($,B,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),l.update(m)),_e1$1.copy(C.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),m.material.uniforms.envMap.value=L,m.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),m.material.toneMapped=ColorManagement.getTransfer(L.colorSpace)!==SRGBTransfer,(v!==L||_!==L.version||S!==t.toneMapping)&&(m.material.needsUpdate=!0,v=L,_=L.version,S=t.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):L&&L.isTexture&&(p===void 0&&(p=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),l.update(p)),p.material.uniforms.t2D.value=L,p.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,p.material.toneMapped=ColorManagement.getTransfer(L.colorSpace)!==SRGBTransfer,L.matrixAutoUpdate===!0&&L.updateMatrix(),p.material.uniforms.uvTransform.value.copy(L.matrix),(v!==L||_!==L.version||S!==t.toneMapping)&&(p.material.needsUpdate=!0,v=L,_=L.version,S=t.toneMapping),p.layers.enableAll(),w.unshift(p,p.geometry,p.material,0,0,null))}function A(w,C){w.getRGB(_rgb,getUnlitUniformColorSpace(t)),o.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,C,f)}return{getClearColor:function(){return h},setClearColor:function(w,C=1){h.set(w),d=C,A(h,d)},getClearAlpha:function(){return d},setClearAlpha:function(w){d=w,A(h,d)},render:M}}function WebGLBindingStates(t,e,n,o){const l=t.getParameter(t.MAX_VERTEX_ATTRIBS),u=o.isWebGL2?null:e.get("OES_vertex_array_object"),f=o.isWebGL2||u!==null,h={},d=w(null);let p=d,m=!1;function v(te,ce,fe,ye,J){let oe=!1;if(f){const se=A(ye,fe,ce);p!==se&&(p=se,S(p.object)),oe=C(te,ye,fe,J),oe&&O(te,ye,fe,J)}else{const se=ce.wireframe===!0;(p.geometry!==ye.id||p.program!==fe.id||p.wireframe!==se)&&(p.geometry=ye.id,p.program=fe.id,p.wireframe=se,oe=!0)}J!==null&&n.update(J,t.ELEMENT_ARRAY_BUFFER),(oe||m)&&(m=!1,q(te,ce,fe,ye),J!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(J).buffer))}function _(){return o.isWebGL2?t.createVertexArray():u.createVertexArrayOES()}function S(te){return o.isWebGL2?t.bindVertexArray(te):u.bindVertexArrayOES(te)}function M(te){return o.isWebGL2?t.deleteVertexArray(te):u.deleteVertexArrayOES(te)}function A(te,ce,fe){const ye=fe.wireframe===!0;let J=h[te.id];J===void 0&&(J={},h[te.id]=J);let oe=J[ce.id];oe===void 0&&(oe={},J[ce.id]=oe);let se=oe[ye];return se===void 0&&(se=w(_()),oe[ye]=se),se}function w(te){const ce=[],fe=[],ye=[];for(let J=0;J<l;J++)ce[J]=0,fe[J]=0,ye[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ce,enabledAttributes:fe,attributeDivisors:ye,object:te,attributes:{},index:null}}function C(te,ce,fe,ye){const J=p.attributes,oe=ce.attributes;let se=0;const Q=fe.getAttributes();for(const ue in Q)if(Q[ue].location>=0){const ge=J[ue];let ve=oe[ue];if(ve===void 0&&(ue==="instanceMatrix"&&te.instanceMatrix&&(ve=te.instanceMatrix),ue==="instanceColor"&&te.instanceColor&&(ve=te.instanceColor)),ge===void 0||ge.attribute!==ve||ve&&ge.data!==ve.data)return!0;se++}return p.attributesNum!==se||p.index!==ye}function O(te,ce,fe,ye){const J={},oe=ce.attributes;let se=0;const Q=fe.getAttributes();for(const ue in Q)if(Q[ue].location>=0){let ge=oe[ue];ge===void 0&&(ue==="instanceMatrix"&&te.instanceMatrix&&(ge=te.instanceMatrix),ue==="instanceColor"&&te.instanceColor&&(ge=te.instanceColor));const ve={};ve.attribute=ge,ge&&ge.data&&(ve.data=ge.data),J[ue]=ve,se++}p.attributes=J,p.attributesNum=se,p.index=ye}function L(){const te=p.newAttributes;for(let ce=0,fe=te.length;ce<fe;ce++)te[ce]=0}function F(te){$(te,0)}function $(te,ce){const fe=p.newAttributes,ye=p.enabledAttributes,J=p.attributeDivisors;fe[te]=1,ye[te]===0&&(t.enableVertexAttribArray(te),ye[te]=1),J[te]!==ce&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](te,ce),J[te]=ce)}function B(){const te=p.newAttributes,ce=p.enabledAttributes;for(let fe=0,ye=ce.length;fe<ye;fe++)ce[fe]!==te[fe]&&(t.disableVertexAttribArray(fe),ce[fe]=0)}function U(te,ce,fe,ye,J,oe,se){se===!0?t.vertexAttribIPointer(te,ce,fe,J,oe):t.vertexAttribPointer(te,ce,fe,ye,J,oe)}function q(te,ce,fe,ye){if(o.isWebGL2===!1&&(te.isInstancedMesh||ye.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;L();const J=ye.attributes,oe=fe.getAttributes(),se=ce.defaultAttributeValues;for(const Q in oe){const ue=oe[Q];if(ue.location>=0){let _e=J[Q];if(_e===void 0&&(Q==="instanceMatrix"&&te.instanceMatrix&&(_e=te.instanceMatrix),Q==="instanceColor"&&te.instanceColor&&(_e=te.instanceColor)),_e!==void 0){const ge=_e.normalized,ve=_e.itemSize,we=n.get(_e);if(we===void 0)continue;const Pe=we.buffer,Re=we.type,Ae=we.bytesPerElement,Ne=o.isWebGL2===!0&&(Re===t.INT||Re===t.UNSIGNED_INT||_e.gpuType===IntType);if(_e.isInterleavedBufferAttribute){const Ie=_e.data,he=Ie.stride,ke=_e.offset;if(Ie.isInstancedInterleavedBuffer){for(let Me=0;Me<ue.locationSize;Me++)$(ue.location+Me,Ie.meshPerAttribute);te.isInstancedMesh!==!0&&ye._maxInstanceCount===void 0&&(ye._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let Me=0;Me<ue.locationSize;Me++)F(ue.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let Me=0;Me<ue.locationSize;Me++)U(ue.location+Me,ve/ue.locationSize,Re,ge,he*Ae,(ke+ve/ue.locationSize*Me)*Ae,Ne)}else{if(_e.isInstancedBufferAttribute){for(let Ie=0;Ie<ue.locationSize;Ie++)$(ue.location+Ie,_e.meshPerAttribute);te.isInstancedMesh!==!0&&ye._maxInstanceCount===void 0&&(ye._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let Ie=0;Ie<ue.locationSize;Ie++)F(ue.location+Ie);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let Ie=0;Ie<ue.locationSize;Ie++)U(ue.location+Ie,ve/ue.locationSize,Re,ge,ve*Ae,ve/ue.locationSize*Ie*Ae,Ne)}}else if(se!==void 0){const ge=se[Q];if(ge!==void 0)switch(ge.length){case 2:t.vertexAttrib2fv(ue.location,ge);break;case 3:t.vertexAttrib3fv(ue.location,ge);break;case 4:t.vertexAttrib4fv(ue.location,ge);break;default:t.vertexAttrib1fv(ue.location,ge)}}}}B()}function Z(){ne();for(const te in h){const ce=h[te];for(const fe in ce){const ye=ce[fe];for(const J in ye)M(ye[J].object),delete ye[J];delete ce[fe]}delete h[te]}}function G(te){if(h[te.id]===void 0)return;const ce=h[te.id];for(const fe in ce){const ye=ce[fe];for(const J in ye)M(ye[J].object),delete ye[J];delete ce[fe]}delete h[te.id]}function H(te){for(const ce in h){const fe=h[ce];if(fe[te.id]===void 0)continue;const ye=fe[te.id];for(const J in ye)M(ye[J].object),delete ye[J];delete fe[te.id]}}function ne(){ae(),m=!0,p!==d&&(p=d,S(p.object))}function ae(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:v,reset:ne,resetDefaultState:ae,dispose:Z,releaseStatesOfGeometry:G,releaseStatesOfProgram:H,initAttributes:L,enableAttribute:F,disableUnusedAttributes:B}}function WebGLBufferRenderer(t,e,n,o){const l=o.isWebGL2;let u;function f(m){u=m}function h(m,v){t.drawArrays(u,m,v),n.update(v,u,1)}function d(m,v,_){if(_===0)return;let S,M;if(l)S=t,M="drawArraysInstanced";else if(S=e.get("ANGLE_instanced_arrays"),M="drawArraysInstancedANGLE",S===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[M](u,m,v,_),n.update(v,u,_)}function p(m,v,_){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<_;M++)this.render(m[M],v[M]);else{S.multiDrawArraysWEBGL(u,m,0,v,0,_);let M=0;for(let A=0;A<_;A++)M+=v[A];n.update(M,u,1)}}this.setMode=f,this.render=h,this.renderInstances=d,this.renderMultiDraw=p}function WebGLCapabilities(t,e,n){let o;function l(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");o=t.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function u(U){if(U==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const f=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let h=n.precision!==void 0?n.precision:"highp";const d=u(h);d!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",d,"instead."),h=d);const p=f||e.has("WEBGL_draw_buffers"),m=n.logarithmicDepthBuffer===!0,v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),M=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),A=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),C=t.getParameter(t.MAX_VARYING_VECTORS),O=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),L=_>0,F=f||e.has("OES_texture_float"),$=L&&F,B=f?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:f,drawBuffers:p,getMaxAnisotropy:l,getMaxPrecision:u,precision:h,logarithmicDepthBuffer:m,maxTextures:v,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:M,maxAttributes:A,maxVertexUniforms:w,maxVaryings:C,maxFragmentUniforms:O,vertexTextures:L,floatFragmentTextures:F,floatVertexTextures:$,maxSamples:B}}function WebGLClipping(t){const e=this;let n=null,o=0,l=!1,u=!1;const f=new Plane,h=new Matrix3,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const S=v.length!==0||_||o!==0||l;return l=_,o=v.length,S},this.beginShadows=function(){u=!0,m(null)},this.endShadows=function(){u=!1},this.setGlobalState=function(v,_){n=m(v,_,0)},this.setState=function(v,_,S){const M=v.clippingPlanes,A=v.clipIntersection,w=v.clipShadows,C=t.get(v);if(!l||M===null||M.length===0||u&&!w)u?m(null):p();else{const O=u?0:o,L=O*4;let F=C.clippingState||null;d.value=F,F=m(M,_,L,S);for(let $=0;$!==L;++$)F[$]=n[$];C.clippingState=F,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=O}};function p(){d.value!==n&&(d.value=n,d.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function m(v,_,S,M){const A=v!==null?v.length:0;let w=null;if(A!==0){if(w=d.value,M!==!0||w===null){const C=S+A*4,O=_.matrixWorldInverse;h.getNormalMatrix(O),(w===null||w.length<C)&&(w=new Float32Array(C));for(let L=0,F=S;L!==A;++L,F+=4)f.copy(v[L]).applyMatrix4(O,h),f.normal.toArray(w,F),w[F+3]=f.constant}d.value=w,d.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,w}}function WebGLCubeMaps(t){let e=new WeakMap;function n(f,h){return h===EquirectangularReflectionMapping?f.mapping=CubeReflectionMapping:h===EquirectangularRefractionMapping&&(f.mapping=CubeRefractionMapping),f}function o(f){if(f&&f.isTexture){const h=f.mapping;if(h===EquirectangularReflectionMapping||h===EquirectangularRefractionMapping)if(e.has(f)){const d=e.get(f).texture;return n(d,f.mapping)}else{const d=f.image;if(d&&d.height>0){const p=new WebGLCubeRenderTarget(d.height);return p.fromEquirectangularTexture(t,f),e.set(f,p),f.addEventListener("dispose",l),n(p.texture,f.mapping)}else return null}}return f}function l(f){const h=f.target;h.removeEventListener("dispose",l);const d=e.get(h);d!==void 0&&(e.delete(h),d.dispose())}function u(){e=new WeakMap}return{get:o,dispose:u}}class OrthographicCamera extends Camera{constructor(e=-1,n=1,o=1,l=-1,u=.1,f=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=o,this.bottom=l,this.near=u,this.far=f,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,o,l,u,f){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let u=o-e,f=o+e,h=l+n,d=l-n;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=p*this.view.offsetX,f=u+p*this.view.width,h-=m*this.view.offsetY,d=h-m*this.view.height}this.projectionMatrix.makeOrthographic(u,f,h,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,o=.1,l=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,o,l,u),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const o=n||this._allocateTargets();return this._textureToCubeUV(e,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,o={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},l=_createRenderTarget(e,n,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,n,o);const{_lodMax:u}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(u)),this._blurMaterial=_getBlurShader(u,e,n)}return l}_compileMaterial(e){const n=new Mesh(this._lodPlanes[0],e);this._renderer.compile(n,_flatCamera)}_sceneToCubeUV(e,n,o,l){const h=new PerspectiveCamera(90,1,n,o),d=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,_=m.toneMapping;m.getClearColor(_clearColor),m.toneMapping=NoToneMapping,m.autoClear=!1;const S=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),M=new Mesh(new BoxGeometry,S);let A=!1;const w=e.background;w?w.isColor&&(S.color.copy(w),e.background=null,A=!0):(S.color.copy(_clearColor),A=!0);for(let C=0;C<6;C++){const O=C%3;O===0?(h.up.set(0,d[C],0),h.lookAt(p[C],0,0)):O===1?(h.up.set(0,0,d[C]),h.lookAt(0,p[C],0)):(h.up.set(0,d[C],0),h.lookAt(0,0,p[C]));const L=this._cubeSize;_setViewport(l,O*L,C>2?L:0,L,L),m.setRenderTarget(l),A&&m.render(M,h),m.render(e,h)}M.geometry.dispose(),M.material.dispose(),m.toneMapping=_,m.autoClear=v,e.background=w}_textureToCubeUV(e,n){const o=this._renderer,l=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;l?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const u=l?this._cubemapMaterial:this._equirectMaterial,f=new Mesh(this._lodPlanes[0],u),h=u.uniforms;h.envMap.value=e;const d=this._cubeSize;_setViewport(n,0,0,3*d,2*d),o.setRenderTarget(n),o.render(f,_flatCamera)}_applyPMREM(e){const n=this._renderer,o=n.autoClear;n.autoClear=!1;for(let l=1;l<this._lodPlanes.length;l++){const u=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]),f=_axisDirections[(l-1)%_axisDirections.length];this._blur(e,l-1,l,u,f)}n.autoClear=o}_blur(e,n,o,l,u){const f=this._pingPongRenderTarget;this._halfBlur(e,f,n,o,l,"latitudinal",u),this._halfBlur(f,e,o,o,l,"longitudinal",u)}_halfBlur(e,n,o,l,u,f,h){const d=this._renderer,p=this._blurMaterial;f!=="latitudinal"&&f!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Mesh(this._lodPlanes[l],p),_=p.uniforms,S=this._sizeLods[o]-1,M=isFinite(u)?Math.PI/(2*S):2*Math.PI/(2*MAX_SAMPLES-1),A=u/M,w=isFinite(u)?1+Math.floor(m*A):MAX_SAMPLES;w>MAX_SAMPLES&&console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${MAX_SAMPLES}`);const C=[];let O=0;for(let U=0;U<MAX_SAMPLES;++U){const q=U/A,Z=Math.exp(-q*q/2);C.push(Z),U===0?O+=Z:U<w&&(O+=2*Z)}for(let U=0;U<C.length;U++)C[U]=C[U]/O;_.envMap.value=e.texture,_.samples.value=w,_.weights.value=C,_.latitudinal.value=f==="latitudinal",h&&(_.poleAxis.value=h);const{_lodMax:L}=this;_.dTheta.value=M,_.mipInt.value=L-o;const F=this._sizeLods[l],$=3*F*(l>L-LOD_MIN?l-L+LOD_MIN:0),B=4*(this._cubeSize-F);_setViewport(n,$,B,3*F,2*F),d.setRenderTarget(n),d.render(v,_flatCamera)}}function _createPlanes(t){const e=[],n=[],o=[];let l=t;const u=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let f=0;f<u;f++){const h=Math.pow(2,l);n.push(h);let d=1/h;f>t-LOD_MIN?d=EXTRA_LOD_SIGMA[f-t+LOD_MIN-1]:f===0&&(d=0),o.push(d);const p=1/(h-2),m=-p,v=1+p,_=[m,m,v,m,v,v,m,m,v,v,m,v],S=6,M=6,A=3,w=2,C=1,O=new Float32Array(A*M*S),L=new Float32Array(w*M*S),F=new Float32Array(C*M*S);for(let B=0;B<S;B++){const U=B%3*2/3-1,q=B>2?0:-1,Z=[U,q,0,U+2/3,q,0,U+2/3,q+1,0,U,q,0,U+2/3,q+1,0,U,q+1,0];O.set(Z,A*M*B),L.set(_,w*M*B);const G=[B,B,B,B,B,B];F.set(G,C*M*B)}const $=new BufferGeometry;$.setAttribute("position",new BufferAttribute(O,A)),$.setAttribute("uv",new BufferAttribute(L,w)),$.setAttribute("faceIndex",new BufferAttribute(F,C)),e.push($),l>LOD_MIN&&l--}return{lodPlanes:e,sizeLods:n,sigmas:o}}function _createRenderTarget(t,e,n){const o=new WebGLRenderTarget(t,e,n);return o.texture.mapping=CubeUVReflectionMapping,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function _setViewport(t,e,n,o,l){t.viewport.set(e,n,o,l),t.scissor.set(e,n,o,l)}function _getBlurShader(t,e,n){const o=new Float32Array(MAX_SAMPLES),l=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,n=null;function o(h){if(h&&h.isTexture){const d=h.mapping,p=d===EquirectangularReflectionMapping||d===EquirectangularRefractionMapping,m=d===CubeReflectionMapping||d===CubeRefractionMapping;if(p||m)if(h.isRenderTargetTexture&&h.needsPMREMUpdate===!0){h.needsPMREMUpdate=!1;let v=e.get(h);return n===null&&(n=new PMREMGenerator(t)),v=p?n.fromEquirectangular(h,v):n.fromCubemap(h,v),e.set(h,v),v.texture}else{if(e.has(h))return e.get(h).texture;{const v=h.image;if(p&&v&&v.height>0||m&&v&&l(v)){n===null&&(n=new PMREMGenerator(t));const _=p?n.fromEquirectangular(h):n.fromCubemap(h);return e.set(h,_),h.addEventListener("dispose",u),_.texture}else return null}}}return h}function l(h){let d=0;const p=6;for(let m=0;m<p;m++)h[m]!==void 0&&d++;return d===p}function u(h){const d=h.target;d.removeEventListener("dispose",u);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function f(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:o,dispose:f}}function WebGLExtensions(t){const e={};function n(o){if(e[o]!==void 0)return e[o];let l;switch(o){case"WEBGL_depth_texture":l=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=t.getExtension(o)}return e[o]=l,l}return{has:function(o){return n(o)!==null},init:function(o){o.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(o){const l=n(o);return l===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function WebGLGeometries(t,e,n,o){const l={},u=new WeakMap;function f(v){const _=v.target;_.index!==null&&e.remove(_.index);for(const M in _.attributes)e.remove(_.attributes[M]);for(const M in _.morphAttributes){const A=_.morphAttributes[M];for(let w=0,C=A.length;w<C;w++)e.remove(A[w])}_.removeEventListener("dispose",f),delete l[_.id];const S=u.get(_);S&&(e.remove(S),u.delete(_)),o.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,n.memory.geometries--}function h(v,_){return l[_.id]===!0||(_.addEventListener("dispose",f),l[_.id]=!0,n.memory.geometries++),_}function d(v){const _=v.attributes;for(const M in _)e.update(_[M],t.ARRAY_BUFFER);const S=v.morphAttributes;for(const M in S){const A=S[M];for(let w=0,C=A.length;w<C;w++)e.update(A[w],t.ARRAY_BUFFER)}}function p(v){const _=[],S=v.index,M=v.attributes.position;let A=0;if(S!==null){const O=S.array;A=S.version;for(let L=0,F=O.length;L<F;L+=3){const $=O[L+0],B=O[L+1],U=O[L+2];_.push($,B,B,U,U,$)}}else if(M!==void 0){const O=M.array;A=M.version;for(let L=0,F=O.length/3-1;L<F;L+=3){const $=L+0,B=L+1,U=L+2;_.push($,B,B,U,U,$)}}else return;const w=new(arrayNeedsUint32(_)?Uint32BufferAttribute:Uint16BufferAttribute)(_,1);w.version=A;const C=u.get(v);C&&e.remove(C),u.set(v,w)}function m(v){const _=u.get(v);if(_){const S=v.index;S!==null&&_.version<S.version&&p(v)}else p(v);return u.get(v)}return{get:h,update:d,getWireframeAttribute:m}}function WebGLIndexedBufferRenderer(t,e,n,o){const l=o.isWebGL2;let u;function f(S){u=S}let h,d;function p(S){h=S.type,d=S.bytesPerElement}function m(S,M){t.drawElements(u,M,h,S*d),n.update(M,u,1)}function v(S,M,A){if(A===0)return;let w,C;if(l)w=t,C="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[C](u,M,h,S*d,A),n.update(M,u,A)}function _(S,M,A){if(A===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let C=0;C<A;C++)this.render(S[C]/d,M[C]);else{w.multiDrawElementsWEBGL(u,M,0,h,S,0,A);let C=0;for(let O=0;O<A;O++)C+=M[O];n.update(C,u,1)}}this.setMode=f,this.setIndex=p,this.render=m,this.renderInstances=v,this.renderMultiDraw=_}function WebGLInfo(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function o(u,f,h){switch(n.calls++,f){case t.TRIANGLES:n.triangles+=h*(u/3);break;case t.LINES:n.lines+=h*(u/2);break;case t.LINE_STRIP:n.lines+=h*(u-1);break;case t.LINE_LOOP:n.lines+=h*u;break;case t.POINTS:n.points+=h*u;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",f);break}}function l(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:l,update:o}}function numericalSort(t,e){return t[0]-e[0]}function absNumericalSort(t,e){return Math.abs(e[1])-Math.abs(t[1])}function WebGLMorphtargets(t,e,n){const o={},l=new Float32Array(8),u=new WeakMap,f=new Vector4,h=[];for(let p=0;p<8;p++)h[p]=[p,0];function d(p,m,v){const _=p.morphTargetInfluences;if(e.isWebGL2===!0){const M=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,A=M!==void 0?M.length:0;let w=u.get(m);if(w===void 0||w.count!==A){let ae=function(){H.dispose(),u.delete(m),m.removeEventListener("dispose",ae)};var S=ae;w!==void 0&&w.texture.dispose();const C=m.morphAttributes.position!==void 0,O=m.morphAttributes.normal!==void 0,L=m.morphAttributes.color!==void 0,F=m.morphAttributes.position||[],$=m.morphAttributes.normal||[],B=m.morphAttributes.color||[];let U=0;C===!0&&(U=1),O===!0&&(U=2),L===!0&&(U=3);let q=m.attributes.position.count*U,Z=1;q>e.maxTextureSize&&(Z=Math.ceil(q/e.maxTextureSize),q=e.maxTextureSize);const G=new Float32Array(q*Z*4*A),H=new DataArrayTexture(G,q,Z,A);H.type=FloatType,H.needsUpdate=!0;const ne=U*4;for(let te=0;te<A;te++){const ce=F[te],fe=$[te],ye=B[te],J=q*Z*4*te;for(let oe=0;oe<ce.count;oe++){const se=oe*ne;C===!0&&(f.fromBufferAttribute(ce,oe),G[J+se+0]=f.x,G[J+se+1]=f.y,G[J+se+2]=f.z,G[J+se+3]=0),O===!0&&(f.fromBufferAttribute(fe,oe),G[J+se+4]=f.x,G[J+se+5]=f.y,G[J+se+6]=f.z,G[J+se+7]=0),L===!0&&(f.fromBufferAttribute(ye,oe),G[J+se+8]=f.x,G[J+se+9]=f.y,G[J+se+10]=f.z,G[J+se+11]=ye.itemSize===4?f.w:1)}}w={count:A,texture:H,size:new Vector2(q,Z)},u.set(m,w),m.addEventListener("dispose",ae)}if(p.isInstancedMesh===!0&&p.morphTexture!==null)v.getUniforms().setValue(t,"morphTexture",p.morphTexture,n);else{let C=0;for(let L=0;L<_.length;L++)C+=_[L];const O=m.morphTargetsRelative?1:1-C;v.getUniforms().setValue(t,"morphTargetBaseInfluence",O),v.getUniforms().setValue(t,"morphTargetInfluences",_)}v.getUniforms().setValue(t,"morphTargetsTexture",w.texture,n),v.getUniforms().setValue(t,"morphTargetsTextureSize",w.size)}else{const M=_===void 0?0:_.length;let A=o[m.id];if(A===void 0||A.length!==M){A=[];for(let F=0;F<M;F++)A[F]=[F,0];o[m.id]=A}for(let F=0;F<M;F++){const $=A[F];$[0]=F,$[1]=_[F]}A.sort(absNumericalSort);for(let F=0;F<8;F++)F<M&&A[F][1]?(h[F][0]=A[F][0],h[F][1]=A[F][1]):(h[F][0]=Number.MAX_SAFE_INTEGER,h[F][1]=0);h.sort(numericalSort);const w=m.morphAttributes.position,C=m.morphAttributes.normal;let O=0;for(let F=0;F<8;F++){const $=h[F],B=$[0],U=$[1];B!==Number.MAX_SAFE_INTEGER&&U?(w&&m.getAttribute("morphTarget"+F)!==w[B]&&m.setAttribute("morphTarget"+F,w[B]),C&&m.getAttribute("morphNormal"+F)!==C[B]&&m.setAttribute("morphNormal"+F,C[B]),l[F]=U,O+=U):(w&&m.hasAttribute("morphTarget"+F)===!0&&m.deleteAttribute("morphTarget"+F),C&&m.hasAttribute("morphNormal"+F)===!0&&m.deleteAttribute("morphNormal"+F),l[F]=0)}const L=m.morphTargetsRelative?1:1-O;v.getUniforms().setValue(t,"morphTargetBaseInfluence",L),v.getUniforms().setValue(t,"morphTargetInfluences",l)}}return{update:d}}function WebGLObjects(t,e,n,o){let l=new WeakMap;function u(d){const p=o.render.frame,m=d.geometry,v=e.get(d,m);if(l.get(v)!==p&&(e.update(v),l.set(v,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",h)===!1&&d.addEventListener("dispose",h),l.get(d)!==p&&(n.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&n.update(d.instanceColor,t.ARRAY_BUFFER),l.set(d,p))),d.isSkinnedMesh){const _=d.skeleton;l.get(_)!==p&&(_.update(),l.set(_,p))}return v}function f(){l=new WeakMap}function h(d){const p=d.target;p.removeEventListener("dispose",h),n.remove(p.instanceMatrix),p.instanceColor!==null&&n.remove(p.instanceColor)}return{update:u,dispose:f}}class DepthTexture extends Texture{constructor(e,n,o,l,u,f,h,d,p,m){if(m=m!==void 0?m:DepthFormat,m!==DepthFormat&&m!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&m===DepthFormat&&(o=UnsignedIntType),o===void 0&&m===DepthStencilFormat&&(o=UnsignedInt248Type),super(null,l,u,f,h,d,m,o,p),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=h!==void 0?h:NearestFilter,this.minFilter=d!==void 0?d:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1);emptyShadowTexture.compareFunction=LessEqualCompare;const emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(t,e,n){const o=t[0];if(o<=0||o>0)return t;const l=e*n;let u=arrayCacheF32[l];if(u===void 0&&(u=new Float32Array(l),arrayCacheF32[l]=u),e!==0){o.toArray(u,0);for(let f=1,h=0;f!==e;++f)h+=n,t[f].toArray(u,h)}return u}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0,o=t.length;n<o;n++)if(t[n]!==e[n])return!1;return!0}function copyArray(t,e){for(let n=0,o=e.length;n<o;n++)t[n]=e[n]}function allocTexUnits(t,e){let n=arrayCacheI32[e];n===void 0&&(n=new Int32Array(e),arrayCacheI32[e]=n);for(let o=0;o!==e;++o)n[o]=t.allocateTextureUnit();return n}function setValueV1f(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function setValueV2f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2fv(this.addr,e),copyArray(n,e)}}function setValueV3f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(arraysEqual(n,e))return;t.uniform3fv(this.addr,e),copyArray(n,e)}}function setValueV4f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4fv(this.addr,e),copyArray(n,e)}}function setValueM2(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat2array.set(o),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(n,o)}}function setValueM3(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat3array.set(o),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(n,o)}}function setValueM4(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat4array.set(o),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(n,o)}}function setValueV1i(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function setValueV2i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2iv(this.addr,e),copyArray(n,e)}}function setValueV3i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3iv(this.addr,e),copyArray(n,e)}}function setValueV4i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4iv(this.addr,e),copyArray(n,e)}}function setValueV1ui(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function setValueV2ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2uiv(this.addr,e),copyArray(n,e)}}function setValueV3ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3uiv(this.addr,e),copyArray(n,e)}}function setValueV4ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4uiv(this.addr,e),copyArray(n,e)}}function setValueT1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l);const u=this.type===t.SAMPLER_2D_SHADOW?emptyShadowTexture:emptyTexture;n.setTexture2D(e||u,l)}function setValueT3D1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture3D(e||empty3dTexture,l)}function setValueT6(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTextureCube(e||emptyCubeTexture,l)}function setValueT2DArray1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture2DArray(e||emptyArrayTexture,l)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const n=flatten(e,this.size,2);t.uniform2fv(this.addr,n)}function setValueV3fArray(t,e){const n=flatten(e,this.size,3);t.uniform3fv(this.addr,n)}function setValueV4fArray(t,e){const n=flatten(e,this.size,4);t.uniform4fv(this.addr,n)}function setValueM2Array(t,e){const n=flatten(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function setValueM3Array(t,e){const n=flatten(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function setValueM4Array(t,e){const n=flatten(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let f=0;f!==l;++f)n.setTexture2D(e[f]||emptyTexture,u[f])}function setValueT3DArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let f=0;f!==l;++f)n.setTexture3D(e[f]||empty3dTexture,u[f])}function setValueT6Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let f=0;f!==l;++f)n.setTextureCube(e[f]||emptyCubeTexture,u[f])}function setValueT2DArrayArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let f=0;f!==l;++f)n.setTexture2DArray(e[f]||emptyArrayTexture,u[f])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.setValue=getSingularSetter(n.type)}}class PureArrayUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=getPureArraySetter(n.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,o){const l=this.seq;for(let u=0,f=l.length;u!==f;++u){const h=l[u];h.setValue(e,n[h.id],o)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,n){const o=t.name,l=o.length;for(RePathPart.lastIndex=0;;){const u=RePathPart.exec(o),f=RePathPart.lastIndex;let h=u[1];const d=u[2]==="]",p=u[3];if(d&&(h=h|0),p===void 0||p==="["&&f+2===l){addUniform(n,p===void 0?new SingleUniform(h,t,e):new PureArrayUniform(h,t,e));break}else{let v=n.map[h];v===void 0&&(v=new StructuredUniform(h),addUniform(n,v)),n=v}}}class WebGLUniforms{constructor(e,n){this.seq=[],this.map={};const o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let l=0;l<o;++l){const u=e.getActiveUniform(n,l),f=e.getUniformLocation(n,u.name);parseUniform(u,f,this)}}setValue(e,n,o,l){const u=this.map[n];u!==void 0&&u.setValue(e,o,l)}setOptional(e,n,o){const l=n[o];l!==void 0&&this.setValue(e,o,l)}static upload(e,n,o,l){for(let u=0,f=n.length;u!==f;++u){const h=n[u],d=o[h.id];d.needsUpdate!==!1&&h.setValue(e,d.value,l)}}static seqWithValue(e,n){const o=[];for(let l=0,u=e.length;l!==u;++l){const f=e[l];f.id in n&&o.push(f)}return o}}function WebGLShader(t,e,n){const o=t.createShader(e);return t.shaderSource(o,n),t.compileShader(o),o}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(t,e){const n=t.split(`
`),o=[],l=Math.max(e-6,0),u=Math.min(e+6,n.length);for(let f=l;f<u;f++){const h=f+1;o.push(`${h===e?">":" "} ${h}: ${n[f]}`)}return o.join(`
`)}function getEncodingComponents(t){const e=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),n=ColorManagement.getPrimaries(t);let o;switch(e===n?o="":e===P3Primaries&&n===Rec709Primaries?o="LinearDisplayP3ToLinearSRGB":e===Rec709Primaries&&n===P3Primaries&&(o="LinearSRGBToLinearDisplayP3"),t){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[o,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[o,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[o,"LinearTransferOETF"]}}function getShaderErrors(t,e,n){const o=t.getShaderParameter(e,t.COMPILE_STATUS),l=t.getShaderInfoLog(e).trim();if(o&&l==="")return"";const u=/ERROR: 0:(\d+)/.exec(l);if(u){const f=parseInt(u[1]);return n.toUpperCase()+`

`+l+`

`+handleSource(t.getShaderSource(e),f)}else return l}function getTexelEncodingFunction(t,e){const n=getEncodingComponents(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function getToneMappingFunction(t,e){let n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case CineonToneMapping:n="OptimizedCineon";break;case ACESFilmicToneMapping:n="ACESFilmic";break;case AgXToneMapping:n="AgX";break;case NeutralToneMapping:n="Neutral";break;case CustomToneMapping:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function generateExtensions(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateVertexExtensions(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const n in t){const o=t[n];o!==!1&&e.push("#define "+n+" "+o)}return e.join(`
`)}function fetchAttributeLocations(t,e){const n={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let l=0;l<o;l++){const u=t.getActiveAttrib(e,l),f=u.name;let h=1;u.type===t.FLOAT_MAT2&&(h=2),u.type===t.FLOAT_MAT3&&(h=3),u.type===t.FLOAT_MAT4&&(h=4),n[f]={type:u.type,location:t.getAttribLocation(e,f),locationSize:h}}return n}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(t,e){let n=ShaderChunk[e];if(n===void 0){const o=shaderChunkMap.get(e);if(o!==void 0)n=ShaderChunk[o],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,o);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(n)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,n,o){let l="";for(let u=parseInt(e);u<parseInt(n);u++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+u+" ]").replace(/UNROLLED_LOOP_INDEX/g,u);return l}function generatePrecision(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,o=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:o,maxMip:n}}function WebGLProgram(t,e,n,o){const l=t.getContext(),u=n.defines;let f=n.vertexShader,h=n.fragmentShader;const d=generateShadowMapTypeDefine(n),p=generateEnvMapTypeDefine(n),m=generateEnvMapModeDefine(n),v=generateEnvMapBlendingDefine(n),_=generateCubeUVSize(n),S=n.isWebGL2?"":generateExtensions(n),M=generateVertexExtensions(n),A=generateDefines(u),w=l.createProgram();let C,O,L=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(C=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(filterEmptyLine).join(`
`),C.length>0&&(C+=`
`),O=[S,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(filterEmptyLine).join(`
`),O.length>0&&(O+=`
`)):(C=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),O=[S,generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",n.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),f=resolveIncludes(f),f=replaceLightNums(f,n),f=replaceClippingPlaneNums(f,n),h=resolveIncludes(h),h=replaceLightNums(h,n),h=replaceClippingPlaneNums(h,n),f=unrollLoops(f),h=unrollLoops(h),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(L=`#version 300 es
`,C=[M,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+C,O=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+O);const F=L+C+f,$=L+O+h,B=WebGLShader(l,l.VERTEX_SHADER,F),U=WebGLShader(l,l.FRAGMENT_SHADER,$);l.attachShader(w,B),l.attachShader(w,U),n.index0AttributeName!==void 0?l.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&l.bindAttribLocation(w,0,"position"),l.linkProgram(w);function q(ne){if(t.debug.checkShaderErrors){const ae=l.getProgramInfoLog(w).trim(),te=l.getShaderInfoLog(B).trim(),ce=l.getShaderInfoLog(U).trim();let fe=!0,ye=!0;if(l.getProgramParameter(w,l.LINK_STATUS)===!1)if(fe=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(l,w,B,U);else{const J=getShaderErrors(l,B,"vertex"),oe=getShaderErrors(l,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(w,l.VALIDATE_STATUS)+`

Material Name: `+ne.name+`
Material Type: `+ne.type+`

Program Info Log: `+ae+`
`+J+`
`+oe)}else ae!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ae):(te===""||ce==="")&&(ye=!1);ye&&(ne.diagnostics={runnable:fe,programLog:ae,vertexShader:{log:te,prefix:C},fragmentShader:{log:ce,prefix:O}})}l.deleteShader(B),l.deleteShader(U),Z=new WebGLUniforms(l,w),G=fetchAttributeLocations(l,w)}let Z;this.getUniforms=function(){return Z===void 0&&q(this),Z};let G;this.getAttributes=function(){return G===void 0&&q(this),G};let H=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=l.getProgramParameter(w,COMPLETION_STATUS_KHR)),H},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=B,this.fragmentShader=U,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,o=e.fragmentShader,l=this._getShaderStage(n),u=this._getShaderStage(o),f=this._getShaderCacheForMaterial(e);return f.has(l)===!1&&(f.add(l),l.usedTimes++),f.has(u)===!1&&(f.add(u),u.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const o of n)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let o=n.get(e);return o===void 0&&(o=new Set,n.set(e,o)),o}_getShaderStage(e){const n=this.shaderCache;let o=n.get(e);return o===void 0&&(o=new WebGLShaderStage(e),n.set(e,o)),o}}class WebGLShaderStage{constructor(e){this.id=_id$1++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,n,o,l,u,f){const h=new Layers,d=new WebGLShaderCache,p=new Set,m=[],v=l.isWebGL2,_=l.logarithmicDepthBuffer,S=l.vertexTextures;let M=l.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(G){return p.add(G),G===0?"uv":`uv${G}`}function C(G,H,ne,ae,te){const ce=ae.fog,fe=te.geometry,ye=G.isMeshStandardMaterial?ae.environment:null,J=(G.isMeshStandardMaterial?n:e).get(G.envMap||ye),oe=J&&J.mapping===CubeUVReflectionMapping?J.image.height:null,se=A[G.type];G.precision!==null&&(M=l.getMaxPrecision(G.precision),M!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",M,"instead."));const Q=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,ue=Q!==void 0?Q.length:0;let _e=0;fe.morphAttributes.position!==void 0&&(_e=1),fe.morphAttributes.normal!==void 0&&(_e=2),fe.morphAttributes.color!==void 0&&(_e=3);let ge,ve,we,Pe;if(se){const Tt=ShaderLib[se];ge=Tt.vertexShader,ve=Tt.fragmentShader}else ge=G.vertexShader,ve=G.fragmentShader,d.update(G),we=d.getVertexShaderID(G),Pe=d.getFragmentShaderID(G);const Re=t.getRenderTarget(),Ae=te.isInstancedMesh===!0,Ne=te.isBatchedMesh===!0,Ie=!!G.map,he=!!G.matcap,ke=!!J,Me=!!G.aoMap,je=!!G.lightMap,Fe=!!G.bumpMap,Qe=!!G.normalMap,Ve=!!G.displacementMap,Je=!!G.emissiveMap,ot=!!G.metalnessMap,pe=!!G.roughnessMap,de=G.anisotropy>0,Oe=G.clearcoat>0,De=G.iridescence>0,Ue=G.sheen>0,tt=G.transmission>0,ut=de&&!!G.anisotropyMap,mt=Oe&&!!G.clearcoatMap,it=Oe&&!!G.clearcoatNormalMap,ht=Oe&&!!G.clearcoatRoughnessMap,Et=De&&!!G.iridescenceMap,dt=De&&!!G.iridescenceThicknessMap,It=Ue&&!!G.sheenColorMap,bt=Ue&&!!G.sheenRoughnessMap,pt=!!G.specularMap,Se=!!G.specularColorMap,We=!!G.specularIntensityMap,xe=tt&&!!G.transmissionMap,qe=tt&&!!G.thicknessMap,lt=!!G.gradientMap,Te=!!G.alphaMap,gt=G.alphaTest>0,ze=!!G.alphaHash,at=!!G.extensions;let yt=NoToneMapping;G.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(yt=t.toneMapping);const At={isWebGL2:v,shaderID:se,shaderType:G.type,shaderName:G.name,vertexShader:ge,fragmentShader:ve,defines:G.defines,customVertexShaderID:we,customFragmentShaderID:Pe,isRawShaderMaterial:G.isRawShaderMaterial===!0,glslVersion:G.glslVersion,precision:M,batching:Ne,instancing:Ae,instancingColor:Ae&&te.instanceColor!==null,instancingMorph:Ae&&te.morphTexture!==null,supportsVertexTextures:S,outputColorSpace:Re===null?t.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!G.alphaToCoverage,map:Ie,matcap:he,envMap:ke,envMapMode:ke&&J.mapping,envMapCubeUVHeight:oe,aoMap:Me,lightMap:je,bumpMap:Fe,normalMap:Qe,displacementMap:S&&Ve,emissiveMap:Je,normalMapObjectSpace:Qe&&G.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Qe&&G.normalMapType===TangentSpaceNormalMap,metalnessMap:ot,roughnessMap:pe,anisotropy:de,anisotropyMap:ut,clearcoat:Oe,clearcoatMap:mt,clearcoatNormalMap:it,clearcoatRoughnessMap:ht,iridescence:De,iridescenceMap:Et,iridescenceThicknessMap:dt,sheen:Ue,sheenColorMap:It,sheenRoughnessMap:bt,specularMap:pt,specularColorMap:Se,specularIntensityMap:We,transmission:tt,transmissionMap:xe,thicknessMap:qe,gradientMap:lt,opaque:G.transparent===!1&&G.blending===NormalBlending&&G.alphaToCoverage===!1,alphaMap:Te,alphaTest:gt,alphaHash:ze,combine:G.combine,mapUv:Ie&&w(G.map.channel),aoMapUv:Me&&w(G.aoMap.channel),lightMapUv:je&&w(G.lightMap.channel),bumpMapUv:Fe&&w(G.bumpMap.channel),normalMapUv:Qe&&w(G.normalMap.channel),displacementMapUv:Ve&&w(G.displacementMap.channel),emissiveMapUv:Je&&w(G.emissiveMap.channel),metalnessMapUv:ot&&w(G.metalnessMap.channel),roughnessMapUv:pe&&w(G.roughnessMap.channel),anisotropyMapUv:ut&&w(G.anisotropyMap.channel),clearcoatMapUv:mt&&w(G.clearcoatMap.channel),clearcoatNormalMapUv:it&&w(G.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&w(G.clearcoatRoughnessMap.channel),iridescenceMapUv:Et&&w(G.iridescenceMap.channel),iridescenceThicknessMapUv:dt&&w(G.iridescenceThicknessMap.channel),sheenColorMapUv:It&&w(G.sheenColorMap.channel),sheenRoughnessMapUv:bt&&w(G.sheenRoughnessMap.channel),specularMapUv:pt&&w(G.specularMap.channel),specularColorMapUv:Se&&w(G.specularColorMap.channel),specularIntensityMapUv:We&&w(G.specularIntensityMap.channel),transmissionMapUv:xe&&w(G.transmissionMap.channel),thicknessMapUv:qe&&w(G.thicknessMap.channel),alphaMapUv:Te&&w(G.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(Qe||de),vertexColors:G.vertexColors,vertexAlphas:G.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!fe.attributes.uv&&(Ie||Te),fog:!!ce,useFog:G.fog===!0,fogExp2:!!ce&&ce.isFogExp2,flatShading:G.flatShading===!0,sizeAttenuation:G.sizeAttenuation===!0,logarithmicDepthBuffer:_,skinning:te.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:ue,morphTextureStride:_e,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:G.dithering,shadowMapEnabled:t.shadowMap.enabled&&ne.length>0,shadowMapType:t.shadowMap.type,toneMapping:yt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Ie&&G.map.isVideoTexture===!0&&ColorManagement.getTransfer(G.map.colorSpace)===SRGBTransfer,premultipliedAlpha:G.premultipliedAlpha,doubleSided:G.side===DoubleSide,flipSided:G.side===BackSide,useDepthPacking:G.depthPacking>=0,depthPacking:G.depthPacking||0,index0AttributeName:G.index0AttributeName,extensionDerivatives:at&&G.extensions.derivatives===!0,extensionFragDepth:at&&G.extensions.fragDepth===!0,extensionDrawBuffers:at&&G.extensions.drawBuffers===!0,extensionShaderTextureLOD:at&&G.extensions.shaderTextureLOD===!0,extensionClipCullDistance:at&&G.extensions.clipCullDistance===!0&&o.has("WEBGL_clip_cull_distance"),extensionMultiDraw:at&&G.extensions.multiDraw===!0&&o.has("WEBGL_multi_draw"),rendererExtensionFragDepth:v||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||o.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:o.has("KHR_parallel_shader_compile"),customProgramCacheKey:G.customProgramCacheKey()};return At.vertexUv1s=p.has(1),At.vertexUv2s=p.has(2),At.vertexUv3s=p.has(3),p.clear(),At}function O(G){const H=[];if(G.shaderID?H.push(G.shaderID):(H.push(G.customVertexShaderID),H.push(G.customFragmentShaderID)),G.defines!==void 0)for(const ne in G.defines)H.push(ne),H.push(G.defines[ne]);return G.isRawShaderMaterial===!1&&(L(H,G),F(H,G),H.push(t.outputColorSpace)),H.push(G.customProgramCacheKey),H.join()}function L(G,H){G.push(H.precision),G.push(H.outputColorSpace),G.push(H.envMapMode),G.push(H.envMapCubeUVHeight),G.push(H.mapUv),G.push(H.alphaMapUv),G.push(H.lightMapUv),G.push(H.aoMapUv),G.push(H.bumpMapUv),G.push(H.normalMapUv),G.push(H.displacementMapUv),G.push(H.emissiveMapUv),G.push(H.metalnessMapUv),G.push(H.roughnessMapUv),G.push(H.anisotropyMapUv),G.push(H.clearcoatMapUv),G.push(H.clearcoatNormalMapUv),G.push(H.clearcoatRoughnessMapUv),G.push(H.iridescenceMapUv),G.push(H.iridescenceThicknessMapUv),G.push(H.sheenColorMapUv),G.push(H.sheenRoughnessMapUv),G.push(H.specularMapUv),G.push(H.specularColorMapUv),G.push(H.specularIntensityMapUv),G.push(H.transmissionMapUv),G.push(H.thicknessMapUv),G.push(H.combine),G.push(H.fogExp2),G.push(H.sizeAttenuation),G.push(H.morphTargetsCount),G.push(H.morphAttributeCount),G.push(H.numDirLights),G.push(H.numPointLights),G.push(H.numSpotLights),G.push(H.numSpotLightMaps),G.push(H.numHemiLights),G.push(H.numRectAreaLights),G.push(H.numDirLightShadows),G.push(H.numPointLightShadows),G.push(H.numSpotLightShadows),G.push(H.numSpotLightShadowsWithMaps),G.push(H.numLightProbes),G.push(H.shadowMapType),G.push(H.toneMapping),G.push(H.numClippingPlanes),G.push(H.numClipIntersection),G.push(H.depthPacking)}function F(G,H){h.disableAll(),H.isWebGL2&&h.enable(0),H.supportsVertexTextures&&h.enable(1),H.instancing&&h.enable(2),H.instancingColor&&h.enable(3),H.instancingMorph&&h.enable(4),H.matcap&&h.enable(5),H.envMap&&h.enable(6),H.normalMapObjectSpace&&h.enable(7),H.normalMapTangentSpace&&h.enable(8),H.clearcoat&&h.enable(9),H.iridescence&&h.enable(10),H.alphaTest&&h.enable(11),H.vertexColors&&h.enable(12),H.vertexAlphas&&h.enable(13),H.vertexUv1s&&h.enable(14),H.vertexUv2s&&h.enable(15),H.vertexUv3s&&h.enable(16),H.vertexTangents&&h.enable(17),H.anisotropy&&h.enable(18),H.alphaHash&&h.enable(19),H.batching&&h.enable(20),G.push(h.mask),h.disableAll(),H.fog&&h.enable(0),H.useFog&&h.enable(1),H.flatShading&&h.enable(2),H.logarithmicDepthBuffer&&h.enable(3),H.skinning&&h.enable(4),H.morphTargets&&h.enable(5),H.morphNormals&&h.enable(6),H.morphColors&&h.enable(7),H.premultipliedAlpha&&h.enable(8),H.shadowMapEnabled&&h.enable(9),H.useLegacyLights&&h.enable(10),H.doubleSided&&h.enable(11),H.flipSided&&h.enable(12),H.useDepthPacking&&h.enable(13),H.dithering&&h.enable(14),H.transmission&&h.enable(15),H.sheen&&h.enable(16),H.opaque&&h.enable(17),H.pointsUvs&&h.enable(18),H.decodeVideoTexture&&h.enable(19),H.alphaToCoverage&&h.enable(20),G.push(h.mask)}function $(G){const H=A[G.type];let ne;if(H){const ae=ShaderLib[H];ne=UniformsUtils.clone(ae.uniforms)}else ne=G.uniforms;return ne}function B(G,H){let ne;for(let ae=0,te=m.length;ae<te;ae++){const ce=m[ae];if(ce.cacheKey===H){ne=ce,++ne.usedTimes;break}}return ne===void 0&&(ne=new WebGLProgram(t,H,G,u),m.push(ne)),ne}function U(G){if(--G.usedTimes===0){const H=m.indexOf(G);m[H]=m[m.length-1],m.pop(),G.destroy()}}function q(G){d.remove(G)}function Z(){d.dispose()}return{getParameters:C,getProgramCacheKey:O,getUniforms:$,acquireProgram:B,releaseProgram:U,releaseShaderCache:q,programs:m,dispose:Z}}function WebGLProperties(){let t=new WeakMap;function e(u){let f=t.get(u);return f===void 0&&(f={},t.set(u,f)),f}function n(u){t.delete(u)}function o(u,f,h){t.get(u)[f]=h}function l(){t=new WeakMap}return{get:e,remove:n,update:o,dispose:l}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const n=[],o=[],l=[];function u(){e=0,n.length=0,o.length=0,l.length=0}function f(v,_,S,M,A,w){let C=t[e];return C===void 0?(C={id:v.id,object:v,geometry:_,material:S,groupOrder:M,renderOrder:v.renderOrder,z:A,group:w},t[e]=C):(C.id=v.id,C.object=v,C.geometry=_,C.material=S,C.groupOrder=M,C.renderOrder=v.renderOrder,C.z=A,C.group=w),e++,C}function h(v,_,S,M,A,w){const C=f(v,_,S,M,A,w);S.transmission>0?o.push(C):S.transparent===!0?l.push(C):n.push(C)}function d(v,_,S,M,A,w){const C=f(v,_,S,M,A,w);S.transmission>0?o.unshift(C):S.transparent===!0?l.unshift(C):n.unshift(C)}function p(v,_){n.length>1&&n.sort(v||painterSortStable),o.length>1&&o.sort(_||reversePainterSortStable),l.length>1&&l.sort(_||reversePainterSortStable)}function m(){for(let v=e,_=t.length;v<_;v++){const S=t[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:n,transmissive:o,transparent:l,init:u,push:h,unshift:d,finish:m,sort:p}}function WebGLRenderLists(){let t=new WeakMap;function e(o,l){const u=t.get(o);let f;return u===void 0?(f=new WebGLRenderList,t.set(o,[f])):l>=u.length?(f=new WebGLRenderList,u.push(f)):f=u[l],f}function n(){t=new WeakMap}return{get:e,dispose:n}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color$1};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":n={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=n,n}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t,e){const n=new UniformsCache,o=ShadowUniformsCache(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let m=0;m<9;m++)l.probe.push(new Vector3);const u=new Vector3,f=new Matrix4,h=new Matrix4;function d(m,v){let _=0,S=0,M=0;for(let ne=0;ne<9;ne++)l.probe[ne].set(0,0,0);let A=0,w=0,C=0,O=0,L=0,F=0,$=0,B=0,U=0,q=0,Z=0;m.sort(shadowCastingAndTexturingLightsFirst);const G=v===!0?Math.PI:1;for(let ne=0,ae=m.length;ne<ae;ne++){const te=m[ne],ce=te.color,fe=te.intensity,ye=te.distance,J=te.shadow&&te.shadow.map?te.shadow.map.texture:null;if(te.isAmbientLight)_+=ce.r*fe*G,S+=ce.g*fe*G,M+=ce.b*fe*G;else if(te.isLightProbe){for(let oe=0;oe<9;oe++)l.probe[oe].addScaledVector(te.sh.coefficients[oe],fe);Z++}else if(te.isDirectionalLight){const oe=n.get(te);if(oe.color.copy(te.color).multiplyScalar(te.intensity*G),te.castShadow){const se=te.shadow,Q=o.get(te);Q.shadowBias=se.bias,Q.shadowNormalBias=se.normalBias,Q.shadowRadius=se.radius,Q.shadowMapSize=se.mapSize,l.directionalShadow[A]=Q,l.directionalShadowMap[A]=J,l.directionalShadowMatrix[A]=te.shadow.matrix,F++}l.directional[A]=oe,A++}else if(te.isSpotLight){const oe=n.get(te);oe.position.setFromMatrixPosition(te.matrixWorld),oe.color.copy(ce).multiplyScalar(fe*G),oe.distance=ye,oe.coneCos=Math.cos(te.angle),oe.penumbraCos=Math.cos(te.angle*(1-te.penumbra)),oe.decay=te.decay,l.spot[C]=oe;const se=te.shadow;if(te.map&&(l.spotLightMap[U]=te.map,U++,se.updateMatrices(te),te.castShadow&&q++),l.spotLightMatrix[C]=se.matrix,te.castShadow){const Q=o.get(te);Q.shadowBias=se.bias,Q.shadowNormalBias=se.normalBias,Q.shadowRadius=se.radius,Q.shadowMapSize=se.mapSize,l.spotShadow[C]=Q,l.spotShadowMap[C]=J,B++}C++}else if(te.isRectAreaLight){const oe=n.get(te);oe.color.copy(ce).multiplyScalar(fe),oe.halfWidth.set(te.width*.5,0,0),oe.halfHeight.set(0,te.height*.5,0),l.rectArea[O]=oe,O++}else if(te.isPointLight){const oe=n.get(te);if(oe.color.copy(te.color).multiplyScalar(te.intensity*G),oe.distance=te.distance,oe.decay=te.decay,te.castShadow){const se=te.shadow,Q=o.get(te);Q.shadowBias=se.bias,Q.shadowNormalBias=se.normalBias,Q.shadowRadius=se.radius,Q.shadowMapSize=se.mapSize,Q.shadowCameraNear=se.camera.near,Q.shadowCameraFar=se.camera.far,l.pointShadow[w]=Q,l.pointShadowMap[w]=J,l.pointShadowMatrix[w]=te.shadow.matrix,$++}l.point[w]=oe,w++}else if(te.isHemisphereLight){const oe=n.get(te);oe.skyColor.copy(te.color).multiplyScalar(fe*G),oe.groundColor.copy(te.groundColor).multiplyScalar(fe*G),l.hemi[L]=oe,L++}}O>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,l.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(l.rectAreaLTC1=UniformsLib.LTC_HALF_1,l.rectAreaLTC2=UniformsLib.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,l.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_HALF_1,l.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=_,l.ambient[1]=S,l.ambient[2]=M;const H=l.hash;(H.directionalLength!==A||H.pointLength!==w||H.spotLength!==C||H.rectAreaLength!==O||H.hemiLength!==L||H.numDirectionalShadows!==F||H.numPointShadows!==$||H.numSpotShadows!==B||H.numSpotMaps!==U||H.numLightProbes!==Z)&&(l.directional.length=A,l.spot.length=C,l.rectArea.length=O,l.point.length=w,l.hemi.length=L,l.directionalShadow.length=F,l.directionalShadowMap.length=F,l.pointShadow.length=$,l.pointShadowMap.length=$,l.spotShadow.length=B,l.spotShadowMap.length=B,l.directionalShadowMatrix.length=F,l.pointShadowMatrix.length=$,l.spotLightMatrix.length=B+U-q,l.spotLightMap.length=U,l.numSpotLightShadowsWithMaps=q,l.numLightProbes=Z,H.directionalLength=A,H.pointLength=w,H.spotLength=C,H.rectAreaLength=O,H.hemiLength=L,H.numDirectionalShadows=F,H.numPointShadows=$,H.numSpotShadows=B,H.numSpotMaps=U,H.numLightProbes=Z,l.version=nextVersion++)}function p(m,v){let _=0,S=0,M=0,A=0,w=0;const C=v.matrixWorldInverse;for(let O=0,L=m.length;O<L;O++){const F=m[O];if(F.isDirectionalLight){const $=l.directional[_];$.direction.setFromMatrixPosition(F.matrixWorld),u.setFromMatrixPosition(F.target.matrixWorld),$.direction.sub(u),$.direction.transformDirection(C),_++}else if(F.isSpotLight){const $=l.spot[M];$.position.setFromMatrixPosition(F.matrixWorld),$.position.applyMatrix4(C),$.direction.setFromMatrixPosition(F.matrixWorld),u.setFromMatrixPosition(F.target.matrixWorld),$.direction.sub(u),$.direction.transformDirection(C),M++}else if(F.isRectAreaLight){const $=l.rectArea[A];$.position.setFromMatrixPosition(F.matrixWorld),$.position.applyMatrix4(C),h.identity(),f.copy(F.matrixWorld),f.premultiply(C),h.extractRotation(f),$.halfWidth.set(F.width*.5,0,0),$.halfHeight.set(0,F.height*.5,0),$.halfWidth.applyMatrix4(h),$.halfHeight.applyMatrix4(h),A++}else if(F.isPointLight){const $=l.point[S];$.position.setFromMatrixPosition(F.matrixWorld),$.position.applyMatrix4(C),S++}else if(F.isHemisphereLight){const $=l.hemi[w];$.direction.setFromMatrixPosition(F.matrixWorld),$.direction.transformDirection(C),w++}}}return{setup:d,setupView:p,state:l}}function WebGLRenderState(t,e){const n=new WebGLLights(t,e),o=[],l=[];function u(){o.length=0,l.length=0}function f(v){o.push(v)}function h(v){l.push(v)}function d(v){n.setup(o,v)}function p(v){n.setupView(o,v)}return{init:u,state:{lightsArray:o,shadowsArray:l,lights:n},setupLights:d,setupLightsView:p,pushLight:f,pushShadow:h}}function WebGLRenderStates(t,e){let n=new WeakMap;function o(u,f=0){const h=n.get(u);let d;return h===void 0?(d=new WebGLRenderState(t,e),n.set(u,[d])):f>=h.length?(d=new WebGLRenderState(t,e),h.push(d)):d=h[f],d}function l(){n=new WeakMap}return{get:o,dispose:l}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,n){let o=new Frustum;const l=new Vector2,u=new Vector2,f=new Vector4,h=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),d=new MeshDistanceMaterial,p={},m=n.maxTextureSize,v={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},_=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),S=_.clone();S.defines.HORIZONTAL_PASS=1;const M=new BufferGeometry;M.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Mesh(M,_),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let C=this.type;this.render=function(B,U,q){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||B.length===0)return;const Z=t.getRenderTarget(),G=t.getActiveCubeFace(),H=t.getActiveMipmapLevel(),ne=t.state;ne.setBlending(NoBlending),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);const ae=C!==VSMShadowMap&&this.type===VSMShadowMap,te=C===VSMShadowMap&&this.type!==VSMShadowMap;for(let ce=0,fe=B.length;ce<fe;ce++){const ye=B[ce],J=ye.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",ye,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;l.copy(J.mapSize);const oe=J.getFrameExtents();if(l.multiply(oe),u.copy(J.mapSize),(l.x>m||l.y>m)&&(l.x>m&&(u.x=Math.floor(m/oe.x),l.x=u.x*oe.x,J.mapSize.x=u.x),l.y>m&&(u.y=Math.floor(m/oe.y),l.y=u.y*oe.y,J.mapSize.y=u.y)),J.map===null||ae===!0||te===!0){const Q=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};J.map!==null&&J.map.dispose(),J.map=new WebGLRenderTarget(l.x,l.y,Q),J.map.texture.name=ye.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const se=J.getViewportCount();for(let Q=0;Q<se;Q++){const ue=J.getViewport(Q);f.set(u.x*ue.x,u.y*ue.y,u.x*ue.z,u.y*ue.w),ne.viewport(f),J.updateMatrices(ye,Q),o=J.getFrustum(),F(U,q,J.camera,ye,this.type)}J.isPointLightShadow!==!0&&this.type===VSMShadowMap&&O(J,q),J.needsUpdate=!1}C=this.type,w.needsUpdate=!1,t.setRenderTarget(Z,G,H)};function O(B,U){const q=e.update(A);_.defines.VSM_SAMPLES!==B.blurSamples&&(_.defines.VSM_SAMPLES=B.blurSamples,S.defines.VSM_SAMPLES=B.blurSamples,_.needsUpdate=!0,S.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new WebGLRenderTarget(l.x,l.y)),_.uniforms.shadow_pass.value=B.map.texture,_.uniforms.resolution.value=B.mapSize,_.uniforms.radius.value=B.radius,t.setRenderTarget(B.mapPass),t.clear(),t.renderBufferDirect(U,null,q,_,A,null),S.uniforms.shadow_pass.value=B.mapPass.texture,S.uniforms.resolution.value=B.mapSize,S.uniforms.radius.value=B.radius,t.setRenderTarget(B.map),t.clear(),t.renderBufferDirect(U,null,q,S,A,null)}function L(B,U,q,Z){let G=null;const H=q.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if(H!==void 0)G=H;else if(G=q.isPointLight===!0?d:h,t.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0){const ne=G.uuid,ae=U.uuid;let te=p[ne];te===void 0&&(te={},p[ne]=te);let ce=te[ae];ce===void 0&&(ce=G.clone(),te[ae]=ce,U.addEventListener("dispose",$)),G=ce}if(G.visible=U.visible,G.wireframe=U.wireframe,Z===VSMShadowMap?G.side=U.shadowSide!==null?U.shadowSide:U.side:G.side=U.shadowSide!==null?U.shadowSide:v[U.side],G.alphaMap=U.alphaMap,G.alphaTest=U.alphaTest,G.map=U.map,G.clipShadows=U.clipShadows,G.clippingPlanes=U.clippingPlanes,G.clipIntersection=U.clipIntersection,G.displacementMap=U.displacementMap,G.displacementScale=U.displacementScale,G.displacementBias=U.displacementBias,G.wireframeLinewidth=U.wireframeLinewidth,G.linewidth=U.linewidth,q.isPointLight===!0&&G.isMeshDistanceMaterial===!0){const ne=t.properties.get(G);ne.light=q}return G}function F(B,U,q,Z,G){if(B.visible===!1)return;if(B.layers.test(U.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&G===VSMShadowMap)&&(!B.frustumCulled||o.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,B.matrixWorld);const ae=e.update(B),te=B.material;if(Array.isArray(te)){const ce=ae.groups;for(let fe=0,ye=ce.length;fe<ye;fe++){const J=ce[fe],oe=te[J.materialIndex];if(oe&&oe.visible){const se=L(B,oe,Z,G);B.onBeforeShadow(t,B,U,q,ae,se,J),t.renderBufferDirect(q,null,ae,se,B,J),B.onAfterShadow(t,B,U,q,ae,se,J)}}}else if(te.visible){const ce=L(B,te,Z,G);B.onBeforeShadow(t,B,U,q,ae,ce,null),t.renderBufferDirect(q,null,ae,ce,B,null),B.onAfterShadow(t,B,U,q,ae,ce,null)}}const ne=B.children;for(let ae=0,te=ne.length;ae<te;ae++)F(ne[ae],U,q,Z,G)}function $(B){B.target.removeEventListener("dispose",$);for(const q in p){const Z=p[q],G=B.target.uuid;G in Z&&(Z[G].dispose(),delete Z[G])}}}function WebGLState(t,e,n){const o=n.isWebGL2;function l(){let Te=!1;const gt=new Vector4;let ze=null;const at=new Vector4(0,0,0,0);return{setMask:function(yt){ze!==yt&&!Te&&(t.colorMask(yt,yt,yt,yt),ze=yt)},setLocked:function(yt){Te=yt},setClear:function(yt,At,Tt,Nt,Jt){Jt===!0&&(yt*=Nt,At*=Nt,Tt*=Nt),gt.set(yt,At,Tt,Nt),at.equals(gt)===!1&&(t.clearColor(yt,At,Tt,Nt),at.copy(gt))},reset:function(){Te=!1,ze=null,at.set(-1,0,0,0)}}}function u(){let Te=!1,gt=null,ze=null,at=null;return{setTest:function(yt){yt?Ae(t.DEPTH_TEST):Ne(t.DEPTH_TEST)},setMask:function(yt){gt!==yt&&!Te&&(t.depthMask(yt),gt=yt)},setFunc:function(yt){if(ze!==yt){switch(yt){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ze=yt}},setLocked:function(yt){Te=yt},setClear:function(yt){at!==yt&&(t.clearDepth(yt),at=yt)},reset:function(){Te=!1,gt=null,ze=null,at=null}}}function f(){let Te=!1,gt=null,ze=null,at=null,yt=null,At=null,Tt=null,Nt=null,Jt=null;return{setTest:function(Ut){Te||(Ut?Ae(t.STENCIL_TEST):Ne(t.STENCIL_TEST))},setMask:function(Ut){gt!==Ut&&!Te&&(t.stencilMask(Ut),gt=Ut)},setFunc:function(Ut,Zt,fn){(ze!==Ut||at!==Zt||yt!==fn)&&(t.stencilFunc(Ut,Zt,fn),ze=Ut,at=Zt,yt=fn)},setOp:function(Ut,Zt,fn){(At!==Ut||Tt!==Zt||Nt!==fn)&&(t.stencilOp(Ut,Zt,fn),At=Ut,Tt=Zt,Nt=fn)},setLocked:function(Ut){Te=Ut},setClear:function(Ut){Jt!==Ut&&(t.clearStencil(Ut),Jt=Ut)},reset:function(){Te=!1,gt=null,ze=null,at=null,yt=null,At=null,Tt=null,Nt=null,Jt=null}}}const h=new l,d=new u,p=new f,m=new WeakMap,v=new WeakMap;let _={},S={},M=new WeakMap,A=[],w=null,C=!1,O=null,L=null,F=null,$=null,B=null,U=null,q=null,Z=new Color$1(0,0,0),G=0,H=!1,ne=null,ae=null,te=null,ce=null,fe=null;const ye=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,oe=0;const se=t.getParameter(t.VERSION);se.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(se)[1]),J=oe>=1):se.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(se)[1]),J=oe>=2);let Q=null,ue={};const _e=t.getParameter(t.SCISSOR_BOX),ge=t.getParameter(t.VIEWPORT),ve=new Vector4().fromArray(_e),we=new Vector4().fromArray(ge);function Pe(Te,gt,ze,at){const yt=new Uint8Array(4),At=t.createTexture();t.bindTexture(Te,At),t.texParameteri(Te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Tt=0;Tt<ze;Tt++)o&&(Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY)?t.texImage3D(gt,0,t.RGBA,1,1,at,0,t.RGBA,t.UNSIGNED_BYTE,yt):t.texImage2D(gt+Tt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,yt);return At}const Re={};Re[t.TEXTURE_2D]=Pe(t.TEXTURE_2D,t.TEXTURE_2D,1),Re[t.TEXTURE_CUBE_MAP]=Pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),o&&(Re[t.TEXTURE_2D_ARRAY]=Pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Re[t.TEXTURE_3D]=Pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),h.setClear(0,0,0,1),d.setClear(1),p.setClear(0),Ae(t.DEPTH_TEST),d.setFunc(LessEqualDepth),Ve(!1),Je(CullFaceBack),Ae(t.CULL_FACE),Fe(NoBlending);function Ae(Te){_[Te]!==!0&&(t.enable(Te),_[Te]=!0)}function Ne(Te){_[Te]!==!1&&(t.disable(Te),_[Te]=!1)}function Ie(Te,gt){return S[Te]!==gt?(t.bindFramebuffer(Te,gt),S[Te]=gt,o&&(Te===t.DRAW_FRAMEBUFFER&&(S[t.FRAMEBUFFER]=gt),Te===t.FRAMEBUFFER&&(S[t.DRAW_FRAMEBUFFER]=gt)),!0):!1}function he(Te,gt){let ze=A,at=!1;if(Te){ze=M.get(gt),ze===void 0&&(ze=[],M.set(gt,ze));const yt=Te.textures;if(ze.length!==yt.length||ze[0]!==t.COLOR_ATTACHMENT0){for(let At=0,Tt=yt.length;At<Tt;At++)ze[At]=t.COLOR_ATTACHMENT0+At;ze.length=yt.length,at=!0}}else ze[0]!==t.BACK&&(ze[0]=t.BACK,at=!0);if(at)if(n.isWebGL2)t.drawBuffers(ze);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ze);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function ke(Te){return w!==Te?(t.useProgram(Te),w=Te,!0):!1}const Me={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};if(o)Me[MinEquation]=t.MIN,Me[MaxEquation]=t.MAX;else{const Te=e.get("EXT_blend_minmax");Te!==null&&(Me[MinEquation]=Te.MIN_EXT,Me[MaxEquation]=Te.MAX_EXT)}const je={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:t.CONSTANT_COLOR,[OneMinusConstantColorFactor]:t.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:t.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:t.ONE_MINUS_CONSTANT_ALPHA};function Fe(Te,gt,ze,at,yt,At,Tt,Nt,Jt,Ut){if(Te===NoBlending){C===!0&&(Ne(t.BLEND),C=!1);return}if(C===!1&&(Ae(t.BLEND),C=!0),Te!==CustomBlending){if(Te!==O||Ut!==H){if((L!==AddEquation||B!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),L=AddEquation,B=AddEquation),Ut)switch(Te){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}F=null,$=null,U=null,q=null,Z.set(0,0,0),G=0,O=Te,H=Ut}return}yt=yt||gt,At=At||ze,Tt=Tt||at,(gt!==L||yt!==B)&&(t.blendEquationSeparate(Me[gt],Me[yt]),L=gt,B=yt),(ze!==F||at!==$||At!==U||Tt!==q)&&(t.blendFuncSeparate(je[ze],je[at],je[At],je[Tt]),F=ze,$=at,U=At,q=Tt),(Nt.equals(Z)===!1||Jt!==G)&&(t.blendColor(Nt.r,Nt.g,Nt.b,Jt),Z.copy(Nt),G=Jt),O=Te,H=!1}function Qe(Te,gt){Te.side===DoubleSide?Ne(t.CULL_FACE):Ae(t.CULL_FACE);let ze=Te.side===BackSide;gt&&(ze=!ze),Ve(ze),Te.blending===NormalBlending&&Te.transparent===!1?Fe(NoBlending):Fe(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),d.setFunc(Te.depthFunc),d.setTest(Te.depthTest),d.setMask(Te.depthWrite),h.setMask(Te.colorWrite);const at=Te.stencilWrite;p.setTest(at),at&&(p.setMask(Te.stencilWriteMask),p.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),p.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),pe(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?Ae(t.SAMPLE_ALPHA_TO_COVERAGE):Ne(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(Te){ne!==Te&&(Te?t.frontFace(t.CW):t.frontFace(t.CCW),ne=Te)}function Je(Te){Te!==CullFaceNone?(Ae(t.CULL_FACE),Te!==ae&&(Te===CullFaceBack?t.cullFace(t.BACK):Te===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ne(t.CULL_FACE),ae=Te}function ot(Te){Te!==te&&(J&&t.lineWidth(Te),te=Te)}function pe(Te,gt,ze){Te?(Ae(t.POLYGON_OFFSET_FILL),(ce!==gt||fe!==ze)&&(t.polygonOffset(gt,ze),ce=gt,fe=ze)):Ne(t.POLYGON_OFFSET_FILL)}function de(Te){Te?Ae(t.SCISSOR_TEST):Ne(t.SCISSOR_TEST)}function Oe(Te){Te===void 0&&(Te=t.TEXTURE0+ye-1),Q!==Te&&(t.activeTexture(Te),Q=Te)}function De(Te,gt,ze){ze===void 0&&(Q===null?ze=t.TEXTURE0+ye-1:ze=Q);let at=ue[ze];at===void 0&&(at={type:void 0,texture:void 0},ue[ze]=at),(at.type!==Te||at.texture!==gt)&&(Q!==ze&&(t.activeTexture(ze),Q=ze),t.bindTexture(Te,gt||Re[Te]),at.type=Te,at.texture=gt)}function Ue(){const Te=ue[Q];Te!==void 0&&Te.type!==void 0&&(t.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function tt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ut(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function mt(){try{t.texSubImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function it(){try{t.texSubImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ht(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Et(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function dt(){try{t.texStorage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function It(){try{t.texStorage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function bt(){try{t.texImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function pt(){try{t.texImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Se(Te){ve.equals(Te)===!1&&(t.scissor(Te.x,Te.y,Te.z,Te.w),ve.copy(Te))}function We(Te){we.equals(Te)===!1&&(t.viewport(Te.x,Te.y,Te.z,Te.w),we.copy(Te))}function xe(Te,gt){let ze=v.get(gt);ze===void 0&&(ze=new WeakMap,v.set(gt,ze));let at=ze.get(Te);at===void 0&&(at=t.getUniformBlockIndex(gt,Te.name),ze.set(Te,at))}function qe(Te,gt){const at=v.get(gt).get(Te);m.get(gt)!==at&&(t.uniformBlockBinding(gt,at,Te.__bindingPointIndex),m.set(gt,at))}function lt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),o===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),_={},Q=null,ue={},S={},M=new WeakMap,A=[],w=null,C=!1,O=null,L=null,F=null,$=null,B=null,U=null,q=null,Z=new Color$1(0,0,0),G=0,H=!1,ne=null,ae=null,te=null,ce=null,fe=null,ve.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),h.reset(),d.reset(),p.reset()}return{buffers:{color:h,depth:d,stencil:p},enable:Ae,disable:Ne,bindFramebuffer:Ie,drawBuffers:he,useProgram:ke,setBlending:Fe,setMaterial:Qe,setFlipSided:Ve,setCullFace:Je,setLineWidth:ot,setPolygonOffset:pe,setScissorTest:de,activeTexture:Oe,bindTexture:De,unbindTexture:Ue,compressedTexImage2D:tt,compressedTexImage3D:ut,texImage2D:bt,texImage3D:pt,updateUBOMapping:xe,uniformBlockBinding:qe,texStorage2D:dt,texStorage3D:It,texSubImage2D:mt,texSubImage3D:it,compressedTexSubImage2D:ht,compressedTexSubImage3D:Et,scissor:Se,viewport:We,reset:lt}}function WebGLTextures(t,e,n,o,l,u,f){const h=l.isWebGL2,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new Vector2,v=new WeakMap;let _;const S=new WeakMap;let M=!1;try{M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(pe,de){return M?new OffscreenCanvas(pe,de):createElementNS("canvas")}function w(pe,de,Oe,De){let Ue=1;const tt=ot(pe);if((tt.width>De||tt.height>De)&&(Ue=De/Math.max(tt.width,tt.height)),Ue<1||de===!0)if(typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&pe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&pe instanceof ImageBitmap||typeof VideoFrame<"u"&&pe instanceof VideoFrame){const ut=de?floorPowerOfTwo:Math.floor,mt=ut(Ue*tt.width),it=ut(Ue*tt.height);_===void 0&&(_=A(mt,it));const ht=Oe?A(mt,it):_;return ht.width=mt,ht.height=it,ht.getContext("2d").drawImage(pe,0,0,mt,it),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+tt.width+"x"+tt.height+") to ("+mt+"x"+it+")."),ht}else return"data"in pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+tt.width+"x"+tt.height+")."),pe;return pe}function C(pe){const de=ot(pe);return isPowerOfTwo(de.width)&&isPowerOfTwo(de.height)}function O(pe){return h?!1:pe.wrapS!==ClampToEdgeWrapping||pe.wrapT!==ClampToEdgeWrapping||pe.minFilter!==NearestFilter&&pe.minFilter!==LinearFilter}function L(pe,de){return pe.generateMipmaps&&de&&pe.minFilter!==NearestFilter&&pe.minFilter!==LinearFilter}function F(pe){t.generateMipmap(pe)}function $(pe,de,Oe,De,Ue=!1){if(h===!1)return de;if(pe!==null){if(t[pe]!==void 0)return t[pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pe+"'")}let tt=de;if(de===t.RED&&(Oe===t.FLOAT&&(tt=t.R32F),Oe===t.HALF_FLOAT&&(tt=t.R16F),Oe===t.UNSIGNED_BYTE&&(tt=t.R8)),de===t.RED_INTEGER&&(Oe===t.UNSIGNED_BYTE&&(tt=t.R8UI),Oe===t.UNSIGNED_SHORT&&(tt=t.R16UI),Oe===t.UNSIGNED_INT&&(tt=t.R32UI),Oe===t.BYTE&&(tt=t.R8I),Oe===t.SHORT&&(tt=t.R16I),Oe===t.INT&&(tt=t.R32I)),de===t.RG&&(Oe===t.FLOAT&&(tt=t.RG32F),Oe===t.HALF_FLOAT&&(tt=t.RG16F),Oe===t.UNSIGNED_BYTE&&(tt=t.RG8)),de===t.RG_INTEGER&&(Oe===t.UNSIGNED_BYTE&&(tt=t.RG8UI),Oe===t.UNSIGNED_SHORT&&(tt=t.RG16UI),Oe===t.UNSIGNED_INT&&(tt=t.RG32UI),Oe===t.BYTE&&(tt=t.RG8I),Oe===t.SHORT&&(tt=t.RG16I),Oe===t.INT&&(tt=t.RG32I)),de===t.RGBA){const ut=Ue?LinearTransfer:ColorManagement.getTransfer(De);Oe===t.FLOAT&&(tt=t.RGBA32F),Oe===t.HALF_FLOAT&&(tt=t.RGBA16F),Oe===t.UNSIGNED_BYTE&&(tt=ut===SRGBTransfer?t.SRGB8_ALPHA8:t.RGBA8),Oe===t.UNSIGNED_SHORT_4_4_4_4&&(tt=t.RGBA4),Oe===t.UNSIGNED_SHORT_5_5_5_1&&(tt=t.RGB5_A1)}return(tt===t.R16F||tt===t.R32F||tt===t.RG16F||tt===t.RG32F||tt===t.RGBA16F||tt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),tt}function B(pe,de,Oe){return L(pe,Oe)===!0||pe.isFramebufferTexture&&pe.minFilter!==NearestFilter&&pe.minFilter!==LinearFilter?Math.log2(Math.max(de.width,de.height))+1:pe.mipmaps!==void 0&&pe.mipmaps.length>0?pe.mipmaps.length:pe.isCompressedTexture&&Array.isArray(pe.image)?de.mipmaps.length:1}function U(pe){return pe===NearestFilter||pe===NearestMipmapNearestFilter||pe===NearestMipmapLinearFilter?t.NEAREST:t.LINEAR}function q(pe){const de=pe.target;de.removeEventListener("dispose",q),G(de),de.isVideoTexture&&v.delete(de)}function Z(pe){const de=pe.target;de.removeEventListener("dispose",Z),ne(de)}function G(pe){const de=o.get(pe);if(de.__webglInit===void 0)return;const Oe=pe.source,De=S.get(Oe);if(De){const Ue=De[de.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&H(pe),Object.keys(De).length===0&&S.delete(Oe)}o.remove(pe)}function H(pe){const de=o.get(pe);t.deleteTexture(de.__webglTexture);const Oe=pe.source,De=S.get(Oe);delete De[de.__cacheKey],f.memory.textures--}function ne(pe){const de=o.get(pe);if(pe.depthTexture&&pe.depthTexture.dispose(),pe.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(de.__webglFramebuffer[De]))for(let Ue=0;Ue<de.__webglFramebuffer[De].length;Ue++)t.deleteFramebuffer(de.__webglFramebuffer[De][Ue]);else t.deleteFramebuffer(de.__webglFramebuffer[De]);de.__webglDepthbuffer&&t.deleteRenderbuffer(de.__webglDepthbuffer[De])}else{if(Array.isArray(de.__webglFramebuffer))for(let De=0;De<de.__webglFramebuffer.length;De++)t.deleteFramebuffer(de.__webglFramebuffer[De]);else t.deleteFramebuffer(de.__webglFramebuffer);if(de.__webglDepthbuffer&&t.deleteRenderbuffer(de.__webglDepthbuffer),de.__webglMultisampledFramebuffer&&t.deleteFramebuffer(de.__webglMultisampledFramebuffer),de.__webglColorRenderbuffer)for(let De=0;De<de.__webglColorRenderbuffer.length;De++)de.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(de.__webglColorRenderbuffer[De]);de.__webglDepthRenderbuffer&&t.deleteRenderbuffer(de.__webglDepthRenderbuffer)}const Oe=pe.textures;for(let De=0,Ue=Oe.length;De<Ue;De++){const tt=o.get(Oe[De]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),f.memory.textures--),o.remove(Oe[De])}o.remove(pe)}let ae=0;function te(){ae=0}function ce(){const pe=ae;return pe>=l.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+pe+" texture units while this GPU supports only "+l.maxTextures),ae+=1,pe}function fe(pe){const de=[];return de.push(pe.wrapS),de.push(pe.wrapT),de.push(pe.wrapR||0),de.push(pe.magFilter),de.push(pe.minFilter),de.push(pe.anisotropy),de.push(pe.internalFormat),de.push(pe.format),de.push(pe.type),de.push(pe.generateMipmaps),de.push(pe.premultiplyAlpha),de.push(pe.flipY),de.push(pe.unpackAlignment),de.push(pe.colorSpace),de.join()}function ye(pe,de){const Oe=o.get(pe);if(pe.isVideoTexture&&Ve(pe),pe.isRenderTargetTexture===!1&&pe.version>0&&Oe.__version!==pe.version){const De=pe.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(Oe,pe,de);return}}n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture,t.TEXTURE0+de)}function J(pe,de){const Oe=o.get(pe);if(pe.version>0&&Oe.__version!==pe.version){we(Oe,pe,de);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Oe.__webglTexture,t.TEXTURE0+de)}function oe(pe,de){const Oe=o.get(pe);if(pe.version>0&&Oe.__version!==pe.version){we(Oe,pe,de);return}n.bindTexture(t.TEXTURE_3D,Oe.__webglTexture,t.TEXTURE0+de)}function se(pe,de){const Oe=o.get(pe);if(pe.version>0&&Oe.__version!==pe.version){Pe(Oe,pe,de);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Oe.__webglTexture,t.TEXTURE0+de)}const Q={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},ue={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR},_e={[NeverCompare]:t.NEVER,[AlwaysCompare]:t.ALWAYS,[LessCompare]:t.LESS,[LessEqualCompare]:t.LEQUAL,[EqualCompare]:t.EQUAL,[GreaterEqualCompare]:t.GEQUAL,[GreaterCompare]:t.GREATER,[NotEqualCompare]:t.NOTEQUAL};function ge(pe,de,Oe){if(de.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(de.magFilter===LinearFilter||de.magFilter===LinearMipmapNearestFilter||de.magFilter===NearestMipmapLinearFilter||de.magFilter===LinearMipmapLinearFilter||de.minFilter===LinearFilter||de.minFilter===LinearMipmapNearestFilter||de.minFilter===NearestMipmapLinearFilter||de.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Oe?(t.texParameteri(pe,t.TEXTURE_WRAP_S,Q[de.wrapS]),t.texParameteri(pe,t.TEXTURE_WRAP_T,Q[de.wrapT]),(pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(pe,t.TEXTURE_WRAP_R,Q[de.wrapR]),t.texParameteri(pe,t.TEXTURE_MAG_FILTER,ue[de.magFilter]),t.texParameteri(pe,t.TEXTURE_MIN_FILTER,ue[de.minFilter])):(t.texParameteri(pe,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(pe,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(pe,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(de.wrapS!==ClampToEdgeWrapping||de.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(pe,t.TEXTURE_MAG_FILTER,U(de.magFilter)),t.texParameteri(pe,t.TEXTURE_MIN_FILTER,U(de.minFilter)),de.minFilter!==NearestFilter&&de.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),de.compareFunction&&(t.texParameteri(pe,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(pe,t.TEXTURE_COMPARE_FUNC,_e[de.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(de.magFilter===NearestFilter||de.minFilter!==NearestMipmapLinearFilter&&de.minFilter!==LinearMipmapLinearFilter||de.type===FloatType&&e.has("OES_texture_float_linear")===!1||h===!1&&de.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;if(de.anisotropy>1||o.get(de).__currentAnisotropy){const De=e.get("EXT_texture_filter_anisotropic");t.texParameterf(pe,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(de.anisotropy,l.getMaxAnisotropy())),o.get(de).__currentAnisotropy=de.anisotropy}}}function ve(pe,de){let Oe=!1;pe.__webglInit===void 0&&(pe.__webglInit=!0,de.addEventListener("dispose",q));const De=de.source;let Ue=S.get(De);Ue===void 0&&(Ue={},S.set(De,Ue));const tt=fe(de);if(tt!==pe.__cacheKey){Ue[tt]===void 0&&(Ue[tt]={texture:t.createTexture(),usedTimes:0},f.memory.textures++,Oe=!0),Ue[tt].usedTimes++;const ut=Ue[pe.__cacheKey];ut!==void 0&&(Ue[pe.__cacheKey].usedTimes--,ut.usedTimes===0&&H(de)),pe.__cacheKey=tt,pe.__webglTexture=Ue[tt].texture}return Oe}function we(pe,de,Oe){let De=t.TEXTURE_2D;(de.isDataArrayTexture||de.isCompressedArrayTexture)&&(De=t.TEXTURE_2D_ARRAY),de.isData3DTexture&&(De=t.TEXTURE_3D);const Ue=ve(pe,de),tt=de.source;n.bindTexture(De,pe.__webglTexture,t.TEXTURE0+Oe);const ut=o.get(tt);if(tt.version!==ut.__version||Ue===!0){n.activeTexture(t.TEXTURE0+Oe);const mt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),it=de.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(de.colorSpace),ht=de.colorSpace===NoColorSpace||mt===it?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,de.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,de.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const Et=O(de)&&C(de.image)===!1;let dt=w(de.image,Et,!1,l.maxTextureSize);dt=Je(de,dt);const It=C(dt)||h,bt=u.convert(de.format,de.colorSpace);let pt=u.convert(de.type),Se=$(de.internalFormat,bt,pt,de.colorSpace,de.isVideoTexture);ge(De,de,It);let We;const xe=de.mipmaps,qe=h&&de.isVideoTexture!==!0&&Se!==RGB_ETC1_Format,lt=ut.__version===void 0||Ue===!0,Te=tt.dataReady,gt=B(de,dt,It);if(de.isDepthTexture)Se=t.DEPTH_COMPONENT,h?de.type===FloatType?Se=t.DEPTH_COMPONENT32F:de.type===UnsignedIntType?Se=t.DEPTH_COMPONENT24:de.type===UnsignedInt248Type?Se=t.DEPTH24_STENCIL8:Se=t.DEPTH_COMPONENT16:de.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),de.format===DepthFormat&&Se===t.DEPTH_COMPONENT&&de.type!==UnsignedShortType&&de.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),de.type=UnsignedIntType,pt=u.convert(de.type)),de.format===DepthStencilFormat&&Se===t.DEPTH_COMPONENT&&(Se=t.DEPTH_STENCIL,de.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),de.type=UnsignedInt248Type,pt=u.convert(de.type))),lt&&(qe?n.texStorage2D(t.TEXTURE_2D,1,Se,dt.width,dt.height):n.texImage2D(t.TEXTURE_2D,0,Se,dt.width,dt.height,0,bt,pt,null));else if(de.isDataTexture)if(xe.length>0&&It){qe&&lt&&n.texStorage2D(t.TEXTURE_2D,gt,Se,xe[0].width,xe[0].height);for(let ze=0,at=xe.length;ze<at;ze++)We=xe[ze],qe?Te&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,We.width,We.height,bt,pt,We.data):n.texImage2D(t.TEXTURE_2D,ze,Se,We.width,We.height,0,bt,pt,We.data);de.generateMipmaps=!1}else qe?(lt&&n.texStorage2D(t.TEXTURE_2D,gt,Se,dt.width,dt.height),Te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,dt.width,dt.height,bt,pt,dt.data)):n.texImage2D(t.TEXTURE_2D,0,Se,dt.width,dt.height,0,bt,pt,dt.data);else if(de.isCompressedTexture)if(de.isCompressedArrayTexture){qe&&lt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,Se,xe[0].width,xe[0].height,dt.depth);for(let ze=0,at=xe.length;ze<at;ze++)We=xe[ze],de.format!==RGBAFormat?bt!==null?qe?Te&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,We.width,We.height,dt.depth,bt,We.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ze,Se,We.width,We.height,dt.depth,0,We.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?Te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,We.width,We.height,dt.depth,bt,pt,We.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ze,Se,We.width,We.height,dt.depth,0,bt,pt,We.data)}else{qe&&lt&&n.texStorage2D(t.TEXTURE_2D,gt,Se,xe[0].width,xe[0].height);for(let ze=0,at=xe.length;ze<at;ze++)We=xe[ze],de.format!==RGBAFormat?bt!==null?qe?Te&&n.compressedTexSubImage2D(t.TEXTURE_2D,ze,0,0,We.width,We.height,bt,We.data):n.compressedTexImage2D(t.TEXTURE_2D,ze,Se,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?Te&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,We.width,We.height,bt,pt,We.data):n.texImage2D(t.TEXTURE_2D,ze,Se,We.width,We.height,0,bt,pt,We.data)}else if(de.isDataArrayTexture)qe?(lt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,Se,dt.width,dt.height,dt.depth),Te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,dt.width,dt.height,dt.depth,bt,pt,dt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Se,dt.width,dt.height,dt.depth,0,bt,pt,dt.data);else if(de.isData3DTexture)qe?(lt&&n.texStorage3D(t.TEXTURE_3D,gt,Se,dt.width,dt.height,dt.depth),Te&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,dt.width,dt.height,dt.depth,bt,pt,dt.data)):n.texImage3D(t.TEXTURE_3D,0,Se,dt.width,dt.height,dt.depth,0,bt,pt,dt.data);else if(de.isFramebufferTexture){if(lt)if(qe)n.texStorage2D(t.TEXTURE_2D,gt,Se,dt.width,dt.height);else{let ze=dt.width,at=dt.height;for(let yt=0;yt<gt;yt++)n.texImage2D(t.TEXTURE_2D,yt,Se,ze,at,0,bt,pt,null),ze>>=1,at>>=1}}else if(xe.length>0&&It){if(qe&&lt){const ze=ot(xe[0]);n.texStorage2D(t.TEXTURE_2D,gt,Se,ze.width,ze.height)}for(let ze=0,at=xe.length;ze<at;ze++)We=xe[ze],qe?Te&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,bt,pt,We):n.texImage2D(t.TEXTURE_2D,ze,Se,bt,pt,We);de.generateMipmaps=!1}else if(qe){if(lt){const ze=ot(dt);n.texStorage2D(t.TEXTURE_2D,gt,Se,ze.width,ze.height)}Te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,bt,pt,dt)}else n.texImage2D(t.TEXTURE_2D,0,Se,bt,pt,dt);L(de,It)&&F(De),ut.__version=tt.version,de.onUpdate&&de.onUpdate(de)}pe.__version=de.version}function Pe(pe,de,Oe){if(de.image.length!==6)return;const De=ve(pe,de),Ue=de.source;n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+Oe);const tt=o.get(Ue);if(Ue.version!==tt.__version||De===!0){n.activeTexture(t.TEXTURE0+Oe);const ut=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),mt=de.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(de.colorSpace),it=de.colorSpace===NoColorSpace||ut===mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,de.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,de.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);const ht=de.isCompressedTexture||de.image[0].isCompressedTexture,Et=de.image[0]&&de.image[0].isDataTexture,dt=[];for(let ze=0;ze<6;ze++)!ht&&!Et?dt[ze]=w(de.image[ze],!1,!0,l.maxCubemapSize):dt[ze]=Et?de.image[ze].image:de.image[ze],dt[ze]=Je(de,dt[ze]);const It=dt[0],bt=C(It)||h,pt=u.convert(de.format,de.colorSpace),Se=u.convert(de.type),We=$(de.internalFormat,pt,Se,de.colorSpace),xe=h&&de.isVideoTexture!==!0,qe=tt.__version===void 0||De===!0,lt=Ue.dataReady;let Te=B(de,It,bt);ge(t.TEXTURE_CUBE_MAP,de,bt);let gt;if(ht){xe&&qe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Te,We,It.width,It.height);for(let ze=0;ze<6;ze++){gt=dt[ze].mipmaps;for(let at=0;at<gt.length;at++){const yt=gt[at];de.format!==RGBAFormat?pt!==null?xe?lt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,0,0,yt.width,yt.height,pt,yt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,We,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xe?lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,0,0,yt.width,yt.height,pt,Se,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,We,yt.width,yt.height,0,pt,Se,yt.data)}}}else{if(gt=de.mipmaps,xe&&qe){gt.length>0&&Te++;const ze=ot(dt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Te,We,ze.width,ze.height)}for(let ze=0;ze<6;ze++)if(Et){xe?lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,dt[ze].width,dt[ze].height,pt,Se,dt[ze].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,We,dt[ze].width,dt[ze].height,0,pt,Se,dt[ze].data);for(let at=0;at<gt.length;at++){const At=gt[at].image[ze].image;xe?lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,0,0,At.width,At.height,pt,Se,At.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,We,At.width,At.height,0,pt,Se,At.data)}}else{xe?lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,pt,Se,dt[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,We,pt,Se,dt[ze]);for(let at=0;at<gt.length;at++){const yt=gt[at];xe?lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,0,0,pt,Se,yt.image[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,We,pt,Se,yt.image[ze])}}}L(de,bt)&&F(t.TEXTURE_CUBE_MAP),tt.__version=Ue.version,de.onUpdate&&de.onUpdate(de)}pe.__version=de.version}function Re(pe,de,Oe,De,Ue,tt){const ut=u.convert(Oe.format,Oe.colorSpace),mt=u.convert(Oe.type),it=$(Oe.internalFormat,ut,mt,Oe.colorSpace);if(!o.get(de).__hasExternalTextures){const Et=Math.max(1,de.width>>tt),dt=Math.max(1,de.height>>tt);Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,tt,it,Et,dt,de.depth,0,ut,mt,null):n.texImage2D(Ue,tt,it,Et,dt,0,ut,mt,null)}n.bindFramebuffer(t.FRAMEBUFFER,pe),Qe(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,De,Ue,o.get(Oe).__webglTexture,0,Fe(de)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,De,Ue,o.get(Oe).__webglTexture,tt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ae(pe,de,Oe){if(t.bindRenderbuffer(t.RENDERBUFFER,pe),de.depthBuffer&&!de.stencilBuffer){let De=h===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(Oe||Qe(de)){const Ue=de.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===FloatType?De=t.DEPTH_COMPONENT32F:Ue.type===UnsignedIntType&&(De=t.DEPTH_COMPONENT24));const tt=Fe(de);Qe(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,De,de.width,de.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,De,de.width,de.height)}else t.renderbufferStorage(t.RENDERBUFFER,De,de.width,de.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,pe)}else if(de.depthBuffer&&de.stencilBuffer){const De=Fe(de);Oe&&Qe(de)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,De,t.DEPTH24_STENCIL8,de.width,de.height):Qe(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,De,t.DEPTH24_STENCIL8,de.width,de.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,de.width,de.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,pe)}else{const De=de.textures;for(let Ue=0;Ue<De.length;Ue++){const tt=De[Ue],ut=u.convert(tt.format,tt.colorSpace),mt=u.convert(tt.type),it=$(tt.internalFormat,ut,mt,tt.colorSpace),ht=Fe(de);Oe&&Qe(de)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ht,it,de.width,de.height):Qe(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ht,it,de.width,de.height):t.renderbufferStorage(t.RENDERBUFFER,it,de.width,de.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(pe,de){if(de&&de.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,pe),!(de.depthTexture&&de.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(de.depthTexture).__webglTexture||de.depthTexture.image.width!==de.width||de.depthTexture.image.height!==de.height)&&(de.depthTexture.image.width=de.width,de.depthTexture.image.height=de.height,de.depthTexture.needsUpdate=!0),ye(de.depthTexture,0);const De=o.get(de.depthTexture).__webglTexture,Ue=Fe(de);if(de.depthTexture.format===DepthFormat)Qe(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,De,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,De,0);else if(de.depthTexture.format===DepthStencilFormat)Qe(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,De,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,De,0);else throw new Error("Unknown depthTexture format")}function Ie(pe){const de=o.get(pe),Oe=pe.isWebGLCubeRenderTarget===!0;if(pe.depthTexture&&!de.__autoAllocateDepthBuffer){if(Oe)throw new Error("target.depthTexture not supported in Cube render targets");Ne(de.__webglFramebuffer,pe)}else if(Oe){de.__webglDepthbuffer=[];for(let De=0;De<6;De++)n.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer[De]),de.__webglDepthbuffer[De]=t.createRenderbuffer(),Ae(de.__webglDepthbuffer[De],pe,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer),de.__webglDepthbuffer=t.createRenderbuffer(),Ae(de.__webglDepthbuffer,pe,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(pe,de,Oe){const De=o.get(pe);de!==void 0&&Re(De.__webglFramebuffer,pe,pe.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Oe!==void 0&&Ie(pe)}function ke(pe){const de=pe.texture,Oe=o.get(pe),De=o.get(de);pe.addEventListener("dispose",Z);const Ue=pe.textures,tt=pe.isWebGLCubeRenderTarget===!0,ut=Ue.length>1,mt=C(pe)||h;if(ut||(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=de.version,f.memory.textures++),tt){Oe.__webglFramebuffer=[];for(let it=0;it<6;it++)if(h&&de.mipmaps&&de.mipmaps.length>0){Oe.__webglFramebuffer[it]=[];for(let ht=0;ht<de.mipmaps.length;ht++)Oe.__webglFramebuffer[it][ht]=t.createFramebuffer()}else Oe.__webglFramebuffer[it]=t.createFramebuffer()}else{if(h&&de.mipmaps&&de.mipmaps.length>0){Oe.__webglFramebuffer=[];for(let it=0;it<de.mipmaps.length;it++)Oe.__webglFramebuffer[it]=t.createFramebuffer()}else Oe.__webglFramebuffer=t.createFramebuffer();if(ut)if(l.drawBuffers)for(let it=0,ht=Ue.length;it<ht;it++){const Et=o.get(Ue[it]);Et.__webglTexture===void 0&&(Et.__webglTexture=t.createTexture(),f.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&pe.samples>0&&Qe(pe)===!1){Oe.__webglMultisampledFramebuffer=t.createFramebuffer(),Oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer);for(let it=0;it<Ue.length;it++){const ht=Ue[it];Oe.__webglColorRenderbuffer[it]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Oe.__webglColorRenderbuffer[it]);const Et=u.convert(ht.format,ht.colorSpace),dt=u.convert(ht.type),It=$(ht.internalFormat,Et,dt,ht.colorSpace,pe.isXRRenderTarget===!0),bt=Fe(pe);t.renderbufferStorageMultisample(t.RENDERBUFFER,bt,It,pe.width,pe.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[it])}t.bindRenderbuffer(t.RENDERBUFFER,null),pe.depthBuffer&&(Oe.__webglDepthRenderbuffer=t.createRenderbuffer(),Ae(Oe.__webglDepthRenderbuffer,pe,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(tt){n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture),ge(t.TEXTURE_CUBE_MAP,de,mt);for(let it=0;it<6;it++)if(h&&de.mipmaps&&de.mipmaps.length>0)for(let ht=0;ht<de.mipmaps.length;ht++)Re(Oe.__webglFramebuffer[it][ht],pe,de,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,ht);else Re(Oe.__webglFramebuffer[it],pe,de,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);L(de,mt)&&F(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ut){for(let it=0,ht=Ue.length;it<ht;it++){const Et=Ue[it],dt=o.get(Et);n.bindTexture(t.TEXTURE_2D,dt.__webglTexture),ge(t.TEXTURE_2D,Et,mt),Re(Oe.__webglFramebuffer,pe,Et,t.COLOR_ATTACHMENT0+it,t.TEXTURE_2D,0),L(Et,mt)&&F(t.TEXTURE_2D)}n.unbindTexture()}else{let it=t.TEXTURE_2D;if((pe.isWebGL3DRenderTarget||pe.isWebGLArrayRenderTarget)&&(h?it=pe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(it,De.__webglTexture),ge(it,de,mt),h&&de.mipmaps&&de.mipmaps.length>0)for(let ht=0;ht<de.mipmaps.length;ht++)Re(Oe.__webglFramebuffer[ht],pe,de,t.COLOR_ATTACHMENT0,it,ht);else Re(Oe.__webglFramebuffer,pe,de,t.COLOR_ATTACHMENT0,it,0);L(de,mt)&&F(it),n.unbindTexture()}pe.depthBuffer&&Ie(pe)}function Me(pe){const de=C(pe)||h,Oe=pe.textures;for(let De=0,Ue=Oe.length;De<Ue;De++){const tt=Oe[De];if(L(tt,de)){const ut=pe.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,mt=o.get(tt).__webglTexture;n.bindTexture(ut,mt),F(ut),n.unbindTexture()}}}function je(pe){if(h&&pe.samples>0&&Qe(pe)===!1){const de=pe.textures,Oe=pe.width,De=pe.height;let Ue=t.COLOR_BUFFER_BIT;const tt=[],ut=pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,mt=o.get(pe),it=de.length>1;if(it)for(let ht=0;ht<de.length;ht++)n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let ht=0;ht<de.length;ht++){tt.push(t.COLOR_ATTACHMENT0+ht),pe.depthBuffer&&tt.push(ut);const Et=mt.__ignoreDepthValues!==void 0?mt.__ignoreDepthValues:!1;if(Et===!1&&(pe.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),pe.stencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),it&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,mt.__webglColorRenderbuffer[ht]),Et===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ut]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ut])),it){const dt=o.get(de[ht]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,dt,0)}t.blitFramebuffer(0,0,Oe,De,0,0,Oe,De,Ue,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,tt)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),it)for(let ht=0;ht<de.length;ht++){n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,mt.__webglColorRenderbuffer[ht]);const Et=o.get(de[ht]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,Et,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}}function Fe(pe){return Math.min(l.maxSamples,pe.samples)}function Qe(pe){const de=o.get(pe);return h&&pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&de.__useRenderToTexture!==!1}function Ve(pe){const de=f.render.frame;v.get(pe)!==de&&(v.set(pe,de),pe.update())}function Je(pe,de){const Oe=pe.colorSpace,De=pe.format,Ue=pe.type;return pe.isCompressedTexture===!0||pe.isVideoTexture===!0||pe.format===_SRGBAFormat||Oe!==LinearSRGBColorSpace&&Oe!==NoColorSpace&&(ColorManagement.getTransfer(Oe)===SRGBTransfer?h===!1?e.has("EXT_sRGB")===!0&&De===RGBAFormat?(pe.format=_SRGBAFormat,pe.minFilter=LinearFilter,pe.generateMipmaps=!1):de=ImageUtils.sRGBToLinear(de):(De!==RGBAFormat||Ue!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Oe)),de}function ot(pe){return typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement?(m.width=pe.naturalWidth||pe.width,m.height=pe.naturalHeight||pe.height):typeof VideoFrame<"u"&&pe instanceof VideoFrame?(m.width=pe.displayWidth,m.height=pe.displayHeight):(m.width=pe.width,m.height=pe.height),m}this.allocateTextureUnit=ce,this.resetTextureUnits=te,this.setTexture2D=ye,this.setTexture2DArray=J,this.setTexture3D=oe,this.setTextureCube=se,this.rebindTextures=he,this.setupRenderTarget=ke,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=Ie,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=Qe}function WebGLUtils(t,e,n){const o=n.isWebGL2;function l(u,f=NoColorSpace){let h;const d=ColorManagement.getTransfer(f);if(u===UnsignedByteType)return t.UNSIGNED_BYTE;if(u===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(u===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(u===ByteType)return t.BYTE;if(u===ShortType)return t.SHORT;if(u===UnsignedShortType)return t.UNSIGNED_SHORT;if(u===IntType)return t.INT;if(u===UnsignedIntType)return t.UNSIGNED_INT;if(u===FloatType)return t.FLOAT;if(u===HalfFloatType)return o?t.HALF_FLOAT:(h=e.get("OES_texture_half_float"),h!==null?h.HALF_FLOAT_OES:null);if(u===AlphaFormat)return t.ALPHA;if(u===RGBAFormat)return t.RGBA;if(u===LuminanceFormat)return t.LUMINANCE;if(u===LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(u===DepthFormat)return t.DEPTH_COMPONENT;if(u===DepthStencilFormat)return t.DEPTH_STENCIL;if(u===_SRGBAFormat)return h=e.get("EXT_sRGB"),h!==null?h.SRGB_ALPHA_EXT:null;if(u===RedFormat)return t.RED;if(u===RedIntegerFormat)return t.RED_INTEGER;if(u===RGFormat)return t.RG;if(u===RGIntegerFormat)return t.RG_INTEGER;if(u===RGBAIntegerFormat)return t.RGBA_INTEGER;if(u===RGB_S3TC_DXT1_Format||u===RGBA_S3TC_DXT1_Format||u===RGBA_S3TC_DXT3_Format||u===RGBA_S3TC_DXT5_Format)if(d===SRGBTransfer)if(h=e.get("WEBGL_compressed_texture_s3tc_srgb"),h!==null){if(u===RGB_S3TC_DXT1_Format)return h.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT1_Format)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT3_Format)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(u===RGBA_S3TC_DXT5_Format)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(h=e.get("WEBGL_compressed_texture_s3tc"),h!==null){if(u===RGB_S3TC_DXT1_Format)return h.COMPRESSED_RGB_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT1_Format)return h.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT3_Format)return h.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(u===RGBA_S3TC_DXT5_Format)return h.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(u===RGB_PVRTC_4BPPV1_Format||u===RGB_PVRTC_2BPPV1_Format||u===RGBA_PVRTC_4BPPV1_Format||u===RGBA_PVRTC_2BPPV1_Format)if(h=e.get("WEBGL_compressed_texture_pvrtc"),h!==null){if(u===RGB_PVRTC_4BPPV1_Format)return h.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(u===RGB_PVRTC_2BPPV1_Format)return h.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(u===RGBA_PVRTC_4BPPV1_Format)return h.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(u===RGBA_PVRTC_2BPPV1_Format)return h.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(u===RGB_ETC1_Format)return h=e.get("WEBGL_compressed_texture_etc1"),h!==null?h.COMPRESSED_RGB_ETC1_WEBGL:null;if(u===RGB_ETC2_Format||u===RGBA_ETC2_EAC_Format)if(h=e.get("WEBGL_compressed_texture_etc"),h!==null){if(u===RGB_ETC2_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ETC2:h.COMPRESSED_RGB8_ETC2;if(u===RGBA_ETC2_EAC_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:h.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(u===RGBA_ASTC_4x4_Format||u===RGBA_ASTC_5x4_Format||u===RGBA_ASTC_5x5_Format||u===RGBA_ASTC_6x5_Format||u===RGBA_ASTC_6x6_Format||u===RGBA_ASTC_8x5_Format||u===RGBA_ASTC_8x6_Format||u===RGBA_ASTC_8x8_Format||u===RGBA_ASTC_10x5_Format||u===RGBA_ASTC_10x6_Format||u===RGBA_ASTC_10x8_Format||u===RGBA_ASTC_10x10_Format||u===RGBA_ASTC_12x10_Format||u===RGBA_ASTC_12x12_Format)if(h=e.get("WEBGL_compressed_texture_astc"),h!==null){if(u===RGBA_ASTC_4x4_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:h.COMPRESSED_RGBA_ASTC_4x4_KHR;if(u===RGBA_ASTC_5x4_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:h.COMPRESSED_RGBA_ASTC_5x4_KHR;if(u===RGBA_ASTC_5x5_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:h.COMPRESSED_RGBA_ASTC_5x5_KHR;if(u===RGBA_ASTC_6x5_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:h.COMPRESSED_RGBA_ASTC_6x5_KHR;if(u===RGBA_ASTC_6x6_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:h.COMPRESSED_RGBA_ASTC_6x6_KHR;if(u===RGBA_ASTC_8x5_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:h.COMPRESSED_RGBA_ASTC_8x5_KHR;if(u===RGBA_ASTC_8x6_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:h.COMPRESSED_RGBA_ASTC_8x6_KHR;if(u===RGBA_ASTC_8x8_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:h.COMPRESSED_RGBA_ASTC_8x8_KHR;if(u===RGBA_ASTC_10x5_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:h.COMPRESSED_RGBA_ASTC_10x5_KHR;if(u===RGBA_ASTC_10x6_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:h.COMPRESSED_RGBA_ASTC_10x6_KHR;if(u===RGBA_ASTC_10x8_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:h.COMPRESSED_RGBA_ASTC_10x8_KHR;if(u===RGBA_ASTC_10x10_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:h.COMPRESSED_RGBA_ASTC_10x10_KHR;if(u===RGBA_ASTC_12x10_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:h.COMPRESSED_RGBA_ASTC_12x10_KHR;if(u===RGBA_ASTC_12x12_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:h.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(u===RGBA_BPTC_Format||u===RGB_BPTC_SIGNED_Format||u===RGB_BPTC_UNSIGNED_Format)if(h=e.get("EXT_texture_compression_bptc"),h!==null){if(u===RGBA_BPTC_Format)return d===SRGBTransfer?h.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:h.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(u===RGB_BPTC_SIGNED_Format)return h.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(u===RGB_BPTC_UNSIGNED_Format)return h.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(u===RED_RGTC1_Format||u===SIGNED_RED_RGTC1_Format||u===RED_GREEN_RGTC2_Format||u===SIGNED_RED_GREEN_RGTC2_Format)if(h=e.get("EXT_texture_compression_rgtc"),h!==null){if(u===RGBA_BPTC_Format)return h.COMPRESSED_RED_RGTC1_EXT;if(u===SIGNED_RED_RGTC1_Format)return h.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(u===RED_GREEN_RGTC2_Format)return h.COMPRESSED_RED_GREEN_RGTC2_EXT;if(u===SIGNED_RED_GREEN_RGTC2_Format)return h.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return u===UnsignedInt248Type?o?t.UNSIGNED_INT_24_8:(h=e.get("WEBGL_depth_texture"),h!==null?h.UNSIGNED_INT_24_8_WEBGL:null):t[u]!==void 0?t[u]:null}return{convert:l}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const o of e.hand.values())this._getHandJoint(n,o)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,o){let l=null,u=null,f=null;const h=this._targetRay,d=this._grip,p=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(p&&e.hand){f=!0;for(const A of e.hand.values()){const w=n.getJointPose(A,o),C=this._getHandJoint(p,A);w!==null&&(C.matrix.fromArray(w.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.matrixWorldNeedsUpdate=!0,C.jointRadius=w.radius),C.visible=w!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],_=m.position.distanceTo(v.position),S=.02,M=.005;p.inputState.pinching&&_>S+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&_<=S-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(u=n.getPose(e.gripSpace,o),u!==null&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,u.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(u.linearVelocity)):d.hasLinearVelocity=!1,u.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(u.angularVelocity)):d.hasAngularVelocity=!1));h!==null&&(l=n.getPose(e.targetRaySpace,o),l===null&&u!==null&&(l=u),l!==null&&(h.matrix.fromArray(l.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,l.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(l.linearVelocity)):h.hasLinearVelocity=!1,l.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(l.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return h!==null&&(h.visible=l!==null),d!==null&&(d.visible=u!==null),p!==null&&(p.visible=f!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const o=new Group;o.matrixAutoUpdate=!1,o.visible=!1,e.joints[n.jointName]=o,e.add(o)}return e.joints[n.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,o){if(this.texture===null){const l=new Texture,u=e.properties.get(l);u.__webglTexture=n.texture,(n.depthNear!=o.depthNear||n.depthFar!=o.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=l}}render(e,n){if(this.texture!==null){if(this.mesh===null){const o=n.cameras[0].viewport,l=new ShaderMaterial({extensions:{fragDepth:!0},vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:o.z},depthHeight:{value:o.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),l)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class WebXRManager extends EventDispatcher$1{constructor(e,n){super();const o=this;let l=null,u=1,f=null,h="local-floor",d=1,p=null,m=null,v=null,_=null,S=null,M=null;const A=new WebXRDepthSensing,w=n.getContextAttributes();let C=null,O=null;const L=[],F=[],$=new Vector2;let B=null;const U=new PerspectiveCamera;U.layers.enable(1),U.viewport=new Vector4;const q=new PerspectiveCamera;q.layers.enable(2),q.viewport=new Vector4;const Z=[U,q],G=new ArrayCamera;G.layers.enable(1),G.layers.enable(2);let H=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let ve=L[ge];return ve===void 0&&(ve=new WebXRController,L[ge]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(ge){let ve=L[ge];return ve===void 0&&(ve=new WebXRController,L[ge]=ve),ve.getGripSpace()},this.getHand=function(ge){let ve=L[ge];return ve===void 0&&(ve=new WebXRController,L[ge]=ve),ve.getHandSpace()};function ae(ge){const ve=F.indexOf(ge.inputSource);if(ve===-1)return;const we=L[ve];we!==void 0&&(we.update(ge.inputSource,ge.frame,p||f),we.dispatchEvent({type:ge.type,data:ge.inputSource}))}function te(){l.removeEventListener("select",ae),l.removeEventListener("selectstart",ae),l.removeEventListener("selectend",ae),l.removeEventListener("squeeze",ae),l.removeEventListener("squeezestart",ae),l.removeEventListener("squeezeend",ae),l.removeEventListener("end",te),l.removeEventListener("inputsourceschange",ce);for(let ge=0;ge<L.length;ge++){const ve=F[ge];ve!==null&&(F[ge]=null,L[ge].disconnect(ve))}H=null,ne=null,A.reset(),e.setRenderTarget(C),S=null,_=null,v=null,l=null,O=null,_e.stop(),o.isPresenting=!1,e.setPixelRatio(B),e.setSize($.width,$.height,!1),o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){u=ge,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){h=ge,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||f},this.setReferenceSpace=function(ge){p=ge},this.getBaseLayer=function(){return _!==null?_:S},this.getBinding=function(){return v},this.getFrame=function(){return M},this.getSession=function(){return l},this.setSession=async function(ge){if(l=ge,l!==null){if(C=e.getRenderTarget(),l.addEventListener("select",ae),l.addEventListener("selectstart",ae),l.addEventListener("selectend",ae),l.addEventListener("squeeze",ae),l.addEventListener("squeezestart",ae),l.addEventListener("squeezeend",ae),l.addEventListener("end",te),l.addEventListener("inputsourceschange",ce),w.xrCompatible!==!0&&await n.makeXRCompatible(),B=e.getPixelRatio(),e.getSize($),l.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ve={antialias:l.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:u};S=new XRWebGLLayer(l,n,ve),l.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),O=new WebGLRenderTarget(S.framebufferWidth,S.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let ve=null,we=null,Pe=null;w.depth&&(Pe=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=w.stencil?DepthStencilFormat:DepthFormat,we=w.stencil?UnsignedInt248Type:UnsignedIntType);const Re={colorFormat:n.RGBA8,depthFormat:Pe,scaleFactor:u};v=new XRWebGLBinding(l,n),_=v.createProjectionLayer(Re),l.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),O=new WebGLRenderTarget(_.textureWidth,_.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(_.textureWidth,_.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const Ae=e.properties.get(O);Ae.__ignoreDepthValues=_.ignoreDepthValues}O.isXRRenderTarget=!0,this.setFoveation(d),p=null,f=await l.requestReferenceSpace(h),_e.setContext(l),_e.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(l!==null)return l.environmentBlendMode};function ce(ge){for(let ve=0;ve<ge.removed.length;ve++){const we=ge.removed[ve],Pe=F.indexOf(we);Pe>=0&&(F[Pe]=null,L[Pe].disconnect(we))}for(let ve=0;ve<ge.added.length;ve++){const we=ge.added[ve];let Pe=F.indexOf(we);if(Pe===-1){for(let Ae=0;Ae<L.length;Ae++)if(Ae>=F.length){F.push(we),Pe=Ae;break}else if(F[Ae]===null){F[Ae]=we,Pe=Ae;break}if(Pe===-1)break}const Re=L[Pe];Re&&Re.connect(we)}}const fe=new Vector3,ye=new Vector3;function J(ge,ve,we){fe.setFromMatrixPosition(ve.matrixWorld),ye.setFromMatrixPosition(we.matrixWorld);const Pe=fe.distanceTo(ye),Re=ve.projectionMatrix.elements,Ae=we.projectionMatrix.elements,Ne=Re[14]/(Re[10]-1),Ie=Re[14]/(Re[10]+1),he=(Re[9]+1)/Re[5],ke=(Re[9]-1)/Re[5],Me=(Re[8]-1)/Re[0],je=(Ae[8]+1)/Ae[0],Fe=Ne*Me,Qe=Ne*je,Ve=Pe/(-Me+je),Je=Ve*-Me;ve.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(Je),ge.translateZ(Ve),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert();const ot=Ne+Ve,pe=Ie+Ve,de=Fe-Je,Oe=Qe+(Pe-Je),De=he*Ie/pe*ot,Ue=ke*Ie/pe*ot;ge.projectionMatrix.makePerspective(de,Oe,De,Ue,ot,pe),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}function oe(ge,ve){ve===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(ve.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(l===null)return;A.texture!==null&&(ge.near=A.depthNear,ge.far=A.depthFar),G.near=q.near=U.near=ge.near,G.far=q.far=U.far=ge.far,(H!==G.near||ne!==G.far)&&(l.updateRenderState({depthNear:G.near,depthFar:G.far}),H=G.near,ne=G.far,U.near=H,U.far=ne,q.near=H,q.far=ne,U.updateProjectionMatrix(),q.updateProjectionMatrix(),ge.updateProjectionMatrix());const ve=ge.parent,we=G.cameras;oe(G,ve);for(let Pe=0;Pe<we.length;Pe++)oe(we[Pe],ve);we.length===2?J(G,U,q):G.projectionMatrix.copy(U.projectionMatrix),se(ge,G,ve)};function se(ge,ve,we){we===null?ge.matrix.copy(ve.matrixWorld):(ge.matrix.copy(we.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(ve.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(ve.projectionMatrix),ge.projectionMatrixInverse.copy(ve.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=RAD2DEG*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(_===null&&S===null))return d},this.setFoveation=function(ge){d=ge,_!==null&&(_.fixedFoveation=ge),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=ge)},this.hasDepthSensing=function(){return A.texture!==null};let Q=null;function ue(ge,ve){if(m=ve.getViewerPose(p||f),M=ve,m!==null){const we=m.views;S!==null&&(e.setRenderTargetFramebuffer(O,S.framebuffer),e.setRenderTarget(O));let Pe=!1;we.length!==G.cameras.length&&(G.cameras.length=0,Pe=!0);for(let Ae=0;Ae<we.length;Ae++){const Ne=we[Ae];let Ie=null;if(S!==null)Ie=S.getViewport(Ne);else{const ke=v.getViewSubImage(_,Ne);Ie=ke.viewport,Ae===0&&(e.setRenderTargetTextures(O,ke.colorTexture,_.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(O))}let he=Z[Ae];he===void 0&&(he=new PerspectiveCamera,he.layers.enable(Ae),he.viewport=new Vector4,Z[Ae]=he),he.matrix.fromArray(Ne.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Ne.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(Ie.x,Ie.y,Ie.width,Ie.height),Ae===0&&(G.matrix.copy(he.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),Pe===!0&&G.cameras.push(he)}const Re=l.enabledFeatures;if(Re&&Re.includes("depth-sensing")){const Ae=v.getDepthInformation(we[0]);Ae&&Ae.isValid&&Ae.texture&&A.init(e,Ae,l.renderState)}}for(let we=0;we<L.length;we++){const Pe=F[we],Re=L[we];Pe!==null&&Re!==void 0&&Re.update(Pe,ve,p||f)}A.render(e,G),Q&&Q(ge,ve),ve.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:ve}),M=null}const _e=new WebGLAnimation;_e.setAnimationLoop(ue),this.setAnimationLoop=function(ge){Q=ge},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(t,e){function n(w,C){w.matrixAutoUpdate===!0&&w.updateMatrix(),C.value.copy(w.matrix)}function o(w,C){C.color.getRGB(w.fogColor.value,getUnlitUniformColorSpace(t)),C.isFog?(w.fogNear.value=C.near,w.fogFar.value=C.far):C.isFogExp2&&(w.fogDensity.value=C.density)}function l(w,C,O,L,F){C.isMeshBasicMaterial||C.isMeshLambertMaterial?u(w,C):C.isMeshToonMaterial?(u(w,C),v(w,C)):C.isMeshPhongMaterial?(u(w,C),m(w,C)):C.isMeshStandardMaterial?(u(w,C),_(w,C),C.isMeshPhysicalMaterial&&S(w,C,F)):C.isMeshMatcapMaterial?(u(w,C),M(w,C)):C.isMeshDepthMaterial?u(w,C):C.isMeshDistanceMaterial?(u(w,C),A(w,C)):C.isMeshNormalMaterial?u(w,C):C.isLineBasicMaterial?(f(w,C),C.isLineDashedMaterial&&h(w,C)):C.isPointsMaterial?d(w,C,O,L):C.isSpriteMaterial?p(w,C):C.isShadowMaterial?(w.color.value.copy(C.color),w.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}function u(w,C){w.opacity.value=C.opacity,C.color&&w.diffuse.value.copy(C.color),C.emissive&&w.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(w.map.value=C.map,n(C.map,w.mapTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.bumpMap&&(w.bumpMap.value=C.bumpMap,n(C.bumpMap,w.bumpMapTransform),w.bumpScale.value=C.bumpScale,C.side===BackSide&&(w.bumpScale.value*=-1)),C.normalMap&&(w.normalMap.value=C.normalMap,n(C.normalMap,w.normalMapTransform),w.normalScale.value.copy(C.normalScale),C.side===BackSide&&w.normalScale.value.negate()),C.displacementMap&&(w.displacementMap.value=C.displacementMap,n(C.displacementMap,w.displacementMapTransform),w.displacementScale.value=C.displacementScale,w.displacementBias.value=C.displacementBias),C.emissiveMap&&(w.emissiveMap.value=C.emissiveMap,n(C.emissiveMap,w.emissiveMapTransform)),C.specularMap&&(w.specularMap.value=C.specularMap,n(C.specularMap,w.specularMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest);const O=e.get(C),L=O.envMap,F=O.envMapRotation;if(L&&(w.envMap.value=L,_e1.copy(F),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),w.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),w.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=C.reflectivity,w.ior.value=C.ior,w.refractionRatio.value=C.refractionRatio),C.lightMap){w.lightMap.value=C.lightMap;const $=t._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=C.lightMapIntensity*$,n(C.lightMap,w.lightMapTransform)}C.aoMap&&(w.aoMap.value=C.aoMap,w.aoMapIntensity.value=C.aoMapIntensity,n(C.aoMap,w.aoMapTransform))}function f(w,C){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,C.map&&(w.map.value=C.map,n(C.map,w.mapTransform))}function h(w,C){w.dashSize.value=C.dashSize,w.totalSize.value=C.dashSize+C.gapSize,w.scale.value=C.scale}function d(w,C,O,L){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,w.size.value=C.size*O,w.scale.value=L*.5,C.map&&(w.map.value=C.map,n(C.map,w.uvTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest)}function p(w,C){w.diffuse.value.copy(C.color),w.opacity.value=C.opacity,w.rotation.value=C.rotation,C.map&&(w.map.value=C.map,n(C.map,w.mapTransform)),C.alphaMap&&(w.alphaMap.value=C.alphaMap,n(C.alphaMap,w.alphaMapTransform)),C.alphaTest>0&&(w.alphaTest.value=C.alphaTest)}function m(w,C){w.specular.value.copy(C.specular),w.shininess.value=Math.max(C.shininess,1e-4)}function v(w,C){C.gradientMap&&(w.gradientMap.value=C.gradientMap)}function _(w,C){w.metalness.value=C.metalness,C.metalnessMap&&(w.metalnessMap.value=C.metalnessMap,n(C.metalnessMap,w.metalnessMapTransform)),w.roughness.value=C.roughness,C.roughnessMap&&(w.roughnessMap.value=C.roughnessMap,n(C.roughnessMap,w.roughnessMapTransform)),e.get(C).envMap&&(w.envMapIntensity.value=C.envMapIntensity)}function S(w,C,O){w.ior.value=C.ior,C.sheen>0&&(w.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),w.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(w.sheenColorMap.value=C.sheenColorMap,n(C.sheenColorMap,w.sheenColorMapTransform)),C.sheenRoughnessMap&&(w.sheenRoughnessMap.value=C.sheenRoughnessMap,n(C.sheenRoughnessMap,w.sheenRoughnessMapTransform))),C.clearcoat>0&&(w.clearcoat.value=C.clearcoat,w.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(w.clearcoatMap.value=C.clearcoatMap,n(C.clearcoatMap,w.clearcoatMapTransform)),C.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap,n(C.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),C.clearcoatNormalMap&&(w.clearcoatNormalMap.value=C.clearcoatNormalMap,n(C.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),C.side===BackSide&&w.clearcoatNormalScale.value.negate())),C.iridescence>0&&(w.iridescence.value=C.iridescence,w.iridescenceIOR.value=C.iridescenceIOR,w.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(w.iridescenceMap.value=C.iridescenceMap,n(C.iridescenceMap,w.iridescenceMapTransform)),C.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=C.iridescenceThicknessMap,n(C.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),C.transmission>0&&(w.transmission.value=C.transmission,w.transmissionSamplerMap.value=O.texture,w.transmissionSamplerSize.value.set(O.width,O.height),C.transmissionMap&&(w.transmissionMap.value=C.transmissionMap,n(C.transmissionMap,w.transmissionMapTransform)),w.thickness.value=C.thickness,C.thicknessMap&&(w.thicknessMap.value=C.thicknessMap,n(C.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=C.attenuationDistance,w.attenuationColor.value.copy(C.attenuationColor)),C.anisotropy>0&&(w.anisotropyVector.value.set(C.anisotropy*Math.cos(C.anisotropyRotation),C.anisotropy*Math.sin(C.anisotropyRotation)),C.anisotropyMap&&(w.anisotropyMap.value=C.anisotropyMap,n(C.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=C.specularIntensity,w.specularColor.value.copy(C.specularColor),C.specularColorMap&&(w.specularColorMap.value=C.specularColorMap,n(C.specularColorMap,w.specularColorMapTransform)),C.specularIntensityMap&&(w.specularIntensityMap.value=C.specularIntensityMap,n(C.specularIntensityMap,w.specularIntensityMapTransform))}function M(w,C){C.matcap&&(w.matcap.value=C.matcap)}function A(w,C){const O=e.get(C).light;w.referencePosition.value.setFromMatrixPosition(O.matrixWorld),w.nearDistance.value=O.shadow.camera.near,w.farDistance.value=O.shadow.camera.far}return{refreshFogUniforms:o,refreshMaterialUniforms:l}}function WebGLUniformsGroups(t,e,n,o){let l={},u={},f=[];const h=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(O,L){const F=L.program;o.uniformBlockBinding(O,F)}function p(O,L){let F=l[O.id];F===void 0&&(M(O),F=m(O),l[O.id]=F,O.addEventListener("dispose",w));const $=L.program;o.updateUBOMapping(O,$);const B=e.render.frame;u[O.id]!==B&&(_(O),u[O.id]=B)}function m(O){const L=v();O.__bindingPointIndex=L;const F=t.createBuffer(),$=O.__size,B=O.usage;return t.bindBuffer(t.UNIFORM_BUFFER,F),t.bufferData(t.UNIFORM_BUFFER,$,B),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,L,F),F}function v(){for(let O=0;O<h;O++)if(f.indexOf(O)===-1)return f.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(O){const L=l[O.id],F=O.uniforms,$=O.__cache;t.bindBuffer(t.UNIFORM_BUFFER,L);for(let B=0,U=F.length;B<U;B++){const q=Array.isArray(F[B])?F[B]:[F[B]];for(let Z=0,G=q.length;Z<G;Z++){const H=q[Z];if(S(H,B,Z,$)===!0){const ne=H.__offset,ae=Array.isArray(H.value)?H.value:[H.value];let te=0;for(let ce=0;ce<ae.length;ce++){const fe=ae[ce],ye=A(fe);typeof fe=="number"||typeof fe=="boolean"?(H.__data[0]=fe,t.bufferSubData(t.UNIFORM_BUFFER,ne+te,H.__data)):fe.isMatrix3?(H.__data[0]=fe.elements[0],H.__data[1]=fe.elements[1],H.__data[2]=fe.elements[2],H.__data[3]=0,H.__data[4]=fe.elements[3],H.__data[5]=fe.elements[4],H.__data[6]=fe.elements[5],H.__data[7]=0,H.__data[8]=fe.elements[6],H.__data[9]=fe.elements[7],H.__data[10]=fe.elements[8],H.__data[11]=0):(fe.toArray(H.__data,te),te+=ye.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,ne,H.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function S(O,L,F,$){const B=O.value,U=L+"_"+F;if($[U]===void 0)return typeof B=="number"||typeof B=="boolean"?$[U]=B:$[U]=B.clone(),!0;{const q=$[U];if(typeof B=="number"||typeof B=="boolean"){if(q!==B)return $[U]=B,!0}else if(q.equals(B)===!1)return q.copy(B),!0}return!1}function M(O){const L=O.uniforms;let F=0;const $=16;for(let U=0,q=L.length;U<q;U++){const Z=Array.isArray(L[U])?L[U]:[L[U]];for(let G=0,H=Z.length;G<H;G++){const ne=Z[G],ae=Array.isArray(ne.value)?ne.value:[ne.value];for(let te=0,ce=ae.length;te<ce;te++){const fe=ae[te],ye=A(fe),J=F%$;J!==0&&$-J<ye.boundary&&(F+=$-J),ne.__data=new Float32Array(ye.storage/Float32Array.BYTES_PER_ELEMENT),ne.__offset=F,F+=ye.storage}}}const B=F%$;return B>0&&(F+=$-B),O.__size=F,O.__cache={},this}function A(O){const L={boundary:0,storage:0};return typeof O=="number"||typeof O=="boolean"?(L.boundary=4,L.storage=4):O.isVector2?(L.boundary=8,L.storage=8):O.isVector3||O.isColor?(L.boundary=16,L.storage=12):O.isVector4?(L.boundary=16,L.storage=16):O.isMatrix3?(L.boundary=48,L.storage=48):O.isMatrix4?(L.boundary=64,L.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),L}function w(O){const L=O.target;L.removeEventListener("dispose",w);const F=f.indexOf(L.__bindingPointIndex);f.splice(F,1),t.deleteBuffer(l[L.id]),delete l[L.id],delete u[L.id]}function C(){for(const O in l)t.deleteBuffer(l[O]);f=[],l={},u={}}return{bind:d,update:p,dispose:C}}class WebGLRenderer{constructor(e={}){const{canvas:n=createCanvasElement(),context:o=null,depth:l=!0,stencil:u=!0,alpha:f=!1,antialias:h=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1}=e;this.isWebGLRenderer=!0;let _;o!==null?_=o.getContextAttributes().alpha:_=f;const S=new Uint32Array(4),M=new Int32Array(4);let A=null,w=null;const C=[],O=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const L=this;let F=!1,$=0,B=0,U=null,q=-1,Z=null;const G=new Vector4,H=new Vector4;let ne=null;const ae=new Color$1(0);let te=0,ce=n.width,fe=n.height,ye=1,J=null,oe=null;const se=new Vector4(0,0,ce,fe),Q=new Vector4(0,0,ce,fe);let ue=!1;const _e=new Frustum;let ge=!1,ve=!1,we=null;const Pe=new Matrix4,Re=new Vector2,Ae=new Vector3,Ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ie(){return U===null?ye:1}let he=o;function ke(be,He){for(let et=0;et<be.length;et++){const rt=be[et],Ze=n.getContext(rt,He);if(Ze!==null)return Ze}return null}try{const be={alpha:!0,depth:l,stencil:u,antialias:h,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${REVISION}`),n.addEventListener("webglcontextlost",lt,!1),n.addEventListener("webglcontextrestored",Te,!1),n.addEventListener("webglcontextcreationerror",gt,!1),he===null){const He=["webgl2","webgl","experimental-webgl"];if(L.isWebGL1Renderer===!0&&He.shift(),he=ke(He,be),he===null)throw ke(He)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&he instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),he.getShaderPrecisionFormat===void 0&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}let Me,je,Fe,Qe,Ve,Je,ot,pe,de,Oe,De,Ue,tt,ut,mt,it,ht,Et,dt,It,bt,pt,Se,We;function xe(){Me=new WebGLExtensions(he),je=new WebGLCapabilities(he,Me,e),Me.init(je),pt=new WebGLUtils(he,Me,je),Fe=new WebGLState(he,Me,je),Qe=new WebGLInfo(he),Ve=new WebGLProperties,Je=new WebGLTextures(he,Me,Fe,Ve,je,pt,Qe),ot=new WebGLCubeMaps(L),pe=new WebGLCubeUVMaps(L),de=new WebGLAttributes(he,je),Se=new WebGLBindingStates(he,Me,de,je),Oe=new WebGLGeometries(he,de,Qe,Se),De=new WebGLObjects(he,Oe,de,Qe),dt=new WebGLMorphtargets(he,je,Je),it=new WebGLClipping(Ve),Ue=new WebGLPrograms(L,ot,pe,Me,je,Se,it),tt=new WebGLMaterials(L,Ve),ut=new WebGLRenderLists,mt=new WebGLRenderStates(Me,je),Et=new WebGLBackground(L,ot,pe,Fe,De,_,d),ht=new WebGLShadowMap(L,De,je),We=new WebGLUniformsGroups(he,Qe,je,Fe),It=new WebGLBufferRenderer(he,Me,Qe,je),bt=new WebGLIndexedBufferRenderer(he,Me,Qe,je),Qe.programs=Ue.programs,L.capabilities=je,L.extensions=Me,L.properties=Ve,L.renderLists=ut,L.shadowMap=ht,L.state=Fe,L.info=Qe}xe();const qe=new WebXRManager(L,he);this.xr=qe,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){const be=Me.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=Me.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return ye},this.setPixelRatio=function(be){be!==void 0&&(ye=be,this.setSize(ce,fe,!1))},this.getSize=function(be){return be.set(ce,fe)},this.setSize=function(be,He,et=!0){if(qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ce=be,fe=He,n.width=Math.floor(be*ye),n.height=Math.floor(He*ye),et===!0&&(n.style.width=be+"px",n.style.height=He+"px"),this.setViewport(0,0,be,He)},this.getDrawingBufferSize=function(be){return be.set(ce*ye,fe*ye).floor()},this.setDrawingBufferSize=function(be,He,et){ce=be,fe=He,ye=et,n.width=Math.floor(be*et),n.height=Math.floor(He*et),this.setViewport(0,0,be,He)},this.getCurrentViewport=function(be){return be.copy(G)},this.getViewport=function(be){return be.copy(se)},this.setViewport=function(be,He,et,rt){be.isVector4?se.set(be.x,be.y,be.z,be.w):se.set(be,He,et,rt),Fe.viewport(G.copy(se).multiplyScalar(ye).round())},this.getScissor=function(be){return be.copy(Q)},this.setScissor=function(be,He,et,rt){be.isVector4?Q.set(be.x,be.y,be.z,be.w):Q.set(be,He,et,rt),Fe.scissor(H.copy(Q).multiplyScalar(ye).round())},this.getScissorTest=function(){return ue},this.setScissorTest=function(be){Fe.setScissorTest(ue=be)},this.setOpaqueSort=function(be){J=be},this.setTransparentSort=function(be){oe=be},this.getClearColor=function(be){return be.copy(Et.getClearColor())},this.setClearColor=function(){Et.setClearColor.apply(Et,arguments)},this.getClearAlpha=function(){return Et.getClearAlpha()},this.setClearAlpha=function(){Et.setClearAlpha.apply(Et,arguments)},this.clear=function(be=!0,He=!0,et=!0){let rt=0;if(be){let Ze=!1;if(U!==null){const Pt=U.texture.format;Ze=Pt===RGBAIntegerFormat||Pt===RGIntegerFormat||Pt===RedIntegerFormat}if(Ze){const Pt=U.texture.type,Bt=Pt===UnsignedByteType||Pt===UnsignedIntType||Pt===UnsignedShortType||Pt===UnsignedInt248Type||Pt===UnsignedShort4444Type||Pt===UnsignedShort5551Type,jt=Et.getClearColor(),ft=Et.getClearAlpha(),Wt=jt.r,Xt=jt.g,qt=jt.b;Bt?(S[0]=Wt,S[1]=Xt,S[2]=qt,S[3]=ft,he.clearBufferuiv(he.COLOR,0,S)):(M[0]=Wt,M[1]=Xt,M[2]=qt,M[3]=ft,he.clearBufferiv(he.COLOR,0,M))}else rt|=he.COLOR_BUFFER_BIT}He&&(rt|=he.DEPTH_BUFFER_BIT),et&&(rt|=he.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),he.clear(rt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",lt,!1),n.removeEventListener("webglcontextrestored",Te,!1),n.removeEventListener("webglcontextcreationerror",gt,!1),ut.dispose(),mt.dispose(),Ve.dispose(),ot.dispose(),pe.dispose(),De.dispose(),Se.dispose(),We.dispose(),Ue.dispose(),qe.dispose(),qe.removeEventListener("sessionstart",Jt),qe.removeEventListener("sessionend",Ut),we&&(we.dispose(),we=null),Zt.stop()};function lt(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1;const be=Qe.autoReset,He=ht.enabled,et=ht.autoUpdate,rt=ht.needsUpdate,Ze=ht.type;xe(),Qe.autoReset=be,ht.enabled=He,ht.autoUpdate=et,ht.needsUpdate=rt,ht.type=Ze}function gt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function ze(be){const He=be.target;He.removeEventListener("dispose",ze),at(He)}function at(be){yt(be),Ve.remove(be)}function yt(be){const He=Ve.get(be).programs;He!==void 0&&(He.forEach(function(et){Ue.releaseProgram(et)}),be.isShaderMaterial&&Ue.releaseShaderCache(be))}this.renderBufferDirect=function(be,He,et,rt,Ze,Pt){He===null&&(He=Ne);const Bt=Ze.isMesh&&Ze.matrixWorld.determinant()<0,jt=xo(be,He,et,rt,Ze);Fe.setMaterial(rt,Bt);let ft=et.index,Wt=1;if(rt.wireframe===!0){if(ft=Oe.getWireframeAttribute(et),ft===void 0)return;Wt=2}const Xt=et.drawRange,qt=et.attributes.position;let gn=Xt.start*Wt,Xn=(Xt.start+Xt.count)*Wt;Pt!==null&&(gn=Math.max(gn,Pt.start*Wt),Xn=Math.min(Xn,(Pt.start+Pt.count)*Wt)),ft!==null?(gn=Math.max(gn,0),Xn=Math.min(Xn,ft.count)):qt!=null&&(gn=Math.max(gn,0),Xn=Math.min(Xn,qt.count));const vn=Xn-gn;if(vn<0||vn===1/0)return;Se.setup(Ze,rt,jt,et,ft);let wn,Ft=It;if(ft!==null&&(wn=de.get(ft),Ft=bt,Ft.setIndex(wn)),Ze.isMesh)rt.wireframe===!0?(Fe.setLineWidth(rt.wireframeLinewidth*Ie()),Ft.setMode(he.LINES)):Ft.setMode(he.TRIANGLES);else if(Ze.isLine){let Ot=rt.linewidth;Ot===void 0&&(Ot=1),Fe.setLineWidth(Ot*Ie()),Ze.isLineSegments?Ft.setMode(he.LINES):Ze.isLineLoop?Ft.setMode(he.LINE_LOOP):Ft.setMode(he.LINE_STRIP)}else Ze.isPoints?Ft.setMode(he.POINTS):Ze.isSprite&&Ft.setMode(he.TRIANGLES);if(Ze.isBatchedMesh)Ft.renderMultiDraw(Ze._multiDrawStarts,Ze._multiDrawCounts,Ze._multiDrawCount);else if(Ze.isInstancedMesh)Ft.renderInstances(gn,vn,Ze.count);else if(et.isInstancedBufferGeometry){const Ot=et._maxInstanceCount!==void 0?et._maxInstanceCount:1/0,Sn=Math.min(et.instanceCount,Ot);Ft.renderInstances(gn,vn,Sn)}else Ft.render(gn,vn)};function At(be,He,et){be.transparent===!0&&be.side===DoubleSide&&be.forceSinglePass===!1?(be.side=BackSide,be.needsUpdate=!0,sr(be,He,et),be.side=FrontSide,be.needsUpdate=!0,sr(be,He,et),be.side=DoubleSide):sr(be,He,et)}this.compile=function(be,He,et=null){et===null&&(et=be),w=mt.get(et),w.init(),O.push(w),et.traverseVisible(function(Ze){Ze.isLight&&Ze.layers.test(He.layers)&&(w.pushLight(Ze),Ze.castShadow&&w.pushShadow(Ze))}),be!==et&&be.traverseVisible(function(Ze){Ze.isLight&&Ze.layers.test(He.layers)&&(w.pushLight(Ze),Ze.castShadow&&w.pushShadow(Ze))}),w.setupLights(L._useLegacyLights);const rt=new Set;return be.traverse(function(Ze){const Pt=Ze.material;if(Pt)if(Array.isArray(Pt))for(let Bt=0;Bt<Pt.length;Bt++){const jt=Pt[Bt];At(jt,et,Ze),rt.add(jt)}else At(Pt,et,Ze),rt.add(Pt)}),O.pop(),w=null,rt},this.compileAsync=function(be,He,et=null){const rt=this.compile(be,He,et);return new Promise(Ze=>{function Pt(){if(rt.forEach(function(Bt){Ve.get(Bt).currentProgram.isReady()&&rt.delete(Bt)}),rt.size===0){Ze(be);return}setTimeout(Pt,10)}Me.get("KHR_parallel_shader_compile")!==null?Pt():setTimeout(Pt,10)})};let Tt=null;function Nt(be){Tt&&Tt(be)}function Jt(){Zt.stop()}function Ut(){Zt.start()}const Zt=new WebGLAnimation;Zt.setAnimationLoop(Nt),typeof self<"u"&&Zt.setContext(self),this.setAnimationLoop=function(be){Tt=be,qe.setAnimationLoop(be),be===null?Zt.stop():Zt.start()},qe.addEventListener("sessionstart",Jt),qe.addEventListener("sessionend",Ut),this.render=function(be,He){if(He!==void 0&&He.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),He.parent===null&&He.matrixWorldAutoUpdate===!0&&He.updateMatrixWorld(),qe.enabled===!0&&qe.isPresenting===!0&&(qe.cameraAutoUpdate===!0&&qe.updateCamera(He),He=qe.getCamera()),be.isScene===!0&&be.onBeforeRender(L,be,He,U),w=mt.get(be,O.length),w.init(),O.push(w),Pe.multiplyMatrices(He.projectionMatrix,He.matrixWorldInverse),_e.setFromProjectionMatrix(Pe),ve=this.localClippingEnabled,ge=it.init(this.clippingPlanes,ve),A=ut.get(be,C.length),A.init(),C.push(A),fn(be,He,0,L.sortObjects),A.finish(),L.sortObjects===!0&&A.sort(J,oe),this.info.render.frame++,ge===!0&&it.beginShadows();const et=w.state.shadowsArray;if(ht.render(et,be,He),ge===!0&&it.endShadows(),this.info.autoReset===!0&&this.info.reset(),(qe.enabled===!1||qe.isPresenting===!1||qe.hasDepthSensing()===!1)&&Et.render(A,be),w.setupLights(L._useLegacyLights),He.isArrayCamera){const rt=He.cameras;for(let Ze=0,Pt=rt.length;Ze<Pt;Ze++){const Bt=rt[Ze];Qn(A,be,Bt,Bt.viewport)}}else Qn(A,be,He);U!==null&&(Je.updateMultisampleRenderTarget(U),Je.updateRenderTargetMipmap(U)),be.isScene===!0&&be.onAfterRender(L,be,He),Se.resetDefaultState(),q=-1,Z=null,O.pop(),O.length>0?w=O[O.length-1]:w=null,C.pop(),C.length>0?A=C[C.length-1]:A=null};function fn(be,He,et,rt){if(be.visible===!1)return;if(be.layers.test(He.layers)){if(be.isGroup)et=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(He);else if(be.isLight)w.pushLight(be),be.castShadow&&w.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||_e.intersectsSprite(be)){rt&&Ae.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Pe);const Bt=De.update(be),jt=be.material;jt.visible&&A.push(be,Bt,jt,et,Ae.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||_e.intersectsObject(be))){const Bt=De.update(be),jt=be.material;if(rt&&(be.boundingSphere!==void 0?(be.boundingSphere===null&&be.computeBoundingSphere(),Ae.copy(be.boundingSphere.center)):(Bt.boundingSphere===null&&Bt.computeBoundingSphere(),Ae.copy(Bt.boundingSphere.center)),Ae.applyMatrix4(be.matrixWorld).applyMatrix4(Pe)),Array.isArray(jt)){const ft=Bt.groups;for(let Wt=0,Xt=ft.length;Wt<Xt;Wt++){const qt=ft[Wt],gn=jt[qt.materialIndex];gn&&gn.visible&&A.push(be,Bt,gn,et,Ae.z,qt)}}else jt.visible&&A.push(be,Bt,jt,et,Ae.z,null)}}const Pt=be.children;for(let Bt=0,jt=Pt.length;Bt<jt;Bt++)fn(Pt[Bt],He,et,rt)}function Qn(be,He,et,rt){const Ze=be.opaque,Pt=be.transmissive,Bt=be.transparent;w.setupLightsView(et),ge===!0&&it.setGlobalState(L.clippingPlanes,et),Pt.length>0&&$n(Ze,Pt,He,et),rt&&Fe.viewport(G.copy(rt)),Ze.length>0&&or(Ze,He,et),Pt.length>0&&or(Pt,He,et),Bt.length>0&&or(Bt,He,et),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function $n(be,He,et,rt){if((et.isScene===!0?et.overrideMaterial:null)!==null)return;const Pt=je.isWebGL2;we===null&&(we=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Pt?4:0})),L.getDrawingBufferSize(Re),Pt?we.setSize(Re.x,Re.y):we.setSize(floorPowerOfTwo(Re.x),floorPowerOfTwo(Re.y));const Bt=L.getRenderTarget();L.setRenderTarget(we),L.getClearColor(ae),te=L.getClearAlpha(),te<1&&L.setClearColor(16777215,.5),L.clear();const jt=L.toneMapping;L.toneMapping=NoToneMapping,or(be,et,rt),Je.updateMultisampleRenderTarget(we),Je.updateRenderTargetMipmap(we);let ft=!1;for(let Wt=0,Xt=He.length;Wt<Xt;Wt++){const qt=He[Wt],gn=qt.object,Xn=qt.geometry,vn=qt.material,wn=qt.group;if(vn.side===DoubleSide&&gn.layers.test(rt.layers)){const Ft=vn.side;vn.side=BackSide,vn.needsUpdate=!0,er(gn,et,rt,Xn,vn,wn),vn.side=Ft,vn.needsUpdate=!0,ft=!0}}ft===!0&&(Je.updateMultisampleRenderTarget(we),Je.updateRenderTargetMipmap(we)),L.setRenderTarget(Bt),L.setClearColor(ae,te),L.toneMapping=jt}function or(be,He,et){const rt=He.isScene===!0?He.overrideMaterial:null;for(let Ze=0,Pt=be.length;Ze<Pt;Ze++){const Bt=be[Ze],jt=Bt.object,ft=Bt.geometry,Wt=rt===null?Bt.material:rt,Xt=Bt.group;jt.layers.test(et.layers)&&er(jt,He,et,ft,Wt,Xt)}}function er(be,He,et,rt,Ze,Pt){be.onBeforeRender(L,He,et,rt,Ze,Pt),be.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),Ze.onBeforeRender(L,He,et,rt,be,Pt),Ze.transparent===!0&&Ze.side===DoubleSide&&Ze.forceSinglePass===!1?(Ze.side=BackSide,Ze.needsUpdate=!0,L.renderBufferDirect(et,He,rt,Ze,be,Pt),Ze.side=FrontSide,Ze.needsUpdate=!0,L.renderBufferDirect(et,He,rt,Ze,be,Pt),Ze.side=DoubleSide):L.renderBufferDirect(et,He,rt,Ze,be,Pt),be.onAfterRender(L,He,et,rt,Ze,Pt)}function sr(be,He,et){He.isScene!==!0&&(He=Ne);const rt=Ve.get(be),Ze=w.state.lights,Pt=w.state.shadowsArray,Bt=Ze.state.version,jt=Ue.getParameters(be,Ze.state,Pt,He,et),ft=Ue.getProgramCacheKey(jt);let Wt=rt.programs;rt.environment=be.isMeshStandardMaterial?He.environment:null,rt.fog=He.fog,rt.envMap=(be.isMeshStandardMaterial?pe:ot).get(be.envMap||rt.environment),rt.envMapRotation=rt.environment!==null&&be.envMap===null?He.environmentRotation:be.envMapRotation,Wt===void 0&&(be.addEventListener("dispose",ze),Wt=new Map,rt.programs=Wt);let Xt=Wt.get(ft);if(Xt!==void 0){if(rt.currentProgram===Xt&&rt.lightsStateVersion===Bt)return fi(be,jt),Xt}else jt.uniforms=Ue.getUniforms(be),be.onBuild(et,jt,L),be.onBeforeCompile(jt,L),Xt=Ue.acquireProgram(jt,ft),Wt.set(ft,Xt),rt.uniforms=jt.uniforms;const qt=rt.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(qt.clippingPlanes=it.uniform),fi(be,jt),rt.needsLights=bo(be),rt.lightsStateVersion=Bt,rt.needsLights&&(qt.ambientLightColor.value=Ze.state.ambient,qt.lightProbe.value=Ze.state.probe,qt.directionalLights.value=Ze.state.directional,qt.directionalLightShadows.value=Ze.state.directionalShadow,qt.spotLights.value=Ze.state.spot,qt.spotLightShadows.value=Ze.state.spotShadow,qt.rectAreaLights.value=Ze.state.rectArea,qt.ltc_1.value=Ze.state.rectAreaLTC1,qt.ltc_2.value=Ze.state.rectAreaLTC2,qt.pointLights.value=Ze.state.point,qt.pointLightShadows.value=Ze.state.pointShadow,qt.hemisphereLights.value=Ze.state.hemi,qt.directionalShadowMap.value=Ze.state.directionalShadowMap,qt.directionalShadowMatrix.value=Ze.state.directionalShadowMatrix,qt.spotShadowMap.value=Ze.state.spotShadowMap,qt.spotLightMatrix.value=Ze.state.spotLightMatrix,qt.spotLightMap.value=Ze.state.spotLightMap,qt.pointShadowMap.value=Ze.state.pointShadowMap,qt.pointShadowMatrix.value=Ze.state.pointShadowMatrix),rt.currentProgram=Xt,rt.uniformsList=null,Xt}function Wn(be){if(be.uniformsList===null){const He=be.currentProgram.getUniforms();be.uniformsList=WebGLUniforms.seqWithValue(He.seq,be.uniforms)}return be.uniformsList}function fi(be,He){const et=Ve.get(be);et.outputColorSpace=He.outputColorSpace,et.batching=He.batching,et.instancing=He.instancing,et.instancingColor=He.instancingColor,et.instancingMorph=He.instancingMorph,et.skinning=He.skinning,et.morphTargets=He.morphTargets,et.morphNormals=He.morphNormals,et.morphColors=He.morphColors,et.morphTargetsCount=He.morphTargetsCount,et.numClippingPlanes=He.numClippingPlanes,et.numIntersection=He.numClipIntersection,et.vertexAlphas=He.vertexAlphas,et.vertexTangents=He.vertexTangents,et.toneMapping=He.toneMapping}function xo(be,He,et,rt,Ze){He.isScene!==!0&&(He=Ne),Je.resetTextureUnits();const Pt=He.fog,Bt=rt.isMeshStandardMaterial?He.environment:null,jt=U===null?L.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:LinearSRGBColorSpace,ft=(rt.isMeshStandardMaterial?pe:ot).get(rt.envMap||Bt),Wt=rt.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,Xt=!!et.attributes.tangent&&(!!rt.normalMap||rt.anisotropy>0),qt=!!et.morphAttributes.position,gn=!!et.morphAttributes.normal,Xn=!!et.morphAttributes.color;let vn=NoToneMapping;rt.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(vn=L.toneMapping);const wn=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,Ft=wn!==void 0?wn.length:0,Ot=Ve.get(rt),Sn=w.state.lights;if(ge===!0&&(ve===!0||be!==Z)){const Gn=be===Z&&rt.id===q;it.setState(rt,be,Gn)}let tn=!1;rt.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==Sn.state.version||Ot.outputColorSpace!==jt||Ze.isBatchedMesh&&Ot.batching===!1||!Ze.isBatchedMesh&&Ot.batching===!0||Ze.isInstancedMesh&&Ot.instancing===!1||!Ze.isInstancedMesh&&Ot.instancing===!0||Ze.isSkinnedMesh&&Ot.skinning===!1||!Ze.isSkinnedMesh&&Ot.skinning===!0||Ze.isInstancedMesh&&Ot.instancingColor===!0&&Ze.instanceColor===null||Ze.isInstancedMesh&&Ot.instancingColor===!1&&Ze.instanceColor!==null||Ze.isInstancedMesh&&Ot.instancingMorph===!0&&Ze.morphTexture===null||Ze.isInstancedMesh&&Ot.instancingMorph===!1&&Ze.morphTexture!==null||Ot.envMap!==ft||rt.fog===!0&&Ot.fog!==Pt||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==it.numPlanes||Ot.numIntersection!==it.numIntersection)||Ot.vertexAlphas!==Wt||Ot.vertexTangents!==Xt||Ot.morphTargets!==qt||Ot.morphNormals!==gn||Ot.morphColors!==Xn||Ot.toneMapping!==vn||je.isWebGL2===!0&&Ot.morphTargetsCount!==Ft)&&(tn=!0):(tn=!0,Ot.__version=rt.version);let Mn=Ot.currentProgram;tn===!0&&(Mn=sr(rt,He,Ze));let Jr=!1,Vn=!1,Cn=!1;const pn=Mn.getUniforms(),vr=Ot.uniforms;if(Fe.useProgram(Mn.program)&&(Jr=!0,Vn=!0,Cn=!0),rt.id!==q&&(q=rt.id,Vn=!0),Jr||Z!==be){pn.setValue(he,"projectionMatrix",be.projectionMatrix),pn.setValue(he,"viewMatrix",be.matrixWorldInverse);const Gn=pn.map.cameraPosition;Gn!==void 0&&Gn.setValue(he,Ae.setFromMatrixPosition(be.matrixWorld)),je.logarithmicDepthBuffer&&pn.setValue(he,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(rt.isMeshPhongMaterial||rt.isMeshToonMaterial||rt.isMeshLambertMaterial||rt.isMeshBasicMaterial||rt.isMeshStandardMaterial||rt.isShaderMaterial)&&pn.setValue(he,"isOrthographic",be.isOrthographicCamera===!0),Z!==be&&(Z=be,Vn=!0,Cn=!0)}if(Ze.isSkinnedMesh){pn.setOptional(he,Ze,"bindMatrix"),pn.setOptional(he,Ze,"bindMatrixInverse");const Gn=Ze.skeleton;Gn&&(je.floatVertexTextures?(Gn.boneTexture===null&&Gn.computeBoneTexture(),pn.setValue(he,"boneTexture",Gn.boneTexture,Je)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Ze.isBatchedMesh&&(pn.setOptional(he,Ze,"batchingTexture"),pn.setValue(he,"batchingTexture",Ze._matricesTexture,Je));const Bi=et.morphAttributes;if((Bi.position!==void 0||Bi.normal!==void 0||Bi.color!==void 0&&je.isWebGL2===!0)&&dt.update(Ze,et,Mn),(Vn||Ot.receiveShadow!==Ze.receiveShadow)&&(Ot.receiveShadow=Ze.receiveShadow,pn.setValue(he,"receiveShadow",Ze.receiveShadow)),rt.isMeshGouraudMaterial&&rt.envMap!==null&&(vr.envMap.value=ft,vr.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),Vn&&(pn.setValue(he,"toneMappingExposure",L.toneMappingExposure),Ot.needsLights&&Zr(vr,Cn),Pt&&rt.fog===!0&&tt.refreshFogUniforms(vr,Pt),tt.refreshMaterialUniforms(vr,rt,ye,fe,we),WebGLUniforms.upload(he,Wn(Ot),vr,Je)),rt.isShaderMaterial&&rt.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(he,Wn(Ot),vr,Je),rt.uniformsNeedUpdate=!1),rt.isSpriteMaterial&&pn.setValue(he,"center",Ze.center),pn.setValue(he,"modelViewMatrix",Ze.modelViewMatrix),pn.setValue(he,"normalMatrix",Ze.normalMatrix),pn.setValue(he,"modelMatrix",Ze.matrixWorld),rt.isShaderMaterial||rt.isRawShaderMaterial){const Gn=rt.uniformsGroups;for(let tr=0,Ar=Gn.length;tr<Ar;tr++)if(je.isWebGL2){const Mi=Gn[tr];We.update(Mi,Mn),We.bind(Mi,Mn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Mn}function Zr(be,He){be.ambientLightColor.needsUpdate=He,be.lightProbe.needsUpdate=He,be.directionalLights.needsUpdate=He,be.directionalLightShadows.needsUpdate=He,be.pointLights.needsUpdate=He,be.pointLightShadows.needsUpdate=He,be.spotLights.needsUpdate=He,be.spotLightShadows.needsUpdate=He,be.rectAreaLights.needsUpdate=He,be.hemisphereLights.needsUpdate=He}function bo(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.getActiveCubeFace=function(){return $},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(be,He,et){Ve.get(be.texture).__webglTexture=He,Ve.get(be.depthTexture).__webglTexture=et;const rt=Ve.get(be);rt.__hasExternalTextures=!0,rt.__autoAllocateDepthBuffer=et===void 0,rt.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),rt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,He){const et=Ve.get(be);et.__webglFramebuffer=He,et.__useDefaultFramebuffer=He===void 0},this.setRenderTarget=function(be,He=0,et=0){U=be,$=He,B=et;let rt=!0,Ze=null,Pt=!1,Bt=!1;if(be){const ft=Ve.get(be);ft.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(he.FRAMEBUFFER,null),rt=!1):ft.__webglFramebuffer===void 0?Je.setupRenderTarget(be):ft.__hasExternalTextures&&Je.rebindTextures(be,Ve.get(be.texture).__webglTexture,Ve.get(be.depthTexture).__webglTexture);const Wt=be.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(Bt=!0);const Xt=Ve.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(Array.isArray(Xt[He])?Ze=Xt[He][et]:Ze=Xt[He],Pt=!0):je.isWebGL2&&be.samples>0&&Je.useMultisampledRTT(be)===!1?Ze=Ve.get(be).__webglMultisampledFramebuffer:Array.isArray(Xt)?Ze=Xt[et]:Ze=Xt,G.copy(be.viewport),H.copy(be.scissor),ne=be.scissorTest}else G.copy(se).multiplyScalar(ye).floor(),H.copy(Q).multiplyScalar(ye).floor(),ne=ue;if(Fe.bindFramebuffer(he.FRAMEBUFFER,Ze)&&je.drawBuffers&&rt&&Fe.drawBuffers(be,Ze),Fe.viewport(G),Fe.scissor(H),Fe.setScissorTest(ne),Pt){const ft=Ve.get(be.texture);he.framebufferTexture2D(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_CUBE_MAP_POSITIVE_X+He,ft.__webglTexture,et)}else if(Bt){const ft=Ve.get(be.texture),Wt=He||0;he.framebufferTextureLayer(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,ft.__webglTexture,et||0,Wt)}q=-1},this.readRenderTargetPixels=function(be,He,et,rt,Ze,Pt,Bt){if(!(be&&be.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=Ve.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Bt!==void 0&&(jt=jt[Bt]),jt){Fe.bindFramebuffer(he.FRAMEBUFFER,jt);try{const ft=be.texture,Wt=ft.format,Xt=ft.type;if(Wt!==RGBAFormat&&pt.convert(Wt)!==he.getParameter(he.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const qt=Xt===HalfFloatType&&(Me.has("EXT_color_buffer_half_float")||je.isWebGL2&&Me.has("EXT_color_buffer_float"));if(Xt!==UnsignedByteType&&pt.convert(Xt)!==he.getParameter(he.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Xt===FloatType&&(je.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!qt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}He>=0&&He<=be.width-rt&&et>=0&&et<=be.height-Ze&&he.readPixels(He,et,rt,Ze,pt.convert(Wt),pt.convert(Xt),Pt)}finally{const ft=U!==null?Ve.get(U).__webglFramebuffer:null;Fe.bindFramebuffer(he.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(be,He,et=0){const rt=Math.pow(2,-et),Ze=Math.floor(He.image.width*rt),Pt=Math.floor(He.image.height*rt);Je.setTexture2D(He,0),he.copyTexSubImage2D(he.TEXTURE_2D,et,0,0,be.x,be.y,Ze,Pt),Fe.unbindTexture()},this.copyTextureToTexture=function(be,He,et,rt=0){const Ze=He.image.width,Pt=He.image.height,Bt=pt.convert(et.format),jt=pt.convert(et.type);Je.setTexture2D(et,0),he.pixelStorei(he.UNPACK_FLIP_Y_WEBGL,et.flipY),he.pixelStorei(he.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),he.pixelStorei(he.UNPACK_ALIGNMENT,et.unpackAlignment),He.isDataTexture?he.texSubImage2D(he.TEXTURE_2D,rt,be.x,be.y,Ze,Pt,Bt,jt,He.image.data):He.isCompressedTexture?he.compressedTexSubImage2D(he.TEXTURE_2D,rt,be.x,be.y,He.mipmaps[0].width,He.mipmaps[0].height,Bt,He.mipmaps[0].data):he.texSubImage2D(he.TEXTURE_2D,rt,be.x,be.y,Bt,jt,He.image),rt===0&&et.generateMipmaps&&he.generateMipmap(he.TEXTURE_2D),Fe.unbindTexture()},this.copyTextureToTexture3D=function(be,He,et,rt,Ze=0){if(L.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Pt=Math.round(be.max.x-be.min.x),Bt=Math.round(be.max.y-be.min.y),jt=be.max.z-be.min.z+1,ft=pt.convert(rt.format),Wt=pt.convert(rt.type);let Xt;if(rt.isData3DTexture)Je.setTexture3D(rt,0),Xt=he.TEXTURE_3D;else if(rt.isDataArrayTexture||rt.isCompressedArrayTexture)Je.setTexture2DArray(rt,0),Xt=he.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}he.pixelStorei(he.UNPACK_FLIP_Y_WEBGL,rt.flipY),he.pixelStorei(he.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rt.premultiplyAlpha),he.pixelStorei(he.UNPACK_ALIGNMENT,rt.unpackAlignment);const qt=he.getParameter(he.UNPACK_ROW_LENGTH),gn=he.getParameter(he.UNPACK_IMAGE_HEIGHT),Xn=he.getParameter(he.UNPACK_SKIP_PIXELS),vn=he.getParameter(he.UNPACK_SKIP_ROWS),wn=he.getParameter(he.UNPACK_SKIP_IMAGES),Ft=et.isCompressedTexture?et.mipmaps[Ze]:et.image;he.pixelStorei(he.UNPACK_ROW_LENGTH,Ft.width),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,Ft.height),he.pixelStorei(he.UNPACK_SKIP_PIXELS,be.min.x),he.pixelStorei(he.UNPACK_SKIP_ROWS,be.min.y),he.pixelStorei(he.UNPACK_SKIP_IMAGES,be.min.z),et.isDataTexture||et.isData3DTexture?he.texSubImage3D(Xt,Ze,He.x,He.y,He.z,Pt,Bt,jt,ft,Wt,Ft.data):rt.isCompressedArrayTexture?he.compressedTexSubImage3D(Xt,Ze,He.x,He.y,He.z,Pt,Bt,jt,ft,Ft.data):he.texSubImage3D(Xt,Ze,He.x,He.y,He.z,Pt,Bt,jt,ft,Wt,Ft),he.pixelStorei(he.UNPACK_ROW_LENGTH,qt),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,gn),he.pixelStorei(he.UNPACK_SKIP_PIXELS,Xn),he.pixelStorei(he.UNPACK_SKIP_ROWS,vn),he.pixelStorei(he.UNPACK_SKIP_IMAGES,wn),Ze===0&&rt.generateMipmaps&&he.generateMipmap(Xt),Fe.unbindTexture()},this.initTexture=function(be){be.isCubeTexture?Je.setTextureCube(be,0):be.isData3DTexture?Je.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?Je.setTexture2DArray(be,0):Je.setTexture2D(be,0),Fe.unbindTexture()},this.resetState=function(){$=0,B=0,U=null,Fe.reset(),Se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===DisplayP3ColorSpace?"display-p3":"srgb",n.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(e),this.density=n}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,n=1,o=1e3){this.isFog=!0,this.name="",this.color=new Color$1(e),this.near=n,this.far=o}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class InterleavedBuffer{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return warnOnce("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,o){e*=this.stride,o*=n.stride;for(let l=0,u=this.stride;l<u;l++)this.array[e+l]=n.array[o+l];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(n,this.stride);return o.setUsage(this.usage),o}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(e,n,o,l=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=o,this.normalized=l}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,o=this.data.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.applyMatrix4(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.applyNormalMatrix(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.transformDirection(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(e,n){let o=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.data.array[e*this.data.stride+this.offset+n]=o,this}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=denormalize(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=denormalize(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=denormalize(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=denormalize(n,this.array)),n}setXY(e,n,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this}setXYZ(e,n,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this.data.array[e+3]=u,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return new BufferAttribute(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new InterleavedBuffer(n,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(o,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(o,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const o=this.material.rotation;let l,u;o!==0&&(u=Math.cos(o),l=Math.sin(o));const f=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,f,_worldScale,l,u),transformVertex(_vB.set(.5,-.5,0),_mvPosition,f,_worldScale,l,u),transformVertex(_vC.set(.5,.5,0),_mvPosition,f,_worldScale,l,u),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let h=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(h===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,f,_worldScale,l,u),_uvB.set(0,1),h=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),h===null))return;const d=e.ray.origin.distanceTo(_intersectPoint);d<e.near||d>e.far||n.push({distance:d,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(t,e,n,o,l,u){_alignedPosition.subVectors(t,n).addScalar(.5).multiply(o),l!==void 0?(_rotatedPosition.x=u*_alignedPosition.x-l*_alignedPosition.y,_rotatedPosition.y=l*_alignedPosition.x+u*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),t.copy(e),t.x+=_rotatedPosition.x,t.y+=_rotatedPosition.y,t.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let o=0,l=n.length;o<l;o++){const u=n[o];this.addLevel(u.object.clone(),u.distance,u.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,o=0){n=Math.abs(n);const l=this.levels;let u;for(u=0;u<l.length&&!(n<l[u].distance);u++);return l.splice(u,0,{distance:n,hysteresis:o,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let o,l;for(o=1,l=n.length;o<l;o++){let u=n[o].distance;if(n[o].object.visible&&(u-=u*n[o].hysteresis),e<u)break}return n[o-1].object}return null}raycast(e,n){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const l=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(l).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const o=_v1$2.distanceTo(_v2$1)/e.zoom;n[0].object.visible=!0;let l,u;for(l=1,u=n.length;l<u;l++){let f=n[l].distance;if(n[l].object.visible&&(f-=f*n[l].hysteresis),o>=f)n[l-1].object.visible=!1,n[l].object.visible=!0;else break}for(this._currentLevel=l-1;l<u;l++)n[l].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const o=this.levels;for(let l=0,u=o.length;l<u;l++){const f=o[l];n.object.levels.push({object:f.object.uuid,distance:f.distance,hysteresis:f.hysteresis})}return n}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const o=this.material,l=this.matrixWorld;o!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(l),e.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(l).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,n=this.geometry.attributes.skinWeight;for(let o=0,l=n.count;o<l;o++){e.fromBufferAttribute(n,o);const u=1/e.manhattanLength();u!==1/0?e.multiplyScalar(u):e.set(1,0,0,0),n.setXYZW(o,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const o=this.skeleton,l=this.geometry;_skinIndex.fromBufferAttribute(l.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(l.attributes.skinWeight,e),_basePosition.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let u=0;u<4;u++){const f=_skinWeight.getComponent(u);if(f!==0){const h=_skinIndex.getComponent(u);_matrix4.multiplyMatrices(o.bones[h].matrixWorld,o.boneInverses[h]),n.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),f)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,n=1,o=1,l,u,f,h,d,p=NearestFilter,m=NearestFilter,v,_){super(null,f,h,d,p,m,l,u,v,_),this.isDataTexture=!0,this.image={data:e,width:n,height:o},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(e=[],n=[]){this.uuid=generateUUID$1(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,l=this.bones.length;o<l;o++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const o=new Matrix4;this.bones[e]&&o.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&o.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const e=this.bones,n=this.boneInverses,o=this.boneMatrices,l=this.boneTexture;for(let u=0,f=e.length;u<f;u++){const h=e[u]?e[u].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(h,n[u]),_offsetMatrix.toArray(o,u*16)}l!==null&&(l.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const o=new DataTexture(n,e,e,RGBAFormat,FloatType);return o.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=o,this}getBoneByName(e){for(let n=0,o=this.bones.length;n<o;n++){const l=this.bones[n];if(l.name===e)return l}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let o=0,l=e.bones.length;o<l;o++){const u=e.bones[o];let f=n[u];f===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u),f=new Bone),this.bones.push(f),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[o]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,o=this.boneInverses;for(let l=0,u=n.length;l<u;l++){const f=n[l];e.bones.push(f.uuid);const h=o[l];e.boneInverses.push(h.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,n,o,l=1){super(e,n,o),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=l}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere;class InstancedMesh extends Mesh{constructor(e,n,o){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(o*16),16),this.instanceColor=null,this.morphTexture=null,this.count=o,this.boundingBox=null,this.boundingSphere=null;for(let l=0;l<o;l++)this.setMatrixAt(l,_identity)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_sphere$3.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const o=n.morphTargetInfluences,l=this.morphTexture.source.data.data,u=o.length+1,f=e*u+1;for(let h=0;h<o.length;h++)o[h]=l[f+h]}raycast(e,n){const o=this.matrixWorld,l=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(o),e.ray.intersectsSphere(_sphere$3)!==!1))for(let u=0;u<l;u++){this.getMatrixAt(u,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(o,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(e,_instanceIntersects);for(let f=0,h=_instanceIntersects.length;f<h;f++){const d=_instanceIntersects[f];d.instanceId=u,d.object=this,n.push(d)}_instanceIntersects.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const o=n.morphTargetInfluences,l=o.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(l*this.count),l,this.count,RedFormat,FloatType));const u=this.morphTexture.source.data.data;let f=0;for(let p=0;p<o.length;p++)f+=o[p];const h=this.geometry.morphTargetsRelative?1:1-f,d=l*e;u[d]=h,u.set(o,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function sortOpaque(t,e){return t.z-e.z}function sortTransparent(t,e){return e.z-t.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1});const u=o[this.index];l.push(u),this.index++,u.start=e.start,u.count=e.count,u.z=n}reset(){this.list.length=0,this.index=0}}const ID_ATTR_NAME="batchId",_matrix$1=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix=new Matrix4,_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(t,e,n=0){const o=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const l=t.count;for(let u=0;u<l;u++)for(let f=0;f<o;f++)e.setComponent(u+n,f,t.getComponent(u,f))}else e.array.set(t.array,n*o);e.needsUpdate=!0}class BatchedMesh extends Mesh{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,o=n*2,l){super(new BufferGeometry,l),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=o,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),o=new DataTexture(n,e,e,RGBAFormat,FloatType);this._matricesTexture=o}_initializeGeometry(e){const n=this.geometry,o=this._maxVertexCount,l=this._maxGeometryCount,u=this._maxIndexCount;if(this._geometryInitialized===!1){for(const h in e.attributes){const d=e.getAttribute(h),{array:p,itemSize:m,normalized:v}=d,_=new p.constructor(o*m),S=new d.constructor(_,m,v);S.setUsage(d.usage),n.setAttribute(h,S)}if(e.getIndex()!==null){const h=o>65536?new Uint32Array(u):new Uint16Array(u);n.setIndex(new BufferAttribute(h,1))}const f=l>65536?new Uint32Array(o):new Uint16Array(o);n.setAttribute(ID_ATTR_NAME,new BufferAttribute(f,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ID_ATTR_NAME))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ID_ATTR_NAME}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const o in n.attributes){if(o===ID_ATTR_NAME)continue;if(!e.hasAttribute(o))throw new Error(`BatchedMesh: Added geometry missing "${o}". All geometries must have consistent attributes.`);const l=e.getAttribute(o),u=n.getAttribute(o);if(l.itemSize!==u.itemSize||l.normalized!==u.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this._geometryCount,n=this.boundingBox,o=this._active;n.makeEmpty();for(let l=0;l<e;l++)o[l]!==!1&&(this.getMatrixAt(l,_matrix$1),this.getBoundingBoxAt(l,_box$1).applyMatrix4(_matrix$1),n.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this._geometryCount,n=this.boundingSphere,o=this._active;n.makeEmpty();for(let l=0;l<e;l++)o[l]!==!1&&(this.getMatrixAt(l,_matrix$1),this.getBoundingSphereAt(l,_sphere$2).applyMatrix4(_matrix$1),n.union(_sphere$2))}addGeometry(e,n=-1,o=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const l={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let u=null;const f=this._reservedRanges,h=this._drawRanges,d=this._bounds;this._geometryCount!==0&&(u=f[f.length-1]),n===-1?l.vertexCount=e.getAttribute("position").count:l.vertexCount=n,u===null?l.vertexStart=0:l.vertexStart=u.vertexStart+u.vertexCount;const p=e.getIndex(),m=p!==null;if(m&&(o===-1?l.indexCount=p.count:l.indexCount=o,u===null?l.indexStart=0:l.indexStart=u.indexStart+u.indexCount),l.indexStart!==-1&&l.indexStart+l.indexCount>this._maxIndexCount||l.vertexStart+l.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const v=this._visibility,_=this._active,S=this._matricesTexture,M=this._matricesTexture.image.data;v.push(!0),_.push(!0);const A=this._geometryCount;this._geometryCount++,_identityMatrix.toArray(M,A*16),S.needsUpdate=!0,f.push(l),h.push({start:m?l.indexStart:l.vertexStart,count:-1}),d.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere});const w=this.geometry.getAttribute(ID_ATTR_NAME);for(let C=0;C<l.vertexCount;C++)w.setX(l.vertexStart+C,A);return w.needsUpdate=!0,this.setGeometryAt(A,e),A}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const o=this.geometry,l=o.getIndex()!==null,u=o.getIndex(),f=n.getIndex(),h=this._reservedRanges[e];if(l&&f.count>h.indexCount||n.attributes.position.count>h.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const d=h.vertexStart,p=h.vertexCount;for(const S in o.attributes){if(S===ID_ATTR_NAME)continue;const M=n.getAttribute(S),A=o.getAttribute(S);copyAttributeData(M,A,d);const w=M.itemSize;for(let C=M.count,O=p;C<O;C++){const L=d+C;for(let F=0;F<w;F++)A.setComponent(L,F,0)}A.needsUpdate=!0}if(l){const S=h.indexStart;for(let M=0;M<f.count;M++)u.setX(S+M,d+f.getX(M));for(let M=f.count,A=h.indexCount;M<A;M++)u.setX(S+M,d);u.needsUpdate=!0}const m=this._bounds[e];n.boundingBox!==null?(m.box.copy(n.boundingBox),m.boxInitialized=!0):m.boxInitialized=!1,n.boundingSphere!==null?(m.sphere.copy(n.boundingSphere),m.sphereInitialized=!0):m.sphereInitialized=!1;const v=this._drawRanges[e],_=n.getAttribute("position");return v.count=l?f.count:_.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const l=this._bounds[e],u=l.box,f=this.geometry;if(l.boxInitialized===!1){u.makeEmpty();const h=f.index,d=f.attributes.position,p=this._drawRanges[e];for(let m=p.start,v=p.start+p.count;m<v;m++){let _=m;h&&(_=h.getX(_)),u.expandByPoint(_vector$5.fromBufferAttribute(d,_))}l.boxInitialized=!0}return n.copy(u),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const l=this._bounds[e],u=l.sphere,f=this.geometry;if(l.sphereInitialized===!1){u.makeEmpty(),this.getBoundingBoxAt(e,_box$1),_box$1.getCenter(u.center);const h=f.index,d=f.attributes.position,p=this._drawRanges[e];let m=0;for(let v=p.start,_=p.start+p.count;v<_;v++){let S=v;h&&(S=h.getX(S)),_vector$5.fromBufferAttribute(d,S),m=Math.max(m,u.center.distanceToSquared(_vector$5))}u.radius=Math.sqrt(m),l.sphereInitialized=!0}return n.copy(u),n}setMatrixAt(e,n){const o=this._active,l=this._matricesTexture,u=this._matricesTexture.image.data,f=this._geometryCount;return e>=f||o[e]===!1?this:(n.toArray(u,e*16),l.needsUpdate=!0,this)}getMatrixAt(e,n){const o=this._active,l=this._matricesTexture.image.data,u=this._geometryCount;return e>=u||o[e]===!1?null:n.fromArray(l,e*16)}setVisibleAt(e,n){const o=this._visibility,l=this._active,u=this._geometryCount;return e>=u||l[e]===!1||o[e]===n?this:(o[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,o=this._active,l=this._geometryCount;return e>=l||o[e]===!1?!1:n[e]}raycast(e,n){const o=this._visibility,l=this._active,u=this._drawRanges,f=this._geometryCount,h=this.matrixWorld,d=this.geometry;_mesh.material=this.material,_mesh.geometry.index=d.index,_mesh.geometry.attributes=d.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let p=0;p<f;p++){if(!o[p]||!l[p])continue;const m=u[p];_mesh.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(p,_mesh.matrixWorld).premultiply(h),this.getBoundingBoxAt(p,_mesh.geometry.boundingBox),this.getBoundingSphereAt(p,_mesh.geometry.boundingSphere),_mesh.raycast(e,_batchIntersects);for(let v=0,_=_batchIntersects.length;v<_;v++){const S=_batchIntersects[v];S.object=this,S.batchId=p,n.push(S)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,o,l,u){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const f=l.getIndex(),h=f===null?1:f.array.BYTES_PER_ELEMENT,d=this._active,p=this._visibility,m=this._multiDrawStarts,v=this._multiDrawCounts,_=this._drawRanges,S=this.perObjectFrustumCulled;S&&(_projScreenMatrix$2.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,e.coordinateSystem));let M=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(o.matrixWorld).applyMatrix4(_invMatrixWorld);for(let C=0,O=p.length;C<O;C++)if(p[C]&&d[C]){this.getMatrixAt(C,_matrix$1),this.getBoundingSphereAt(C,_sphere$2).applyMatrix4(_matrix$1);let L=!1;if(S&&(L=!_frustum.intersectsSphere(_sphere$2)),!L){const F=_vector$5.distanceTo(_sphere$2.center);_renderList.push(_[C],F)}}const A=_renderList.list,w=this.customSort;w===null?A.sort(u.transparent?sortTransparent:sortOpaque):w.call(this,A,o);for(let C=0,O=A.length;C<O;C++){const L=A[C];m[M]=L.start*h,v[M]=L.count,M++}_renderList.reset()}else for(let A=0,w=p.length;A<w;A++)if(p[A]&&d[A]){let C=!1;if(S&&(this.getMatrixAt(A,_matrix$1),this.getBoundingSphereAt(A,_sphere$2).applyMatrix4(_matrix$1),C=!_frustum.intersectsSphere(_sphere$2)),!C){const O=_[A];m[M]=O.start*h,v[M]=O.count,M++}}this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,n,o,l,u,f){this.onBeforeRender(e,null,l,u,f)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(e=new BufferGeometry,n=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[0];for(let l=1,u=n.count;l<u;l++)_start$1.fromBufferAttribute(n,l-1),_end$1.fromBufferAttribute(n,l),o[l]=o[l-1],o[l]+=_start$1.distanceTo(_end$1);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Line.threshold,f=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$1.copy(o.boundingSphere),_sphere$1.applyMatrix4(l),_sphere$1.radius+=u,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(l).invert(),_ray$1$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new Vector3,m=new Vector3,v=new Vector3,_=new Vector3,S=this.isLineSegments?2:1,M=o.index,w=o.attributes.position;if(M!==null){const C=Math.max(0,f.start),O=Math.min(M.count,f.start+f.count);for(let L=C,F=O-1;L<F;L+=S){const $=M.getX(L),B=M.getX(L+1);if(p.fromBufferAttribute(w,$),m.fromBufferAttribute(w,B),_ray$1$1.distanceSqToSegment(p,m,_,v)>d)continue;_.applyMatrix4(this.matrixWorld);const q=e.ray.origin.distanceTo(_);q<e.near||q>e.far||n.push({distance:q,point:v.clone().applyMatrix4(this.matrixWorld),index:L,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,f.start),O=Math.min(w.count,f.start+f.count);for(let L=C,F=O-1;L<F;L+=S){if(p.fromBufferAttribute(w,L),m.fromBufferAttribute(w,L+1),_ray$1$1.distanceSqToSegment(p,m,_,v)>d)continue;_.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(_);B<e.near||B>e.far||n.push({distance:B,point:v.clone().applyMatrix4(this.matrixWorld),index:L,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=l.length;u<f;u++){const h=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=u}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[];for(let l=0,u=n.count;l<u;l+=2)_start.fromBufferAttribute(n,l),_end.fromBufferAttribute(n,l+1),o[l]=l===0?0:o[l-1],o[l+1]=o[l]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,n=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Points.threshold,f=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere.copy(o.boundingSphere),_sphere.applyMatrix4(l),_sphere.radius+=u,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(l).invert(),_ray$4.copy(e.ray).applyMatrix4(_inverseMatrix);const h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=o.index,v=o.attributes.position;if(p!==null){const _=Math.max(0,f.start),S=Math.min(p.count,f.start+f.count);for(let M=_,A=S;M<A;M++){const w=p.getX(M);_position$2.fromBufferAttribute(v,w),testPoint(_position$2,w,d,l,e,n,this)}}else{const _=Math.max(0,f.start),S=Math.min(v.count,f.start+f.count);for(let M=_,A=S;M<A;M++)_position$2.fromBufferAttribute(v,M),testPoint(_position$2,M,d,l,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=l.length;u<f;u++){const h=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=u}}}}}function testPoint(t,e,n,o,l,u,f){const h=_ray$4.distanceSqToPoint(t);if(h<n){const d=new Vector3;_ray$4.closestPointToPoint(t,d),d.applyMatrix4(o);const p=l.ray.origin.distanceTo(d);if(p<l.near||p>l.far)return;u.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:e,face:null,object:f})}}class VideoTexture extends Texture{constructor(e,n,o,l,u,f,h,d,p){super(e,n,o,l,u,f,h,d,p),this.isVideoTexture=!0,this.minFilter=f!==void 0?f:LinearFilter,this.magFilter=u!==void 0?u:LinearFilter,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,n,o,l,u,f,h,d,p,m,v,_){super(null,f,h,d,p,m,l,u,v,_),this.isCompressedTexture=!0,this.image={width:n,height:o},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,n,o,l,u,f){super(e,n,o,u,f),this.isCompressedArrayTexture=!0,this.image.depth=l,this.wrapR=ClampToEdgeWrapping}}class CompressedCubeTexture extends CompressedTexture{constructor(e,n,o){super(void 0,e[0].width,e[0].height,n,o,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CanvasTexture extends Texture{constructor(e,n,o,l,u,f,h,d,p){super(e,n,o,l,u,f,h,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Curve$1=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const o=this.getUtoTmapping(e);return this.getPoint(o,n)}getPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return n}getSpacedPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPointAt(o/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let o,l=this.getPoint(0),u=0;n.push(0);for(let f=1;f<=e;f++)o=this.getPoint(f/e),u+=o.distanceTo(l),n.push(u),l=o;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const o=this.getLengths();let l=0;const u=o.length;let f;n?f=n:f=e*o[u-1];let h=0,d=u-1,p;for(;h<=d;)if(l=Math.floor(h+(d-h)/2),p=o[l]-f,p<0)h=l+1;else if(p>0)d=l-1;else{d=l;break}if(l=d,o[l]===f)return l/(u-1);const m=o[l],_=o[l+1]-m,S=(f-m)/_;return(l+S)/(u-1)}getTangent(e,n){let l=e-1e-4,u=e+1e-4;l<0&&(l=0),u>1&&(u=1);const f=this.getPoint(l),h=this.getPoint(u),d=n||(f.isVector2?new Vector2:new Vector3);return d.copy(h).sub(f).normalize(),d}getTangentAt(e,n){const o=this.getUtoTmapping(e);return this.getTangent(o,n)}computeFrenetFrames(e,n){const o=new Vector3,l=[],u=[],f=[],h=new Vector3,d=new Matrix4;for(let S=0;S<=e;S++){const M=S/e;l[S]=this.getTangentAt(M,new Vector3)}u[0]=new Vector3,f[0]=new Vector3;let p=Number.MAX_VALUE;const m=Math.abs(l[0].x),v=Math.abs(l[0].y),_=Math.abs(l[0].z);m<=p&&(p=m,o.set(1,0,0)),v<=p&&(p=v,o.set(0,1,0)),_<=p&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),u[0].crossVectors(l[0],h),f[0].crossVectors(l[0],u[0]);for(let S=1;S<=e;S++){if(u[S]=u[S-1].clone(),f[S]=f[S-1].clone(),h.crossVectors(l[S-1],l[S]),h.length()>Number.EPSILON){h.normalize();const M=Math.acos(clamp(l[S-1].dot(l[S]),-1,1));u[S].applyMatrix4(d.makeRotationAxis(h,M))}f[S].crossVectors(l[S],u[S])}if(n===!0){let S=Math.acos(clamp(u[0].dot(u[e]),-1,1));S/=e,l[0].dot(h.crossVectors(u[0],u[e]))>0&&(S=-S);for(let M=1;M<=e;M++)u[M].applyMatrix4(d.makeRotationAxis(l[M],S*M)),f[M].crossVectors(l[M],u[M])}return{tangents:l,normals:u,binormals:f}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class EllipseCurve extends Curve$1{constructor(e=0,n=0,o=1,l=1,u=0,f=Math.PI*2,h=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=o,this.yRadius=l,this.aStartAngle=u,this.aEndAngle=f,this.aClockwise=h,this.aRotation=d}getPoint(e,n=new Vector2){const o=n,l=Math.PI*2;let u=this.aEndAngle-this.aStartAngle;const f=Math.abs(u)<Number.EPSILON;for(;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(f?u=0:u=l),this.aClockwise===!0&&!f&&(u===l?u=-l:u=u-l);const h=this.aStartAngle+e*u;let d=this.aX+this.xRadius*Math.cos(h),p=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=d-this.aX,S=p-this.aY;d=_*m-S*v+this.aX,p=_*v+S*m+this.aY}return o.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,n,o,l,u,f){super(e,n,o,o,l,u,f),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let t=0,e=0,n=0,o=0;function l(u,f,h,d){t=u,e=h,n=-3*u+3*f-2*h-d,o=2*u-2*f+h+d}return{initCatmullRom:function(u,f,h,d,p){l(f,h,p*(h-u),p*(d-f))},initNonuniformCatmullRom:function(u,f,h,d,p,m,v){let _=(f-u)/p-(h-u)/(p+m)+(h-f)/m,S=(h-f)/m-(d-f)/(m+v)+(d-h)/v;_*=m,S*=m,l(f,h,_,S)},calc:function(u){const f=u*u,h=f*u;return t+e*u+n*f+o*h}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve$1{constructor(e=[],n=!1,o="centripetal",l=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=o,this.tension=l}getPoint(e,n=new Vector3){const o=n,l=this.points,u=l.length,f=(u-(this.closed?0:1))*e;let h=Math.floor(f),d=f-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:d===0&&h===u-1&&(h=u-2,d=1);let p,m;this.closed||h>0?p=l[(h-1)%u]:(tmp.subVectors(l[0],l[1]).add(l[0]),p=tmp);const v=l[h%u],_=l[(h+1)%u];if(this.closed||h+2<u?m=l[(h+2)%u]:(tmp.subVectors(l[u-1],l[u-2]).add(l[u-1]),m=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(v),S),A=Math.pow(v.distanceToSquared(_),S),w=Math.pow(_.distanceToSquared(m),S);A<1e-4&&(A=1),M<1e-4&&(M=A),w<1e-4&&(w=A),px.initNonuniformCatmullRom(p.x,v.x,_.x,m.x,M,A,w),py.initNonuniformCatmullRom(p.y,v.y,_.y,m.y,M,A,w),pz.initNonuniformCatmullRom(p.z,v.z,_.z,m.z,M,A,w)}else this.curveType==="catmullrom"&&(px.initCatmullRom(p.x,v.x,_.x,m.x,this.tension),py.initCatmullRom(p.y,v.y,_.y,m.y,this.tension),pz.initCatmullRom(p.z,v.z,_.z,m.z,this.tension));return o.set(px.calc(d),py.calc(d),pz.calc(d)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector3().fromArray(l))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(t,e,n,o,l){const u=(o-e)*.5,f=(l-n)*.5,h=t*t,d=t*h;return(2*n-2*o+u+f)*d+(-3*n+3*o-2*u-f)*h+u*t+n}function QuadraticBezierP0(t,e){const n=1-t;return n*n*e}function QuadraticBezierP1(t,e){return 2*(1-t)*t*e}function QuadraticBezierP2(t,e){return t*t*e}function QuadraticBezier(t,e,n,o){return QuadraticBezierP0(t,e)+QuadraticBezierP1(t,n)+QuadraticBezierP2(t,o)}function CubicBezierP0(t,e){const n=1-t;return n*n*n*e}function CubicBezierP1(t,e){const n=1-t;return 3*n*n*t*e}function CubicBezierP2(t,e){return 3*(1-t)*t*t*e}function CubicBezierP3(t,e){return t*t*t*e}function CubicBezier(t,e,n,o,l){return CubicBezierP0(t,e)+CubicBezierP1(t,n)+CubicBezierP2(t,o)+CubicBezierP3(t,l)}class CubicBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2,l=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,f=this.v2,h=this.v3;return o.set(CubicBezier(e,l.x,u.x,f.x,h.x),CubicBezier(e,l.y,u.y,f.y,h.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3,l=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,f=this.v2,h=this.v3;return o.set(CubicBezier(e,l.x,u.x,f.x,h.x),CubicBezier(e,l.y,u.y,f.y,h.y),CubicBezier(e,l.z,u.z,f.z,h.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Vector2){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector2){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Vector3){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector3){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,f=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,f.x),QuadraticBezier(e,l.y,u.y,f.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,f=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,f.x),QuadraticBezier(e,l.y,u.y,f.y),QuadraticBezier(e,l.z,u.z,f.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve$1{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Vector2){const o=n,l=this.points,u=(l.length-1)*e,f=Math.floor(u),h=u-f,d=l[f===0?f:f-1],p=l[f],m=l[f>l.length-2?l.length-1:f+1],v=l[f>l.length-3?l.length-1:f+2];return o.set(CatmullRom(h,d.x,p.x,m.x,v.x),CatmullRom(h,d.y,p.y,m.y,v.y)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector2().fromArray(l))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve$1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const o=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[o](n,e))}return this}getPoint(e,n){const o=e*this.getLength(),l=this.getCurveLengths();let u=0;for(;u<l.length;){if(l[u]>=o){const f=l[u]-o,h=this.curves[u],d=h.getLength(),p=d===0?0:1-f/d;return h.getPointAt(p,n)}u++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let o=0,l=this.curves.length;o<l;o++)n+=this.curves[o].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let o;for(let l=0,u=this.curves;l<u.length;l++){const f=u[l],h=f.isEllipseCurve?e*2:f.isLineCurve||f.isLineCurve3?1:f.isSplineCurve?e*f.points.length:e,d=f.getPoints(h);for(let p=0;p<d.length;p++){const m=d[p];o&&o.equals(m)||(n.push(m),o=m)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(l.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,o=this.curves.length;n<o;n++){const l=this.curves[n];e.curves.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(new Curves[l.type]().fromJSON(l))}return this}}let Path$1=class extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,o=e.length;n<o;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const o=new LineCurve(this.currentPoint.clone(),new Vector2(e,n));return this.curves.push(o),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,o,l){const u=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l));return this.curves.push(u),this.currentPoint.set(o,l),this}bezierCurveTo(e,n,o,l,u,f){const h=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l),new Vector2(u,f));return this.curves.push(h),this.currentPoint.set(u,f),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),o=new SplineCurve(n);return this.curves.push(o),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,o,l,u,f){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+h,n+d,o,l,u,f),this}absarc(e,n,o,l,u,f){return this.absellipse(e,n,o,o,l,u,f),this}ellipse(e,n,o,l,u,f,h,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,n+m,o,l,u,f,h,d),this}absellipse(e,n,o,l,u,f,h,d){const p=new EllipseCurve(e,n,o,l,u,f,h,d);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],n=12,o=0,l=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:o,phiLength:l},n=Math.floor(n),l=clamp(l,0,Math.PI*2);const u=[],f=[],h=[],d=[],p=[],m=1/n,v=new Vector3,_=new Vector2,S=new Vector3,M=new Vector3,A=new Vector3;let w=0,C=0;for(let O=0;O<=e.length-1;O++)switch(O){case 0:w=e[O+1].x-e[O].x,C=e[O+1].y-e[O].y,S.x=C*1,S.y=-w,S.z=C*0,A.copy(S),S.normalize(),d.push(S.x,S.y,S.z);break;case e.length-1:d.push(A.x,A.y,A.z);break;default:w=e[O+1].x-e[O].x,C=e[O+1].y-e[O].y,S.x=C*1,S.y=-w,S.z=C*0,M.copy(S),S.x+=A.x,S.y+=A.y,S.z+=A.z,S.normalize(),d.push(S.x,S.y,S.z),A.copy(M)}for(let O=0;O<=n;O++){const L=o+O*m*l,F=Math.sin(L),$=Math.cos(L);for(let B=0;B<=e.length-1;B++){v.x=e[B].x*F,v.y=e[B].y,v.z=e[B].x*$,f.push(v.x,v.y,v.z),_.x=O/n,_.y=B/(e.length-1),h.push(_.x,_.y);const U=d[3*B+0]*F,q=d[3*B+1],Z=d[3*B+0]*$;p.push(U,q,Z)}}for(let O=0;O<n;O++)for(let L=0;L<e.length-1;L++){const F=L+O*e.length,$=F,B=F+e.length,U=F+e.length+1,q=F+1;u.push($,B,q),u.push(U,q,B)}this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(f,3)),this.setAttribute("uv",new Float32BufferAttribute(h,2)),this.setAttribute("normal",new Float32BufferAttribute(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(e=1,n=1,o=4,l=8){const u=new Path$1;u.absarc(0,-n/2,e,Math.PI*1.5,0),u.absarc(0,n/2,e,0,Math.PI*.5),super(u.getPoints(o),l),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:o,radialSegments:l}}static fromJSON(e){return new CapsuleGeometry(e.radius,e.length,e.capSegments,e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,n=32,o=0,l=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:o,thetaLength:l},n=Math.max(3,n);const u=[],f=[],h=[],d=[],p=new Vector3,m=new Vector2;f.push(0,0,0),h.push(0,0,1),d.push(.5,.5);for(let v=0,_=3;v<=n;v++,_+=3){const S=o+v/n*l;p.x=e*Math.cos(S),p.y=e*Math.sin(S),f.push(p.x,p.y,p.z),h.push(0,0,1),m.x=(f[_]/e+1)/2,m.y=(f[_+1]/e+1)/2,d.push(m.x,m.y)}for(let v=1;v<=n;v++)u.push(v,v+1,0);this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(f,3)),this.setAttribute("normal",new Float32BufferAttribute(h,3)),this.setAttribute("uv",new Float32BufferAttribute(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=32,u=1,f=!1,h=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:o,radialSegments:l,heightSegments:u,openEnded:f,thetaStart:h,thetaLength:d};const p=this;l=Math.floor(l),u=Math.floor(u);const m=[],v=[],_=[],S=[];let M=0;const A=[],w=o/2;let C=0;O(),f===!1&&(e>0&&L(!0),n>0&&L(!1)),this.setIndex(m),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function O(){const F=new Vector3,$=new Vector3;let B=0;const U=(n-e)/o;for(let q=0;q<=u;q++){const Z=[],G=q/u,H=G*(n-e)+e;for(let ne=0;ne<=l;ne++){const ae=ne/l,te=ae*d+h,ce=Math.sin(te),fe=Math.cos(te);$.x=H*ce,$.y=-G*o+w,$.z=H*fe,v.push($.x,$.y,$.z),F.set(ce,U,fe).normalize(),_.push(F.x,F.y,F.z),S.push(ae,1-G),Z.push(M++)}A.push(Z)}for(let q=0;q<l;q++)for(let Z=0;Z<u;Z++){const G=A[Z][q],H=A[Z+1][q],ne=A[Z+1][q+1],ae=A[Z][q+1];m.push(G,H,ae),m.push(H,ne,ae),B+=6}p.addGroup(C,B,0),C+=B}function L(F){const $=M,B=new Vector2,U=new Vector3;let q=0;const Z=F===!0?e:n,G=F===!0?1:-1;for(let ne=1;ne<=l;ne++)v.push(0,w*G,0),_.push(0,G,0),S.push(.5,.5),M++;const H=M;for(let ne=0;ne<=l;ne++){const te=ne/l*d+h,ce=Math.cos(te),fe=Math.sin(te);U.x=Z*fe,U.y=w*G,U.z=Z*ce,v.push(U.x,U.y,U.z),_.push(0,G,0),B.x=ce*.5+.5,B.y=fe*.5*G+.5,S.push(B.x,B.y),M++}for(let ne=0;ne<l;ne++){const ae=$+ne,te=H+ne;F===!0?m.push(te,te+1,ae):m.push(te+1,te,ae),q+=3}p.addGroup(C,q,F===!0?1:2),C+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,n=1,o=32,l=1,u=!1,f=0,h=Math.PI*2){super(0,e,n,o,l,u,f,h),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:o,heightSegments:l,openEnded:u,thetaStart:f,thetaLength:h}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],n=[],o=1,l=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:o,detail:l};const u=[],f=[];h(l),p(o),m(),this.setAttribute("position",new Float32BufferAttribute(u,3)),this.setAttribute("normal",new Float32BufferAttribute(u.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(f,2)),l===0?this.computeVertexNormals():this.normalizeNormals();function h(O){const L=new Vector3,F=new Vector3,$=new Vector3;for(let B=0;B<n.length;B+=3)S(n[B+0],L),S(n[B+1],F),S(n[B+2],$),d(L,F,$,O)}function d(O,L,F,$){const B=$+1,U=[];for(let q=0;q<=B;q++){U[q]=[];const Z=O.clone().lerp(F,q/B),G=L.clone().lerp(F,q/B),H=B-q;for(let ne=0;ne<=H;ne++)ne===0&&q===B?U[q][ne]=Z:U[q][ne]=Z.clone().lerp(G,ne/H)}for(let q=0;q<B;q++)for(let Z=0;Z<2*(B-q)-1;Z++){const G=Math.floor(Z/2);Z%2===0?(_(U[q][G+1]),_(U[q+1][G]),_(U[q][G])):(_(U[q][G+1]),_(U[q+1][G+1]),_(U[q+1][G]))}}function p(O){const L=new Vector3;for(let F=0;F<u.length;F+=3)L.x=u[F+0],L.y=u[F+1],L.z=u[F+2],L.normalize().multiplyScalar(O),u[F+0]=L.x,u[F+1]=L.y,u[F+2]=L.z}function m(){const O=new Vector3;for(let L=0;L<u.length;L+=3){O.x=u[L+0],O.y=u[L+1],O.z=u[L+2];const F=w(O)/2/Math.PI+.5,$=C(O)/Math.PI+.5;f.push(F,1-$)}M(),v()}function v(){for(let O=0;O<f.length;O+=6){const L=f[O+0],F=f[O+2],$=f[O+4],B=Math.max(L,F,$),U=Math.min(L,F,$);B>.9&&U<.1&&(L<.2&&(f[O+0]+=1),F<.2&&(f[O+2]+=1),$<.2&&(f[O+4]+=1))}}function _(O){u.push(O.x,O.y,O.z)}function S(O,L){const F=O*3;L.x=e[F+0],L.y=e[F+1],L.z=e[F+2]}function M(){const O=new Vector3,L=new Vector3,F=new Vector3,$=new Vector3,B=new Vector2,U=new Vector2,q=new Vector2;for(let Z=0,G=0;Z<u.length;Z+=9,G+=6){O.set(u[Z+0],u[Z+1],u[Z+2]),L.set(u[Z+3],u[Z+4],u[Z+5]),F.set(u[Z+6],u[Z+7],u[Z+8]),B.set(f[G+0],f[G+1]),U.set(f[G+2],f[G+3]),q.set(f[G+4],f[G+5]),$.copy(O).add(L).add(F).divideScalar(3);const H=w($);A(B,G+0,O,H),A(U,G+2,L,H),A(q,G+4,F,H)}}function A(O,L,F,$){$<0&&O.x===1&&(f[L]=O.x-1),F.x===0&&F.z===0&&(f[L]=$/2/Math.PI+.5)}function w(O){return Math.atan2(O.z,-O.x)}function C(O){return Math.atan2(-O.y,Math.sqrt(O.x*O.x+O.z*O.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=1/o,u=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-o,0,-l,o,0,l,-o,0,l,o,-l,-o,0,-l,o,0,l,-o,0,l,o,0,-o,0,-l,o,0,-l,-o,0,l,o,0,l],f=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(u,f,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const l=Math.pow(10,4),u=Math.cos(DEG2RAD*n),f=e.getIndex(),h=e.getAttribute("position"),d=f?f.count:h.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),_={},S=[];for(let M=0;M<d;M+=3){f?(p[0]=f.getX(M),p[1]=f.getX(M+1),p[2]=f.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:A,b:w,c:C}=_triangle;if(A.fromBufferAttribute(h,p[0]),w.fromBufferAttribute(h,p[1]),C.fromBufferAttribute(h,p[2]),_triangle.getNormal(_normal),v[0]=`${Math.round(A.x*l)},${Math.round(A.y*l)},${Math.round(A.z*l)}`,v[1]=`${Math.round(w.x*l)},${Math.round(w.y*l)},${Math.round(w.z*l)}`,v[2]=`${Math.round(C.x*l)},${Math.round(C.y*l)},${Math.round(C.z*l)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let O=0;O<3;O++){const L=(O+1)%3,F=v[O],$=v[L],B=_triangle[m[O]],U=_triangle[m[L]],q=`${F}_${$}`,Z=`${$}_${F}`;Z in _&&_[Z]?(_normal.dot(_[Z].normal)<=u&&(S.push(B.x,B.y,B.z),S.push(U.x,U.y,U.z)),_[Z]=null):q in _||(_[q]={index0:p[O],index1:p[L],normal:_normal.clone()})}}for(const M in _)if(_[M]){const{index0:A,index1:w}=_[M];_v0.fromBufferAttribute(h,A),_v1$1.fromBufferAttribute(h,w),S.push(_v0.x,_v0.y,_v0.z),S.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Shape$1=class extends Path$1{constructor(e){super(e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let o=0,l=this.holes.length;o<l;o++)n[o]=this.holes[o].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,o=this.holes.length;n<o;n++){const l=this.holes[n];e.holes.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(new Path$1().fromJSON(l))}return this}};const Earcut={triangulate:function(t,e,n=2){const o=e&&e.length,l=o?e[0]*n:t.length;let u=linkedList(t,0,l,n,!0);const f=[];if(!u||u.next===u.prev)return f;let h,d,p,m,v,_,S;if(o&&(u=eliminateHoles(t,e,u,n)),t.length>80*n){h=p=t[0],d=m=t[1];for(let M=n;M<l;M+=n)v=t[M],_=t[M+1],v<h&&(h=v),_<d&&(d=_),v>p&&(p=v),_>m&&(m=_);S=Math.max(p-h,m-d),S=S!==0?32767/S:0}return earcutLinked(u,f,n,h,d,S,0),f}};function linkedList(t,e,n,o,l){let u,f;if(l===signedArea(t,e,n,o)>0)for(u=e;u<n;u+=o)f=insertNode(u,t[u],t[u+1],f);else for(u=n-o;u>=e;u-=o)f=insertNode(u,t[u],t[u+1],f);return f&&equals(f,f.next)&&(removeNode(f),f=f.next),f}function filterPoints(t,e){if(!t)return t;e||(e=t);let n=t,o;do if(o=!1,!n.steiner&&(equals(n,n.next)||area(n.prev,n,n.next)===0)){if(removeNode(n),n=e=n.prev,n===n.next)break;o=!0}else n=n.next;while(o||n!==e);return e}function earcutLinked(t,e,n,o,l,u,f){if(!t)return;!f&&u&&indexCurve(t,o,l,u);let h=t,d,p;for(;t.prev!==t.next;){if(d=t.prev,p=t.next,u?isEarHashed(t,o,l,u):isEar(t)){e.push(d.i/n|0),e.push(t.i/n|0),e.push(p.i/n|0),removeNode(t),t=p.next,h=p.next;continue}if(t=p,t===h){f?f===1?(t=cureLocalIntersections(filterPoints(t),e,n),earcutLinked(t,e,n,o,l,u,2)):f===2&&splitEarcut(t,e,n,o,l,u):earcutLinked(filterPoints(t),e,n,o,l,u,1);break}}}function isEar(t){const e=t.prev,n=t,o=t.next;if(area(e,n,o)>=0)return!1;const l=e.x,u=n.x,f=o.x,h=e.y,d=n.y,p=o.y,m=l<u?l<f?l:f:u<f?u:f,v=h<d?h<p?h:p:d<p?d:p,_=l>u?l>f?l:f:u>f?u:f,S=h>d?h>p?h:p:d>p?d:p;let M=o.next;for(;M!==e;){if(M.x>=m&&M.x<=_&&M.y>=v&&M.y<=S&&pointInTriangle(l,h,u,d,f,p,M.x,M.y)&&area(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function isEarHashed(t,e,n,o){const l=t.prev,u=t,f=t.next;if(area(l,u,f)>=0)return!1;const h=l.x,d=u.x,p=f.x,m=l.y,v=u.y,_=f.y,S=h<d?h<p?h:p:d<p?d:p,M=m<v?m<_?m:_:v<_?v:_,A=h>d?h>p?h:p:d>p?d:p,w=m>v?m>_?m:_:v>_?v:_,C=zOrder(S,M,e,n,o),O=zOrder(A,w,e,n,o);let L=t.prevZ,F=t.nextZ;for(;L&&L.z>=C&&F&&F.z<=O;){if(L.x>=S&&L.x<=A&&L.y>=M&&L.y<=w&&L!==l&&L!==f&&pointInTriangle(h,m,d,v,p,_,L.x,L.y)&&area(L.prev,L,L.next)>=0||(L=L.prevZ,F.x>=S&&F.x<=A&&F.y>=M&&F.y<=w&&F!==l&&F!==f&&pointInTriangle(h,m,d,v,p,_,F.x,F.y)&&area(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;L&&L.z>=C;){if(L.x>=S&&L.x<=A&&L.y>=M&&L.y<=w&&L!==l&&L!==f&&pointInTriangle(h,m,d,v,p,_,L.x,L.y)&&area(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;F&&F.z<=O;){if(F.x>=S&&F.x<=A&&F.y>=M&&F.y<=w&&F!==l&&F!==f&&pointInTriangle(h,m,d,v,p,_,F.x,F.y)&&area(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function cureLocalIntersections(t,e,n){let o=t;do{const l=o.prev,u=o.next.next;!equals(l,u)&&intersects(l,o,o.next,u)&&locallyInside(l,u)&&locallyInside(u,l)&&(e.push(l.i/n|0),e.push(o.i/n|0),e.push(u.i/n|0),removeNode(o),removeNode(o.next),o=t=u),o=o.next}while(o!==t);return filterPoints(o)}function splitEarcut(t,e,n,o,l,u){let f=t;do{let h=f.next.next;for(;h!==f.prev;){if(f.i!==h.i&&isValidDiagonal(f,h)){let d=splitPolygon(f,h);f=filterPoints(f,f.next),d=filterPoints(d,d.next),earcutLinked(f,e,n,o,l,u,0),earcutLinked(d,e,n,o,l,u,0);return}h=h.next}f=f.next}while(f!==t)}function eliminateHoles(t,e,n,o){const l=[];let u,f,h,d,p;for(u=0,f=e.length;u<f;u++)h=e[u]*o,d=u<f-1?e[u+1]*o:t.length,p=linkedList(t,h,d,o,!1),p===p.next&&(p.steiner=!0),l.push(getLeftmost(p));for(l.sort(compareX),u=0;u<l.length;u++)n=eliminateHole(l[u],n);return n}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){const n=findHoleBridge(t,e);if(!n)return e;const o=splitPolygon(n,t);return filterPoints(o,o.next),filterPoints(n,n.next)}function findHoleBridge(t,e){let n=e,o=-1/0,l;const u=t.x,f=t.y;do{if(f<=n.y&&f>=n.next.y&&n.next.y!==n.y){const _=n.x+(f-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(_<=u&&_>o&&(o=_,l=n.x<n.next.x?n:n.next,_===u))return l}n=n.next}while(n!==e);if(!l)return null;const h=l,d=l.x,p=l.y;let m=1/0,v;n=l;do u>=n.x&&n.x>=d&&u!==n.x&&pointInTriangle(f<p?u:o,f,d,p,f<p?o:u,f,n.x,n.y)&&(v=Math.abs(f-n.y)/(u-n.x),locallyInside(n,t)&&(v<m||v===m&&(n.x>l.x||n.x===l.x&&sectorContainsSector(l,n)))&&(l=n,m=v)),n=n.next;while(n!==h);return l}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,n,o){let l=t;do l.z===0&&(l.z=zOrder(l.x,l.y,e,n,o)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==t);l.prevZ.nextZ=null,l.prevZ=null,sortLinked(l)}function sortLinked(t){let e,n,o,l,u,f,h,d,p=1;do{for(n=t,t=null,u=null,f=0;n;){for(f++,o=n,h=0,e=0;e<p&&(h++,o=o.nextZ,!!o);e++);for(d=p;h>0||d>0&&o;)h!==0&&(d===0||!o||n.z<=o.z)?(l=n,n=n.nextZ,h--):(l=o,o=o.nextZ,d--),u?u.nextZ=l:t=l,l.prevZ=u,u=l;n=o}u.nextZ=null,p*=2}while(f>1);return t}function zOrder(t,e,n,o,l){return t=(t-n)*l|0,e=(e-o)*l|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function getLeftmost(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pointInTriangle(t,e,n,o,l,u,f,h){return(l-f)*(e-h)>=(t-f)*(u-h)&&(t-f)*(o-h)>=(n-f)*(e-h)&&(n-f)*(u-h)>=(l-f)*(o-h)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,n,o){const l=sign$1(area(t,e,n)),u=sign$1(area(t,e,o)),f=sign$1(area(n,o,t)),h=sign$1(area(n,o,e));return!!(l!==u&&f!==h||l===0&&onSegment(t,n,e)||u===0&&onSegment(t,o,e)||f===0&&onSegment(n,t,o)||h===0&&onSegment(n,e,o))}function onSegment(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sign$1(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&intersects(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){let n=t,o=!1;const l=(t.x+e.x)/2,u=(t.y+e.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&l<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next;while(n!==t);return o}function splitPolygon(t,e){const n=new Node(t.i,t.x,t.y),o=new Node(e.i,e.x,e.y),l=t.next,u=e.prev;return t.next=e,e.prev=t,n.next=l,l.prev=n,o.next=n,n.prev=o,u.next=o,o.prev=u,o}function insertNode(t,e,n,o){const l=new Node(t,e,n);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,n,o){let l=0;for(let u=e,f=n-o;u<n;u+=o)l+=(t[f]-t[u])*(t[u+1]+t[f+1]),f=u;return l}class ShapeUtils{static area(e){const n=e.length;let o=0;for(let l=n-1,u=0;u<n;l=u++)o+=e[l].x*e[u].y-e[u].x*e[l].y;return o*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,n){const o=[],l=[],u=[];removeDupEndPts(e),addContour(o,e);let f=e.length;n.forEach(removeDupEndPts);for(let d=0;d<n.length;d++)l.push(f),f+=n[d].length,addContour(o,n[d]);const h=Earcut.triangulate(o,l);for(let d=0;d<h.length;d+=3)u.push(h.slice(d,d+3));return u}}function removeDupEndPts(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function addContour(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const o=this,l=[],u=[];for(let h=0,d=e.length;h<d;h++){const p=e[h];f(p)}this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("uv",new Float32BufferAttribute(u,2)),this.computeVertexNormals();function f(h){const d=[],p=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1,v=n.depth!==void 0?n.depth:1;let _=n.bevelEnabled!==void 0?n.bevelEnabled:!0,S=n.bevelThickness!==void 0?n.bevelThickness:.2,M=n.bevelSize!==void 0?n.bevelSize:S-.1,A=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const C=n.extrudePath,O=n.UVGenerator!==void 0?n.UVGenerator:WorldUVGenerator;let L,F=!1,$,B,U,q;C&&(L=C.getSpacedPoints(m),F=!0,_=!1,$=C.computeFrenetFrames(m,!1),B=new Vector3,U=new Vector3,q=new Vector3),_||(w=0,S=0,M=0,A=0);const Z=h.extractPoints(p);let G=Z.shape;const H=Z.holes;if(!ShapeUtils.isClockWise(G)){G=G.reverse();for(let he=0,ke=H.length;he<ke;he++){const Me=H[he];ShapeUtils.isClockWise(Me)&&(H[he]=Me.reverse())}}const ae=ShapeUtils.triangulateShape(G,H),te=G;for(let he=0,ke=H.length;he<ke;he++){const Me=H[he];G=G.concat(Me)}function ce(he,ke,Me){return ke||console.error("THREE.ExtrudeGeometry: vec does not exist"),he.clone().addScaledVector(ke,Me)}const fe=G.length,ye=ae.length;function J(he,ke,Me){let je,Fe,Qe;const Ve=he.x-ke.x,Je=he.y-ke.y,ot=Me.x-he.x,pe=Me.y-he.y,de=Ve*Ve+Je*Je,Oe=Ve*pe-Je*ot;if(Math.abs(Oe)>Number.EPSILON){const De=Math.sqrt(de),Ue=Math.sqrt(ot*ot+pe*pe),tt=ke.x-Je/De,ut=ke.y+Ve/De,mt=Me.x-pe/Ue,it=Me.y+ot/Ue,ht=((mt-tt)*pe-(it-ut)*ot)/(Ve*pe-Je*ot);je=tt+Ve*ht-he.x,Fe=ut+Je*ht-he.y;const Et=je*je+Fe*Fe;if(Et<=2)return new Vector2(je,Fe);Qe=Math.sqrt(Et/2)}else{let De=!1;Ve>Number.EPSILON?ot>Number.EPSILON&&(De=!0):Ve<-Number.EPSILON?ot<-Number.EPSILON&&(De=!0):Math.sign(Je)===Math.sign(pe)&&(De=!0),De?(je=-Je,Fe=Ve,Qe=Math.sqrt(de)):(je=Ve,Fe=Je,Qe=Math.sqrt(de/2))}return new Vector2(je/Qe,Fe/Qe)}const oe=[];for(let he=0,ke=te.length,Me=ke-1,je=he+1;he<ke;he++,Me++,je++)Me===ke&&(Me=0),je===ke&&(je=0),oe[he]=J(te[he],te[Me],te[je]);const se=[];let Q,ue=oe.concat();for(let he=0,ke=H.length;he<ke;he++){const Me=H[he];Q=[];for(let je=0,Fe=Me.length,Qe=Fe-1,Ve=je+1;je<Fe;je++,Qe++,Ve++)Qe===Fe&&(Qe=0),Ve===Fe&&(Ve=0),Q[je]=J(Me[je],Me[Qe],Me[Ve]);se.push(Q),ue=ue.concat(Q)}for(let he=0;he<w;he++){const ke=he/w,Me=S*Math.cos(ke*Math.PI/2),je=M*Math.sin(ke*Math.PI/2)+A;for(let Fe=0,Qe=te.length;Fe<Qe;Fe++){const Ve=ce(te[Fe],oe[Fe],je);Pe(Ve.x,Ve.y,-Me)}for(let Fe=0,Qe=H.length;Fe<Qe;Fe++){const Ve=H[Fe];Q=se[Fe];for(let Je=0,ot=Ve.length;Je<ot;Je++){const pe=ce(Ve[Je],Q[Je],je);Pe(pe.x,pe.y,-Me)}}}const _e=M+A;for(let he=0;he<fe;he++){const ke=_?ce(G[he],ue[he],_e):G[he];F?(U.copy($.normals[0]).multiplyScalar(ke.x),B.copy($.binormals[0]).multiplyScalar(ke.y),q.copy(L[0]).add(U).add(B),Pe(q.x,q.y,q.z)):Pe(ke.x,ke.y,0)}for(let he=1;he<=m;he++)for(let ke=0;ke<fe;ke++){const Me=_?ce(G[ke],ue[ke],_e):G[ke];F?(U.copy($.normals[he]).multiplyScalar(Me.x),B.copy($.binormals[he]).multiplyScalar(Me.y),q.copy(L[he]).add(U).add(B),Pe(q.x,q.y,q.z)):Pe(Me.x,Me.y,v/m*he)}for(let he=w-1;he>=0;he--){const ke=he/w,Me=S*Math.cos(ke*Math.PI/2),je=M*Math.sin(ke*Math.PI/2)+A;for(let Fe=0,Qe=te.length;Fe<Qe;Fe++){const Ve=ce(te[Fe],oe[Fe],je);Pe(Ve.x,Ve.y,v+Me)}for(let Fe=0,Qe=H.length;Fe<Qe;Fe++){const Ve=H[Fe];Q=se[Fe];for(let Je=0,ot=Ve.length;Je<ot;Je++){const pe=ce(Ve[Je],Q[Je],je);F?Pe(pe.x,pe.y+L[m-1].y,L[m-1].x+Me):Pe(pe.x,pe.y,v+Me)}}}ge(),ve();function ge(){const he=l.length/3;if(_){let ke=0,Me=fe*ke;for(let je=0;je<ye;je++){const Fe=ae[je];Re(Fe[2]+Me,Fe[1]+Me,Fe[0]+Me)}ke=m+w*2,Me=fe*ke;for(let je=0;je<ye;je++){const Fe=ae[je];Re(Fe[0]+Me,Fe[1]+Me,Fe[2]+Me)}}else{for(let ke=0;ke<ye;ke++){const Me=ae[ke];Re(Me[2],Me[1],Me[0])}for(let ke=0;ke<ye;ke++){const Me=ae[ke];Re(Me[0]+fe*m,Me[1]+fe*m,Me[2]+fe*m)}}o.addGroup(he,l.length/3-he,0)}function ve(){const he=l.length/3;let ke=0;we(te,ke),ke+=te.length;for(let Me=0,je=H.length;Me<je;Me++){const Fe=H[Me];we(Fe,ke),ke+=Fe.length}o.addGroup(he,l.length/3-he,1)}function we(he,ke){let Me=he.length;for(;--Me>=0;){const je=Me;let Fe=Me-1;Fe<0&&(Fe=he.length-1);for(let Qe=0,Ve=m+w*2;Qe<Ve;Qe++){const Je=fe*Qe,ot=fe*(Qe+1),pe=ke+je+Je,de=ke+Fe+Je,Oe=ke+Fe+ot,De=ke+je+ot;Ae(pe,de,Oe,De)}}}function Pe(he,ke,Me){d.push(he),d.push(ke),d.push(Me)}function Re(he,ke,Me){Ne(he),Ne(ke),Ne(Me);const je=l.length/3,Fe=O.generateTopUV(o,l,je-3,je-2,je-1);Ie(Fe[0]),Ie(Fe[1]),Ie(Fe[2])}function Ae(he,ke,Me,je){Ne(he),Ne(ke),Ne(je),Ne(ke),Ne(Me),Ne(je);const Fe=l.length/3,Qe=O.generateSideWallUV(o,l,Fe-6,Fe-3,Fe-2,Fe-1);Ie(Qe[0]),Ie(Qe[1]),Ie(Qe[3]),Ie(Qe[1]),Ie(Qe[2]),Ie(Qe[3])}function Ne(he){l.push(d[he*3+0]),l.push(d[he*3+1]),l.push(d[he*3+2])}function Ie(he){u.push(he.x),u.push(he.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,o=this.parameters.options;return toJSON$1(n,o,e)}static fromJSON(e,n){const o=[];for(let u=0,f=e.shapes.length;u<f;u++){const h=n[e.shapes[u]];o.push(h)}const l=e.options.extrudePath;return l!==void 0&&(e.options.extrudePath=new Curves[l.type]().fromJSON(l)),new ExtrudeGeometry(o,e.options)}}const WorldUVGenerator={generateTopUV:function(t,e,n,o,l){const u=e[n*3],f=e[n*3+1],h=e[o*3],d=e[o*3+1],p=e[l*3],m=e[l*3+1];return[new Vector2(u,f),new Vector2(h,d),new Vector2(p,m)]},generateSideWallUV:function(t,e,n,o,l,u){const f=e[n*3],h=e[n*3+1],d=e[n*3+2],p=e[o*3],m=e[o*3+1],v=e[o*3+2],_=e[l*3],S=e[l*3+1],M=e[l*3+2],A=e[u*3],w=e[u*3+1],C=e[u*3+2];return Math.abs(h-m)<Math.abs(f-p)?[new Vector2(f,1-d),new Vector2(p,1-v),new Vector2(_,1-M),new Vector2(A,1-C)]:[new Vector2(h,1-d),new Vector2(m,1-v),new Vector2(S,1-M),new Vector2(w,1-C)]}};function toJSON$1(t,e,n){if(n.shapes=[],Array.isArray(t))for(let o=0,l=t.length;o<l;o++){const u=t[o];n.shapes.push(u.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],u=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(l,u,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],l=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(o,l,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class RingGeometry extends BufferGeometry{constructor(e=.5,n=1,o=32,l=1,u=0,f=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:o,phiSegments:l,thetaStart:u,thetaLength:f},o=Math.max(3,o),l=Math.max(1,l);const h=[],d=[],p=[],m=[];let v=e;const _=(n-e)/l,S=new Vector3,M=new Vector2;for(let A=0;A<=l;A++){for(let w=0;w<=o;w++){const C=u+w/o*f;S.x=v*Math.cos(C),S.y=v*Math.sin(C),d.push(S.x,S.y,S.z),p.push(0,0,1),M.x=(S.x/n+1)/2,M.y=(S.y/n+1)/2,m.push(M.x,M.y)}v+=_}for(let A=0;A<l;A++){const w=A*(o+1);for(let C=0;C<o;C++){const O=C+w,L=O,F=O+o+1,$=O+o+2,B=O+1;h.push(L,F,B),h.push(F,$,B)}}this.setIndex(h),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const o=[],l=[],u=[],f=[];let h=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(h,d,m),h+=d,d=0;this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("normal",new Float32BufferAttribute(u,3)),this.setAttribute("uv",new Float32BufferAttribute(f,2));function p(m){const v=l.length/3,_=m.extractPoints(n);let S=_.shape;const M=_.holes;ShapeUtils.isClockWise(S)===!1&&(S=S.reverse());for(let w=0,C=M.length;w<C;w++){const O=M[w];ShapeUtils.isClockWise(O)===!0&&(M[w]=O.reverse())}const A=ShapeUtils.triangulateShape(S,M);for(let w=0,C=M.length;w<C;w++){const O=M[w];S=S.concat(O)}for(let w=0,C=S.length;w<C;w++){const O=S[w];l.push(O.x,O.y,0),u.push(0,0,1),f.push(O.x,O.y)}for(let w=0,C=A.length;w<C;w++){const O=A[w],L=O[0]+v,F=O[1]+v,$=O[2]+v;o.push(L,F,$),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return toJSON(n,e)}static fromJSON(e,n){const o=[];for(let l=0,u=e.shapes.length;l<u;l++){const f=n[e.shapes[l]];o.push(f)}return new ShapeGeometry(o,e.curveSegments)}}function toJSON(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,o=t.length;n<o;n++){const l=t[n];e.shapes.push(l.uuid)}else e.shapes.push(t.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,n=32,o=16,l=0,u=Math.PI*2,f=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:o,phiStart:l,phiLength:u,thetaStart:f,thetaLength:h},n=Math.max(3,Math.floor(n)),o=Math.max(2,Math.floor(o));const d=Math.min(f+h,Math.PI);let p=0;const m=[],v=new Vector3,_=new Vector3,S=[],M=[],A=[],w=[];for(let C=0;C<=o;C++){const O=[],L=C/o;let F=0;C===0&&f===0?F=.5/n:C===o&&d===Math.PI&&(F=-.5/n);for(let $=0;$<=n;$++){const B=$/n;v.x=-e*Math.cos(l+B*u)*Math.sin(f+L*h),v.y=e*Math.cos(f+L*h),v.z=e*Math.sin(l+B*u)*Math.sin(f+L*h),M.push(v.x,v.y,v.z),_.copy(v).normalize(),A.push(_.x,_.y,_.z),w.push(B+F,1-L),O.push(p++)}m.push(O)}for(let C=0;C<o;C++)for(let O=0;O<n;O++){const L=m[C][O+1],F=m[C][O],$=m[C+1][O],B=m[C+1][O+1];(C!==0||f>0)&&S.push(L,F,B),(C!==o-1||d<Math.PI)&&S.push(F,$,B)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(M,3)),this.setAttribute("normal",new Float32BufferAttribute(A,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],l=[2,1,0,0,3,2,1,3,0,2,3,1];super(o,l,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,n=.4,o=12,l=48,u=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:o,tubularSegments:l,arc:u},o=Math.floor(o),l=Math.floor(l);const f=[],h=[],d=[],p=[],m=new Vector3,v=new Vector3,_=new Vector3;for(let S=0;S<=o;S++)for(let M=0;M<=l;M++){const A=M/l*u,w=S/o*Math.PI*2;v.x=(e+n*Math.cos(w))*Math.cos(A),v.y=(e+n*Math.cos(w))*Math.sin(A),v.z=n*Math.sin(w),h.push(v.x,v.y,v.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),_.subVectors(v,m).normalize(),d.push(_.x,_.y,_.z),p.push(M/l),p.push(S/o)}for(let S=1;S<=o;S++)for(let M=1;M<=l;M++){const A=(l+1)*S+M-1,w=(l+1)*(S-1)+M-1,C=(l+1)*(S-1)+M,O=(l+1)*S+M;f.push(A,w,O),f.push(w,C,O)}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("normal",new Float32BufferAttribute(d,3)),this.setAttribute("uv",new Float32BufferAttribute(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,n=.4,o=64,l=8,u=2,f=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:o,radialSegments:l,p:u,q:f},o=Math.floor(o),l=Math.floor(l);const h=[],d=[],p=[],m=[],v=new Vector3,_=new Vector3,S=new Vector3,M=new Vector3,A=new Vector3,w=new Vector3,C=new Vector3;for(let L=0;L<=o;++L){const F=L/o*u*Math.PI*2;O(F,u,f,e,S),O(F+.01,u,f,e,M),w.subVectors(M,S),C.addVectors(M,S),A.crossVectors(w,C),C.crossVectors(A,w),A.normalize(),C.normalize();for(let $=0;$<=l;++$){const B=$/l*Math.PI*2,U=-n*Math.cos(B),q=n*Math.sin(B);v.x=S.x+(U*C.x+q*A.x),v.y=S.y+(U*C.y+q*A.y),v.z=S.z+(U*C.z+q*A.z),d.push(v.x,v.y,v.z),_.subVectors(v,S).normalize(),p.push(_.x,_.y,_.z),m.push(L/o),m.push($/l)}}for(let L=1;L<=o;L++)for(let F=1;F<=l;F++){const $=(l+1)*(L-1)+(F-1),B=(l+1)*L+(F-1),U=(l+1)*L+F,q=(l+1)*(L-1)+F;h.push($,B,q),h.push(B,U,q)}this.setIndex(h),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2));function O(L,F,$,B,U){const q=Math.cos(L),Z=Math.sin(L),G=$/F*L,H=Math.cos(G);U.x=B*(2+H)*.5*q,U.y=B*(2+H)*Z*.5,U.z=B*Math.sin(G)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),n=64,o=1,l=8,u=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:o,radialSegments:l,closed:u};const f=e.computeFrenetFrames(n,u);this.tangents=f.tangents,this.normals=f.normals,this.binormals=f.binormals;const h=new Vector3,d=new Vector3,p=new Vector2;let m=new Vector3;const v=[],_=[],S=[],M=[];A(),this.setIndex(M),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function A(){for(let L=0;L<n;L++)w(L);w(u===!1?n:0),O(),C()}function w(L){m=e.getPointAt(L/n,m);const F=f.normals[L],$=f.binormals[L];for(let B=0;B<=l;B++){const U=B/l*Math.PI*2,q=Math.sin(U),Z=-Math.cos(U);d.x=Z*F.x+q*$.x,d.y=Z*F.y+q*$.y,d.z=Z*F.z+q*$.z,d.normalize(),_.push(d.x,d.y,d.z),h.x=m.x+o*d.x,h.y=m.y+o*d.y,h.z=m.z+o*d.z,v.push(h.x,h.y,h.z)}}function C(){for(let L=1;L<=n;L++)for(let F=1;F<=l;F++){const $=(l+1)*(L-1)+(F-1),B=(l+1)*L+(F-1),U=(l+1)*L+F,q=(l+1)*(L-1)+F;M.push($,B,q),M.push(B,U,q)}}function O(){for(let L=0;L<=n;L++)for(let F=0;F<=l;F++)p.x=L/n,p.y=F/l,S.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],o=new Set,l=new Vector3,u=new Vector3;if(e.index!==null){const f=e.attributes.position,h=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const v=d[p],_=v.start,S=v.count;for(let M=_,A=_+S;M<A;M+=3)for(let w=0;w<3;w++){const C=h.getX(M+w),O=h.getX(M+(w+1)%3);l.fromBufferAttribute(f,C),u.fromBufferAttribute(f,O),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}}else{const f=e.attributes.position;for(let h=0,d=f.count/3;h<d;h++)for(let p=0;p<3;p++){const m=3*h+p,v=3*h+(p+1)%3;l.fromBufferAttribute(f,m),u.fromBufferAttribute(f,v),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}this.setAttribute("position",new Float32BufferAttribute(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(t,e,n){const o=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,l=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(o)===!0||n.has(l)===!0?!1:(n.add(o),n.add(l),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshMatcapMaterial extends Material{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function convertArray(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function isTypedArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function getKeyframeOrder(t){function e(l,u){return t[l]-t[u]}const n=t.length,o=new Array(n);for(let l=0;l!==n;++l)o[l]=l;return o.sort(e),o}function sortedArray(t,e,n){const o=t.length,l=new t.constructor(o);for(let u=0,f=0;f!==o;++u){const h=n[u]*e;for(let d=0;d!==e;++d)l[f++]=t[h+d]}return l}function flattenJSON(t,e,n,o){let l=1,u=t[0];for(;u!==void 0&&u[o]===void 0;)u=t[l++];if(u===void 0)return;let f=u[o];if(f!==void 0)if(Array.isArray(f))do f=u[o],f!==void 0&&(e.push(u.time),n.push.apply(n,f)),u=t[l++];while(u!==void 0);else if(f.toArray!==void 0)do f=u[o],f!==void 0&&(e.push(u.time),f.toArray(n,n.length)),u=t[l++];while(u!==void 0);else do f=u[o],f!==void 0&&(e.push(u.time),n.push(f)),u=t[l++];while(u!==void 0)}function subclip(t,e,n,o,l=30){const u=t.clone();u.name=e;const f=[];for(let d=0;d<u.tracks.length;++d){const p=u.tracks[d],m=p.getValueSize(),v=[],_=[];for(let S=0;S<p.times.length;++S){const M=p.times[S]*l;if(!(M<n||M>=o)){v.push(p.times[S]);for(let A=0;A<m;++A)_.push(p.values[S*m+A])}}v.length!==0&&(p.times=convertArray(v,p.times.constructor),p.values=convertArray(_,p.values.constructor),f.push(p))}u.tracks=f;let h=1/0;for(let d=0;d<u.tracks.length;++d)h>u.tracks[d].times[0]&&(h=u.tracks[d].times[0]);for(let d=0;d<u.tracks.length;++d)u.tracks[d].shift(-1*h);return u.resetDuration(),u}function makeClipAdditive(t,e=0,n=t,o=30){o<=0&&(o=30);const l=n.tracks.length,u=e/o;for(let f=0;f<l;++f){const h=n.tracks[f],d=h.ValueTypeName;if(d==="bool"||d==="string")continue;const p=t.tracks.find(function(C){return C.name===h.name&&C.ValueTypeName===d});if(p===void 0)continue;let m=0;const v=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const S=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=S/3);const M=h.times.length-1;let A;if(u<=h.times[0]){const C=m,O=v-m;A=h.values.slice(C,O)}else if(u>=h.times[M]){const C=M*v+m,O=C+v-m;A=h.values.slice(C,O)}else{const C=h.createInterpolant(),O=m,L=v-m;C.evaluate(u),A=C.resultBuffer.slice(O,L)}d==="quaternion"&&new Quaternion().fromArray(A).normalize().conjugate().toArray(A);const w=p.times.length;for(let C=0;C<w;++C){const O=C*S+_;if(d==="quaternion")Quaternion.multiplyQuaternionsFlat(p.values,O,A,0,p.values,O);else{const L=S-_*2;for(let F=0;F<L;++F)p.values[O+F]-=A[F]}}}return t.blendMode=AdditiveAnimationBlendMode,t}const AnimationUtils={convertArray,isTypedArray:isTypedArray$1,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(e,n,o,l){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=l!==void 0?l:new n.constructor(o),this.sampleValues=n,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let o=this._cachedIndex,l=n[o],u=n[o-1];e:{t:{let f;n:{r:if(!(e<l)){for(let h=o+2;;){if(l===void 0){if(e<u)break r;return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}if(o===h)break;if(u=l,l=n[++o],e<l)break t}f=n.length;break n}if(!(e>=u)){const h=n[1];e<h&&(o=2,u=h);for(let d=o-2;;){if(u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===d)break;if(l=u,u=n[--o-1],e>=u)break t}f=o,o=0;break n}break e}for(;o<f;){const h=o+f>>>1;e<n[h]?f=h:o=h+1}if(l=n[o],u=n[o-1],u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(l===void 0)return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}this._cachedIndex=o,this.intervalChanged_(o,u,l)}return this.interpolate_(o,u,e,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l;for(let f=0;f!==l;++f)n[f]=o[u+f];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,n,o){const l=this.parameterPositions;let u=e-2,f=e+1,h=l[u],d=l[f];if(h===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:u=e,h=2*n-o;break;case WrapAroundEnding:u=l.length-2,h=n+l[u]-l[u+1];break;default:u=e,h=o}if(d===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:f=e,d=2*o-n;break;case WrapAroundEnding:f=1,d=o+l[1]-l[0];break;default:f=e-1,d=n}const p=(o-n)*.5,m=this.valueSize;this._weightPrev=p/(n-h),this._weightNext=p/(d-o),this._offsetPrev=u*m,this._offsetNext=f*m}interpolate_(e,n,o,l){const u=this.resultBuffer,f=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,S=this._weightNext,M=(o-n)/(l-n),A=M*M,w=A*M,C=-_*w+2*_*A-_*M,O=(1+_)*w+(-1.5-2*_)*A+(-.5+_)*M+1,L=(-1-S)*w+(1.5+S)*A+.5*M,F=S*w-S*A;for(let $=0;$!==h;++$)u[$]=C*f[m+$]+O*f[p+$]+L*f[d+$]+F*f[v+$];return u}}class LinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,f=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=(o-n)/(l-n),v=1-m;for(let _=0;_!==h;++_)u[_]=f[p+_]*v+f[d+_]*m;return u}}class DiscreteInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,n,o,l){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(n,this.TimeBufferType),this.values=convertArray(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let o;if(n.toJSON!==this.toJSON)o=n.toJSON(e);else{o={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const l=e.getInterpolation();l!==e.DefaultInterpolation&&(o.interpolation=l)}return o.type=e.ValueTypeName,o}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case InterpolateDiscrete:n=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:n=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]*=e}return this}trim(e,n){const o=this.times,l=o.length;let u=0,f=l-1;for(;u!==l&&o[u]<e;)++u;for(;f!==-1&&o[f]>n;)--f;if(++f,u!==0||f!==l){u>=f&&(f=Math.max(f,1),u=f-1);const h=this.getValueSize();this.times=o.slice(u,f),this.values=this.values.slice(u*h,f*h)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const o=this.times,l=this.values,u=o.length;u===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let f=null;for(let h=0;h!==u;h++){const d=o[h];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,d),e=!1;break}if(f!==null&&f>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,d,f),e=!1;break}f=d}if(l!==void 0&&isTypedArray$1(l))for(let h=0,d=l.length;h!==d;++h){const p=l[h];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),o=this.getValueSize(),l=this.getInterpolation()===InterpolateSmooth,u=e.length-1;let f=1;for(let h=1;h<u;++h){let d=!1;const p=e[h],m=e[h+1];if(p!==m&&(h!==1||p!==e[0]))if(l)d=!0;else{const v=h*o,_=v-o,S=v+o;for(let M=0;M!==o;++M){const A=n[v+M];if(A!==n[_+M]||A!==n[S+M]){d=!0;break}}}if(d){if(h!==f){e[f]=e[h];const v=h*o,_=f*o;for(let S=0;S!==o;++S)n[_+S]=n[v+S]}++f}}if(u>0){e[f]=e[u];for(let h=u*o,d=f*o,p=0;p!==o;++p)n[d+p]=n[h+p];++f}return f!==e.length?(this.times=e.slice(0,f),this.values=n.slice(0,f*o)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),o=this.constructor,l=new o(this.name,e,n);return l.createInterpolant=this.createInterpolant,l}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,f=this.sampleValues,h=this.valueSize,d=(o-n)/(l-n);let p=e*h;for(let m=p+h;p!==m;p+=4)Quaternion.slerpFlat(u,0,f,p-h,f,p,d);return u}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e,n=-1,o,l=NormalAnimationBlendMode){this.name=e,this.tracks=o,this.duration=n,this.blendMode=l,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],o=e.tracks,l=1/(e.fps||1);for(let f=0,h=o.length;f!==h;++f)n.push(parseKeyframeTrack(o[f]).scale(l));const u=new this(e.name,e.duration,n,e.blendMode);return u.uuid=e.uuid,u}static toJSON(e){const n=[],o=e.tracks,l={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let u=0,f=o.length;u!==f;++u)n.push(KeyframeTrack.toJSON(o[u]));return l}static CreateFromMorphTargetSequence(e,n,o,l){const u=n.length,f=[];for(let h=0;h<u;h++){let d=[],p=[];d.push((h+u-1)%u,h,(h+1)%u),p.push(0,1,0);const m=getKeyframeOrder(d);d=sortedArray(d,1,m),p=sortedArray(p,1,m),!l&&d[0]===0&&(d.push(u),p.push(p[0])),f.push(new NumberKeyframeTrack(".morphTargetInfluences["+n[h].name+"]",d,p).scale(1/o))}return new this(e,-1,f)}static findByName(e,n){let o=e;if(!Array.isArray(e)){const l=e;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===n)return o[l];return null}static CreateClipsFromMorphTargetSequences(e,n,o){const l={},u=/^([\w-]*?)([\d]+)$/;for(let h=0,d=e.length;h<d;h++){const p=e[h],m=p.name.match(u);if(m&&m.length>1){const v=m[1];let _=l[v];_||(l[v]=_=[]),_.push(p)}}const f=[];for(const h in l)f.push(this.CreateFromMorphTargetSequence(h,l[h],n,o));return f}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(v,_,S,M,A){if(S.length!==0){const w=[],C=[];flattenJSON(S,w,C,M),w.length!==0&&A.push(new v(_,w,C))}},l=[],u=e.name||"default",f=e.fps||30,h=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const _=p[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const S={};let M;for(M=0;M<_.length;M++)if(_[M].morphTargets)for(let A=0;A<_[M].morphTargets.length;A++)S[_[M].morphTargets[A]]=-1;for(const A in S){const w=[],C=[];for(let O=0;O!==_[M].morphTargets.length;++O){const L=_[M];w.push(L.time),C.push(L.morphTarget===A?1:0)}l.push(new NumberKeyframeTrack(".morphTargetInfluence["+A+"]",w,C))}d=S.length*f}else{const S=".bones["+n[v].name+"]";o(VectorKeyframeTrack,S+".position",_,"pos",l),o(QuaternionKeyframeTrack,S+".quaternion",_,"rot",l),o(VectorKeyframeTrack,S+".scale",_,"scl",l)}}return l.length===0?null:new this(u,d,l,h)}resetDuration(){const e=this.tracks;let n=0;for(let o=0,l=e.length;o!==l;++o){const u=this.tracks[o];n=Math.max(n,u.times[u.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function parseKeyframeTrack(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(t.type);if(t.times===void 0){const n=[],o=[];flattenJSON(t.keys,n,o,"value"),t.times=n,t.values=o}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,n,o){const l=this;let u=!1,f=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=o,this.itemStart=function(m){h++,u===!1&&l.onStart!==void 0&&l.onStart(m,f,h),u=!0},this.itemEnd=function(m){f++,l.onProgress!==void 0&&l.onProgress(m,f,h),f===h&&(u=!1,l.onLoad!==void 0&&l.onLoad())},this.itemError=function(m){l.onError!==void 0&&l.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=p.length;v<_;v+=2){const S=p[v],M=p[v+1];if(S.global&&(S.lastIndex=0),S.test(m))return M}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const o=this;return new Promise(function(l,u){o.load(e,l,n,u)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,n){super(e),this.response=n}}class FileLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=Cache.get(e);if(u!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(u),this.manager.itemEnd(e)},0),u;if(loading[e]!==void 0){loading[e].push({onLoad:n,onProgress:o,onError:l});return}loading[e]=[],loading[e].push({onLoad:n,onProgress:o,onError:l});const f=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,d=this.responseType;fetch(f).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=loading[e],v=p.body.getReader(),_=p.headers.get("Content-Length")||p.headers.get("X-File-Size"),S=_?parseInt(_):0,M=S!==0;let A=0;const w=new ReadableStream({start(C){O();function O(){v.read().then(({done:L,value:F})=>{if(L)C.close();else{A+=F.byteLength;const $=new ProgressEvent("progress",{lengthComputable:M,loaded:A,total:S});for(let B=0,U=m.length;B<U;B++){const q=m[B];q.onProgress&&q.onProgress($)}C.enqueue(F),O()}})}}});return new Response(w)}else throw new HttpError(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,h));case"json":return p.json();default:if(h===void 0)return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(h),_=v&&v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(_);return p.arrayBuffer().then(M=>S.decode(M))}}}).then(p=>{Cache.add(e,p);const m=loading[e];delete loading[e];for(let v=0,_=m.length;v<_;v++){const S=m[v];S.onLoad&&S.onLoad(p)}}).catch(p=>{const m=loading[e];if(m===void 0)throw this.manager.itemError(e),p;delete loading[e];for(let v=0,_=m.length;v<_;v++){const S=m[v];S.onError&&S.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=new FileLoader(this.manager);f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(h){try{n(u.parse(JSON.parse(h)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=[];for(let o=0;o<e.length;o++){const l=AnimationClip.parse(e[o]);n.push(l)}return n}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=[],h=new CompressedTexture,d=new FileLoader(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(u.withCredentials);let p=0;function m(v){d.load(e[v],function(_){const S=u.parse(_,!0);f[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},p+=1,p===6&&(S.mipmapCount===1&&(h.minFilter=LinearFilter),h.image=f,h.format=S.format,h.needsUpdate=!0,n&&n(h))},o,l)}if(Array.isArray(e))for(let v=0,_=e.length;v<_;++v)m(v);else d.load(e,function(v){const _=u.parse(v,!0);if(_.isCubemap){const S=_.mipmaps.length/_.mipmapCount;for(let M=0;M<S;M++){f[M]={mipmaps:[]};for(let A=0;A<_.mipmapCount;A++)f[M].mipmaps.push(_.mipmaps[M*_.mipmapCount+A]),f[M].format=_.format,f[M].width=_.width,f[M].height=_.height}h.image=f}else h.image.width=_.width,h.image.height=_.height,h.mipmaps=_.mipmaps;_.mipmapCount===1&&(h.minFilter=LinearFilter),h.format=_.format,h.needsUpdate=!0,n&&n(h)},o,l);return h}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,f=Cache.get(e);if(f!==void 0)return u.manager.itemStart(e),setTimeout(function(){n&&n(f),u.manager.itemEnd(e)},0),f;const h=createElementNS("img");function d(){m(),Cache.add(e,this),n&&n(this),u.manager.itemEnd(e)}function p(v){m(),l&&l(v),u.manager.itemError(e),u.manager.itemEnd(e)}function m(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),u.manager.itemStart(e),h.src=e,h}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new CubeTexture;u.colorSpace=SRGBColorSpace;const f=new ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin),f.setPath(this.path);let h=0;function d(p){f.load(e[p],function(m){u.images[p]=m,h++,h===6&&(u.needsUpdate=!0,n&&n(u))},void 0,l)}for(let p=0;p<e.length;++p)d(p);return u}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=new DataTexture,h=new FileLoader(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(u.withCredentials),h.load(e,function(d){let p;try{p=u.parse(d)}catch(m){if(l!==void 0)l(m);else{console.error(m);return}}p.image!==void 0?f.image=p.image:p.data!==void 0&&(f.image.width=p.width,f.image.height=p.height,f.image.data=p.data),f.wrapS=p.wrapS!==void 0?p.wrapS:ClampToEdgeWrapping,f.wrapT=p.wrapT!==void 0?p.wrapT:ClampToEdgeWrapping,f.magFilter=p.magFilter!==void 0?p.magFilter:LinearFilter,f.minFilter=p.minFilter!==void 0?p.minFilter:LinearFilter,f.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(f.colorSpace=p.colorSpace),p.flipY!==void 0&&(f.flipY=p.flipY),p.format!==void 0&&(f.format=p.format),p.type!==void 0&&(f.type=p.type),p.mipmaps!==void 0&&(f.mipmaps=p.mipmaps,f.minFilter=LinearMipmapLinearFilter),p.mipmapCount===1&&(f.minFilter=LinearFilter),p.generateMipmaps!==void 0&&(f.generateMipmaps=p.generateMipmaps),f.needsUpdate=!0,n&&n(f,p)},o,l),f}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new Texture,f=new ImageLoader(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(e,function(h){u.image=h,u.needsUpdate=!0,n!==void 0&&n(u)},o,l),u}}class Light extends Object3D{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class HemisphereLight extends Light{constructor(e,n,o){super(e,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,o=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),n.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(_lookTarget$1),n.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,o=RAD2DEG*2*e.angle*this.focus,l=this.mapSize.width/this.mapSize.height,u=e.distance||n.far;(o!==n.fov||l!==n.aspect||u!==n.far)&&(n.fov=o,n.aspect=l,n.far=u,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,n,o=0,l=Math.PI/3,u=0,f=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=o,this.angle=l,this.penumbra=u,this.decay=f,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,n=0){const o=this.camera,l=this.matrix,u=e.distance||o.far;u!==o.far&&(o.far=u,o.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),o.position.copy(_lightPositionWorld),_lookTarget.copy(o.position),_lookTarget.add(this._cubeDirections[n]),o.up.copy(this._cubeUps[n]),o.lookAt(_lookTarget),o.updateMatrixWorld(),l.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,n,o=0,l=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,n,o=10,l=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=o,this.height=l}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const o=e.x,l=e.y,u=e.z,f=this.coefficients;return n.copy(f[0]).multiplyScalar(.282095),n.addScaledVector(f[1],.488603*l),n.addScaledVector(f[2],.488603*u),n.addScaledVector(f[3],.488603*o),n.addScaledVector(f[4],1.092548*(o*l)),n.addScaledVector(f[5],1.092548*(l*u)),n.addScaledVector(f[6],.315392*(3*u*u-1)),n.addScaledVector(f[7],1.092548*(o*u)),n.addScaledVector(f[8],.546274*(o*o-l*l)),n}getIrradianceAt(e,n){const o=e.x,l=e.y,u=e.z,f=this.coefficients;return n.copy(f[0]).multiplyScalar(.886227),n.addScaledVector(f[1],2*.511664*l),n.addScaledVector(f[2],2*.511664*u),n.addScaledVector(f[3],2*.511664*o),n.addScaledVector(f[4],2*.429043*o*l),n.addScaledVector(f[5],2*.429043*l*u),n.addScaledVector(f[6],.743125*u*u-.247708),n.addScaledVector(f[7],2*.429043*o*u),n.addScaledVector(f[8],.429043*(o*o-l*l)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(e,n+l*3);return this}toArray(e=[],n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(e,n+l*3);return e}static getBasisAt(e,n){const o=e.x,l=e.y,u=e.z;n[0]=.282095,n[1]=.488603*l,n[2]=.488603*u,n[3]=.488603*o,n[4]=1.092548*o*l,n[5]=1.092548*l*u,n[6]=.315392*(3*u*u-1),n[7]=1.092548*o*u,n[8]=.546274*(o*o-l*l)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,n,o,l){const u=this,f=new FileLoader(u.manager);f.setPath(u.path),f.setRequestHeader(u.requestHeader),f.setWithCredentials(u.withCredentials),f.load(e,function(h){try{n(u.parse(JSON.parse(h)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=this.textures;function o(u){return n[u]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",u),n[u]}const l=MaterialLoader.createMaterialFromType(e.type);if(e.uuid!==void 0&&(l.uuid=e.uuid),e.name!==void 0&&(l.name=e.name),e.color!==void 0&&l.color!==void 0&&l.color.setHex(e.color),e.roughness!==void 0&&(l.roughness=e.roughness),e.metalness!==void 0&&(l.metalness=e.metalness),e.sheen!==void 0&&(l.sheen=e.sheen),e.sheenColor!==void 0&&(l.sheenColor=new Color$1().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(l.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&l.emissive!==void 0&&l.emissive.setHex(e.emissive),e.specular!==void 0&&l.specular!==void 0&&l.specular.setHex(e.specular),e.specularIntensity!==void 0&&(l.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&l.specularColor!==void 0&&l.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(l.shininess=e.shininess),e.clearcoat!==void 0&&(l.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(l.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(l.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(l.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(l.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(l.transmission=e.transmission),e.thickness!==void 0&&(l.thickness=e.thickness),e.attenuationDistance!==void 0&&(l.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&l.attenuationColor!==void 0&&l.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(l.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(l.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(l.fog=e.fog),e.flatShading!==void 0&&(l.flatShading=e.flatShading),e.blending!==void 0&&(l.blending=e.blending),e.combine!==void 0&&(l.combine=e.combine),e.side!==void 0&&(l.side=e.side),e.shadowSide!==void 0&&(l.shadowSide=e.shadowSide),e.opacity!==void 0&&(l.opacity=e.opacity),e.transparent!==void 0&&(l.transparent=e.transparent),e.alphaTest!==void 0&&(l.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(l.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(l.depthFunc=e.depthFunc),e.depthTest!==void 0&&(l.depthTest=e.depthTest),e.depthWrite!==void 0&&(l.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(l.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(l.blendSrc=e.blendSrc),e.blendDst!==void 0&&(l.blendDst=e.blendDst),e.blendEquation!==void 0&&(l.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(l.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(l.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(l.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&l.blendColor!==void 0&&l.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(l.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(l.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(l.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(l.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(l.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(l.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(l.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(l.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(l.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(l.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(l.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(l.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(l.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(l.rotation=e.rotation),e.linewidth!==void 0&&(l.linewidth=e.linewidth),e.dashSize!==void 0&&(l.dashSize=e.dashSize),e.gapSize!==void 0&&(l.gapSize=e.gapSize),e.scale!==void 0&&(l.scale=e.scale),e.polygonOffset!==void 0&&(l.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(l.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(l.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(l.dithering=e.dithering),e.alphaToCoverage!==void 0&&(l.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(l.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(l.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(l.visible=e.visible),e.toneMapped!==void 0&&(l.toneMapped=e.toneMapped),e.userData!==void 0&&(l.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?l.vertexColors=e.vertexColors>0:l.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const u in e.uniforms){const f=e.uniforms[u];switch(l.uniforms[u]={},f.type){case"t":l.uniforms[u].value=o(f.value);break;case"c":l.uniforms[u].value=new Color$1().setHex(f.value);break;case"v2":l.uniforms[u].value=new Vector2().fromArray(f.value);break;case"v3":l.uniforms[u].value=new Vector3().fromArray(f.value);break;case"v4":l.uniforms[u].value=new Vector4().fromArray(f.value);break;case"m3":l.uniforms[u].value=new Matrix3().fromArray(f.value);break;case"m4":l.uniforms[u].value=new Matrix4().fromArray(f.value);break;default:l.uniforms[u].value=f.value}}if(e.defines!==void 0&&(l.defines=e.defines),e.vertexShader!==void 0&&(l.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(l.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(l.glslVersion=e.glslVersion),e.extensions!==void 0)for(const u in e.extensions)l.extensions[u]=e.extensions[u];if(e.lights!==void 0&&(l.lights=e.lights),e.clipping!==void 0&&(l.clipping=e.clipping),e.size!==void 0&&(l.size=e.size),e.sizeAttenuation!==void 0&&(l.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(l.map=o(e.map)),e.matcap!==void 0&&(l.matcap=o(e.matcap)),e.alphaMap!==void 0&&(l.alphaMap=o(e.alphaMap)),e.bumpMap!==void 0&&(l.bumpMap=o(e.bumpMap)),e.bumpScale!==void 0&&(l.bumpScale=e.bumpScale),e.normalMap!==void 0&&(l.normalMap=o(e.normalMap)),e.normalMapType!==void 0&&(l.normalMapType=e.normalMapType),e.normalScale!==void 0){let u=e.normalScale;Array.isArray(u)===!1&&(u=[u,u]),l.normalScale=new Vector2().fromArray(u)}return e.displacementMap!==void 0&&(l.displacementMap=o(e.displacementMap)),e.displacementScale!==void 0&&(l.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(l.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(l.roughnessMap=o(e.roughnessMap)),e.metalnessMap!==void 0&&(l.metalnessMap=o(e.metalnessMap)),e.emissiveMap!==void 0&&(l.emissiveMap=o(e.emissiveMap)),e.emissiveIntensity!==void 0&&(l.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(l.specularMap=o(e.specularMap)),e.specularIntensityMap!==void 0&&(l.specularIntensityMap=o(e.specularIntensityMap)),e.specularColorMap!==void 0&&(l.specularColorMap=o(e.specularColorMap)),e.envMap!==void 0&&(l.envMap=o(e.envMap)),e.envMapRotation!==void 0&&l.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(l.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(l.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(l.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(l.lightMap=o(e.lightMap)),e.lightMapIntensity!==void 0&&(l.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(l.aoMap=o(e.aoMap)),e.aoMapIntensity!==void 0&&(l.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(l.gradientMap=o(e.gradientMap)),e.clearcoatMap!==void 0&&(l.clearcoatMap=o(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(l.clearcoatRoughnessMap=o(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(l.clearcoatNormalMap=o(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(l.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(l.iridescenceMap=o(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(l.iridescenceThicknessMap=o(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(l.transmissionMap=o(e.transmissionMap)),e.thicknessMap!==void 0&&(l.thicknessMap=o(e.thicknessMap)),e.anisotropyMap!==void 0&&(l.anisotropyMap=o(e.anisotropyMap)),e.sheenColorMap!==void 0&&(l.sheenColorMap=o(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(l.sheenRoughnessMap=o(e.sheenRoughnessMap)),l}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new n[e]}}class LoaderUtils{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let o=0,l=e.length;o<l;o++)n+=String.fromCharCode(e[o]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=new FileLoader(u.manager);f.setPath(u.path),f.setRequestHeader(u.requestHeader),f.setWithCredentials(u.withCredentials),f.load(e,function(h){try{n(u.parse(JSON.parse(h)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n={},o={};function l(S,M){if(n[M]!==void 0)return n[M];const w=S.interleavedBuffers[M],C=u(S,w.buffer),O=getTypedArray(w.type,C),L=new InterleavedBuffer(O,w.stride);return L.uuid=w.uuid,n[M]=L,L}function u(S,M){if(o[M]!==void 0)return o[M];const w=S.arrayBuffers[M],C=new Uint32Array(w).buffer;return o[M]=C,C}const f=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,h=e.data.index;if(h!==void 0){const S=getTypedArray(h.type,h.array);f.setIndex(new BufferAttribute(S,1))}const d=e.data.attributes;for(const S in d){const M=d[S];let A;if(M.isInterleavedBufferAttribute){const w=l(e.data,M.data);A=new InterleavedBufferAttribute(w,M.itemSize,M.offset,M.normalized)}else{const w=getTypedArray(M.type,M.array),C=M.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;A=new C(w,M.itemSize,M.normalized)}M.name!==void 0&&(A.name=M.name),M.usage!==void 0&&A.setUsage(M.usage),f.setAttribute(S,A)}const p=e.data.morphAttributes;if(p)for(const S in p){const M=p[S],A=[];for(let w=0,C=M.length;w<C;w++){const O=M[w];let L;if(O.isInterleavedBufferAttribute){const F=l(e.data,O.data);L=new InterleavedBufferAttribute(F,O.itemSize,O.offset,O.normalized)}else{const F=getTypedArray(O.type,O.array);L=new BufferAttribute(F,O.itemSize,O.normalized)}O.name!==void 0&&(L.name=O.name),A.push(L)}f.morphAttributes[S]=A}e.data.morphTargetsRelative&&(f.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let S=0,M=v.length;S!==M;++S){const A=v[S];f.addGroup(A.start,A.count,A.materialIndex)}const _=e.data.boundingSphere;if(_!==void 0){const S=new Vector3;_.center!==void 0&&S.fromArray(_.center),f.boundingSphere=new Sphere(S,_.radius)}return e.name&&(f.name=e.name),e.userData&&(f.userData=e.userData),f}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||f;const h=new FileLoader(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(v){l!==void 0&&l(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){l!==void 0&&l(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}u.parse(p,n)},o,l)}async loadAsync(e,n){const o=this,l=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new FileLoader(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials);const f=await u.loadAsync(e,n),h=JSON.parse(f),d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await o.parseAsync(h)}parse(e,n){const o=this.parseAnimations(e.animations),l=this.parseShapes(e.shapes),u=this.parseGeometries(e.geometries,l),f=this.parseImages(e.images,function(){n!==void 0&&n(p)}),h=this.parseTextures(e.textures,f),d=this.parseMaterials(e.materials,h),p=this.parseObject(e.object,u,d,h,o),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),n!==void 0){let v=!1;for(const _ in f)if(f[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&n(p)}return p}async parseAsync(e){const n=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),l=this.parseGeometries(e.geometries,o),u=await this.parseImagesAsync(e.images),f=this.parseTextures(e.textures,u),h=this.parseMaterials(e.materials,f),d=this.parseObject(e.object,l,h,f,n),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),d}parseShapes(e){const n={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=new Shape$1().fromJSON(e[o]);n[u.uuid]=u}return n}parseSkeletons(e,n){const o={},l={};if(n.traverse(function(u){u.isBone&&(l[u.uuid]=u)}),e!==void 0)for(let u=0,f=e.length;u<f;u++){const h=new Skeleton().fromJSON(e[u],l);o[h.uuid]=h}return o}parseGeometries(e,n){const o={};if(e!==void 0){const l=new BufferGeometryLoader;for(let u=0,f=e.length;u<f;u++){let h;const d=e[u];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":h=l.parse(d);break;default:d.type in Geometries?h=Geometries[d.type].fromJSON(d,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}h.uuid=d.uuid,d.name!==void 0&&(h.name=d.name),d.userData!==void 0&&(h.userData=d.userData),o[d.uuid]=h}}return o}parseMaterials(e,n){const o={},l={};if(e!==void 0){const u=new MaterialLoader;u.setTextures(n);for(let f=0,h=e.length;f<h;f++){const d=e[f];o[d.uuid]===void 0&&(o[d.uuid]=u.parse(d)),l[d.uuid]=o[d.uuid]}}return l}parseAnimations(e){const n={};if(e!==void 0)for(let o=0;o<e.length;o++){const l=e[o],u=AnimationClip.parse(l);n[u.uuid]=u}return n}parseImages(e,n){const o=this,l={};let u;function f(d){return o.manager.itemStart(d),u.load(d,function(){o.manager.itemEnd(d)},void 0,function(){o.manager.itemError(d),o.manager.itemEnd(d)})}function h(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:o.resourcePath+p;return f(m)}else return d.data?{data:getTypedArray(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new LoadingManager(n);u=new ImageLoader(d),u.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],_=v.url;if(Array.isArray(_)){const S=[];for(let M=0,A=_.length;M<A;M++){const w=_[M],C=h(w);C!==null&&(C instanceof HTMLImageElement?S.push(C):S.push(new DataTexture(C.data,C.width,C.height)))}l[v.uuid]=new Source(S)}else{const S=h(v.url);l[v.uuid]=new Source(S)}}}return l}async parseImagesAsync(e){const n=this,o={};let l;async function u(f){if(typeof f=="string"){const h=f,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;return await l.loadAsync(d)}else return f.data?{data:getTypedArray(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){l=new ImageLoader(this.manager),l.setCrossOrigin(this.crossOrigin);for(let f=0,h=e.length;f<h;f++){const d=e[f],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const S=p[v],M=await u(S);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new DataTexture(M.data,M.width,M.height)))}o[d.uuid]=new Source(m)}else{const m=await u(d.url);o[d.uuid]=new Source(m)}}}return o}parseTextures(e,n){function o(u,f){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),f[u])}const l={};if(e!==void 0)for(let u=0,f=e.length;u<f;u++){const h=e[u];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),n[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const d=n[h.image],p=d.data;let m;Array.isArray(p)?(m=new CubeTexture,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new DataTexture:m=new Texture,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=h.uuid,h.name!==void 0&&(m.name=h.name),h.mapping!==void 0&&(m.mapping=o(h.mapping,TEXTURE_MAPPING)),h.channel!==void 0&&(m.channel=h.channel),h.offset!==void 0&&m.offset.fromArray(h.offset),h.repeat!==void 0&&m.repeat.fromArray(h.repeat),h.center!==void 0&&m.center.fromArray(h.center),h.rotation!==void 0&&(m.rotation=h.rotation),h.wrap!==void 0&&(m.wrapS=o(h.wrap[0],TEXTURE_WRAPPING),m.wrapT=o(h.wrap[1],TEXTURE_WRAPPING)),h.format!==void 0&&(m.format=h.format),h.internalFormat!==void 0&&(m.internalFormat=h.internalFormat),h.type!==void 0&&(m.type=h.type),h.colorSpace!==void 0&&(m.colorSpace=h.colorSpace),h.minFilter!==void 0&&(m.minFilter=o(h.minFilter,TEXTURE_FILTER)),h.magFilter!==void 0&&(m.magFilter=o(h.magFilter,TEXTURE_FILTER)),h.anisotropy!==void 0&&(m.anisotropy=h.anisotropy),h.flipY!==void 0&&(m.flipY=h.flipY),h.generateMipmaps!==void 0&&(m.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(m.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(m.compareFunction=h.compareFunction),h.userData!==void 0&&(m.userData=h.userData),l[h.uuid]=m}return l}parseObject(e,n,o,l,u){let f;function h(_){return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),n[_]}function d(_){if(_!==void 0){if(Array.isArray(_)){const S=[];for(let M=0,A=_.length;M<A;M++){const w=_[M];o[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),S.push(o[w])}return S}return o[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),o[_]}}function p(_){return l[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),l[_]}let m,v;switch(e.type){case"Scene":f=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?f.background=new Color$1(e.background):f.background=p(e.background)),e.environment!==void 0&&(f.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?f.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(f.fog=new FogExp2(e.fog.color,e.fog.density)),e.fog.name!==""&&(f.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(f.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(f.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&f.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&f.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":f=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(f.focus=e.focus),e.zoom!==void 0&&(f.zoom=e.zoom),e.filmGauge!==void 0&&(f.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(f.filmOffset=e.filmOffset),e.view!==void 0&&(f.view=Object.assign({},e.view));break;case"OrthographicCamera":f=new OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(f.zoom=e.zoom),e.view!==void 0&&(f.view=Object.assign({},e.view));break;case"AmbientLight":f=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":f=new DirectionalLight(e.color,e.intensity);break;case"PointLight":f=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":f=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":f=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":f=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":f=new LightProbe().fromJSON(e);break;case"SkinnedMesh":m=h(e.geometry),v=d(e.material),f=new SkinnedMesh(m,v),e.bindMode!==void 0&&(f.bindMode=e.bindMode),e.bindMatrix!==void 0&&f.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(f.skeleton=e.skeleton);break;case"Mesh":m=h(e.geometry),v=d(e.material),f=new Mesh(m,v);break;case"InstancedMesh":m=h(e.geometry),v=d(e.material);const _=e.count,S=e.instanceMatrix,M=e.instanceColor;f=new InstancedMesh(m,v,_),f.instanceMatrix=new InstancedBufferAttribute(new Float32Array(S.array),16),M!==void 0&&(f.instanceColor=new InstancedBufferAttribute(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=h(e.geometry),v=d(e.material),f=new BatchedMesh(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,v),f.geometry=m,f.perObjectFrustumCulled=e.perObjectFrustumCulled,f.sortObjects=e.sortObjects,f._drawRanges=e.drawRanges,f._reservedRanges=e.reservedRanges,f._visibility=e.visibility,f._active=e.active,f._bounds=e.bounds.map(A=>{const w=new Box3;w.min.fromArray(A.boxMin),w.max.fromArray(A.boxMax);const C=new Sphere;return C.radius=A.sphereRadius,C.center.fromArray(A.sphereCenter),{boxInitialized:A.boxInitialized,box:w,sphereInitialized:A.sphereInitialized,sphere:C}}),f._maxGeometryCount=e.maxGeometryCount,f._maxVertexCount=e.maxVertexCount,f._maxIndexCount=e.maxIndexCount,f._geometryInitialized=e.geometryInitialized,f._geometryCount=e.geometryCount,f._matricesTexture=p(e.matricesTexture.uuid);break;case"LOD":f=new LOD;break;case"Line":f=new Line(h(e.geometry),d(e.material));break;case"LineLoop":f=new LineLoop(h(e.geometry),d(e.material));break;case"LineSegments":f=new LineSegments(h(e.geometry),d(e.material));break;case"PointCloud":case"Points":f=new Points(h(e.geometry),d(e.material));break;case"Sprite":f=new Sprite(d(e.material));break;case"Group":f=new Group;break;case"Bone":f=new Bone;break;default:f=new Object3D}if(f.uuid=e.uuid,e.name!==void 0&&(f.name=e.name),e.matrix!==void 0?(f.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(f.matrixAutoUpdate=e.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,f.quaternion,f.scale)):(e.position!==void 0&&f.position.fromArray(e.position),e.rotation!==void 0&&f.rotation.fromArray(e.rotation),e.quaternion!==void 0&&f.quaternion.fromArray(e.quaternion),e.scale!==void 0&&f.scale.fromArray(e.scale)),e.up!==void 0&&f.up.fromArray(e.up),e.castShadow!==void 0&&(f.castShadow=e.castShadow),e.receiveShadow!==void 0&&(f.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(f.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(f.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(f.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&f.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(f.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(f.visible=e.visible),e.frustumCulled!==void 0&&(f.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(f.renderOrder=e.renderOrder),e.userData!==void 0&&(f.userData=e.userData),e.layers!==void 0&&(f.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let S=0;S<_.length;S++)f.add(this.parseObject(_[S],n,o,l,u))}if(e.animations!==void 0){const _=e.animations;for(let S=0;S<_.length;S++){const M=_[S];f.animations.push(u[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(f.autoUpdate=e.autoUpdate);const _=e.levels;for(let S=0;S<_.length;S++){const M=_[S],A=f.getObjectByProperty("uuid",M.object);A!==void 0&&f.addLevel(A,M.distance,M.hysteresis)}}return f}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const l=n[o.skeleton];l===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(l,o.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,f=Cache.get(e);if(f!==void 0){if(u.manager.itemStart(e),f.then){f.then(p=>{n&&n(p),u.manager.itemEnd(e)}).catch(p=>{l&&l(p)});return}return setTimeout(function(){n&&n(f),u.manager.itemEnd(e)},0),f}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const d=fetch(e,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(p){return Cache.add(e,p),n&&n(p),u.manager.itemEnd(e),p}).catch(function(p){l&&l(p),Cache.remove(e),u.manager.itemError(e),u.manager.itemEnd(e)});Cache.add(e,d),u.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,f=new FileLoader(this.manager);f.setResponseType("arraybuffer"),f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(d){try{const p=d.slice(0);AudioContext.getContext().decodeAudioData(p,function(v){n(v)}).catch(h)}catch(p){h(p)}},o,l);function h(d){l?l(d):console.error(d),u.manager.itemError(e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const l=n.eyeSep/2,u=l*n.near/n.focus,f=n.near*Math.tan(DEG2RAD*n.fov*.5)/n.zoom;let h,d;_eyeLeft.elements[12]=-l,_eyeRight.elements[12]=l,h=-f*n.aspect+u,d=f*n.aspect+u,_projectionMatrix.elements[0]=2*n.near/(d-h),_projectionMatrix.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(_projectionMatrix),h=-f*n.aspect-u,d=f*n.aspect-u,_projectionMatrix.elements[0]=2*n.near/(d-h),_projectionMatrix.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=now$2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),n.positionX){const l=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_position$1.x,l),n.positionY.linearRampToValueAtTime(_position$1.y,l),n.positionZ.linearRampToValueAtTime(_position$1.z,l),n.forwardX.linearRampToValueAtTime(_orientation$1.x,l),n.forwardY.linearRampToValueAtTime(_orientation$1.y,l),n.forwardZ.linearRampToValueAtTime(_orientation$1.z,l),n.upX.linearRampToValueAtTime(o.x,l),n.upY.linearRampToValueAtTime(o.y,l),n.upZ.linearRampToValueAtTime(o.z,l)}else n.setPosition(_position$1.x,_position$1.y,_position$1.z),n.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,o.x,o.y,o.z)}}class Audio extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const n=this.panner;if(n.positionX){const o=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_position.x,o),n.positionY.linearRampToValueAtTime(_position.y,o),n.positionZ.linearRampToValueAtTime(_position.z,o),n.orientationX.linearRampToValueAtTime(_orientation.x,o),n.orientationY.linearRampToValueAtTime(_orientation.y,o),n.orientationZ.linearRampToValueAtTime(_orientation.z,o)}else n.setPosition(_position.x,_position.y,_position.z),n.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let o=0;o<n.length;o++)e+=n[o];return e/n.length}}class PropertyMixer{constructor(e,n,o){this.binding=e,this.valueSize=o;let l,u,f;switch(n){case"quaternion":l=this._slerp,u=this._slerpAdditive,f=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":l=this._select,u=this._select,f=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:l=this._lerp,u=this._lerpAdditive,f=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=u,this._setIdentity=f,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const o=this.buffer,l=this.valueSize,u=e*l+l;let f=this.cumulativeWeight;if(f===0){for(let h=0;h!==l;++h)o[u+h]=o[h];f=n}else{f+=n;const h=n/f;this._mixBufferRegion(o,u,0,h,l)}this.cumulativeWeight=f}accumulateAdditive(e){const n=this.buffer,o=this.valueSize,l=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,l,0,e,o),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,o=this.buffer,l=e*n+n,u=this.cumulativeWeight,f=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){const d=n*this._origIndex;this._mixBufferRegion(o,l,d,1-u,n)}f>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*n,1,n);for(let d=n,p=n+n;d!==p;++d)if(o[d]!==o[d+n]){h.setValue(o,l);break}}saveOriginalState(){const e=this.binding,n=this.buffer,o=this.valueSize,l=o*this._origIndex;e.getValue(n,l);for(let u=o,f=l;u!==f;++u)n[u]=n[l+u%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let o=e;o<n;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[n+o]=this.buffer[e+o]}_select(e,n,o,l,u){if(l>=.5)for(let f=0;f!==u;++f)e[n+f]=e[o+f]}_slerp(e,n,o,l){Quaternion.slerpFlat(e,n,e,n,e,o,l)}_slerpAdditive(e,n,o,l,u){const f=this._workIndex*u;Quaternion.multiplyQuaternionsFlat(e,f,e,n,e,o),Quaternion.slerpFlat(e,n,e,n,e,f,l)}_lerp(e,n,o,l,u){const f=1-l;for(let h=0;h!==u;++h){const d=n+h;e[d]=e[d]*f+e[o+h]*l}}_lerpAdditive(e,n,o,l,u){for(let f=0;f!==u;++f){const h=n+f;e[h]=e[h]+e[o+f]*l}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,n,o){const l=o||PropertyBinding.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,l)}getValue(e,n){this.bind();const o=this._targetGroup.nCachedObjects_,l=this._bindings[o];l!==void 0&&l.getValue(e,n)}setValue(e,n){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,u=o.length;l!==u;++l)o[l].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].unbind()}}class PropertyBinding{constructor(e,n,o){this.path=n,this.parsedPath=o||PropertyBinding.parseTrackName(n),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,o){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,n,o):new PropertyBinding(e,n,o)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const n=_trackRe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const o={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(l!==void 0&&l!==-1){const u=o.nodeName.substring(l+1);_supportedObjectNames.indexOf(u)!==-1&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=u)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return o}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const o=e.skeleton.getBoneByName(n);if(o!==void 0)return o}if(e.children){const o=function(u){for(let f=0;f<u.length;f++){const h=u[f];if(h.name===n||h.uuid===n)return h;const d=o(h.children);if(d)return d}return null},l=o(e.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)e[n++]=o[l]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,o=n.objectName,l=n.propertyName;let u=n.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(o){let p=n.objectIndex;switch(o){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[o]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const f=e[l];if(f===void 0){const p=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+l+" but it wasn't found.",e);return}let h=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?h=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(u!==void 0){if(l==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[u]!==void 0&&(u=e.morphTargetDictionary[u])}d=this.BindingType.ArrayElement,this.resolvedProperty=f,this.propertyIndex=u}else f.fromArray!==void 0&&f.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(d=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=l;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let o=0,l=arguments.length;o!==l;++o)e[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,o=this._paths,l=this._parsedPaths,u=this._bindings,f=u.length;let h,d=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const _=arguments[m],S=_.uuid;let M=n[S];if(M===void 0){M=d++,n[S]=M,e.push(_);for(let A=0,w=f;A!==w;++A)u[A].push(new PropertyBinding(_,o[A],l[A]))}else if(M<p){h=e[M];const A=--p,w=e[A];n[w.uuid]=M,e[M]=w,n[S]=A,e[A]=_;for(let C=0,O=f;C!==O;++C){const L=u[C],F=L[A];let $=L[M];L[M]=F,$===void 0&&($=new PropertyBinding(_,o[C],l[C])),L[A]=$}}else e[M]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const d=arguments[f],p=d.uuid,m=n[p];if(m!==void 0&&m>=u){const v=u++,_=e[v];n[_.uuid]=m,e[m]=_,n[p]=v,e[v]=d;for(let S=0,M=l;S!==M;++S){const A=o[S],w=A[v],C=A[m];A[m]=w,A[v]=C}}}this.nCachedObjects_=u}uncache(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_,f=e.length;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid,v=n[m];if(v!==void 0)if(delete n[m],v<u){const _=--u,S=e[_],M=--f,A=e[M];n[S.uuid]=v,e[v]=S,n[A.uuid]=_,e[_]=A,e.pop();for(let w=0,C=l;w!==C;++w){const O=o[w],L=O[_],F=O[M];O[v]=L,O[_]=F,O.pop()}}else{const _=--f,S=e[_];_>0&&(n[S.uuid]=v),e[v]=S,e.pop();for(let M=0,A=l;M!==A;++M){const w=o[M];w[v]=w[_],w.pop()}}}this.nCachedObjects_=u}subscribe_(e,n){const o=this._bindingsIndicesByPath;let l=o[e];const u=this._bindings;if(l!==void 0)return u[l];const f=this._paths,h=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,v=new Array(p);l=u.length,o[e]=l,f.push(e),h.push(n),u.push(v);for(let _=m,S=d.length;_!==S;++_){const M=d[_];v[_]=new PropertyBinding(M,e,n)}return v}unsubscribe_(e){const n=this._bindingsIndicesByPath,o=n[e];if(o!==void 0){const l=this._paths,u=this._parsedPaths,f=this._bindings,h=f.length-1,d=f[h],p=e[h];n[p]=o,f[o]=d,f.pop(),u[o]=u[h],u.pop(),l[o]=l[h],l.pop()}}}class AnimationAction{constructor(e,n,o=null,l=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=o,this.blendMode=l;const u=n.tracks,f=u.length,h=new Array(f),d={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let p=0;p!==f;++p){const m=u[p].createInterpolant(null);h[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(f),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,o){if(e.fadeOut(n),this.fadeIn(n),o){const l=this._clip.duration,u=e._clip.duration,f=u/l,h=l/u;e.warp(1,f,n),this.warp(h,1,n)}return this}crossFadeTo(e,n,o){return e.crossFadeFrom(this,n,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,o){const l=this._mixer,u=l.time,f=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=l._lendControlInterpolant(),this._timeScaleInterpolant=h);const d=h.parameterPositions,p=h.sampleValues;return d[0]=u,d[1]=u+o,p[0]=e/f,p[1]=n/f,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,o,l){if(!this.enabled){this._updateWeight(e);return}const u=this._startTime;if(u!==null){const d=(e-u)*o;d<0||o===0?n=0:(this._startTime=null,n=o*d)}n*=this._updateTimeScale(e);const f=this._updateTime(n),h=this._updateWeight(e);if(h>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(f),p[m].accumulateAdditive(h);break;case NormalAnimationBlendMode:default:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(f),p[m].accumulate(l,h)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const o=this._timeScaleInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,o=this.loop;let l=this.time+e,u=this._loopCount;const f=o===LoopPingPong;if(e===0)return u===-1?l:f&&(u&1)===1?n-l:l;if(o===LoopOnce){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=n)l=n;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(u===-1&&(e>=0?(u=0,this._setEndings(!0,this.repetitions===0,f)):this._setEndings(this.repetitions===0,!0,f)),l>=n||l<0){const h=Math.floor(l/n);l-=n*h,u+=Math.abs(h);const d=this.repetitions-u;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=e>0?n:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,f)}else this._setEndings(!1,!1,f);this._loopCount=u,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=l;if(f&&(u&1)===1)return n-l}return l}_setEndings(e,n,o){const l=this._interpolantSettings;o?(l.endingStart=ZeroSlopeEnding,l.endingEnd=ZeroSlopeEnding):(e?l.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingStart=WrapAroundEnding,n?l.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingEnd=WrapAroundEnding)}_scheduleFading(e,n,o){const l=this._mixer,u=l.time;let f=this._weightInterpolant;f===null&&(f=l._lendControlInterpolant(),this._weightInterpolant=f);const h=f.parameterPositions,d=f.sampleValues;return h[0]=u,d[0]=n,h[1]=u+e,d[1]=o,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const o=e._localRoot||this._root,l=e._clip.tracks,u=l.length,f=e._propertyBindings,h=e._interpolants,d=o.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let v=0;v!==u;++v){const _=l[v],S=_.name;let M=m[S];if(M!==void 0)++M.referenceCount,f[v]=M;else{if(M=f[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,S));continue}const A=n&&n._propertyBindings[v].binding.parsedPath;M=new PropertyMixer(PropertyBinding.create(o,S,A),_.ValueTypeName,_.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,S),f[v]=M}h[v].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const o=(e._localRoot||this._root).uuid,l=e._clip.uuid,u=this._actionsByClip[l];this._bindAction(e,u&&u.knownActions[0]),this._addInactiveAction(e,l,o)}const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.useCount===0&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,o){const l=this._actions,u=this._actionsByClip;let f=u[n];if(f===void 0)f={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,u[n]=f;else{const h=f.knownActions;e._byClipCacheIndex=h.length,h.push(e)}e._cacheIndex=l.length,l.push(e),f.actionByRoot[o]=e}_removeInactiveAction(e){const n=this._actions,o=n[n.length-1],l=e._cacheIndex;o._cacheIndex=l,n[l]=o,n.pop(),e._cacheIndex=null;const u=e._clip.uuid,f=this._actionsByClip,h=f[u],d=h.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const v=h.actionByRoot,_=(e._localRoot||this._root).uuid;delete v[_],d.length===0&&delete f[u],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.referenceCount===0&&this._removeInactiveBinding(u)}}_lendAction(e){const n=this._actions,o=e._cacheIndex,l=this._nActiveActions++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackAction(e){const n=this._actions,o=e._cacheIndex,l=--this._nActiveActions,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_addInactiveBinding(e,n,o){const l=this._bindingsByRootAndName,u=this._bindings;let f=l[n];f===void 0&&(f={},l[n]=f),f[o]=e,e._cacheIndex=u.length,u.push(e)}_removeInactiveBinding(e){const n=this._bindings,o=e.binding,l=o.rootNode.uuid,u=o.path,f=this._bindingsByRootAndName,h=f[l],d=n[n.length-1],p=e._cacheIndex;d._cacheIndex=p,n[p]=d,n.pop(),delete h[u],Object.keys(h).length===0&&delete f[l]}_lendBinding(e){const n=this._bindings,o=e._cacheIndex,l=this._nActiveBindings++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackBinding(e){const n=this._bindings,o=e._cacheIndex,l=--this._nActiveBindings,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let o=e[n];return o===void 0&&(o=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),o.__cacheIndex=n,e[n]=o),o}_takeBackControlInterpolant(e){const n=this._controlInterpolants,o=e.__cacheIndex,l=--this._nActiveControlInterpolants,u=n[l];e.__cacheIndex=l,n[l]=e,u.__cacheIndex=o,n[o]=u}clipAction(e,n,o){const l=n||this._root,u=l.uuid;let f=typeof e=="string"?AnimationClip.findByName(l,e):e;const h=f!==null?f.uuid:e,d=this._actionsByClip[h];let p=null;if(o===void 0&&(f!==null?o=f.blendMode:o=NormalAnimationBlendMode),d!==void 0){const v=d.actionByRoot[u];if(v!==void 0&&v.blendMode===o)return v;p=d.knownActions[0],f===null&&(f=p._clip)}if(f===null)return null;const m=new AnimationAction(this,f,n,o);return this._bindAction(m,p),this._addInactiveAction(m,h,u),m}existingAction(e,n){const o=n||this._root,l=o.uuid,u=typeof e=="string"?AnimationClip.findByName(o,e):e,f=u?u.uuid:e,h=this._actionsByClip[f];return h!==void 0&&h.actionByRoot[l]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let o=n-1;o>=0;--o)e[o].stop();return this}update(e){e*=this.timeScale;const n=this._actions,o=this._nActiveActions,l=this.time+=e,u=Math.sign(e),f=this._accuIndex^=1;for(let p=0;p!==o;++p)n[p]._update(l,e,u,f);const h=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)h[p].apply(f);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,o=e.uuid,l=this._actionsByClip,u=l[o];if(u!==void 0){const f=u.knownActions;for(let h=0,d=f.length;h!==d;++h){const p=f[h];this._deactivateAction(p);const m=p._cacheIndex,v=n[n.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,n[m]=v,n.pop(),this._removeInactiveBindingsForAction(p)}delete l[o]}}uncacheRoot(e){const n=e.uuid,o=this._actionsByClip;for(const f in o){const h=o[f].actionByRoot,d=h[n];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const l=this._bindingsByRootAndName,u=l[n];if(u!==void 0)for(const f in u){const h=u[f];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(e,n){const o=this.existingAction(e,n);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let o=0,l=n.length;o<l;o++){const u=Array.isArray(n[o])?n[o]:[n[o]];for(let f=0;f<u.length;f++)this.uniforms.push(u[f].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,n,o=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class GLBufferAttribute{constructor(e,n,o,l,u){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=o,this.elementSize=l,this.count=u,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _matrix=new Matrix4;class Raycaster{constructor(e,n,o=0,l=1/0){this.ray=new Ray(e,n),this.near=o,this.far=l,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,n=!0,o=[]){return intersect(e,this,o,n),o.sort(ascSort),o}intersectObjects(e,n=!0,o=[]){for(let l=0,u=e.length;l<u;l++)intersect(e[l],this,o,n);return o.sort(ascSort),o}}function ascSort(t,e){return t.distance-e.distance}function intersect(t,e,n,o){if(t.layers.test(e.layers)&&t.raycast(e,n),o===!0){const l=t.children;for(let u=0,f=l.length;u<f;u++)intersect(l[u],e,n,!0)}}class Spherical{constructor(e=1,n=0,o=0){return this.radius=e,this.phi=n,this.theta=o,this}set(e,n,o){return this.radius=e,this.phi=n,this.theta=o,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+n*n+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(clamp(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,n=0,o=0){return this.radius=e,this.theta=n,this.y=o,this}set(e,n,o){return this.radius=e,this.theta=n,this.y=o,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=n,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),n=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,n=new Vector3){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const o=_startEnd.dot(_startEnd);let u=_startEnd.dot(_startP)/o;return n&&(u=clamp(u,0,1)),u}closestPointToPoint(e,n,o){const l=this.closestPointToPointParameter(e,n);return this.delta(o).multiplyScalar(l).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const o=new BufferGeometry,l=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let f=0,h=1,d=32;f<d;f++,h++){const p=f/d*Math.PI*2,m=h/d*Math.PI*2;l.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}o.setAttribute("position",new Float32BufferAttribute(l,3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(o,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const n=getBoneList(e),o=new BufferGeometry,l=[],u=[],f=new Color$1(0,0,1),h=new Color$1(0,1,0);for(let p=0;p<n.length;p++){const m=n[p];m.parent&&m.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),u.push(f.r,f.g,f.b),u.push(h.r,h.g,h.b))}o.setAttribute("position",new Float32BufferAttribute(l,3)),o.setAttribute("color",new Float32BufferAttribute(u,3));const d=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(o,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,o=this.geometry,l=o.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let u=0,f=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,h.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(f,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,h.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(f+1,_vector$2.x,_vector$2.y,_vector$2.z),f+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,getBoneList(t.children[n]));return e}class PointLightHelper extends Mesh{constructor(e,n,o){const l=new SphereGeometry(n,4,2),u=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(l,u),this.light=e,this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="HemisphereLightHelper";const l=new OctahedronGeometry(n);l.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const u=l.getAttribute("position"),f=new Float32Array(u.count*3);l.setAttribute("color",new BufferAttribute(f,3)),this.add(new Mesh(l,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let o=0,l=n.count;o<l;o++){const u=o<l/2?_color1:_color2;n.setXYZ(o,u.r,u.g,u.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,n=10,o=4473924,l=8947848){o=new Color$1(o),l=new Color$1(l);const u=n/2,f=e/n,h=e/2,d=[],p=[];for(let _=0,S=0,M=-h;_<=n;_++,M+=f){d.push(-h,0,M,h,0,M),d.push(M,0,-h,M,0,h);const A=_===u?o:l;A.toArray(p,S),S+=3,A.toArray(p,S),S+=3,A.toArray(p,S),S+=3,A.toArray(p,S),S+=3}const m=new BufferGeometry;m.setAttribute("position",new Float32BufferAttribute(d,3)),m.setAttribute("color",new Float32BufferAttribute(p,3));const v=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,n=16,o=8,l=64,u=4473924,f=8947848){u=new Color$1(u),f=new Color$1(f);const h=[],d=[];if(n>1)for(let v=0;v<n;v++){const _=v/n*(Math.PI*2),S=Math.sin(_)*e,M=Math.cos(_)*e;h.push(0,0,0),h.push(S,0,M);const A=v&1?u:f;d.push(A.r,A.g,A.b),d.push(A.r,A.g,A.b)}for(let v=0;v<o;v++){const _=v&1?u:f,S=e-e/o*v;for(let M=0;M<l;M++){let A=M/l*(Math.PI*2),w=Math.sin(A)*S,C=Math.cos(A)*S;h.push(w,0,C),d.push(_.r,_.g,_.b),A=(M+1)/l*(Math.PI*2),w=Math.sin(A)*S,C=Math.cos(A)*S,h.push(w,0,C),d.push(_.r,_.g,_.b)}}const p=new BufferGeometry;p.setAttribute("position",new Float32BufferAttribute(h,3)),p.setAttribute("color",new Float32BufferAttribute(d,3));const m=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="DirectionalLightHelper",n===void 0&&(n=1);let l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(l,u),this.add(this.lightPlane),l=new BufferGeometry,l.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(l,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const n=new BufferGeometry,o=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),l=[],u=[],f={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(M,A){d(M),d(A)}function d(M){l.push(0,0,0),u.push(0,0,0),f[M]===void 0&&(f[M]=[]),f[M].push(l.length/3-1)}n.setAttribute("position",new Float32BufferAttribute(l,3)),n.setAttribute("color",new Float32BufferAttribute(u,3)),super(n,o),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=f,this.update();const p=new Color$1(16755200),m=new Color$1(16711680),v=new Color$1(43775),_=new Color$1(16777215),S=new Color$1(3355443);this.setColors(p,m,v,_,S)}setColors(e,n,o,l,u){const h=this.geometry.getAttribute("color");h.setXYZ(0,e.r,e.g,e.b),h.setXYZ(1,e.r,e.g,e.b),h.setXYZ(2,e.r,e.g,e.b),h.setXYZ(3,e.r,e.g,e.b),h.setXYZ(4,e.r,e.g,e.b),h.setXYZ(5,e.r,e.g,e.b),h.setXYZ(6,e.r,e.g,e.b),h.setXYZ(7,e.r,e.g,e.b),h.setXYZ(8,e.r,e.g,e.b),h.setXYZ(9,e.r,e.g,e.b),h.setXYZ(10,e.r,e.g,e.b),h.setXYZ(11,e.r,e.g,e.b),h.setXYZ(12,e.r,e.g,e.b),h.setXYZ(13,e.r,e.g,e.b),h.setXYZ(14,e.r,e.g,e.b),h.setXYZ(15,e.r,e.g,e.b),h.setXYZ(16,e.r,e.g,e.b),h.setXYZ(17,e.r,e.g,e.b),h.setXYZ(18,e.r,e.g,e.b),h.setXYZ(19,e.r,e.g,e.b),h.setXYZ(20,e.r,e.g,e.b),h.setXYZ(21,e.r,e.g,e.b),h.setXYZ(22,e.r,e.g,e.b),h.setXYZ(23,e.r,e.g,e.b),h.setXYZ(24,n.r,n.g,n.b),h.setXYZ(25,n.r,n.g,n.b),h.setXYZ(26,n.r,n.g,n.b),h.setXYZ(27,n.r,n.g,n.b),h.setXYZ(28,n.r,n.g,n.b),h.setXYZ(29,n.r,n.g,n.b),h.setXYZ(30,n.r,n.g,n.b),h.setXYZ(31,n.r,n.g,n.b),h.setXYZ(32,o.r,o.g,o.b),h.setXYZ(33,o.r,o.g,o.b),h.setXYZ(34,o.r,o.g,o.b),h.setXYZ(35,o.r,o.g,o.b),h.setXYZ(36,o.r,o.g,o.b),h.setXYZ(37,o.r,o.g,o.b),h.setXYZ(38,l.r,l.g,l.b),h.setXYZ(39,l.r,l.g,l.b),h.setXYZ(40,u.r,u.g,u.b),h.setXYZ(41,u.r,u.g,u.b),h.setXYZ(42,u.r,u.g,u.b),h.setXYZ(43,u.r,u.g,u.b),h.setXYZ(44,u.r,u.g,u.b),h.setXYZ(45,u.r,u.g,u.b),h.setXYZ(46,u.r,u.g,u.b),h.setXYZ(47,u.r,u.g,u.b),h.setXYZ(48,u.r,u.g,u.b),h.setXYZ(49,u.r,u.g,u.b),h.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,o=1,l=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",n,e,_camera,0,0,-1),setPoint("t",n,e,_camera,0,0,1),setPoint("n1",n,e,_camera,-1,-1,-1),setPoint("n2",n,e,_camera,o,-1,-1),setPoint("n3",n,e,_camera,-1,l,-1),setPoint("n4",n,e,_camera,o,l,-1),setPoint("f1",n,e,_camera,-1,-1,1),setPoint("f2",n,e,_camera,o,-1,1),setPoint("f3",n,e,_camera,-1,l,1),setPoint("f4",n,e,_camera,o,l,1),setPoint("u1",n,e,_camera,o*.7,l*1.1,-1),setPoint("u2",n,e,_camera,-1*.7,l*1.1,-1),setPoint("u3",n,e,_camera,0,l*2,-1),setPoint("cf1",n,e,_camera,-1,0,1),setPoint("cf2",n,e,_camera,o,0,1),setPoint("cf3",n,e,_camera,0,-1,1),setPoint("cf4",n,e,_camera,0,l,1),setPoint("cn1",n,e,_camera,-1,0,-1),setPoint("cn2",n,e,_camera,o,0,-1),setPoint("cn3",n,e,_camera,0,-1,-1),setPoint("cn4",n,e,_camera,0,l,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(t,e,n,o,l,u,f){_vector.set(l,u,f).unproject(o);const h=e[t];if(h!==void 0){const d=n.getAttribute("position");for(let p=0,m=h.length;p<m;p++)d.setXYZ(h[p],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(8*3),u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const n=_box.min,o=_box.max,l=this.geometry.attributes.position,u=l.array;u[0]=o.x,u[1]=o.y,u[2]=o.z,u[3]=n.x,u[4]=o.y,u[5]=o.z,u[6]=n.x,u[7]=n.y,u[8]=o.z,u[9]=o.x,u[10]=n.y,u[11]=o.z,u[12]=o.x,u[13]=o.y,u[14]=n.z,u[15]=n.x,u[16]=o.y,u[17]=n.z,u[18]=n.x,u[19]=n.y,u[20]=n.z,u[21]=o.x,u[22]=n.y,u[23]=n.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new Float32BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,n=1,o=16776960){const l=o,u=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],f=new BufferGeometry;f.setAttribute("position",new Float32BufferAttribute(u,3)),f.computeBoundingSphere(),super(f,new LineBasicMaterial({color:l,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new BufferGeometry;d.setAttribute("position",new Float32BufferAttribute(h,3)),d.computeBoundingSphere(),this.add(new Mesh(d,new MeshBasicMaterial({color:l,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),n=new Vector3(0,0,0),o=1,l=16776960,u=o*.2,f=u*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(n),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:l,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:l,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,u,f)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,n)}}setLength(e,n=e*.2,o=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(o,n,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute(n,3)),l.setAttribute("color",new Float32BufferAttribute(o,3));const u=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(l,u),this.type="AxesHelper"}setColors(e,n,o){const l=new Color$1,u=this.geometry.attributes.color.array;return l.set(e),l.toArray(u,0),l.toArray(u,3),l.set(n),l.toArray(u,6),l.toArray(u,9),l.set(o),l.toArray(u,12),l.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,o,l){return this.currentPath.quadraticCurveTo(e,n,o,l),this}bezierCurveTo(e,n,o,l,u,f){return this.currentPath.bezierCurveTo(e,n,o,l,u,f),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(C){const O=[];for(let L=0,F=C.length;L<F;L++){const $=C[L],B=new Shape$1;B.curves=$.curves,O.push(B)}return O}function o(C,O){const L=O.length;let F=!1;for(let $=L-1,B=0;B<L;$=B++){let U=O[$],q=O[B],Z=q.x-U.x,G=q.y-U.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(U=O[B],Z=-Z,q=O[$],G=-G),C.y<U.y||C.y>q.y)continue;if(C.y===U.y){if(C.x===U.x)return!0}else{const H=G*(C.x-U.x)-Z*(C.y-U.y);if(H===0)return!0;if(H<0)continue;F=!F}}else{if(C.y!==U.y)continue;if(q.x<=C.x&&C.x<=U.x||U.x<=C.x&&C.x<=q.x)return!0}}return F}const l=ShapeUtils.isClockWise,u=this.subPaths;if(u.length===0)return[];let f,h,d;const p=[];if(u.length===1)return h=u[0],d=new Shape$1,d.curves=h.curves,p.push(d),p;let m=!l(u[0].getPoints());m=e?!m:m;const v=[],_=[];let S=[],M=0,A;_[M]=void 0,S[M]=[];for(let C=0,O=u.length;C<O;C++)h=u[C],A=h.getPoints(),f=l(A),f=e?!f:f,f?(!m&&_[M]&&M++,_[M]={s:new Shape$1,p:A},_[M].s.curves=h.curves,m&&M++,S[M]=[]):S[M].push({h,p:A[0]});if(!_[0])return n(u);if(_.length>1){let C=!1,O=0;for(let L=0,F=_.length;L<F;L++)v[L]=[];for(let L=0,F=_.length;L<F;L++){const $=S[L];for(let B=0;B<$.length;B++){const U=$[B];let q=!0;for(let Z=0;Z<_.length;Z++)o(U.p,_[Z].p)&&(L!==Z&&O++,q?(q=!1,v[Z].push(U)):C=!0);q&&v[L].push(U)}}O>0&&C===!1&&(S=v)}let w;for(let C=0,O=_.length;C<O;C++){d=_[C].s,p.push(d),w=S[C];for(let L=0,F=w.length;L<F;L++)d.holes.push(w[L].h)}return p}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...l,count:o}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve:Curve$1,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path:Path$1,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape:Shape$1,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants$1={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants$1.exports=requireReactReconcilerConstants_production_min()),constants$1.exports}var constantsExports=requireConstants();function createStore$1(t){let e;const n=new Set,o=(p,m)=>{const v=typeof p=="function"?p(e):p;if(v!==e){const _=e;e=m?v:Object.assign({},e,v),n.forEach(S=>S(e,_))}},l=()=>e,u=(p,m=l,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let _=m(e);function S(){const M=m(e);if(!v(_,M)){const A=_;p(_=M,A)}}return n.add(S),()=>n.delete(S)},d={setState:o,getState:l,subscribe:(p,m,v)=>m||v?u(p,m,v):(n.add(p),()=>n.delete(p)),destroy:()=>n.clear()};return e=t(o,l,d),d}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(t){const e=typeof t=="function"?createStore$1(t):t,n=(o=e.getState,l=Object.is)=>{const[,u]=reactExports.useReducer(w=>w+1,0),f=e.getState(),h=reactExports.useRef(f),d=reactExports.useRef(o),p=reactExports.useRef(l),m=reactExports.useRef(!1),v=reactExports.useRef();v.current===void 0&&(v.current=o(f));let _,S=!1;(h.current!==f||d.current!==o||p.current!==l||m.current)&&(_=o(f),S=!l(v.current,_)),useIsomorphicLayoutEffect$1(()=>{S&&(v.current=_),h.current=f,d.current=o,p.current=l,m.current=!1});const M=reactExports.useRef(f);useIsomorphicLayoutEffect$1(()=>{const w=()=>{try{const O=e.getState(),L=d.current(O);p.current(v.current,L)||(h.current=O,v.current=L,u())}catch{m.current=!0,u()}},C=e.subscribe(w);return e.getState()!==M.current&&w(),C},[]);const A=S?_:v.current;return reactExports.useDebugValue(A),A};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,e];return{next(){const l=o.length<=0;return{value:o.shift(),done:l}}}},n}const isPromise=t=>typeof t=="object"&&typeof t.then=="function",globalCache=[];function shallowEqualArrays(t,e,n=(o,l)=>o===l){if(t===e)return!0;if(!t||!e)return!1;const o=t.length;if(e.length!==o)return!1;for(let l=0;l<o;l++)if(!n(t[l],e[l]))return!1;return!0}function query(t,e=null,n=!1,o={}){e===null&&(e=[t]);for(const u of globalCache)if(shallowEqualArrays(e,u.keys,u.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(u,"error"))throw u.error;if(Object.prototype.hasOwnProperty.call(u,"response"))return o.lifespan&&o.lifespan>0&&(u.timeout&&clearTimeout(u.timeout),u.timeout=setTimeout(u.remove,o.lifespan)),u.response;if(!n)throw u.promise}const l={keys:e,equal:o.equal,remove:()=>{const u=globalCache.indexOf(l);u!==-1&&globalCache.splice(u,1)},promise:(isPromise(t)?t:t(...e)).then(u=>{l.response=u,o.lifespan&&o.lifespan>0&&(l.timeout=setTimeout(l.remove,o.lifespan))}).catch(u=>l.error=u)};if(globalCache.push(l),!n)throw l.promise}const suspend=(t,e,n)=>query(t,e,!1,n),preload=(t,e,n)=>void query(t,e,!0,n),clear=t=>{if(t===void 0||t.length===0)globalCache.splice(0,globalCache.length);else{const e=globalCache.find(n=>shallowEqualArrays(t,n.keys,n.equal));e&&e.remove()}};var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,d,p){var m,v={},_=null,S=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)o.call(d,m)&&!u.hasOwnProperty(m)&&(v[m]=d[m]);if(h&&h.defaultProps)for(m in d=h.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:h,key:_,ref:S,props:v,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=f,reactJsxRuntime_production_min.jsxs=f,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(J,oe){var se=J.length;J.push(oe);e:for(;0<se;){var Q=se-1>>>1,ue=J[Q];if(0<l(ue,oe))J[Q]=oe,J[se]=ue,se=Q;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var oe=J[0],se=J.pop();if(se!==oe){J[0]=se;e:for(var Q=0,ue=J.length,_e=ue>>>1;Q<_e;){var ge=2*(Q+1)-1,ve=J[ge],we=ge+1,Pe=J[we];if(0>l(ve,se))we<ue&&0>l(Pe,ve)?(J[Q]=Pe,J[we]=se,Q=we):(J[Q]=ve,J[ge]=se,Q=ge);else if(we<ue&&0>l(Pe,se))J[Q]=Pe,J[we]=se,Q=we;else break e}}return oe}function l(J,oe){var se=J.sortIndex-oe.sortIndex;return se!==0?se:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();t.unstable_now=function(){return f.now()-h}}var d=[],p=[],m=1,v=null,_=3,S=!1,M=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var oe=n(p);oe!==null;){if(oe.callback===null)o(p);else if(oe.startTime<=J)o(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(p)}}function F(J){if(A=!1,L(J),!M)if(n(d)!==null)M=!0,fe($);else{var oe=n(p);oe!==null&&ye(F,oe.startTime-J)}}function $(J,oe){M=!1,A&&(A=!1,C(q),q=-1),S=!0;var se=_;try{for(L(oe),v=n(d);v!==null&&(!(v.expirationTime>oe)||J&&!H());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,_=v.priorityLevel;var ue=Q(v.expirationTime<=oe);oe=t.unstable_now(),typeof ue=="function"?v.callback=ue:v===n(d)&&o(d),L(oe)}else o(d);v=n(d)}if(v!==null)var _e=!0;else{var ge=n(p);ge!==null&&ye(F,ge.startTime-oe),_e=!1}return _e}finally{v=null,_=se,S=!1}}var B=!1,U=null,q=-1,Z=5,G=-1;function H(){return!(t.unstable_now()-G<Z)}function ne(){if(U!==null){var J=t.unstable_now();G=J;var oe=!0;try{oe=U(!0,J)}finally{oe?ae():(B=!1,U=null)}}else B=!1}var ae;if(typeof O=="function")ae=function(){O(ne)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=ne,ae=function(){ce.postMessage(null)}}else ae=function(){w(ne,0)};function fe(J){U=J,B||(B=!0,ae())}function ye(J,oe){q=w(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){M||S||(M=!0,fe($))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var se=_;_=oe;try{return J()}finally{_=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=_;_=J;try{return oe()}finally{_=se}},t.unstable_scheduleCallback=function(J,oe,se){var Q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Q+se:Q):se=Q,J){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=se+ue,J={id:m++,callback:oe,priorityLevel:J,startTime:se,expirationTime:ue,sortIndex:-1},se>Q?(J.sortIndex=se,e(p,J),n(d)===null&&J===n(p)&&(A?(C(q),q=-1):A=!0,ye(F,se-Q))):(J.sortIndex=ue,e(d,J),M||S||(M=!0,fe($))),J},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(J){var oe=_;return function(){var se=_;_=oe;try{return J.apply(this,arguments)}finally{_=se}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(e){var n={},o=requireReact(),l=requireScheduler(),u=Object.assign;function f(R){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+R,z=1;z<arguments.length;z++)I+="&args[]="+encodeURIComponent(arguments[z]);return"Minified React error #"+R+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),$=Symbol.iterator;function B(R){return R===null||typeof R!="object"?null:(R=$&&R[$]||R["@@iterator"],typeof R=="function"?R:null)}function U(R){if(R==null)return null;if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case m:return"Fragment";case p:return"Portal";case _:return"Profiler";case v:return"StrictMode";case w:return"Suspense";case C:return"SuspenseList"}if(typeof R=="object")switch(R.$$typeof){case M:return(R.displayName||"Context")+".Consumer";case S:return(R._context.displayName||"Context")+".Provider";case A:var I=R.render;return R=R.displayName,R||(R=I.displayName||I.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case O:return I=R.displayName||null,I!==null?I:U(R.type)||"Memo";case L:I=R._payload,R=R._init;try{return U(R(I))}catch{}}return null}function q(R){var I=R.type;switch(R.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return R=I.render,R=R.displayName||R.name||"",I.displayName||(R!==""?"ForwardRef("+R+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(I);case 8:return I===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function Z(R){var I=R,z=R;if(R.alternate)for(;I.return;)I=I.return;else{R=I;do I=R,(I.flags&4098)!==0&&(z=I.return),R=I.return;while(R)}return I.tag===3?z:null}function G(R){if(Z(R)!==R)throw Error(f(188))}function H(R){var I=R.alternate;if(!I){if(I=Z(R),I===null)throw Error(f(188));return I!==R?null:R}for(var z=R,K=I;;){var ee=z.return;if(ee===null)break;var le=ee.alternate;if(le===null){if(K=ee.return,K!==null){z=K;continue}break}if(ee.child===le.child){for(le=ee.child;le;){if(le===z)return G(ee),R;if(le===K)return G(ee),I;le=le.sibling}throw Error(f(188))}if(z.return!==K.return)z=ee,K=le;else{for(var Ee=!1,Be=ee.child;Be;){if(Be===z){Ee=!0,z=ee,K=le;break}if(Be===K){Ee=!0,K=ee,z=le;break}Be=Be.sibling}if(!Ee){for(Be=le.child;Be;){if(Be===z){Ee=!0,z=le,K=ee;break}if(Be===K){Ee=!0,K=le,z=ee;break}Be=Be.sibling}if(!Ee)throw Error(f(189))}}if(z.alternate!==K)throw Error(f(190))}if(z.tag!==3)throw Error(f(188));return z.stateNode.current===z?R:I}function ne(R){return R=H(R),R!==null?ae(R):null}function ae(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){var I=ae(R);if(I!==null)return I;R=R.sibling}return null}function te(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){if(R.tag!==4){var I=te(R);if(I!==null)return I}R=R.sibling}return null}var ce=Array.isArray,fe=e.getPublicInstance,ye=e.getRootHostContext,J=e.getChildHostContext,oe=e.prepareForCommit,se=e.resetAfterCommit,Q=e.createInstance,ue=e.appendInitialChild,_e=e.finalizeInitialChildren,ge=e.prepareUpdate,ve=e.shouldSetTextContent,we=e.createTextInstance,Pe=e.scheduleTimeout,Re=e.cancelTimeout,Ae=e.noTimeout,Ne=e.isPrimaryRenderer,Ie=e.supportsMutation,he=e.supportsPersistence,ke=e.supportsHydration,Me=e.getInstanceFromNode,je=e.preparePortalMount,Fe=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,Ve=e.supportsMicrotasks,Je=e.scheduleMicrotask,ot=e.supportsTestSelectors,pe=e.findFiberRoot,de=e.getBoundingRect,Oe=e.getTextContent,De=e.isHiddenSubtree,Ue=e.matchAccessibilityRole,tt=e.setFocusIfFocusable,ut=e.setupIntersectionObserver,mt=e.appendChild,it=e.appendChildToContainer,ht=e.commitTextUpdate,Et=e.commitMount,dt=e.commitUpdate,It=e.insertBefore,bt=e.insertInContainerBefore,pt=e.removeChild,Se=e.removeChildFromContainer,We=e.resetTextContent,xe=e.hideInstance,qe=e.hideTextInstance,lt=e.unhideInstance,Te=e.unhideTextInstance,gt=e.clearContainer,ze=e.cloneInstance,at=e.createContainerChildSet,yt=e.appendChildToContainerChildSet,At=e.finalizeContainerChildren,Tt=e.replaceContainerChildren,Nt=e.cloneHiddenInstance,Jt=e.cloneHiddenTextInstance,Ut=e.canHydrateInstance,Zt=e.canHydrateTextInstance,fn=e.canHydrateSuspenseInstance,Qn=e.isSuspenseInstancePending,$n=e.isSuspenseInstanceFallback,or=e.registerSuspenseInstanceRetry,er=e.getNextHydratableSibling,sr=e.getFirstHydratableChild,Wn=e.getFirstHydratableChildWithinContainer,fi=e.getFirstHydratableChildWithinSuspenseInstance,xo=e.hydrateInstance,Zr=e.hydrateTextInstance,bo=e.hydrateSuspenseInstance,be=e.getNextHydratableInstanceAfterSuspenseInstance,He=e.commitHydratedContainer,et=e.commitHydratedSuspenseInstance,rt=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Pt=e.shouldDeleteUnhydratedTailInstances,Bt=e.didNotMatchHydratedContainerTextInstance,jt=e.didNotMatchHydratedTextInstance,ft;function Wt(R){if(ft===void 0)try{throw Error()}catch(z){var I=z.stack.trim().match(/\n( *(at )?)/);ft=I&&I[1]||""}return`
`+ft+R}var Xt=!1;function qt(R,I){if(!R||Xt)return"";Xt=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(St){var K=St}Reflect.construct(R,[],I)}else{try{I.call()}catch(St){K=St}R.call(I.prototype)}else{try{throw Error()}catch(St){K=St}R()}}catch(St){if(St&&K&&typeof St.stack=="string"){for(var ee=St.stack.split(`
`),le=K.stack.split(`
`),Ee=ee.length-1,Be=le.length-1;1<=Ee&&0<=Be&&ee[Ee]!==le[Be];)Be--;for(;1<=Ee&&0<=Be;Ee--,Be--)if(ee[Ee]!==le[Be]){if(Ee!==1||Be!==1)do if(Ee--,Be--,0>Be||ee[Ee]!==le[Be]){var ct=`
`+ee[Ee].replace(" at new "," at ");return R.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",R.displayName)),ct}while(1<=Ee&&0<=Be);break}}}finally{Xt=!1,Error.prepareStackTrace=z}return(R=R?R.displayName||R.name:"")?Wt(R):""}var gn=Object.prototype.hasOwnProperty,Xn=[],vn=-1;function wn(R){return{current:R}}function Ft(R){0>vn||(R.current=Xn[vn],Xn[vn]=null,vn--)}function Ot(R,I){vn++,Xn[vn]=R.current,R.current=I}var Sn={},tn=wn(Sn),Mn=wn(!1),Jr=Sn;function Vn(R,I){var z=R.type.contextTypes;if(!z)return Sn;var K=R.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===I)return K.__reactInternalMemoizedMaskedChildContext;var ee={},le;for(le in z)ee[le]=I[le];return K&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=I,R.__reactInternalMemoizedMaskedChildContext=ee),ee}function Cn(R){return R=R.childContextTypes,R!=null}function pn(){Ft(Mn),Ft(tn)}function vr(R,I,z){if(tn.current!==Sn)throw Error(f(168));Ot(tn,I),Ot(Mn,z)}function Bi(R,I,z){var K=R.stateNode;if(I=I.childContextTypes,typeof K.getChildContext!="function")return z;K=K.getChildContext();for(var ee in K)if(!(ee in I))throw Error(f(108,q(R)||"Unknown",ee));return u({},z,K)}function Gn(R){return R=(R=R.stateNode)&&R.__reactInternalMemoizedMergedChildContext||Sn,Jr=tn.current,Ot(tn,R),Ot(Mn,Mn.current),!0}function tr(R,I,z){var K=R.stateNode;if(!K)throw Error(f(169));z?(R=Bi(R,I,Jr),K.__reactInternalMemoizedMergedChildContext=R,Ft(Mn),Ft(tn),Ot(tn,R)):Ft(Mn),Ot(Mn,z)}var Ar=Math.clz32?Math.clz32:Ds,Mi=Math.log,Ti=Math.LN2;function Ds(R){return R>>>=0,R===0?32:31-(Mi(R)/Ti|0)|0}var Ai=64,un=4194304;function Ui(R){switch(R&-R){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return R&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return R}}function Ma(R,I){var z=R.pendingLanes;if(z===0)return 0;var K=0,ee=R.suspendedLanes,le=R.pingedLanes,Ee=z&268435455;if(Ee!==0){var Be=Ee&~ee;Be!==0?K=Ui(Be):(le&=Ee,le!==0&&(K=Ui(le)))}else Ee=z&~ee,Ee!==0?K=Ui(Ee):le!==0&&(K=Ui(le));if(K===0)return 0;if(I!==0&&I!==K&&(I&ee)===0&&(ee=K&-K,le=I&-I,ee>=le||ee===16&&(le&4194240)!==0))return I;if((K&4)!==0&&(K|=z&16),I=R.entangledLanes,I!==0)for(R=R.entanglements,I&=K;0<I;)z=31-Ar(I),ee=1<<z,K|=R[z],I&=~ee;return K}function So(R,I){switch(R){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(R,I){for(var z=R.suspendedLanes,K=R.pingedLanes,ee=R.expirationTimes,le=R.pendingLanes;0<le;){var Ee=31-Ar(le),Be=1<<Ee,ct=ee[Ee];ct===-1?((Be&z)===0||(Be&K)!==0)&&(ee[Ee]=So(Be,I)):ct<=I&&(R.expiredLanes|=Be),le&=~Be}}function zi(R){return R=R.pendingLanes&-1073741825,R!==0?R:R&1073741824?1073741824:0}function ja(R){for(var I=[],z=0;31>z;z++)I.push(R);return I}function hi(R,I,z){R.pendingLanes|=I,I!==536870912&&(R.suspendedLanes=0,R.pingedLanes=0),R=R.eventTimes,I=31-Ar(I),R[I]=z}function Pi(R,I){var z=R.pendingLanes&~I;R.pendingLanes=I,R.suspendedLanes=0,R.pingedLanes=0,R.expiredLanes&=I,R.mutableReadLanes&=I,R.entangledLanes&=I,I=R.entanglements;var K=R.eventTimes;for(R=R.expirationTimes;0<z;){var ee=31-Ar(z),le=1<<ee;I[ee]=0,K[ee]=-1,R[ee]=-1,z&=~le}}function _r(R,I){var z=R.entangledLanes|=I;for(R=R.entanglements;z;){var K=31-Ar(z),ee=1<<K;ee&I|R[K]&I&&(R[K]|=I),z&=~ee}}var Qt=0;function di(R){return R&=-R,1<R?4<R?(R&268435455)!==0?16:536870912:4:1}var Qr=l.unstable_scheduleCallback,Vi=l.unstable_cancelCallback,mi=l.unstable_shouldYield,Ls=l.unstable_requestPaint,On=l.unstable_now,Ci=l.unstable_ImmediatePriority,ks=l.unstable_UserBlockingPriority,Pr=l.unstable_NormalPriority,Ta=l.unstable_IdlePriority,Aa=null,ei=null;function Ji(R){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Aa,R,void 0,(R.current.flags&128)===128)}catch{}}function Pa(R,I){return R===I&&(R!==0||1/R===1/I)||R!==R&&I!==I}var lr=typeof Object.is=="function"?Object.is:Pa,cr=null,Gi=!1,gi=!1;function qa(R){cr===null?cr=[R]:cr.push(R)}function Ca(R){Gi=!0,qa(R)}function Cr(){if(!gi&&cr!==null){gi=!0;var R=0,I=Qt;try{var z=cr;for(Qt=1;R<z.length;R++){var K=z[R];do K=K(!0);while(K!==null)}cr=null,Gi=!1}catch(ee){throw cr!==null&&(cr=cr.slice(R+1)),Qr(Ci,Cr),ee}finally{Qt=I,gi=!1}}return null}var Ra=h.ReactCurrentBatchConfig;function jr(R,I){if(lr(R,I))return!0;if(typeof R!="object"||R===null||typeof I!="object"||I===null)return!1;var z=Object.keys(R),K=Object.keys(I);if(z.length!==K.length)return!1;for(K=0;K<z.length;K++){var ee=z[K];if(!gn.call(I,ee)||!lr(R[ee],I[ee]))return!1}return!0}function Qi(R){switch(R.tag){case 5:return Wt(R.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return R=qt(R.type,!1),R;case 11:return R=qt(R.type.render,!1),R;case 1:return R=qt(R.type,!0),R;default:return""}}function ur(R,I){if(R&&R.defaultProps){I=u({},I),R=R.defaultProps;for(var z in R)I[z]===void 0&&(I[z]=R[z]);return I}return I}var nr=wn(null),ea=null,qr=null,ta=null;function fr(){ta=qr=ea=null}function na(R,I,z){Ne?(Ot(nr,I._currentValue),I._currentValue=z):(Ot(nr,I._currentValue2),I._currentValue2=z)}function Kn(R){var I=nr.current;Ft(nr),Ne?R._currentValue=I:R._currentValue2=I}function rr(R,I,z){for(;R!==null;){var K=R.alternate;if((R.childLanes&I)!==I?(R.childLanes|=I,K!==null&&(K.childLanes|=I)):K!==null&&(K.childLanes&I)!==I&&(K.childLanes|=I),R===z)break;R=R.return}}function jn(R,I){ea=R,ta=qr=null,R=R.dependencies,R!==null&&R.firstContext!==null&&((R.lanes&I)!==0&&(mr=!0),R.firstContext=null)}function kn(R){var I=Ne?R._currentValue:R._currentValue2;if(ta!==R)if(R={context:R,memoizedValue:I,next:null},qr===null){if(ea===null)throw Error(f(308));qr=R,ea.dependencies={lanes:0,firstContext:R}}else qr=qr.next=R;return I}var Nr=null,yi=!1;function wo(R){R.updateQueue={baseState:R.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wl(R,I){R=R.updateQueue,I.updateQueue===R&&(I.updateQueue={baseState:R.baseState,firstBaseUpdate:R.firstBaseUpdate,lastBaseUpdate:R.lastBaseUpdate,shared:R.shared,effects:R.effects})}function ra(R,I){return{eventTime:R,lane:I,tag:0,payload:null,callback:null,next:null}}function Ia(R,I){var z=R.updateQueue;z!==null&&(z=z.shared,Hn!==null&&(R.mode&1)!==0&&(on&2)===0?(R=z.interleaved,R===null?(I.next=I,Nr===null?Nr=[z]:Nr.push(z)):(I.next=R.next,R.next=I),z.interleaved=I):(R=z.pending,R===null?I.next=I:(I.next=R.next,R.next=I),z.pending=I))}function Ns(R,I,z){if(I=I.updateQueue,I!==null&&(I=I.shared,(z&4194240)!==0)){var K=I.lanes;K&=R.pendingLanes,z|=K,I.lanes=z,_r(R,z)}}function Fs(R,I){var z=R.updateQueue,K=R.alternate;if(K!==null&&(K=K.updateQueue,z===K)){var ee=null,le=null;if(z=z.firstBaseUpdate,z!==null){do{var Ee={eventTime:z.eventTime,lane:z.lane,tag:z.tag,payload:z.payload,callback:z.callback,next:null};le===null?ee=le=Ee:le=le.next=Ee,z=z.next}while(z!==null);le===null?ee=le=I:le=le.next=I}else ee=le=I;z={baseState:K.baseState,firstBaseUpdate:ee,lastBaseUpdate:le,shared:K.shared,effects:K.effects},R.updateQueue=z;return}R=z.lastBaseUpdate,R===null?z.firstBaseUpdate=I:R.next=I,z.lastBaseUpdate=I}function $s(R,I,z,K){var ee=R.updateQueue;yi=!1;var le=ee.firstBaseUpdate,Ee=ee.lastBaseUpdate,Be=ee.shared.pending;if(Be!==null){ee.shared.pending=null;var ct=Be,St=ct.next;ct.next=null,Ee===null?le=St:Ee.next=St,Ee=ct;var Lt=R.alternate;Lt!==null&&(Lt=Lt.updateQueue,Be=Lt.lastBaseUpdate,Be!==Ee&&(Be===null?Lt.firstBaseUpdate=St:Be.next=St,Lt.lastBaseUpdate=ct))}if(le!==null){var nn=ee.baseState;Ee=0,Lt=St=ct=null,Be=le;do{var Ht=Be.lane,sn=Be.eventTime;if((K&Ht)===Ht){Lt!==null&&(Lt=Lt.next={eventTime:sn,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var Rt=R,Mr=Be;switch(Ht=I,sn=z,Mr.tag){case 1:if(Rt=Mr.payload,typeof Rt=="function"){nn=Rt.call(sn,nn,Ht);break e}nn=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Mr.payload,Ht=typeof Rt=="function"?Rt.call(sn,nn,Ht):Rt,Ht==null)break e;nn=u({},nn,Ht);break e;case 2:yi=!0}}Be.callback!==null&&Be.lane!==0&&(R.flags|=64,Ht=ee.effects,Ht===null?ee.effects=[Be]:Ht.push(Be))}else sn={eventTime:sn,lane:Ht,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Lt===null?(St=Lt=sn,ct=nn):Lt=Lt.next=sn,Ee|=Ht;if(Be=Be.next,Be===null){if(Be=ee.shared.pending,Be===null)break;Ht=Be,Be=Ht.next,Ht.next=null,ee.lastBaseUpdate=Ht,ee.shared.pending=null}}while(!0);if(Lt===null&&(ct=nn),ee.baseState=ct,ee.firstBaseUpdate=St,ee.lastBaseUpdate=Lt,I=ee.shared.interleaved,I!==null){ee=I;do Ee|=ee.lane,ee=ee.next;while(ee!==I)}else le===null&&(ee.shared.lanes=0);Wi|=Ee,R.lanes=Ee,R.memoizedState=nn}}function mc(R,I,z){if(R=I.effects,I.effects=null,R!==null)for(I=0;I<R.length;I++){var K=R[I],ee=K.callback;if(ee!==null){if(K.callback=null,K=z,typeof ee!="function")throw Error(f(191,ee));ee.call(K)}}}var gc=new o.Component().refs;function Ml(R,I,z,K){I=R.memoizedState,z=z(K,I),z=z==null?I:u({},I,z),R.memoizedState=z,R.lanes===0&&(R.updateQueue.baseState=z)}var Bs={isMounted:function(R){return(R=R._reactInternals)?Z(R)===R:!1},enqueueSetState:function(R,I,z){R=R._reactInternals;var K=mn(),ee=Ni(R),le=ra(K,ee);le.payload=I,z!=null&&(le.callback=z),Ia(R,le),I=Or(R,ee,K),I!==null&&Ns(I,R,ee)},enqueueReplaceState:function(R,I,z){R=R._reactInternals;var K=mn(),ee=Ni(R),le=ra(K,ee);le.tag=1,le.payload=I,z!=null&&(le.callback=z),Ia(R,le),I=Or(R,ee,K),I!==null&&Ns(I,R,ee)},enqueueForceUpdate:function(R,I){R=R._reactInternals;var z=mn(),K=Ni(R),ee=ra(z,K);ee.tag=2,I!=null&&(ee.callback=I),Ia(R,ee),I=Or(R,K,z),I!==null&&Ns(I,R,K)}};function Tl(R,I,z,K,ee,le,Ee){return R=R.stateNode,typeof R.shouldComponentUpdate=="function"?R.shouldComponentUpdate(K,le,Ee):I.prototype&&I.prototype.isPureReactComponent?!jr(z,K)||!jr(ee,le):!0}function yc(R,I,z){var K=!1,ee=Sn,le=I.contextType;return typeof le=="object"&&le!==null?le=kn(le):(ee=Cn(I)?Jr:tn.current,K=I.contextTypes,le=(K=K!=null)?Vn(R,ee):Sn),I=new I(z,le),R.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Bs,R.stateNode=I,I._reactInternals=R,K&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=ee,R.__reactInternalMemoizedMaskedChildContext=le),I}function vc(R,I,z,K){R=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps(z,K),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps(z,K),I.state!==R&&Bs.enqueueReplaceState(I,I.state,null)}function Al(R,I,z,K){var ee=R.stateNode;ee.props=z,ee.state=R.memoizedState,ee.refs=gc,wo(R);var le=I.contextType;typeof le=="object"&&le!==null?ee.context=kn(le):(le=Cn(I)?Jr:tn.current,ee.context=Vn(R,le)),ee.state=R.memoizedState,le=I.getDerivedStateFromProps,typeof le=="function"&&(Ml(R,I,le,z),ee.state=R.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(I=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),I!==ee.state&&Bs.enqueueReplaceState(ee,ee.state,null),$s(R,z,ee,K),ee.state=R.memoizedState),typeof ee.componentDidMount=="function"&&(R.flags|=4194308)}var Mo=[],Oa=0,Us=null,zs=0,vi=[],ti=0,Ha=null,ia=1,aa="";function Wa(R,I){Mo[Oa++]=zs,Mo[Oa++]=Us,Us=R,zs=I}function _c(R,I,z){vi[ti++]=ia,vi[ti++]=aa,vi[ti++]=Ha,Ha=R;var K=ia;R=aa;var ee=32-Ar(K)-1;K&=~(1<<ee),z+=1;var le=32-Ar(I)+ee;if(30<le){var Ee=ee-ee%5;le=(K&(1<<Ee)-1).toString(32),K>>=Ee,ee-=Ee,ia=1<<32-Ar(I)+ee|z<<ee|K,aa=le+R}else ia=1<<le|z<<ee|K,aa=R}function Pl(R){R.return!==null&&(Wa(R,1),_c(R,1,0))}function Cl(R){for(;R===Us;)Us=Mo[--Oa],Mo[Oa]=null,zs=Mo[--Oa],Mo[Oa]=null;for(;R===Ha;)Ha=vi[--ti],vi[ti]=null,aa=vi[--ti],vi[ti]=null,ia=vi[--ti],vi[ti]=null}var Fr=null,xr=null,Dn=!1,To=!1,_i=null;function Rl(R,I){var z=li(5,null,null,0);z.elementType="DELETED",z.stateNode=I,z.return=R,I=R.deletions,I===null?(R.deletions=[z],R.flags|=16):I.push(z)}function Il(R,I){switch(R.tag){case 5:return I=Ut(I,R.type,R.pendingProps),I!==null?(R.stateNode=I,Fr=R,xr=sr(I),!0):!1;case 6:return I=Zt(I,R.pendingProps),I!==null?(R.stateNode=I,Fr=R,xr=null,!0):!1;case 13:if(I=fn(I),I!==null){var z=Ha!==null?{id:ia,overflow:aa}:null;return R.memoizedState={dehydrated:I,treeContext:z,retryLane:1073741824},z=li(18,null,null,0),z.stateNode=I,z.return=R,R.child=z,Fr=R,xr=null,!0}return!1;default:return!1}}function Vs(R){return(R.mode&1)!==0&&(R.flags&128)===0}function Da(R){if(Dn){var I=xr;if(I){var z=I;if(!Il(R,I)){if(Vs(R))throw Error(f(418));I=er(z);var K=Fr;I&&Il(R,I)?Rl(K,z):(R.flags=R.flags&-4097|2,Dn=!1,Fr=R)}}else{if(Vs(R))throw Error(f(418));R.flags=R.flags&-4097|2,Dn=!1,Fr=R}}}function xc(R){for(R=R.return;R!==null&&R.tag!==5&&R.tag!==3&&R.tag!==13;)R=R.return;Fr=R}function Qo(R){if(!ke||R!==Fr)return!1;if(!Dn)return xc(R),Dn=!0,!1;if(R.tag!==3&&(R.tag!==5||Pt(R.type)&&!ve(R.type,R.memoizedProps))){var I=xr;if(I){if(Vs(R)){for(R=xr;R;)R=er(R);throw Error(f(418))}for(;I;)Rl(R,I),I=er(I)}}if(xc(R),R.tag===13){if(!ke)throw Error(f(316));if(R=R.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(f(317));xr=be(R)}else xr=Fr?er(R.stateNode):null;return!0}function Ao(){ke&&(xr=Fr=null,To=Dn=!1)}function Gs(R){_i===null?_i=[R]:_i.push(R)}function Po(R,I,z){if(R=z.ref,R!==null&&typeof R!="function"&&typeof R!="object"){if(z._owner){if(z=z._owner,z){if(z.tag!==1)throw Error(f(309));var K=z.stateNode}if(!K)throw Error(f(147,R));var ee=K,le=""+R;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===le?I.ref:(I=function(Ee){var Be=ee.refs;Be===gc&&(Be=ee.refs={}),Ee===null?delete Be[le]:Be[le]=Ee},I._stringRef=le,I)}if(typeof R!="string")throw Error(f(284));if(!z._owner)throw Error(f(290,R))}return R}function La(R,I){throw R=Object.prototype.toString.call(I),Error(f(31,R==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":R))}function Co(R){var I=R._init;return I(R._payload)}function bc(R){function I(Ye,Ge){if(R){var st=Ye.deletions;st===null?(Ye.deletions=[Ge],Ye.flags|=16):st.push(Ge)}}function z(Ye,Ge){if(!R)return null;for(;Ge!==null;)I(Ye,Ge),Ge=Ge.sibling;return null}function K(Ye,Ge){for(Ye=new Map;Ge!==null;)Ge.key!==null?Ye.set(Ge.key,Ge):Ye.set(Ge.index,Ge),Ge=Ge.sibling;return Ye}function ee(Ye,Ge){return Ye=xa(Ye,Ge),Ye.index=0,Ye.sibling=null,Ye}function le(Ye,Ge,st){return Ye.index=st,R?(st=Ye.alternate,st!==null?(st=st.index,st<Ge?(Ye.flags|=2,Ge):st):(Ye.flags|=2,Ge)):(Ye.flags|=1048576,Ge)}function Ee(Ye){return R&&Ye.alternate===null&&(Ye.flags|=2),Ye}function Be(Ye,Ge,st,Ct){return Ge===null||Ge.tag!==6?(Ge=gl(st,Ye.mode,Ct),Ge.return=Ye,Ge):(Ge=ee(Ge,st),Ge.return=Ye,Ge)}function ct(Ye,Ge,st,Ct){var Vt=st.type;return Vt===m?Lt(Ye,Ge,st.props.children,Ct,st.key):Ge!==null&&(Ge.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===L&&Co(Vt)===Ge.type)?(Ct=ee(Ge,st.props),Ct.ref=Po(Ye,Ge,st),Ct.return=Ye,Ct):(Ct=ml(st.type,st.key,st.props,null,Ye.mode,Ct),Ct.ref=Po(Ye,Ge,st),Ct.return=Ye,Ct)}function St(Ye,Ge,st,Ct){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==st.containerInfo||Ge.stateNode.implementation!==st.implementation?(Ge=yl(st,Ye.mode,Ct),Ge.return=Ye,Ge):(Ge=ee(Ge,st.children||[]),Ge.return=Ye,Ge)}function Lt(Ye,Ge,st,Ct,Vt){return Ge===null||Ge.tag!==7?(Ge=yo(st,Ye.mode,Ct,Vt),Ge.return=Ye,Ge):(Ge=ee(Ge,st),Ge.return=Ye,Ge)}function nn(Ye,Ge,st){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ge=gl(""+Ge,Ye.mode,st),Ge.return=Ye,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case d:return st=ml(Ge.type,Ge.key,Ge.props,null,Ye.mode,st),st.ref=Po(Ye,null,Ge),st.return=Ye,st;case p:return Ge=yl(Ge,Ye.mode,st),Ge.return=Ye,Ge;case L:var Ct=Ge._init;return nn(Ye,Ct(Ge._payload),st)}if(ce(Ge)||B(Ge))return Ge=yo(Ge,Ye.mode,st,null),Ge.return=Ye,Ge;La(Ye,Ge)}return null}function Ht(Ye,Ge,st,Ct){var Vt=Ge!==null?Ge.key:null;if(typeof st=="string"&&st!==""||typeof st=="number")return Vt!==null?null:Be(Ye,Ge,""+st,Ct);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case d:return st.key===Vt?ct(Ye,Ge,st,Ct):null;case p:return st.key===Vt?St(Ye,Ge,st,Ct):null;case L:return Vt=st._init,Ht(Ye,Ge,Vt(st._payload),Ct)}if(ce(st)||B(st))return Vt!==null?null:Lt(Ye,Ge,st,Ct,null);La(Ye,st)}return null}function sn(Ye,Ge,st,Ct,Vt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Ye=Ye.get(st)||null,Be(Ge,Ye,""+Ct,Vt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case d:return Ye=Ye.get(Ct.key===null?st:Ct.key)||null,ct(Ge,Ye,Ct,Vt);case p:return Ye=Ye.get(Ct.key===null?st:Ct.key)||null,St(Ge,Ye,Ct,Vt);case L:var an=Ct._init;return sn(Ye,Ge,st,an(Ct._payload),Vt)}if(ce(Ct)||B(Ct))return Ye=Ye.get(st)||null,Lt(Ge,Ye,Ct,Vt,null);La(Ge,Ct)}return null}function Rt(Ye,Ge,st,Ct){for(var Vt=null,an=null,rn=Ge,dn=Ge=0,Zn=null;rn!==null&&dn<st.length;dn++){rn.index>dn?(Zn=rn,rn=null):Zn=rn.sibling;var hn=Ht(Ye,rn,st[dn],Ct);if(hn===null){rn===null&&(rn=Zn);break}R&&rn&&hn.alternate===null&&I(Ye,rn),Ge=le(hn,Ge,dn),an===null?Vt=hn:an.sibling=hn,an=hn,rn=Zn}if(dn===st.length)return z(Ye,rn),Dn&&Wa(Ye,dn),Vt;if(rn===null){for(;dn<st.length;dn++)rn=nn(Ye,st[dn],Ct),rn!==null&&(Ge=le(rn,Ge,dn),an===null?Vt=rn:an.sibling=rn,an=rn);return Dn&&Wa(Ye,dn),Vt}for(rn=K(Ye,rn);dn<st.length;dn++)Zn=sn(rn,Ye,dn,st[dn],Ct),Zn!==null&&(R&&Zn.alternate!==null&&rn.delete(Zn.key===null?dn:Zn.key),Ge=le(Zn,Ge,dn),an===null?Vt=Zn:an.sibling=Zn,an=Zn);return R&&rn.forEach(function(ba){return I(Ye,ba)}),Dn&&Wa(Ye,dn),Vt}function Mr(Ye,Ge,st,Ct){var Vt=B(st);if(typeof Vt!="function")throw Error(f(150));if(st=Vt.call(st),st==null)throw Error(f(151));for(var an=Vt=null,rn=Ge,dn=Ge=0,Zn=null,hn=st.next();rn!==null&&!hn.done;dn++,hn=st.next()){rn.index>dn?(Zn=rn,rn=null):Zn=rn.sibling;var ba=Ht(Ye,rn,hn.value,Ct);if(ba===null){rn===null&&(rn=Zn);break}R&&rn&&ba.alternate===null&&I(Ye,rn),Ge=le(ba,Ge,dn),an===null?Vt=ba:an.sibling=ba,an=ba,rn=Zn}if(hn.done)return z(Ye,rn),Dn&&Wa(Ye,dn),Vt;if(rn===null){for(;!hn.done;dn++,hn=st.next())hn=nn(Ye,hn.value,Ct),hn!==null&&(Ge=le(hn,Ge,dn),an===null?Vt=hn:an.sibling=hn,an=hn);return Dn&&Wa(Ye,dn),Vt}for(rn=K(Ye,rn);!hn.done;dn++,hn=st.next())hn=sn(rn,Ye,dn,hn.value,Ct),hn!==null&&(R&&hn.alternate!==null&&rn.delete(hn.key===null?dn:hn.key),Ge=le(hn,Ge,dn),an===null?Vt=hn:an.sibling=hn,an=hn);return R&&rn.forEach(function(lc){return I(Ye,lc)}),Dn&&Wa(Ye,dn),Vt}function ci(Ye,Ge,st,Ct){if(typeof st=="object"&&st!==null&&st.type===m&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case d:e:{for(var Vt=st.key,an=Ge;an!==null;){if(an.key===Vt){if(Vt=st.type,Vt===m){if(an.tag===7){z(Ye,an.sibling),Ge=ee(an,st.props.children),Ge.return=Ye,Ye=Ge;break e}}else if(an.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===L&&Co(Vt)===an.type){z(Ye,an.sibling),Ge=ee(an,st.props),Ge.ref=Po(Ye,an,st),Ge.return=Ye,Ye=Ge;break e}z(Ye,an);break}else I(Ye,an);an=an.sibling}st.type===m?(Ge=yo(st.props.children,Ye.mode,Ct,st.key),Ge.return=Ye,Ye=Ge):(Ct=ml(st.type,st.key,st.props,null,Ye.mode,Ct),Ct.ref=Po(Ye,Ge,st),Ct.return=Ye,Ye=Ct)}return Ee(Ye);case p:e:{for(an=st.key;Ge!==null;){if(Ge.key===an)if(Ge.tag===4&&Ge.stateNode.containerInfo===st.containerInfo&&Ge.stateNode.implementation===st.implementation){z(Ye,Ge.sibling),Ge=ee(Ge,st.children||[]),Ge.return=Ye,Ye=Ge;break e}else{z(Ye,Ge);break}else I(Ye,Ge);Ge=Ge.sibling}Ge=yl(st,Ye.mode,Ct),Ge.return=Ye,Ye=Ge}return Ee(Ye);case L:return an=st._init,ci(Ye,Ge,an(st._payload),Ct)}if(ce(st))return Rt(Ye,Ge,st,Ct);if(B(st))return Mr(Ye,Ge,st,Ct);La(Ye,st)}return typeof st=="string"&&st!==""||typeof st=="number"?(st=""+st,Ge!==null&&Ge.tag===6?(z(Ye,Ge.sibling),Ge=ee(Ge,st),Ge.return=Ye,Ye=Ge):(z(Ye,Ge),Ge=gl(st,Ye.mode,Ct),Ge.return=Ye,Ye=Ge),Ee(Ye)):z(Ye,Ge)}return ci}var oa=bc(!0),Sc=bc(!1),Ro={},Hr=wn(Ro),Xa=wn(Ro),Ka=wn(Ro);function Ri(R){if(R===Ro)throw Error(f(174));return R}function js(R,I){Ot(Ka,I),Ot(Xa,R),Ot(Hr,Ro),R=ye(I),Ft(Hr),Ot(Hr,R)}function Io(){Ft(Hr),Ft(Xa),Ft(Ka)}function Ec(R){var I=Ri(Ka.current),z=Ri(Hr.current);I=J(z,R.type,I),z!==I&&(Ot(Xa,R),Ot(Hr,I))}function Ol(R){Xa.current===R&&(Ft(Hr),Ft(Xa))}var Nn=wn(0);function qs(R){for(var I=R;I!==null;){if(I.tag===13){var z=I.memoizedState;if(z!==null&&(z=z.dehydrated,z===null||Qn(z)||$n(z)))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if((I.flags&128)!==0)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===R)break;for(;I.sibling===null;){if(I.return===null||I.return===R)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var ni=[];function Ya(){for(var R=0;R<ni.length;R++){var I=ni[R];Ne?I._workInProgressVersionPrimary=null:I._workInProgressVersionSecondary=null}ni.length=0}var es=h.ReactCurrentDispatcher,ri=h.ReactCurrentBatchConfig,Za=0,Fn=null,hr=null,dr=null,Hs=!1,ji=!1,Ja=0,ts=0;function pr(){throw Error(f(321))}function Ws(R,I){if(I===null)return!1;for(var z=0;z<I.length&&z<R.length;z++)if(!lr(R[z],I[z]))return!1;return!0}function Oo(R,I,z,K,ee,le){if(Za=le,Fn=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,es.current=R===null||R.memoizedState===null?$l:Bl,R=z(K,ee),ji){le=0;do{if(ji=!1,Ja=0,25<=le)throw Error(f(301));le+=1,dr=hr=null,I.updateQueue=null,es.current=Ul,R=z(K,ee)}while(ji)}if(es.current=No,I=hr!==null&&hr.next!==null,Za=0,dr=hr=Fn=null,Hs=!1,I)throw Error(f(300));return R}function Na(){var R=Ja!==0;return Ja=0,R}function Ii(){var R={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Fn.memoizedState=dr=R:dr=dr.next=R,dr}function Oi(){if(hr===null){var R=Fn.alternate;R=R!==null?R.memoizedState:null}else R=hr.next;var I=dr===null?Fn.memoizedState:dr.next;if(I!==null)dr=I,hr=R;else{if(R===null)throw Error(f(310));hr=R,R={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},dr===null?Fn.memoizedState=dr=R:dr=dr.next=R}return dr}function qi(R,I){return typeof I=="function"?I(R):I}function ns(R){var I=Oi(),z=I.queue;if(z===null)throw Error(f(311));z.lastRenderedReducer=R;var K=hr,ee=K.baseQueue,le=z.pending;if(le!==null){if(ee!==null){var Ee=ee.next;ee.next=le.next,le.next=Ee}K.baseQueue=ee=le,z.pending=null}if(ee!==null){le=ee.next,K=K.baseState;var Be=Ee=null,ct=null,St=le;do{var Lt=St.lane;if((Za&Lt)===Lt)ct!==null&&(ct=ct.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),K=St.hasEagerState?St.eagerState:R(K,St.action);else{var nn={lane:Lt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};ct===null?(Be=ct=nn,Ee=K):ct=ct.next=nn,Fn.lanes|=Lt,Wi|=Lt}St=St.next}while(St!==null&&St!==le);ct===null?Ee=K:ct.next=Be,lr(K,I.memoizedState)||(mr=!0),I.memoizedState=K,I.baseState=Ee,I.baseQueue=ct,z.lastRenderedState=K}if(R=z.interleaved,R!==null){ee=R;do le=ee.lane,Fn.lanes|=le,Wi|=le,ee=ee.next;while(ee!==R)}else ee===null&&(z.lanes=0);return[I.memoizedState,z.dispatch]}function rs(R){var I=Oi(),z=I.queue;if(z===null)throw Error(f(311));z.lastRenderedReducer=R;var K=z.dispatch,ee=z.pending,le=I.memoizedState;if(ee!==null){z.pending=null;var Ee=ee=ee.next;do le=R(le,Ee.action),Ee=Ee.next;while(Ee!==ee);lr(le,I.memoizedState)||(mr=!0),I.memoizedState=le,I.baseQueue===null&&(I.baseState=le),z.lastRenderedState=le}return[le,K]}function Dl(){}function Ll(R,I){var z=Fn,K=Oi(),ee=I(),le=!lr(K.memoizedState,ee);if(le&&(K.memoizedState=ee,mr=!0),K=K.queue,Do(sa.bind(null,z,K,R),[R]),K.getSnapshot!==I||le||dr!==null&&dr.memoizedState.tag&1){if(z.flags|=2048,os(9,Nl.bind(null,z,K,ee,I),void 0,null),Hn===null)throw Error(f(349));(Za&30)!==0||kl(z,I,ee)}return ee}function kl(R,I,z){R.flags|=16384,R={getSnapshot:I,value:z},I=Fn.updateQueue,I===null?(I={lastEffect:null,stores:null},Fn.updateQueue=I,I.stores=[R]):(z=I.stores,z===null?I.stores=[R]:z.push(R))}function Nl(R,I,z,K){I.value=z,I.getSnapshot=K,Xs(I)&&Or(R,1,-1)}function sa(R,I,z){return z(function(){Xs(I)&&Or(R,1,-1)})}function Xs(R){var I=R.getSnapshot;R=R.value;try{var z=I();return!lr(R,z)}catch{return!0}}function as(R){var I=Ii();return typeof R=="function"&&(R=R()),I.memoizedState=I.baseState=R,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:R},I.queue=R,R=R.dispatch=ou.bind(null,Fn,R),[I.memoizedState,R]}function os(R,I,z,K){return R={tag:R,create:I,destroy:z,deps:K,next:null},I=Fn.updateQueue,I===null?(I={lastEffect:null,stores:null},Fn.updateQueue=I,I.lastEffect=R.next=R):(z=I.lastEffect,z===null?I.lastEffect=R.next=R:(K=z.next,z.next=R,R.next=K,I.lastEffect=R)),R}function wc(){return Oi().memoizedState}function Fa(R,I,z,K){var ee=Ii();Fn.flags|=R,ee.memoizedState=os(1|I,z,void 0,K===void 0?null:K)}function Ks(R,I,z,K){var ee=Oi();K=K===void 0?null:K;var le=void 0;if(hr!==null){var Ee=hr.memoizedState;if(le=Ee.destroy,K!==null&&Ws(K,Ee.deps)){ee.memoizedState=os(I,z,le,K);return}}Fn.flags|=R,ee.memoizedState=os(1|I,z,le,K)}function Ys(R,I){return Fa(8390656,8,R,I)}function Do(R,I){return Ks(2048,8,R,I)}function Tn(R,I){return Ks(4,2,R,I)}function Zs(R,I){return Ks(4,4,R,I)}function ss(R,I){if(typeof I=="function")return R=R(),I(R),function(){I(null)};if(I!=null)return R=R(),I.current=R,function(){I.current=null}}function Lo(R,I,z){return z=z!=null?z.concat([R]):null,Ks(4,4,ss.bind(null,I,R),z)}function Js(){}function Qs(R,I){var z=Oi();I=I===void 0?null:I;var K=z.memoizedState;return K!==null&&I!==null&&Ws(I,K[1])?K[0]:(z.memoizedState=[R,I],R)}function ko(R,I){var z=Oi();I=I===void 0?null:I;var K=z.memoizedState;return K!==null&&I!==null&&Ws(I,K[1])?K[0]:(R=R(),z.memoizedState=[R,I],R)}function el(R,I){var z=Qt;Qt=z!==0&&4>z?z:4,R(!0);var K=ri.transition;ri.transition={};try{R(!1),I()}finally{Qt=z,ri.transition=K}}function Qa(){return Oi().memoizedState}function Mc(R,I,z){var K=Ni(R);z={lane:K,action:z,hasEagerState:!1,eagerState:null,next:null},Tc(R)?Fl(I,z):(ls(R,I,z),z=mn(),R=Or(R,K,z),R!==null&&cs(R,I,K))}function ou(R,I,z){var K=Ni(R),ee={lane:K,action:z,hasEagerState:!1,eagerState:null,next:null};if(Tc(R))Fl(I,ee);else{ls(R,I,ee);var le=R.alternate;if(R.lanes===0&&(le===null||le.lanes===0)&&(le=I.lastRenderedReducer,le!==null))try{var Ee=I.lastRenderedState,Be=le(Ee,z);if(ee.hasEagerState=!0,ee.eagerState=Be,lr(Be,Ee))return}catch{}finally{}z=mn(),R=Or(R,K,z),R!==null&&cs(R,I,K)}}function Tc(R){var I=R.alternate;return R===Fn||I!==null&&I===Fn}function Fl(R,I){ji=Hs=!0;var z=R.pending;z===null?I.next=I:(I.next=z.next,z.next=I),R.pending=I}function ls(R,I,z){Hn!==null&&(R.mode&1)!==0&&(on&2)===0?(R=I.interleaved,R===null?(z.next=z,Nr===null?Nr=[I]:Nr.push(I)):(z.next=R.next,R.next=z),I.interleaved=z):(R=I.pending,R===null?z.next=z:(z.next=R.next,R.next=z),I.pending=z)}function cs(R,I,z){if((z&4194240)!==0){var K=I.lanes;K&=R.pendingLanes,z|=K,I.lanes=z,_r(R,z)}}var No={readContext:kn,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},$l={readContext:kn,useCallback:function(R,I){return Ii().memoizedState=[R,I===void 0?null:I],R},useContext:kn,useEffect:Ys,useImperativeHandle:function(R,I,z){return z=z!=null?z.concat([R]):null,Fa(4194308,4,ss.bind(null,I,R),z)},useLayoutEffect:function(R,I){return Fa(4194308,4,R,I)},useInsertionEffect:function(R,I){return Fa(4,2,R,I)},useMemo:function(R,I){var z=Ii();return I=I===void 0?null:I,R=R(),z.memoizedState=[R,I],R},useReducer:function(R,I,z){var K=Ii();return I=z!==void 0?z(I):I,K.memoizedState=K.baseState=I,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:I},K.queue=R,R=R.dispatch=Mc.bind(null,Fn,R),[K.memoizedState,R]},useRef:function(R){var I=Ii();return R={current:R},I.memoizedState=R},useState:as,useDebugValue:Js,useDeferredValue:function(R){var I=as(R),z=I[0],K=I[1];return Ys(function(){var ee=ri.transition;ri.transition={};try{K(R)}finally{ri.transition=ee}},[R]),z},useTransition:function(){var R=as(!1),I=R[0];return R=el.bind(null,R[1]),Ii().memoizedState=R,[I,R]},useMutableSource:function(){},useSyncExternalStore:function(R,I,z){var K=Fn,ee=Ii();if(Dn){if(z===void 0)throw Error(f(407));z=z()}else{if(z=I(),Hn===null)throw Error(f(349));(Za&30)!==0||kl(K,I,z)}ee.memoizedState=z;var le={value:z,getSnapshot:I};return ee.queue=le,Ys(sa.bind(null,K,le,R),[R]),K.flags|=2048,os(9,Nl.bind(null,K,le,z,I),void 0,null),z},useId:function(){var R=Ii(),I=Hn.identifierPrefix;if(Dn){var z=aa,K=ia;z=(K&~(1<<32-Ar(K)-1)).toString(32)+z,I=":"+I+"R"+z,z=Ja++,0<z&&(I+="H"+z.toString(32)),I+=":"}else z=ts++,I=":"+I+"r"+z.toString(32)+":";return R.memoizedState=I},unstable_isNewReconciler:!1},Bl={readContext:kn,useCallback:Qs,useContext:kn,useEffect:Do,useImperativeHandle:Lo,useInsertionEffect:Tn,useLayoutEffect:Zs,useMemo:ko,useReducer:ns,useRef:wc,useState:function(){return ns(qi)},useDebugValue:Js,useDeferredValue:function(R){var I=ns(qi),z=I[0],K=I[1];return Do(function(){var ee=ri.transition;ri.transition={};try{K(R)}finally{ri.transition=ee}},[R]),z},useTransition:function(){var R=ns(qi)[0],I=Oi().memoizedState;return[R,I]},useMutableSource:Dl,useSyncExternalStore:Ll,useId:Qa,unstable_isNewReconciler:!1},Ul={readContext:kn,useCallback:Qs,useContext:kn,useEffect:Do,useImperativeHandle:Lo,useInsertionEffect:Tn,useLayoutEffect:Zs,useMemo:ko,useReducer:rs,useRef:wc,useState:function(){return rs(qi)},useDebugValue:Js,useDeferredValue:function(R){var I=rs(qi),z=I[0],K=I[1];return Do(function(){var ee=ri.transition;ri.transition={};try{K(R)}finally{ri.transition=ee}},[R]),z},useTransition:function(){var R=rs(qi)[0],I=Oi().memoizedState;return[R,I]},useMutableSource:Dl,useSyncExternalStore:Ll,useId:Qa,unstable_isNewReconciler:!1};function zl(R,I){try{var z="",K=I;do z+=Qi(K),K=K.return;while(K);var ee=z}catch(le){ee=`
Error generating stack: `+le.message+`
`+le.stack}return{value:R,source:I,stack:ee}}function tl(R,I){try{console.error(I.value)}catch(z){setTimeout(function(){throw z})}}var su=typeof WeakMap=="function"?WeakMap:Map;function Ac(R,I,z){z=ra(-1,z),z.tag=3,z.payload={element:null};var K=I.value;return z.callback=function(){Vo||(Vo=!0,In=K),tl(R,I)},z}function nl(R,I,z){z=ra(-1,z),z.tag=3;var K=R.type.getDerivedStateFromError;if(typeof K=="function"){var ee=I.value;z.payload=function(){return K(ee)},z.callback=function(){tl(R,I)}}var le=R.stateNode;return le!==null&&typeof le.componentDidCatch=="function"&&(z.callback=function(){tl(R,I),typeof K!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var Ee=I.stack;this.componentDidCatch(I.value,{componentStack:Ee!==null?Ee:""})}),z}function la(R,I,z){var K=R.pingCache;if(K===null){K=R.pingCache=new su;var ee=new Set;K.set(I,ee)}else ee=K.get(I),ee===void 0&&(ee=new Set,K.set(I,ee));ee.has(z)||(ee.add(z),R=ac.bind(null,R,I,z),I.then(R,R))}function Vl(R){do{var I;if((I=R.tag===13)&&(I=R.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return R;R=R.return}while(R!==null);return null}function eo(R,I,z,K,ee){return(R.mode&1)===0?(R===I?R.flags|=65536:(R.flags|=128,z.flags|=131072,z.flags&=-52805,z.tag===1&&(z.alternate===null?z.tag=17:(I=ra(-1,1),I.tag=2,Ia(z,I))),z.lanes|=1),R):(R.flags|=65536,R.lanes=ee,R)}function ir(R){R.flags|=4}function Fo(R,I){if(R!==null&&R.child===I.child)return!0;if((I.flags&16)!==0)return!1;for(R=I.child;R!==null;){if((R.flags&12854)!==0||(R.subtreeFlags&12854)!==0)return!1;R=R.sibling}return!0}var ii,no,rl,il;if(Ie)ii=function(R,I){for(var z=I.child;z!==null;){if(z.tag===5||z.tag===6)ue(R,z.stateNode);else if(z.tag!==4&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===I)break;for(;z.sibling===null;){if(z.return===null||z.return===I)return;z=z.return}z.sibling.return=z.return,z=z.sibling}},no=function(){},rl=function(R,I,z,K,ee){if(R=R.memoizedProps,R!==K){var le=I.stateNode,Ee=Ri(Hr.current);z=ge(le,z,R,K,ee,Ee),(I.updateQueue=z)&&ir(I)}},il=function(R,I,z,K){z!==K&&ir(I)};else if(he){ii=function(R,I,z,K){for(var ee=I.child;ee!==null;){if(ee.tag===5){var le=ee.stateNode;z&&K&&(le=Nt(le,ee.type,ee.memoizedProps,ee)),ue(R,le)}else if(ee.tag===6)le=ee.stateNode,z&&K&&(le=Jt(le,ee.memoizedProps,ee)),ue(R,le);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)le=ee.child,le!==null&&(le.return=ee),ii(R,ee,!0,!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===I)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===I)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};var $a=function(R,I,z,K){for(var ee=I.child;ee!==null;){if(ee.tag===5){var le=ee.stateNode;z&&K&&(le=Nt(le,ee.type,ee.memoizedProps,ee)),yt(R,le)}else if(ee.tag===6)le=ee.stateNode,z&&K&&(le=Jt(le,ee.memoizedProps,ee)),yt(R,le);else if(ee.tag!==4){if(ee.tag===22&&ee.memoizedState!==null)le=ee.child,le!==null&&(le.return=ee),$a(R,ee,!0,!0);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===I)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===I)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};no=function(R,I){var z=I.stateNode;if(!Fo(R,I)){R=z.containerInfo;var K=at(R);$a(K,I,!1,!1),z.pendingChildren=K,ir(I),At(R,K)}},rl=function(R,I,z,K,ee){var le=R.stateNode,Ee=R.memoizedProps;if((R=Fo(R,I))&&Ee===K)I.stateNode=le;else{var Be=I.stateNode,ct=Ri(Hr.current),St=null;Ee!==K&&(St=ge(Be,z,Ee,K,ee,ct)),R&&St===null?I.stateNode=le:(le=ze(le,St,z,Ee,K,I,R,Be),_e(le,z,K,ee,ct)&&ir(I),I.stateNode=le,R?ir(I):ii(le,I,!1,!1))}},il=function(R,I,z,K){z!==K?(R=Ri(Ka.current),z=Ri(Hr.current),I.stateNode=we(K,R,z,I),ir(I)):I.stateNode=R.stateNode}}else no=function(){},rl=function(){},il=function(){};function ca(R,I){if(!Dn)switch(R.tailMode){case"hidden":I=R.tail;for(var z=null;I!==null;)I.alternate!==null&&(z=I),I=I.sibling;z===null?R.tail=null:z.sibling=null;break;case"collapsed":z=R.tail;for(var K=null;z!==null;)z.alternate!==null&&(K=z),z=z.sibling;K===null?I||R.tail===null?R.tail=null:R.tail.sibling=null:K.sibling=null}}function qn(R){var I=R.alternate!==null&&R.alternate.child===R.child,z=0,K=0;if(I)for(var ee=R.child;ee!==null;)z|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags&14680064,K|=ee.flags&14680064,ee.return=R,ee=ee.sibling;else for(ee=R.child;ee!==null;)z|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags,K|=ee.flags,ee.return=R,ee=ee.sibling;return R.subtreeFlags|=K,R.childLanes=z,I}function al(R,I,z){var K=I.pendingProps;switch(Cl(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(I),null;case 1:return Cn(I.type)&&pn(),qn(I),null;case 3:return K=I.stateNode,Io(),Ft(Mn),Ft(tn),Ya(),K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(R===null||R.child===null)&&(Qo(I)?ir(I):R===null||R.memoizedState.isDehydrated&&(I.flags&256)===0||(I.flags|=1024,_i!==null&&(Ss(_i),_i=null))),no(R,I),qn(I),null;case 5:Ol(I),z=Ri(Ka.current);var ee=I.type;if(R!==null&&I.stateNode!=null)rl(R,I,ee,K,z),R.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!K){if(I.stateNode===null)throw Error(f(166));return qn(I),null}if(R=Ri(Hr.current),Qo(I)){if(!ke)throw Error(f(175));R=xo(I.stateNode,I.type,I.memoizedProps,z,R,I,!To),I.updateQueue=R,R!==null&&ir(I)}else{var le=Q(ee,K,z,R,I);ii(le,I,!1,!1),I.stateNode=le,_e(le,ee,K,z,R)&&ir(I)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return qn(I),null;case 6:if(R&&I.stateNode!=null)il(R,I,R.memoizedProps,K);else{if(typeof K!="string"&&I.stateNode===null)throw Error(f(166));if(R=Ri(Ka.current),z=Ri(Hr.current),Qo(I)){if(!ke)throw Error(f(176));if(R=I.stateNode,K=I.memoizedProps,(z=Zr(R,K,I,!To))&&(ee=Fr,ee!==null))switch(le=(ee.mode&1)!==0,ee.tag){case 3:Bt(ee.stateNode.containerInfo,R,K,le);break;case 5:jt(ee.type,ee.memoizedProps,ee.stateNode,R,K,le)}z&&ir(I)}else I.stateNode=we(K,R,z,I)}return qn(I),null;case 13:if(Ft(Nn),K=I.memoizedState,Dn&&xr!==null&&(I.mode&1)!==0&&(I.flags&128)===0){for(R=xr;R;)R=er(R);return Ao(),I.flags|=98560,I}if(K!==null&&K.dehydrated!==null){if(K=Qo(I),R===null){if(!K)throw Error(f(318));if(!ke)throw Error(f(344));if(R=I.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(f(317));bo(R,I)}else Ao(),(I.flags&128)===0&&(I.memoizedState=null),I.flags|=4;return qn(I),null}return _i!==null&&(Ss(_i),_i=null),(I.flags&128)!==0?(I.lanes=z,I):(K=K!==null,z=!1,R===null?Qo(I):z=R.memoizedState!==null,K&&!z&&(I.child.flags|=8192,(I.mode&1)!==0&&(R===null||(Nn.current&1)!==0?Un===0&&(Un=3):hl())),I.updateQueue!==null&&(I.flags|=4),qn(I),null);case 4:return Io(),no(R,I),R===null&&je(I.stateNode.containerInfo),qn(I),null;case 10:return Kn(I.type._context),qn(I),null;case 17:return Cn(I.type)&&pn(),qn(I),null;case 19:if(Ft(Nn),ee=I.memoizedState,ee===null)return qn(I),null;if(K=(I.flags&128)!==0,le=ee.rendering,le===null)if(K)ca(ee,!1);else{if(Un!==0||R!==null&&(R.flags&128)!==0)for(R=I.child;R!==null;){if(le=qs(R),le!==null){for(I.flags|=128,ca(ee,!1),R=le.updateQueue,R!==null&&(I.updateQueue=R,I.flags|=4),I.subtreeFlags=0,R=z,K=I.child;K!==null;)z=K,ee=R,z.flags&=14680066,le=z.alternate,le===null?(z.childLanes=0,z.lanes=ee,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=le.childLanes,z.lanes=le.lanes,z.child=le.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=le.memoizedProps,z.memoizedState=le.memoizedState,z.updateQueue=le.updateQueue,z.type=le.type,ee=le.dependencies,z.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext}),K=K.sibling;return Ot(Nn,Nn.current&1|2),I.child}R=R.sibling}ee.tail!==null&&On()>za&&(I.flags|=128,K=!0,ca(ee,!1),I.lanes=4194304)}else{if(!K)if(R=qs(le),R!==null){if(I.flags|=128,K=!0,R=R.updateQueue,R!==null&&(I.updateQueue=R,I.flags|=4),ca(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!le.alternate&&!Dn)return qn(I),null}else 2*On()-ee.renderingStartTime>za&&z!==1073741824&&(I.flags|=128,K=!0,ca(ee,!1),I.lanes=4194304);ee.isBackwards?(le.sibling=I.child,I.child=le):(R=ee.last,R!==null?R.sibling=le:I.child=le,ee.last=le)}return ee.tail!==null?(I=ee.tail,ee.rendering=I,ee.tail=I.sibling,ee.renderingStartTime=On(),I.sibling=null,R=Nn.current,Ot(Nn,K?R&1|2:R&1),I):(qn(I),null);case 22:case 23:return Es(),K=I.memoizedState!==null,R!==null&&R.memoizedState!==null!==K&&(I.flags|=8192),K&&(I.mode&1)!==0?(Ir&1073741824)!==0&&(qn(I),Ie&&I.subtreeFlags&6&&(I.flags|=8192)):qn(I),null;case 24:return null;case 25:return null}throw Error(f(156,I.tag))}var Gl=h.ReactCurrentOwner,mr=!1;function Bn(R,I,z,K){I.child=R===null?Sc(I,null,z,K):oa(I,R.child,z,K)}function An(R,I,z,K,ee){z=z.render;var le=I.ref;return jn(I,ee),K=Oo(R,I,z,K,le,ee),z=Na(),R!==null&&!mr?(I.updateQueue=R.updateQueue,I.flags&=-2053,R.lanes&=~ee,Wr(R,I,ee)):(Dn&&z&&Pl(I),I.flags|=1,Bn(R,I,K,ee),I.child)}function En(R,I,z,K,ee){if(R===null){var le=z.type;return typeof le=="function"&&!pl(le)&&le.defaultProps===void 0&&z.compare===null&&z.defaultProps===void 0?(I.tag=15,I.type=le,ua(R,I,le,K,ee)):(R=ml(z.type,null,K,I,I.mode,ee),R.ref=I.ref,R.return=I,I.child=R)}if(le=R.child,(R.lanes&ee)===0){var Ee=le.memoizedProps;if(z=z.compare,z=z!==null?z:jr,z(Ee,K)&&R.ref===I.ref)return Wr(R,I,ee)}return I.flags|=1,R=xa(le,K),R.ref=I.ref,R.return=I,I.child=R}function ua(R,I,z,K,ee){if(R!==null&&jr(R.memoizedProps,K)&&R.ref===I.ref)if(mr=!1,(R.lanes&ee)!==0)(R.flags&131072)!==0&&(mr=!0);else return I.lanes=R.lanes,Wr(R,I,ee);return fa(R,I,z,K,ee)}function br(R,I,z){var K=I.pendingProps,ee=K.children,le=R!==null?R.memoizedState:null;if(K.mode==="hidden")if((I.mode&1)===0)I.memoizedState={baseLanes:0,cachePool:null},Ot(fo,Ir),Ir|=z;else if((z&1073741824)!==0)I.memoizedState={baseLanes:0,cachePool:null},K=le!==null?le.baseLanes:z,Ot(fo,Ir),Ir|=K;else return R=le!==null?le.baseLanes|z:z,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:R,cachePool:null},I.updateQueue=null,Ot(fo,Ir),Ir|=R,null;else le!==null?(K=le.baseLanes|z,I.memoizedState=null):K=z,Ot(fo,Ir),Ir|=K;return Bn(R,I,ee,z),I.child}function $r(R,I){var z=I.ref;(R===null&&z!==null||R!==null&&R.ref!==z)&&(I.flags|=512,I.flags|=2097152)}function fa(R,I,z,K,ee){var le=Cn(z)?Jr:tn.current;return le=Vn(I,le),jn(I,ee),z=Oo(R,I,z,K,le,ee),K=Na(),R!==null&&!mr?(I.updateQueue=R.updateQueue,I.flags&=-2053,R.lanes&=~ee,Wr(R,I,ee)):(Dn&&K&&Pl(I),I.flags|=1,Bn(R,I,z,ee),I.child)}function ro(R,I,z,K,ee){if(Cn(z)){var le=!0;Gn(I)}else le=!1;if(jn(I,ee),I.stateNode===null)R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),yc(I,z,K),Al(I,z,K,ee),K=!0;else if(R===null){var Ee=I.stateNode,Be=I.memoizedProps;Ee.props=Be;var ct=Ee.context,St=z.contextType;typeof St=="object"&&St!==null?St=kn(St):(St=Cn(z)?Jr:tn.current,St=Vn(I,St));var Lt=z.getDerivedStateFromProps,nn=typeof Lt=="function"||typeof Ee.getSnapshotBeforeUpdate=="function";nn||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(Be!==K||ct!==St)&&vc(I,Ee,K,St),yi=!1;var Ht=I.memoizedState;Ee.state=Ht,$s(I,K,Ee,ee),ct=I.memoizedState,Be!==K||Ht!==ct||Mn.current||yi?(typeof Lt=="function"&&(Ml(I,z,Lt,K),ct=I.memoizedState),(Be=yi||Tl(I,z,Be,K,Ht,ct,St))?(nn||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount()),typeof Ee.componentDidMount=="function"&&(I.flags|=4194308)):(typeof Ee.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=K,I.memoizedState=ct),Ee.props=K,Ee.state=ct,Ee.context=St,K=Be):(typeof Ee.componentDidMount=="function"&&(I.flags|=4194308),K=!1)}else{Ee=I.stateNode,wl(R,I),Be=I.memoizedProps,St=I.type===I.elementType?Be:ur(I.type,Be),Ee.props=St,nn=I.pendingProps,Ht=Ee.context,ct=z.contextType,typeof ct=="object"&&ct!==null?ct=kn(ct):(ct=Cn(z)?Jr:tn.current,ct=Vn(I,ct));var sn=z.getDerivedStateFromProps;(Lt=typeof sn=="function"||typeof Ee.getSnapshotBeforeUpdate=="function")||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(Be!==nn||Ht!==ct)&&vc(I,Ee,K,ct),yi=!1,Ht=I.memoizedState,Ee.state=Ht,$s(I,K,Ee,ee);var Rt=I.memoizedState;Be!==nn||Ht!==Rt||Mn.current||yi?(typeof sn=="function"&&(Ml(I,z,sn,K),Rt=I.memoizedState),(St=yi||Tl(I,z,St,K,Ht,Rt,ct)||!1)?(Lt||typeof Ee.UNSAFE_componentWillUpdate!="function"&&typeof Ee.componentWillUpdate!="function"||(typeof Ee.componentWillUpdate=="function"&&Ee.componentWillUpdate(K,Rt,ct),typeof Ee.UNSAFE_componentWillUpdate=="function"&&Ee.UNSAFE_componentWillUpdate(K,Rt,ct)),typeof Ee.componentDidUpdate=="function"&&(I.flags|=4),typeof Ee.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof Ee.componentDidUpdate!="function"||Be===R.memoizedProps&&Ht===R.memoizedState||(I.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Be===R.memoizedProps&&Ht===R.memoizedState||(I.flags|=1024),I.memoizedProps=K,I.memoizedState=Rt),Ee.props=K,Ee.state=Rt,Ee.context=ct,K=St):(typeof Ee.componentDidUpdate!="function"||Be===R.memoizedProps&&Ht===R.memoizedState||(I.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Be===R.memoizedProps&&Ht===R.memoizedState||(I.flags|=1024),K=!1)}return Rr(R,I,z,K,le,ee)}function Rr(R,I,z,K,ee,le){$r(R,I);var Ee=(I.flags&128)!==0;if(!K&&!Ee)return ee&&tr(I,z,!1),Wr(R,I,le);K=I.stateNode,Gl.current=I;var Be=Ee&&typeof z.getDerivedStateFromError!="function"?null:K.render();return I.flags|=1,R!==null&&Ee?(I.child=oa(I,R.child,null,le),I.child=oa(I,null,Be,le)):Bn(R,I,Be,le),I.memoizedState=K.state,ee&&tr(I,z,!0),I.child}function us(R){var I=R.stateNode;I.pendingContext?vr(R,I.pendingContext,I.pendingContext!==I.context):I.context&&vr(R,I.context,!1),js(R,I.containerInfo)}function jl(R,I,z,K,ee){return Ao(),Gs(ee),I.flags|=256,Bn(R,I,z,K),I.child}var fs={dehydrated:null,treeContext:null,retryLane:0};function io(R){return{baseLanes:R,cachePool:null}}function ql(R,I,z){var K=I.pendingProps,ee=Nn.current,le=!1,Ee=(I.flags&128)!==0,Be;if((Be=Ee)||(Be=R!==null&&R.memoizedState===null?!1:(ee&2)!==0),Be?(le=!0,I.flags&=-129):(R===null||R.memoizedState!==null)&&(ee|=1),Ot(Nn,ee&1),R===null)return Da(I),R=I.memoizedState,R!==null&&(R=R.dehydrated,R!==null)?((I.mode&1)===0?I.lanes=1:$n(R)?I.lanes=8:I.lanes=1073741824,null):(ee=K.children,R=K.fallback,le?(K=I.mode,le=I.child,ee={mode:"hidden",children:ee},(K&1)===0&&le!==null?(le.childLanes=0,le.pendingProps=ee):le=Ts(ee,K,0,null),R=yo(R,K,z,null),le.return=I,R.return=I,le.sibling=R,I.child=le,I.child.memoizedState=io(z),I.memoizedState=fs,R):Di(I,ee));if(ee=R.memoizedState,ee!==null){if(Be=ee.dehydrated,Be!==null){if(Ee)return I.flags&256?(I.flags&=-257,ds(R,I,z,Error(f(422)))):I.memoizedState!==null?(I.child=R.child,I.flags|=128,null):(le=K.fallback,ee=I.mode,K=Ts({mode:"visible",children:K.children},ee,0,null),le=yo(le,ee,z,null),le.flags|=2,K.return=I,le.return=I,K.sibling=le,I.child=K,(I.mode&1)!==0&&oa(I,R.child,null,z),I.child.memoizedState=io(z),I.memoizedState=fs,le);if((I.mode&1)===0)I=ds(R,I,z,null);else if($n(Be))I=ds(R,I,z,Error(f(419)));else if(K=(z&R.childLanes)!==0,mr||K){if(K=Hn,K!==null){switch(z&-z){case 4:le=2;break;case 16:le=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:le=32;break;case 536870912:le=268435456;break;default:le=0}K=(le&(K.suspendedLanes|z))!==0?0:le,K!==0&&K!==ee.retryLane&&(ee.retryLane=K,Or(R,K,-1))}hl(),I=ds(R,I,z,Error(f(421)))}else Qn(Be)?(I.flags|=128,I.child=R.child,I=Oc.bind(null,R),or(Be,I),I=null):(z=ee.treeContext,ke&&(xr=fi(Be),Fr=I,Dn=!0,_i=null,To=!1,z!==null&&(vi[ti++]=ia,vi[ti++]=aa,vi[ti++]=Ha,ia=z.id,aa=z.overflow,Ha=I)),I=Di(I,I.pendingProps.children),I.flags|=4096);return I}return le?(K=ol(R,I,K.children,K.fallback,z),le=I.child,ee=R.child.memoizedState,le.memoizedState=ee===null?io(z):{baseLanes:ee.baseLanes|z,cachePool:null},le.childLanes=R.childLanes&~z,I.memoizedState=fs,K):(z=hs(R,I,K.children,z),I.memoizedState=null,z)}return le?(K=ol(R,I,K.children,K.fallback,z),le=I.child,ee=R.child.memoizedState,le.memoizedState=ee===null?io(z):{baseLanes:ee.baseLanes|z,cachePool:null},le.childLanes=R.childLanes&~z,I.memoizedState=fs,K):(z=hs(R,I,K.children,z),I.memoizedState=null,z)}function Di(R,I){return I=Ts({mode:"visible",children:I},R.mode,0,null),I.return=R,R.child=I}function hs(R,I,z,K){var ee=R.child;return R=ee.sibling,z=xa(ee,{mode:"visible",children:z}),(I.mode&1)===0&&(z.lanes=K),z.return=I,z.sibling=null,R!==null&&(K=I.deletions,K===null?(I.deletions=[R],I.flags|=16):K.push(R)),I.child=z}function ol(R,I,z,K,ee){var le=I.mode;R=R.child;var Ee=R.sibling,Be={mode:"hidden",children:z};return(le&1)===0&&I.child!==R?(z=I.child,z.childLanes=0,z.pendingProps=Be,I.deletions=null):(z=xa(R,Be),z.subtreeFlags=R.subtreeFlags&14680064),Ee!==null?K=xa(Ee,K):(K=yo(K,le,ee,null),K.flags|=2),K.return=I,z.return=I,z.sibling=K,I.child=z,K}function ds(R,I,z,K){return K!==null&&Gs(K),oa(I,R.child,null,z),R=Di(I,I.pendingProps.children),R.flags|=2,I.memoizedState=null,R}function Pc(R,I,z){R.lanes|=I;var K=R.alternate;K!==null&&(K.lanes|=I),rr(R.return,I,z)}function Hi(R,I,z,K,ee){var le=R.memoizedState;le===null?R.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:K,tail:z,tailMode:ee}:(le.isBackwards=I,le.rendering=null,le.renderingStartTime=0,le.last=K,le.tail=z,le.tailMode=ee)}function ao(R,I,z){var K=I.pendingProps,ee=K.revealOrder,le=K.tail;if(Bn(R,I,K.children,z),K=Nn.current,(K&2)!==0)K=K&1|2,I.flags|=128;else{if(R!==null&&(R.flags&128)!==0)e:for(R=I.child;R!==null;){if(R.tag===13)R.memoizedState!==null&&Pc(R,z,I);else if(R.tag===19)Pc(R,z,I);else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===I)break e;for(;R.sibling===null;){if(R.return===null||R.return===I)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}K&=1}if(Ot(Nn,K),(I.mode&1)===0)I.memoizedState=null;else switch(ee){case"forwards":for(z=I.child,ee=null;z!==null;)R=z.alternate,R!==null&&qs(R)===null&&(ee=z),z=z.sibling;z=ee,z===null?(ee=I.child,I.child=null):(ee=z.sibling,z.sibling=null),Hi(I,!1,ee,z,le);break;case"backwards":for(z=null,ee=I.child,I.child=null;ee!==null;){if(R=ee.alternate,R!==null&&qs(R)===null){I.child=ee;break}R=ee.sibling,ee.sibling=z,z=ee,ee=R}Hi(I,!0,z,null,le);break;case"together":Hi(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function Wr(R,I,z){if(R!==null&&(I.dependencies=R.dependencies),Wi|=I.lanes,(z&I.childLanes)===0)return null;if(R!==null&&I.child!==R.child)throw Error(f(153));if(I.child!==null){for(R=I.child,z=xa(R,R.pendingProps),I.child=z,z.return=I;R.sibling!==null;)R=R.sibling,z=z.sibling=xa(R,R.pendingProps),z.return=I;z.sibling=null}return I.child}function sl(R,I,z){switch(I.tag){case 3:us(I),Ao();break;case 5:Ec(I);break;case 1:Cn(I.type)&&Gn(I);break;case 4:js(I,I.stateNode.containerInfo);break;case 10:na(I,I.type._context,I.memoizedProps.value);break;case 13:var K=I.memoizedState;if(K!==null)return K.dehydrated!==null?(Ot(Nn,Nn.current&1),I.flags|=128,null):(z&I.child.childLanes)!==0?ql(R,I,z):(Ot(Nn,Nn.current&1),R=Wr(R,I,z),R!==null?R.sibling:null);Ot(Nn,Nn.current&1);break;case 19:if(K=(z&I.childLanes)!==0,(R.flags&128)!==0){if(K)return ao(R,I,z);I.flags|=128}var ee=I.memoizedState;if(ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),Ot(Nn,Nn.current),K)break;return null;case 22:case 23:return I.lanes=0,br(R,I,z)}return Wr(R,I,z)}function ll(R,I){switch(Cl(I),I.tag){case 1:return Cn(I.type)&&pn(),R=I.flags,R&65536?(I.flags=R&-65537|128,I):null;case 3:return Io(),Ft(Mn),Ft(tn),Ya(),R=I.flags,(R&65536)!==0&&(R&128)===0?(I.flags=R&-65537|128,I):null;case 5:return Ol(I),null;case 13:if(Ft(Nn),R=I.memoizedState,R!==null&&R.dehydrated!==null){if(I.alternate===null)throw Error(f(340));Ao()}return R=I.flags,R&65536?(I.flags=R&-65537|128,I):null;case 19:return Ft(Nn),null;case 4:return Io(),null;case 10:return Kn(I.type._context),null;case 22:case 23:return Es(),null;case 24:return null;default:return null}}var Br=!1,gr=!1,oo=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function xi(R,I){var z=R.ref;if(z!==null)if(typeof z=="function")try{z(null)}catch(K){zr(R,I,K)}else z.current=null}function ha(R,I,z){try{z()}catch(K){zr(R,I,K)}}var Hl=!1;function Wl(R,I){for(oe(R.containerInfo),Mt=I;Mt!==null;)if(R=Mt,I=R.child,(R.subtreeFlags&1028)!==0&&I!==null)I.return=R,Mt=I;else for(;Mt!==null;){R=Mt;try{var z=R.alternate;if((R.flags&1024)!==0)switch(R.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var K=z.memoizedProps,ee=z.memoizedState,le=R.stateNode,Ee=le.getSnapshotBeforeUpdate(R.elementType===R.type?K:ur(R.type,K),ee);le.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:Ie&&gt(R.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(Be){zr(R,R.return,Be)}if(I=R.sibling,I!==null){I.return=R.return,Mt=I;break}Mt=R.return}return z=Hl,Hl=!1,z}function da(R,I,z){var K=I.updateQueue;if(K=K!==null?K.lastEffect:null,K!==null){var ee=K=K.next;do{if((ee.tag&R)===R){var le=ee.destroy;ee.destroy=void 0,le!==void 0&&ha(I,z,le)}ee=ee.next}while(ee!==K)}}function Sr(R,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var z=I=I.next;do{if((z.tag&R)===R){var K=z.create;z.destroy=K()}z=z.next}while(z!==I)}}function Ur(R){var I=R.ref;if(I!==null){var z=R.stateNode;switch(R.tag){case 5:R=fe(z);break;default:R=z}typeof I=="function"?I(R):I.current=R}}function Rn(R,I,z){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Aa,I)}catch{}switch(I.tag){case 0:case 11:case 14:case 15:if(R=I.updateQueue,R!==null&&(R=R.lastEffect,R!==null)){var K=R=R.next;do{var ee=K,le=ee.destroy;ee=ee.tag,le!==void 0&&((ee&2)!==0||(ee&4)!==0)&&ha(I,z,le),K=K.next}while(K!==R)}break;case 1:if(xi(I,z),R=I.stateNode,typeof R.componentWillUnmount=="function")try{R.props=I.memoizedProps,R.state=I.memoizedState,R.componentWillUnmount()}catch(Ee){zr(I,z,Ee)}break;case 5:xi(I,z);break;case 4:Ie?Yl(R,I,z):he&&he&&(I=I.stateNode.containerInfo,z=at(I),Tt(I,z))}}function bi(R,I,z){for(var K=I;;)if(Rn(R,K,z),K.child===null||Ie&&K.tag===4){if(K===I)break;for(;K.sibling===null;){if(K.return===null||K.return===I)return;K=K.return}K.sibling.return=K.return,K=K.sibling}else K.child.return=K,K=K.child}function Xl(R){var I=R.alternate;I!==null&&(R.alternate=null,Xl(I)),R.child=null,R.deletions=null,R.sibling=null,R.tag===5&&(I=R.stateNode,I!==null&&Qe(I)),R.stateNode=null,R.return=null,R.dependencies=null,R.memoizedProps=null,R.memoizedState=null,R.pendingProps=null,R.stateNode=null,R.updateQueue=null}function Kl(R){return R.tag===5||R.tag===3||R.tag===4}function cl(R){e:for(;;){for(;R.sibling===null;){if(R.return===null||Kl(R.return))return null;R=R.return}for(R.sibling.return=R.return,R=R.sibling;R.tag!==5&&R.tag!==6&&R.tag!==18;){if(R.flags&2||R.child===null||R.tag===4)continue e;R.child.return=R,R=R.child}if(!(R.flags&2))return R.stateNode}}function ul(R){if(Ie){e:{for(var I=R.return;I!==null;){if(Kl(I))break e;I=I.return}throw Error(f(160))}var z=I;switch(z.tag){case 5:I=z.stateNode,z.flags&32&&(We(I),z.flags&=-33),z=cl(R),$o(R,z,I);break;case 3:case 4:I=z.stateNode.containerInfo,z=cl(R),fl(R,z,I);break;default:throw Error(f(161))}}}function fl(R,I,z){var K=R.tag;if(K===5||K===6)R=R.stateNode,I?bt(z,R,I):it(z,R);else if(K!==4&&(R=R.child,R!==null))for(fl(R,I,z),R=R.sibling;R!==null;)fl(R,I,z),R=R.sibling}function $o(R,I,z){var K=R.tag;if(K===5||K===6)R=R.stateNode,I?It(z,R,I):mt(z,R);else if(K!==4&&(R=R.child,R!==null))for($o(R,I,z),R=R.sibling;R!==null;)$o(R,I,z),R=R.sibling}function Yl(R,I,z){for(var K=I,ee=!1,le,Ee;;){if(!ee){ee=K.return;e:for(;;){if(ee===null)throw Error(f(160));switch(le=ee.stateNode,ee.tag){case 5:Ee=!1;break e;case 3:le=le.containerInfo,Ee=!0;break e;case 4:le=le.containerInfo,Ee=!0;break e}ee=ee.return}ee=!0}if(K.tag===5||K.tag===6)bi(R,K,z),Ee?Se(le,K.stateNode):pt(le,K.stateNode);else if(K.tag===18)Ee?Ze(le,K.stateNode):rt(le,K.stateNode);else if(K.tag===4){if(K.child!==null){le=K.stateNode.containerInfo,Ee=!0,K.child.return=K,K=K.child;continue}}else if(Rn(R,K,z),K.child!==null){K.child.return=K,K=K.child;continue}if(K===I)break;for(;K.sibling===null;){if(K.return===null||K.return===I)return;K=K.return,K.tag===4&&(ee=!1)}K.sibling.return=K.return,K=K.sibling}}function Ba(R,I){if(Ie){switch(I.tag){case 0:case 11:case 14:case 15:da(3,I,I.return),Sr(3,I),da(5,I,I.return);return;case 1:return;case 5:var z=I.stateNode;if(z!=null){var K=I.memoizedProps;R=R!==null?R.memoizedProps:K;var ee=I.type,le=I.updateQueue;I.updateQueue=null,le!==null&&dt(z,le,ee,R,K,I)}return;case 6:if(I.stateNode===null)throw Error(f(162));z=I.memoizedProps,ht(I.stateNode,R!==null?R.memoizedProps:z,z);return;case 3:ke&&R!==null&&R.memoizedState.isDehydrated&&He(I.stateNode.containerInfo);return;case 12:return;case 13:Bo(I);return;case 19:Bo(I);return;case 17:return}throw Error(f(163))}switch(I.tag){case 0:case 11:case 14:case 15:da(3,I,I.return),Sr(3,I),da(5,I,I.return);return;case 12:return;case 13:Bo(I);return;case 19:Bo(I);return;case 3:ke&&R!==null&&R.memoizedState.isDehydrated&&He(I.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(I.tag){case 1:case 5:case 6:break e;case 3:case 4:I=I.stateNode,Tt(I.containerInfo,I.pendingChildren);break e}throw Error(f(163))}}function Bo(R){var I=R.updateQueue;if(I!==null){R.updateQueue=null;var z=R.stateNode;z===null&&(z=R.stateNode=new oo),I.forEach(function(K){var ee=Dc.bind(null,R,K);z.has(K)||(z.add(K),K.then(ee,ee))})}}function lu(R,I){for(Mt=I;Mt!==null;){I=Mt;var z=I.deletions;if(z!==null)for(var K=0;K<z.length;K++){var ee=z[K];try{var le=R;Ie?Yl(le,ee,I):bi(le,ee,I);var Ee=ee.alternate;Ee!==null&&(Ee.return=null),ee.return=null}catch(Vt){zr(ee,I,Vt)}}if(z=I.child,(I.subtreeFlags&12854)!==0&&z!==null)z.return=I,Mt=z;else for(;Mt!==null;){I=Mt;try{var Be=I.flags;if(Be&32&&Ie&&We(I.stateNode),Be&512){var ct=I.alternate;if(ct!==null){var St=ct.ref;St!==null&&(typeof St=="function"?St(null):St.current=null)}}if(Be&8192)switch(I.tag){case 13:if(I.memoizedState!==null){var Lt=I.alternate;(Lt===null||Lt.memoizedState===null)&&(xs=On())}break;case 22:var nn=I.memoizedState!==null,Ht=I.alternate,sn=Ht!==null&&Ht.memoizedState!==null;if(z=I,Ie){e:if(K=z,ee=nn,le=null,Ie)for(var Rt=K;;){if(Rt.tag===5){if(le===null){le=Rt;var Mr=Rt.stateNode;ee?xe(Mr):lt(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(le===null){var ci=Rt.stateNode;ee?qe(ci):Te(ci,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===K)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===K)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===K)break e;le===Rt&&(le=null),Rt=Rt.return}le===Rt&&(le=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(nn&&!sn&&(z.mode&1)!==0){Mt=z;for(var Ye=z.child;Ye!==null;){for(z=Mt=Ye;Mt!==null;){K=Mt;var Ge=K.child;switch(K.tag){case 0:case 11:case 14:case 15:da(4,K,K.return);break;case 1:xi(K,K.return);var st=K.stateNode;if(typeof st.componentWillUnmount=="function"){var Ct=K.return;try{st.props=K.memoizedProps,st.state=K.memoizedState,st.componentWillUnmount()}catch(Vt){zr(K,Ct,Vt)}}break;case 5:xi(K,K.return);break;case 22:if(K.memoizedState!==null){Jl(z);continue}}Ge!==null?(Ge.return=K,Mt=Ge):Jl(z)}Ye=Ye.sibling}}}switch(Be&4102){case 2:ul(I),I.flags&=-3;break;case 6:ul(I),I.flags&=-3,Ba(I.alternate,I);break;case 4096:I.flags&=-4097;break;case 4100:I.flags&=-4097,Ba(I.alternate,I);break;case 4:Ba(I.alternate,I)}}catch(Vt){zr(I,I.return,Vt)}if(z=I.sibling,z!==null){z.return=I.return,Mt=z;break}Mt=I.return}}}function ps(R,I,z){Mt=R,ms(R)}function ms(R,I,z){for(var K=(R.mode&1)!==0;Mt!==null;){var ee=Mt,le=ee.child;if(ee.tag===22&&K){var Ee=ee.memoizedState!==null||Br;if(!Ee){var Be=ee.alternate,ct=Be!==null&&Be.memoizedState!==null||gr;Be=Br;var St=gr;if(Br=Ee,(gr=ct)&&!St)for(Mt=ee;Mt!==null;)Ee=Mt,ct=Ee.child,Ee.tag===22&&Ee.memoizedState!==null?so(ee):ct!==null?(ct.return=Ee,Mt=ct):so(ee);for(;le!==null;)Mt=le,ms(le),le=le.sibling;Mt=ee,Br=Be,gr=St}Zl(R)}else(ee.subtreeFlags&8772)!==0&&le!==null?(le.return=ee,Mt=le):Zl(R)}}function Zl(R){for(;Mt!==null;){var I=Mt;if((I.flags&8772)!==0){var z=I.alternate;try{if((I.flags&8772)!==0)switch(I.tag){case 0:case 11:case 15:gr||Sr(5,I);break;case 1:var K=I.stateNode;if(I.flags&4&&!gr)if(z===null)K.componentDidMount();else{var ee=I.elementType===I.type?z.memoizedProps:ur(I.type,z.memoizedProps);K.componentDidUpdate(ee,z.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var le=I.updateQueue;le!==null&&mc(I,le,K);break;case 3:var Ee=I.updateQueue;if(Ee!==null){if(z=null,I.child!==null)switch(I.child.tag){case 5:z=fe(I.child.stateNode);break;case 1:z=I.child.stateNode}mc(I,Ee,z)}break;case 5:var Be=I.stateNode;z===null&&I.flags&4&&Et(Be,I.type,I.memoizedProps,I);break;case 6:break;case 4:break;case 12:break;case 13:if(ke&&I.memoizedState===null){var ct=I.alternate;if(ct!==null){var St=ct.memoizedState;if(St!==null){var Lt=St.dehydrated;Lt!==null&&et(Lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(f(163))}gr||I.flags&512&&Ur(I)}catch(nn){zr(I,I.return,nn)}}if(I===R){Mt=null;break}if(z=I.sibling,z!==null){z.return=I.return,Mt=z;break}Mt=I.return}}function Jl(R){for(;Mt!==null;){var I=Mt;if(I===R){Mt=null;break}var z=I.sibling;if(z!==null){z.return=I.return,Mt=z;break}Mt=I.return}}function so(R){for(;Mt!==null;){var I=Mt;try{switch(I.tag){case 0:case 11:case 15:var z=I.return;try{Sr(4,I)}catch(ct){zr(I,z,ct)}break;case 1:var K=I.stateNode;if(typeof K.componentDidMount=="function"){var ee=I.return;try{K.componentDidMount()}catch(ct){zr(I,ee,ct)}}var le=I.return;try{Ur(I)}catch(ct){zr(I,le,ct)}break;case 5:var Ee=I.return;try{Ur(I)}catch(ct){zr(I,Ee,ct)}}}catch(ct){zr(I,I.return,ct)}if(I===R){Mt=null;break}var Be=I.sibling;if(Be!==null){Be.return=I.return,Mt=Be;break}Mt=I.return}}var gs=0,lo=1,co=2,pa=3,Uo=4;if(typeof Symbol=="function"&&Symbol.for){var uo=Symbol.for;gs=uo("selector.component"),lo=uo("selector.has_pseudo_class"),co=uo("selector.role"),pa=uo("selector.test_id"),Uo=uo("selector.text")}function ys(R){var I=Me(R);if(I!=null){if(typeof I.memoizedProps["data-testname"]!="string")throw Error(f(364));return I}if(R=pe(R),R===null)throw Error(f(362));return R.stateNode.current}function vs(R,I){switch(I.$$typeof){case gs:if(R.type===I.value)return!0;break;case lo:e:{I=I.value,R=[R,0];for(var z=0;z<R.length;){var K=R[z++],ee=R[z++],le=I[ee];if(K.tag!==5||!De(K)){for(;le!=null&&vs(K,le);)ee++,le=I[ee];if(ee===I.length){I=!0;break e}else for(K=K.child;K!==null;)R.push(K,ee),K=K.sibling}}I=!1}return I;case co:if(R.tag===5&&Ue(R.stateNode,I.value))return!0;break;case Uo:if((R.tag===5||R.tag===6)&&(R=Oe(R),R!==null&&0<=R.indexOf(I.value)))return!0;break;case pa:if(R.tag===5&&(R=R.memoizedProps["data-testname"],typeof R=="string"&&R.toLowerCase()===I.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function Ua(R){switch(R.$$typeof){case gs:return"<"+(U(R.value)||"Unknown")+">";case lo:return":has("+(Ua(R)||"")+")";case co:return'[role="'+R.value+'"]';case Uo:return'"'+R.value+'"';case pa:return'[data-testname="'+R.value+'"]';default:throw Error(f(365))}}function ai(R,I){var z=[];R=[R,0];for(var K=0;K<R.length;){var ee=R[K++],le=R[K++],Ee=I[le];if(ee.tag!==5||!De(ee)){for(;Ee!=null&&vs(ee,Ee);)le++,Ee=I[le];if(le===I.length)z.push(ee);else for(ee=ee.child;ee!==null;)R.push(ee,le),ee=ee.sibling}}return z}function ma(R,I){if(!ot)throw Error(f(363));R=ys(R),R=ai(R,I),I=[],R=Array.from(R);for(var z=0;z<R.length;){var K=R[z++];if(K.tag===5)De(K)||I.push(K.stateNode);else for(K=K.child;K!==null;)R.push(K),K=K.sibling}return I}var Ql=Math.ceil,_s=h.ReactCurrentDispatcher,Li=h.ReactCurrentOwner,xn=h.ReactCurrentBatchConfig,on=0,Hn=null,bn=null,Ln=0,Ir=0,fo=wn(0),Un=0,zo=null,Wi=0,oi=0,ho=0,ga=null,Yn=null,xs=0,za=1/0;function po(){za=On()+500}var Vo=!1,In=null,ki=null,Go=!1,Xi=null,mo=0,go=0,ya=null,Pn=-1,zn=0;function mn(){return(on&6)!==0?On():Pn!==-1?Pn:Pn=On()}function Ni(R){return(R.mode&1)===0?1:(on&2)!==0&&Ln!==0?Ln&-Ln:Ra.transition!==null?(zn===0&&(R=Ai,Ai<<=1,(Ai&4194240)===0&&(Ai=64),zn=R),zn):(R=Qt,R!==0?R:Fe())}function Or(R,I,z){if(50<go)throw go=0,ya=null,Error(f(185));var K=Va(R,I);return K===null?null:(hi(K,I,z),((on&2)===0||K!==Hn)&&(K===Hn&&((on&2)===0&&(oi|=I),Un===4&&wr(K,Ln)),Xr(K,z),I===1&&on===0&&(R.mode&1)===0&&(po(),Gi&&Cr())),K)}function Va(R,I){R.lanes|=I;var z=R.alternate;for(z!==null&&(z.lanes|=I),z=R,R=R.return;R!==null;)R.childLanes|=I,z=R.alternate,z!==null&&(z.childLanes|=I),z=R,R=R.return;return z.tag===3?z.stateNode:null}function Xr(R,I){var z=R.callbackNode;Eo(R,I);var K=Ma(R,R===Hn?Ln:0);if(K===0)z!==null&&Vi(z),R.callbackNode=null,R.callbackPriority=0;else if(I=K&-K,R.callbackPriority!==I){if(z!=null&&Vi(z),I===1)R.tag===0?Ca(si.bind(null,R)):qa(si.bind(null,R)),Ve?Je(function(){on===0&&Cr()}):Qr(Ci,Cr),z=null;else{switch(di(K)){case 1:z=Ci;break;case 4:z=ks;break;case 16:z=Pr;break;case 536870912:z=Ta;break;default:z=Pr}z=dl(z,Er.bind(null,R))}R.callbackPriority=I,R.callbackNode=z}}function Er(R,I){if(Pn=-1,zn=0,(on&6)!==0)throw Error(f(327));var z=R.callbackNode;if(Ki()&&R.callbackNode!==z)return null;var K=Ma(R,R===Hn?Ln:0);if(K===0)return null;if((K&30)!==0||(K&R.expiredLanes)!==0||I)I=ws(R,K);else{I=K;var ee=on;on|=2;var le=nc();(Hn!==R||Ln!==I)&&(po(),va(R,I));do try{Rc();break}catch(Be){tc(R,Be)}while(!0);fr(),_s.current=le,on=ee,bn!==null?I=0:(Hn=null,Ln=0,I=Un)}if(I!==0){if(I===2&&(ee=zi(R),ee!==0&&(K=ee,I=bs(R,ee))),I===1)throw z=zo,va(R,0),wr(R,K),Xr(R,On()),z;if(I===6)wr(R,K);else{if(ee=R.current.alternate,(K&30)===0&&!ec(ee)&&(I=ws(R,K),I===2&&(le=zi(R),le!==0&&(K=le,I=bs(R,le))),I===1))throw z=zo,va(R,0),wr(R,K),Xr(R,On()),z;switch(R.finishedWork=ee,R.finishedLanes=K,I){case 0:case 1:throw Error(f(345));case 2:Fi(R,Yn);break;case 3:if(wr(R,K),(K&130023424)===K&&(I=xs+500-On(),10<I)){if(Ma(R,0)!==0)break;if(ee=R.suspendedLanes,(ee&K)!==K){mn(),R.pingedLanes|=R.suspendedLanes&ee;break}R.timeoutHandle=Pe(Fi.bind(null,R,Yn),I);break}Fi(R,Yn);break;case 4:if(wr(R,K),(K&4194240)===K)break;for(I=R.eventTimes,ee=-1;0<K;){var Ee=31-Ar(K);le=1<<Ee,Ee=I[Ee],Ee>ee&&(ee=Ee),K&=~le}if(K=ee,K=On()-K,K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3e3>K?3e3:4320>K?4320:1960*Ql(K/1960))-K,10<K){R.timeoutHandle=Pe(Fi.bind(null,R,Yn),K);break}Fi(R,Yn);break;case 5:Fi(R,Yn);break;default:throw Error(f(329))}}}return Xr(R,On()),R.callbackNode===z?Er.bind(null,R):null}function bs(R,I){var z=ga;return R.current.memoizedState.isDehydrated&&(va(R,I).flags|=256),R=ws(R,I),R!==2&&(I=Yn,Yn=z,I!==null&&Ss(I)),R}function Ss(R){Yn===null?Yn=R:Yn.push.apply(Yn,R)}function ec(R){for(var I=R;;){if(I.flags&16384){var z=I.updateQueue;if(z!==null&&(z=z.stores,z!==null))for(var K=0;K<z.length;K++){var ee=z[K],le=ee.getSnapshot;ee=ee.value;try{if(!lr(le(),ee))return!1}catch{return!1}}}if(z=I.child,I.subtreeFlags&16384&&z!==null)z.return=I,I=z;else{if(I===R)break;for(;I.sibling===null;){if(I.return===null||I.return===R)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function wr(R,I){for(I&=~ho,I&=~oi,R.suspendedLanes|=I,R.pingedLanes&=~I,R=R.expirationTimes;0<I;){var z=31-Ar(I),K=1<<z;R[z]=-1,I&=~K}}function si(R){if((on&6)!==0)throw Error(f(327));Ki();var I=Ma(R,0);if((I&1)===0)return Xr(R,On()),null;var z=ws(R,I);if(R.tag!==0&&z===2){var K=zi(R);K!==0&&(I=K,z=bs(R,K))}if(z===1)throw z=zo,va(R,0),wr(R,I),Xr(R,On()),z;if(z===6)throw Error(f(345));return R.finishedWork=R.current.alternate,R.finishedLanes=I,Fi(R,Yn),Xr(R,On()),null}function jo(R){Xi!==null&&Xi.tag===0&&(on&6)===0&&Ki();var I=on;on|=1;var z=xn.transition,K=Qt;try{if(xn.transition=null,Qt=1,R)return R()}finally{Qt=K,xn.transition=z,on=I,(on&6)===0&&Cr()}}function Es(){Ir=fo.current,Ft(fo)}function va(R,I){R.finishedWork=null,R.finishedLanes=0;var z=R.timeoutHandle;if(z!==Ae&&(R.timeoutHandle=Ae,Re(z)),bn!==null)for(z=bn.return;z!==null;){var K=z;switch(Cl(K),K.tag){case 1:K=K.type.childContextTypes,K!=null&&pn();break;case 3:Io(),Ft(Mn),Ft(tn),Ya();break;case 5:Ol(K);break;case 4:Io();break;case 13:Ft(Nn);break;case 19:Ft(Nn);break;case 10:Kn(K.type._context);break;case 22:case 23:Es()}z=z.return}if(Hn=R,bn=R=xa(R.current,null),Ln=Ir=I,Un=0,zo=null,ho=oi=Wi=0,Yn=ga=null,Nr!==null){for(I=0;I<Nr.length;I++)if(z=Nr[I],K=z.interleaved,K!==null){z.interleaved=null;var ee=K.next,le=z.pending;if(le!==null){var Ee=le.next;le.next=ee,K.next=Ee}z.pending=K}Nr=null}return R}function tc(R,I){do{var z=bn;try{if(fr(),es.current=No,Hs){for(var K=Fn.memoizedState;K!==null;){var ee=K.queue;ee!==null&&(ee.pending=null),K=K.next}Hs=!1}if(Za=0,dr=hr=Fn=null,ji=!1,Ja=0,Li.current=null,z===null||z.return===null){Un=1,zo=I,bn=null;break}e:{var le=R,Ee=z.return,Be=z,ct=I;if(I=Ln,Be.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var St=ct,Lt=Be,nn=Lt.tag;if((Lt.mode&1)===0&&(nn===0||nn===11||nn===15)){var Ht=Lt.alternate;Ht?(Lt.updateQueue=Ht.updateQueue,Lt.memoizedState=Ht.memoizedState,Lt.lanes=Ht.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var sn=Vl(Ee);if(sn!==null){sn.flags&=-257,eo(sn,Ee,Be,le,I),sn.mode&1&&la(le,St,I),I=sn,ct=St;var Rt=I.updateQueue;if(Rt===null){var Mr=new Set;Mr.add(ct),I.updateQueue=Mr}else Rt.add(ct);break e}else{if((I&1)===0){la(le,St,I),hl();break e}ct=Error(f(426))}}else if(Dn&&Be.mode&1){var ci=Vl(Ee);if(ci!==null){(ci.flags&65536)===0&&(ci.flags|=256),eo(ci,Ee,Be,le,I),Gs(ct);break e}}le=ct,Un!==4&&(Un=2),ga===null?ga=[le]:ga.push(le),ct=zl(ct,Be),Be=Ee;do{switch(Be.tag){case 3:Be.flags|=65536,I&=-I,Be.lanes|=I;var Ye=Ac(Be,ct,I);Fs(Be,Ye);break e;case 1:le=ct;var Ge=Be.type,st=Be.stateNode;if((Be.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&(ki===null||!ki.has(st)))){Be.flags|=65536,I&=-I,Be.lanes|=I;var Ct=nl(Be,le,I);Fs(Be,Ct);break e}}Be=Be.return}while(Be!==null)}ic(z)}catch(Vt){I=Vt,bn===z&&z!==null&&(bn=z=z.return);continue}break}while(!0)}function nc(){var R=_s.current;return _s.current=No,R===null?No:R}function hl(){(Un===0||Un===3||Un===2)&&(Un=4),Hn===null||(Wi&268435455)===0&&(oi&268435455)===0||wr(Hn,Ln)}function ws(R,I){var z=on;on|=2;var K=nc();Hn===R&&Ln===I||va(R,I);do try{Cc();break}catch(ee){tc(R,ee)}while(!0);if(fr(),on=z,_s.current=K,bn!==null)throw Error(f(261));return Hn=null,Ln=0,Un}function Cc(){for(;bn!==null;)rc(bn)}function Rc(){for(;bn!==null&&!mi();)rc(bn)}function rc(R){var I=sc(R.alternate,R,Ir);R.memoizedProps=R.pendingProps,I===null?ic(R):bn=I,Li.current=null}function ic(R){var I=R;do{var z=I.alternate;if(R=I.return,(I.flags&32768)===0){if(z=al(z,I,Ir),z!==null){bn=z;return}}else{if(z=ll(z,I),z!==null){z.flags&=32767,bn=z;return}if(R!==null)R.flags|=32768,R.subtreeFlags=0,R.deletions=null;else{Un=6,bn=null;return}}if(I=I.sibling,I!==null){bn=I;return}bn=I=R}while(I!==null);Un===0&&(Un=5)}function Fi(R,I){var z=Qt,K=xn.transition;try{xn.transition=null,Qt=1,Ic(R,I,z)}finally{xn.transition=K,Qt=z}return null}function Ic(R,I,z){do Ki();while(Xi!==null);if((on&6)!==0)throw Error(f(327));var K=R.finishedWork,ee=R.finishedLanes;if(K===null)return null;if(R.finishedWork=null,R.finishedLanes=0,K===R.current)throw Error(f(177));R.callbackNode=null,R.callbackPriority=0;var le=K.lanes|K.childLanes;if(Pi(R,le),R===Hn&&(bn=Hn=null,Ln=0),(K.subtreeFlags&2064)===0&&(K.flags&2064)===0||Go||(Go=!0,dl(Pr,function(){return Ki(),null})),le=(K.flags&15990)!==0,(K.subtreeFlags&15990)!==0||le){le=xn.transition,xn.transition=null;var Ee=Qt;Qt=1;var Be=on;on|=4,Li.current=null,Wl(R,K),lu(R,K),se(R.containerInfo),R.current=K,ps(K),Ls(),on=Be,Qt=Ee,xn.transition=le}else R.current=K;if(Go&&(Go=!1,Xi=R,mo=ee),le=R.pendingLanes,le===0&&(ki=null),Ji(K.stateNode),Xr(R,On()),I!==null)for(z=R.onRecoverableError,K=0;K<I.length;K++)z(I[K]);if(Vo)throw Vo=!1,R=In,In=null,R;return(mo&1)!==0&&R.tag!==0&&Ki(),le=R.pendingLanes,(le&1)!==0?R===ya?go++:(go=0,ya=R):go=0,Cr(),null}function Ki(){if(Xi!==null){var R=di(mo),I=xn.transition,z=Qt;try{if(xn.transition=null,Qt=16>R?16:R,Xi===null)var K=!1;else{if(R=Xi,Xi=null,mo=0,(on&6)!==0)throw Error(f(331));var ee=on;for(on|=4,Mt=R.current;Mt!==null;){var le=Mt,Ee=le.child;if((Mt.flags&16)!==0){var Be=le.deletions;if(Be!==null){for(var ct=0;ct<Be.length;ct++){var St=Be[ct];for(Mt=St;Mt!==null;){var Lt=Mt;switch(Lt.tag){case 0:case 11:case 15:da(8,Lt,le)}var nn=Lt.child;if(nn!==null)nn.return=Lt,Mt=nn;else for(;Mt!==null;){Lt=Mt;var Ht=Lt.sibling,sn=Lt.return;if(Xl(Lt),Lt===St){Mt=null;break}if(Ht!==null){Ht.return=sn,Mt=Ht;break}Mt=sn}}}var Rt=le.alternate;if(Rt!==null){var Mr=Rt.child;if(Mr!==null){Rt.child=null;do{var ci=Mr.sibling;Mr.sibling=null,Mr=ci}while(Mr!==null)}}Mt=le}}if((le.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=le,Mt=Ee;else e:for(;Mt!==null;){if(le=Mt,(le.flags&2048)!==0)switch(le.tag){case 0:case 11:case 15:da(9,le,le.return)}var Ye=le.sibling;if(Ye!==null){Ye.return=le.return,Mt=Ye;break e}Mt=le.return}}var Ge=R.current;for(Mt=Ge;Mt!==null;){Ee=Mt;var st=Ee.child;if((Ee.subtreeFlags&2064)!==0&&st!==null)st.return=Ee,Mt=st;else e:for(Ee=Ge;Mt!==null;){if(Be=Mt,(Be.flags&2048)!==0)try{switch(Be.tag){case 0:case 11:case 15:Sr(9,Be)}}catch(Vt){zr(Be,Be.return,Vt)}if(Be===Ee){Mt=null;break e}var Ct=Be.sibling;if(Ct!==null){Ct.return=Be.return,Mt=Ct;break e}Mt=Be.return}}if(on=ee,Cr(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Aa,R)}catch{}K=!0}return K}finally{Qt=z,xn.transition=I}}return!1}function Ms(R,I,z){I=zl(z,I),I=Ac(R,I,1),Ia(R,I),I=mn(),R=Va(R,1),R!==null&&(hi(R,1,I),Xr(R,I))}function zr(R,I,z){if(R.tag===3)Ms(R,R,z);else for(;I!==null;){if(I.tag===3){Ms(I,R,z);break}else if(I.tag===1){var K=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(ki===null||!ki.has(K))){R=zl(z,R),R=nl(I,R,1),Ia(I,R),R=mn(),I=Va(I,1),I!==null&&(hi(I,1,R),Xr(I,R));break}}I=I.return}}function ac(R,I,z){var K=R.pingCache;K!==null&&K.delete(I),I=mn(),R.pingedLanes|=R.suspendedLanes&z,Hn===R&&(Ln&z)===z&&(Un===4||Un===3&&(Ln&130023424)===Ln&&500>On()-xs?va(R,0):ho|=z),Xr(R,I)}function oc(R,I){I===0&&((R.mode&1)===0?I=1:(I=un,un<<=1,(un&130023424)===0&&(un=4194304)));var z=mn();R=Va(R,I),R!==null&&(hi(R,I,z),Xr(R,z))}function Oc(R){var I=R.memoizedState,z=0;I!==null&&(z=I.retryLane),oc(R,z)}function Dc(R,I){var z=0;switch(R.tag){case 13:var K=R.stateNode,ee=R.memoizedState;ee!==null&&(z=ee.retryLane);break;case 19:K=R.stateNode;break;default:throw Error(f(314))}K!==null&&K.delete(I),oc(R,z)}var sc;sc=function(R,I,z){if(R!==null)if(R.memoizedProps!==I.pendingProps||Mn.current)mr=!0;else{if((R.lanes&z)===0&&(I.flags&128)===0)return mr=!1,sl(R,I,z);mr=(R.flags&131072)!==0}else mr=!1,Dn&&(I.flags&1048576)!==0&&_c(I,zs,I.index);switch(I.lanes=0,I.tag){case 2:var K=I.type;R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),R=I.pendingProps;var ee=Vn(I,tn.current);jn(I,z),ee=Oo(null,I,K,R,ee,z);var le=Na();return I.flags|=1,typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,Cn(K)?(le=!0,Gn(I)):le=!1,I.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,wo(I),ee.updater=Bs,I.stateNode=ee,ee._reactInternals=I,Al(I,K,R,z),I=Rr(null,I,K,!0,le,z)):(I.tag=0,Dn&&le&&Pl(I),Bn(null,I,ee,z),I=I.child),I;case 16:K=I.elementType;e:{switch(R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),R=I.pendingProps,ee=K._init,K=ee(K._payload),I.type=K,ee=I.tag=cu(K),R=ur(K,R),ee){case 0:I=fa(null,I,K,R,z);break e;case 1:I=ro(null,I,K,R,z);break e;case 11:I=An(null,I,K,R,z);break e;case 14:I=En(null,I,K,ur(K.type,R),z);break e}throw Error(f(306,K,""))}return I;case 0:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:ur(K,ee),fa(R,I,K,ee,z);case 1:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:ur(K,ee),ro(R,I,K,ee,z);case 3:e:{if(us(I),R===null)throw Error(f(387));K=I.pendingProps,le=I.memoizedState,ee=le.element,wl(R,I),$s(I,K,null,z);var Ee=I.memoizedState;if(K=Ee.element,ke&&le.isDehydrated)if(le={element:K,isDehydrated:!1,cache:Ee.cache,transitions:Ee.transitions},I.updateQueue.baseState=le,I.memoizedState=le,I.flags&256){ee=Error(f(423)),I=jl(R,I,K,z,ee);break e}else if(K!==ee){ee=Error(f(424)),I=jl(R,I,K,z,ee);break e}else for(ke&&(xr=Wn(I.stateNode.containerInfo),Fr=I,Dn=!0,_i=null,To=!1),z=Sc(I,null,K,z),I.child=z;z;)z.flags=z.flags&-3|4096,z=z.sibling;else{if(Ao(),K===ee){I=Wr(R,I,z);break e}Bn(R,I,K,z)}I=I.child}return I;case 5:return Ec(I),R===null&&Da(I),K=I.type,ee=I.pendingProps,le=R!==null?R.memoizedProps:null,Ee=ee.children,ve(K,ee)?Ee=null:le!==null&&ve(K,le)&&(I.flags|=32),$r(R,I),Bn(R,I,Ee,z),I.child;case 6:return R===null&&Da(I),null;case 13:return ql(R,I,z);case 4:return js(I,I.stateNode.containerInfo),K=I.pendingProps,R===null?I.child=oa(I,null,K,z):Bn(R,I,K,z),I.child;case 11:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:ur(K,ee),An(R,I,K,ee,z);case 7:return Bn(R,I,I.pendingProps,z),I.child;case 8:return Bn(R,I,I.pendingProps.children,z),I.child;case 12:return Bn(R,I,I.pendingProps.children,z),I.child;case 10:e:{if(K=I.type._context,ee=I.pendingProps,le=I.memoizedProps,Ee=ee.value,na(I,K,Ee),le!==null)if(lr(le.value,Ee)){if(le.children===ee.children&&!Mn.current){I=Wr(R,I,z);break e}}else for(le=I.child,le!==null&&(le.return=I);le!==null;){var Be=le.dependencies;if(Be!==null){Ee=le.child;for(var ct=Be.firstContext;ct!==null;){if(ct.context===K){if(le.tag===1){ct=ra(-1,z&-z),ct.tag=2;var St=le.updateQueue;if(St!==null){St=St.shared;var Lt=St.pending;Lt===null?ct.next=ct:(ct.next=Lt.next,Lt.next=ct),St.pending=ct}}le.lanes|=z,ct=le.alternate,ct!==null&&(ct.lanes|=z),rr(le.return,z,I),Be.lanes|=z;break}ct=ct.next}}else if(le.tag===10)Ee=le.type===I.type?null:le.child;else if(le.tag===18){if(Ee=le.return,Ee===null)throw Error(f(341));Ee.lanes|=z,Be=Ee.alternate,Be!==null&&(Be.lanes|=z),rr(Ee,z,I),Ee=le.sibling}else Ee=le.child;if(Ee!==null)Ee.return=le;else for(Ee=le;Ee!==null;){if(Ee===I){Ee=null;break}if(le=Ee.sibling,le!==null){le.return=Ee.return,Ee=le;break}Ee=Ee.return}le=Ee}Bn(R,I,ee.children,z),I=I.child}return I;case 9:return ee=I.type,K=I.pendingProps.children,jn(I,z),ee=kn(ee),K=K(ee),I.flags|=1,Bn(R,I,K,z),I.child;case 14:return K=I.type,ee=ur(K,I.pendingProps),ee=ur(K.type,ee),En(R,I,K,ee,z);case 15:return ua(R,I,I.type,I.pendingProps,z);case 17:return K=I.type,ee=I.pendingProps,ee=I.elementType===K?ee:ur(K,ee),R!==null&&(R.alternate=null,I.alternate=null,I.flags|=2),I.tag=1,Cn(K)?(R=!0,Gn(I)):R=!1,jn(I,z),yc(I,K,ee),Al(I,K,ee,z),Rr(null,I,K,!0,R,z);case 19:return ao(R,I,z);case 22:return br(R,I,z)}throw Error(f(156,I.tag))};function dl(R,I){return Qr(R,I)}function Lc(R,I,z,K){this.tag=R,this.key=z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(R,I,z,K){return new Lc(R,I,z,K)}function pl(R){return R=R.prototype,!(!R||!R.isReactComponent)}function cu(R){if(typeof R=="function")return pl(R)?1:0;if(R!=null){if(R=R.$$typeof,R===A)return 11;if(R===O)return 14}return 2}function xa(R,I){var z=R.alternate;return z===null?(z=li(R.tag,I,R.key,R.mode),z.elementType=R.elementType,z.type=R.type,z.stateNode=R.stateNode,z.alternate=R,R.alternate=z):(z.pendingProps=I,z.type=R.type,z.flags=0,z.subtreeFlags=0,z.deletions=null),z.flags=R.flags&14680064,z.childLanes=R.childLanes,z.lanes=R.lanes,z.child=R.child,z.memoizedProps=R.memoizedProps,z.memoizedState=R.memoizedState,z.updateQueue=R.updateQueue,I=R.dependencies,z.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},z.sibling=R.sibling,z.index=R.index,z.ref=R.ref,z}function ml(R,I,z,K,ee,le){var Ee=2;if(K=R,typeof R=="function")pl(R)&&(Ee=1);else if(typeof R=="string")Ee=5;else e:switch(R){case m:return yo(z.children,ee,le,I);case v:Ee=8,ee|=8;break;case _:return R=li(12,z,I,ee|2),R.elementType=_,R.lanes=le,R;case w:return R=li(13,z,I,ee),R.elementType=w,R.lanes=le,R;case C:return R=li(19,z,I,ee),R.elementType=C,R.lanes=le,R;case F:return Ts(z,ee,le,I);default:if(typeof R=="object"&&R!==null)switch(R.$$typeof){case S:Ee=10;break e;case M:Ee=9;break e;case A:Ee=11;break e;case O:Ee=14;break e;case L:Ee=16,K=null;break e}throw Error(f(130,R==null?R:typeof R,""))}return I=li(Ee,z,I,ee),I.elementType=R,I.type=K,I.lanes=le,I}function yo(R,I,z,K){return R=li(7,R,K,I),R.lanes=z,R}function Ts(R,I,z,K){return R=li(22,R,K,I),R.elementType=F,R.lanes=z,R.stateNode={},R}function gl(R,I,z){return R=li(6,R,null,I),R.lanes=z,R}function yl(R,I,z){return I=li(4,R.children!==null?R.children:[],R.key,I),I.lanes=z,I.stateNode={containerInfo:R.containerInfo,pendingChildren:null,implementation:R.implementation},I}function vl(R,I,z,K,ee){this.tag=I,this.containerInfo=R,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ae,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=K,this.onRecoverableError=ee,ke&&(this.mutableSourceEagerHydrationData=null)}function kc(R,I,z,K,ee,le,Ee,Be,ct){return R=new vl(R,I,z,Be,ct),I===1?(I=1,le===!0&&(I|=8)):I=0,le=li(3,null,null,I),R.current=le,le.stateNode=R,le.memoizedState={element:K,isDehydrated:z,cache:null,transitions:null},wo(le),R}function Nc(R){if(!R)return Sn;R=R._reactInternals;e:{if(Z(R)!==R||R.tag!==1)throw Error(f(170));var I=R;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(Cn(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(f(171))}if(R.tag===1){var z=R.type;if(Cn(z))return Bi(R,z,I)}return I}function Fc(R){var I=R._reactInternals;if(I===void 0)throw typeof R.render=="function"?Error(f(188)):(R=Object.keys(R).join(","),Error(f(268,R)));return R=ne(I),R===null?null:R.stateNode}function Si(R,I){if(R=R.memoizedState,R!==null&&R.dehydrated!==null){var z=R.retryLane;R.retryLane=z!==0&&z<I?z:I}}function As(R,I){Si(R,I),(R=R.alternate)&&Si(R,I)}function _l(R){return R=ne(R),R===null?null:R.stateNode}function $c(){return null}return n.attemptContinuousHydration=function(R){if(R.tag===13){var I=mn();Or(R,134217728,I),As(R,134217728)}},n.attemptHydrationAtCurrentPriority=function(R){if(R.tag===13){var I=mn(),z=Ni(R);Or(R,z,I),As(R,z)}},n.attemptSynchronousHydration=function(R){switch(R.tag){case 3:var I=R.stateNode;if(I.current.memoizedState.isDehydrated){var z=Ui(I.pendingLanes);z!==0&&(_r(I,z|1),Xr(I,On()),(on&6)===0&&(po(),Cr()))}break;case 13:var K=mn();jo(function(){return Or(R,1,K)}),As(R,1)}},n.batchedUpdates=function(R,I){var z=on;on|=1;try{return R(I)}finally{on=z,on===0&&(po(),Gi&&Cr())}},n.createComponentSelector=function(R){return{$$typeof:gs,value:R}},n.createContainer=function(R,I,z,K,ee,le,Ee){return kc(R,I,!1,null,z,K,ee,le,Ee)},n.createHasPseudoClassSelector=function(R){return{$$typeof:lo,value:R}},n.createHydrationContainer=function(R,I,z,K,ee,le,Ee,Be,ct){return R=kc(z,K,!0,R,ee,le,Ee,Be,ct),R.context=Nc(null),z=R.current,K=mn(),ee=Ni(z),le=ra(K,ee),le.callback=I??null,Ia(z,le),R.current.lanes=ee,hi(R,ee,K),Xr(R,K),R},n.createPortal=function(R,I,z){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:K==null?null:""+K,children:R,containerInfo:I,implementation:z}},n.createRoleSelector=function(R){return{$$typeof:co,value:R}},n.createTestNameSelector=function(R){return{$$typeof:pa,value:R}},n.createTextSelector=function(R){return{$$typeof:Uo,value:R}},n.deferredUpdates=function(R){var I=Qt,z=xn.transition;try{return xn.transition=null,Qt=16,R()}finally{Qt=I,xn.transition=z}},n.discreteUpdates=function(R,I,z,K,ee){var le=Qt,Ee=xn.transition;try{return xn.transition=null,Qt=1,R(I,z,K,ee)}finally{Qt=le,xn.transition=Ee,on===0&&po()}},n.findAllNodes=ma,n.findBoundingRects=function(R,I){if(!ot)throw Error(f(363));I=ma(R,I),R=[];for(var z=0;z<I.length;z++)R.push(de(I[z]));for(I=R.length-1;0<I;I--){z=R[I];for(var K=z.x,ee=K+z.width,le=z.y,Ee=le+z.height,Be=I-1;0<=Be;Be--)if(I!==Be){var ct=R[Be],St=ct.x,Lt=St+ct.width,nn=ct.y,Ht=nn+ct.height;if(K>=St&&le>=nn&&ee<=Lt&&Ee<=Ht){R.splice(I,1);break}else if(K!==St||z.width!==ct.width||Ht<le||nn>Ee){if(!(le!==nn||z.height!==ct.height||Lt<K||St>ee)){St>K&&(ct.width+=St-K,ct.x=K),Lt<ee&&(ct.width=ee-St),R.splice(I,1);break}}else{nn>le&&(ct.height+=nn-le,ct.y=le),Ht<Ee&&(ct.height=Ee-nn),R.splice(I,1);break}}}return R},n.findHostInstance=Fc,n.findHostInstanceWithNoPortals=function(R){return R=H(R),R=R!==null?te(R):null,R===null?null:R.stateNode},n.findHostInstanceWithWarning=function(R){return Fc(R)},n.flushControlled=function(R){var I=on;on|=1;var z=xn.transition,K=Qt;try{xn.transition=null,Qt=1,R()}finally{Qt=K,xn.transition=z,on=I,on===0&&(po(),Cr())}},n.flushPassiveEffects=Ki,n.flushSync=jo,n.focusWithin=function(R,I){if(!ot)throw Error(f(363));for(R=ys(R),I=ai(R,I),I=Array.from(I),R=0;R<I.length;){var z=I[R++];if(!De(z)){if(z.tag===5&&tt(z.stateNode))return!0;for(z=z.child;z!==null;)I.push(z),z=z.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Qt},n.getFindAllNodesFailureDescription=function(R,I){if(!ot)throw Error(f(363));var z=0,K=[];R=[ys(R),0];for(var ee=0;ee<R.length;){var le=R[ee++],Ee=R[ee++],Be=I[Ee];if((le.tag!==5||!De(le))&&(vs(le,Be)&&(K.push(Ua(Be)),Ee++,Ee>z&&(z=Ee)),Ee<I.length))for(le=le.child;le!==null;)R.push(le,Ee),le=le.sibling}if(z<I.length){for(R=[];z<I.length;z++)R.push(Ua(I[z]));return`findAllNodes was able to match part of the selector:
  `+(K.join(" > ")+`

No matching component was found for:
  `)+R.join(" > ")}return null},n.getPublicRootInstance=function(R){if(R=R.current,!R.child)return null;switch(R.child.tag){case 5:return fe(R.child.stateNode);default:return R.child.stateNode}},n.injectIntoDevTools=function(R){if(R={bundleType:R.bundleType,version:R.version,rendererPackageName:R.rendererPackageName,rendererConfig:R.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:_l,findFiberByHostInstance:R.findFiberByHostInstance||$c,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")R=!1;else{var I=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(I.isDisabled||!I.supportsFiber)R=!0;else{try{Aa=I.inject(R),ei=I}catch{}R=!!I.checkDCE}}return R},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(R,I,z,K){if(!ot)throw Error(f(363));R=ma(R,I);var ee=ut(R,z,K).disconnect;return{disconnect:function(){ee()}}},n.registerMutableSourceForHydration=function(R,I){var z=I._getVersion;z=z(I._source),R.mutableSourceEagerHydrationData==null?R.mutableSourceEagerHydrationData=[I,z]:R.mutableSourceEagerHydrationData.push(I,z)},n.runWithPriority=function(R,I){var z=Qt;try{return Qt=R,I()}finally{Qt=z}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(R,I,z,K){var ee=I.current,le=mn(),Ee=Ni(ee);return z=Nc(z),I.context===null?I.context=z:I.pendingContext=z,I=ra(le,Ee),I.payload={element:R},K=K===void 0?null:K,K!==null&&(I.callback=K),Ia(ee,I),R=Or(ee,Ee,le),R!==null&&Ns(R,ee,Ee),Ee},n}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports=requireScheduler();const catalogue={},extend$1=t=>void Object.assign(catalogue,t);function createRenderer(t,e){function n(m,{args:v=[],attach:_,...S},M){let A=`${m[0].toUpperCase()}${m.slice(1)}`,w;if(m==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=S.object;w=prepare(C,{type:m,root:M,attach:_,primitive:!0})}else{const C=catalogue[A];if(!C)throw new Error(`R3F: ${A} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");w=prepare(new C(...v),{type:m,root:M,attach:_,memoizedProps:{args:v}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),A!=="inject"&&applyProps$1(w,S),w}function o(m,v){let _=!1;if(v){var S,M;(S=v.__r3f)!=null&&S.attach?attach(m,v,v.__r3f.attach):v.isObject3D&&m.isObject3D&&(m.add(v),_=!0),_||(M=m.__r3f)==null||M.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function l(m,v,_){let S=!1;if(v){var M,A;if((M=v.__r3f)!=null&&M.attach)attach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){v.parent=m,v.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:v});const w=m.children.filter(O=>O!==v),C=w.indexOf(_);m.children=[...w.slice(0,C),v,...w.slice(C)],S=!0}S||(A=m.__r3f)==null||A.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function u(m,v,_=!1){m&&[...m].forEach(S=>f(v,S,_))}function f(m,v,_){if(v){var S,M,A;if(v.__r3f&&(v.__r3f.parent=null),(S=m.__r3f)!=null&&S.objects&&(m.__r3f.objects=m.__r3f.objects.filter(F=>F!==v)),(M=v.__r3f)!=null&&M.attach)detach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){var w;m.remove(v),(w=v.__r3f)!=null&&w.root&&removeInteractivity(findInitialRoot(v),v)}const O=(A=v.__r3f)==null?void 0:A.primitive,L=!O&&(_===void 0?v.dispose!==null:_);if(!O){var C;u((C=v.__r3f)==null?void 0:C.objects,v,L),u(v.children,v,L)}if(delete v.__r3f,L&&v.dispose&&v.type!=="Scene"){const F=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,F):F()}invalidateInstance(m)}}function h(m,v,_,S){var M;const A=(M=m.__r3f)==null?void 0:M.parent;if(!A)return;const w=n(v,_,m.__r3f.root);if(m.children){for(const C of m.children)C.__r3f&&o(w,C);m.children=m.children.filter(C=>!C.__r3f)}m.__r3f.objects.forEach(C=>o(w,C)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||f(A,m),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),o(A,w),w.raycast&&w.__r3f.eventCount&&findInitialRoot(w).getState().internal.interaction.push(w),[S,S.alternate].forEach(C=>{C!==null&&(C.stateNode=w,C.ref&&(typeof C.ref=="function"?C.ref(w):C.ref.current=w))})}const d=()=>{};return{reconciler:Reconciler({createInstance:n,removeChild:f,appendChild:o,appendInitialChild:o,insertBefore:l,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,v)=>{if(!v)return;const _=m.getState().scene;_.__r3f&&(_.__r3f.root=m,o(_,v))},removeChildFromContainer:(m,v)=>{v&&f(m.getState().scene,v)},insertInContainerBefore:(m,v,_)=>{if(!v||!_)return;const S=m.getState().scene;S.__r3f&&l(S,v,_)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var v;return!!((v=m==null?void 0:m.__r3f)!=null?v:{}).handlers},prepareUpdate(m,v,_,S){var M;if(((M=m==null?void 0:m.__r3f)!=null?M:{}).primitive&&S.object&&S.object!==m)return[!0];{const{args:w=[],children:C,...O}=S,{args:L=[],children:F,...$}=_;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((U,q)=>U!==L[q]))return[!0];const B=diffProps(m,O,$,!0);return B.changes.length?[!1,B]:null}},commitUpdate(m,[v,_],S,M,A,w){v?h(m,S,A,w):applyProps$1(m,_)},commitMount(m,v,_,S){var M;const A=(M=m.__r3f)!=null?M:{};m.raycast&&A.handlers&&A.eventCount&&findInitialRoot(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>prepare(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var v;const{attach:_,parent:S}=(v=m.__r3f)!=null?v:{};_&&S&&detach(S,m,_),m.isObject3D&&(m.visible=!1),invalidateInstance(m)},unhideInstance(m,v){var _;const{attach:S,parent:M}=(_=m.__r3f)!=null?_:{};S&&M&&attach(M,m,S),(m.isObject3D&&v.visible==null||v.visible)&&(m.visible=!0),invalidateInstance(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=t=>"colorSpace"in t||"outputColorSpace"in t,getColorManagement=()=>{var t;return(t=catalogue.ColorManagement)!=null?t:null},isOrthographicCamera=t=>t&&t.isOrthographicCamera,isRef=t=>t&&t.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(t){const e=reactExports.useRef(t);return useIsomorphicLayoutEffect(()=>void(e.current=t),[t]),e}function Block({set:t}){return useIsomorphicLayoutEffect(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=t=>t&&!!t.memoized&&!!t.changes;function calculateDpr(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const getRootState=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function findInitialRoot(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const is={obj:t=>t===Object(t)&&!is.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:o="reference",strict:l=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(is.str(t)||is.num(t)||is.boo(t))return t===e;const u=is.obj(t);if(u&&o==="reference")return t===e;const f=is.arr(t);if(f&&n==="reference")return t===e;if((f||u)&&t===e)return!0;let h;for(h in t)if(!(h in e))return!1;if(u&&n==="shallow"&&o==="shallow"){for(h in l?e:t)if(!is.equ(t[h],e[h],{strict:l,objects:"reference"}))return!1}else for(h in l?e:t)if(t[h]!==e[h])return!1;if(is.und(h)){if(f&&t.length===0&&e.length===0||u&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function buildGraph(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function dispose(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function prepare(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function resolve(t,e){let n=t;if(e.includes("-")){const o=e.split("-"),l=o.pop();return n=o.reduce((u,f)=>u[f],t),{target:n,key:l}}else return{target:n,key:e}}const INDEX_REGEX=/-\d+$/;function attach(t,e,n){if(is.str(n)){if(INDEX_REGEX.test(n)){const u=n.replace(INDEX_REGEX,""),{target:f,key:h}=resolve(t,u);Array.isArray(f[h])||(f[h]=[])}const{target:o,key:l}=resolve(t,n);e.__r3f.previousAttach=o[l],o[l]=e}else e.__r3f.previousAttach=n(t,e)}function detach(t,e,n){var o,l;if(is.str(n)){const{target:u,key:f}=resolve(t,n),h=e.__r3f.previousAttach;h===void 0?delete u[f]:u[f]=h}else(o=e.__r3f)==null||o.previousAttach==null||o.previousAttach(t,e);(l=e.__r3f)==null||delete l.previousAttach}function diffProps(t,{children:e,key:n,ref:o,...l},{children:u,key:f,ref:h,...d}={},p=!1){const m=t.__r3f,v=Object.entries(l),_=[];if(p){const M=Object.keys(d);for(let A=0;A<M.length;A++)l.hasOwnProperty(M[A])||v.unshift([M[A],DEFAULT+"remove"])}v.forEach(([M,A])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&M==="object"||is.equ(A,d[M]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(M))return _.push([M,A,!0,[]]);let C=[];M.includes("-")&&(C=M.split("-")),_.push([M,A,!1,C]);for(const O in l){const L=l[O];O.startsWith(`${M}-`)&&_.push([O,L,!1,O.split("-")])}});const S={...l};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(S.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(S.attach=m.memoizedProps.attach),{memoized:S,changes:_}}function applyProps$1(t,e){var n;const o=t.__r3f,l=o==null?void 0:o.root,u=l==null||l.getState==null?void 0:l.getState(),{memoized:f,changes:h}=isDiffSet(e)?e:diffProps(t,e),d=o==null?void 0:o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=f);for(let _=0;_<h.length;_++){let[S,M,A,w]=h[_];if(hasColorSpace(t)){const F="srgb",$="srgb-linear";S==="encoding"?(S="colorSpace",M=M===3001?F:$):S==="outputEncoding"&&(S="outputColorSpace",M=M===3001?F:$)}let C=t,O=C[S];if(w.length&&(O=w.reduce((L,F)=>L[F],t),!(O&&O.set))){const[L,...F]=w.reverse();C=F.reverse().reduce(($,B)=>$[B],t),S=L}if(M===DEFAULT+"remove")if(C.constructor){let L=DEFAULTS.get(C.constructor);L||(L=new C.constructor,DEFAULTS.set(C.constructor,L)),M=L[S]}else M=0;if(A&&o)M?o.handlers[S]=M:delete o.handlers[S],o.eventCount=Object.keys(o.handlers).length;else if(O&&O.set&&(O.copy||O instanceof Layers)){if(Array.isArray(M))O.fromArray?O.fromArray(M):O.set(...M);else if(O.copy&&M&&M.constructor&&O.constructor===M.constructor)O.copy(M);else if(M!==void 0){var p;const L=(p=O)==null?void 0:p.isColor;!L&&O.setScalar?O.setScalar(M):O instanceof Layers&&M instanceof Layers?O.mask=M.mask:O.set(M),!getColorManagement()&&u&&!u.linear&&L&&O.convertSRGBToLinear()}}else{var m;if(C[S]=M,(m=C[S])!=null&&m.isTexture&&C[S].format===RGBAFormat&&C[S].type===UnsignedByteType&&u){const L=C[S];hasColorSpace(L)&&hasColorSpace(u.gl)?L.colorSpace=u.gl.outputColorSpace:L.encoding=u.gl.outputEncoding}}invalidateInstance(t)}if(o&&o.parent&&t.raycast&&d!==o.eventCount){const _=findInitialRoot(t).getState().internal,S=_.interaction.indexOf(t);S>-1&&_.interaction.splice(S,1),o.eventCount&&_.interaction.push(t)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(n=t.__r3f)!=null&&n.parent&&updateInstance(t),t}function invalidateInstance(t){var e,n;const o=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();o&&o.internal.frames===0&&o.invalidate()}function updateInstance(t){t.onUpdate==null||t.onUpdate(t)}function updateCamera(t,e){t.manual||(isOrthographicCamera(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function makeId(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function getEventPriority(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(t,e,n,o){const l=n.get(e);l&&(n.delete(e),n.size===0&&(t.delete(o),l.target.releasePointerCapture(o)))}function removeInteractivity(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(o=>o!==e),n.initialHits=n.initialHits.filter(o=>o!==e),n.hovered.forEach((o,l)=>{(o.eventObject===e||o.object===e)&&n.hovered.delete(l)}),n.capturedMap.forEach((o,l)=>{releaseInternalPointerCapture(n.capturedMap,e,o,l)})}function createEvents(t){function e(d){const{internal:p}=t.getState(),m=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function n(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function o(d,p){const m=t.getState(),v=new Set,_=[],S=p?p(m.internal.interaction):m.internal.interaction;for(let C=0;C<S.length;C++){const O=getRootState(S[C]);O&&(O.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function M(C){const O=getRootState(C);if(!O||!O.events.enabled||O.raycaster.camera===null)return[];if(O.raycaster.camera===void 0){var L;O.events.compute==null||O.events.compute(d,O,(L=O.previousRoot)==null?void 0:L.getState()),O.raycaster.camera===void 0&&(O.raycaster.camera=null)}return O.raycaster.camera?O.raycaster.intersectObject(C,!0):[]}let A=S.flatMap(M).sort((C,O)=>{const L=getRootState(C.object),F=getRootState(O.object);return!L||!F?C.distance-O.distance:F.events.priority-L.events.priority||C.distance-O.distance}).filter(C=>{const O=makeId(C);return v.has(O)?!1:(v.add(O),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const C of A){let O=C.object;for(;O;){var w;(w=O.__r3f)!=null&&w.eventCount&&_.push({...C,eventObject:O}),O=O.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let C of m.internal.capturedMap.get(d.pointerId).values())v.has(makeId(C.intersection))||_.push(C.intersection);return _}function l(d,p,m,v){const _=t.getState();if(d.length){const S={stopped:!1};for(const M of d){const A=getRootState(M.object)||_,{raycaster:w,pointer:C,camera:O,internal:L}=A,F=new Vector3(C.x,C.y,0).unproject(O),$=G=>{var H,ne;return(H=(ne=L.capturedMap.get(G))==null?void 0:ne.has(M.eventObject))!=null?H:!1},B=G=>{const H={intersection:M,target:p.target};L.capturedMap.has(G)?L.capturedMap.get(G).set(M.eventObject,H):L.capturedMap.set(G,new Map([[M.eventObject,H]])),p.target.setPointerCapture(G)},U=G=>{const H=L.capturedMap.get(G);H&&releaseInternalPointerCapture(L.capturedMap,M.eventObject,H,G)};let q={};for(let G in p){let H=p[G];typeof H!="function"&&(q[G]=H)}let Z={...M,...q,pointer:C,intersections:d,stopped:S.stopped,delta:m,unprojectedPoint:F,ray:w.ray,camera:O,stopPropagation(){const G="pointerId"in p&&L.capturedMap.get(p.pointerId);if((!G||G.has(M.eventObject))&&(Z.stopped=S.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(H=>H.eventObject===M.eventObject))){const H=d.slice(0,d.indexOf(M));u([...H,M])}},target:{hasPointerCapture:$,setPointerCapture:B,releasePointerCapture:U},currentTarget:{hasPointerCapture:$,setPointerCapture:B,releasePointerCapture:U},nativeEvent:p};if(v(Z),S.stopped===!0)break}}return d}function u(d){const{internal:p}=t.getState();for(const m of p.hovered.values())if(!d.length||!d.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const _=m.eventObject.__r3f,S=_==null?void 0:_.handlers;if(p.hovered.delete(makeId(m)),_!=null&&_.eventCount){const M={...m,intersections:d};S.onPointerOut==null||S.onPointerOut(M),S.onPointerLeave==null||S.onPointerLeave(M)}}}function f(d,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function h(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>u([]);case"onLostPointerCapture":return p=>{const{internal:m}=t.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),u([]))})}}return function(m){const{onPointerMissed:v,internal:_}=t.getState();_.lastEvent.current=m;const S=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",w=o(m,S?n:void 0),C=M?e(m):0;d==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=w.map(L=>L.eventObject)),M&&!w.length&&C<=2&&(f(m,_.interaction),v&&v(m)),S&&u(w);function O(L){const F=L.eventObject,$=F.__r3f,B=$==null?void 0:$.handlers;if($!=null&&$.eventCount)if(S){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const U=makeId(L),q=_.hovered.get(U);q?q.stopped&&L.stopPropagation():(_.hovered.set(U,L),B.onPointerOver==null||B.onPointerOver(L),B.onPointerEnter==null||B.onPointerEnter(L))}B.onPointerMove==null||B.onPointerMove(L)}else{const U=B[d];U?(!M||_.initialHits.includes(F))&&(f(m,_.interaction.filter(q=>!_.initialHits.includes(q))),U(L)):M&&_.initialHits.includes(F)&&f(m,_.interaction.filter(q=>!_.initialHits.includes(q)))}}l(w,m,C,O)}}return{handlePointer:h}}const isRenderer=t=>!!(t!=null&&t.render),context$1=reactExports.createContext(null),createStore=(t,e)=>{const n=create((h,d)=>{const p=new Vector3,m=new Vector3,v=new Vector3;function _(C=d().camera,O=m,L=d().size){const{width:F,height:$,top:B,left:U}=L,q=F/$;O.isVector3?v.copy(O):v.set(...O);const Z=C.getWorldPosition(p).distanceTo(v);if(isOrthographicCamera(C))return{width:F/C.zoom,height:$/C.zoom,top:B,left:U,factor:1,distance:Z,aspect:q};{const G=C.fov*Math.PI/180,H=2*Math.tan(G/2)*Z,ne=H*(F/$);return{width:ne,height:H,top:B,left:U,factor:F/ne,distance:Z,aspect:q}}}let S;const M=C=>h(O=>({performance:{...O.performance,current:C}})),A=new Vector2;return{set:h,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>t(d(),C),advance:(C,O)=>e(C,O,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=d();S&&clearTimeout(S),C.performance.current!==C.performance.min&&M(C.performance.min),S=setTimeout(()=>M(d().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:C=>h(O=>({...O,events:{...O.events,...C}})),setSize:(C,O,L,F,$)=>{const B=d().camera,U={width:C,height:O,top:F||0,left:$||0,updateStyle:L};h(q=>({size:U,viewport:{...q.viewport,..._(B,m,U)}}))},setDpr:C=>h(O=>{const L=calculateDpr(C);return{viewport:{...O.viewport,dpr:L,initialDpr:O.viewport.initialDpr||L}}}),setFrameloop:(C="always")=>{const O=d().clock;O.stop(),O.elapsedTime=0,C!=="never"&&(O.start(),O.elapsedTime=0),h(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,O,L)=>{const F=d().internal;return F.priority=F.priority+(O>0?1:0),F.subscribers.push({ref:C,priority:O,store:L}),F.subscribers=F.subscribers.sort(($,B)=>$.priority-B.priority),()=>{const $=d().internal;$!=null&&$.subscribers&&($.priority=$.priority-(O>0?1:0),$.subscribers=$.subscribers.filter(B=>B.ref!==C))}}}}}),o=n.getState();let l=o.size,u=o.viewport.dpr,f=o.camera;return n.subscribe(()=>{const{camera:h,size:d,viewport:p,gl:m,set:v}=n.getState();if(d.width!==l.width||d.height!==l.height||p.dpr!==u){var _;l=d,u=p.dpr,updateCamera(h,d),m.setPixelRatio(p.dpr);const S=(_=d.updateStyle)!=null?_:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,S)}h!==f&&(f=h,v(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(h)}})))}),n.subscribe(h=>t(h)),n};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function flushGlobalEffects(t,e){switch(t){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(t,e,n){let o=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(o=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),subscribers=e.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),o,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(t){let e=!1,n=!1,o,l,u;function f(p){l=requestAnimationFrame(f),e=!0,o=0,flushGlobalEffects("before",p),n=!0;for(const v of t.values()){var m;u=v.store.getState(),u.internal.active&&(u.frameloop==="always"||u.internal.frames>0)&&!((m=u.gl.xr)!=null&&m.isPresenting)&&(o+=render$1(p,u))}if(n=!1,flushGlobalEffects("after",p),o===0)return flushGlobalEffects("tail",p),e=!1,cancelAnimationFrame(l)}function h(p,m=1){var v;if(!p)return t.forEach(_=>h(_.store.getState(),m));(v=p.gl.xr)!=null&&v.isPresenting||!p.internal.active||p.frameloop==="never"||(m>1?p.internal.frames=Math.min(60,p.internal.frames+m):n?p.internal.frames=2:p.internal.frames=1,e||(e=!0,requestAnimationFrame(f)))}function d(p,m=!0,v,_){if(m&&flushGlobalEffects("before",p),v)render$1(p,v,_);else for(const S of t.values())render$1(p,S.store.getState());m&&flushGlobalEffects("after",p)}return{loop:f,invalidate:h,advance:d}}function useStore(){const t=reactExports.useContext(context$1);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function useThree(t=n=>n,e){return useStore()(t,e)}function useFrame(t,e=0){const n=useStore(),o=n.getState().internal.subscribe,l=useMutableCallback(t);return useIsomorphicLayoutEffect(()=>o(l,e,n),[e,o,n]),null}const memoizedLoaders=new WeakMap;function loadingFn(t,e){return function(n,...o){let l=memoizedLoaders.get(n);return l||(l=new n,memoizedLoaders.set(n,l)),t&&t(l),Promise.all(o.map(u=>new Promise((f,h)=>l.load(u,d=>{d.scene&&Object.assign(d,buildGraph(d.scene)),f(d)},e,d=>h(new Error(`Could not load ${u}: ${d==null?void 0:d.message}`))))))}}function useLoader(t,e,n,o){const l=Array.isArray(e)?e:[e],u=suspend(loadingFn(n,o),[t,...l],{equal:is.equ});return Array.isArray(e)?u:u[0]}useLoader.preload=function(t,e,n){const o=Array.isArray(e)?e:[e];return preload(loadingFn(n),[t,...o])};useLoader.clear=function(t,e){const n=Array.isArray(e)?e:[e];return clear([t,...n])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(t,e)=>{const n=typeof t=="function"?t(e):t;return isRenderer(n)?n:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function computeInitialSize(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:o,height:l,top:u,left:f,updateStyle:h=n}=e;return{width:o,height:l,top:u,left:f,updateStyle:h}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:o,height:l,top:u,left:f}=t.parentElement.getBoundingClientRect();return{width:o,height:l,top:u,left:f,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function createRoot(t){const e=roots.get(t),n=e==null?void 0:e.fiber,o=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const l=typeof reportError=="function"?reportError:console.error,u=o||createStore(invalidate,advance),f=n||reconciler.createContainer(u,constantsExports.ConcurrentRoot,null,!1,null,"",l,null);e||roots.set(t,{fiber:f,store:u});let h,d=!1,p;return{configure(m={}){let{gl:v,size:_,scene:S,events:M,onCreated:A,shadows:w=!1,linear:C=!1,flat:O=!1,legacy:L=!1,orthographic:F=!1,frameloop:$="always",dpr:B=[1,2],performance:U,raycaster:q,camera:Z,onPointerMissed:G}=m,H=u.getState(),ne=H.gl;H.gl||H.set({gl:ne=createRendererInstance(v,t)});let ae=H.raycaster;ae||H.set({raycaster:ae=new Raycaster});const{params:te,...ce}=q||{};if(is.equ(ce,ae,shallowLoose)||applyProps(ae,{...ce}),is.equ(te,ae.params,shallowLoose)||applyProps(ae,{params:{...ae.params,...te}}),!H.camera||H.camera===p&&!is.equ(p,Z,shallowLoose)){p=Z;const se=Z instanceof Camera,Q=se?Z:F?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);se||(Q.position.z=5,Z&&(applyProps(Q,Z),("aspect"in Z||"left"in Z||"right"in Z||"bottom"in Z||"top"in Z)&&(Q.manual=!0,Q.updateProjectionMatrix())),!H.camera&&!(Z!=null&&Z.rotation)&&Q.lookAt(0,0,0)),H.set({camera:Q}),ae.camera=Q}if(!H.scene){let se;S!=null&&S.isScene?se=S:(se=new Scene,S&&applyProps(se,S)),H.set({scene:prepare(se)})}if(!H.xr){var fe;const se=(_e,ge)=>{const ve=u.getState();ve.frameloop!=="never"&&advance(_e,!0,ve,ge)},Q=()=>{const _e=u.getState();_e.gl.xr.enabled=_e.gl.xr.isPresenting,_e.gl.xr.setAnimationLoop(_e.gl.xr.isPresenting?se:null),_e.gl.xr.isPresenting||invalidate(_e)},ue={connect(){const _e=u.getState().gl;_e.xr.addEventListener("sessionstart",Q),_e.xr.addEventListener("sessionend",Q)},disconnect(){const _e=u.getState().gl;_e.xr.removeEventListener("sessionstart",Q),_e.xr.removeEventListener("sessionend",Q)}};typeof((fe=ne.xr)==null?void 0:fe.addEventListener)=="function"&&ue.connect(),H.set({xr:ue})}if(ne.shadowMap){const se=ne.shadowMap.enabled,Q=ne.shadowMap.type;if(ne.shadowMap.enabled=!!w,is.boo(w))ne.shadowMap.type=PCFSoftShadowMap;else if(is.str(w)){var ye;const ue={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};ne.shadowMap.type=(ye=ue[w])!=null?ye:PCFSoftShadowMap}else is.obj(w)&&Object.assign(ne.shadowMap,w);(se!==ne.shadowMap.enabled||Q!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}const J=getColorManagement();J&&("enabled"in J?J.enabled=!L:"legacyMode"in J&&(J.legacyMode=L)),d||applyProps(ne,{outputEncoding:C?3e3:3001,toneMapping:O?NoToneMapping:ACESFilmicToneMapping}),H.legacy!==L&&H.set(()=>({legacy:L})),H.linear!==C&&H.set(()=>({linear:C})),H.flat!==O&&H.set(()=>({flat:O})),v&&!is.fun(v)&&!isRenderer(v)&&!is.equ(v,ne,shallowLoose)&&applyProps(ne,v),M&&!H.events.handlers&&H.set({events:M(u)});const oe=computeInitialSize(t,_);return is.equ(oe,H.size,shallowLoose)||H.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),B&&H.viewport.dpr!==calculateDpr(B)&&H.setDpr(B),H.frameloop!==$&&H.setFrameloop($),H.onPointerMissed||H.set({onPointerMissed:G}),U&&!is.equ(U,H.performance,shallowLoose)&&H.set(se=>({performance:{...se.performance,...U}})),h=A,d=!0,this},render(m){return d||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:u,children:m,onCreated:h,rootElement:t}),f,null,()=>{}),u},unmount(){unmountComponentAtNode(t)}}}function Provider({store:t,children:e,onCreated:n,rootElement:o}){return useIsomorphicLayoutEffect(()=>{const l=t.getState();l.set(u=>({internal:{...u.internal,active:!0}})),n&&n(l),t.getState().events.connected||l.events.connect==null||l.events.connect(o)},[]),jsxRuntimeExports.jsx(context$1.Provider,{value:t,children:e})}function unmountComponentAtNode(t,e){const n=roots.get(t),o=n==null?void 0:n.fiber;if(o){const l=n==null?void 0:n.store.getState();l&&(l.internal.active=!1),reconciler.updateContainer(null,o,null,()=>{l&&setTimeout(()=>{try{var u,f,h,d;l.events.disconnect==null||l.events.disconnect(),(u=l.gl)==null||(f=u.renderLists)==null||f.dispose==null||f.dispose(),(h=l.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(d=l.gl)!=null&&d.xr&&l.xr.disconnect(),dispose(l),roots.delete(t)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(t){const{handlePointer:e}=createEvents(t);return{priority:1,enabled:!0,compute(n,o,l){o.pointer.set(n.offsetX/o.size.width*2-1,-(n.offsetY/o.size.height)*2+1),o.raycaster.setFromCamera(o.pointer,o.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((n,o)=>({...n,[o]:e(o)}),{}),update:()=>{var n;const{events:o,internal:l}=t.getState();(n=l.lastEvent)!=null&&n.current&&o.handlers&&o.handlers.onPointerMove(l.lastEvent.current)},connect:n=>{var o;const{set:l,events:u}=t.getState();u.disconnect==null||u.disconnect(),l(f=>({events:{...f.events,connected:n}})),Object.entries((o=u.handlers)!=null?o:[]).forEach(([f,h])=>{const[d,p]=DOM_EVENTS[f];n.addEventListener(d,h,{passive:p})})},disconnect:()=>{const{set:n,events:o}=t.getState();if(o.connected){var l;Object.entries((l=o.handlers)!=null?l:[]).forEach(([u,f])=>{if(o&&o.connected instanceof HTMLElement){const[h]=DOM_EVENTS[u];o.connected.removeEventListener(h,f)}}),n(u=>({events:{...u.events,connected:void 0}}))}}}}function g(t,e){let n;return(...o)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...o),e)}}function j({debounce:t,scroll:e,polyfill:n,offsetSize:o}={debounce:0,scroll:!1,offsetSize:!1}){const l=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,f]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),d=t?typeof t=="number"?t:t.scroll:null,p=t?typeof t=="number"?t:t.resize:null,m=reactExports.useRef(!1);reactExports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,_,S]=reactExports.useMemo(()=>{const C=()=>{if(!h.current.element)return;const{left:O,top:L,width:F,height:$,bottom:B,right:U,x:q,y:Z}=h.current.element.getBoundingClientRect(),G={left:O,top:L,width:F,height:$,bottom:B,right:U,x:q,y:Z};h.current.element instanceof HTMLElement&&o&&(G.height=h.current.element.offsetHeight,G.width=h.current.element.offsetWidth),Object.freeze(G),m.current&&!D(h.current.lastBounds,G)&&f(h.current.lastBounds=G)};return[C,p?g(C,p):C,d?g(C,d):C]},[f,o,d,p]);function M(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function A(){h.current.element&&(h.current.resizeObserver=new l(S),h.current.resizeObserver.observe(h.current.element),e&&h.current.scrollContainers&&h.current.scrollContainers.forEach(C=>C.addEventListener("scroll",S,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const w=C=>{!C||C===h.current.element||(M(),h.current.element=C,h.current.scrollContainers=E(C),A())};return X(S,!!e),W(_),reactExports.useEffect(()=>{M(),A()},[e,S,_]),reactExports.useEffect(()=>M,[]),[w,u,v]}function W(t){reactExports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function X(t,e){reactExports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function E(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:o,overflowY:l}=window.getComputedStyle(t);return[n,o,l].some(u=>u==="auto"||u==="scroll")&&e.push(t),[...e,...E(t.parentElement)]}const k$1=["x","y","top","bottom","left","right","width","height"],D=(t,e)=>k$1.every(n=>t[n]===e[n]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(t,e,n)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__spreadValues=(t,e)=>{for(var n in e||(e={}))__hasOwnProp.call(e,n)&&__defNormalProp$2(t,n,e[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))__propIsEnum.call(e,n)&&__defNormalProp$2(t,n,e[n]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(t,e,n){if(!t)return;if(n(t)===!0)return t;let o=t.child;for(;o;){const l=traverseFiber(o,e,n);if(l)return l;o=o.sibling}}function wrapContext(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const error=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const t=reactExports.useContext(FiberContext);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const o of[t,t==null?void 0:t.alternate]){if(!o)continue;const l=traverseFiber(o,!1,u=>{let f=u.memoizedState;for(;f;){if(f.memoizedState===e)return!0;f=f.next}});if(l)return l}},[t,e])}function useContextMap(){const t=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const l=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;l&&l!==FiberContext&&!e.has(l)&&e.set(l,reactExports.useContext(wrapContext(l)))}n=n.return}return e}function useContextBridge(){const t=useContextMap();return reactExports.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>o=>reactExports.createElement(e,null,reactExports.createElement(n.Provider,__spreadProps(__spreadValues({},o),{value:t.get(n)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[t])}const CanvasImpl=reactExports.forwardRef(function t({children:e,fallback:n,resize:o,style:l,gl:u,events:f=createPointerEvents,eventSource:h,eventPrefix:d,shadows:p,linear:m,flat:v,legacy:_,orthographic:S,frameloop:M,dpr:A,performance:w,raycaster:C,camera:O,scene:L,onPointerMissed:F,onCreated:$,...B},U){reactExports.useMemo(()=>extend$1(THREE),[]);const q=useContextBridge(),[Z,G]=j({scroll:!0,debounce:{scroll:50,resize:0},...o}),H=reactExports.useRef(null),ne=reactExports.useRef(null);reactExports.useImperativeHandle(U,()=>H.current);const ae=useMutableCallback(F),[te,ce]=reactExports.useState(!1),[fe,ye]=reactExports.useState(!1);if(te)throw te;if(fe)throw fe;const J=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const se=H.current;G.width>0&&G.height>0&&se&&(J.current||(J.current=createRoot(se)),J.current.configure({gl:u,events:f,shadows:p,linear:m,flat:v,legacy:_,orthographic:S,frameloop:M,dpr:A,performance:w,raycaster:C,camera:O,scene:L,size:G,onPointerMissed:(...Q)=>ae.current==null?void 0:ae.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(h?isRef(h)?h.current:h:ne.current),d&&Q.setEvents({compute:(ue,_e)=>{const ge=ue[d+"X"],ve=ue[d+"Y"];_e.pointer.set(ge/_e.size.width*2-1,-(ve/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),$==null||$(Q)}}),J.current.render(jsxRuntimeExports.jsx(q,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:ye,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:ce}),children:e??null})})})))}),reactExports.useEffect(()=>{const se=H.current;if(se)return()=>unmountComponentAtNode(se)},[]);const oe=h?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:ne,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:oe,...l},...B,children:jsxRuntimeExports.jsx("div",{ref:Z,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:H,style:{display:"block"},children:n})})})}),Canvas=reactExports.forwardRef(function t(e,n){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...e,ref:n})})});function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$p.apply(null,arguments)}const v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition(t,e,n){const o=v1.setFromMatrixPosition(t.matrixWorld);o.project(e);const l=n.width/2,u=n.height/2;return[o.x*l+l,-(o.y*u)+u]}function isObjectBehindCamera(t,e){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=n.sub(o),u=e.getWorldDirection(v3);return l.angleTo(u)>Math.PI/2}function isObjectVisible(t,e,n,o){const l=v1.setFromMatrixPosition(t.matrixWorld),u=l.clone();u.project(e),v4.set(u.x,u.y),n.setFromCamera(v4,e);const f=n.intersectObjects(o,!0);if(f.length){const h=f[0].distance;return l.distanceTo(n.ray.origin)<h}return!0}function objectScale(t,e){if(e instanceof OrthographicCamera)return e.zoom;if(e instanceof PerspectiveCamera){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=e.fov*Math.PI/180,u=n.distanceTo(o);return 1/(2*Math.tan(l/2)*u)}else return 1}function objectZIndex(t,e,n){if(e instanceof PerspectiveCamera||e instanceof OrthographicCamera){const o=v1.setFromMatrixPosition(t.matrixWorld),l=v2.setFromMatrixPosition(e.matrixWorld),u=o.distanceTo(l),f=(n[1]-n[0])/(e.far-e.near),h=n[1]-f*e.far;return Math.round(f*u+h)}}const epsilon$1=t=>Math.abs(t)<1e-10?0:t;function getCSSMatrix(t,e,n=""){let o="matrix3d(";for(let l=0;l!==16;l++)o+=epsilon$1(e[l]*t.elements[l])+(l!==15?",":")");return n+o}const getCameraCSSMatrix=(t=>e=>getCSSMatrix(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(t=>(e,n)=>getCSSMatrix(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function isRefObject(t){return t&&typeof t=="object"&&"current"in t}const Html=reactExports.forwardRef(({children:t,eps:e=.001,style:n,className:o,prepend:l,center:u,fullscreen:f,portal:h,distanceFactor:d,sprite:p=!1,transform:m=!1,occlude:v,onOcclude:_,castShadow:S,receiveShadow:M,material:A,geometry:w,zIndexRange:C=[16777271,0],calculatePosition:O=defaultCalculatePosition,as:L="div",wrapperClass:F,pointerEvents:$="auto",...B},U)=>{const{gl:q,camera:Z,scene:G,size:H,raycaster:ne,events:ae,viewport:te}=useThree(),[ce]=reactExports.useState(()=>document.createElement(L)),fe=reactExports.useRef(),ye=reactExports.useRef(null),J=reactExports.useRef(0),oe=reactExports.useRef([0,0]),se=reactExports.useRef(null),Q=reactExports.useRef(null),ue=(h==null?void 0:h.current)||ae.connected||q.domElement.parentNode,_e=reactExports.useRef(null),ge=reactExports.useRef(!1),ve=reactExports.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&isRefObject(v[0]),[v]);reactExports.useLayoutEffect(()=>{const Ne=q.domElement;v&&v==="blending"?(Ne.style.zIndex=`${Math.floor(C[0]/2)}`,Ne.style.position="absolute",Ne.style.pointerEvents="none"):(Ne.style.zIndex=null,Ne.style.position=null,Ne.style.pointerEvents=null)},[v]),reactExports.useLayoutEffect(()=>{if(ye.current){const Ne=fe.current=clientExports.createRoot(ce);if(G.updateMatrixWorld(),m)ce.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ie=O(ye.current,Z,H);ce.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ie[0]}px,${Ie[1]}px,0);transform-origin:0 0;`}return ue&&(l?ue.prepend(ce):ue.appendChild(ce)),()=>{ue&&ue.removeChild(ce),Ne.unmount()}}},[ue,m]),reactExports.useLayoutEffect(()=>{F&&(ce.className=F)},[F]);const we=reactExports.useMemo(()=>m?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:u?"translate3d(-50%,-50%,0)":"none",...f&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...n},[n,u,f,H,m]),Pe=reactExports.useMemo(()=>({position:"absolute",pointerEvents:$}),[$]);reactExports.useLayoutEffect(()=>{if(ge.current=!1,m){var Ne;(Ne=fe.current)==null||Ne.render(reactExports.createElement("div",{ref:se,style:we},reactExports.createElement("div",{ref:Q,style:Pe},reactExports.createElement("div",{ref:U,className:o,style:n,children:t}))))}else{var Ie;(Ie=fe.current)==null||Ie.render(reactExports.createElement("div",{ref:U,style:we,className:o,children:t}))}});const Re=reactExports.useRef(!0);useFrame(Ne=>{if(ye.current){Z.updateMatrixWorld(),ye.current.updateWorldMatrix(!0,!1);const Ie=m?oe.current:O(ye.current,Z,H);if(m||Math.abs(J.current-Z.zoom)>e||Math.abs(oe.current[0]-Ie[0])>e||Math.abs(oe.current[1]-Ie[1])>e){const he=isObjectBehindCamera(ye.current,Z);let ke=!1;ve&&(Array.isArray(v)?ke=v.map(Qe=>Qe.current):v!=="blending"&&(ke=[G]));const Me=Re.current;if(ke){const Qe=isObjectVisible(ye.current,Z,ne,ke);Re.current=Qe&&!he}else Re.current=!he;Me!==Re.current&&(_?_(!Re.current):ce.style.display=Re.current?"block":"none");const je=Math.floor(C[0]/2),Fe=v?ve?[C[0],je]:[je-1,0]:C;if(ce.style.zIndex=`${objectZIndex(ye.current,Z,Fe)}`,m){const[Qe,Ve]=[H.width/2,H.height/2],Je=Z.projectionMatrix.elements[5]*Ve,{isOrthographicCamera:ot,top:pe,left:de,bottom:Oe,right:De}=Z,Ue=getCameraCSSMatrix(Z.matrixWorldInverse),tt=ot?`scale(${Je})translate(${epsilon$1(-(De+de)/2)}px,${epsilon$1((pe+Oe)/2)}px)`:`translateZ(${Je}px)`;let ut=ye.current.matrixWorld;p&&(ut=Z.matrixWorldInverse.clone().transpose().copyPosition(ut).scale(ye.current.scale),ut.elements[3]=ut.elements[7]=ut.elements[11]=0,ut.elements[15]=1),ce.style.width=H.width+"px",ce.style.height=H.height+"px",ce.style.perspective=ot?"":`${Je}px`,se.current&&Q.current&&(se.current.style.transform=`${tt}${Ue}translate(${Qe}px,${Ve}px)`,Q.current.style.transform=getObjectCSSMatrix(ut,1/((d||10)/400)))}else{const Qe=d===void 0?1:objectScale(ye.current,Z)*d;ce.style.transform=`translate3d(${Ie[0]}px,${Ie[1]}px,0) scale(${Qe})`}oe.current=Ie,J.current=Z.zoom}}if(!ve&&_e.current&&!ge.current)if(m){if(se.current){const Ie=se.current.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const{isOrthographicCamera:he}=Z;if(he||w)B.scale&&(Array.isArray(B.scale)?B.scale instanceof Vector3?_e.current.scale.copy(B.scale.clone().divideScalar(1)):_e.current.scale.set(1/B.scale[0],1/B.scale[1],1/B.scale[2]):_e.current.scale.setScalar(1/B.scale));else{const ke=(d||10)/400,Me=Ie.clientWidth*ke,je=Ie.clientHeight*ke;_e.current.scale.set(Me,je,1)}ge.current=!0}}}else{const Ie=ce.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const he=1/te.factor,ke=Ie.clientWidth*he,Me=Ie.clientHeight*he;_e.current.scale.set(ke,Me,1),ge.current=!0}_e.current.lookAt(Ne.camera.position)}});const Ae=reactExports.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return reactExports.createElement("group",_extends$p({},B,{ref:ye}),v&&!ve&&reactExports.createElement("mesh",{castShadow:S,receiveShadow:M,ref:_e},w||reactExports.createElement("planeGeometry",null),A||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:Ae.vertexShader,fragmentShader:Ae.fragmentShader})))});var __defProp$1=Object.defineProperty,__defNormalProp$1=(t,e,n)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField$1=(t,e,n)=>(__defNormalProp$1(t,e+"",n),n);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const l=this._listeners[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,f=l.length;u<f;u++)l[u].call(this,e);e.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField=(t,e,n)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,n),n);const _ray$1=new Ray,_plane$1=new Plane,TILT_LIMIT$1=Math.cos(70*(Math.PI/180)),moduloWrapAround=(t,e)=>(t%e+e)%e;let OrbitControls$2=class extends EventDispatcher{constructor(e,n){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Se=>{let We=moduloWrapAround(Se,2*Math.PI),xe=m.phi;xe<0&&(xe+=2*Math.PI),We<0&&(We+=2*Math.PI);let qe=Math.abs(We-xe);2*Math.PI-qe<qe&&(We<xe?We+=2*Math.PI:xe+=2*Math.PI),v.phi=We-xe,o.update()},this.setAzimuthalAngle=Se=>{let We=moduloWrapAround(Se,2*Math.PI),xe=m.theta;xe<0&&(xe+=2*Math.PI),We<0&&(We+=2*Math.PI);let qe=Math.abs(We-xe);2*Math.PI-qe<qe&&(We<xe?We+=2*Math.PI:xe+=2*Math.PI),v.theta=We-xe,o.update()},this.getDistance=()=>o.object.position.distanceTo(o.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",mt),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",mt),this._domElementKeyEvents=null},this.saveState=()=>{o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=()=>{o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(l),o.update(),d=h.NONE},this.update=(()=>{const Se=new Vector3,We=new Vector3(0,1,0),xe=new Quaternion().setFromUnitVectors(e.up,We),qe=xe.clone().invert(),lt=new Vector3,Te=new Quaternion,gt=2*Math.PI;return function(){const at=o.object.position;xe.setFromUnitVectors(e.up,We),qe.copy(xe).invert(),Se.copy(at).sub(o.target),Se.applyQuaternion(xe),m.setFromVector3(Se),o.autoRotate&&d===h.NONE&&te(ne()),o.enableDamping?(m.theta+=v.theta*o.dampingFactor,m.phi+=v.phi*o.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let yt=o.minAzimuthAngle,At=o.maxAzimuthAngle;isFinite(yt)&&isFinite(At)&&(yt<-Math.PI?yt+=gt:yt>Math.PI&&(yt-=gt),At<-Math.PI?At+=gt:At>Math.PI&&(At-=gt),yt<=At?m.theta=Math.max(yt,Math.min(At,m.theta)):m.theta=m.theta>(yt+At)/2?Math.max(yt,m.theta):Math.min(At,m.theta)),m.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,m.phi)),m.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(S,o.dampingFactor):o.target.add(S),o.zoomToCursor&&Z||o.object.isOrthographicCamera?m.radius=_e(m.radius):m.radius=_e(m.radius*_),Se.setFromSpherical(m),Se.applyQuaternion(qe),at.copy(o.target).add(Se),o.object.matrixAutoUpdate||o.object.updateMatrix(),o.object.lookAt(o.target),o.enableDamping===!0?(v.theta*=1-o.dampingFactor,v.phi*=1-o.dampingFactor,S.multiplyScalar(1-o.dampingFactor)):(v.set(0,0,0),S.set(0,0,0));let Tt=!1;if(o.zoomToCursor&&Z){let Nt=null;if(o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const Jt=Se.length();Nt=_e(Jt*_);const Ut=Jt-Nt;o.object.position.addScaledVector(U,Ut),o.object.updateMatrixWorld()}else if(o.object.isOrthographicCamera){const Jt=new Vector3(q.x,q.y,0);Jt.unproject(o.object),o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/_)),o.object.updateProjectionMatrix(),Tt=!0;const Ut=new Vector3(q.x,q.y,0);Ut.unproject(o.object),o.object.position.sub(Ut).add(Jt),o.object.updateMatrixWorld(),Nt=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;Nt!==null&&(o.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(Nt).add(o.object.position):(_ray$1.origin.copy(o.object.position),_ray$1.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(_ray$1.direction))<TILT_LIMIT$1?e.lookAt(o.target):(_plane$1.setFromNormalAndCoplanarPoint(o.object.up,o.target),_ray$1.intersectPlane(_plane$1,o.target))))}else o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera&&(Tt=_!==1,Tt&&(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/_)),o.object.updateProjectionMatrix()));return _=1,Z=!1,Tt||lt.distanceToSquared(o.object.position)>p||8*(1-Te.dot(o.object.quaternion))>p?(o.dispatchEvent(l),lt.copy(o.object.position),Te.copy(o.object.quaternion),Tt=!1,!0):!1}})(),this.connect=Se=>{o.domElement=Se,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",Et),o.domElement.addEventListener("pointerdown",de),o.domElement.addEventListener("pointercancel",De),o.domElement.addEventListener("wheel",ut)},this.dispose=()=>{var Se,We,xe,qe,lt,Te;o.domElement&&(o.domElement.style.touchAction="auto"),(Se=o.domElement)==null||Se.removeEventListener("contextmenu",Et),(We=o.domElement)==null||We.removeEventListener("pointerdown",de),(xe=o.domElement)==null||xe.removeEventListener("pointercancel",De),(qe=o.domElement)==null||qe.removeEventListener("wheel",ut),(lt=o.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",Oe),(Te=o.domElement)==null||Te.ownerDocument.removeEventListener("pointerup",De),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",mt)};const o=this,l={type:"change"},u={type:"start"},f={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=h.NONE;const p=1e-6,m=new Spherical,v=new Spherical;let _=1;const S=new Vector3,M=new Vector2,A=new Vector2,w=new Vector2,C=new Vector2,O=new Vector2,L=new Vector2,F=new Vector2,$=new Vector2,B=new Vector2,U=new Vector3,q=new Vector2;let Z=!1;const G=[],H={};function ne(){return 2*Math.PI/60/60*o.autoRotateSpeed}function ae(){return Math.pow(.95,o.zoomSpeed)}function te(Se){o.reverseOrbit||o.reverseHorizontalOrbit?v.theta+=Se:v.theta-=Se}function ce(Se){o.reverseOrbit||o.reverseVerticalOrbit?v.phi+=Se:v.phi-=Se}const fe=(()=>{const Se=new Vector3;return function(xe,qe){Se.setFromMatrixColumn(qe,0),Se.multiplyScalar(-xe),S.add(Se)}})(),ye=(()=>{const Se=new Vector3;return function(xe,qe){o.screenSpacePanning===!0?Se.setFromMatrixColumn(qe,1):(Se.setFromMatrixColumn(qe,0),Se.crossVectors(o.object.up,Se)),Se.multiplyScalar(xe),S.add(Se)}})(),J=(()=>{const Se=new Vector3;return function(xe,qe){const lt=o.domElement;if(lt&&o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const Te=o.object.position;Se.copy(Te).sub(o.target);let gt=Se.length();gt*=Math.tan(o.object.fov/2*Math.PI/180),fe(2*xe*gt/lt.clientHeight,o.object.matrix),ye(2*qe*gt/lt.clientHeight,o.object.matrix)}else lt&&o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?(fe(xe*(o.object.right-o.object.left)/o.object.zoom/lt.clientWidth,o.object.matrix),ye(qe*(o.object.top-o.object.bottom)/o.object.zoom/lt.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}})();function oe(Se){o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera||o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?_=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function se(Se){oe(_/Se)}function Q(Se){oe(_*Se)}function ue(Se){if(!o.zoomToCursor||!o.domElement)return;Z=!0;const We=o.domElement.getBoundingClientRect(),xe=Se.clientX-We.left,qe=Se.clientY-We.top,lt=We.width,Te=We.height;q.x=xe/lt*2-1,q.y=-(qe/Te)*2+1,U.set(q.x,q.y,1).unproject(o.object).sub(o.object.position).normalize()}function _e(Se){return Math.max(o.minDistance,Math.min(o.maxDistance,Se))}function ge(Se){M.set(Se.clientX,Se.clientY)}function ve(Se){ue(Se),F.set(Se.clientX,Se.clientY)}function we(Se){C.set(Se.clientX,Se.clientY)}function Pe(Se){A.set(Se.clientX,Se.clientY),w.subVectors(A,M).multiplyScalar(o.rotateSpeed);const We=o.domElement;We&&(te(2*Math.PI*w.x/We.clientHeight),ce(2*Math.PI*w.y/We.clientHeight)),M.copy(A),o.update()}function Re(Se){$.set(Se.clientX,Se.clientY),B.subVectors($,F),B.y>0?se(ae()):B.y<0&&Q(ae()),F.copy($),o.update()}function Ae(Se){O.set(Se.clientX,Se.clientY),L.subVectors(O,C).multiplyScalar(o.panSpeed),J(L.x,L.y),C.copy(O),o.update()}function Ne(Se){ue(Se),Se.deltaY<0?Q(ae()):Se.deltaY>0&&se(ae()),o.update()}function Ie(Se){let We=!1;switch(Se.code){case o.keys.UP:J(0,o.keyPanSpeed),We=!0;break;case o.keys.BOTTOM:J(0,-o.keyPanSpeed),We=!0;break;case o.keys.LEFT:J(o.keyPanSpeed,0),We=!0;break;case o.keys.RIGHT:J(-o.keyPanSpeed,0),We=!0;break}We&&(Se.preventDefault(),o.update())}function he(){if(G.length==1)M.set(G[0].pageX,G[0].pageY);else{const Se=.5*(G[0].pageX+G[1].pageX),We=.5*(G[0].pageY+G[1].pageY);M.set(Se,We)}}function ke(){if(G.length==1)C.set(G[0].pageX,G[0].pageY);else{const Se=.5*(G[0].pageX+G[1].pageX),We=.5*(G[0].pageY+G[1].pageY);C.set(Se,We)}}function Me(){const Se=G[0].pageX-G[1].pageX,We=G[0].pageY-G[1].pageY,xe=Math.sqrt(Se*Se+We*We);F.set(0,xe)}function je(){o.enableZoom&&Me(),o.enablePan&&ke()}function Fe(){o.enableZoom&&Me(),o.enableRotate&&he()}function Qe(Se){if(G.length==1)A.set(Se.pageX,Se.pageY);else{const xe=pt(Se),qe=.5*(Se.pageX+xe.x),lt=.5*(Se.pageY+xe.y);A.set(qe,lt)}w.subVectors(A,M).multiplyScalar(o.rotateSpeed);const We=o.domElement;We&&(te(2*Math.PI*w.x/We.clientHeight),ce(2*Math.PI*w.y/We.clientHeight)),M.copy(A)}function Ve(Se){if(G.length==1)O.set(Se.pageX,Se.pageY);else{const We=pt(Se),xe=.5*(Se.pageX+We.x),qe=.5*(Se.pageY+We.y);O.set(xe,qe)}L.subVectors(O,C).multiplyScalar(o.panSpeed),J(L.x,L.y),C.copy(O)}function Je(Se){const We=pt(Se),xe=Se.pageX-We.x,qe=Se.pageY-We.y,lt=Math.sqrt(xe*xe+qe*qe);$.set(0,lt),B.set(0,Math.pow($.y/F.y,o.zoomSpeed)),se(B.y),F.copy($)}function ot(Se){o.enableZoom&&Je(Se),o.enablePan&&Ve(Se)}function pe(Se){o.enableZoom&&Je(Se),o.enableRotate&&Qe(Se)}function de(Se){var We,xe;o.enabled!==!1&&(G.length===0&&((We=o.domElement)==null||We.ownerDocument.addEventListener("pointermove",Oe),(xe=o.domElement)==null||xe.ownerDocument.addEventListener("pointerup",De)),dt(Se),Se.pointerType==="touch"?it(Se):Ue(Se))}function Oe(Se){o.enabled!==!1&&(Se.pointerType==="touch"?ht(Se):tt(Se))}function De(Se){var We,xe,qe;It(Se),G.length===0&&((We=o.domElement)==null||We.releasePointerCapture(Se.pointerId),(xe=o.domElement)==null||xe.ownerDocument.removeEventListener("pointermove",Oe),(qe=o.domElement)==null||qe.ownerDocument.removeEventListener("pointerup",De)),o.dispatchEvent(f),d=h.NONE}function Ue(Se){let We;switch(Se.button){case 0:We=o.mouseButtons.LEFT;break;case 1:We=o.mouseButtons.MIDDLE;break;case 2:We=o.mouseButtons.RIGHT;break;default:We=-1}switch(We){case MOUSE.DOLLY:if(o.enableZoom===!1)return;ve(Se),d=h.DOLLY;break;case MOUSE.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(o.enablePan===!1)return;we(Se),d=h.PAN}else{if(o.enableRotate===!1)return;ge(Se),d=h.ROTATE}break;case MOUSE.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(o.enableRotate===!1)return;ge(Se),d=h.ROTATE}else{if(o.enablePan===!1)return;we(Se),d=h.PAN}break;default:d=h.NONE}d!==h.NONE&&o.dispatchEvent(u)}function tt(Se){if(o.enabled!==!1)switch(d){case h.ROTATE:if(o.enableRotate===!1)return;Pe(Se);break;case h.DOLLY:if(o.enableZoom===!1)return;Re(Se);break;case h.PAN:if(o.enablePan===!1)return;Ae(Se);break}}function ut(Se){o.enabled===!1||o.enableZoom===!1||d!==h.NONE&&d!==h.ROTATE||(Se.preventDefault(),o.dispatchEvent(u),Ne(Se),o.dispatchEvent(f))}function mt(Se){o.enabled===!1||o.enablePan===!1||Ie(Se)}function it(Se){switch(bt(Se),G.length){case 1:switch(o.touches.ONE){case TOUCH.ROTATE:if(o.enableRotate===!1)return;he(),d=h.TOUCH_ROTATE;break;case TOUCH.PAN:if(o.enablePan===!1)return;ke(),d=h.TOUCH_PAN;break;default:d=h.NONE}break;case 2:switch(o.touches.TWO){case TOUCH.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;je(),d=h.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Fe(),d=h.TOUCH_DOLLY_ROTATE;break;default:d=h.NONE}break;default:d=h.NONE}d!==h.NONE&&o.dispatchEvent(u)}function ht(Se){switch(bt(Se),d){case h.TOUCH_ROTATE:if(o.enableRotate===!1)return;Qe(Se),o.update();break;case h.TOUCH_PAN:if(o.enablePan===!1)return;Ve(Se),o.update();break;case h.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;ot(Se),o.update();break;case h.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;pe(Se),o.update();break;default:d=h.NONE}}function Et(Se){o.enabled!==!1&&Se.preventDefault()}function dt(Se){G.push(Se)}function It(Se){delete H[Se.pointerId];for(let We=0;We<G.length;We++)if(G[We].pointerId==Se.pointerId){G.splice(We,1);return}}function bt(Se){let We=H[Se.pointerId];We===void 0&&(We=new Vector2,H[Se.pointerId]=We),We.set(Se.pageX,Se.pageY)}function pt(Se){const We=Se.pointerId===G[0].pointerId?G[1]:G[0];return H[We.pointerId]}this.dollyIn=(Se=ae())=>{Q(Se),o.update()},this.dollyOut=(Se=ae())=>{se(Se),o.update()},this.getScale=()=>_,this.setScale=Se=>{oe(Se),o.update()},this.getZoomScale=()=>ae(),n!==void 0&&this.connect(n),this.update()}};function workerBootstrap(){var t=Object.create(null);function e(l,u){var f=l.id,h=l.name,d=l.dependencies;d===void 0&&(d=[]);var p=l.init;p===void 0&&(p=function(){});var m=l.getTransferables;if(m===void 0&&(m=null),!t[f])try{d=d.map(function(_){return _&&_.isWorkerModule&&(e(_,function(S){if(S instanceof Error)throw S}),_=t[_.id].value),_}),p=o("<"+h+">.init",p),m&&(m=o("<"+h+">.getTransferables",m));var v=null;typeof p=="function"?v=p.apply(void 0,d):console.error("worker module init function failed to rehydrate"),t[f]={id:f,value:v,getTransferables:m},u(v)}catch(_){_&&_.noLog||console.error(_),u(_)}}function n(l,u){var f,h=l.id,d=l.args;(!t[h]||typeof t[h].value!="function")&&u(new Error("Worker module "+h+": not found or its 'init' did not return a function"));try{var p=(f=t[h]).value.apply(f,d);p&&typeof p.then=="function"?p.then(m,function(v){return u(v instanceof Error?v:new Error(""+v))}):m(p)}catch(v){u(v)}function m(v){try{var _=t[h].getTransferables&&t[h].getTransferables(v);(!_||!Array.isArray(_)||!_.length)&&(_=void 0),u(v,_)}catch(S){console.error(S),u(S)}}}function o(l,u){var f=void 0;self.troikaDefine=function(d){return f=d};var h=URL.createObjectURL(new Blob(["/** "+l.replace(/\*/g,"")+` **/

troikaDefine(
`+u+`
)`],{type:"application/javascript"}));try{importScripts(h)}catch(d){console.error(d)}return URL.revokeObjectURL(h),delete self.troikaDefine,f}self.addEventListener("message",function(l){var u=l.data,f=u.messageId,h=u.action,d=u.data;try{h==="registerModule"&&e(d,function(p){p instanceof Error?postMessage({messageId:f,success:!1,error:p.message}):postMessage({messageId:f,success:!0,result:{isCallable:typeof p=="function"}})}),h==="callModule"&&n(d,function(p,m){p instanceof Error?postMessage({messageId:f,success:!1,error:p.message}):postMessage({messageId:f,success:!0,result:p},m||void 0)})}catch(p){postMessage({messageId:f,success:!1,error:p.stack})}})}function defineMainThreadModule(t){var e=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return e._getInitResult().then(function(l){if(typeof l=="function")return l.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,o=t.init;n=Array.isArray(n)?n.map(function(u){return u&&(u=u.onMainThread||u,u._getInitResult&&(u=u._getInitResult())),u}):[];var l=Promise.all(n).then(function(u){return o.apply(null,u)});return e._getInitResult=function(){return l},l},e}var supportsWorkers=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return supportsWorkers=function(){return t},t},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(t){if((!t||typeof t.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,o=t.getTransferables,l=t.workerId,u=defineMainThreadModule(t);l==null&&(l="#default");var f="workerModule"+ ++_workerModuleId,h=t.name||f,d=null;e=e&&e.map(function(m){return typeof m=="function"&&!m.workerModuleData&&(_allowInitAsString=!0,m=defineWorkerModule({workerId:l,name:"<"+h+"> function dependency: "+m.name,init:`function(){return (
`+stringifyFunction(m)+`
)}`}),_allowInitAsString=!1),m&&m.workerModuleData&&(m=m.workerModuleData),m});function p(){for(var m=[],v=arguments.length;v--;)m[v]=arguments[v];if(!supportsWorkers())return u.apply(void 0,m);if(!d){d=callWorker(l,"registerModule",p.workerModuleData);var _=function(){d=null,registeredModules[l].delete(_)};(registeredModules[l]||(registeredModules[l]=new Set)).add(_)}return d.then(function(S){var M=S.isCallable;if(M)return callWorker(l,"callModule",{id:f,args:m});throw new Error("Worker module function was called but `init` did not return a callable function")})}return p.workerModuleData={isWorkerModule:!0,id:f,name:h,dependencies:e,init:stringifyFunction(n),getTransferables:o&&stringifyFunction(o)},p.onMainThread=u,p}function terminateWorker(t){registeredModules[t]&&registeredModules[t].forEach(function(e){e()}),workers[t]&&(workers[t].terminate(),delete workers[t])}function stringifyFunction(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function getWorker(t){var e=workers[t];if(!e){var n=stringifyFunction(workerBootstrap);e=workers[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(o){var l=o.data,u=l.messageId,f=openRequests[u];if(!f)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[u],f(l)}}return e}function callWorker(t,e,n){return new Promise(function(o,l){var u=++_messageId;openRequests[u]=function(f){f.success?o(f.result):l(new Error("Error in worker "+e+" call: "+f.error))},getWorker(t).postMessage({messageId:u,action:e,data:n})})}function SDFGenerator(){var t=function(e){function n(oe,se,Q,ue,_e,ge,ve,we){var Pe=1-ve;we.x=Pe*Pe*oe+2*Pe*ve*Q+ve*ve*_e,we.y=Pe*Pe*se+2*Pe*ve*ue+ve*ve*ge}function o(oe,se,Q,ue,_e,ge,ve,we,Pe,Re){var Ae=1-Pe;Re.x=Ae*Ae*Ae*oe+3*Ae*Ae*Pe*Q+3*Ae*Pe*Pe*_e+Pe*Pe*Pe*ve,Re.y=Ae*Ae*Ae*se+3*Ae*Ae*Pe*ue+3*Ae*Pe*Pe*ge+Pe*Pe*Pe*we}function l(oe,se){for(var Q=/([MLQCZ])([^MLQCZ]*)/g,ue,_e,ge,ve,we;ue=Q.exec(oe);){var Pe=ue[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Re){return parseFloat(Re)});switch(ue[1]){case"M":ve=_e=Pe[0],we=ge=Pe[1];break;case"L":(Pe[0]!==ve||Pe[1]!==we)&&se("L",ve,we,ve=Pe[0],we=Pe[1]);break;case"Q":{se("Q",ve,we,ve=Pe[2],we=Pe[3],Pe[0],Pe[1]);break}case"C":{se("C",ve,we,ve=Pe[4],we=Pe[5],Pe[0],Pe[1],Pe[2],Pe[3]);break}case"Z":(ve!==_e||we!==ge)&&se("L",ve,we,_e,ge);break}}}function u(oe,se,Q){Q===void 0&&(Q=16);var ue={x:0,y:0};l(oe,function(_e,ge,ve,we,Pe,Re,Ae,Ne,Ie){switch(_e){case"L":se(ge,ve,we,Pe);break;case"Q":{for(var he=ge,ke=ve,Me=1;Me<Q;Me++)n(ge,ve,Re,Ae,we,Pe,Me/(Q-1),ue),se(he,ke,ue.x,ue.y),he=ue.x,ke=ue.y;break}case"C":{for(var je=ge,Fe=ve,Qe=1;Qe<Q;Qe++)o(ge,ve,Re,Ae,Ne,Ie,we,Pe,Qe/(Q-1),ue),se(je,Fe,ue.x,ue.y),je=ue.x,Fe=ue.y;break}}})}var f="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",h="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",d=new WeakMap,p={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function m(oe,se){var Q=oe.getContext?oe.getContext("webgl",p):oe,ue=d.get(Q);if(!ue){let je=function(pe){var de=ge[pe];if(!de&&(de=ge[pe]=Q.getExtension(pe),!de))throw new Error(pe+" not supported");return de},Fe=function(pe,de){var Oe=Q.createShader(de);return Q.shaderSource(Oe,pe),Q.compileShader(Oe),Oe},Qe=function(pe,de,Oe,De){if(!ve[pe]){var Ue={},tt={},ut=Q.createProgram();Q.attachShader(ut,Fe(de,Q.VERTEX_SHADER)),Q.attachShader(ut,Fe(Oe,Q.FRAGMENT_SHADER)),Q.linkProgram(ut),ve[pe]={program:ut,transaction:function(it){Q.useProgram(ut),it({setUniform:function(Et,dt){for(var It=[],bt=arguments.length-2;bt-- >0;)It[bt]=arguments[bt+2];var pt=tt[dt]||(tt[dt]=Q.getUniformLocation(ut,dt));Q["uniform"+Et].apply(Q,[pt].concat(It))},setAttribute:function(Et,dt,It,bt,pt){var Se=Ue[Et];Se||(Se=Ue[Et]={buf:Q.createBuffer(),loc:Q.getAttribLocation(ut,Et),data:null}),Q.bindBuffer(Q.ARRAY_BUFFER,Se.buf),Q.vertexAttribPointer(Se.loc,dt,Q.FLOAT,!1,0,0),Q.enableVertexAttribArray(Se.loc),_e?Q.vertexAttribDivisor(Se.loc,bt):je("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Se.loc,bt),pt!==Se.data&&(Q.bufferData(Q.ARRAY_BUFFER,pt,It),Se.data=pt)}})}}}ve[pe].transaction(De)},Ve=function(pe,de){Pe++;try{Q.activeTexture(Q.TEXTURE0+Pe);var Oe=we[pe];Oe||(Oe=we[pe]=Q.createTexture(),Q.bindTexture(Q.TEXTURE_2D,Oe),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.NEAREST),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST)),Q.bindTexture(Q.TEXTURE_2D,Oe),de(Oe,Pe)}finally{Pe--}},Je=function(pe,de,Oe){var De=Q.createFramebuffer();Re.push(De),Q.bindFramebuffer(Q.FRAMEBUFFER,De),Q.activeTexture(Q.TEXTURE0+de),Q.bindTexture(Q.TEXTURE_2D,pe),Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,pe,0);try{Oe(De)}finally{Q.deleteFramebuffer(De),Q.bindFramebuffer(Q.FRAMEBUFFER,Re[--Re.length-1]||null)}},ot=function(){ge={},ve={},we={},Pe=-1,Re.length=0};var Ae=je,Ne=Fe,Ie=Qe,he=Ve,ke=Je,Me=ot,_e=typeof WebGL2RenderingContext<"u"&&Q instanceof WebGL2RenderingContext,ge={},ve={},we={},Pe=-1,Re=[];Q.canvas.addEventListener("webglcontextlost",function(pe){ot(),pe.preventDefault()},!1),d.set(Q,ue={gl:Q,isWebGL2:_e,getExtension:je,withProgram:Qe,withTexture:Ve,withTextureFramebuffer:Je,handleContextLoss:ot})}se(ue)}function v(oe,se,Q,ue,_e,ge,ve,we){ve===void 0&&(ve=15),we===void 0&&(we=null),m(oe,function(Pe){var Re=Pe.gl,Ae=Pe.withProgram,Ne=Pe.withTexture;Ne("copy",function(Ie,he){Re.texImage2D(Re.TEXTURE_2D,0,Re.RGBA,_e,ge,0,Re.RGBA,Re.UNSIGNED_BYTE,se),Ae("copy",f,h,function(ke){var Me=ke.setUniform,je=ke.setAttribute;je("aUV",2,Re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",he),Re.bindFramebuffer(Re.FRAMEBUFFER,we||null),Re.disable(Re.BLEND),Re.colorMask(ve&8,ve&4,ve&2,ve&1),Re.viewport(Q,ue,_e,ge),Re.scissor(Q,ue,_e,ge),Re.drawArrays(Re.TRIANGLES,0,3)})})})}function _(oe,se,Q){var ue=oe.width,_e=oe.height;m(oe,function(ge){var ve=ge.gl,we=new Uint8Array(ue*_e*4);ve.readPixels(0,0,ue,_e,ve.RGBA,ve.UNSIGNED_BYTE,we),oe.width=se,oe.height=Q,v(ve,we,0,0,ue,_e)})}var S=Object.freeze({__proto__:null,withWebGLContext:m,renderImageData:v,resizeWebGLCanvasWithoutClearing:_});function M(oe,se,Q,ue,_e,ge){ge===void 0&&(ge=1);var ve=new Uint8Array(oe*se),we=ue[2]-ue[0],Pe=ue[3]-ue[1],Re=[];u(Q,function(je,Fe,Qe,Ve){Re.push({x1:je,y1:Fe,x2:Qe,y2:Ve,minX:Math.min(je,Qe),minY:Math.min(Fe,Ve),maxX:Math.max(je,Qe),maxY:Math.max(Fe,Ve)})}),Re.sort(function(je,Fe){return je.maxX-Fe.maxX});for(var Ae=0;Ae<oe;Ae++)for(var Ne=0;Ne<se;Ne++){var Ie=ke(ue[0]+we*(Ae+.5)/oe,ue[1]+Pe*(Ne+.5)/se),he=Math.pow(1-Math.abs(Ie)/_e,ge)/2;Ie<0&&(he=1-he),he=Math.max(0,Math.min(255,Math.round(he*255))),ve[Ne*oe+Ae]=he}return ve;function ke(je,Fe){for(var Qe=1/0,Ve=1/0,Je=Re.length;Je--;){var ot=Re[Je];if(ot.maxX+Ve<=je)break;if(je+Ve>ot.minX&&Fe-Ve<ot.maxY&&Fe+Ve>ot.minY){var pe=C(je,Fe,ot.x1,ot.y1,ot.x2,ot.y2);pe<Qe&&(Qe=pe,Ve=Math.sqrt(Qe))}}return Me(je,Fe)&&(Ve=-Ve),Ve}function Me(je,Fe){for(var Qe=0,Ve=Re.length;Ve--;){var Je=Re[Ve];if(Je.maxX<=je)break;var ot=Je.y1>Fe!=Je.y2>Fe&&je<(Je.x2-Je.x1)*(Fe-Je.y1)/(Je.y2-Je.y1)+Je.x1;ot&&(Qe+=Je.y1<Je.y2?1:-1)}return Qe!==0}}function A(oe,se,Q,ue,_e,ge,ve,we,Pe,Re){ge===void 0&&(ge=1),we===void 0&&(we=0),Pe===void 0&&(Pe=0),Re===void 0&&(Re=0),w(oe,se,Q,ue,_e,ge,ve,null,we,Pe,Re)}function w(oe,se,Q,ue,_e,ge,ve,we,Pe,Re,Ae){ge===void 0&&(ge=1),Pe===void 0&&(Pe=0),Re===void 0&&(Re=0),Ae===void 0&&(Ae=0);for(var Ne=M(oe,se,Q,ue,_e,ge),Ie=new Uint8Array(Ne.length*4),he=0;he<Ne.length;he++)Ie[he*4+Ae]=Ne[he];v(ve,Ie,Pe,Re,oe,se,1<<3-Ae,we)}function C(oe,se,Q,ue,_e,ge){var ve=_e-Q,we=ge-ue,Pe=ve*ve+we*we,Re=Pe?Math.max(0,Math.min(1,((oe-Q)*ve+(se-ue)*we)/Pe)):0,Ae=oe-(Q+Re*ve),Ne=se-(ue+Re*we);return Ae*Ae+Ne*Ne}var O=Object.freeze({__proto__:null,generate:M,generateIntoCanvas:A,generateIntoFramebuffer:w}),L="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",F="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",$="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",B=new Float32Array([0,0,2,0,0,2]),U=null,q=!1,Z={},G=new WeakMap;function H(oe){if(!q&&!ce(oe))throw new Error("WebGL generation not supported")}function ne(oe,se,Q,ue,_e,ge,ve){if(ge===void 0&&(ge=1),ve===void 0&&(ve=null),!ve&&(ve=U,!ve)){var we=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!we)throw new Error("OffscreenCanvas or DOM canvas not supported");ve=U=we.getContext("webgl",{depth:!1})}H(ve);var Pe=new Uint8Array(oe*se*4);m(ve,function(Ie){var he=Ie.gl,ke=Ie.withTexture,Me=Ie.withTextureFramebuffer;ke("readable",function(je,Fe){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,oe,se,0,he.RGBA,he.UNSIGNED_BYTE,null),Me(je,Fe,function(Qe){te(oe,se,Q,ue,_e,ge,he,Qe,0,0,0),he.readPixels(0,0,oe,se,he.RGBA,he.UNSIGNED_BYTE,Pe)})})});for(var Re=new Uint8Array(oe*se),Ae=0,Ne=0;Ae<Pe.length;Ae+=4)Re[Ne++]=Pe[Ae];return Re}function ae(oe,se,Q,ue,_e,ge,ve,we,Pe,Re){ge===void 0&&(ge=1),we===void 0&&(we=0),Pe===void 0&&(Pe=0),Re===void 0&&(Re=0),te(oe,se,Q,ue,_e,ge,ve,null,we,Pe,Re)}function te(oe,se,Q,ue,_e,ge,ve,we,Pe,Re,Ae){ge===void 0&&(ge=1),Pe===void 0&&(Pe=0),Re===void 0&&(Re=0),Ae===void 0&&(Ae=0),H(ve);var Ne=[];u(Q,function(Ie,he,ke,Me){Ne.push(Ie,he,ke,Me)}),Ne=new Float32Array(Ne),m(ve,function(Ie){var he=Ie.gl,ke=Ie.isWebGL2,Me=Ie.getExtension,je=Ie.withProgram,Fe=Ie.withTexture,Qe=Ie.withTextureFramebuffer,Ve=Ie.handleContextLoss;if(Fe("rawDistances",function(Je,ot){(oe!==Je._lastWidth||se!==Je._lastHeight)&&he.texImage2D(he.TEXTURE_2D,0,he.RGBA,Je._lastWidth=oe,Je._lastHeight=se,0,he.RGBA,he.UNSIGNED_BYTE,null),je("main",L,F,function(pe){var de=pe.setAttribute,Oe=pe.setUniform,De=!ke&&Me("ANGLE_instanced_arrays"),Ue=!ke&&Me("EXT_blend_minmax");de("aUV",2,he.STATIC_DRAW,0,B),de("aLineSegment",4,he.DYNAMIC_DRAW,1,Ne),Oe.apply(void 0,["4f","uGlyphBounds"].concat(ue)),Oe("1f","uMaxDistance",_e),Oe("1f","uExponent",ge),Qe(Je,ot,function(tt){he.enable(he.BLEND),he.colorMask(!0,!0,!0,!0),he.viewport(0,0,oe,se),he.scissor(0,0,oe,se),he.blendFunc(he.ONE,he.ONE),he.blendEquationSeparate(he.FUNC_ADD,ke?he.MAX:Ue.MAX_EXT),he.clear(he.COLOR_BUFFER_BIT),ke?he.drawArraysInstanced(he.TRIANGLES,0,3,Ne.length/4):De.drawArraysInstancedANGLE(he.TRIANGLES,0,3,Ne.length/4)})}),je("post",f,$,function(pe){pe.setAttribute("aUV",2,he.STATIC_DRAW,0,B),pe.setUniform("1i","tex",ot),he.bindFramebuffer(he.FRAMEBUFFER,we),he.disable(he.BLEND),he.colorMask(Ae===0,Ae===1,Ae===2,Ae===3),he.viewport(Pe,Re,oe,se),he.scissor(Pe,Re,oe,se),he.drawArrays(he.TRIANGLES,0,3)})}),he.isContextLost())throw Ve(),new Error("webgl context lost")})}function ce(oe){var se=!oe||oe===U?Z:oe.canvas||oe,Q=G.get(se);if(Q===void 0){q=!0;var ue=null;try{var _e=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ge=ne(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,oe);Q=ge&&_e.length===ge.length&&ge.every(function(ve,we){return ve===_e[we]}),Q||(ue="bad trial run results",console.info(_e,ge))}catch(ve){Q=!1,ue=ve.message}ue&&console.warn("WebGL SDF generation not supported:",ue),q=!1,G.set(se,Q)}return Q}var fe=Object.freeze({__proto__:null,generate:ne,generateIntoCanvas:ae,generateIntoFramebuffer:te,isSupported:ce});function ye(oe,se,Q,ue,_e,ge){_e===void 0&&(_e=Math.max(ue[2]-ue[0],ue[3]-ue[1])/2),ge===void 0&&(ge=1);try{return ne.apply(fe,arguments)}catch(ve){return console.info("WebGL SDF generation failed, falling back to JS",ve),M.apply(O,arguments)}}function J(oe,se,Q,ue,_e,ge,ve,we,Pe,Re){_e===void 0&&(_e=Math.max(ue[2]-ue[0],ue[3]-ue[1])/2),ge===void 0&&(ge=1),we===void 0&&(we=0),Pe===void 0&&(Pe=0),Re===void 0&&(Re=0);try{return ae.apply(fe,arguments)}catch(Ae){return console.info("WebGL SDF generation failed, falling back to JS",Ae),A.apply(O,arguments)}}return e.forEachPathCommand=l,e.generate=ye,e.generateIntoCanvas=J,e.javascript=O,e.pathToLineSegments=u,e.webgl=fe,e.webglUtils=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function bidiFactory(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},l={};o.L=1,l[1]="L",Object.keys(n).forEach(function(Ve,Je){o[Ve]=1<<Je+1,l[o[Ve]]=Ve}),Object.freeze(o);var u=o.LRI|o.RLI|o.FSI,f=o.L|o.R|o.AL,h=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,d=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,p=o.S|o.WS|o.B|u|o.PDI|d,m=null;function v(){if(!m){m=new Map;var Ve=function(ot){if(n.hasOwnProperty(ot)){var pe=0;n[ot].split(",").forEach(function(de){var Oe=de.split("+"),De=Oe[0],Ue=Oe[1];De=parseInt(De,36),Ue=Ue?parseInt(Ue,36):0,m.set(pe+=De,o[ot]);for(var tt=0;tt<Ue;tt++)m.set(++pe,o[ot])})}};for(var Je in n)Ve(Je)}}function _(Ve){return v(),m.get(Ve.codePointAt(0))||o.L}function S(Ve){return l[_(Ve)]}var M={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function A(Ve,Je){var ot=36,pe=0,de=new Map,Oe=Je&&new Map,De;return Ve.split(",").forEach(function Ue(tt){if(tt.indexOf("+")!==-1)for(var ut=+tt;ut--;)Ue(De);else{De=tt;var mt=tt.split(">"),it=mt[0],ht=mt[1];it=String.fromCodePoint(pe+=parseInt(it,ot)),ht=String.fromCodePoint(pe+=parseInt(ht,ot)),de.set(it,ht),Je&&Oe.set(ht,it)}}),{map:de,reverseMap:Oe}}var w,C,O;function L(){if(!w){var Ve=A(M.pairs,!0),Je=Ve.map,ot=Ve.reverseMap;w=Je,C=ot,O=A(M.canonical,!1).map}}function F(Ve){return L(),w.get(Ve)||null}function $(Ve){return L(),C.get(Ve)||null}function B(Ve){return L(),O.get(Ve)||null}var U=o.L,q=o.R,Z=o.EN,G=o.ES,H=o.ET,ne=o.AN,ae=o.CS,te=o.B,ce=o.S,fe=o.ON,ye=o.BN,J=o.NSM,oe=o.AL,se=o.LRO,Q=o.RLO,ue=o.LRE,_e=o.RLE,ge=o.PDF,ve=o.LRI,we=o.RLI,Pe=o.FSI,Re=o.PDI;function Ae(Ve,Je){for(var ot=125,pe=new Uint32Array(Ve.length),de=0;de<Ve.length;de++)pe[de]=_(Ve[de]);var Oe=new Map;function De(Kn,rr){var jn=pe[Kn];pe[Kn]=rr,Oe.set(jn,Oe.get(jn)-1),jn&h&&Oe.set(h,Oe.get(h)-1),Oe.set(rr,(Oe.get(rr)||0)+1),rr&h&&Oe.set(h,(Oe.get(h)||0)+1)}for(var Ue=new Uint8Array(Ve.length),tt=new Map,ut=[],mt=null,it=0;it<Ve.length;it++)mt||ut.push(mt={start:it,end:Ve.length-1,level:Je==="rtl"?1:Je==="ltr"?0:fr(it,!1)}),pe[it]&te&&(mt.end=it,mt=null);for(var ht=_e|ue|Q|se|u|Re|ge|te,Et=function(Kn){return Kn+(Kn&1?1:2)},dt=function(Kn){return Kn+(Kn&1?2:1)},It=0;It<ut.length;It++){mt=ut[It];var bt=[{_level:mt.level,_override:0,_isolate:0}],pt=void 0,Se=0,We=0,xe=0;Oe.clear();for(var qe=mt.start;qe<=mt.end;qe++){var lt=pe[qe];if(pt=bt[bt.length-1],Oe.set(lt,(Oe.get(lt)||0)+1),lt&h&&Oe.set(h,(Oe.get(h)||0)+1),lt&ht)if(lt&(_e|ue)){Ue[qe]=pt._level;var Te=(lt===_e?dt:Et)(pt._level);Te<=ot&&!Se&&!We?bt.push({_level:Te,_override:0,_isolate:0}):Se||We++}else if(lt&(Q|se)){Ue[qe]=pt._level;var gt=(lt===Q?dt:Et)(pt._level);gt<=ot&&!Se&&!We?bt.push({_level:gt,_override:lt&Q?q:U,_isolate:0}):Se||We++}else if(lt&u){lt&Pe&&(lt=fr(qe+1,!0)===1?we:ve),Ue[qe]=pt._level,pt._override&&De(qe,pt._override);var ze=(lt===we?dt:Et)(pt._level);ze<=ot&&Se===0&&We===0?(xe++,bt.push({_level:ze,_override:0,_isolate:1,_isolInitIndex:qe})):Se++}else if(lt&Re){if(Se>0)Se--;else if(xe>0){for(We=0;!bt[bt.length-1]._isolate;)bt.pop();var at=bt[bt.length-1]._isolInitIndex;at!=null&&(tt.set(at,qe),tt.set(qe,at)),bt.pop(),xe--}pt=bt[bt.length-1],Ue[qe]=pt._level,pt._override&&De(qe,pt._override)}else lt&ge?(Se===0&&(We>0?We--:!pt._isolate&&bt.length>1&&(bt.pop(),pt=bt[bt.length-1])),Ue[qe]=pt._level):lt&te&&(Ue[qe]=mt.level);else Ue[qe]=pt._level,pt._override&&lt!==ye&&De(qe,pt._override)}for(var yt=[],At=null,Tt=mt.start;Tt<=mt.end;Tt++){var Nt=pe[Tt];if(!(Nt&d)){var Jt=Ue[Tt],Ut=Nt&u,Zt=Nt===Re;At&&Jt===At._level?(At._end=Tt,At._endsWithIsolInit=Ut):yt.push(At={_start:Tt,_end:Tt,_level:Jt,_startsWithPDI:Zt,_endsWithIsolInit:Ut})}}for(var fn=[],Qn=0;Qn<yt.length;Qn++){var $n=yt[Qn];if(!$n._startsWithPDI||$n._startsWithPDI&&!tt.has($n._start)){for(var or=[At=$n],er=void 0;At&&At._endsWithIsolInit&&(er=tt.get(At._end))!=null;)for(var sr=Qn+1;sr<yt.length;sr++)if(yt[sr]._start===er){or.push(At=yt[sr]);break}for(var Wn=[],fi=0;fi<or.length;fi++)for(var xo=or[fi],Zr=xo._start;Zr<=xo._end;Zr++)Wn.push(Zr);for(var bo=Ue[Wn[0]],be=mt.level,He=Wn[0]-1;He>=0;He--)if(!(pe[He]&d)){be=Ue[He];break}var et=Wn[Wn.length-1],rt=Ue[et],Ze=mt.level;if(!(pe[et]&u)){for(var Pt=et+1;Pt<=mt.end;Pt++)if(!(pe[Pt]&d)){Ze=Ue[Pt];break}}fn.push({_seqIndices:Wn,_sosType:Math.max(be,bo)%2?q:U,_eosType:Math.max(Ze,rt)%2?q:U})}}for(var Bt=0;Bt<fn.length;Bt++){var jt=fn[Bt],ft=jt._seqIndices,Wt=jt._sosType,Xt=jt._eosType,qt=Ue[ft[0]]&1?q:U;if(Oe.get(J))for(var gn=0;gn<ft.length;gn++){var Xn=ft[gn];if(pe[Xn]&J){for(var vn=Wt,wn=gn-1;wn>=0;wn--)if(!(pe[ft[wn]]&d)){vn=pe[ft[wn]];break}De(Xn,vn&(u|Re)?fe:vn)}}if(Oe.get(Z))for(var Ft=0;Ft<ft.length;Ft++){var Ot=ft[Ft];if(pe[Ot]&Z)for(var Sn=Ft-1;Sn>=-1;Sn--){var tn=Sn===-1?Wt:pe[ft[Sn]];if(tn&f){tn===oe&&De(Ot,ne);break}}}if(Oe.get(oe))for(var Mn=0;Mn<ft.length;Mn++){var Jr=ft[Mn];pe[Jr]&oe&&De(Jr,q)}if(Oe.get(G)||Oe.get(ae))for(var Vn=1;Vn<ft.length-1;Vn++){var Cn=ft[Vn];if(pe[Cn]&(G|ae)){for(var pn=0,vr=0,Bi=Vn-1;Bi>=0&&(pn=pe[ft[Bi]],!!(pn&d));Bi--);for(var Gn=Vn+1;Gn<ft.length&&(vr=pe[ft[Gn]],!!(vr&d));Gn++);pn===vr&&(pe[Cn]===G?pn===Z:pn&(Z|ne))&&De(Cn,pn)}}if(Oe.get(Z))for(var tr=0;tr<ft.length;tr++){var Ar=ft[tr];if(pe[Ar]&Z){for(var Mi=tr-1;Mi>=0&&pe[ft[Mi]]&(H|d);Mi--)De(ft[Mi],Z);for(tr++;tr<ft.length&&pe[ft[tr]]&(H|d|Z);tr++)pe[ft[tr]]!==Z&&De(ft[tr],Z)}}if(Oe.get(H)||Oe.get(G)||Oe.get(ae))for(var Ti=0;Ti<ft.length;Ti++){var Ds=ft[Ti];if(pe[Ds]&(H|G|ae)){De(Ds,fe);for(var Ai=Ti-1;Ai>=0&&pe[ft[Ai]]&d;Ai--)De(ft[Ai],fe);for(var un=Ti+1;un<ft.length&&pe[ft[un]]&d;un++)De(ft[un],fe)}}if(Oe.get(Z))for(var Ui=0,Ma=Wt;Ui<ft.length;Ui++){var So=ft[Ui],Eo=pe[So];Eo&Z?Ma===U&&De(So,U):Eo&f&&(Ma=Eo)}if(Oe.get(h)){var zi=q|Z|ne,ja=zi|U,hi=[];{for(var Pi=[],_r=0;_r<ft.length;_r++)if(pe[ft[_r]]&h){var Qt=Ve[ft[_r]],di=void 0;if(F(Qt)!==null)if(Pi.length<63)Pi.push({char:Qt,seqIndex:_r});else break;else if((di=$(Qt))!==null)for(var Qr=Pi.length-1;Qr>=0;Qr--){var Vi=Pi[Qr].char;if(Vi===di||Vi===$(B(Qt))||F(B(Vi))===Qt){hi.push([Pi[Qr].seqIndex,_r]),Pi.length=Qr;break}}}hi.sort(function(Kn,rr){return Kn[0]-rr[0]})}for(var mi=0;mi<hi.length;mi++){for(var Ls=hi[mi],On=Ls[0],Ci=Ls[1],ks=!1,Pr=0,Ta=On+1;Ta<Ci;Ta++){var Aa=ft[Ta];if(pe[Aa]&ja){ks=!0;var ei=pe[Aa]&zi?q:U;if(ei===qt){Pr=ei;break}}}if(ks&&!Pr){Pr=Wt;for(var Ji=On-1;Ji>=0;Ji--){var Pa=ft[Ji];if(pe[Pa]&ja){var lr=pe[Pa]&zi?q:U;lr!==qt?Pr=lr:Pr=qt;break}}}if(Pr){if(pe[ft[On]]=pe[ft[Ci]]=Pr,Pr!==qt){for(var cr=On+1;cr<ft.length;cr++)if(!(pe[ft[cr]]&d)){_(Ve[ft[cr]])&J&&(pe[ft[cr]]=Pr);break}}if(Pr!==qt){for(var Gi=Ci+1;Gi<ft.length;Gi++)if(!(pe[ft[Gi]]&d)){_(Ve[ft[Gi]])&J&&(pe[ft[Gi]]=Pr);break}}}}for(var gi=0;gi<ft.length;gi++)if(pe[ft[gi]]&h){for(var qa=gi,Ca=gi,Cr=Wt,Ra=gi-1;Ra>=0;Ra--)if(pe[ft[Ra]]&d)qa=Ra;else{Cr=pe[ft[Ra]]&zi?q:U;break}for(var jr=Xt,Qi=gi+1;Qi<ft.length;Qi++)if(pe[ft[Qi]]&(h|d))Ca=Qi;else{jr=pe[ft[Qi]]&zi?q:U;break}for(var ur=qa;ur<=Ca;ur++)pe[ft[ur]]=Cr===jr?Cr:qt;gi=Ca}}}for(var nr=mt.start;nr<=mt.end;nr++){var ea=Ue[nr],qr=pe[nr];if(ea&1?qr&(U|Z|ne)&&Ue[nr]++:qr&q?Ue[nr]++:qr&(ne|Z)&&(Ue[nr]+=2),qr&d&&(Ue[nr]=nr===0?mt.level:Ue[nr-1]),nr===mt.end||_(Ve[nr])&(ce|te))for(var ta=nr;ta>=0&&_(Ve[ta])&p;ta--)Ue[ta]=mt.level}}return{levels:Ue,paragraphs:ut};function fr(Kn,rr){for(var jn=Kn;jn<Ve.length;jn++){var kn=pe[jn];if(kn&(q|oe))return 1;if(kn&(te|U)||rr&&kn===Re)return 0;if(kn&u){var Nr=na(jn);jn=Nr===-1?Ve.length:Nr}}return 0}function na(Kn){for(var rr=1,jn=Kn+1;jn<Ve.length;jn++){var kn=pe[jn];if(kn&te)break;if(kn&Re){if(--rr===0)return jn}else kn&u&&rr++}return-1}}var Ne="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ie;function he(){if(!Ie){var Ve=A(Ne,!0),Je=Ve.map,ot=Ve.reverseMap;ot.forEach(function(pe,de){Je.set(de,pe)}),Ie=Je}}function ke(Ve){return he(),Ie.get(Ve)||null}function Me(Ve,Je,ot,pe){var de=Ve.length;ot=Math.max(0,ot==null?0:+ot),pe=Math.min(de-1,pe==null?de-1:+pe);for(var Oe=new Map,De=ot;De<=pe;De++)if(Je[De]&1){var Ue=ke(Ve[De]);Ue!==null&&Oe.set(De,Ue)}return Oe}function je(Ve,Je,ot,pe){var de=Ve.length;ot=Math.max(0,ot==null?0:+ot),pe=Math.min(de-1,pe==null?de-1:+pe);var Oe=[];return Je.paragraphs.forEach(function(De){var Ue=Math.max(ot,De.start),tt=Math.min(pe,De.end);if(Ue<tt){for(var ut=Je.levels.slice(Ue,tt+1),mt=tt;mt>=Ue&&_(Ve[mt])&p;mt--)ut[mt]=De.level;for(var it=De.level,ht=1/0,Et=0;Et<ut.length;Et++){var dt=ut[Et];dt>it&&(it=dt),dt<ht&&(ht=dt|1)}for(var It=it;It>=ht;It--)for(var bt=0;bt<ut.length;bt++)if(ut[bt]>=It){for(var pt=bt;bt+1<ut.length&&ut[bt+1]>=It;)bt++;bt>pt&&Oe.push([pt+Ue,bt+Ue])}}}),Oe}function Fe(Ve,Je,ot,pe){var de=Qe(Ve,Je,ot,pe),Oe=[].concat(Ve);return de.forEach(function(De,Ue){Oe[Ue]=(Je.levels[De]&1?ke(Ve[De]):null)||Ve[De]}),Oe.join("")}function Qe(Ve,Je,ot,pe){for(var de=je(Ve,Je,ot,pe),Oe=[],De=0;De<Ve.length;De++)Oe[De]=De;return de.forEach(function(Ue){for(var tt=Ue[0],ut=Ue[1],mt=Oe.slice(tt,ut+1),it=mt.length;it--;)Oe[ut-it]=mt[it]}),Oe}return e.closingToOpeningBracket=$,e.getBidiCharType=_,e.getBidiCharTypeName=S,e.getCanonicalBracket=B,e.getEmbeddingLevels=Ae,e.getMirroredCharacter=ke,e.getMirroredCharactersMap=Me,e.getReorderSegments=je,e.getReorderedIndices=Qe,e.getReorderedString=Fe,e.openingToClosingBracket=F,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(o,l){let u=ShaderChunk[l];return u?expandShaderIncludes(u):o}return t.replace(e,n)}const _lut=[];for(let t=0;t<256;t++)_lut[t]=(t<16?"0":"")+t.toString(16);function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[n&63|128]+_lut[n>>8&255]+"-"+_lut[n>>16&255]+_lut[n>>24&255]+_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]).toUpperCase()}const assign$2=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let o=arguments[e];if(o)for(let l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(t,e){const n=getKeyForOptions(e);let o=CONSTRUCTOR_CACHE.get(t);if(o||CONSTRUCTOR_CACHE.set(t,o=Object.create(null)),o[n])return new o[n];const l=`_onBeforeCompile${n}`,u=function(p,m){t.onBeforeCompile.call(this,p,m);const v=this.customProgramCacheKey()+"|"+p.vertexShader+"|"+p.fragmentShader;let _=SHADER_UPGRADE_CACHE[v];if(!_){const S=upgradeShaders(this,p,e,n);_=SHADER_UPGRADE_CACHE[v]=S}p.vertexShader=_.vertexShader,p.fragmentShader=_.fragmentShader,assign$2(p.uniforms,this.uniforms),e.timeUniform&&(p.uniforms[e.timeUniform]={get value(){return Date.now()-epoch}}),this[l]&&this[l](p)},f=function(){return h(e.chained?t:t.clone())},h=function(p){const m=Object.create(p,d);return Object.defineProperty(m,"baseMaterial",{value:t}),Object.defineProperty(m,"id",{value:materialInstanceId++}),m.uuid=generateUUID(),m.uniforms=assign$2({},p.uniforms,e.uniforms),m.defines=assign$2({},p.defines,e.defines),m.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",m.extensions=assign$2({},p.extensions,e.extensions),m._listeners=void 0,m},d={constructor:{value:f},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:p=>{t.type=p}},isDerivedFrom:{writable:!0,configurable:!0,value:function(p){const m=this.baseMaterial;return p===m||m.isDerivedMaterial&&m.isDerivedFrom(p)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return u},set(p){this[l]=p}},copy:{writable:!0,configurable:!0,value:function(p){return t.copy.call(this,p),!t.isShaderMaterial&&!t.isDerivedMaterial&&(assign$2(this.extensions,p.extensions),assign$2(this.defines,p.defines),assign$2(this.uniforms,UniformsUtils.clone(p.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const p=new t.constructor;return h(p).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let p=this._depthMaterial;return p||(p=this._depthMaterial=createDerivedMaterial(t.isDerivedMaterial?t.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),e),p.defines.IS_DEPTH_MATERIAL="",p.uniforms=this.uniforms),p}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let p=this._distanceMaterial;return p||(p=this._distanceMaterial=createDerivedMaterial(t.isDerivedMaterial?t.getDistanceMaterial():new MeshDistanceMaterial,e),p.defines.IS_DISTANCE_MATERIAL="",p.uniforms=this.uniforms),p}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:p,_distanceMaterial:m}=this;p&&p.dispose(),m&&m.dispose(),t.dispose.call(this)}}};return o[n]=f,new f}function upgradeShaders(t,{vertexShader:e,fragmentShader:n},o,l){let{vertexDefs:u,vertexMainIntro:f,vertexMainOutro:h,vertexTransform:d,fragmentDefs:p,fragmentMainIntro:m,fragmentMainOutro:v,fragmentColorTransform:_,customRewriter:S,timeUniform:M}=o;if(u=u||"",f=f||"",h=h||"",p=p||"",m=m||"",v=v||"",(d||S)&&(e=expandShaderIncludes(e)),(_||S)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=expandShaderIncludes(n)),S){let A=S({vertexShader:e,fragmentShader:n});e=A.vertexShader,n=A.fragmentShader}if(_){let A=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(A.push(w),"")),v=`${_}
${A.join(`
`)}
${v}`}if(M){const A=`
uniform float ${M};
`;u=A+u,p=A+p}return d&&(e=`vec3 troika_position_${l};
vec3 troika_normal_${l};
vec2 troika_uv_${l};
${e}
`,u=`${u}
void troikaVertexTransform${l}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${d}
}
`,f=`
troika_position_${l} = vec3(position);
troika_normal_${l} = vec3(normal);
troika_uv_${l} = vec2(uv);
troikaVertexTransform${l}(troika_position_${l}, troika_normal_${l}, troika_uv_${l});
${f}
`,e=e.replace(/\b(position|normal|uv)\b/g,(A,w,C,O)=>/\battribute\s+vec[23]\s+$/.test(O.substr(0,C))?w:`troika_${w}_${l}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${l}`))),e=injectIntoShaderCode(e,l,u,f,h),n=injectIntoShaderCode(n,l,p,m,v),{vertexShader:e,fragmentShader:n}}function injectIntoShaderCode(t,e,n,o,l){return(o||l||n)&&(t=t.replace(voidMainRegExp,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${o}
  troikaOrigMain${e}();
  ${l}
}`),t}function optionsJsonReplacer(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(t){const e=JSON.stringify(t,optionsJsonReplacer);let n=optionsHashesToIds.get(e);return n==null&&optionsHashesToIds.set(e,n=++_idCtr),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(l){var u=e._bin,f=new Uint8Array(l);if(u.readASCII(f,0,4)=="ttcf"){var h=4;u.readUshort(f,h),h+=2,u.readUshort(f,h),h+=2;var d=u.readUint(f,h);h+=4;for(var p=[],m=0;m<d;m++){var v=u.readUint(f,h);h+=4,p.push(e._readFont(f,v))}return p}return[e._readFont(f,0)]},_readFont:function(l,u){var f=e._bin,h=u;f.readFixed(l,u),u+=4;var d=f.readUshort(l,u);u+=2,f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2;for(var p=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],m={_data:l,_offset:h},v={},_=0;_<d;_++){var S=f.readASCII(l,u,4);u+=4,f.readUint(l,u),u+=4;var M=f.readUint(l,u);u+=4;var A=f.readUint(l,u);u+=4,v[S]={offset:M,length:A}}for(_=0;_<p.length;_++){var w=p[_];v[w]&&(m[w.trim()]=e[w.trim()].parse(l,v[w].offset,v[w].length,m))}return m},_tabOffset:function(l,u,f){for(var h=e._bin,d=h.readUshort(l,f+4),p=f+12,m=0;m<d;m++){var v=h.readASCII(l,p,4);p+=4,h.readUint(l,p),p+=4;var _=h.readUint(l,p);if(p+=4,h.readUint(l,p),p+=4,v==u)return _}return 0}};e._bin={readFixed:function(l,u){return(l[u]<<8|l[u+1])+(l[u+2]<<8|l[u+3])/65540},readF2dot14:function(l,u){return e._bin.readShort(l,u)/16384},readInt:function(l,u){return e._bin._view(l).getInt32(u)},readInt8:function(l,u){return e._bin._view(l).getInt8(u)},readShort:function(l,u){return e._bin._view(l).getInt16(u)},readUshort:function(l,u){return e._bin._view(l).getUint16(u)},readUshorts:function(l,u,f){for(var h=[],d=0;d<f;d++)h.push(e._bin.readUshort(l,u+2*d));return h},readUint:function(l,u){return e._bin._view(l).getUint32(u)},readUint64:function(l,u){return 4294967296*e._bin.readUint(l,u)+e._bin.readUint(l,u+4)},readASCII:function(l,u,f){for(var h="",d=0;d<f;d++)h+=String.fromCharCode(l[u+d]);return h},readUnicode:function(l,u,f){for(var h="",d=0;d<f;d++){var p=l[u++]<<8|l[u++];h+=String.fromCharCode(p)}return h},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(l,u,f){var h=e._bin._tdec;return h&&u==0&&f==l.length?h.decode(l):e._bin.readASCII(l,u,f)},readBytes:function(l,u,f){for(var h=[],d=0;d<f;d++)h.push(l[u+d]);return h},readASCIIArray:function(l,u,f){for(var h=[],d=0;d<f;d++)h.push(String.fromCharCode(l[u+d]));return h},_view:function(l){return l._dataView||(l._dataView=l.buffer?new DataView(l.buffer,l.byteOffset,l.byteLength):new DataView(new Uint8Array(l).buffer))}},e._lctf={},e._lctf.parse=function(l,u,f,h,d){var p=e._bin,m={},v=u;p.readFixed(l,u),u+=4;var _=p.readUshort(l,u);u+=2;var S=p.readUshort(l,u);u+=2;var M=p.readUshort(l,u);return u+=2,m.scriptList=e._lctf.readScriptList(l,v+_),m.featureList=e._lctf.readFeatureList(l,v+S),m.lookupList=e._lctf.readLookupList(l,v+M,d),m},e._lctf.readLookupList=function(l,u,f){var h=e._bin,d=u,p=[],m=h.readUshort(l,u);u+=2;for(var v=0;v<m;v++){var _=h.readUshort(l,u);u+=2;var S=e._lctf.readLookupTable(l,d+_,f);p.push(S)}return p},e._lctf.readLookupTable=function(l,u,f){var h=e._bin,d=u,p={tabs:[]};p.ltype=h.readUshort(l,u),u+=2,p.flag=h.readUshort(l,u),u+=2;var m=h.readUshort(l,u);u+=2;for(var v=p.ltype,_=0;_<m;_++){var S=h.readUshort(l,u);u+=2;var M=f(l,v,d+S,p);p.tabs.push(M)}return p},e._lctf.numOfOnes=function(l){for(var u=0,f=0;f<32;f++)(l>>>f&1)!=0&&u++;return u},e._lctf.readClassDef=function(l,u){var f=e._bin,h=[],d=f.readUshort(l,u);if(u+=2,d==1){var p=f.readUshort(l,u);u+=2;var m=f.readUshort(l,u);u+=2;for(var v=0;v<m;v++)h.push(p+v),h.push(p+v),h.push(f.readUshort(l,u)),u+=2}if(d==2){var _=f.readUshort(l,u);for(u+=2,v=0;v<_;v++)h.push(f.readUshort(l,u)),u+=2,h.push(f.readUshort(l,u)),u+=2,h.push(f.readUshort(l,u)),u+=2}return h},e._lctf.getInterval=function(l,u){for(var f=0;f<l.length;f+=3){var h=l[f],d=l[f+1];if(l[f+2],h<=u&&u<=d)return f}return-1},e._lctf.readCoverage=function(l,u){var f=e._bin,h={};h.fmt=f.readUshort(l,u),u+=2;var d=f.readUshort(l,u);return u+=2,h.fmt==1&&(h.tab=f.readUshorts(l,u,d)),h.fmt==2&&(h.tab=f.readUshorts(l,u,3*d)),h},e._lctf.coverageIndex=function(l,u){var f=l.tab;if(l.fmt==1)return f.indexOf(u);if(l.fmt==2){var h=e._lctf.getInterval(f,u);if(h!=-1)return f[h+2]+(u-f[h])}return-1},e._lctf.readFeatureList=function(l,u){var f=e._bin,h=u,d=[],p=f.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=f.readASCII(l,u,4);u+=4;var _=f.readUshort(l,u);u+=2;var S=e._lctf.readFeatureTable(l,h+_);S.tag=v.trim(),d.push(S)}return d},e._lctf.readFeatureTable=function(l,u){var f=e._bin,h=u,d={},p=f.readUshort(l,u);u+=2,p>0&&(d.featureParams=h+p);var m=f.readUshort(l,u);u+=2,d.tab=[];for(var v=0;v<m;v++)d.tab.push(f.readUshort(l,u+2*v));return d},e._lctf.readScriptList=function(l,u){var f=e._bin,h=u,d={},p=f.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=f.readASCII(l,u,4);u+=4;var _=f.readUshort(l,u);u+=2,d[v.trim()]=e._lctf.readScriptTable(l,h+_)}return d},e._lctf.readScriptTable=function(l,u){var f=e._bin,h=u,d={},p=f.readUshort(l,u);u+=2,p>0&&(d.default=e._lctf.readLangSysTable(l,h+p));var m=f.readUshort(l,u);u+=2;for(var v=0;v<m;v++){var _=f.readASCII(l,u,4);u+=4;var S=f.readUshort(l,u);u+=2,d[_.trim()]=e._lctf.readLangSysTable(l,h+S)}return d},e._lctf.readLangSysTable=function(l,u){var f=e._bin,h={};f.readUshort(l,u),u+=2,h.reqFeature=f.readUshort(l,u),u+=2;var d=f.readUshort(l,u);return u+=2,h.features=f.readUshorts(l,u,d),h},e.CFF={},e.CFF.parse=function(l,u,f){var h=e._bin;(l=new Uint8Array(l.buffer,u,f))[u=0],l[++u],l[++u],l[++u],u++;var d=[];u=e.CFF.readIndex(l,u,d);for(var p=[],m=0;m<d.length-1;m++)p.push(h.readASCII(l,u+d[m],d[m+1]-d[m]));u+=d[d.length-1];var v=[];u=e.CFF.readIndex(l,u,v);var _=[];for(m=0;m<v.length-1;m++)_.push(e.CFF.readDict(l,u+v[m],u+v[m+1]));u+=v[v.length-1];var S=_[0],M=[];u=e.CFF.readIndex(l,u,M);var A=[];for(m=0;m<M.length-1;m++)A.push(h.readASCII(l,u+M[m],M[m+1]-M[m]));if(u+=M[M.length-1],e.CFF.readSubrs(l,u,S),S.CharStrings){u=S.CharStrings,M=[],u=e.CFF.readIndex(l,u,M);var w=[];for(m=0;m<M.length-1;m++)w.push(h.readBytes(l,u+M[m],M[m+1]-M[m]));S.CharStrings=w}if(S.ROS){u=S.FDArray;var C=[];for(u=e.CFF.readIndex(l,u,C),S.FDArray=[],m=0;m<C.length-1;m++){var O=e.CFF.readDict(l,u+C[m],u+C[m+1]);e.CFF._readFDict(l,O,A),S.FDArray.push(O)}u+=C[C.length-1],u=S.FDSelect,S.FDSelect=[];var L=l[u];if(u++,L!=3)throw L;var F=h.readUshort(l,u);for(u+=2,m=0;m<F+1;m++)S.FDSelect.push(h.readUshort(l,u),l[u+2]),u+=3}return S.Encoding&&(S.Encoding=e.CFF.readEncoding(l,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=e.CFF.readCharset(l,S.charset,S.CharStrings.length)),e.CFF._readFDict(l,S,A),S},e.CFF._readFDict=function(l,u,f){var h;for(var d in u.Private&&(h=u.Private[1],u.Private=e.CFF.readDict(l,h,h+u.Private[0]),u.Private.Subrs&&e.CFF.readSubrs(l,h+u.Private.Subrs,u.Private)),u)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(d)!=-1&&(u[d]=f[u[d]-426+35])},e.CFF.readSubrs=function(l,u,f){var h=e._bin,d=[];u=e.CFF.readIndex(l,u,d);var p,m=d.length;p=m<1240?107:m<33900?1131:32768,f.Bias=p,f.Subrs=[];for(var v=0;v<d.length-1;v++)f.Subrs.push(h.readBytes(l,u+d[v],d[v+1]-d[v]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(l,u){for(var f=0;f<l.charset.length;f++)if(l.charset[f]==u)return f;return-1},e.CFF.glyphBySE=function(l,u){return u<0||u>255?-1:e.CFF.glyphByUnicode(l,e.CFF.tableSE[u])},e.CFF.readEncoding=function(l,u,f){e._bin;var h=[".notdef"],d=l[u];if(u++,d!=0)throw"error: unknown encoding format: "+d;var p=l[u];u++;for(var m=0;m<p;m++)h.push(l[u+m]);return h},e.CFF.readCharset=function(l,u,f){var h=e._bin,d=[".notdef"],p=l[u];if(u++,p==0)for(var m=0;m<f;m++){var v=h.readUshort(l,u);u+=2,d.push(v)}else{if(p!=1&&p!=2)throw"error: format: "+p;for(;d.length<f;){v=h.readUshort(l,u),u+=2;var _=0;for(p==1?(_=l[u],u++):(_=h.readUshort(l,u),u+=2),m=0;m<=_;m++)d.push(v),v++}}return d},e.CFF.readIndex=function(l,u,f){var h=e._bin,d=h.readUshort(l,u)+1,p=l[u+=2];if(u++,p==1)for(var m=0;m<d;m++)f.push(l[u+m]);else if(p==2)for(m=0;m<d;m++)f.push(h.readUshort(l,u+2*m));else if(p==3)for(m=0;m<d;m++)f.push(16777215&h.readUint(l,u+3*m-1));else if(d!=1)throw"unsupported offset size: "+p+", count: "+d;return(u+=d*p)-1},e.CFF.getCharString=function(l,u,f){var h=e._bin,d=l[u],p=l[u+1];l[u+2],l[u+3],l[u+4];var m=1,v=null,_=null;d<=20&&(v=d,m=1),d==12&&(v=100*d+p,m=2),21<=d&&d<=27&&(v=d,m=1),d==28&&(_=h.readShort(l,u+1),m=3),29<=d&&d<=31&&(v=d,m=1),32<=d&&d<=246&&(_=d-139,m=1),247<=d&&d<=250&&(_=256*(d-247)+p+108,m=2),251<=d&&d<=254&&(_=256*-(d-251)-p-108,m=2),d==255&&(_=h.readInt(l,u+1)/65535,m=5),f.val=_??"o"+v,f.size=m},e.CFF.readCharString=function(l,u,f){for(var h=u+f,d=e._bin,p=[];u<h;){var m=l[u],v=l[u+1];l[u+2],l[u+3],l[u+4];var _=1,S=null,M=null;m<=20&&(S=m,_=1),m==12&&(S=100*m+v,_=2),m!=19&&m!=20||(S=m,_=2),21<=m&&m<=27&&(S=m,_=1),m==28&&(M=d.readShort(l,u+1),_=3),29<=m&&m<=31&&(S=m,_=1),32<=m&&m<=246&&(M=m-139,_=1),247<=m&&m<=250&&(M=256*(m-247)+v+108,_=2),251<=m&&m<=254&&(M=256*-(m-251)-v-108,_=2),m==255&&(M=d.readInt(l,u+1)/65535,_=5),p.push(M??"o"+S),u+=_}return p},e.CFF.readDict=function(l,u,f){for(var h=e._bin,d={},p=[];u<f;){var m=l[u],v=l[u+1];l[u+2],l[u+3],l[u+4];var _=1,S=null,M=null;if(m==28&&(M=h.readShort(l,u+1),_=3),m==29&&(M=h.readInt(l,u+1),_=5),32<=m&&m<=246&&(M=m-139,_=1),247<=m&&m<=250&&(M=256*(m-247)+v+108,_=2),251<=m&&m<=254&&(M=256*-(m-251)-v-108,_=2),m==255)throw M=h.readInt(l,u+1)/65535,_=5,"unknown number";if(m==30){var A=[];for(_=1;;){var w=l[u+_];_++;var C=w>>4,O=15&w;if(C!=15&&A.push(C),O!=15&&A.push(O),O==15)break}for(var L="",F=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],$=0;$<A.length;$++)L+=F[A[$]];M=parseFloat(L)}m<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][m],_=1,m==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][v],_=2)),S!=null?(d[S]=p.length==1?p[0]:p,p=[]):p.push(M),u+=_}return d},e.cmap={},e.cmap.parse=function(l,u,f){l=new Uint8Array(l.buffer,u,f),u=0;var h=e._bin,d={};h.readUshort(l,u),u+=2;var p=h.readUshort(l,u);u+=2;var m=[];d.tables=[];for(var v=0;v<p;v++){var _=h.readUshort(l,u);u+=2;var S=h.readUshort(l,u);u+=2;var M=h.readUint(l,u);u+=4;var A="p"+_+"e"+S,w=m.indexOf(M);if(w==-1){var C;w=d.tables.length,m.push(M);var O=h.readUshort(l,M);O==0?C=e.cmap.parse0(l,M):O==4?C=e.cmap.parse4(l,M):O==6?C=e.cmap.parse6(l,M):O==12?C=e.cmap.parse12(l,M):console.debug("unknown format: "+O,_,S,M),d.tables.push(C)}if(d[A]!=null)throw"multiple tables for one platform+encoding";d[A]=w}return d},e.cmap.parse0=function(l,u){var f=e._bin,h={};h.format=f.readUshort(l,u),u+=2;var d=f.readUshort(l,u);u+=2,f.readUshort(l,u),u+=2,h.map=[];for(var p=0;p<d-6;p++)h.map.push(l[u+p]);return h},e.cmap.parse4=function(l,u){var f=e._bin,h=u,d={};d.format=f.readUshort(l,u),u+=2;var p=f.readUshort(l,u);u+=2,f.readUshort(l,u),u+=2;var m=f.readUshort(l,u);u+=2;var v=m/2;d.searchRange=f.readUshort(l,u),u+=2,d.entrySelector=f.readUshort(l,u),u+=2,d.rangeShift=f.readUshort(l,u),u+=2,d.endCount=f.readUshorts(l,u,v),u+=2*v,u+=2,d.startCount=f.readUshorts(l,u,v),u+=2*v,d.idDelta=[];for(var _=0;_<v;_++)d.idDelta.push(f.readShort(l,u)),u+=2;for(d.idRangeOffset=f.readUshorts(l,u,v),u+=2*v,d.glyphIdArray=[];u<h+p;)d.glyphIdArray.push(f.readUshort(l,u)),u+=2;return d},e.cmap.parse6=function(l,u){var f=e._bin,h={};h.format=f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2,f.readUshort(l,u),u+=2,h.firstCode=f.readUshort(l,u),u+=2;var d=f.readUshort(l,u);u+=2,h.glyphIdArray=[];for(var p=0;p<d;p++)h.glyphIdArray.push(f.readUshort(l,u)),u+=2;return h},e.cmap.parse12=function(l,u){var f=e._bin,h={};h.format=f.readUshort(l,u),u+=2,u+=2,f.readUint(l,u),u+=4,f.readUint(l,u),u+=4;var d=f.readUint(l,u);u+=4,h.groups=[];for(var p=0;p<d;p++){var m=u+12*p,v=f.readUint(l,m+0),_=f.readUint(l,m+4),S=f.readUint(l,m+8);h.groups.push([v,_,S])}return h},e.glyf={},e.glyf.parse=function(l,u,f,h){for(var d=[],p=0;p<h.maxp.numGlyphs;p++)d.push(null);return d},e.glyf._parseGlyf=function(l,u){var f=e._bin,h=l._data,d=e._tabOffset(h,"glyf",l._offset)+l.loca[u];if(l.loca[u]==l.loca[u+1])return null;var p={};if(p.noc=f.readShort(h,d),d+=2,p.xMin=f.readShort(h,d),d+=2,p.yMin=f.readShort(h,d),d+=2,p.xMax=f.readShort(h,d),d+=2,p.yMax=f.readShort(h,d),d+=2,p.xMin>=p.xMax||p.yMin>=p.yMax)return null;if(p.noc>0){p.endPts=[];for(var m=0;m<p.noc;m++)p.endPts.push(f.readUshort(h,d)),d+=2;var v=f.readUshort(h,d);if(d+=2,h.length-d<v)return null;p.instructions=f.readBytes(h,d,v),d+=v;var _=p.endPts[p.noc-1]+1;for(p.flags=[],m=0;m<_;m++){var S=h[d];if(d++,p.flags.push(S),(8&S)!=0){var M=h[d];d++;for(var A=0;A<M;A++)p.flags.push(S),m++}}for(p.xs=[],m=0;m<_;m++){var w=(2&p.flags[m])!=0,C=(16&p.flags[m])!=0;w?(p.xs.push(C?h[d]:-h[d]),d++):C?p.xs.push(0):(p.xs.push(f.readShort(h,d)),d+=2)}for(p.ys=[],m=0;m<_;m++)w=(4&p.flags[m])!=0,C=(32&p.flags[m])!=0,w?(p.ys.push(C?h[d]:-h[d]),d++):C?p.ys.push(0):(p.ys.push(f.readShort(h,d)),d+=2);var O=0,L=0;for(m=0;m<_;m++)O+=p.xs[m],L+=p.ys[m],p.xs[m]=O,p.ys[m]=L}else{var F;p.parts=[];do{F=f.readUshort(h,d),d+=2;var $={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(p.parts.push($),$.glyphIndex=f.readUshort(h,d),d+=2,1&F){var B=f.readShort(h,d);d+=2;var U=f.readShort(h,d);d+=2}else B=f.readInt8(h,d),d++,U=f.readInt8(h,d),d++;2&F?($.m.tx=B,$.m.ty=U):($.p1=B,$.p2=U),8&F?($.m.a=$.m.d=f.readF2dot14(h,d),d+=2):64&F?($.m.a=f.readF2dot14(h,d),d+=2,$.m.d=f.readF2dot14(h,d),d+=2):128&F&&($.m.a=f.readF2dot14(h,d),d+=2,$.m.b=f.readF2dot14(h,d),d+=2,$.m.c=f.readF2dot14(h,d),d+=2,$.m.d=f.readF2dot14(h,d),d+=2)}while(32&F);if(256&F){var q=f.readUshort(h,d);for(d+=2,p.instr=[],m=0;m<q;m++)p.instr.push(h[d]),d++}}return p},e.GDEF={},e.GDEF.parse=function(l,u,f,h){var d=u;u+=4;var p=e._bin.readUshort(l,u);return{glyphClassDef:p===0?null:e._lctf.readClassDef(l,d+p)}},e.GPOS={},e.GPOS.parse=function(l,u,f,h){return e._lctf.parse(l,u,f,h,e.GPOS.subt)},e.GPOS.subt=function(l,u,f,h){var d=e._bin,p=f,m={};if(m.fmt=d.readUshort(l,f),f+=2,u==1||u==2||u==3||u==7||u==8&&m.fmt<=2){var v=d.readUshort(l,f);f+=2,m.coverage=e._lctf.readCoverage(l,v+p)}if(u==1&&m.fmt==1){var _=d.readUshort(l,f);f+=2,_!=0&&(m.pos=e.GPOS.readValueRecord(l,f,_))}else if(u==2&&m.fmt>=1&&m.fmt<=2){_=d.readUshort(l,f),f+=2;var S=d.readUshort(l,f);f+=2;var M=e._lctf.numOfOnes(_),A=e._lctf.numOfOnes(S);if(m.fmt==1){m.pairsets=[];var w=d.readUshort(l,f);f+=2;for(var C=0;C<w;C++){var O=p+d.readUshort(l,f);f+=2;var L=d.readUshort(l,O);O+=2;for(var F=[],$=0;$<L;$++){var B=d.readUshort(l,O);O+=2,_!=0&&(ne=e.GPOS.readValueRecord(l,O,_),O+=2*M),S!=0&&(ae=e.GPOS.readValueRecord(l,O,S),O+=2*A),F.push({gid2:B,val1:ne,val2:ae})}m.pairsets.push(F)}}if(m.fmt==2){var U=d.readUshort(l,f);f+=2;var q=d.readUshort(l,f);f+=2;var Z=d.readUshort(l,f);f+=2;var G=d.readUshort(l,f);for(f+=2,m.classDef1=e._lctf.readClassDef(l,p+U),m.classDef2=e._lctf.readClassDef(l,p+q),m.matrix=[],C=0;C<Z;C++){var H=[];for($=0;$<G;$++){var ne=null,ae=null;_!=0&&(ne=e.GPOS.readValueRecord(l,f,_),f+=2*M),S!=0&&(ae=e.GPOS.readValueRecord(l,f,S),f+=2*A),H.push({val1:ne,val2:ae})}m.matrix.push(H)}}}else if(u==4&&m.fmt==1)m.markCoverage=e._lctf.readCoverage(l,d.readUshort(l,f)+p),m.baseCoverage=e._lctf.readCoverage(l,d.readUshort(l,f+2)+p),m.markClassCount=d.readUshort(l,f+4),m.markArray=e.GPOS.readMarkArray(l,d.readUshort(l,f+6)+p),m.baseArray=e.GPOS.readBaseArray(l,d.readUshort(l,f+8)+p,m.markClassCount);else if(u==6&&m.fmt==1)m.mark1Coverage=e._lctf.readCoverage(l,d.readUshort(l,f)+p),m.mark2Coverage=e._lctf.readCoverage(l,d.readUshort(l,f+2)+p),m.markClassCount=d.readUshort(l,f+4),m.mark1Array=e.GPOS.readMarkArray(l,d.readUshort(l,f+6)+p),m.mark2Array=e.GPOS.readBaseArray(l,d.readUshort(l,f+8)+p,m.markClassCount);else{if(u==9&&m.fmt==1){var te=d.readUshort(l,f);f+=2;var ce=d.readUint(l,f);if(f+=4,h.ltype==9)h.ltype=te;else if(h.ltype!=te)throw"invalid extension substitution";return e.GPOS.subt(l,h.ltype,p+ce)}console.debug("unsupported GPOS table LookupType",u,"format",m.fmt)}return m},e.GPOS.readValueRecord=function(l,u,f){var h=e._bin,d=[];return d.push(1&f?h.readShort(l,u):0),u+=1&f?2:0,d.push(2&f?h.readShort(l,u):0),u+=2&f?2:0,d.push(4&f?h.readShort(l,u):0),u+=4&f?2:0,d.push(8&f?h.readShort(l,u):0),u+=8&f?2:0,d},e.GPOS.readBaseArray=function(l,u,f){var h=e._bin,d=[],p=u,m=h.readUshort(l,u);u+=2;for(var v=0;v<m;v++){for(var _=[],S=0;S<f;S++)_.push(e.GPOS.readAnchorRecord(l,p+h.readUshort(l,u))),u+=2;d.push(_)}return d},e.GPOS.readMarkArray=function(l,u){var f=e._bin,h=[],d=u,p=f.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=e.GPOS.readAnchorRecord(l,f.readUshort(l,u+2)+d);v.markClass=f.readUshort(l,u),h.push(v),u+=4}return h},e.GPOS.readAnchorRecord=function(l,u){var f=e._bin,h={};return h.fmt=f.readUshort(l,u),h.x=f.readShort(l,u+2),h.y=f.readShort(l,u+4),h},e.GSUB={},e.GSUB.parse=function(l,u,f,h){return e._lctf.parse(l,u,f,h,e.GSUB.subt)},e.GSUB.subt=function(l,u,f,h){var d=e._bin,p=f,m={};if(m.fmt=d.readUshort(l,f),f+=2,u!=1&&u!=2&&u!=4&&u!=5&&u!=6)return null;if(u==1||u==2||u==4||u==5&&m.fmt<=2||u==6&&m.fmt<=2){var v=d.readUshort(l,f);f+=2,m.coverage=e._lctf.readCoverage(l,p+v)}if(u==1&&m.fmt>=1&&m.fmt<=2){if(m.fmt==1)m.delta=d.readShort(l,f),f+=2;else if(m.fmt==2){var _=d.readUshort(l,f);f+=2,m.newg=d.readUshorts(l,f,_),f+=2*m.newg.length}}else if(u==2&&m.fmt==1){_=d.readUshort(l,f),f+=2,m.seqs=[];for(var S=0;S<_;S++){var M=d.readUshort(l,f)+p;f+=2;var A=d.readUshort(l,M);m.seqs.push(d.readUshorts(l,M+2,A))}}else if(u==4)for(m.vals=[],_=d.readUshort(l,f),f+=2,S=0;S<_;S++){var w=d.readUshort(l,f);f+=2,m.vals.push(e.GSUB.readLigatureSet(l,p+w))}else if(u==5&&m.fmt==2){if(m.fmt==2){var C=d.readUshort(l,f);f+=2,m.cDef=e._lctf.readClassDef(l,p+C),m.scset=[];var O=d.readUshort(l,f);for(f+=2,S=0;S<O;S++){var L=d.readUshort(l,f);f+=2,m.scset.push(L==0?null:e.GSUB.readSubClassSet(l,p+L))}}}else if(u==6&&m.fmt==3){if(m.fmt==3){for(S=0;S<3;S++){_=d.readUshort(l,f),f+=2;for(var F=[],$=0;$<_;$++)F.push(e._lctf.readCoverage(l,p+d.readUshort(l,f+2*$)));f+=2*_,S==0&&(m.backCvg=F),S==1&&(m.inptCvg=F),S==2&&(m.ahedCvg=F)}_=d.readUshort(l,f),f+=2,m.lookupRec=e.GSUB.readSubstLookupRecords(l,f,_)}}else{if(u==7&&m.fmt==1){var B=d.readUshort(l,f);f+=2;var U=d.readUint(l,f);if(f+=4,h.ltype==9)h.ltype=B;else if(h.ltype!=B)throw"invalid extension substitution";return e.GSUB.subt(l,h.ltype,p+U)}console.debug("unsupported GSUB table LookupType",u,"format",m.fmt)}return m},e.GSUB.readSubClassSet=function(l,u){var f=e._bin.readUshort,h=u,d=[],p=f(l,u);u+=2;for(var m=0;m<p;m++){var v=f(l,u);u+=2,d.push(e.GSUB.readSubClassRule(l,h+v))}return d},e.GSUB.readSubClassRule=function(l,u){var f=e._bin.readUshort,h={},d=f(l,u),p=f(l,u+=2);u+=2,h.input=[];for(var m=0;m<d-1;m++)h.input.push(f(l,u)),u+=2;return h.substLookupRecords=e.GSUB.readSubstLookupRecords(l,u,p),h},e.GSUB.readSubstLookupRecords=function(l,u,f){for(var h=e._bin.readUshort,d=[],p=0;p<f;p++)d.push(h(l,u),h(l,u+2)),u+=4;return d},e.GSUB.readChainSubClassSet=function(l,u){var f=e._bin,h=u,d=[],p=f.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=f.readUshort(l,u);u+=2,d.push(e.GSUB.readChainSubClassRule(l,h+v))}return d},e.GSUB.readChainSubClassRule=function(l,u){for(var f=e._bin,h={},d=["backtrack","input","lookahead"],p=0;p<d.length;p++){var m=f.readUshort(l,u);u+=2,p==1&&m--,h[d[p]]=f.readUshorts(l,u,m),u+=2*h[d[p]].length}return m=f.readUshort(l,u),u+=2,h.subst=f.readUshorts(l,u,2*m),u+=2*h.subst.length,h},e.GSUB.readLigatureSet=function(l,u){var f=e._bin,h=u,d=[],p=f.readUshort(l,u);u+=2;for(var m=0;m<p;m++){var v=f.readUshort(l,u);u+=2,d.push(e.GSUB.readLigature(l,h+v))}return d},e.GSUB.readLigature=function(l,u){var f=e._bin,h={chain:[]};h.nglyph=f.readUshort(l,u),u+=2;var d=f.readUshort(l,u);u+=2;for(var p=0;p<d-1;p++)h.chain.push(f.readUshort(l,u)),u+=2;return h},e.head={},e.head.parse=function(l,u,f){var h=e._bin,d={};return h.readFixed(l,u),u+=4,d.fontRevision=h.readFixed(l,u),u+=4,h.readUint(l,u),u+=4,h.readUint(l,u),u+=4,d.flags=h.readUshort(l,u),u+=2,d.unitsPerEm=h.readUshort(l,u),u+=2,d.created=h.readUint64(l,u),u+=8,d.modified=h.readUint64(l,u),u+=8,d.xMin=h.readShort(l,u),u+=2,d.yMin=h.readShort(l,u),u+=2,d.xMax=h.readShort(l,u),u+=2,d.yMax=h.readShort(l,u),u+=2,d.macStyle=h.readUshort(l,u),u+=2,d.lowestRecPPEM=h.readUshort(l,u),u+=2,d.fontDirectionHint=h.readShort(l,u),u+=2,d.indexToLocFormat=h.readShort(l,u),u+=2,d.glyphDataFormat=h.readShort(l,u),u+=2,d},e.hhea={},e.hhea.parse=function(l,u,f){var h=e._bin,d={};return h.readFixed(l,u),u+=4,d.ascender=h.readShort(l,u),u+=2,d.descender=h.readShort(l,u),u+=2,d.lineGap=h.readShort(l,u),u+=2,d.advanceWidthMax=h.readUshort(l,u),u+=2,d.minLeftSideBearing=h.readShort(l,u),u+=2,d.minRightSideBearing=h.readShort(l,u),u+=2,d.xMaxExtent=h.readShort(l,u),u+=2,d.caretSlopeRise=h.readShort(l,u),u+=2,d.caretSlopeRun=h.readShort(l,u),u+=2,d.caretOffset=h.readShort(l,u),u+=2,u+=8,d.metricDataFormat=h.readShort(l,u),u+=2,d.numberOfHMetrics=h.readUshort(l,u),u+=2,d},e.hmtx={},e.hmtx.parse=function(l,u,f,h){for(var d=e._bin,p={aWidth:[],lsBearing:[]},m=0,v=0,_=0;_<h.maxp.numGlyphs;_++)_<h.hhea.numberOfHMetrics&&(m=d.readUshort(l,u),u+=2,v=d.readShort(l,u),u+=2),p.aWidth.push(m),p.lsBearing.push(v);return p},e.kern={},e.kern.parse=function(l,u,f,h){var d=e._bin,p=d.readUshort(l,u);if(u+=2,p==1)return e.kern.parseV1(l,u-2,f,h);var m=d.readUshort(l,u);u+=2;for(var v={glyph1:[],rval:[]},_=0;_<m;_++){u+=2,f=d.readUshort(l,u),u+=2;var S=d.readUshort(l,u);u+=2;var M=S>>>8;if((M&=15)!=0)throw"unknown kern table format: "+M;u=e.kern.readFormat0(l,u,v)}return v},e.kern.parseV1=function(l,u,f,h){var d=e._bin;d.readFixed(l,u),u+=4;var p=d.readUint(l,u);u+=4;for(var m={glyph1:[],rval:[]},v=0;v<p;v++){d.readUint(l,u),u+=4;var _=d.readUshort(l,u);u+=2,d.readUshort(l,u),u+=2;var S=_>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;u=e.kern.readFormat0(l,u,m)}return m},e.kern.readFormat0=function(l,u,f){var h=e._bin,d=-1,p=h.readUshort(l,u);u+=2,h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2,h.readUshort(l,u),u+=2;for(var m=0;m<p;m++){var v=h.readUshort(l,u);u+=2;var _=h.readUshort(l,u);u+=2;var S=h.readShort(l,u);u+=2,v!=d&&(f.glyph1.push(v),f.rval.push({glyph2:[],vals:[]}));var M=f.rval[f.rval.length-1];M.glyph2.push(_),M.vals.push(S),d=v}return u},e.loca={},e.loca.parse=function(l,u,f,h){var d=e._bin,p=[],m=h.head.indexToLocFormat,v=h.maxp.numGlyphs+1;if(m==0)for(var _=0;_<v;_++)p.push(d.readUshort(l,u+(_<<1))<<1);if(m==1)for(_=0;_<v;_++)p.push(d.readUint(l,u+(_<<2)));return p},e.maxp={},e.maxp.parse=function(l,u,f){var h=e._bin,d={},p=h.readUint(l,u);return u+=4,d.numGlyphs=h.readUshort(l,u),u+=2,p==65536&&(d.maxPoints=h.readUshort(l,u),u+=2,d.maxContours=h.readUshort(l,u),u+=2,d.maxCompositePoints=h.readUshort(l,u),u+=2,d.maxCompositeContours=h.readUshort(l,u),u+=2,d.maxZones=h.readUshort(l,u),u+=2,d.maxTwilightPoints=h.readUshort(l,u),u+=2,d.maxStorage=h.readUshort(l,u),u+=2,d.maxFunctionDefs=h.readUshort(l,u),u+=2,d.maxInstructionDefs=h.readUshort(l,u),u+=2,d.maxStackElements=h.readUshort(l,u),u+=2,d.maxSizeOfInstructions=h.readUshort(l,u),u+=2,d.maxComponentElements=h.readUshort(l,u),u+=2,d.maxComponentDepth=h.readUshort(l,u),u+=2),d},e.name={},e.name.parse=function(l,u,f){var h=e._bin,d={};h.readUshort(l,u),u+=2;var p=h.readUshort(l,u);u+=2,h.readUshort(l,u);for(var m,v=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],_=u+=2,S=0;S<p;S++){var M=h.readUshort(l,u);u+=2;var A=h.readUshort(l,u);u+=2;var w=h.readUshort(l,u);u+=2;var C=h.readUshort(l,u);u+=2;var O=h.readUshort(l,u);u+=2;var L=h.readUshort(l,u);u+=2;var F,$=v[C],B=_+12*p+L;if(M==0)F=h.readUnicode(l,B,O/2);else if(M==3&&A==0)F=h.readUnicode(l,B,O/2);else if(A==0)F=h.readASCII(l,B,O);else if(A==1)F=h.readUnicode(l,B,O/2);else if(A==3)F=h.readUnicode(l,B,O/2);else{if(M!=1)throw"unknown encoding "+A+", platformID: "+M;F=h.readASCII(l,B,O),console.debug("reading unknown MAC encoding "+A+" as ASCII")}var U="p"+M+","+w.toString(16);d[U]==null&&(d[U]={}),d[U][$!==void 0?$:C]=F,d[U]._lang=w}for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==1033)return d[q];for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==0)return d[q];for(var q in d)if(d[q].postScriptName!=null&&d[q]._lang==3084)return d[q];for(var q in d)if(d[q].postScriptName!=null)return d[q];for(var q in d){m=q;break}return console.debug("returning name table with languageID "+d[m]._lang),d[m]},e["OS/2"]={},e["OS/2"].parse=function(l,u,f){var h=e._bin.readUshort(l,u);u+=2;var d={};if(h==0)e["OS/2"].version0(l,u,d);else if(h==1)e["OS/2"].version1(l,u,d);else if(h==2||h==3||h==4)e["OS/2"].version2(l,u,d);else{if(h!=5)throw"unknown OS/2 table version: "+h;e["OS/2"].version5(l,u,d)}return d},e["OS/2"].version0=function(l,u,f){var h=e._bin;return f.xAvgCharWidth=h.readShort(l,u),u+=2,f.usWeightClass=h.readUshort(l,u),u+=2,f.usWidthClass=h.readUshort(l,u),u+=2,f.fsType=h.readUshort(l,u),u+=2,f.ySubscriptXSize=h.readShort(l,u),u+=2,f.ySubscriptYSize=h.readShort(l,u),u+=2,f.ySubscriptXOffset=h.readShort(l,u),u+=2,f.ySubscriptYOffset=h.readShort(l,u),u+=2,f.ySuperscriptXSize=h.readShort(l,u),u+=2,f.ySuperscriptYSize=h.readShort(l,u),u+=2,f.ySuperscriptXOffset=h.readShort(l,u),u+=2,f.ySuperscriptYOffset=h.readShort(l,u),u+=2,f.yStrikeoutSize=h.readShort(l,u),u+=2,f.yStrikeoutPosition=h.readShort(l,u),u+=2,f.sFamilyClass=h.readShort(l,u),u+=2,f.panose=h.readBytes(l,u,10),u+=10,f.ulUnicodeRange1=h.readUint(l,u),u+=4,f.ulUnicodeRange2=h.readUint(l,u),u+=4,f.ulUnicodeRange3=h.readUint(l,u),u+=4,f.ulUnicodeRange4=h.readUint(l,u),u+=4,f.achVendID=[h.readInt8(l,u),h.readInt8(l,u+1),h.readInt8(l,u+2),h.readInt8(l,u+3)],u+=4,f.fsSelection=h.readUshort(l,u),u+=2,f.usFirstCharIndex=h.readUshort(l,u),u+=2,f.usLastCharIndex=h.readUshort(l,u),u+=2,f.sTypoAscender=h.readShort(l,u),u+=2,f.sTypoDescender=h.readShort(l,u),u+=2,f.sTypoLineGap=h.readShort(l,u),u+=2,f.usWinAscent=h.readUshort(l,u),u+=2,f.usWinDescent=h.readUshort(l,u),u+=2},e["OS/2"].version1=function(l,u,f){var h=e._bin;return u=e["OS/2"].version0(l,u,f),f.ulCodePageRange1=h.readUint(l,u),u+=4,f.ulCodePageRange2=h.readUint(l,u),u+=4},e["OS/2"].version2=function(l,u,f){var h=e._bin;return u=e["OS/2"].version1(l,u,f),f.sxHeight=h.readShort(l,u),u+=2,f.sCapHeight=h.readShort(l,u),u+=2,f.usDefault=h.readUshort(l,u),u+=2,f.usBreak=h.readUshort(l,u),u+=2,f.usMaxContext=h.readUshort(l,u),u+=2},e["OS/2"].version5=function(l,u,f){var h=e._bin;return u=e["OS/2"].version2(l,u,f),f.usLowerOpticalPointSize=h.readUshort(l,u),u+=2,f.usUpperOpticalPointSize=h.readUshort(l,u),u+=2},e.post={},e.post.parse=function(l,u,f){var h=e._bin,d={};return d.version=h.readFixed(l,u),u+=4,d.italicAngle=h.readFixed(l,u),u+=4,d.underlinePosition=h.readShort(l,u),u+=2,d.underlineThickness=h.readShort(l,u),u+=2,d},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(l,u){var f=l.cmap,h=-1;if(f.p0e4!=null?h=f.p0e4:f.p3e1!=null?h=f.p3e1:f.p1e0!=null?h=f.p1e0:f.p0e3!=null&&(h=f.p0e3),h==-1)throw"no familiar platform and encoding!";var d=f.tables[h];if(d.format==0)return u>=d.map.length?0:d.map[u];if(d.format==4){for(var p=-1,m=0;m<d.endCount.length;m++)if(u<=d.endCount[m]){p=m;break}return p==-1||d.startCount[p]>u?0:65535&(d.idRangeOffset[p]!=0?d.glyphIdArray[u-d.startCount[p]+(d.idRangeOffset[p]>>1)-(d.idRangeOffset.length-p)]:u+d.idDelta[p])}if(d.format==12){if(u>d.groups[d.groups.length-1][1])return 0;for(m=0;m<d.groups.length;m++){var v=d.groups[m];if(v[0]<=u&&u<=v[1])return v[2]+(u-v[0])}return 0}throw"unknown cmap table format "+d.format},e.U.glyphToPath=function(l,u){var f={cmds:[],crds:[]};if(l.SVG&&l.SVG.entries[u]){var h=l.SVG.entries[u];return h==null?f:(typeof h=="string"&&(h=e.SVG.toPath(h),l.SVG.entries[u]=h),h)}if(l.CFF){var d={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:l.CFF.Private?l.CFF.Private.defaultWidthX:0,open:!1},p=l.CFF,m=l.CFF.Private;if(p.ROS){for(var v=0;p.FDSelect[v+2]<=u;)v+=2;m=p.FDArray[p.FDSelect[v+1]].Private}e.U._drawCFF(l.CFF.CharStrings[u],d,p,m,f)}else l.glyf&&e.U._drawGlyf(u,l,f);return f},e.U._drawGlyf=function(l,u,f){var h=u.glyf[l];h==null&&(h=u.glyf[l]=e.glyf._parseGlyf(u,l)),h!=null&&(h.noc>-1?e.U._simpleGlyph(h,f):e.U._compoGlyph(h,u,f))},e.U._simpleGlyph=function(l,u){for(var f=0;f<l.noc;f++){for(var h=f==0?0:l.endPts[f-1]+1,d=l.endPts[f],p=h;p<=d;p++){var m=p==h?d:p-1,v=p==d?h:p+1,_=1&l.flags[p],S=1&l.flags[m],M=1&l.flags[v],A=l.xs[p],w=l.ys[p];if(p==h)if(_){if(!S){e.U.P.moveTo(u,A,w);continue}e.U.P.moveTo(u,l.xs[m],l.ys[m])}else S?e.U.P.moveTo(u,l.xs[m],l.ys[m]):e.U.P.moveTo(u,(l.xs[m]+A)/2,(l.ys[m]+w)/2);_?S&&e.U.P.lineTo(u,A,w):M?e.U.P.qcurveTo(u,A,w,l.xs[v],l.ys[v]):e.U.P.qcurveTo(u,A,w,(A+l.xs[v])/2,(w+l.ys[v])/2)}e.U.P.closePath(u)}},e.U._compoGlyph=function(l,u,f){for(var h=0;h<l.parts.length;h++){var d={cmds:[],crds:[]},p=l.parts[h];e.U._drawGlyf(p.glyphIndex,u,d);for(var m=p.m,v=0;v<d.crds.length;v+=2){var _=d.crds[v],S=d.crds[v+1];f.crds.push(_*m.a+S*m.b+m.tx),f.crds.push(_*m.c+S*m.d+m.ty)}for(v=0;v<d.cmds.length;v++)f.cmds.push(d.cmds[v])}},e.U._getGlyphClass=function(l,u){var f=e._lctf.getInterval(u,l);return f==-1?0:u[f+2]},e.U._applySubs=function(l,u,f,h){for(var d=l.length-u-1,p=0;p<f.tabs.length;p++)if(f.tabs[p]!=null){var m,v=f.tabs[p];if(!v.coverage||(m=e._lctf.coverageIndex(v.coverage,l[u]))!=-1){if(f.ltype==1)l[u],v.fmt==1?l[u]=l[u]+v.delta:l[u]=v.newg[m];else if(f.ltype==4)for(var _=v.vals[m],S=0;S<_.length;S++){var M=_[S],A=M.chain.length;if(!(A>d)){for(var w=!0,C=0,O=0;O<A;O++){for(;l[u+C+(1+O)]==-1;)C++;M.chain[O]!=l[u+C+(1+O)]&&(w=!1)}if(w){for(l[u]=M.nglyph,O=0;O<A+C;O++)l[u+O+1]=-1;break}}}else if(f.ltype==5&&v.fmt==2)for(var L=e._lctf.getInterval(v.cDef,l[u]),F=v.cDef[L+2],$=v.scset[F],B=0;B<$.length;B++){var U=$[B],q=U.input;if(!(q.length>d)){for(w=!0,O=0;O<q.length;O++){var Z=e._lctf.getInterval(v.cDef,l[u+1+O]);if(L==-1&&v.cDef[Z+2]!=q[O]){w=!1;break}}if(w){var G=U.substLookupRecords;for(S=0;S<G.length;S+=2)G[S],G[S+1]}}}else if(f.ltype==6&&v.fmt==3){if(!e.U._glsCovered(l,v.backCvg,u-v.backCvg.length)||!e.U._glsCovered(l,v.inptCvg,u)||!e.U._glsCovered(l,v.ahedCvg,u+v.inptCvg.length))continue;var H=v.lookupRec;for(B=0;B<H.length;B+=2){L=H[B];var ne=h[H[B+1]];e.U._applySubs(l,u+L,ne,h)}}}}},e.U._glsCovered=function(l,u,f){for(var h=0;h<u.length;h++)if(e._lctf.coverageIndex(u[h],l[f+h])==-1)return!1;return!0},e.U.glyphsToPath=function(l,u,f){for(var h={cmds:[],crds:[]},d=0,p=0;p<u.length;p++){var m=u[p];if(m!=-1){for(var v=p<u.length-1&&u[p+1]!=-1?u[p+1]:0,_=e.U.glyphToPath(l,m),S=0;S<_.crds.length;S+=2)h.crds.push(_.crds[S]+d),h.crds.push(_.crds[S+1]);for(f&&h.cmds.push(f),S=0;S<_.cmds.length;S++)h.cmds.push(_.cmds[S]);f&&h.cmds.push("X"),d+=l.hmtx.aWidth[m],p<u.length-1&&(d+=e.U.getPairAdjustment(l,m,v))}}return h},e.U.P={},e.U.P.moveTo=function(l,u,f){l.cmds.push("M"),l.crds.push(u,f)},e.U.P.lineTo=function(l,u,f){l.cmds.push("L"),l.crds.push(u,f)},e.U.P.curveTo=function(l,u,f,h,d,p,m){l.cmds.push("C"),l.crds.push(u,f,h,d,p,m)},e.U.P.qcurveTo=function(l,u,f,h,d){l.cmds.push("Q"),l.crds.push(u,f,h,d)},e.U.P.closePath=function(l){l.cmds.push("Z")},e.U._drawCFF=function(l,u,f,h,d){for(var p=u.stack,m=u.nStems,v=u.haveWidth,_=u.width,S=u.open,M=0,A=u.x,w=u.y,C=0,O=0,L=0,F=0,$=0,B=0,U=0,q=0,Z=0,G=0,H={val:0,size:0};M<l.length;){e.CFF.getCharString(l,M,H);var ne=H.val;if(M+=H.size,ne=="o1"||ne=="o18")p.length%2!=0&&!v&&(_=p.shift()+h.nominalWidthX),m+=p.length>>1,p.length=0,v=!0;else if(ne=="o3"||ne=="o23")p.length%2!=0&&!v&&(_=p.shift()+h.nominalWidthX),m+=p.length>>1,p.length=0,v=!0;else if(ne=="o4")p.length>1&&!v&&(_=p.shift()+h.nominalWidthX,v=!0),S&&e.U.P.closePath(d),w+=p.pop(),e.U.P.moveTo(d,A,w),S=!0;else if(ne=="o5")for(;p.length>0;)A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w);else if(ne=="o6"||ne=="o7")for(var ae=p.length,te=ne=="o6",ce=0;ce<ae;ce++){var fe=p.shift();te?A+=fe:w+=fe,te=!te,e.U.P.lineTo(d,A,w)}else if(ne=="o8"||ne=="o24"){ae=p.length;for(var ye=0;ye+6<=ae;)C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w),ye+=6;ne=="o24"&&(A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w))}else{if(ne=="o11")break;if(ne=="o1234"||ne=="o1235"||ne=="o1236"||ne=="o1237")ne=="o1234"&&(O=w,L=(C=A+p.shift())+p.shift(),G=F=O+p.shift(),B=F,q=w,A=(U=($=(Z=L+p.shift())+p.shift())+p.shift())+p.shift(),e.U.P.curveTo(d,C,O,L,F,Z,G),e.U.P.curveTo(d,$,B,U,q,A,w)),ne=="o1235"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),Z=L+p.shift(),G=F+p.shift(),$=Z+p.shift(),B=G+p.shift(),U=$+p.shift(),q=B+p.shift(),A=U+p.shift(),w=q+p.shift(),p.shift(),e.U.P.curveTo(d,C,O,L,F,Z,G),e.U.P.curveTo(d,$,B,U,q,A,w)),ne=="o1236"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),G=F=O+p.shift(),B=F,U=($=(Z=L+p.shift())+p.shift())+p.shift(),q=B+p.shift(),A=U+p.shift(),e.U.P.curveTo(d,C,O,L,F,Z,G),e.U.P.curveTo(d,$,B,U,q,A,w)),ne=="o1237"&&(C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),Z=L+p.shift(),G=F+p.shift(),$=Z+p.shift(),B=G+p.shift(),U=$+p.shift(),q=B+p.shift(),Math.abs(U-A)>Math.abs(q-w)?A=U+p.shift():w=q+p.shift(),e.U.P.curveTo(d,C,O,L,F,Z,G),e.U.P.curveTo(d,$,B,U,q,A,w));else if(ne=="o14"){if(p.length>0&&!v&&(_=p.shift()+f.nominalWidthX,v=!0),p.length==4){var J=p.shift(),oe=p.shift(),se=p.shift(),Q=p.shift(),ue=e.CFF.glyphBySE(f,se),_e=e.CFF.glyphBySE(f,Q);e.U._drawCFF(f.CharStrings[ue],u,f,h,d),u.x=J,u.y=oe,e.U._drawCFF(f.CharStrings[_e],u,f,h,d)}S&&(e.U.P.closePath(d),S=!1)}else if(ne=="o19"||ne=="o20")p.length%2!=0&&!v&&(_=p.shift()+h.nominalWidthX),m+=p.length>>1,p.length=0,v=!0,M+=m+7>>3;else if(ne=="o21")p.length>2&&!v&&(_=p.shift()+h.nominalWidthX,v=!0),w+=p.pop(),A+=p.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,A,w),S=!0;else if(ne=="o22")p.length>1&&!v&&(_=p.shift()+h.nominalWidthX,v=!0),A+=p.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,A,w),S=!0;else if(ne=="o25"){for(;p.length>6;)A+=p.shift(),w+=p.shift(),e.U.P.lineTo(d,A,w);C=A+p.shift(),O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w)}else if(ne=="o26")for(p.length%2&&(A+=p.shift());p.length>0;)C=A,O=w+p.shift(),A=L=C+p.shift(),w=(F=O+p.shift())+p.shift(),e.U.P.curveTo(d,C,O,L,F,A,w);else if(ne=="o27")for(p.length%2&&(w+=p.shift());p.length>0;)O=w,L=(C=A+p.shift())+p.shift(),F=O+p.shift(),A=L+p.shift(),w=F,e.U.P.curveTo(d,C,O,L,F,A,w);else if(ne=="o10"||ne=="o29"){var ge=ne=="o10"?h:f;if(p.length==0)console.debug("error: empty stack");else{var ve=p.pop(),we=ge.Subrs[ve+ge.Bias];u.x=A,u.y=w,u.nStems=m,u.haveWidth=v,u.width=_,u.open=S,e.U._drawCFF(we,u,f,h,d),A=u.x,w=u.y,m=u.nStems,v=u.haveWidth,_=u.width,S=u.open}}else if(ne=="o30"||ne=="o31"){var Pe=p.length,Re=(ye=0,ne=="o31");for(ye+=Pe-(ae=-3&Pe);ye<ae;)Re?(O=w,L=(C=A+p.shift())+p.shift(),w=(F=O+p.shift())+p.shift(),ae-ye==5?(A=L+p.shift(),ye++):A=L,Re=!1):(C=A,O=w+p.shift(),L=C+p.shift(),F=O+p.shift(),A=L+p.shift(),ae-ye==5?(w=F+p.shift(),ye++):w=F,Re=!0),e.U.P.curveTo(d,C,O,L,F,A,w),ye+=4}else{if((ne+"").charAt(0)=="o")throw console.debug("Unknown operation: "+ne,l),ne;p.push(ne)}}}u.x=A,u.y=w,u.nStems=m,u.haveWidth=v,u.width=_,u.open=S};var n=e,o={Typr:n};return t.Typr=n,t.default=o,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(t){var e=Uint8Array,n=Uint16Array,o=Uint32Array,l=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(ne,ae){for(var te=new n(31),ce=0;ce<31;++ce)te[ce]=ae+=1<<ne[ce-1];var fe=new o(te[30]);for(ce=1;ce<30;++ce)for(var ye=te[ce];ye<te[ce+1];++ye)fe[ye]=ye-te[ce]<<5|ce;return[te,fe]},d=h(l,2),p=d[0],m=d[1];p[28]=258,m[258]=28;for(var v=h(u,0)[0],_=new n(32768),S=0;S<32768;++S){var M=(43690&S)>>>1|(21845&S)<<1;M=(61680&(M=(52428&M)>>>2|(13107&M)<<2))>>>4|(3855&M)<<4,_[S]=((65280&M)>>>8|(255&M)<<8)>>>1}var A=function(ne,ae,te){for(var ce=ne.length,fe=0,ye=new n(ae);fe<ce;++fe)++ye[ne[fe]-1];var J,oe=new n(ae);for(fe=0;fe<ae;++fe)oe[fe]=oe[fe-1]+ye[fe-1]<<1;{J=new n(1<<ae);var se=15-ae;for(fe=0;fe<ce;++fe)if(ne[fe])for(var Q=fe<<4|ne[fe],ue=ae-ne[fe],_e=oe[ne[fe]-1]++<<ue,ge=_e|(1<<ue)-1;_e<=ge;++_e)J[_[_e]>>>se]=Q}return J},w=new e(288);for(S=0;S<144;++S)w[S]=8;for(S=144;S<256;++S)w[S]=9;for(S=256;S<280;++S)w[S]=7;for(S=280;S<288;++S)w[S]=8;var C=new e(32);for(S=0;S<32;++S)C[S]=5;var O=A(w,9),L=A(C,5),F=function(ne){for(var ae=ne[0],te=1;te<ne.length;++te)ne[te]>ae&&(ae=ne[te]);return ae},$=function(ne,ae,te){var ce=ae/8|0;return(ne[ce]|ne[ce+1]<<8)>>(7&ae)&te},B=function(ne,ae){var te=ae/8|0;return(ne[te]|ne[te+1]<<8|ne[te+2]<<16)>>(7&ae)},U=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],q=function(ne,ae,te){var ce=new Error(ae||U[ne]);if(ce.code=ne,Error.captureStackTrace&&Error.captureStackTrace(ce,q),!te)throw ce;return ce},Z=function(ne,ae,te){var ce=ne.length;if(!ce||te&&!te.l&&ce<5)return ae||new e(0);var fe=!ae||te,ye=!te||te.i;te||(te={}),ae||(ae=new e(3*ce));var J,oe=function(pt){var Se=ae.length;if(pt>Se){var We=new e(Math.max(2*Se,pt));We.set(ae),ae=We}},se=te.f||0,Q=te.p||0,ue=te.b||0,_e=te.l,ge=te.d,ve=te.m,we=te.n,Pe=8*ce;do{if(!_e){te.f=se=$(ne,Q,1);var Re=$(ne,Q+1,3);if(Q+=3,!Re){var Ae=ne[(ot=((J=Q)/8|0)+(7&J&&1)+4)-4]|ne[ot-3]<<8,Ne=ot+Ae;if(Ne>ce){ye&&q(0);break}fe&&oe(ue+Ae),ae.set(ne.subarray(ot,Ne),ue),te.b=ue+=Ae,te.p=Q=8*Ne;continue}if(Re==1)_e=O,ge=L,ve=9,we=5;else if(Re==2){var Ie=$(ne,Q,31)+257,he=$(ne,Q+10,15)+4,ke=Ie+$(ne,Q+5,31)+1;Q+=14;for(var Me=new e(ke),je=new e(19),Fe=0;Fe<he;++Fe)je[f[Fe]]=$(ne,Q+3*Fe,7);Q+=3*he;var Qe=F(je),Ve=(1<<Qe)-1,Je=A(je,Qe);for(Fe=0;Fe<ke;){var ot,pe=Je[$(ne,Q,Ve)];if(Q+=15&pe,(ot=pe>>>4)<16)Me[Fe++]=ot;else{var de=0,Oe=0;for(ot==16?(Oe=3+$(ne,Q,3),Q+=2,de=Me[Fe-1]):ot==17?(Oe=3+$(ne,Q,7),Q+=3):ot==18&&(Oe=11+$(ne,Q,127),Q+=7);Oe--;)Me[Fe++]=de}}var De=Me.subarray(0,Ie),Ue=Me.subarray(Ie);ve=F(De),we=F(Ue),_e=A(De,ve),ge=A(Ue,we)}else q(1);if(Q>Pe){ye&&q(0);break}}fe&&oe(ue+131072);for(var tt=(1<<ve)-1,ut=(1<<we)-1,mt=Q;;mt=Q){var it=(de=_e[B(ne,Q)&tt])>>>4;if((Q+=15&de)>Pe){ye&&q(0);break}if(de||q(2),it<256)ae[ue++]=it;else{if(it==256){mt=Q,_e=null;break}var ht=it-254;if(it>264){var Et=l[Fe=it-257];ht=$(ne,Q,(1<<Et)-1)+p[Fe],Q+=Et}var dt=ge[B(ne,Q)&ut],It=dt>>>4;if(dt||q(3),Q+=15&dt,Ue=v[It],It>3&&(Et=u[It],Ue+=B(ne,Q)&(1<<Et)-1,Q+=Et),Q>Pe){ye&&q(0);break}fe&&oe(ue+131072);for(var bt=ue+ht;ue<bt;ue+=4)ae[ue]=ae[ue-Ue],ae[ue+1]=ae[ue+1-Ue],ae[ue+2]=ae[ue+2-Ue],ae[ue+3]=ae[ue+3-Ue];ue=bt}}te.l=_e,te.p=mt,te.b=ue,_e&&(se=1,te.m=ve,te.d=ge,te.n=we)}while(!se);return ue==ae.length?ae:function(pt,Se,We){(We==null||We>pt.length)&&(We=pt.length);var xe=new(pt instanceof n?n:pt instanceof o?o:e)(We-Se);return xe.set(pt.subarray(Se,We)),xe}(ae,0,ue)},G=new e(0),H=typeof TextDecoder<"u"&&new TextDecoder;try{H.decode(G,{stream:!0})}catch{}return t.convert_streams=function(ne){var ae=new DataView(ne),te=0;function ce(){var Ie=ae.getUint16(te);return te+=2,Ie}function fe(){var Ie=ae.getUint32(te);return te+=4,Ie}function ye(Ie){Ae.setUint16(Ne,Ie),Ne+=2}function J(Ie){Ae.setUint32(Ne,Ie),Ne+=4}for(var oe={signature:fe(),flavor:fe(),length:fe(),numTables:ce(),reserved:ce(),totalSfntSize:fe(),majorVersion:ce(),minorVersion:ce(),metaOffset:fe(),metaLength:fe(),metaOrigLength:fe(),privOffset:fe(),privLength:fe()},se=0;Math.pow(2,se)<=oe.numTables;)se++;se--;for(var Q=16*Math.pow(2,se),ue=16*oe.numTables-Q,_e=12,ge=[],ve=0;ve<oe.numTables;ve++)ge.push({tag:fe(),offset:fe(),compLength:fe(),origLength:fe(),origChecksum:fe()}),_e+=16;var we,Pe=new Uint8Array(12+16*ge.length+ge.reduce(function(Ie,he){return Ie+he.origLength+4},0)),Re=Pe.buffer,Ae=new DataView(Re),Ne=0;return J(oe.flavor),ye(oe.numTables),ye(Q),ye(se),ye(ue),ge.forEach(function(Ie){J(Ie.tag),J(Ie.origChecksum),J(_e),J(Ie.origLength),Ie.outOffset=_e,(_e+=Ie.origLength)%4!=0&&(_e+=4-_e%4)}),ge.forEach(function(Ie){var he,ke=ne.slice(Ie.offset,Ie.offset+Ie.compLength);if(Ie.compLength!=Ie.origLength){var Me=new Uint8Array(Ie.origLength);he=new Uint8Array(ke,2),Z(he,Me)}else Me=new Uint8Array(ke);Pe.set(Me,Ie.outOffset);var je=0;(_e=Ie.outOffset+Ie.origLength)%4!=0&&(je=4-_e%4),Pe.set(new Uint8Array(je).buffer,Ie.outOffset+Ie.origLength),we=_e+je}),Re.slice(0,we)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function parserFactory(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},o={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},l=1,u=2,f=4,h=8,d=16,p=32;let m;function v(U){if(!m){const q={R:u,L:l,D:f,C:d,U:p,T:h};m=new Map;for(let Z in o){let G=0;o[Z].split(",").forEach(H=>{let[ne,ae]=H.split("+");ne=parseInt(ne,36),ae=ae?parseInt(ae,36):0,m.set(G+=ne,q[Z]);for(let te=ae;te--;)m.set(++G,q[Z])})}}return m.get(U)||p}const _=1,S=2,M=3,A=4,w=[null,"isol","init","fina","medi"];function C(U){const q=new Uint8Array(U.length);let Z=p,G=_,H=-1;for(let ne=0;ne<U.length;ne++){const ae=U.codePointAt(ne);let te=v(ae)|0,ce=_;te&h||(Z&(l|f|d)?te&(u|f|d)?(ce=M,(G===_||G===M)&&q[H]++):te&(l|p)&&(G===S||G===A)&&q[H]--:Z&(u|p)&&(G===S||G===A)&&q[H]--,G=q[ne]=ce,Z=te,H=ne,ae>65535&&ne++)}return q}function O(U,q){const Z=[];for(let H=0;H<q.length;H++){const ne=q.codePointAt(H);ne>65535&&H++,Z.push(t.U.codeToGlyph(U,ne))}const G=U.GSUB;if(G){const{lookupList:H,featureList:ne}=G;let ae;const te=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ce=[];ne.forEach(fe=>{if(te.test(fe.tag))for(let ye=0;ye<fe.tab.length;ye++){if(ce[fe.tab[ye]])continue;ce[fe.tab[ye]]=!0;const J=H[fe.tab[ye]],oe=/^(isol|init|fina|medi)$/.test(fe.tag);oe&&!ae&&(ae=C(q));for(let se=0;se<Z.length;se++)(!ae||!oe||w[ae[se]]===fe.tag)&&t.U._applySubs(Z,se,J,H)}})}return Z}function L(U,q){const Z=new Int16Array(q.length*3);let G=0;for(;G<q.length;G++){const te=q[G];if(te===-1)continue;Z[G*3+2]=U.hmtx.aWidth[te];const ce=U.GPOS;if(ce){const fe=ce.lookupList;for(let ye=0;ye<fe.length;ye++){const J=fe[ye];for(let oe=0;oe<J.tabs.length;oe++){const se=J.tabs[oe];if(J.ltype===1){if(t._lctf.coverageIndex(se.coverage,te)!==-1&&se.pos){ae(se.pos,G);break}}else if(J.ltype===2){let Q=null,ue=H();if(ue!==-1){const _e=t._lctf.coverageIndex(se.coverage,q[ue]);if(_e!==-1){if(se.fmt===1){const ge=se.pairsets[_e];for(let ve=0;ve<ge.length;ve++)ge[ve].gid2===te&&(Q=ge[ve])}else if(se.fmt===2){const ge=t.U._getGlyphClass(q[ue],se.classDef1),ve=t.U._getGlyphClass(te,se.classDef2);Q=se.matrix[ge][ve]}if(Q){Q.val1&&ae(Q.val1,ue),Q.val2&&ae(Q.val2,G);break}}}}else if(J.ltype===4){const Q=t._lctf.coverageIndex(se.markCoverage,te);if(Q!==-1){const ue=H(ne),_e=ue===-1?-1:t._lctf.coverageIndex(se.baseCoverage,q[ue]);if(_e!==-1){const ge=se.markArray[Q],ve=se.baseArray[_e][ge.markClass];Z[G*3]=ve.x-ge.x+Z[ue*3]-Z[ue*3+2],Z[G*3+1]=ve.y-ge.y+Z[ue*3+1];break}}}else if(J.ltype===6){const Q=t._lctf.coverageIndex(se.mark1Coverage,te);if(Q!==-1){const ue=H();if(ue!==-1){const _e=q[ue];if(F(U,_e)===3){const ge=t._lctf.coverageIndex(se.mark2Coverage,_e);if(ge!==-1){const ve=se.mark1Array[Q],we=se.mark2Array[ge][ve.markClass];Z[G*3]=we.x-ve.x+Z[ue*3]-Z[ue*3+2],Z[G*3+1]=we.y-ve.y+Z[ue*3+1];break}}}}}}}}else if(U.kern&&!U.cff){const fe=H();if(fe!==-1){const ye=U.kern.glyph1.indexOf(q[fe]);if(ye!==-1){const J=U.kern.rval[ye].glyph2.indexOf(te);J!==-1&&(Z[fe*3+2]+=U.kern.rval[ye].vals[J])}}}}return Z;function H(te){for(let ce=G-1;ce>=0;ce--)if(q[ce]!==-1&&(!te||te(q[ce])))return ce;return-1}function ne(te){return F(U,te)===1}function ae(te,ce){for(let fe=0;fe<3;fe++)Z[ce*3+fe]+=te[fe]||0}}function F(U,q){const Z=U.GDEF&&U.GDEF.glyphClassDef;return Z?t.U._getGlyphClass(q,Z):0}function $(...U){for(let q=0;q<U.length;q++)if(typeof U[q]=="number")return U[q]}function B(U){const q=Object.create(null),Z=U["OS/2"],G=U.hhea,H=U.head.unitsPerEm,ne=$(Z&&Z.sTypoAscender,G&&G.ascender,H),ae={unitsPerEm:H,ascender:ne,descender:$(Z&&Z.sTypoDescender,G&&G.descender,0),capHeight:$(Z&&Z.sCapHeight,ne),xHeight:$(Z&&Z.sxHeight,ne),lineGap:$(Z&&Z.sTypoLineGap,G&&G.lineGap),supportsCodePoint(te){return t.U.codeToGlyph(U,te)>0},forEachGlyph(te,ce,fe,ye){let J=0;const oe=1/ae.unitsPerEm*ce,se=O(U,te);let Q=0;const ue=L(U,se);return se.forEach((_e,ge)=>{if(_e!==-1){let ve=q[_e];if(!ve){const{cmds:we,crds:Pe}=t.U.glyphToPath(U,_e);let Re="",Ae=0;for(let Me=0,je=we.length;Me<je;Me++){const Fe=n[we[Me]];Re+=we[Me];for(let Qe=1;Qe<=Fe;Qe++)Re+=(Qe>1?",":"")+Pe[Ae++]}let Ne,Ie,he,ke;if(Pe.length){Ne=Ie=1/0,he=ke=-1/0;for(let Me=0,je=Pe.length;Me<je;Me+=2){let Fe=Pe[Me],Qe=Pe[Me+1];Fe<Ne&&(Ne=Fe),Qe<Ie&&(Ie=Qe),Fe>he&&(he=Fe),Qe>ke&&(ke=Qe)}}else Ne=he=Ie=ke=0;ve=q[_e]={index:_e,advanceWidth:U.hmtx.aWidth[_e],xMin:Ne,yMin:Ie,xMax:he,yMax:ke,path:Re}}ye.call(null,ve,J+ue[ge*3]*oe,ue[ge*3+1]*oe,Q),J+=ue[ge*3+2]*oe,fe&&(J+=fe*ce)}Q+=te.codePointAt(Q)>65535?2:1}),J}};return ae}return function(q){const Z=new Uint8Array(q,0,4),G=t._bin.readASCII(Z,0,4);if(G==="wOFF")q=e(q);else if(G==="wOF2")throw new Error("woff2 fonts not supported");return B(t.parse(q)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(t,e,n){const o=t(),l=e();return n(o,l)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function unicodeFontResolverClientFactory(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(L){var F=L>>5;this.buckets.set(F,(this.buckets.get(F)||0)|1<<(31&L))},e.prototype.has=function(L){var F=this.buckets.get(L>>5);return F!==void 0&&(F&1<<(31&L))!=0},e.prototype.serialize=function(){var L=[];return this.buckets.forEach(function(F,$){L.push((+$).toString(36)+":"+F.toString(36))}),L.join(",")},e.prototype.deserialize=function(L){var F=this;this.buckets.clear(),L.split(",").forEach(function($){var B=$.split(":");F.buckets.set(parseInt(B[0],36),parseInt(B[1],36))})};var n=Math.pow(2,8),o=n-1,l=~o;function u(L){var F=function(B){return B&l}(L).toString(16),$=function(B){return(B&l)+n-1}(L).toString(16);return"codepoint-index/plane"+(L>>16)+"/"+F+"-"+$+".json"}function f(L,F){var $=L&o,B=F.codePointAt($/6|0);return((B=(B||48)-48)&1<<$%6)!=0}function h(L,F){var $;($=L,$.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(B){return B.split("-").map(function(U){return parseInt(U.trim(),16)})})).forEach(function(B){var U=B[0],q=B[1];q===void 0&&(q=U),F(U,q)})}function d(L,F){h(L,function($,B){for(var U=$;U<=B;U++)F(U)})}var p={},m={},v=new WeakMap,_="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(L){var F=v.get(L);return F||(F=new e,d(L.ranges,function($){return F.add($)}),v.set(L,F)),F}var M,A=new Map;function w(L,F,$){return L[F]?F:L[$]?$:function(B){for(var U in B)return U}(L)}function C(L,F){var $=F;if(!L.includes($)){$=1/0;for(var B=0;B<L.length;B++)Math.abs(L[B]-F)<Math.abs($-F)&&($=L[B])}return $}function O(L){return M||(M=new Set,d("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(F){M.add(F)})),M.has(L)}return t.CodePointSet=e,t.clearCache=function(){p={},m={}},t.getFontsForString=function(L,F){F===void 0&&(F={});var $,B=F.lang;B===void 0&&(B=new RegExp("\\p{Script=Hangul}","u").test($=L)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test($)?"ja":"en");var U=F.category;U===void 0&&(U="sans-serif");var q=F.style;q===void 0&&(q="normal");var Z=F.weight;Z===void 0&&(Z=400);var G=(F.dataUrl||_).replace(/\/$/g,""),H=new Map,ne=new Uint8Array(L.length),ae={},te={},ce=new Array(L.length),fe=new Map,ye=!1;function J(Q){var ue=A.get(Q);return ue||(ue=fetch(G+"/"+Q).then(function(_e){if(!_e.ok)throw new Error(_e.statusText);return _e.json().then(function(ge){if(!Array.isArray(ge)||ge[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ge[0]);return ge[1]})}).catch(function(_e){if(G!==_)return ye||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+G+'", trying default CDN. '+_e.message),ye=!0),G=_,A.delete(Q),J(Q);throw _e}),A.set(Q,ue)),ue}for(var oe=function(Q){var ue=L.codePointAt(Q),_e=u(ue);ce[Q]=_e,p[_e]||fe.has(_e)||fe.set(_e,J(_e).then(function(ge){p[_e]=ge})),ue>65535&&(Q++,se=Q)},se=0;se<L.length;se++)oe(se);return Promise.all(fe.values()).then(function(){fe.clear();for(var Q=function(_e){var ge=L.codePointAt(_e),ve=null,we=p[ce[_e]],Pe=void 0;for(var Re in we){var Ae=te[Re];if(Ae===void 0&&(Ae=te[Re]=new RegExp(Re).test(B||"en")),Ae){for(var Ne in Pe=Re,we[Re])if(f(ge,we[Re][Ne])){ve=Ne;break}break}}if(!ve){e:for(var Ie in we)if(Ie!==Pe){for(var he in we[Ie])if(f(ge,we[Ie][he])){ve=he;break e}}}ve||(console.debug("No font coverage for U+"+ge.toString(16)),ve="latin"),ce[_e]=ve,m[ve]||fe.has(ve)||fe.set(ve,J("font-meta/"+ve+".json").then(function(ke){m[ve]=ke})),ge>65535&&(_e++,ue=_e)},ue=0;ue<L.length;ue++)Q(ue);return Promise.all(fe.values())}).then(function(){for(var Q,ue=null,_e=0;_e<L.length;_e++){var ge=L.codePointAt(_e);if(ue&&(O(ge)||S(ue).has(ge)))ne[_e]=ne[_e-1];else{ue=m[ce[_e]];var ve=ae[ue.id];if(!ve){var we=ue.typeforms,Pe=w(we,U,"sans-serif"),Re=w(we[Pe],q,"normal"),Ae=C((Q=we[Pe])===null||Q===void 0?void 0:Q[Re],Z);ve=ae[ue.id]=G+"/font-files/"+ue.id+"/"+Pe+"."+Re+"."+Ae+".woff"}var Ne=H.get(ve);Ne==null&&(Ne=H.size,H.set(ve,Ne)),ne[_e]=Ne}ge>65535&&(_e++,ne[_e]=ne[_e-1])}return{fontUrls:Array.from(H.keys()),chars:ne}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function createFontResolver(t,e){const n=Object.create(null),o=Object.create(null);function l(f,h){const d=p=>{console.error(`Failure loading font ${f}`,p)};try{const p=new XMLHttpRequest;p.open("get",f,!0),p.responseType="arraybuffer",p.onload=function(){if(p.status>=400)d(new Error(p.statusText));else if(p.status>0)try{const m=t(p.response);m.src=f,h(m)}catch(m){d(m)}},p.onerror=d,p.send()}catch(p){d(p)}}function u(f,h){let d=n[f];d?h(d):o[f]?o[f].push(h):(o[f]=[h],l(f,p=>{p.src=f,n[f]=p,o[f].forEach(m=>m(p)),delete o[f]}))}return function(f,h,{lang:d,fonts:p=[],style:m="normal",weight:v="normal",unicodeFontsURL:_}={}){const S=new Uint8Array(f.length),M=[];f.length||O();const A=new Map,w=[];if(m!=="italic"&&(m="normal"),typeof v!="number"&&(v=v==="bold"?700:400),p&&!Array.isArray(p)&&(p=[p]),p=p.slice().filter(F=>!F.lang||F.lang.test(d)).reverse(),p.length){let U=0;(function q(Z=0){for(let G=Z,H=f.length;G<H;G++){const ne=f.codePointAt(G);if(U===1&&M[S[G-1]].supportsCodePoint(ne)||G>0&&/\s/.test(f[G]))S[G]=S[G-1],U===2&&(w[w.length-1][1]=G);else for(let ae=S[G],te=p.length;ae<=te;ae++)if(ae===te){const ce=U===2?w[w.length-1]:w[w.length]=[G,G];ce[1]=G,U=2}else{S[G]=ae;const{src:ce,unicodeRange:fe}=p[ae];if(!fe||L(ne,fe)){const ye=n[ce];if(!ye){u(ce,()=>{q(G)});return}if(ye.supportsCodePoint(ne)){let J=A.get(ye);typeof J!="number"&&(J=M.length,M.push(ye),A.set(ye,J)),S[G]=J,U=1;break}}}ne>65535&&G+1<H&&(S[G+1]=S[G],G++,U===2&&(w[w.length-1][1]=G))}C()})()}else w.push([0,f.length-1]),C();function C(){if(w.length){const F=w.map($=>f.substring($[0],$[1]+1)).join(`
`);e.getFontsForString(F,{lang:d||void 0,style:m,weight:v,dataUrl:_}).then(({fontUrls:$,chars:B})=>{const U=M.length;let q=0;w.forEach(G=>{for(let H=0,ne=G[1]-G[0];H<=ne;H++)S[G[0]+H]=B[q++]+U;q++});let Z=0;$.forEach((G,H)=>{u(G,ne=>{M[H+U]=ne,++Z===$.length&&O()})})})}else O()}function O(){h({chars:S,fonts:M})}function L(F,$){for(let B=0;B<$.length;B++){const[U,q=U]=$[B];if(U<=F&&F<=q)return!0}return!1}}}const fontResolverWorkerModule=defineWorkerModule({name:"FontResolver",dependencies:[createFontResolver,workerModule,unicodeFontResolverClientFactory],init(t,e,n){return t(e,n())}});function createTypesetter(t,e){const o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,l="[^\\S\\u00A0]",u=new RegExp(`${l}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function f({text:M,lang:A,fonts:w,style:C,weight:O,preResolvedFonts:L,unicodeFontsURL:F},$){const B=({chars:U,fonts:q})=>{let Z,G;const H=[];for(let ne=0;ne<U.length;ne++)U[ne]!==G?(G=U[ne],H.push(Z={start:ne,end:ne,fontObj:q[U[ne]]})):Z.end=ne;$(H)};L?B(L):t(M,B,{lang:A,fonts:w,style:C,weight:O,unicodeFontsURL:F})}function h({text:M="",font:A,lang:w,sdfGlyphSize:C=64,fontSize:O=400,fontWeight:L=1,fontStyle:F="normal",letterSpacing:$=0,lineHeight:B="normal",maxWidth:U=1/0,direction:q,textAlign:Z="left",textIndent:G=0,whiteSpace:H="normal",overflowWrap:ne="normal",anchorX:ae=0,anchorY:te=0,metricsOnly:ce=!1,unicodeFontsURL:fe,preResolvedFonts:ye=null,includeCaretPositions:J=!1,chunkedBoundsSize:oe=8192,colorRanges:se=null},Q){const ue=v(),_e={fontLoad:0,typesetting:0};M.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),O=+O,$=+$,U=+U,B=B||"normal",G=+G,f({text:M,lang:w,style:F,weight:L,fonts:typeof A=="string"?[{src:A}]:A,unicodeFontsURL:fe,preResolvedFonts:ye},ge=>{_e.fontLoad=v()-ue;const ve=isFinite(U);let we=null,Pe=null,Re=null,Ae=null,Ne=null,Ie=null,he=null,ke=null,Me=0,je=0,Fe=H!=="nowrap";const Qe=new Map,Ve=v();let Je=G,ot=0,pe=new _;const de=[pe];ge.forEach(ut=>{const{fontObj:mt}=ut,{ascender:it,descender:ht,unitsPerEm:Et,lineGap:dt,capHeight:It,xHeight:bt}=mt;let pt=Qe.get(mt);if(!pt){const lt=O/Et,Te=B==="normal"?(it-ht+dt)*lt:B*O,gt=(Te-(it-ht)*lt)/2,ze=Math.min(Te,(it-ht)*lt),at=(it+ht)/2*lt+ze/2;pt={index:Qe.size,src:mt.src,fontObj:mt,fontSizeMult:lt,unitsPerEm:Et,ascender:it*lt,descender:ht*lt,capHeight:It*lt,xHeight:bt*lt,lineHeight:Te,baseline:-gt-it*lt,caretTop:at,caretBottom:at-ze},Qe.set(mt,pt)}const{fontSizeMult:Se}=pt,We=M.slice(ut.start,ut.end+1);let xe,qe;mt.forEachGlyph(We,O,$,(lt,Te,gt,ze)=>{Te+=ot,ze+=ut.start,xe=Te,qe=lt;const at=M.charAt(ze),yt=lt.advanceWidth*Se,At=pe.count;let Tt;if("isEmpty"in lt||(lt.isWhitespace=!!at&&new RegExp(l).test(at),lt.canBreakAfter=!!at&&u.test(at),lt.isEmpty=lt.xMin===lt.xMax||lt.yMin===lt.yMax||o.test(at)),!lt.isWhitespace&&!lt.isEmpty&&je++,Fe&&ve&&!lt.isWhitespace&&Te+yt+Je>U&&At){if(pe.glyphAt(At-1).glyphObj.canBreakAfter)Tt=new _,Je=-Te;else for(let Jt=At;Jt--;)if(Jt===0&&ne==="break-word"){Tt=new _,Je=-Te;break}else if(pe.glyphAt(Jt).glyphObj.canBreakAfter){Tt=pe.splitAt(Jt+1);const Ut=Tt.glyphAt(0).x;Je-=Ut;for(let Zt=Tt.count;Zt--;)Tt.glyphAt(Zt).x-=Ut;break}Tt&&(pe.isSoftWrapped=!0,pe=Tt,de.push(pe),Me=U)}let Nt=pe.glyphAt(pe.count);Nt.glyphObj=lt,Nt.x=Te+Je,Nt.y=gt,Nt.width=yt,Nt.charIndex=ze,Nt.fontData=pt,at===`
`&&(pe=new _,de.push(pe),Je=-(Te+yt+$*O)+G)}),ot=xe+qe.advanceWidth*Se+$*O});let Oe=0;de.forEach(ut=>{let mt=!0;for(let it=ut.count;it--;){const ht=ut.glyphAt(it);mt&&!ht.glyphObj.isWhitespace&&(ut.width=ht.x+ht.width,ut.width>Me&&(Me=ut.width),mt=!1);let{lineHeight:Et,capHeight:dt,xHeight:It,baseline:bt}=ht.fontData;Et>ut.lineHeight&&(ut.lineHeight=Et);const pt=bt-ut.baseline;pt<0&&(ut.baseline+=pt,ut.cap+=pt,ut.ex+=pt),ut.cap=Math.max(ut.cap,ut.baseline+dt),ut.ex=Math.max(ut.ex,ut.baseline+It)}ut.baseline-=Oe,ut.cap-=Oe,ut.ex-=Oe,Oe+=ut.lineHeight});let De=0,Ue=0;if(ae&&(typeof ae=="number"?De=-ae:typeof ae=="string"&&(De=-Me*(ae==="left"?0:ae==="center"?.5:ae==="right"?1:p(ae)))),te&&(typeof te=="number"?Ue=-te:typeof te=="string"&&(Ue=te==="top"?0:te==="top-baseline"?-de[0].baseline:te==="top-cap"?-de[0].cap:te==="top-ex"?-de[0].ex:te==="middle"?Oe/2:te==="bottom"?Oe:te==="bottom-baseline"?-de[de.length-1].baseline:p(te)*Oe)),!ce){const ut=e.getEmbeddingLevels(M,q);we=new Uint16Array(je),Pe=new Uint8Array(je),Re=new Float32Array(je*2),Ae={},he=[1/0,1/0,-1/0,-1/0],ke=[],J&&(Ie=new Float32Array(M.length*4)),se&&(Ne=new Uint8Array(je*3));let mt=0,it=-1,ht=-1,Et,dt;if(de.forEach((It,bt)=>{let{count:pt,width:Se}=It;if(pt>0){let We=0;for(let ze=pt;ze--&&It.glyphAt(ze).glyphObj.isWhitespace;)We++;let xe=0,qe=0;if(Z==="center")xe=(Me-Se)/2;else if(Z==="right")xe=Me-Se;else if(Z==="justify"&&It.isSoftWrapped){let ze=0;for(let at=pt-We;at--;)It.glyphAt(at).glyphObj.isWhitespace&&ze++;qe=(Me-Se)/ze}if(qe||xe){let ze=0;for(let at=0;at<pt;at++){let yt=It.glyphAt(at);const At=yt.glyphObj;yt.x+=xe+ze,qe!==0&&At.isWhitespace&&at<pt-We&&(ze+=qe,yt.width+=qe)}}const lt=e.getReorderSegments(M,ut,It.glyphAt(0).charIndex,It.glyphAt(It.count-1).charIndex);for(let ze=0;ze<lt.length;ze++){const[at,yt]=lt[ze];let At=1/0,Tt=-1/0;for(let Nt=0;Nt<pt;Nt++)if(It.glyphAt(Nt).charIndex>=at){let Jt=Nt,Ut=Nt;for(;Ut<pt;Ut++){let Zt=It.glyphAt(Ut);if(Zt.charIndex>yt)break;Ut<pt-We&&(At=Math.min(At,Zt.x),Tt=Math.max(Tt,Zt.x+Zt.width))}for(let Zt=Jt;Zt<Ut;Zt++){const fn=It.glyphAt(Zt);fn.x=Tt-(fn.x+fn.width-At)}break}}let Te;const gt=ze=>Te=ze;for(let ze=0;ze<pt;ze++){const at=It.glyphAt(ze);Te=at.glyphObj;const yt=Te.index,At=ut.levels[at.charIndex]&1;if(At){const Tt=e.getMirroredCharacter(M[at.charIndex]);Tt&&at.fontData.fontObj.forEachGlyph(Tt,0,0,gt)}if(J){const{charIndex:Tt,fontData:Nt}=at,Jt=at.x+De,Ut=at.x+at.width+De;Ie[Tt*4]=At?Ut:Jt,Ie[Tt*4+1]=At?Jt:Ut,Ie[Tt*4+2]=It.baseline+Nt.caretBottom+Ue,Ie[Tt*4+3]=It.baseline+Nt.caretTop+Ue;const Zt=Tt-it;Zt>1&&m(Ie,it,Zt),it=Tt}if(se){const{charIndex:Tt}=at;for(;Tt>ht;)ht++,se.hasOwnProperty(ht)&&(dt=se[ht])}if(!Te.isWhitespace&&!Te.isEmpty){const Tt=mt++,{fontSizeMult:Nt,src:Jt,index:Ut}=at.fontData,Zt=Ae[Jt]||(Ae[Jt]={});Zt[yt]||(Zt[yt]={path:Te.path,pathBounds:[Te.xMin,Te.yMin,Te.xMax,Te.yMax]});const fn=at.x+De,Qn=at.y+It.baseline+Ue;Re[Tt*2]=fn,Re[Tt*2+1]=Qn;const $n=fn+Te.xMin*Nt,or=Qn+Te.yMin*Nt,er=fn+Te.xMax*Nt,sr=Qn+Te.yMax*Nt;$n<he[0]&&(he[0]=$n),or<he[1]&&(he[1]=or),er>he[2]&&(he[2]=er),sr>he[3]&&(he[3]=sr),Tt%oe===0&&(Et={start:Tt,end:Tt,rect:[1/0,1/0,-1/0,-1/0]},ke.push(Et)),Et.end++;const Wn=Et.rect;if($n<Wn[0]&&(Wn[0]=$n),or<Wn[1]&&(Wn[1]=or),er>Wn[2]&&(Wn[2]=er),sr>Wn[3]&&(Wn[3]=sr),we[Tt]=yt,Pe[Tt]=Ut,se){const fi=Tt*3;Ne[fi]=dt>>16&255,Ne[fi+1]=dt>>8&255,Ne[fi+2]=dt&255}}}}}),Ie){const It=M.length-it;It>1&&m(Ie,it,It)}}const tt=[];Qe.forEach(({index:ut,src:mt,unitsPerEm:it,ascender:ht,descender:Et,lineHeight:dt,capHeight:It,xHeight:bt})=>{tt[ut]={src:mt,unitsPerEm:it,ascender:ht,descender:Et,lineHeight:dt,capHeight:It,xHeight:bt}}),_e.typesetting=v()-Ve,Q({glyphIds:we,glyphFontIndices:Pe,glyphPositions:Re,glyphData:Ae,fontData:tt,caretPositions:Ie,glyphColors:Ne,chunkedBounds:ke,fontSize:O,topBaseline:Ue+de[0].baseline,blockBounds:[De,Ue-Oe,De+Me,Ue],visibleBounds:he,timings:_e})})}function d(M,A){h({...M,metricsOnly:!0},w=>{const[C,O,L,F]=w.blockBounds;A({width:L-C,height:F-O})})}function p(M){let A=M.match(/^([\d.]+)%$/),w=A?parseFloat(A[1]):NaN;return isNaN(w)?0:w/100}function m(M,A,w){const C=M[A*4],O=M[A*4+1],L=M[A*4+2],F=M[A*4+3],$=(O-C)/w;for(let B=0;B<w;B++){const U=(A+B)*4;M[U]=C+$*B,M[U+1]=C+$*(B+1),M[U+2]=L,M[U+3]=F}}function v(){return(self.performance||Date).now()}function _(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return _.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(M){let A=_.flyweight;return A.data=this.data,A.index=M,A},splitAt(M){let A=new _;return A.data=this.data.splice(M*S.length),A}},_.flyweight=S.reduce((M,A,w,C)=>(Object.defineProperty(M,A,{get(){return this.data[this.index*S.length+w]},set(O){this.data[this.index*S.length+w]=O}}),M),{data:null,index:0}),{typeset:h,measure:d}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(t,e,n,o,l,u,f,h,d,p,m=!0){return m?generateSDF_GL(t,e,n,o,l,u,f,h,d,p).then(null,v=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",v),warned=!0),generateSDF_JS_Worker(t,e,n,o,l,u,f,h,d,p))):generateSDF_JS_Worker(t,e,n,o,l,u,f,h,d,p)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const t=now();for(;queue.length&&now()-t<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...t)=>new Promise((e,n)=>{queue.push(()=>{const o=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...t),e({timing:now()-o})}catch(l){n(l)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(t,e,n,o,l,u,f,h,d,p){const m="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let v=threads[m];return v||(v=threads[m]={workerModule:defineWorkerModule({name:m,workerId:m,dependencies:[SDFGenerator,now],init(_,S){const M=_().javascript.generate;return function(...A){const w=S();return{textureData:M(...A),timing:S()-w}}},getTransferables(_){return[_.textureData.buffer]}}),requests:0,idleTimer:null}),v.requests++,clearTimeout(v.idleTimer),v.workerModule(t,e,n,o,l,u).then(({textureData:_,timing:S})=>{const M=now(),A=new Uint8Array(_.length*4);for(let w=0;w<_.length;w++)A[w*4+p]=_[w];return mainThreadGenerator.webglUtils.renderImageData(f,A,h,d,t,e,1<<3-p),S+=now()-M,--v.requests===0&&(v.idleTimer=setTimeout(()=>{terminateWorker(m)},idleTimeout)),{timing:S}})}function warmUpSDFCanvas(t){t._warm||(mainThreadGenerator.webgl.isSupported(t),t._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing,CONFIG={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color$1;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(t,e){t=assign$1({},t);const n=now$1(),o=[];if(t.font&&o.push({label:"user",src:toAbsoluteURL(t.font)}),t.font=o,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||CONFIG.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||CONFIG.unicodeFontsURL,t.colorRanges!=null){let _={};for(let S in t.colorRanges)if(t.colorRanges.hasOwnProperty(S)){let M=t.colorRanges[S];typeof M!="number"&&(M=tempColor.set(M).getHex()),_[S]=M}t.colorRanges=_}Object.freeze(t);const{textureWidth:l,sdfExponent:u}=CONFIG,{sdfGlyphSize:f}=t,h=l/f*4;let d=atlases[f];if(!d){const _=document.createElement("canvas");_.width=l,_.height=f*256/h,d=atlases[f]={glyphCount:0,sdfGlyphSize:f,sdfCanvas:_,sdfTexture:new Texture(_,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},d.sdfTexture.generateMipmaps=!1,initContextLossHandling(d)}const{sdfTexture:p,sdfCanvas:m}=d;typesetInWorker(t).then(_=>{const{glyphIds:S,glyphFontIndices:M,fontData:A,glyphPositions:w,fontSize:C,timings:O}=_,L=[],F=new Float32Array(S.length*4);let $=0,B=0;const U=now$1(),q=A.map(ae=>{let te=d.glyphsByFont.get(ae.src);return te||d.glyphsByFont.set(ae.src,te=new Map),te});S.forEach((ae,te)=>{const ce=M[te],{src:fe,unitsPerEm:ye}=A[ce];let J=q[ce].get(ae);if(!J){const{path:_e,pathBounds:ge}=_.glyphData[fe][ae],ve=Math.max(ge[2]-ge[0],ge[3]-ge[1])/f*(CONFIG.sdfMargin*f+.5),we=d.glyphCount++,Pe=[ge[0]-ve,ge[1]-ve,ge[2]+ve,ge[3]+ve];q[ce].set(ae,J={path:_e,atlasIndex:we,sdfViewBox:Pe}),L.push(J)}const{sdfViewBox:oe}=J,se=w[B++],Q=w[B++],ue=C/ye;F[$++]=se+oe[0]*ue,F[$++]=Q+oe[1]*ue,F[$++]=se+oe[2]*ue,F[$++]=Q+oe[3]*ue,S[te]=J.atlasIndex}),O.quads=(O.quads||0)+(now$1()-U);const Z=now$1();O.sdf={};const G=m.height,H=Math.ceil(d.glyphCount/h),ne=Math.pow(2,Math.ceil(Math.log2(H*f)));ne>G&&(console.info(`Increasing SDF texture size ${G}->${ne}`),resizeWebGLCanvasWithoutClearing(m,l,ne),p.dispose()),Promise.all(L.map(ae=>generateGlyphSDF(ae,d,t.gpuAccelerateSDF).then(({timing:te})=>{O.sdf[ae.atlasIndex]=te}))).then(()=>{L.length&&!d.contextLost&&(safariPre15Workaround(d),p.needsUpdate=!0),O.sdfTotal=now$1()-Z,O.total=now$1()-n,e(Object.freeze({parameters:t,sdfTexture:p,sdfGlyphSize:f,sdfExponent:u,glyphBounds:F,glyphAtlasIndices:S,glyphColors:_.glyphColors,caretPositions:_.caretPositions,chunkedBounds:_.chunkedBounds,ascender:_.ascender,descender:_.descender,lineHeight:_.lineHeight,capHeight:_.capHeight,xHeight:_.xHeight,topBaseline:_.topBaseline,blockBounds:_.blockBounds,visibleBounds:_.visibleBounds,timings:_.timings}))})}),Promise.resolve().then(()=>{d.contextLost||warmUpSDFCanvas(m)})}function generateGlyphSDF({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:o,sdfCanvas:l,contextLost:u},f){if(u)return Promise.resolve({timing:-1});const{textureWidth:h,sdfExponent:d}=CONFIG,p=Math.max(n[2]-n[0],n[3]-n[1]),m=Math.floor(e/4),v=m%(h/o)*o,_=Math.floor(m/(h/o))*o,S=e%4;return generateSDF(o,o,t,n,p,d,l,v,_,S,f)}function initContextLossHandling(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const o=[];t.glyphsByFont.forEach(l=>{l.forEach(u=>{o.push(generateGlyphSDF(u,t,!0))})}),Promise.all(o).then(()=>{safariPre15Workaround(t),t.sdfTexture.needsUpdate=!0})})}function preloadFont({font:t,characters:e,sdfGlyphSize:n},o){let l=Array.isArray(e)?e.join(`
`):""+e;getTextRenderInfo({font:t,sdfGlyphSize:n,text:l},o)}function assign$1(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let linkEl;function toAbsoluteURL(t){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=t,linkEl.href}function safariPre15Workaround(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:o,height:l}=e,u=t.sdfCanvas.getContext("webgl");let f=n.image.data;(!f||f.length!==o*l*4)&&(f=new Uint8Array(o*l*4),n.image={width:o,height:l,data:f},n.flipY=!1,n.isDataTexture=!0),u.readPixels(0,0,o,l,u.RGBA,u.UNSIGNED_BYTE,f)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[createTypesetter,fontResolverWorkerModule,bidiFactory],init(t,e,n){return t(e,n())}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});typesetInWorker.onMainThread;const templateGeometries={};function getTemplateGeometry(t){let e=templateGeometries[t];return e||(e=templateGeometries[t]=new PlaneGeometry(1,1,t,t).translate(.5,.5,0)),e}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=getTemplateGeometry(e);["position","normal","uv"].forEach(o=>{this.attributes[o]=n.attributes[o].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,o,l,u){this.updateAttributeData(glyphBoundsAttrName,e,4),this.updateAttributeData(glyphIndexAttrName,n,1),this.updateAttributeData(glyphColorAttrName,u,3),this._blockBounds=o,this._chunkedBounds=l,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:o}=this;if(n){const{PI:l,floor:u,min:f,max:h,sin:d,cos:p}=Math,m=l/2,v=l*2,_=Math.abs(n),S=e[0]/_,M=e[2]/_,A=u((S+m)/v)!==u((M+m)/v)?-_:f(d(S)*_,d(M)*_),w=u((S-m)/v)!==u((M-m)/v)?_:h(d(S)*_,d(M)*_),C=u((S+l)/v)!==u((M+l)/v)?_*2:h(_-p(S)*_,_-p(M)*_);o.min.set(A,e[1],n<0?-C:0),o.max.set(w,e[3],n<0?0:C)}else o.min.set(e[0],e[1],0),o.max.set(e[2],e[3],0);o.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(glyphIndexAttrName).count,o=this._chunkedBounds;if(o)for(let l=o.length;l--;){n=o[l].end;let u=o[l].rect;if(u[1]<e.w&&u[3]>e.y&&u[0]<e.z&&u[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,o){const l=this.getAttribute(e);n?l&&l.array.length===n.length?(l.array.set(n),l.needsUpdate=!0):(this.setAttribute(e,new InstancedBufferAttribute(n,o)),delete this._maxInstanceCount,this.dispose()):l&&this.deleteAttribute(e)}}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(t){const e=createDerivedMaterial(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color$1},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:n,fragmentShader:o}){let l=/\buniform\s+vec3\s+diffuse\b/;return l.test(o)&&(o=o.replace(l,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),l.test(n)||(n=n.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:o}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(t){return Array.isArray(t)?t[0]:t}let getFlatRaycastMesh=()=>{const t=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>t,t},getCurvedRaycastMesh=()=>{const t=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>t,t};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$2=class extends Mesh{constructor(){const e=new GlyphsGeometry;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const o=this._queuedSyncs;o&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{o.forEach(l=>l&&l())})),this.dispatchEvent(syncCompleteEvent),e&&e()})))}onBeforeRender(e,n,o,l,u,f){this.sync(),u.isTroikaTextMaterial&&this._prepareForRender(u)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return createTextDerivedMaterial(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function o(){n.removeEventListener("dispose",o),e.dispose()})),this.hasOutline()){let o=e._outlineMtl;return o||(o=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),o.isTextOutlineMaterial=!0,o.depthWrite=!1,o.map=null,e.addEventListener("dispose",function l(){e.removeEventListener("dispose",l),o.dispose()})),[o,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return first(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,o=e.uniforms,l=this.textRenderInfo;if(l){const{sdfTexture:h,blockBounds:d}=l;o.uTroikaSDFTexture.value=h,o.uTroikaSDFTextureSize.value.set(h.image.width,h.image.height),o.uTroikaSDFGlyphSize.value=l.sdfGlyphSize,o.uTroikaSDFExponent.value=l.sdfExponent,o.uTroikaTotalBounds.value.fromArray(d),o.uTroikaUseGlyphColors.value=!n&&!!l.glyphColors;let p=0,m=0,v=0,_,S,M,A=0,w=0;if(n){let{outlineWidth:O,outlineOffsetX:L,outlineOffsetY:F,outlineBlur:$,outlineOpacity:B}=this;p=this._parsePercent(O)||0,m=Math.max(0,this._parsePercent($)||0),_=B,A=this._parsePercent(L)||0,w=this._parsePercent(F)||0}else v=Math.max(0,this._parsePercent(this.strokeWidth)||0),v&&(M=this.strokeColor,o.uTroikaStrokeColor.value.set(M??defaultStrokeColor),S=this.strokeOpacity,S==null&&(S=1)),_=this.fillOpacity;o.uTroikaEdgeOffset.value=p,o.uTroikaPositionOffset.value.set(A,w),o.uTroikaBlurRadius.value=m,o.uTroikaStrokeWidth.value=v,o.uTroikaStrokeOpacity.value=S,o.uTroikaFillOpacity.value=_??1,o.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)o.uTroikaClipRect.value.fromArray(C);else{const O=(this.fontSize||.1)*100;o.uTroikaClipRect.value.set(d[0]-O,d[1]-O,d[2]+O,d[3]+O)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const u=n?this.outlineColor||0:this.color;if(u==null)delete e.color;else{const h=e.hasOwnProperty("color")?e.color:e.color=new Color$1;(u!==h._input||typeof u=="object")&&h.set(h._input=u)}let f=this.orientation||defaultOrient;if(f!==e._orientation){let h=o.uTroikaOrient.value;f=f.replace(/[^-+xyz]/g,"");let d=f!==defaultOrient&&f.match(/^([-+])([xyz])([-+])([xyz])$/);if(d){let[,p,m,v,_]=d;tempVec3a.set(0,0,0)[m]=p==="-"?1:-1,tempVec3b.set(0,0,0)[_]=v==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),h.setFromMatrix4(tempMat4)}else h.identity();e._orientation=f}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),o=n?parseFloat(n[1]):NaN;e=(isNaN(o)?0:o/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Vector2){n.copy(e);const o=this.curveRadius;return o&&(n.x=Math.atan2(e.x,Math.abs(o)-Math.abs(e.z))*Math.abs(o)),n}worldPositionToTextCoords(e,n=new Vector2){return tempVec3a.copy(e),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),n)}raycast(e,n){const{textRenderInfo:o,curveRadius:l}=this;if(o){const u=o.blockBounds,f=l?getCurvedRaycastMesh():getFlatRaycastMesh(),h=f.geometry,{position:d,uv:p}=h.attributes;for(let m=0;m<p.count;m++){let v=u[0]+p.getX(m)*(u[2]-u[0]);const _=u[1]+p.getY(m)*(u[3]-u[1]);let S=0;l&&(S=l-Math.cos(v/l)*l,v=Math.sin(v/l)*l),d.setXYZ(m,v,_,S)}h.boundingSphere=this.geometry.boundingSphere,h.boundingBox=this.geometry.boundingBox,f.matrixWorld=this.matrixWorld,f.material.side=this.material.side,tempArray.length=0,f.raycast(e,tempArray);for(let m=0;m<tempArray.length;m++)tempArray[m].object=this,n.push(tempArray[m])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,COPYABLE_PROPS.forEach(o=>{this[o]=e[o]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(t=>{const e="_private_"+t;Object.defineProperty(Text$2.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Box3;new Color$1;const Text$1=reactExports.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:o,fontSize:l=1,children:u,characters:f,onSync:h,...d},p)=>{const m=useThree(({invalidate:M})=>M),[v]=reactExports.useState(()=>new Text$2),[_,S]=reactExports.useMemo(()=>{const M=[];let A="";return reactExports.Children.forEach(u,w=>{typeof w=="string"||typeof w=="number"?A+=w:M.push(w)}),[M,A]},[u]);return suspend(()=>new Promise(M=>preloadFont({font:o,characters:f},M)),["troika-text",o,f]),reactExports.useLayoutEffect(()=>void v.sync(()=>{m(),h&&h(v)})),reactExports.useEffect(()=>()=>v.dispose(),[v]),reactExports.createElement("primitive",_extends$p({object:v,ref:p,font:o,text:S,anchorX:e,anchorY:n,fontSize:l,sdfGlyphSize:t},d),_)});function shaderMaterial(t,e,n,o){const l=class extends ShaderMaterial{constructor(f={}){const h=Object.entries(t);super({uniforms:h.reduce((d,[p,m])=>{const v=UniformsUtils.clone({[p]:{value:m}});return{...d,...v}},{}),vertexShader:e,fragmentShader:n}),this.key="",h.forEach(([d])=>Object.defineProperty(this,d,{get:()=>this.uniforms[d].value,set:p=>this.uniforms[d].value=p})),Object.assign(this,f)}};return l.key=MathUtils.generateUUID(),l}const IsObject=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function useTexture(t,e){const n=useThree(u=>u.gl),o=useLoader(TextureLoader,IsObject(t)?Object.values(t):t);return reactExports.useLayoutEffect(()=>{e==null||e(o)},[e]),reactExports.useEffect(()=>{if("initTexture"in n){let u=[];Array.isArray(o)?u=o:o instanceof Texture?u=[o]:IsObject(o)&&(u=Object.values(o)),u.forEach(f=>{f instanceof Texture&&n.initTexture(f)})}},[n,o]),reactExports.useMemo(()=>{if(IsObject(t)){const u={};let f=0;for(const h in t)u[h]=o[f++];return u}else return o},[t,o])}useTexture.preload=t=>useLoader.preload(TextureLoader,t);useTexture.clear=t=>useLoader.clear(TextureLoader,t);const OrbitControls$1=reactExports.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:o,enableDamping:l=!0,keyEvents:u=!1,onChange:f,onStart:h,onEnd:d,...p},m)=>{const v=useThree(B=>B.invalidate),_=useThree(B=>B.camera),S=useThree(B=>B.gl),M=useThree(B=>B.events),A=useThree(B=>B.setEvents),w=useThree(B=>B.set),C=useThree(B=>B.get),O=useThree(B=>B.performance),L=e||_,F=o||M.connected||S.domElement,$=reactExports.useMemo(()=>new OrbitControls$2(L),[L]);return useFrame(()=>{$.enabled&&$.update()},-1),reactExports.useEffect(()=>(u&&$.connect(u===!0?F:u),$.connect(F),()=>void $.dispose()),[u,F,n,$,v]),reactExports.useEffect(()=>{const B=Z=>{v(),n&&O.regress(),f&&f(Z)},U=Z=>{h&&h(Z)},q=Z=>{d&&d(Z)};return $.addEventListener("change",B),$.addEventListener("start",U),$.addEventListener("end",q),()=>{$.removeEventListener("start",U),$.removeEventListener("end",q),$.removeEventListener("change",B)}},[f,h,d,$,v,A]),reactExports.useEffect(()=>{if(t){const B=C().controls;return w({controls:$}),()=>w({controls:B})}},[t,$]),reactExports.createElement("primitive",_extends$p({ref:m,object:$,enableDamping:l},p))});var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function n(){}return n.resetWarningCache=e,factoryWithThrowingShims=function(){function o(f,h,d,p,m,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),setUpdateRange=(t,e)=>{"updateRanges"in t?t.updateRanges[0]=e:t.updateRange=e},CLOUD_URL="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png",parentMatrix=new Matrix4,translation=new Vector3,rotation=new Quaternion,cpos=new Vector3,cquat=new Quaternion,scale=new Vector3,context=reactExports.createContext(null),Clouds=reactExports.forwardRef(({children:t,material:e=MeshLambertMaterial,texture:n=CLOUD_URL,range:o,limit:l=200,frustumCulled:u,...f},h)=>{var d,p;const m=reactExports.useMemo(()=>class extends e{constructor(){super();const q=parseInt(REVISION.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";this.onBeforeCompile=Z=>{Z.vertexShader=`attribute float cloudOpacity;
               varying float vOpacity;
              `+Z.vertexShader.replace("#include <fog_vertex>",`#include <fog_vertex>
                 vOpacity = cloudOpacity;
                `),Z.fragmentShader=`varying float vOpacity;
              `+Z.fragmentShader.replace(`#include <${q}>`,`#include <${q}>
                 gl_FragColor = vec4(outgoingLight, diffuseColor.a * vOpacity);
                `)}}},[e]);extend$1({CloudMaterial:m});const v=reactExports.useRef(null),_=reactExports.useRef([]),S=reactExports.useMemo(()=>new Float32Array(Array.from({length:l},()=>1)),[l]),M=reactExports.useMemo(()=>new Float32Array(Array.from({length:l},()=>[1,1,1]).flat()),[l]),A=useTexture(n);let w=0,C=0,O;const L=new Quaternion,F=new Vector3(0,0,1),$=new Vector3;useFrame((q,Z)=>{for(w=q.clock.elapsedTime,parentMatrix.copy(v.current.matrixWorld).invert(),q.camera.matrixWorld.decompose(cpos,cquat,scale),C=0;C<_.current.length;C++)O=_.current[C],O.ref.current.matrixWorld.decompose(translation,rotation,scale),translation.add($.copy(O.position).applyQuaternion(rotation).multiply(scale)),rotation.copy(cquat).multiply(L.setFromAxisAngle(F,O.rotation+=Z*O.rotationFactor)),scale.multiplyScalar(O.volume+(1+Math.sin(w*O.density*O.speed))/2*O.growth),O.matrix.compose(translation,rotation,scale).premultiply(parentMatrix),O.dist=translation.distanceTo(cpos);for(_.current.sort((G,H)=>H.dist-G.dist),C=0;C<_.current.length;C++)O=_.current[C],S[C]=O.opacity*(O.dist<O.fade-1?O.dist/O.fade:1),v.current.setMatrixAt(C,O.matrix),v.current.setColorAt(C,O.color);v.current.geometry.attributes.cloudOpacity.needsUpdate=!0,v.current.instanceMatrix.needsUpdate=!0,v.current.instanceColor&&(v.current.instanceColor.needsUpdate=!0)}),reactExports.useLayoutEffect(()=>{const q=Math.min(l,o!==void 0?o:l,_.current.length);v.current.count=q,setUpdateRange(v.current.instanceMatrix,{offset:0,count:q*16}),v.current.instanceColor&&setUpdateRange(v.current.instanceColor,{offset:0,count:q*3}),setUpdateRange(v.current.geometry.attributes.cloudOpacity,{offset:0,count:q})});let B=[(d=A.image.width)!==null&&d!==void 0?d:1,(p=A.image.height)!==null&&p!==void 0?p:1];const U=Math.max(B[0],B[1]);return B=[B[0]/U,B[1]/U],reactExports.createElement("group",_extends$p({ref:h},f),reactExports.createElement(context.Provider,{value:_},t,reactExports.createElement("instancedMesh",{matrixAutoUpdate:!1,ref:v,args:[null,null,l],frustumCulled:u},reactExports.createElement("instancedBufferAttribute",{usage:DynamicDrawUsage,attach:"instanceColor",args:[M,3]}),reactExports.createElement("planeGeometry",{args:[...B]},reactExports.createElement("instancedBufferAttribute",{usage:DynamicDrawUsage,attach:"attributes-cloudOpacity",args:[S,1]})),reactExports.createElement("cloudMaterial",{key:e.name,map:A,transparent:!0,depthWrite:!1}))))}),CloudInstance=reactExports.forwardRef(({opacity:t=1,speed:e=0,bounds:n=[5,1,1],segments:o=20,color:l="#ffffff",fade:u=10,volume:f=6,smallestVolume:h=.25,distribute:d=null,growth:p=4,concentrate:m="inside",seed:v=Math.random(),..._},S)=>{function M(){const L=Math.sin(v++)*1e4;return L-Math.floor(L)}const A=reactExports.useContext(context),w=reactExports.useRef(null),C=reactExports.useId(),O=reactExports.useMemo(()=>[...new Array(o)].map((L,F)=>({segments:o,bounds:new Vector3(1,1,1),position:new Vector3,uuid:C,index:F,ref:w,dist:0,matrix:new Matrix4,color:new Color$1,rotation:F*(Math.PI/o)})),[o,C]);return reactExports.useLayoutEffect(()=>{O.forEach((L,F)=>{applyProps(L,{volume:f,color:l,speed:e,growth:p,opacity:t,fade:u,bounds:n,density:Math.max(.5,M()),rotationFactor:Math.max(.2,.5*M())*e});const $=d==null?void 0:d(L,F);if($||o>1){var B;L.position.copy(L.bounds).multiply((B=$==null?void 0:$.point)!==null&&B!==void 0?B:{x:M()*2-1,y:M()*2-1,z:M()*2-1})}const U=Math.abs(L.position.x),q=Math.abs(L.position.y),Z=Math.abs(L.position.z),G=Math.max(U,q,Z);L.length=1,U===G&&(L.length-=U/L.bounds.x),q===G&&(L.length-=q/L.bounds.y),Z===G&&(L.length-=Z/L.bounds.z),L.volume=(($==null?void 0:$.volume)!==void 0?$.volume:Math.max(Math.max(0,h),m==="random"?M():m==="inside"?L.length:1-L.length))*f})},[m,n,u,l,t,p,f,v,o,e]),reactExports.useLayoutEffect(()=>{const L=O;return A.current=[...A.current,...L],()=>{A.current=A.current.filter(F=>F.uuid!==C)}},[O]),reactExports.useImperativeHandle(S,()=>w.current,[]),reactExports.createElement("group",_extends$p({ref:w},_))}),Cloud=reactExports.forwardRef((t,e)=>reactExports.useContext(context)?reactExports.createElement(CloudInstance,_extends$p({ref:e},t)):reactExports.createElement(Clouds,null,reactExports.createElement(CloudInstance,_extends$p({ref:e},t)))),getRegionColor=t=>t>=80?"#22c55e":t>=60?"#3b82f6":t>=40?"#eab308":t>=20?"#f97316":"#ef4444",TerrainShaderMaterial=shaderMaterial({uTime:0,uColorA:new Color$1("#a1c05a"),uColorB:new Color$1("#7d9a4c")},`
    varying vec2 vUv;
    varying float vElevation;
    void main() {
      vUv = uv;
      vec4 worldPosition = modelMatrix * vec4(position, 1.0);
      vElevation = worldPosition.y;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,`
    uniform float uTime;
    uniform vec3 uColorA;
    uniform vec3 uColorB;
    varying vec2 vUv;
    varying float vElevation;

    float random (vec2 st) {
        return fract(sin(dot(st.xy,
                             vec2(12.9898,78.233)))*
            43758.5453123);
    }

    void main() {
      float mixFactor = smoothstep(0.0, 0.5, vUv.y);
      vec3 color = mix(uColorA, uColorB, mixFactor);
      float noise = random(vUv * 20.0 + uTime * 0.1) * 0.05;
      color += noise;
      gl_FragColor = vec4(color, 1.0);
    }
  `);extend$1({TerrainShaderMaterial});const CottonPlant=({position:t,scale:e=1})=>{const n=reactExports.useRef(null);return useFrame(({clock:o})=>{n.current&&(n.current.rotation.y=Math.sin(o.elapsedTime*.5+t[0])*.1)}),React$1.createElement("group",{ref:n,position:t,scale:[e,e,e]},React$1.createElement("mesh",{castShadow:!0,position:[0,.3*e,0]},React$1.createElement("cylinderGeometry",{args:[.05*e,.07*e,.6*e,8]}),React$1.createElement("meshStandardMaterial",{color:"#5a4a3a",roughness:.8})),[...Array(5)].map((o,l)=>React$1.createElement("mesh",{castShadow:!0,key:l,position:[(Math.random()-.5)*.3*e,(.6+Math.random()*.3)*e,(Math.random()-.5)*.3*e]},React$1.createElement("sphereGeometry",{args:[.1*e+Math.random()*.05*e,12,8]}),React$1.createElement("meshStandardMaterial",{color:"#ffffff",roughness:.5,metalness:.1}))),React$1.createElement("mesh",{position:[.1*e,.4*e,0],rotation:[0,0,Math.PI/6]},React$1.createElement("planeGeometry",{args:[.2*e,.1*e]}),React$1.createElement("meshStandardMaterial",{color:"#3e7d32",side:DoubleSide,roughness:.7})),React$1.createElement("mesh",{position:[-.1*e,.3*e,.1*e],rotation:[0,Math.PI/2,-Math.PI/5]},React$1.createElement("planeGeometry",{args:[.15*e,.08*e]}),React$1.createElement("meshStandardMaterial",{color:"#4caf50",side:DoubleSide,roughness:.7})))},Stable=({position:t})=>React$1.createElement("group",{position:t},React$1.createElement("mesh",{position:[0,1.5,0],castShadow:!0,receiveShadow:!0},React$1.createElement("boxGeometry",{args:[4,3,6]}),React$1.createElement("meshStandardMaterial",{color:"#8B4513",roughness:.7,metalness:.1})),React$1.createElement("mesh",{position:[0,4.5,0],rotation:[0,Math.PI/4,0],castShadow:!0,receiveShadow:!0},React$1.createElement("coneGeometry",{args:[3.5,3,4]}),React$1.createElement("meshStandardMaterial",{color:"#A0522D",roughness:.8,metalness:.1})),React$1.createElement("mesh",{position:[0,.75,3.01],castShadow:!0,receiveShadow:!0},React$1.createElement("boxGeometry",{args:[1.5,2,.05]}),React$1.createElement("meshStandardMaterial",{color:"#5a2d00"}))),Sun=({position:t})=>React$1.createElement("mesh",{position:t},React$1.createElement("sphereGeometry",{args:[2,32,32]}),React$1.createElement("meshBasicMaterial",{color:"#FFD700"})),CloudsComponent=()=>{const t=reactExports.useRef([]);return reactExports.useEffect(()=>{t.current.length===0&&(t.current=Array.from({length:8}).map(()=>({position:[Math.random()*60-30,12+Math.random()*6,Math.random()*60-30],scale:[Math.random()*3+2,Math.random()*2+1,Math.random()*3+2]})))},[]),React$1.createElement("group",null,t.current.map((e,n)=>React$1.createElement(Cloud,{key:n,...e,opacity:.6,speed:.05,bounds:[e.scale[0]*2,e.scale[2],e.scale[1]],segments:20,color:"#ffffff"})))},Rain=()=>{const t=reactExports.useRef(null),e=5e3,n=reactExports.useMemo(()=>{const l=new Float32Array(e*3);for(let u=0;u<e;u++)l[u*3]=(Math.random()-.5)*80,l[u*3+1]=Math.random()*40,l[u*3+2]=(Math.random()-.5)*80;return l},[]),o=reactExports.useMemo(()=>new PointsMaterial({color:"#a0c0ff",size:.15,transparent:!0,opacity:.5,sizeAttenuation:!0}),[]);return useFrame((l,u)=>{if(t.current){const f=t.current.geometry.attributes.position.array;for(let h=0;h<e;h++)f[h*3+1]-=30*u,f[h*3+1]<-2&&(f[h*3+1]=40);t.current.geometry.attributes.position.needsUpdate=!0}}),React$1.createElement("points",{ref:t},React$1.createElement("bufferGeometry",{attach:"geometry"},React$1.createElement("bufferAttribute",{attach:"attributes-position",count:e,array:n,itemSize:3})),React$1.createElement("primitive",{attach:"material",object:o}))},WaterAccessMap=({onSelectRegion:t})=>{const{regions:e,seasonType:n}=useAppContext(),o=reactExports.useRef(null),l=reactExports.useRef(null),{scene:u}=useThree(),[f,h]=reactExports.useState(1.5),[d,p]=reactExports.useState(.4),[m,v]=reactExports.useState(new Color$1("#f0f9ff")),[_,S]=reactExports.useState(35),[M,A]=reactExports.useState(60),w=reactExports.useRef([]),C=reactExports.useRef([]);reactExports.useEffect(()=>{if(w.current.length===0){const B=Array.from({length:50}).map((U,q)=>{const Z=Math.random()*Math.PI*2,G=12+Math.random()*8,H=Math.cos(Z)*G,ne=Math.sin(Z)*G,ae=1.2+Math.random()*.6;return Math.sqrt(H*H+ne*ne)>5?{x:H,z:ne,scale:ae}:null}).filter(U=>U!==null);w.current=B}if(C.current.length===0){const B=Array.from({length:30}).map(()=>{const U=Math.random()*Math.PI*2,q=5+Math.random()*10,Z=Math.cos(U)*q,G=Math.sin(U)*q,H=.8+Math.random()*.4;return Math.sqrt(Z*Z+G*G)<15?{x:Z,z:G,scale:H}:null}).filter(U=>U!==null);C.current=B}},[]),reactExports.useEffect(()=>{n==="wet"?(h(.7),p(.5),v(new Color$1("#b0c4de")),S(30),A(55)):(h(1.5),p(.4),v(new Color$1("#e6f7ff")),S(40),A(70))},[n]),reactExports.useEffect(()=>{u.fog=new Fog(m,_,M)},[m,_,M,u]),useFrame(({clock:B})=>{l.current&&(l.current.uniforms.uTime.value=B.elapsedTime)});const O=(B,U)=>{B.stopPropagation(),t(U)},L=(B=1)=>React$1.createElement("group",{scale:[B,B,B]},React$1.createElement("mesh",{position:[0,.75*B,0],castShadow:!0,receiveShadow:!0},React$1.createElement("cylinderGeometry",{args:[.15*B,.2*B,1.5*B,8]}),React$1.createElement("meshStandardMaterial",{color:"#654321",roughness:.8})),React$1.createElement("mesh",{position:[0,1.75*B,0],castShadow:!0,receiveShadow:!0},React$1.createElement("coneGeometry",{args:[.6*B,2*B,8]}),React$1.createElement("meshStandardMaterial",{color:"#2d5a27",roughness:.8}))),F=B=>React$1.createElement("mesh",{position:B,rotation:[-Math.PI/2,0,0],"position-y":.05},React$1.createElement("planeGeometry",{args:[2,4]}),React$1.createElement("meshStandardMaterial",{color:"#60a5fa",transparent:!0,opacity:.7,metalness:.2,roughness:.4})),$=(B,U=1)=>React$1.createElement("group",{position:B,scale:[U,U,U]},React$1.createElement("mesh",{position:[0,2*U*.5,0],castShadow:!0,receiveShadow:!0},React$1.createElement("coneGeometry",{args:[3*U,6*U,16]}),React$1.createElement("meshStandardMaterial",{color:"#8c8c8c",roughness:.9,metalness:.1})),React$1.createElement("mesh",{position:[0,2*U*.5+1.5*U*.5-.5,0],castShadow:!0,receiveShadow:!0},React$1.createElement("coneGeometry",{args:[1*U,2*U,8]}),React$1.createElement("meshStandardMaterial",{color:"#ffffff",roughness:.3,metalness:.05})));return React$1.createElement("group",{ref:o,position:[0,-2,0]},React$1.createElement("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0},React$1.createElement("planeGeometry",{args:[60,60,128,128]}),React$1.createElement("terrainShaderMaterial",{ref:l})),React$1.createElement("group",{position:[0,.1,0]},F([0,0,-12])," ",F([1.5,0,-8])," ",F([.5,0,-4]),F([-.5,0,0])," ",F([-1.5,0,4])," ",F([0,0,8]),F([1,0,12])),e.map(B=>{const U=B[n],q=getRegionColor(U.waterAccessLevel),Z=.2+U.waterAccessLevel/100*.5;return React$1.createElement("group",{key:B.id,position:[B.x,.1,B.z]},React$1.createElement("mesh",{castShadow:!0,receiveShadow:!0,onClick:G=>O(G,{...B,currentData:U}),onPointerOver:G=>{document.body.style.cursor="pointer",G.object instanceof Mesh&&G.object.material instanceof MeshStandardMaterial&&(G.object.userData.originalColor=G.object.material.color.clone(),G.object.material.color.lerp(new Color$1(16777215),.3)),G.object.scale.y=1.15},onPointerOut:G=>{document.body.style.cursor="default",G.object instanceof Mesh&&G.object.material instanceof MeshStandardMaterial&&G.object.userData.originalColor&&G.object.material.color.copy(G.object.userData.originalColor),G.object.scale.y=1}},React$1.createElement("boxGeometry",{args:[B.width,Z,B.depth]}),React$1.createElement("meshStandardMaterial",{color:q,roughness:.7,metalness:.1})),React$1.createElement(Text$1,{position:[0,Z/2+.5,0],color:"#222222",fontSize:.4,maxWidth:B.width*1.5,lineHeight:1,letterSpacing:.02,textAlign:"center",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"#ffffff"},B.name))}),w.current.map((B,U)=>React$1.createElement("group",{key:`tree-${U}`,position:[B.x,0,B.z]},L(B.scale))),C.current.map((B,U)=>React$1.createElement(CottonPlant,{key:`cotton-${U}`,position:[B.x,.1,B.z],scale:B.scale})),React$1.createElement(Stable,{position:[12,0,-14]}),$([-22,0,-20],2.5)," ",$([20,0,-18],1.8),$([-18,0,22],2)," ",$([15,0,20],2.4),n==="dry"&&React$1.createElement(Sun,{position:[30,25,-30]}),React$1.createElement(CloudsComponent,null),n==="wet"&&React$1.createElement(Rain,null),React$1.createElement("directionalLight",{position:[15,20,10],intensity:f,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":50,"shadow-camera-left":-25,"shadow-camera-right":25,"shadow-camera-top":25,"shadow-camera-bottom":-25}),React$1.createElement("directionalLight",{position:[-10,15,-10],intensity:f*.3}),React$1.createElement("ambientLight",{intensity:d}))},WaterAccessMap$1=reactExports.memo(WaterAccessMap),MapLegend=()=>React$1.createElement("div",{className:`
        bg-white/90 backdrop-blur-sm 
        p-3 sm:p-4 
        rounded-lg shadow-md 
        max-w-[95vw] xs:max-w-xs sm:max-w-sm 
        text-left 
        transform origin-top-left
        scale-[0.85] xs:scale-[0.9] sm:scale-95 md:scale-100
      `},React$1.createElement("h3",{className:"text-sm sm:text-base font-semibold mb-2 text-gray-800"},"Acesso Hdrico"),React$1.createElement("div",{className:"space-y-1.5"},React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:"w-4 h-4 rounded bg-green-500 mr-2 shrink-0"}),React$1.createElement("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700"},"timo (80-100%)")),React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:"w-4 h-4 rounded bg-blue-500 mr-2 shrink-0"}),React$1.createElement("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700"},"Bom (60-80%)")),React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:"w-4 h-4 rounded bg-yellow-500 mr-2 shrink-0"}),React$1.createElement("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700"},"Moderado (40-60%)")),React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:"w-4 h-4 rounded bg-orange-500 mr-2 shrink-0"}),React$1.createElement("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700"},"Deficiente (20-40%)")),React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:"w-4 h-4 rounded bg-red-500 mr-2 shrink-0"}),React$1.createElement("span",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-700"},"Crtico (0-20%)")))),_changeEvent={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"},_ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*MathUtils.DEG2RAD);class OrbitControls extends EventDispatcher$1{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Vector3,this.cursor=new Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN},this.touches={ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(xe){xe.addEventListener("keydown",mt),this._domElementKeyEvents=xe},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",mt),this._domElementKeyEvents=null},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(_changeEvent),o.update(),u=l.NONE},this.update=function(){const xe=new Vector3,qe=new Quaternion().setFromUnitVectors(e.up,new Vector3(0,1,0)),lt=qe.clone().invert(),Te=new Vector3,gt=new Quaternion,ze=new Vector3,at=2*Math.PI;return function(At=null){const Tt=o.object.position;xe.copy(Tt).sub(o.target),xe.applyQuaternion(qe),h.setFromVector3(xe),o.autoRotate&&u===l.NONE&&ne(G(At)),o.enableDamping?(h.theta+=d.theta*o.dampingFactor,h.phi+=d.phi*o.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let Nt=o.minAzimuthAngle,Jt=o.maxAzimuthAngle;isFinite(Nt)&&isFinite(Jt)&&(Nt<-Math.PI?Nt+=at:Nt>Math.PI&&(Nt-=at),Jt<-Math.PI?Jt+=at:Jt>Math.PI&&(Jt-=at),Nt<=Jt?h.theta=Math.max(Nt,Math.min(Jt,h.theta)):h.theta=h.theta>(Nt+Jt)/2?Math.max(Nt,h.theta):Math.min(Jt,h.theta)),h.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,h.phi)),h.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(m,o.dampingFactor):o.target.add(m),o.target.sub(o.cursor),o.target.clampLength(o.minTargetRadius,o.maxTargetRadius),o.target.add(o.cursor);let Ut=!1;if(o.zoomToCursor&&B||o.object.isOrthographicCamera)h.radius=se(h.radius);else{const Zt=h.radius;h.radius=se(h.radius*p),Ut=Zt!=h.radius}if(xe.setFromSpherical(h),xe.applyQuaternion(lt),Tt.copy(o.target).add(xe),o.object.lookAt(o.target),o.enableDamping===!0?(d.theta*=1-o.dampingFactor,d.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),o.zoomToCursor&&B){let Zt=null;if(o.object.isPerspectiveCamera){const fn=xe.length();Zt=se(fn*p);const Qn=fn-Zt;o.object.position.addScaledVector(F,Qn),o.object.updateMatrixWorld(),Ut=!!Qn}else if(o.object.isOrthographicCamera){const fn=new Vector3($.x,$.y,0);fn.unproject(o.object);const Qn=o.object.zoom;o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/p)),o.object.updateProjectionMatrix(),Ut=Qn!==o.object.zoom;const $n=new Vector3($.x,$.y,0);$n.unproject(o.object),o.object.position.sub($n).add(fn),o.object.updateMatrixWorld(),Zt=xe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;Zt!==null&&(this.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(Zt).add(o.object.position):(_ray.origin.copy(o.object.position),_ray.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(_ray.direction))<TILT_LIMIT?e.lookAt(o.target):(_plane.setFromNormalAndCoplanarPoint(o.object.up,o.target),_ray.intersectPlane(_plane,o.target))))}else if(o.object.isOrthographicCamera){const Zt=o.object.zoom;o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/p)),Zt!==o.object.zoom&&(o.object.updateProjectionMatrix(),Ut=!0)}return p=1,B=!1,Ut||Te.distanceToSquared(o.object.position)>f||8*(1-gt.dot(o.object.quaternion))>f||ze.distanceToSquared(o.target)>f?(o.dispatchEvent(_changeEvent),Te.copy(o.object.position),gt.copy(o.object.quaternion),ze.copy(o.target),!0):!1}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",Et),o.domElement.removeEventListener("pointerdown",Je),o.domElement.removeEventListener("pointercancel",pe),o.domElement.removeEventListener("wheel",De),o.domElement.removeEventListener("pointermove",ot),o.domElement.removeEventListener("pointerup",pe),o.domElement.getRootNode().removeEventListener("keydown",tt,{capture:!0}),o._domElementKeyEvents!==null&&(o._domElementKeyEvents.removeEventListener("keydown",mt),o._domElementKeyEvents=null)};const o=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const f=1e-6,h=new Spherical,d=new Spherical;let p=1;const m=new Vector3,v=new Vector2,_=new Vector2,S=new Vector2,M=new Vector2,A=new Vector2,w=new Vector2,C=new Vector2,O=new Vector2,L=new Vector2,F=new Vector3,$=new Vector2;let B=!1;const U=[],q={};let Z=!1;function G(xe){return xe!==null?2*Math.PI/60*o.autoRotateSpeed*xe:2*Math.PI/60/60*o.autoRotateSpeed}function H(xe){const qe=Math.abs(xe*.01);return Math.pow(.95,o.zoomSpeed*qe)}function ne(xe){d.theta-=xe}function ae(xe){d.phi-=xe}const te=function(){const xe=new Vector3;return function(lt,Te){xe.setFromMatrixColumn(Te,0),xe.multiplyScalar(-lt),m.add(xe)}}(),ce=function(){const xe=new Vector3;return function(lt,Te){o.screenSpacePanning===!0?xe.setFromMatrixColumn(Te,1):(xe.setFromMatrixColumn(Te,0),xe.crossVectors(o.object.up,xe)),xe.multiplyScalar(lt),m.add(xe)}}(),fe=function(){const xe=new Vector3;return function(lt,Te){const gt=o.domElement;if(o.object.isPerspectiveCamera){const ze=o.object.position;xe.copy(ze).sub(o.target);let at=xe.length();at*=Math.tan(o.object.fov/2*Math.PI/180),te(2*lt*at/gt.clientHeight,o.object.matrix),ce(2*Te*at/gt.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(te(lt*(o.object.right-o.object.left)/o.object.zoom/gt.clientWidth,o.object.matrix),ce(Te*(o.object.top-o.object.bottom)/o.object.zoom/gt.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function ye(xe){o.object.isPerspectiveCamera||o.object.isOrthographicCamera?p/=xe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function J(xe){o.object.isPerspectiveCamera||o.object.isOrthographicCamera?p*=xe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function oe(xe,qe){if(!o.zoomToCursor)return;B=!0;const lt=o.domElement.getBoundingClientRect(),Te=xe-lt.left,gt=qe-lt.top,ze=lt.width,at=lt.height;$.x=Te/ze*2-1,$.y=-(gt/at)*2+1,F.set($.x,$.y,1).unproject(o.object).sub(o.object.position).normalize()}function se(xe){return Math.max(o.minDistance,Math.min(o.maxDistance,xe))}function Q(xe){v.set(xe.clientX,xe.clientY)}function ue(xe){oe(xe.clientX,xe.clientX),C.set(xe.clientX,xe.clientY)}function _e(xe){M.set(xe.clientX,xe.clientY)}function ge(xe){_.set(xe.clientX,xe.clientY),S.subVectors(_,v).multiplyScalar(o.rotateSpeed);const qe=o.domElement;ne(2*Math.PI*S.x/qe.clientHeight),ae(2*Math.PI*S.y/qe.clientHeight),v.copy(_),o.update()}function ve(xe){O.set(xe.clientX,xe.clientY),L.subVectors(O,C),L.y>0?ye(H(L.y)):L.y<0&&J(H(L.y)),C.copy(O),o.update()}function we(xe){A.set(xe.clientX,xe.clientY),w.subVectors(A,M).multiplyScalar(o.panSpeed),fe(w.x,w.y),M.copy(A),o.update()}function Pe(xe){oe(xe.clientX,xe.clientY),xe.deltaY<0?J(H(xe.deltaY)):xe.deltaY>0&&ye(H(xe.deltaY)),o.update()}function Re(xe){let qe=!1;switch(xe.code){case o.keys.UP:xe.ctrlKey||xe.metaKey||xe.shiftKey?ae(2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(0,o.keyPanSpeed),qe=!0;break;case o.keys.BOTTOM:xe.ctrlKey||xe.metaKey||xe.shiftKey?ae(-2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(0,-o.keyPanSpeed),qe=!0;break;case o.keys.LEFT:xe.ctrlKey||xe.metaKey||xe.shiftKey?ne(2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(o.keyPanSpeed,0),qe=!0;break;case o.keys.RIGHT:xe.ctrlKey||xe.metaKey||xe.shiftKey?ne(-2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(-o.keyPanSpeed,0),qe=!0;break}qe&&(xe.preventDefault(),o.update())}function Ae(xe){if(U.length===1)v.set(xe.pageX,xe.pageY);else{const qe=Se(xe),lt=.5*(xe.pageX+qe.x),Te=.5*(xe.pageY+qe.y);v.set(lt,Te)}}function Ne(xe){if(U.length===1)M.set(xe.pageX,xe.pageY);else{const qe=Se(xe),lt=.5*(xe.pageX+qe.x),Te=.5*(xe.pageY+qe.y);M.set(lt,Te)}}function Ie(xe){const qe=Se(xe),lt=xe.pageX-qe.x,Te=xe.pageY-qe.y,gt=Math.sqrt(lt*lt+Te*Te);C.set(0,gt)}function he(xe){o.enableZoom&&Ie(xe),o.enablePan&&Ne(xe)}function ke(xe){o.enableZoom&&Ie(xe),o.enableRotate&&Ae(xe)}function Me(xe){if(U.length==1)_.set(xe.pageX,xe.pageY);else{const lt=Se(xe),Te=.5*(xe.pageX+lt.x),gt=.5*(xe.pageY+lt.y);_.set(Te,gt)}S.subVectors(_,v).multiplyScalar(o.rotateSpeed);const qe=o.domElement;ne(2*Math.PI*S.x/qe.clientHeight),ae(2*Math.PI*S.y/qe.clientHeight),v.copy(_)}function je(xe){if(U.length===1)A.set(xe.pageX,xe.pageY);else{const qe=Se(xe),lt=.5*(xe.pageX+qe.x),Te=.5*(xe.pageY+qe.y);A.set(lt,Te)}w.subVectors(A,M).multiplyScalar(o.panSpeed),fe(w.x,w.y),M.copy(A)}function Fe(xe){const qe=Se(xe),lt=xe.pageX-qe.x,Te=xe.pageY-qe.y,gt=Math.sqrt(lt*lt+Te*Te);O.set(0,gt),L.set(0,Math.pow(O.y/C.y,o.zoomSpeed)),ye(L.y),C.copy(O);const ze=(xe.pageX+qe.x)*.5,at=(xe.pageY+qe.y)*.5;oe(ze,at)}function Qe(xe){o.enableZoom&&Fe(xe),o.enablePan&&je(xe)}function Ve(xe){o.enableZoom&&Fe(xe),o.enableRotate&&Me(xe)}function Je(xe){o.enabled!==!1&&(U.length===0&&(o.domElement.setPointerCapture(xe.pointerId),o.domElement.addEventListener("pointermove",ot),o.domElement.addEventListener("pointerup",pe)),!bt(xe)&&(dt(xe),xe.pointerType==="touch"?it(xe):de(xe)))}function ot(xe){o.enabled!==!1&&(xe.pointerType==="touch"?ht(xe):Oe(xe))}function pe(xe){switch(It(xe),U.length){case 0:o.domElement.releasePointerCapture(xe.pointerId),o.domElement.removeEventListener("pointermove",ot),o.domElement.removeEventListener("pointerup",pe),o.dispatchEvent(_endEvent),u=l.NONE;break;case 1:const qe=U[0],lt=q[qe];it({pointerId:qe,pageX:lt.x,pageY:lt.y});break}}function de(xe){let qe;switch(xe.button){case 0:qe=o.mouseButtons.LEFT;break;case 1:qe=o.mouseButtons.MIDDLE;break;case 2:qe=o.mouseButtons.RIGHT;break;default:qe=-1}switch(qe){case MOUSE.DOLLY:if(o.enableZoom===!1)return;ue(xe),u=l.DOLLY;break;case MOUSE.ROTATE:if(xe.ctrlKey||xe.metaKey||xe.shiftKey){if(o.enablePan===!1)return;_e(xe),u=l.PAN}else{if(o.enableRotate===!1)return;Q(xe),u=l.ROTATE}break;case MOUSE.PAN:if(xe.ctrlKey||xe.metaKey||xe.shiftKey){if(o.enableRotate===!1)return;Q(xe),u=l.ROTATE}else{if(o.enablePan===!1)return;_e(xe),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&o.dispatchEvent(_startEvent)}function Oe(xe){switch(u){case l.ROTATE:if(o.enableRotate===!1)return;ge(xe);break;case l.DOLLY:if(o.enableZoom===!1)return;ve(xe);break;case l.PAN:if(o.enablePan===!1)return;we(xe);break}}function De(xe){o.enabled===!1||o.enableZoom===!1||u!==l.NONE||(xe.preventDefault(),o.dispatchEvent(_startEvent),Pe(Ue(xe)),o.dispatchEvent(_endEvent))}function Ue(xe){const qe=xe.deltaMode,lt={clientX:xe.clientX,clientY:xe.clientY,deltaY:xe.deltaY};switch(qe){case 1:lt.deltaY*=16;break;case 2:lt.deltaY*=100;break}return xe.ctrlKey&&!Z&&(lt.deltaY*=10),lt}function tt(xe){xe.key==="Control"&&(Z=!0,o.domElement.getRootNode().addEventListener("keyup",ut,{passive:!0,capture:!0}))}function ut(xe){xe.key==="Control"&&(Z=!1,o.domElement.getRootNode().removeEventListener("keyup",ut,{passive:!0,capture:!0}))}function mt(xe){o.enabled===!1||o.enablePan===!1||Re(xe)}function it(xe){switch(pt(xe),U.length){case 1:switch(o.touches.ONE){case TOUCH.ROTATE:if(o.enableRotate===!1)return;Ae(xe),u=l.TOUCH_ROTATE;break;case TOUCH.PAN:if(o.enablePan===!1)return;Ne(xe),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(o.touches.TWO){case TOUCH.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;he(xe),u=l.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;ke(xe),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&o.dispatchEvent(_startEvent)}function ht(xe){switch(pt(xe),u){case l.TOUCH_ROTATE:if(o.enableRotate===!1)return;Me(xe),o.update();break;case l.TOUCH_PAN:if(o.enablePan===!1)return;je(xe),o.update();break;case l.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Qe(xe),o.update();break;case l.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Ve(xe),o.update();break;default:u=l.NONE}}function Et(xe){o.enabled!==!1&&xe.preventDefault()}function dt(xe){U.push(xe.pointerId)}function It(xe){delete q[xe.pointerId];for(let qe=0;qe<U.length;qe++)if(U[qe]==xe.pointerId){U.splice(qe,1);return}}function bt(xe){for(let qe=0;qe<U.length;qe++)if(U[qe]==xe.pointerId)return!0;return!1}function pt(xe){let qe=q[xe.pointerId];qe===void 0&&(qe=new Vector2,q[xe.pointerId]=qe),qe.set(xe.pageX,xe.pageY)}function Se(xe){const qe=xe.pointerId===U[0]?U[1]:U[0];return q[qe]}o.domElement.addEventListener("contextmenu",Et),o.domElement.addEventListener("pointerdown",Je),o.domElement.addEventListener("pointercancel",pe),o.domElement.addEventListener("wheel",De,{passive:!1}),o.domElement.getRootNode().addEventListener("keydown",tt,{passive:!0,capture:!0}),this.update()}}const MapControls=()=>{const{controls:t}=useThree(),e=()=>{if(t&&t instanceof OrbitControls)return t;console.warn("Os controles no so uma instncia de OrbitControls ou esto indefinidos.")},n=()=>{const f=e();f&&(f.dolly(.8),f.update())},o=()=>{const f=e();f&&(f.dolly(1.2),f.update())},l=()=>{const f=e();f&&(f.reset(),f.update())},u=()=>{const f=document.documentElement;document.fullscreenElement?document.exitFullscreen().catch(h=>{console.error(`Erro ao tentar sair da tela cheia: ${h.message}`)}):f.requestFullscreen().catch(h=>{console.error(`Erro ao tentar ativar tela cheia: ${h.message}`)})};return React$1.createElement(Html,{position:[0,0,0],style:{position:"absolute",right:"-470px",top:"-245px",zIndex:30}},React$1.createElement("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md"},React$1.createElement("div",{className:"flex flex-col space-y-2"},React$1.createElement("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom In",onClick:n},React$1.createElement(ZoomIn,{className:"w-5 h-5 text-gray-600"})),React$1.createElement("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom Out",onClick:o},React$1.createElement(ZoomOut,{className:"w-5 h-5 text-gray-600"})),React$1.createElement("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Resetar Vista",onClick:l},React$1.createElement(RotateCcw,{className:"w-5 h-5 text-gray-600"})),React$1.createElement("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Tela Cheia",onClick:u},React$1.createElement(Maximize,{className:"w-5 h-5 text-gray-600"})))))},MapContainer=({onSelectRegion:t})=>{const{isLoading:e,seasonType:n,setSeasonType:o}=useAppContext();return React$1.createElement("div",{className:"relative w-full h-full bg-sky-50"},e&&React$1.createElement("div",{className:"absolute inset-0 bg-gray-100/80 flex items-center justify-center z-50"},React$1.createElement("div",{className:"flex flex-col items-center"},React$1.createElement("div",{className:"h-10 w-10 border-4 border-t-blue-500 border-blue-200 rounded-full animate-spin"}),React$1.createElement("p",{className:"mt-4 text-gray-600 font-medium"},"Carregando mapa..."))),React$1.createElement(Canvas,{camera:{position:[0,20,25],fov:45},shadows:!0,className:"w-full h-full"},React$1.createElement("color",{attach:"background",args:["#f0f9ff"]}),React$1.createElement(reactExports.Suspense,{fallback:null},React$1.createElement(WaterAccessMap$1,{onSelectRegion:t}),React$1.createElement(OrbitControls$1,{enablePan:!0,enableZoom:!0,enableRotate:!0,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2.1,minDistance:15,maxDistance:35}),React$1.createElement(MapControls,null))),React$1.createElement("div",{className:"absolute top-4 left-4 z-20"},React$1.createElement(MapLegend,null)),React$1.createElement("div",{className:"absolute top-4 right-4 z-20 flex flex-col gap-2"},React$1.createElement("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md"},React$1.createElement("div",{className:"space-y-1"},React$1.createElement("select",{value:n,onChange:l=>o(l.target.value),className:"w-full text-xs p-1.5 border border-gray-200 rounded"},React$1.createElement("option",{value:"dry"},"Estao Seca"),React$1.createElement("option",{value:"wet"},"Estao Chuvosa"))))))};function r(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var t,e,n=0,o="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,o=e.toString,l=t?t.toStringTag:void 0;function u(f){var h=n.call(f,l),d=f[l];try{f[l]=void 0;var p=!0}catch{}var m=o.call(f);return p&&(h?f[l]=d:delete f[l]),m}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(o){return e.call(o)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),o="[object Null]",l="[object Undefined]",u=t?t.toStringTag:void 0;function f(h){return h==null?h===void 0?l:o:u&&u in Object(h)?e(h):n(h)}return _baseGetTag=f,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function o(l){return typeof l=="symbol"||e(l)&&t(l)==n}return isSymbol_1=o,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var t=requireIsArray(),e=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function l(u,f){if(t(u))return!1;var h=typeof u;return h=="number"||h=="symbol"||h=="boolean"||u==null||e(u)?!0:o.test(u)||!n.test(u)||f!=null&&u in Object(f)}return _isKey=l,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),n="[object AsyncFunction]",o="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function f(h){if(!e(h))return!1;var d=t(h);return d==o||d==l||d==n||d==u}return isFunction_1=f,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=function(){var o=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function n(o){return!!e&&e in o}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function n(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),n=requireIsObject(),o=require_toSource(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,d=f.toString,p=h.hasOwnProperty,m=RegExp("^"+d.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(_){if(!n(_)||e(_))return!1;var S=t(_)?m:u;return S.test(o(_))}return _baseIsNative=v,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,n){return e==null?void 0:e[n]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function n(o,l){var u=e(o,l);return t(u)?u:void 0}return _getNative=n,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",n=Object.prototype,o=n.hasOwnProperty;function l(u){var f=this.__data__;if(t){var h=f[u];return h===e?void 0:h}return o.call(f,u)?f[u]:void 0}return _hashGet=l,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,n=e.hasOwnProperty;function o(l){var u=this.__data__;return t?u[l]!==void 0:n.call(u,l)}return _hashHas=o,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function n(o,l){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=t&&l===void 0?e:l,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),n=require_hashGet(),o=require_hashHas(),l=require_hashSet();function u(f){var h=-1,d=f==null?0:f.length;for(this.clear();++h<d;){var p=f[h];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_Hash=u,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function t(e,n){return e===n||e!==e&&n!==n}return eq_1=t,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq();function e(n,o){for(var l=n.length;l--;)if(t(n[l][0],o))return l;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,n=e.splice;function o(l){var u=this.__data__,f=t(u,l);if(f<0)return!1;var h=u.length-1;return f==h?u.pop():n.call(u,f,1),--this.size,!0}return _listCacheDelete=o,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(n){var o=this.__data__,l=t(o,n);return l<0?void 0:o[l][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(n){return t(this.__data__,n)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(n,o){var l=this.__data__,u=t(l,n);return u<0?(++this.size,l.push([n,o])):l[u][1]=o,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),n=require_listCacheGet(),o=require_listCacheHas(),l=require_listCacheSet();function u(f){var h=-1,d=f==null?0:f.length;for(this.clear();++h<d;){var p=f[h];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_ListCache=u,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),n=t(e,"Map");return _Map=n,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),n=require_Map();function o(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return _mapCacheClear=o,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(n,o){var l=n.__data__;return t(o)?l[typeof o=="string"?"string":"hash"]:l.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(n){var o=t(this,n).delete(n);return this.size-=o?1:0,o}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(n){return t(this,n).get(n)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(n){return t(this,n).has(n)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(n,o){var l=t(this,n),u=l.size;return l.set(n,o),this.size+=l.size==u?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),n=require_mapCacheGet(),o=require_mapCacheHas(),l=require_mapCacheSet();function u(f){var h=-1,d=f==null?0:f.length;for(this.clear();++h<d;){var p=f[h];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_MapCache=u,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var t=require_MapCache(),e="Expected a function";function n(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var u=function(){var f=arguments,h=l?l.apply(this,f):f[0],d=u.cache;if(d.has(h))return d.get(h);var p=o.apply(this,f);return u.cache=d.set(h,p)||d,p};return u.cache=new(n.Cache||t),u}return n.Cache=t,memoize_1=n,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var t=requireMemoize(),e=500;function n(o){var l=t(o,function(f){return u.size===e&&u.clear(),f}),u=l.cache;return l}return _memoizeCapped=n,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var t=require_memoizeCapped(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,o=t(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(e,function(f,h,d,p){u.push(d?p.replace(n,"$1"):h||f)}),u});return _stringToPath=o,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=Array(l);++o<l;)u[o]=n(e[o],o,e);return u}return _arrayMap=t,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var t=require_Symbol(),e=require_arrayMap(),n=requireIsArray(),o=requireIsSymbol(),l=t?t.prototype:void 0,u=l?l.toString:void 0;function f(h){if(typeof h=="string")return h;if(n(h))return e(h,f)+"";if(o(h))return u?u.call(h):"";var d=h+"";return d=="0"&&1/h==-1/0?"-0":d}return _baseToString=f,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var t=require_baseToString();function e(n){return n==null?"":t(n)}return toString_1=e,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var t=requireIsArray(),e=require_isKey(),n=require_stringToPath(),o=requireToString();function l(u,f){return t(u)?u:e(u,f)?[u]:n(o(u))}return _castPath=l,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var t=requireIsSymbol();function e(n){if(typeof n=="string"||t(n))return n;var o=n+"";return o=="0"&&1/n==-1/0?"-0":o}return _toKey=e,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var t=require_castPath(),e=require_toKey();function n(o,l){l=t(l,o);for(var u=0,f=l.length;o!=null&&u<f;)o=o[e(l[u++])];return u&&u==f?o:void 0}return _baseGet=n,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var t=require_baseGet();function e(n,o,l){var u=n==null?void 0:t(n,o);return u===void 0?l:u}return get_1=e,get_1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function t(e){return e==null}return isNil_1=t,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var t=require_baseGetTag(),e=requireIsArray(),n=requireIsObjectLike(),o="[object String]";function l(u){return typeof u=="string"||!e(u)&&n(u)&&t(u)==o}return isString_1=l,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),M;M=Symbol.for("react.module.reference");function A(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case t:switch(w=w.type,w){case n:case l:case o:case p:case m:return w;default:switch(w=w&&w.$$typeof,w){case h:case f:case d:case _:case v:case u:return w;default:return C}}case e:return C}}}return reactIs_production_min.ContextConsumer=f,reactIs_production_min.ContextProvider=u,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=d,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=_,reactIs_production_min.Memo=v,reactIs_production_min.Portal=e,reactIs_production_min.Profiler=l,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=p,reactIs_production_min.SuspenseList=m,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(w){return A(w)===f},reactIs_production_min.isContextProvider=function(w){return A(w)===u},reactIs_production_min.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},reactIs_production_min.isForwardRef=function(w){return A(w)===d},reactIs_production_min.isFragment=function(w){return A(w)===n},reactIs_production_min.isLazy=function(w){return A(w)===_},reactIs_production_min.isMemo=function(w){return A(w)===v},reactIs_production_min.isPortal=function(w){return A(w)===e},reactIs_production_min.isProfiler=function(w){return A(w)===l},reactIs_production_min.isStrictMode=function(w){return A(w)===o},reactIs_production_min.isSuspense=function(w){return A(w)===p},reactIs_production_min.isSuspenseList=function(w){return A(w)===m},reactIs_production_min.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===o||w===p||w===m||w===S||typeof w=="object"&&w!==null&&(w.$$typeof===_||w.$$typeof===v||w.$$typeof===u||w.$$typeof===f||w.$$typeof===d||w.$$typeof===M||w.getModuleId!==void 0)},reactIs_production_min.typeOf=A,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Number]";function o(l){return typeof l=="number"||e(l)&&t(l)==n}return isNumber_1=o,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var t=requireIsNumber();function e(n){return t(n)&&n!=+n}return _isNaN=e,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function t(e){return e===0?0:e>0?1:-1},isPercent=function t(e){return isString(e)&&e.indexOf("%")===e.length-1},isNumber=function t(e){return isNumber$1(e)&&!isNan(e)},isNumOrStr=function t(e){return isNumber(e)||isString(e)},idCounter=0,uniqueId=function t(e){var n=++idCounter;return"".concat(e||"").concat(n)},getPercentValue=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&!isString(e))return o;var u;if(isPercent(e)){var f=e.indexOf("%");u=n*parseFloat(e.slice(0,f))/100}else u=+e;return isNan(u)&&(u=o),l&&u>n&&(u=n),u},getAnyElementOfObject=function t(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hasDuplicate=function t(e){if(!Array.isArray(e))return!1;for(var n=e.length,o={},l=0;l<n;l++)if(!o[e[l]])o[e[l]]=!0;else return!0;return!1},interpolateNumber$2=function t(e,n){return isNumber(e)&&isNumber(n)?function(o){return e+o*(n-e)}:function(){return n}};function findEntryInArray(t,e,n){return!t||!t.length?null:t.find(function(o){return o&&(typeof e=="function"?e(o):get(o,e))===n})}var compareValues=function t(e,n){return isNumber(e)&&isNumber(n)?e-n:isString(e)&&isString(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function shallowEqual(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var o in e)if({}.hasOwnProperty.call(e,o)&&!{}.hasOwnProperty.call(t,o))return!1;return!0}function _typeof$F(t){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$F(t)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function t(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var o=e;if(reactExports.isValidElement(e)&&(o=e.props),!isObject(o))return null;var l={};return Object.keys(o).forEach(function(u){EventKeys.includes(u)&&(l[u]=n||function(f){return o[u](o,f)})}),l},getEventHandlerOfChild=function t(e,n,o){return function(l){return e(n,o,l),null}},adaptEventsOfChild=function t(e,n,o){if(!isObject(e)||_typeof$F(e)!=="object")return null;var l=null;return Object.keys(e).forEach(function(u){var f=e[u];EventKeys.includes(u)&&typeof f=="function"&&(l||(l={}),l[u]=getEventHandlerOfChild(f,n,o))}),l},_excluded$f=["children"],_excluded2$4=["children"];function _objectWithoutProperties$f(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$f(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function t(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function t(e){if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var n=[];return reactExports.Children.forEach(e,function(o){isNil(o)||(reactIsExports.isFragment(o)?n=n.concat(t(o.props.children)):n.push(o))}),lastResult=n,lastChildren=e,n};function findAllByType(t,e){var n=[],o=[];return Array.isArray(e)?o=e.map(function(l){return getDisplayName(l)}):o=[getDisplayName(e)],toArray(t).forEach(function(l){var u=get(l,"type.displayName")||get(l,"type.name");o.indexOf(u)!==-1&&n.push(l)}),n}function findChildByType(t,e){var n=findAllByType(t,e);return n&&n[0]}var validateWidthHeight=function t(e){if(!e||!e.props)return!1;var n=e.props,o=n.width,l=n.height;return!(!isNumber(o)||o<=0||!isNumber(l)||l<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function t(e){return e&&e.type&&isString(e.type)&&SVG_TAGS.indexOf(e.type)>=0},isValidSpreadableProp=function t(e,n,o,l){var u,f=(u=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[l])!==null&&u!==void 0?u:[];return n.startsWith("data-")||!isFunction(e)&&(l&&f.includes(n)||SVGElementPropKeys.includes(n))||o&&EventKeys.includes(n)},filterProps=function t(e,n,o){if(!e||typeof e=="function"||typeof e=="boolean")return null;var l=e;if(reactExports.isValidElement(e)&&(l=e.props),!isObject(l))return null;var u={};return Object.keys(l).forEach(function(f){var h;isValidSpreadableProp((h=l)===null||h===void 0?void 0:h[f],f,n,o)&&(u[f]=l[f])}),u},isChildrenEqual=function t(e,n){if(e===n)return!0;var o=reactExports.Children.count(e);if(o!==reactExports.Children.count(n))return!1;if(o===0)return!0;if(o===1)return isSingleChildEqual(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var l=0;l<o;l++){var u=e[l],f=n[l];if(Array.isArray(u)||Array.isArray(f)){if(!t(u,f))return!1}else if(!isSingleChildEqual(u,f))return!1}return!0},isSingleChildEqual=function t(e,n){if(isNil(e)&&isNil(n))return!0;if(!isNil(e)&&!isNil(n)){var o=e.props||{},l=o.children,u=_objectWithoutProperties$f(o,_excluded$f),f=n.props||{},h=f.children,d=_objectWithoutProperties$f(f,_excluded2$4);return l&&h?shallowEqual(u,d)&&isChildrenEqual(l,h):!l&&!h?shallowEqual(u,d):!1}return!1},renderByOrder=function t(e,n){var o=[],l={};return toArray(e).forEach(function(u,f){if(isSvgElement(u))o.push(u);else if(u){var h=getDisplayName(u.type),d=n[h]||{},p=d.handler,m=d.once;if(p&&(!m||!l[h])){var v=p(u,h,f);o.push(v),l[h]=!0}}}),o},getReactEventByType=function t(e){var n=e&&e.type;return n&&REACT_BROWSER_EVENT_MAP[n]?REACT_BROWSER_EVENT_MAP[n]:null},parseChildIndex=function t(e,n){return toArray(n).indexOf(e)},_excluded$e=["children","width","height","viewBox","className","style","title","desc"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$o.apply(this,arguments)}function _objectWithoutProperties$e(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$e(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Surface(t){var e=t.children,n=t.width,o=t.height,l=t.viewBox,u=t.className,f=t.style,h=t.title,d=t.desc,p=_objectWithoutProperties$e(t,_excluded$e),m=l||{width:n,height:o,x:0,y:0},v=clsx("recharts-surface",u);return React$1.createElement("svg",_extends$o({},filterProps(p,!0,"svg"),{className:v,width:n,height:o,style:f,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),React$1.createElement("title",null,h),React$1.createElement("desc",null,d),e)}var _excluded$d=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$n.apply(this,arguments)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$d(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var Layer=React$1.forwardRef(function(t,e){var n=t.children,o=t.className,l=_objectWithoutProperties$d(t,_excluded$d),u=clsx("recharts-layer",o);return React$1.createElement("g",_extends$n({className:u},filterProps(l,!0),{ref:e}),n)}),warn=function t(e,n){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function t(e,n,o){var l=-1,u=e.length;n<0&&(n=-n>u?0:u+n),o=o>u?u:o,o<0&&(o+=u),u=n>o?0:o-n>>>0,n>>>=0;for(var f=Array(u);++l<u;)f[l]=e[l+n];return f}return _baseSlice=t,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var t=require_baseSlice();function e(n,o,l){var u=n.length;return l=l===void 0?u:l,!o&&l>=u?n:t(n,o,l)}return _castSlice=e,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",f="\\u200d",h=RegExp("["+f+t+l+u+"]");function d(p){return h.test(p)}return _hasUnicode=d,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function t(e){return e.split("")}return _asciiToArray=t,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",f="["+t+"]",h="["+l+"]",d="\\ud83c[\\udffb-\\udfff]",p="(?:"+h+"|"+d+")",m="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",M=p+"?",A="["+u+"]?",w="(?:"+S+"(?:"+[m,v,_].join("|")+")"+A+M+")*",C=A+M+w,O="(?:"+[m+h+"?",h,v,_,f].join("|")+")",L=RegExp(d+"(?="+d+")|"+O+C,"g");function F($){return $.match(L)||[]}return _unicodeToArray=F,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var t=require_asciiToArray(),e=require_hasUnicode(),n=require_unicodeToArray();function o(l){return e(l)?n(l):t(l)}return _stringToArray=o,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var t=require_castSlice(),e=require_hasUnicode(),n=require_stringToArray(),o=requireToString();function l(u){return function(f){f=o(f);var h=e(f)?n(f):void 0,d=h?h[0]:f.charAt(0),p=h?t(h,1).join(""):f.slice(1);return d[u]()+p}}return _createCaseFirst=l,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var t=require_createCaseFirst(),e=t("toUpperCase");return upperFirst_1=e,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const n=10**e;return function(o){this._+=o[0];for(let l=1,u=o.length;l<u;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,l){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(e,n,o,l,u,f){this._append`C${+e},${+n},${+o},${+l},${this._x1=+u},${this._y1=+f}`}arcTo(e,n,o,l,u){if(e=+e,n=+n,o=+o,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let f=this._x1,h=this._y1,d=o-e,p=l-n,m=f-e,v=h-n,_=m*m+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>epsilon)if(!(Math.abs(v*d-p*m)>epsilon)||!u)this._append`L${this._x1=e},${this._y1=n}`;else{let S=o-f,M=l-h,A=d*d+p*p,w=S*S+M*M,C=Math.sqrt(A),O=Math.sqrt(_),L=u*Math.tan((pi-Math.acos((A+_-w)/(2*C*O)))/2),F=L/O,$=L/C;Math.abs(F-1)>epsilon&&this._append`L${e+F*m},${n+F*v}`,this._append`A${u},${u},0,0,${+(v*S>m*M)},${this._x1=e+$*d},${this._y1=n+$*p}`}}arc(e,n,o,l,u,f){if(e=+e,n=+n,o=+o,f=!!f,o<0)throw new Error(`negative radius: ${o}`);let h=o*Math.cos(l),d=o*Math.sin(l),p=e+h,m=n+d,v=1^f,_=f?l-u:u-l;this._x1===null?this._append`M${p},${m}`:(Math.abs(this._x1-p)>epsilon||Math.abs(this._y1-m)>epsilon)&&this._append`L${p},${m}`,o&&(_<0&&(_=_%tau+tau),_>tauEpsilon?this._append`A${o},${o},0,1,${v},${e-h},${n-d}A${o},${o},0,1,${v},${this._x1=p},${this._y1=m}`:_>epsilon&&this._append`A${o},${o},0,${+(_>=pi)},${v},${this._x1=e+o*Math.cos(u)},${this._y1=n+o*Math.sin(u)}`)}rect(e,n,o,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var n=constant$1(!0),o=null,l=curveLinear,u=null,f=withPath(h);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function h(d){var p,m=(d=array(d)).length,v,_=!1,S;for(o==null&&(u=l(S=f())),p=0;p<=m;++p)!(p<m&&n(v=d[p],p,d))===_&&((_=!_)?u.lineStart():u.lineEnd()),_&&u.point(+t(v,p,d),+e(v,p,d));if(S)return u=null,S+""||null}return h.x=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(+d),h):t},h.y=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),h):e},h.defined=function(d){return arguments.length?(n=typeof d=="function"?d:constant$1(!!d),h):n},h.curve=function(d){return arguments.length?(l=d,o!=null&&(u=l(o)),h):l},h.context=function(d){return arguments.length?(d==null?o=u=null:u=l(o=d),h):o},h}function shapeArea(t,e,n){var o=null,l=constant$1(!0),u=null,f=curveLinear,h=null,d=withPath(p);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function p(v){var _,S,M,A=(v=array(v)).length,w,C=!1,O,L=new Array(A),F=new Array(A);for(u==null&&(h=f(O=d())),_=0;_<=A;++_){if(!(_<A&&l(w=v[_],_,v))===C)if(C=!C)S=_,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),M=_-1;M>=S;--M)h.point(L[M],F[M]);h.lineEnd(),h.areaEnd()}C&&(L[_]=+t(w,_,v),F[_]=+e(w,_,v),h.point(o?+o(w,_,v):L[_],n?+n(w,_,v):F[_]))}if(O)return h=null,O+""||null}function m(){return shapeLine().defined(l).curve(f).context(u)}return p.x=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),o=null,p):t},p.x0=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),p):t},p.x1=function(v){return arguments.length?(o=v==null?null:typeof v=="function"?v:constant$1(+v),p):o},p.y=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),n=null,p):e},p.y0=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),p):e},p.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:constant$1(+v),p):n},p.lineX0=p.lineY0=function(){return m().x(t).y(e)},p.lineY1=function(){return m().x(t).y(n)},p.lineX1=function(){return m().x(o).y(e)},p.defined=function(v){return arguments.length?(l=typeof v=="function"?v:constant$1(!!v),p):l},p.curve=function(v){return arguments.length?(f=v,u!=null&&(h=f(u)),p):f},p.context=function(v){return arguments.length?(v==null?u=h=null:h=f(u=v),p):u},p}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const n=sqrt$1(e/pi$1);t.moveTo(n,0),t.arc(0,0,n,0,tau$1)}},symbolCross={draw(t,e){const n=sqrt$1(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const n=sqrt$1(e/tan30_2),o=n*tan30;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},symbolSquare={draw(t,e){const n=sqrt$1(e),o=-n/2;t.rect(o,o,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const n=sqrt$1(e*ka),o=kx*n,l=ky*n;t.moveTo(0,-n),t.lineTo(o,l);for(let u=1;u<5;++u){const f=tau$1*u/5,h=cos(f),d=sin(f);t.lineTo(d*n,-h*n),t.lineTo(h*o-d*l,d*o+h*l)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const n=-sqrt$1(e/(sqrt3*3));t.moveTo(0,n*2),t.lineTo(-sqrt3*n,-n),t.lineTo(sqrt3*n,-n),t.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(t,e){const n=sqrt$1(e/a),o=n/2,l=n*k,u=o,f=n*k+n,h=-u,d=f;t.moveTo(o,l),t.lineTo(u,f),t.lineTo(h,d),t.lineTo(c*o-s*l,s*o+c*l),t.lineTo(c*u-s*f,s*u+c*f),t.lineTo(c*h-s*d,s*h+c*d),t.lineTo(c*o+s*l,c*l-s*o),t.lineTo(c*u+s*f,c*f-s*u),t.lineTo(c*h+s*d,c*d-s*h),t.closePath()}};function Symbol$1(t,e){let n=null,o=withPath(l);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function l(){let u;if(n||(n=u=o()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),u)return n=null,u+""||null}return l.type=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(u),l):t},l.size=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(+u),l):e},l.context=function(u){return arguments.length?(n=u??null,l):n},l}function noop(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var o=t._x1-t._x0,l=e-t._x1,u=(t._y1-t._y0)/(o||l<0&&-0),f=(n-t._y1)/(l||o<0&&-0),h=(u*l+f*o)/(o+l);return(sign(u)+sign(f))*Math.min(Math.abs(u),Math.abs(f),.5*Math.abs(h))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$1(t,e,n){var o=t._x0,l=t._y0,u=t._x1,f=t._y1,h=(u-o)/3;t._context.bezierCurveTo(o+h,l+h*e,u-h,f-h*n,u,f)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$1(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,l,u){this._context.bezierCurveTo(e,t,o,n,u,l)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var o=controlPoints(t),l=controlPoints(e),u=0,f=1;f<n;++u,++f)this._context.bezierCurveTo(o[0][u],l[0][u],o[1][u],l[1][u],t[f],e[f]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,o,l=new Array(n),u=new Array(n),f=new Array(n);for(l[0]=0,u[0]=2,f[0]=t[0]+2*t[1],e=1;e<n-1;++e)l[e]=1,u[e]=4,f[e]=4*t[e]+2*t[e+1];for(l[n-1]=2,u[n-1]=7,f[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)o=l[e]/u[e-1],u[e]-=o,f[e]-=o*f[e-1];for(l[n-1]=f[n-1]/u[n-1],e=n-2;e>=0;--e)l[e]=(f[e]-l[e+1])/u[e];for(u[n-1]=(t[n]+l[n-1])/2,e=0;e<n-1;++e)u[e]=2*t[e+1]-l[e+1];return[l,u]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((f=t.length)>1)for(var n=1,o,l,u=t[e[0]],f,h=u.length;n<f;++n)for(l=u,u=t[e[n]],o=0;o<h;++o)u[o][1]+=u[o][0]=isNaN(l[o][1])?l[o][0]:l[o][1]}function stackOrderNone(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,n=stackOffsetNone,o=stackValue;function l(u){var f=Array.from(t.apply(this,arguments),stackSeries),h,d=f.length,p=-1,m;for(const v of u)for(h=0,++p;h<d;++h)(f[h][p]=[0,+o(v,f[h].key,p,u)]).data=v;for(h=0,m=array(e(f));h<d;++h)f[m[h]].index=h;return n(f,m),f}return l.keys=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(Array.from(u)),l):t},l.value=function(u){return arguments.length?(o=typeof u=="function"?u:constant$1(+u),l):o},l.order=function(u){return arguments.length?(e=u==null?stackOrderNone:typeof u=="function"?u:constant$1(Array.from(u)),l):e},l.offset=function(u){return arguments.length?(n=u??stackOffsetNone,l):n},l}function stackOffsetExpand(t,e){if((o=t.length)>0){for(var n,o,l=0,u=t[0].length,f;l<u;++l){for(f=n=0;n<o;++n)f+=t[n][l][1]||0;if(f)for(n=0;n<o;++n)t[n][l][1]/=f}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((l=t.length)>0){for(var n=0,o=t[e[0]],l,u=o.length;n<u;++n){for(var f=0,h=0;f<l;++f)h+=t[f][n][1]||0;o[n][1]+=o[n][0]=-h/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((f=t.length)>0)||!((u=(l=t[e[0]]).length)>0))){for(var n=0,o=1,l,u,f;o<u;++o){for(var h=0,d=0,p=0;h<f;++h){for(var m=t[e[h]],v=m[o][1]||0,_=m[o-1][1]||0,S=(v-_)/2,M=0;M<h;++M){var A=t[e[M]],w=A[o][1]||0,C=A[o-1][1]||0;S+=w-C}d+=v,p+=S*v}l[o-1][1]+=l[o-1][0]=n,d&&(n-=p/d)}l[o-1][1]+=l[o-1][0]=n,stackOffsetNone(t,e)}}function _typeof$E(t){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$E(t)}var _excluded$c=["type","size","sizeType"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$m.apply(this,arguments)}function ownKeys$x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(n),!0).forEach(function(o){_defineProperty$D(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$D(t,e,n){return e=_toPropertyKey$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return _typeof$E(e)=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(_typeof$E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$E(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$c(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function t(e){var n="symbol".concat(upperFirst(e));return symbolFactories[n]||symbolCircle},calculateAreaSize=function t(e,n,o){if(n==="area")return e;switch(o){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var l=18*RADIAN$1;return 1.25*e*e*(Math.tan(l)-Math.tan(l*2)*Math.pow(Math.tan(l),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=function t(e,n){symbolFactories["symbol".concat(upperFirst(e))]=n},Symbols=function t(e){var n=e.type,o=n===void 0?"circle":n,l=e.size,u=l===void 0?64:l,f=e.sizeType,h=f===void 0?"area":f,d=_objectWithoutProperties$c(e,_excluded$c),p=_objectSpread$x(_objectSpread$x({},d),{},{type:o,size:u,sizeType:h}),m=function(){var w=getSymbolFactory(o),C=Symbol$1().type(w).size(calculateAreaSize(u,h,o));return C()},v=p.className,_=p.cx,S=p.cy,M=filterProps(p,!0);return _===+_&&S===+S&&u===+u?React$1.createElement("path",_extends$m({},M,{className:clsx("recharts-symbols",v),transform:"translate(".concat(_,", ").concat(S,")"),d:m()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$D(t){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$D(t)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$l.apply(this,arguments)}function ownKeys$w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(n),!0).forEach(function(o){_defineProperty$C(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$C(o.key),o)}}function _createClass$h(t,e,n){return e&&_defineProperties$h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$d(t,e,n){return e=_getPrototypeOf$e(e),_possibleConstructorReturn$e(t,_isNativeReflectConstruct$e()?Reflect.construct(e,n||[],_getPrototypeOf$e(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$e(t,e){if(e&&(_typeof$D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(t)}function _assertThisInitialized$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!t})()}function _getPrototypeOf$e(t){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$e(t)}function _inherits$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$e(t,e)}function _setPrototypeOf$e(t,e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$e(t,e)}function _defineProperty$C(t,e,n){return e=_toPropertyKey$C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return _typeof$D(e)=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(_typeof$D(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$D(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SIZE=32,DefaultLegendContent=function(t){function e(){return _classCallCheck$h(this,e),_callSuper$d(this,e,arguments)}return _inherits$e(e,t),_createClass$h(e,[{key:"renderIcon",value:function(o){var l=this.props.inactiveColor,u=SIZE/2,f=SIZE/6,h=SIZE/3,d=o.inactive?l:o.color;if(o.type==="plainline")return React$1.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:o.payload.strokeDasharray,x1:0,y1:u,x2:SIZE,y2:u,className:"recharts-legend-icon"});if(o.type==="line")return React$1.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(u,"h").concat(h,`
            A`).concat(f,",").concat(f,",0,1,1,").concat(2*h,",").concat(u,`
            H`).concat(SIZE,"M").concat(2*h,",").concat(u,`
            A`).concat(f,",").concat(f,",0,1,1,").concat(h,",").concat(u),className:"recharts-legend-icon"});if(o.type==="rect")return React$1.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React$1.isValidElement(o.legendIcon)){var p=_objectSpread$w({},o);return delete p.legendIcon,React$1.cloneElement(o.legendIcon,p)}return React$1.createElement(Symbols,{fill:d,cx:u,cy:u,size:SIZE,sizeType:"diameter",type:o.type})}},{key:"renderItems",value:function(){var o=this,l=this.props,u=l.payload,f=l.iconSize,h=l.layout,d=l.formatter,p=l.inactiveColor,m={x:0,y:0,width:SIZE,height:SIZE},v={display:h==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return u.map(function(S,M){var A=S.formatter||d,w=clsx(_defineProperty$C(_defineProperty$C({"recharts-legend-item":!0},"legend-item-".concat(M),!0),"inactive",S.inactive));if(S.type==="none")return null;var C=isFunction(S.value)?null:S.value;warn(!isFunction(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=S.inactive?p:S.color;return React$1.createElement("li",_extends$l({className:w,style:v,key:"legend-item-".concat(M)},adaptEventsOfChild(o.props,S,M)),React$1.createElement(Surface,{width:f,height:f,viewBox:m,style:_},o.renderIcon(S)),React$1.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},A?A(C,S,M):C))})}},{key:"render",value:function(){var o=this.props,l=o.payload,u=o.layout,f=o.align;if(!l||!l.length)return null;var h={padding:0,margin:0,textAlign:u==="horizontal"?f:"left"};return React$1.createElement("ul",{className:"recharts-default-legend",style:h},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$C(DefaultLegendContent,"displayName","Legend");_defineProperty$C(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),n=require_MapCache(),o=200;function l(u,f){var h=this.__data__;if(h instanceof t){var d=h.__data__;if(!e||d.length<o-1)return d.push([u,f]),this.size=++h.size,this;h=this.__data__=new n(d)}return h.set(u,f),this.size=h.size,this}return _stackSet=l,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),n=require_stackDelete(),o=require_stackGet(),l=require_stackHas(),u=require_stackSet();function f(h){var d=this.__data__=new t(h);this.size=d.size}return f.prototype.clear=e,f.prototype.delete=n,f.prototype.get=o,f.prototype.has=l,f.prototype.set=u,_Stack=f,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),n=require_setCacheHas();function o(l){var u=-1,f=l==null?0:l.length;for(this.__data__=new t;++u<f;)this.add(l[u])}return o.prototype.add=o.prototype.push=e,o.prototype.has=n,_SetCache=o,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(n(e[o],o,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,n){return e.has(n)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),n=require_cacheHas(),o=1,l=2;function u(f,h,d,p,m,v){var _=d&o,S=f.length,M=h.length;if(S!=M&&!(_&&M>S))return!1;var A=v.get(f),w=v.get(h);if(A&&w)return A==h&&w==f;var C=-1,O=!0,L=d&l?new t:void 0;for(v.set(f,h),v.set(h,f);++C<S;){var F=f[C],$=h[C];if(p)var B=_?p($,F,C,h,f,v):p(F,$,C,f,h,v);if(B!==void 0){if(B)continue;O=!1;break}if(L){if(!e(h,function(U,q){if(!n(L,q)&&(F===U||m(F,U,d,p,v)))return L.push(q)})){O=!1;break}}else if(!(F===$||m(F,$,d,p,v))){O=!1;break}}return v.delete(f),v.delete(h),O}return _equalArrays=u,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l,u){o[++n]=[u,l]}),o}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l){o[++n]=l}),o}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),n=requireEq(),o=require_equalArrays(),l=require_mapToArray(),u=require_setToArray(),f=1,h=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",_="[object Number]",S="[object RegExp]",M="[object Set]",A="[object String]",w="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",L=t?t.prototype:void 0,F=L?L.valueOf:void 0;function $(B,U,q,Z,G,H,ne){switch(q){case O:if(B.byteLength!=U.byteLength||B.byteOffset!=U.byteOffset)return!1;B=B.buffer,U=U.buffer;case C:return!(B.byteLength!=U.byteLength||!H(new e(B),new e(U)));case d:case p:case _:return n(+B,+U);case m:return B.name==U.name&&B.message==U.message;case S:case A:return B==U+"";case v:var ae=l;case M:var te=Z&f;if(ae||(ae=u),B.size!=U.size&&!te)return!1;var ce=ne.get(B);if(ce)return ce==U;Z|=h,ne.set(B,U);var fe=o(ae(B),ae(U),Z,G,H,ne);return ne.delete(B),fe;case w:if(F)return F.call(B)==F.call(U)}return!1}return _equalByTag=$,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,n){for(var o=-1,l=n.length,u=e.length;++o<l;)e[u+o]=n[o];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function n(o,l,u){var f=l(o);return e(o)?f:t(f,u(o))}return _baseGetAllKeys=n,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=0,f=[];++o<l;){var h=e[o];n(h,o,e)&&(f[u++]=h)}return f}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),n=Object.prototype,o=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,u=l?function(f){return f==null?[]:(f=Object(f),t(l(f),function(h){return o.call(f,h)}))}:e;return _getSymbols=u,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,n){for(var o=-1,l=Array(e);++o<e;)l[o]=n(o);return l}return _baseTimes=t,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Arguments]";function o(l){return e(l)&&t(l)==n}return _baseIsArguments=o,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),n=Object.prototype,o=n.hasOwnProperty,l=n.propertyIsEnumerable,u=t(function(){return arguments}())?t:function(f){return e(f)&&o.call(f,"callee")&&!l.call(f,"callee")};return isArguments_1=u,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(t,e){var n=require_root(),o=requireStubFalse(),l=e&&!e.nodeType&&e,u=l&&!0&&t&&!t.nodeType&&t,f=u&&u.exports===l,h=f?n.Buffer:void 0,d=h?h.isBuffer:void 0,p=d||o;t.exports=p}(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(o,l){var u=typeof o;return l=l??t,!!l&&(u=="number"||u!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<l}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),n=requireIsObjectLike(),o="[object Arguments]",l="[object Array]",u="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",_="[object RegExp]",S="[object Set]",M="[object String]",A="[object WeakMap]",w="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",$="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",Z="[object Uint16Array]",G="[object Uint32Array]",H={};H[O]=H[L]=H[F]=H[$]=H[B]=H[U]=H[q]=H[Z]=H[G]=!0,H[o]=H[l]=H[w]=H[u]=H[C]=H[f]=H[h]=H[d]=H[p]=H[m]=H[v]=H[_]=H[S]=H[M]=H[A]=!1;function ne(ae){return n(ae)&&e(ae.length)&&!!H[t(ae)]}return _baseIsTypedArray=ne,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(n){return e(n)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(t,e){var n=require_freeGlobal(),o=e&&!e.nodeType&&e,l=o&&!0&&t&&!t.nodeType&&t,u=l&&l.exports===o,f=u&&n.process,h=function(){try{var d=l&&l.require&&l.require("util").types;return d||f&&f.binding&&f.binding("util")}catch{}}();t.exports=h}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),n=require_nodeUtil(),o=n&&n.isTypedArray,l=o?e(o):t;return isTypedArray_1=l,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),n=requireIsArray(),o=requireIsBuffer(),l=require_isIndex(),u=requireIsTypedArray(),f=Object.prototype,h=f.hasOwnProperty;function d(p,m){var v=n(p),_=!v&&e(p),S=!v&&!_&&o(p),M=!v&&!_&&!S&&u(p),A=v||_||S||M,w=A?t(p.length,String):[],C=w.length;for(var O in p)(m||h.call(p,O))&&!(A&&(O=="length"||S&&(O=="offset"||O=="parent")||M&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||l(O,C)))&&w.push(O);return w}return _arrayLikeKeys=d,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||t;return n===l}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,n){return function(o){return e(n(o))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!t(u))return e(u);var f=[];for(var h in Object(u))o.call(u,h)&&h!="constructor"&&f.push(h);return f}return _baseKeys=l,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function n(o){return o!=null&&e(o.length)&&!t(o)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),n=requireIsArrayLike();function o(l){return n(l)?t(l):e(l)}return keys_1=o,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),n=requireKeys();function o(l){return t(l,n,e)}return _getAllKeys=o,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,n=Object.prototype,o=n.hasOwnProperty;function l(u,f,h,d,p,m){var v=h&e,_=t(u),S=_.length,M=t(f),A=M.length;if(S!=A&&!v)return!1;for(var w=S;w--;){var C=_[w];if(!(v?C in f:o.call(f,C)))return!1}var O=m.get(u),L=m.get(f);if(O&&L)return O==f&&L==u;var F=!0;m.set(u,f),m.set(f,u);for(var $=v;++w<S;){C=_[w];var B=u[C],U=f[C];if(d)var q=v?d(U,B,C,f,u,m):d(B,U,C,u,f,m);if(!(q===void 0?B===U||p(B,U,h,d,m):q)){F=!1;break}$||($=C=="constructor")}if(F&&!$){var Z=u.constructor,G=f.constructor;Z!=G&&"constructor"in u&&"constructor"in f&&!(typeof Z=="function"&&Z instanceof Z&&typeof G=="function"&&G instanceof G)&&(F=!1)}return m.delete(u),m.delete(f),F}return _equalObjects=l,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),n=t(e,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),n=t(e,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),n=t(e,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),n=t(e,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),n=require_Promise(),o=require_Set(),l=require_WeakMap(),u=require_baseGetTag(),f=require_toSource(),h="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",_="[object DataView]",S=f(t),M=f(e),A=f(n),w=f(o),C=f(l),O=u;return(t&&O(new t(new ArrayBuffer(1)))!=_||e&&O(new e)!=h||n&&O(n.resolve())!=p||o&&O(new o)!=m||l&&O(new l)!=v)&&(O=function(L){var F=u(L),$=F==d?L.constructor:void 0,B=$?f($):"";if(B)switch(B){case S:return _;case M:return h;case A:return p;case w:return m;case C:return v}return F}),_getTag=O,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),n=require_equalByTag(),o=require_equalObjects(),l=require_getTag(),u=requireIsArray(),f=requireIsBuffer(),h=requireIsTypedArray(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",_=Object.prototype,S=_.hasOwnProperty;function M(A,w,C,O,L,F){var $=u(A),B=u(w),U=$?m:l(A),q=B?m:l(w);U=U==p?v:U,q=q==p?v:q;var Z=U==v,G=q==v,H=U==q;if(H&&f(A)){if(!f(w))return!1;$=!0,Z=!1}if(H&&!Z)return F||(F=new t),$||h(A)?e(A,w,C,O,L,F):n(A,w,U,C,O,L,F);if(!(C&d)){var ne=Z&&S.call(A,"__wrapped__"),ae=G&&S.call(w,"__wrapped__");if(ne||ae){var te=ne?A.value():A,ce=ae?w.value():w;return F||(F=new t),L(te,ce,C,O,F)}}return H?(F||(F=new t),o(A,w,C,O,L,F)):!1}return _baseIsEqualDeep=M,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function n(o,l,u,f,h){return o===l?!0:o==null||l==null||!e(o)&&!e(l)?o!==o&&l!==l:t(o,l,u,f,n,h)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var t=require_Stack(),e=require_baseIsEqual(),n=1,o=2;function l(u,f,h,d){var p=h.length,m=p,v=!d;if(u==null)return!m;for(u=Object(u);p--;){var _=h[p];if(v&&_[2]?_[1]!==u[_[0]]:!(_[0]in u))return!1}for(;++p<m;){_=h[p];var S=_[0],M=u[S],A=_[1];if(v&&_[2]){if(M===void 0&&!(S in u))return!1}else{var w=new t;if(d)var C=d(M,A,S,u,f,w);if(!(C===void 0?e(A,M,n|o,d,w):C))return!1}}return!0}return _baseIsMatch=l,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var t=requireIsObject();function e(n){return n===n&&!t(n)}return _isStrictComparable=e,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var t=require_isStrictComparable(),e=requireKeys();function n(o){for(var l=e(o),u=l.length;u--;){var f=l[u],h=o[f];l[u]=[f,h,t(h)]}return l}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function t(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}return _matchesStrictComparable=t,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var t=require_baseIsMatch(),e=require_getMatchData(),n=require_matchesStrictComparable();function o(l){var u=e(l);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(f){return f===l||t(f,l,u)}}return _baseMatches=o,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function t(e,n){return e!=null&&n in Object(e)}return _baseHasIn=t,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var t=require_castPath(),e=requireIsArguments(),n=requireIsArray(),o=require_isIndex(),l=requireIsLength(),u=require_toKey();function f(h,d,p){d=t(d,h);for(var m=-1,v=d.length,_=!1;++m<v;){var S=u(d[m]);if(!(_=h!=null&&p(h,S)))break;h=h[S]}return _||++m!=v?_:(v=h==null?0:h.length,!!v&&l(v)&&o(S,v)&&(n(h)||e(h)))}return _hasPath=f,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var t=require_baseHasIn(),e=require_hasPath();function n(o,l){return o!=null&&e(o,l,t)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var t=require_baseIsEqual(),e=requireGet(),n=requireHasIn(),o=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),f=require_toKey(),h=1,d=2;function p(m,v){return o(m)&&l(v)?u(f(m),v):function(_){var S=e(_,m);return S===void 0&&S===v?n(_,m):t(v,S,h|d)}}return _baseMatchesProperty=p,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function t(e){return e}return identity_1=t,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function t(e){return function(n){return n==null?void 0:n[e]}}return _baseProperty=t,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var t=require_baseGet();function e(n){return function(o){return t(o,n)}}return _basePropertyDeep=e,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var t=require_baseProperty(),e=require_basePropertyDeep(),n=require_isKey(),o=require_toKey();function l(u){return n(u)?t(o(u)):e(u)}return property_1=l,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var t=require_baseMatches(),e=require_baseMatchesProperty(),n=requireIdentity(),o=requireIsArray(),l=requireProperty();function u(f){return typeof f=="function"?f:f==null?n:typeof f=="object"?o(f)?e(f[0],f[1]):t(f):l(f)}return _baseIteratee=u,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function t(e,n,o,l){for(var u=e.length,f=o+(l?1:-1);l?f--:++f<u;)if(n(e[f],f,e))return f;return-1}return _baseFindIndex=t,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function t(e){return e!==e}return _baseIsNaN=t,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function t(e,n,o){for(var l=o-1,u=e.length;++l<u;)if(e[l]===n)return l;return-1}return _strictIndexOf=t,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var t=require_baseFindIndex(),e=require_baseIsNaN(),n=require_strictIndexOf();function o(l,u,f){return u===u?n(l,u,f):t(l,e,f)}return _baseIndexOf=o,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var t=require_baseIndexOf();function e(n,o){var l=n==null?0:n.length;return!!l&&t(n,o,0)>-1}return _arrayIncludes=e,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function t(e,n,o){for(var l=-1,u=e==null?0:e.length;++l<u;)if(o(n,e[l]))return!0;return!1}return _arrayIncludesWith=t,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function t(){}return noop_1=t,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var t=require_Set(),e=requireNoop(),n=require_setToArray(),o=1/0,l=t&&1/n(new t([,-0]))[1]==o?function(u){return new t(u)}:e;return _createSet=l,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var t=require_SetCache(),e=require_arrayIncludes(),n=require_arrayIncludesWith(),o=require_cacheHas(),l=require_createSet(),u=require_setToArray(),f=200;function h(d,p,m){var v=-1,_=e,S=d.length,M=!0,A=[],w=A;if(m)M=!1,_=n;else if(S>=f){var C=p?null:l(d);if(C)return u(C);M=!1,_=o,w=new t}else w=p?[]:A;e:for(;++v<S;){var O=d[v],L=p?p(O):O;if(O=m||O!==0?O:0,M&&L===L){for(var F=w.length;F--;)if(w[F]===L)continue e;p&&w.push(L),A.push(O)}else _(w,L,m)||(w!==A&&w.push(L),A.push(O))}return A}return _baseUniq=h,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var t=require_baseIteratee(),e=require_baseUniq();function n(o,l){return o&&o.length?e(o,t(l,2)):[]}return uniqBy_1=n,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,n){return e===!0?uniqBy(t,n):isFunction(e)?uniqBy(t,e):t}function _typeof$C(t){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$C(t)}var _excluded$b=["ref"];function ownKeys$v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(n),!0).forEach(function(o){_defineProperty$B(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$B(o.key),o)}}function _createClass$g(t,e,n){return e&&_defineProperties$g(t.prototype,e),n&&_defineProperties$g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$c(t,e,n){return e=_getPrototypeOf$d(e),_possibleConstructorReturn$d(t,_isNativeReflectConstruct$d()?Reflect.construct(e,n||[],_getPrototypeOf$d(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$d(t,e){if(e&&(_typeof$C(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(t)}function _assertThisInitialized$d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!t})()}function _getPrototypeOf$d(t){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$d(t)}function _inherits$d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$d(t,e)}function _setPrototypeOf$d(t,e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$d(t,e)}function _defineProperty$B(t,e,n){return e=_toPropertyKey$B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return _typeof$C(e)=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(_typeof$C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$C(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _objectWithoutProperties$b(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$b(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function defaultUniqBy$1(t){return t.value}function renderContent$1(t,e){if(React$1.isValidElement(t))return React$1.cloneElement(t,e);if(typeof t=="function")return React$1.createElement(t,e);e.ref;var n=_objectWithoutProperties$b(e,_excluded$b);return React$1.createElement(DefaultLegendContent,n)}var EPS$1=1,Legend=function(t){function e(){var n;_classCallCheck$g(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$c(this,e,[].concat(l)),_defineProperty$B(n,"lastBoundingBox",{width:-1,height:-1}),n}return _inherits$d(e,t),_createClass$g(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();return o.height=this.wrapperNode.offsetHeight,o.width=this.wrapperNode.offsetWidth,o}return null}},{key:"updateBBox",value:function(){var o=this.props.onBBoxUpdate,l=this.getBBox();l?(Math.abs(l.width-this.lastBoundingBox.width)>EPS$1||Math.abs(l.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=l.width,this.lastBoundingBox.height=l.height,o&&o(l)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,o&&o(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$v({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(o){var l=this.props,u=l.layout,f=l.align,h=l.verticalAlign,d=l.margin,p=l.chartWidth,m=l.chartHeight,v,_;if(!o||(o.left===void 0||o.left===null)&&(o.right===void 0||o.right===null))if(f==="center"&&u==="vertical"){var S=this.getBBoxSnapshot();v={left:((p||0)-S.width)/2}}else v=f==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!o||(o.top===void 0||o.top===null)&&(o.bottom===void 0||o.bottom===null))if(h==="middle"){var M=this.getBBoxSnapshot();_={top:((m||0)-M.height)/2}}else _=h==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return _objectSpread$v(_objectSpread$v({},v),_)}},{key:"render",value:function(){var o=this,l=this.props,u=l.content,f=l.width,h=l.height,d=l.wrapperStyle,p=l.payloadUniqBy,m=l.payload,v=_objectSpread$v(_objectSpread$v({position:"absolute",width:f||"auto",height:h||"auto"},this.getDefaultPosition(d)),d);return React$1.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(S){o.wrapperNode=S}},renderContent$1(u,_objectSpread$v(_objectSpread$v({},this.props),{},{payload:getUniqPayload(m,p,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(o,l){var u=_objectSpread$v(_objectSpread$v({},this.defaultProps),o.props),f=u.layout;return f==="vertical"&&isNumber(o.props.height)?{height:o.props.height}:f==="horizontal"?{width:o.props.width||l}:null}}])}(reactExports.PureComponent);_defineProperty$B(Legend,"displayName","Legend");_defineProperty$B(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var t=require_Symbol(),e=requireIsArguments(),n=requireIsArray(),o=t?t.isConcatSpreadable:void 0;function l(u){return n(u)||e(u)||!!(o&&u&&u[o])}return _isFlattenable=l,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var t=require_arrayPush(),e=require_isFlattenable();function n(o,l,u,f,h){var d=-1,p=o.length;for(u||(u=e),h||(h=[]);++d<p;){var m=o[d];l>0&&u(m)?l>1?n(m,l-1,u,f,h):t(h,m):f||(h[h.length]=m)}return h}return _baseFlatten=n,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function t(e){return function(n,o,l){for(var u=-1,f=Object(n),h=l(n),d=h.length;d--;){var p=h[e?d:++u];if(o(f[p],p,f)===!1)break}return n}}return _createBaseFor=t,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var t=require_createBaseFor(),e=t();return _baseFor=e,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var t=require_baseFor(),e=requireKeys();function n(o,l){return o&&t(o,l,e)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var t=requireIsArrayLike();function e(n,o){return function(l,u){if(l==null)return l;if(!t(l))return n(l,u);for(var f=l.length,h=o?f:-1,d=Object(l);(o?h--:++h<f)&&u(d[h],h,d)!==!1;);return l}}return _createBaseEach=e,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var t=require_baseForOwn(),e=require_createBaseEach(),n=e(t);return _baseEach=n,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var t=require_baseEach(),e=requireIsArrayLike();function n(o,l){var u=-1,f=e(o)?Array(o.length):[];return t(o,function(h,d,p){f[++u]=l(h,d,p)}),f}return _baseMap=n,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function t(e,n){var o=e.length;for(e.sort(n);o--;)e[o]=e[o].value;return e}return _baseSortBy=t,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var t=requireIsSymbol();function e(n,o){if(n!==o){var l=n!==void 0,u=n===null,f=n===n,h=t(n),d=o!==void 0,p=o===null,m=o===o,v=t(o);if(!p&&!v&&!h&&n>o||h&&d&&m&&!p&&!v||u&&d&&m||!l&&m||!f)return 1;if(!u&&!h&&!v&&n<o||v&&l&&f&&!u&&!h||p&&l&&f||!d&&f||!m)return-1}return 0}return _compareAscending=e,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var t=require_compareAscending();function e(n,o,l){for(var u=-1,f=n.criteria,h=o.criteria,d=f.length,p=l.length;++u<d;){var m=t(f[u],h[u]);if(m){if(u>=p)return m;var v=l[u];return m*(v=="desc"?-1:1)}}return n.index-o.index}return _compareMultiple=e,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var t=require_arrayMap(),e=require_baseGet(),n=require_baseIteratee(),o=require_baseMap(),l=require_baseSortBy(),u=require_baseUnary(),f=require_compareMultiple(),h=requireIdentity(),d=requireIsArray();function p(m,v,_){v.length?v=t(v,function(A){return d(A)?function(w){return e(w,A.length===1?A[0]:A)}:A}):v=[h];var S=-1;v=t(v,u(n));var M=o(m,function(A,w,C){var O=t(v,function(L){return L(A)});return{criteria:O,index:++S,value:A}});return l(M,function(A,w){return f(A,w,_)})}return _baseOrderBy=p,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function t(e,n,o){switch(o.length){case 0:return e.call(n);case 1:return e.call(n,o[0]);case 2:return e.call(n,o[0],o[1]);case 3:return e.call(n,o[0],o[1],o[2])}return e.apply(n,o)}return _apply=t,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var t=require_apply(),e=Math.max;function n(o,l,u){return l=e(l===void 0?o.length-1:l,0),function(){for(var f=arguments,h=-1,d=e(f.length-l,0),p=Array(d);++h<d;)p[h]=f[l+h];h=-1;for(var m=Array(l+1);++h<l;)m[h]=f[h];return m[l]=u(p),t(o,this,m)}}return _overRest=n,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function t(e){return function(){return e}}return constant_1=t,constant_1}var _defineProperty$A,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$A;hasRequired_defineProperty=1;var t=require_getNative(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return _defineProperty$A=e,_defineProperty$A}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var t=requireConstant(),e=require_defineProperty(),n=requireIdentity(),o=e?function(l,u){return e(l,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:n;return _baseSetToString=o,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var t=800,e=16,n=Date.now;function o(l){var u=0,f=0;return function(){var h=n(),d=e-(h-f);if(f=h,d>0){if(++u>=t)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}return _shortOut=o,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var t=require_baseSetToString(),e=require_shortOut(),n=e(t);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var t=requireIdentity(),e=require_overRest(),n=require_setToString();function o(l,u){return n(e(l,u,t),l+"")}return _baseRest=o,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var t=requireEq(),e=requireIsArrayLike(),n=require_isIndex(),o=requireIsObject();function l(u,f,h){if(!o(h))return!1;var d=typeof f;return(d=="number"?e(h)&&n(f,h.length):d=="string"&&f in h)?t(h[f],u):!1}return _isIterateeCall=l,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var t=require_baseFlatten(),e=require_baseOrderBy(),n=require_baseRest(),o=require_isIterateeCall(),l=n(function(u,f){if(u==null)return[];var h=f.length;return h>1&&o(u,f[0],f[1])?f=[]:h>2&&o(f[0],f[1],f[2])&&(f=[f[0]]),e(u,t(f,1),[])});return sortBy_1=l,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$B(t){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$B(t)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$k.apply(this,arguments)}function _slicedToArray$b(t,e){return _arrayWithHoles$c(t)||_iterableToArrayLimit$b(t,e)||_unsupportedIterableToArray$i(t,e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$i(t,e)}}function _arrayLikeToArray$i(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$b(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$c(t){if(Array.isArray(t))return t}function ownKeys$u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(n),!0).forEach(function(o){_defineProperty$z(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$z(t,e,n){return e=_toPropertyKey$A(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return _typeof$B(e)=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(_typeof$B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$B(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=function t(e){var n=e.separator,o=n===void 0?" : ":n,l=e.contentStyle,u=l===void 0?{}:l,f=e.itemStyle,h=f===void 0?{}:f,d=e.labelStyle,p=d===void 0?{}:d,m=e.payload,v=e.formatter,_=e.itemSorter,S=e.wrapperClassName,M=e.labelClassName,A=e.label,w=e.labelFormatter,C=e.accessibilityLayer,O=C===void 0?!1:C,L=function(){if(m&&m.length){var ne={padding:0,margin:0},ae=(_?sortBy(m,_):m).map(function(te,ce){if(te.type==="none")return null;var fe=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:te.color||"#000"},h),ye=te.formatter||v||defaultFormatter,J=te.value,oe=te.name,se=J,Q=oe;if(ye&&se!=null&&Q!=null){var ue=ye(J,oe,te,ce,m);if(Array.isArray(ue)){var _e=_slicedToArray$b(ue,2);se=_e[0],Q=_e[1]}else se=ue}return React$1.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ce),style:fe},isNumOrStr(Q)?React$1.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,isNumOrStr(Q)?React$1.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,React$1.createElement("span",{className:"recharts-tooltip-item-value"},se),React$1.createElement("span",{className:"recharts-tooltip-item-unit"},te.unit||""))});return React$1.createElement("ul",{className:"recharts-tooltip-item-list",style:ne},ae)}return null},F=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},u),$=_objectSpread$u({margin:0},p),B=!isNil(A),U=B?A:"",q=clsx("recharts-default-tooltip",S),Z=clsx("recharts-tooltip-label",M);B&&w&&m!==void 0&&m!==null&&(U=w(A,m));var G=O?{role:"status","aria-live":"assertive"}:{};return React$1.createElement("div",_extends$k({className:q,style:F},G),React$1.createElement("p",{className:Z,style:$},React$1.isValidElement(U)?U:"".concat(U)),L())};function _typeof$A(t){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$A(t)}function _defineProperty$y(t,e,n){return e=_toPropertyKey$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return _typeof$A(e)=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(_typeof$A(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$A(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var e=t.coordinate,n=t.translateX,o=t.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$y(_defineProperty$y(_defineProperty$y(_defineProperty$y({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(n)&&e&&isNumber(e.x)&&n>=e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(n)&&e&&isNumber(e.x)&&n<e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(o)&&e&&isNumber(e.y)&&o>=e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(o)&&e&&isNumber(e.y)&&o<e.y))}function getTooltipTranslateXY(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.key,l=t.offsetTopLeft,u=t.position,f=t.reverseDirection,h=t.tooltipDimension,d=t.viewBox,p=t.viewBoxDimension;if(u&&isNumber(u[o]))return u[o];var m=n[o]-h-l,v=n[o]+l;if(e[o])return f[o]?m:v;if(f[o]){var _=m,S=d[o];return _<S?Math.max(v,d[o]):Math.max(m,d[o])}var M=v+h,A=d[o]+p;return M>A?Math.max(m,d[o]):Math.max(v,d[o])}function getTransformStyle(t){var e=t.translateX,n=t.translateY,o=t.useTranslate3d;return{transform:o?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function getTooltipTranslate(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.offsetTopLeft,l=t.position,u=t.reverseDirection,f=t.tooltipBox,h=t.useTranslate3d,d=t.viewBox,p,m,v;return f.height>0&&f.width>0&&n?(m=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:f.width,viewBox:d,viewBoxDimension:d.width}),v=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:f.height,viewBox:d,viewBoxDimension:d.height}),p=getTransformStyle({translateX:m,translateY:v,useTranslate3d:h})):p=TOOLTIP_HIDDEN,{cssProperties:p,cssClasses:getTooltipCSSClassName({translateX:m,translateY:v,coordinate:n})}}function _typeof$z(t){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$z(t)}function ownKeys$t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(n),!0).forEach(function(o){_defineProperty$x(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$y(o.key),o)}}function _createClass$f(t,e,n){return e&&_defineProperties$f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$b(t,e,n){return e=_getPrototypeOf$c(e),_possibleConstructorReturn$c(t,_isNativeReflectConstruct$c()?Reflect.construct(e,n||[],_getPrototypeOf$c(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$c(t,e){if(e&&(_typeof$z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(t)}function _assertThisInitialized$c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!t})()}function _getPrototypeOf$c(t){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$c(t)}function _inherits$c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$c(t,e)}function _setPrototypeOf$c(t,e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$c(t,e)}function _defineProperty$x(t,e,n){return e=_toPropertyKey$y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return _typeof$z(e)=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(_typeof$z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$z(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPSILON=1,TooltipBoundingBox=function(t){function e(){var n;_classCallCheck$f(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$b(this,e,[].concat(l)),_defineProperty$x(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$x(n,"handleKeyDown",function(f){if(f.key==="Escape"){var h,d,p,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(h=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&h!==void 0?h:0,y:(p=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&p!==void 0?p:0}})}}),n}return _inherits$c(e,t),_createClass$f(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(o.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:o.width,height:o.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var o,l;this.props.active&&this.updateBBox(),this.state.dismissed&&(((o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==this.state.dismissedAtCoordinate.x||((l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var o=this,l=this.props,u=l.active,f=l.allowEscapeViewBox,h=l.animationDuration,d=l.animationEasing,p=l.children,m=l.coordinate,v=l.hasPayload,_=l.isAnimationActive,S=l.offset,M=l.position,A=l.reverseDirection,w=l.useTranslate3d,C=l.viewBox,O=l.wrapperStyle,L=getTooltipTranslate({allowEscapeViewBox:f,coordinate:m,offsetTopLeft:S,position:M,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:C}),F=L.cssClasses,$=L.cssProperties,B=_objectSpread$t(_objectSpread$t({transition:_&&u?"transform ".concat(h,"ms ").concat(d):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&u&&v?"visible":"hidden",position:"absolute",top:0,left:0},O);return React$1.createElement("div",{tabIndex:-1,className:F,style:B,ref:function(q){o.wrapperNode=q}},p)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function t(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$y(t){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$y(t)}function ownKeys$s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(n),!0).forEach(function(o){_defineProperty$w(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$x(o.key),o)}}function _createClass$e(t,e,n){return e&&_defineProperties$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$a(t,e,n){return e=_getPrototypeOf$b(e),_possibleConstructorReturn$b(t,_isNativeReflectConstruct$b()?Reflect.construct(e,n||[],_getPrototypeOf$b(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$b(t,e){if(e&&(_typeof$y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(t)}function _assertThisInitialized$b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!t})()}function _getPrototypeOf$b(t){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$b(t)}function _inherits$b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$b(t,e)}function _setPrototypeOf$b(t,e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$b(t,e)}function _defineProperty$w(t,e,n){return e=_toPropertyKey$x(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return _typeof$y(e)=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(_typeof$y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$y(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return React$1.isValidElement(t)?React$1.cloneElement(t,e):typeof t=="function"?React$1.createElement(t,e):React$1.createElement(DefaultTooltipContent,e)}var Tooltip=function(t){function e(){return _classCallCheck$e(this,e),_callSuper$a(this,e,arguments)}return _inherits$b(e,t),_createClass$e(e,[{key:"render",value:function(){var o=this,l=this.props,u=l.active,f=l.allowEscapeViewBox,h=l.animationDuration,d=l.animationEasing,p=l.content,m=l.coordinate,v=l.filterNull,_=l.isAnimationActive,S=l.offset,M=l.payload,A=l.payloadUniqBy,w=l.position,C=l.reverseDirection,O=l.useTranslate3d,L=l.viewBox,F=l.wrapperStyle,$=M??[];v&&$.length&&($=getUniqPayload(M.filter(function(U){return U.value!=null&&(U.hide!==!0||o.props.includeHidden)}),A,defaultUniqBy));var B=$.length>0;return React$1.createElement(TooltipBoundingBox,{allowEscapeViewBox:f,animationDuration:h,animationEasing:d,isAnimationActive:_,active:u,coordinate:m,hasPayload:B,offset:S,position:w,reverseDirection:C,useTranslate3d:O,viewBox:L,wrapperStyle:F},renderContent(p,_objectSpread$s(_objectSpread$s({},this.props),{},{payload:$})))}}])}(reactExports.PureComponent);_defineProperty$w(Tooltip,"displayName","Tooltip");_defineProperty$w(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(n){for(var o=n.length;o--&&t.test(n.charAt(o)););return o}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function n(o){return o&&o.slice(0,t(o)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),o=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;function d(p){if(typeof p=="number")return p;if(n(p))return o;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=t(p);var v=u.test(p);return v||f.test(p)?h(p.slice(2),v?2:8):l.test(p)?o:+p}return toNumber_1=d,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),n=requireToNumber(),o="Expected a function",l=Math.max,u=Math.min;function f(h,d,p){var m,v,_,S,M,A,w=0,C=!1,O=!1,L=!0;if(typeof h!="function")throw new TypeError(o);d=n(d)||0,t(p)&&(C=!!p.leading,O="maxWait"in p,_=O?l(n(p.maxWait)||0,d):_,L="trailing"in p?!!p.trailing:L);function F(ae){var te=m,ce=v;return m=v=void 0,w=ae,S=h.apply(ce,te),S}function $(ae){return w=ae,M=setTimeout(q,d),C?F(ae):S}function B(ae){var te=ae-A,ce=ae-w,fe=d-te;return O?u(fe,_-ce):fe}function U(ae){var te=ae-A,ce=ae-w;return A===void 0||te>=d||te<0||O&&ce>=_}function q(){var ae=e();if(U(ae))return Z(ae);M=setTimeout(q,B(ae))}function Z(ae){return M=void 0,L&&m?F(ae):(m=v=void 0,S)}function G(){M!==void 0&&clearTimeout(M),w=0,m=A=v=M=void 0}function H(){return M===void 0?S:Z(e())}function ne(){var ae=e(),te=U(ae);if(m=arguments,v=this,A=ae,te){if(M===void 0)return $(A);if(O)return clearTimeout(M),M=setTimeout(q,d),F(A)}return M===void 0&&(M=setTimeout(q,d)),S}return ne.cancel=G,ne.flush=H,ne}return debounce_1=f,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),n="Expected a function";function o(l,u,f){var h=!0,d=!0;if(typeof l!="function")throw new TypeError(n);return e(f)&&(h="leading"in f?!!f.leading:h,d="trailing"in f?!!f.trailing:d),t(l,u,{leading:h,maxWait:u,trailing:d})}return throttle_1=o,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$x(t){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$x(t)}function ownKeys$r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(n),!0).forEach(function(o){_defineProperty$v(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$v(t,e,n){return e=_toPropertyKey$w(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return _typeof$x(e)=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(_typeof$x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$x(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$a(t,e){return _arrayWithHoles$b(t)||_iterableToArrayLimit$a(t,e)||_unsupportedIterableToArray$h(t,e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$h(t,e)}}function _arrayLikeToArray$h(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$a(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$b(t){if(Array.isArray(t))return t}var ResponsiveContainer=reactExports.forwardRef(function(t,e){var n=t.aspect,o=t.initialDimension,l=o===void 0?{width:-1,height:-1}:o,u=t.width,f=u===void 0?"100%":u,h=t.height,d=h===void 0?"100%":h,p=t.minWidth,m=p===void 0?0:p,v=t.minHeight,_=t.maxHeight,S=t.children,M=t.debounce,A=M===void 0?0:M,w=t.id,C=t.className,O=t.onResize,L=t.style,F=L===void 0?{}:L,$=reactExports.useRef(null),B=reactExports.useRef();B.current=O,reactExports.useImperativeHandle(e,function(){return Object.defineProperty($.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),$.current},configurable:!0})});var U=reactExports.useState({containerWidth:l.width,containerHeight:l.height}),q=_slicedToArray$a(U,2),Z=q[0],G=q[1],H=reactExports.useCallback(function(ae,te){G(function(ce){var fe=Math.round(ae),ye=Math.round(te);return ce.containerWidth===fe&&ce.containerHeight===ye?ce:{containerWidth:fe,containerHeight:ye}})},[]);reactExports.useEffect(function(){var ae=function(oe){var se,Q=oe[0].contentRect,ue=Q.width,_e=Q.height;H(ue,_e),(se=B.current)===null||se===void 0||se.call(B,ue,_e)};A>0&&(ae=throttle(ae,A,{trailing:!0,leading:!1}));var te=new ResizeObserver(ae),ce=$.current.getBoundingClientRect(),fe=ce.width,ye=ce.height;return H(fe,ye),te.observe($.current),function(){te.disconnect()}},[H,A]);var ne=reactExports.useMemo(function(){var ae=Z.containerWidth,te=Z.containerHeight;if(ae<0||te<0)return null;warn(isPercent(f)||isPercent(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,f,d),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ce=isPercent(f)?ae:f,fe=isPercent(d)?te:d;n&&n>0&&(ce?fe=ce/n:fe&&(ce=fe*n),_&&fe>_&&(fe=_)),warn(ce>0||fe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ce,fe,f,d,m,v,n);var ye=!Array.isArray(S)&&getDisplayName(S.type).endsWith("Chart");return React$1.Children.map(S,function(J){return React$1.isValidElement(J)?reactExports.cloneElement(J,_objectSpread$r({width:ce,height:fe},ye?{style:_objectSpread$r({height:"100%",width:"100%",maxHeight:fe,maxWidth:ce},J.props.style)}:{})):J})},[n,S,d,_,v,m,Z,f]);return React$1.createElement("div",{id:w?"".concat(w):void 0,className:clsx("recharts-responsive-container",C),style:_objectSpread$r(_objectSpread$r({},F),{},{width:f,height:d,minWidth:m,minHeight:v,maxHeight:_}),ref:$},ne)}),Cell=function t(e){return null};Cell.displayName="Cell";function _typeof$w(t){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$w(t)}function ownKeys$q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(n),!0).forEach(function(o){_defineProperty$u(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$u(t,e,n){return e=_toPropertyKey$v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return _typeof$w(e)=="symbol"?e:e+""}function _toPrimitive$v(t,e){if(_typeof$w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$w(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(t){var e=_objectSpread$q({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var getStringSize=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};var o=removeInvalidKeys(n),l=JSON.stringify({text:e,copyStyle:o});if(stringCache.widthCache[l])return stringCache.widthCache[l];try{var u=document.getElementById(MEASUREMENT_SPAN_ID);u||(u=document.createElement("span"),u.setAttribute("id",MEASUREMENT_SPAN_ID),u.setAttribute("aria-hidden","true"),document.body.appendChild(u));var f=_objectSpread$q(_objectSpread$q({},SPAN_STYLE),o);Object.assign(u.style,f),u.textContent="".concat(e);var h=u.getBoundingClientRect(),d={width:h.width,height:h.height};return stringCache.widthCache[l]=d,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),d}catch{return{width:0,height:0}}},getOffset=function t(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$v(t){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$v(t)}function _slicedToArray$9(t,e){return _arrayWithHoles$a(t)||_iterableToArrayLimit$9(t,e)||_unsupportedIterableToArray$g(t,e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$g(t,e)}}function _arrayLikeToArray$g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$a(t){if(Array.isArray(t))return t}function _classCallCheck$d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$u(o.key),o)}}function _createClass$d(t,e,n){return e&&_defineProperties$d(t.prototype,e),n&&_defineProperties$d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return _typeof$v(e)=="symbol"?e:e+""}function _toPrimitive$u(t,e){if(_typeof$v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$v(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}var DecimalCSS=function(){function t(e,n){_classCallCheck$d(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(e,n),this.unit="px")}return _createClass$d(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var o,l=(o=NUM_SPLIT_REGEX.exec(n))!==null&&o!==void 0?o:[],u=_slicedToArray$9(l,3),f=u[1],h=u[2];return new t(parseFloat(f),h??"")}}])}();function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var n,o=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&n!==void 0?n:[],l=_slicedToArray$9(o,4),u=l[1],f=l[2],h=l[3],d=DecimalCSS.parse(u??""),p=DecimalCSS.parse(h??""),m=f==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,_=(v=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&v!==void 0?v:[],S=_slicedToArray$9(_,4),M=S[1],A=S[2],w=S[3],C=DecimalCSS.parse(M??""),O=DecimalCSS.parse(w??""),L=A==="+"?C.add(O):C.subtract(O);if(L.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,L.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t;e.includes("(");){var n=PARENTHESES_REGEX.exec(e),o=_slicedToArray$9(n,2),l=o[1];e=e.replace(PARENTHESES_REGEX,calculateArithmetic(l))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$a=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$3=["dx","dy","angle","className","breakAll"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$j.apply(this,arguments)}function _objectWithoutProperties$a(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$a(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _slicedToArray$8(t,e){return _arrayWithHoles$9(t)||_iterableToArrayLimit$8(t,e)||_unsupportedIterableToArray$f(t,e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$f(t,e)}}function _arrayLikeToArray$f(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$9(t){if(Array.isArray(t))return t}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function t(e){var n=e.children,o=e.breakAll,l=e.style;try{var u=[];isNil(n)||(o?u=n.toString().split(""):u=n.toString().split(BREAKING_SPACES));var f=u.map(function(d){return{word:d,width:getStringSize(d,l).width}}),h=o?0:getStringSize("",l).width;return{wordsWithComputedWidth:f,spaceWidth:h}}catch{return null}},calculateWordsByLines=function t(e,n,o,l,u){var f=e.maxLines,h=e.children,d=e.style,p=e.breakAll,m=isNumber(f),v=h,_=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(fe,ye){var J=ye.word,oe=ye.width,se=fe[fe.length-1];if(se&&(l==null||u||se.width+oe+o<Number(l)))se.words.push(J),se.width+=oe+o;else{var Q={words:[J],width:oe};fe.push(Q)}return fe},[])},S=_(n),M=function(ce){return ce.reduce(function(fe,ye){return fe.width>ye.width?fe:ye})};if(!m)return S;for(var A="",w=function(ce){var fe=v.slice(0,ce),ye=calculateWordWidths({breakAll:p,style:d,children:fe+A}).wordsWithComputedWidth,J=_(ye),oe=J.length>f||M(J).width>Number(l);return[oe,J]},C=0,O=v.length-1,L=0,F;C<=O&&L<=v.length-1;){var $=Math.floor((C+O)/2),B=$-1,U=w(B),q=_slicedToArray$8(U,2),Z=q[0],G=q[1],H=w($),ne=_slicedToArray$8(H,1),ae=ne[0];if(!Z&&!ae&&(C=$+1),Z&&ae&&(O=$-1),!Z&&ae){F=G;break}L++}return F||S},getWordsWithoutCalculate=function t(e){var n=isNil(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:n}]},getWordsByLines=function t(e){var n=e.width,o=e.scaleToFit,l=e.children,u=e.style,f=e.breakAll,h=e.maxLines;if((n||o)&&!Global.isSsr){var d,p,m=calculateWordWidths({breakAll:f,children:l,style:u});if(m){var v=m.wordsWithComputedWidth,_=m.spaceWidth;d=v,p=_}else return getWordsWithoutCalculate(l);return calculateWordsByLines({breakAll:f,children:l,maxLines:h,style:u},d,p,n,o)}return getWordsWithoutCalculate(l)},DEFAULT_FILL="#808080",Text=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,f=e.lineHeight,h=f===void 0?"1em":f,d=e.capHeight,p=d===void 0?"0.71em":d,m=e.scaleToFit,v=m===void 0?!1:m,_=e.textAnchor,S=_===void 0?"start":_,M=e.verticalAnchor,A=M===void 0?"end":M,w=e.fill,C=w===void 0?DEFAULT_FILL:w,O=_objectWithoutProperties$a(e,_excluded$a),L=reactExports.useMemo(function(){return getWordsByLines({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:v,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,v,O.style,O.width]),F=O.dx,$=O.dy,B=O.angle,U=O.className,q=O.breakAll,Z=_objectWithoutProperties$a(O,_excluded2$3);if(!isNumOrStr(o)||!isNumOrStr(u))return null;var G=o+(isNumber(F)?F:0),H=u+(isNumber($)?$:0),ne;switch(A){case"start":ne=reduceCSSCalc("calc(".concat(p,")"));break;case"middle":ne=reduceCSSCalc("calc(".concat((L.length-1)/2," * -").concat(h," + (").concat(p," / 2))"));break;default:ne=reduceCSSCalc("calc(".concat(L.length-1," * -").concat(h,")"));break}var ae=[];if(v){var te=L[0].width,ce=O.width;ae.push("scale(".concat((isNumber(ce)?ce/te:1)/te,")"))}return B&&ae.push("rotate(".concat(B,", ").concat(G,", ").concat(H,")")),ae.length&&(Z.transform=ae.join(" ")),React$1.createElement("text",_extends$j({},filterProps(Z,!0),{x:G,y:H,className:clsx("recharts-text",U),textAnchor:S,fill:C.includes("url")?DEFAULT_FILL:C}),L.map(function(fe,ye){var J=fe.words.join(q?"":" ");return React$1.createElement("tspan",{x:G,dy:ye===0?ne:h,key:"".concat(J,"-").concat(ye)},J)}))};function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,o;t.length!==2?(e=ascending,n=(h,d)=>ascending(t(h),d),o=(h,d)=>t(h)-d):(e=t===ascending||t===descending?t:zero$1,n=t,o=t);function l(h,d,p=0,m=h.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(h[v],d)<0?p=v+1:m=v}while(p<m)}return p}function u(h,d,p=0,m=h.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(h[v],d)<=0?p=v+1:m=v}while(p<m)}return p}function f(h,d,p=0,m=h.length){const v=l(h,d,p,m-1);return v>p&&o(h[v-1],d)>-o(h[v],d)?v-1:v}return{left:l,center:f,right:u}}function zero$1(){return 0}function number$2(t){return t===null?NaN:+t}function*numbers(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[o,l]of e)this.set(o,l)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):n}function intern_set({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):(t.set(o,n),n)}function intern_delete({_intern:t,_key:e},n){const o=e(n);return t.has(o)&&(n=t.get(o),t.delete(o)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const o=t(e,n);return o||o===0?o:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const o=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(o)),u=o/Math.pow(10,l),f=u>=e10?10:u>=e5?5:u>=e2?2:1;let h,d,p;return l<0?(p=Math.pow(10,-l)/f,h=Math.round(t*p),d=Math.round(e*p),h/p<t&&++h,d/p>e&&--d,p=-p):(p=Math.pow(10,l)*f,h=Math.round(t/p),d=Math.round(e/p),h*p<t&&++h,d*p>e&&--d),d<h&&.5<=n&&n<2?tickSpec(t,e,n*2):[h,d,p]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[l,u,f]=o?tickSpec(e,t,n):tickSpec(t,e,n);if(!(u>=l))return[];const h=u-l+1,d=new Array(h);if(o)if(f<0)for(let p=0;p<h;++p)d[p]=(u-p)/-f;else for(let p=0;p<h;++p)d[p]=(u-p)*f;else if(f<0)for(let p=0;p<h;++p)d[p]=(l+p)/-f;else for(let p=0;p<h;++p)d[p]=(l+p)*f;return d}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const o=e<t,l=o?tickIncrement(e,t,n):tickIncrement(t,e,n);return(o?-1:1)*(l<0?1/-l:l)}function max$1(t,e){let n;for(const o of t)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);return n}function min$1(t,e){let n;for(const o of t)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);return n}function quickselect(t,e,n=0,o=1/0,l){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(t.length-1,o)),!(n<=e&&e<=o))return t;for(l=l===void 0?ascendingDefined:compareDefined(l);o>n;){if(o-n>600){const d=o-n+1,p=e-n+1,m=Math.log(d),v=.5*Math.exp(2*m/3),_=.5*Math.sqrt(m*v*(d-v)/d)*(p-d/2<0?-1:1),S=Math.max(n,Math.floor(e-p*v/d+_)),M=Math.min(o,Math.floor(e+(d-p)*v/d+_));quickselect(t,e,S,M,l)}const u=t[e];let f=n,h=o;for(swap(t,n,e),l(t[o],u)>0&&swap(t,n,o);f<h;){for(swap(t,f,h),++f,--h;l(t[f],u)<0;)++f;for(;l(t[h],u)>0;)--h}l(t[n],u)===0?swap(t,n,h):(++h,swap(t,h,o)),h<=e&&(n=h+1),e<=h&&(o=h-1)}return t}function swap(t,e,n){const o=t[e];t[e]=t[n],t[n]=o}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t)),!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return min$1(t);if(e>=1)return max$1(t);var o,l=(o-1)*e,u=Math.floor(l),f=max$1(quickselect(t,u).subarray(0,u+1)),h=min$1(t.subarray(u+1));return f+(h-f)*(l-u)}}function quantileSorted(t,e,n=number$2){if(!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,l=(o-1)*e,u=Math.floor(l),f=+n(t[u],u,t),h=+n(t[u+1],u+1,t);return f+(h-f)*(l-u)}}function range$2(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,u=new Array(l);++o<l;)u[o]=t+o*n;return u}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],o=implicit;function l(u){let f=t.get(u);if(f===void 0){if(o!==implicit)return o;t.set(u,f=e.push(u)-1)}return n[f%n.length]}return l.domain=function(u){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const f of u)t.has(f)||t.set(f,e.push(f)-1);return l},l.range=function(u){return arguments.length?(n=Array.from(u),l):n.slice()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return ordinal(e,n).unknown(o)},initRange.apply(l,arguments),l}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,o=0,l=1,u,f,h=!1,d=0,p=0,m=.5;delete t.unknown;function v(){var _=e().length,S=l<o,M=S?l:o,A=S?o:l;u=(A-M)/Math.max(1,_-d+p*2),h&&(u=Math.floor(u)),M+=(A-M-u*(_-d))*m,f=u*(1-d),h&&(M=Math.round(M),f=Math.round(f));var w=range$2(_).map(function(C){return M+u*C});return n(S?w.reverse():w)}return t.domain=function(_){return arguments.length?(e(_),v()):e()},t.range=function(_){return arguments.length?([o,l]=_,o=+o,l=+l,v()):[o,l]},t.rangeRound=function(_){return[o,l]=_,o=+o,l=+l,h=!0,v()},t.bandwidth=function(){return f},t.step=function(){return u},t.round=function(_){return arguments.length?(h=!!_,v()):h},t.padding=function(_){return arguments.length?(d=Math.min(1,p=+_),v()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),v()):d},t.paddingOuter=function(_){return arguments.length?(p=+_,v()):p},t.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),v()):m},t.copy=function(){return band(e(),[o,l]).round(h).paddingInner(d).paddingOuter(p).align(m)},initRange.apply(v(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,o){return o<=0&&(t=e=n=NaN),new Rgb(t,e,n,o)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,n,o){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,o??1)}function Rgb(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,o)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,l=Math.min(e,n,o),u=Math.max(e,n,o),f=NaN,h=u-l,d=(u+l)/2;return h?(e===u?f=(n-o)/h+(n<o)*6:n===u?f=(o-e)/h+2:f=(e-n)/h+4,h/=d<.5?u+l:2-u-l,f*=60):h=d>0&&d<1?0:f,new Hsl(f,h,d,t.opacity)}function hsl(t,e,n,o){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,o??1)}function Hsl(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,l=2*n-o;return new Rgb(hsl2rgb(t>=240?t-240:t+120,l,o),hsl2rgb(t,l,o),hsl2rgb(t<120?t+240:t-120,l,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function gamma(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant(isNaN(t)?e:t)}const rgb=function t(e){var n=gamma(e);function o(l,u){var f=n((l=rgb$1(l)).r,(u=rgb$1(u)).r),h=n(l.g,u.g),d=n(l.b,u.b),p=nogamma(l.opacity,u.opacity);return function(m){return l.r=f(m),l.g=h(m),l.b=d(m),l.opacity=p(m),l+""}}return o.gamma=t,o}(1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),l;return function(u){for(l=0;l<n;++l)o[l]=t[l]*(1-u)+e[l]*u;return o}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,l=new Array(o),u=new Array(n),f;for(f=0;f<o;++f)l[f]=interpolate(t[f],e[f]);for(;f<n;++f)u[f]=e[f];return function(h){for(f=0;f<o;++f)u[f]=l[f](h);return u}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function interpolateNumber$1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},o={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=interpolate(t[l],e[l]):o[l]=e[l];return function(u){for(l in n)o[l]=n[l](u);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n=reA.lastIndex=reB.lastIndex=0,o,l,u,f=-1,h=[],d=[];for(t=t+"",e=e+"";(o=reA.exec(t))&&(l=reB.exec(e));)(u=l.index)>n&&(u=e.slice(n,u),h[f]?h[f]+=u:h[++f]=u),(o=o[0])===(l=l[0])?h[f]?h[f]+=l:h[++f]=l:(h[++f]=null,d.push({i:f,x:interpolateNumber$1(o,l)})),n=reB.lastIndex;return n<e.length&&(u=e.slice(n),h[f]?h[f]+=u:h[++f]=u),h.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(p){for(var m=0,v;m<e;++m)h[(v=d[m]).i]=v.x(p);return h.join("")})}function interpolate(t,e){var n=typeof e,o;return e==null||n==="boolean"?constant(e):(n==="number"?interpolateNumber$1:n==="string"?(o=color(e))?(e=o,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber$1)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate);for(var n=0,o=e.length-1,l=e[0],u=new Array(o<0?0:o);n<o;)u[n]=t(l,l=e[++n]);return function(f){var h=Math.max(0,Math.min(o-1,Math.floor(f*=o)));return u[h](f-h)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit$1=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function bimap(t,e,n){var o=t[0],l=t[1],u=e[0],f=e[1];return l<o?(o=normalize(l,o),u=n(f,u)):(o=normalize(o,l),u=n(u,f)),function(h){return u(o(h))}}function polymap(t,e,n){var o=Math.min(t.length,e.length)-1,l=new Array(o),u=new Array(o),f=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<o;)l[f]=normalize(t[f],t[f+1]),u[f]=n(e[f],e[f+1]);return function(h){var d=bisectRight(t,h,1,o)-1;return u[d](l[d](h))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit$1,e=unit$1,n=interpolate,o,l,u,f=identity$4,h,d,p;function m(){var _=Math.min(t.length,e.length);return f!==identity$4&&(f=clamper(t[0],t[_-1])),h=_>2?polymap:bimap,d=p=null,v}function v(_){return _==null||isNaN(_=+_)?u:(d||(d=h(t.map(o),e,n)))(o(f(_)))}return v.invert=function(_){return f(l((p||(p=h(e,t.map(o),interpolateNumber$1)))(_)))},v.domain=function(_){return arguments.length?(t=Array.from(_,number$1),m()):t.slice()},v.range=function(_){return arguments.length?(e=Array.from(_),m()):e.slice()},v.rangeRound=function(_){return e=Array.from(_),n=interpolateRound,m()},v.clamp=function(_){return arguments.length?(f=_?!0:identity$4,m()):f!==identity$4},v.interpolate=function(_){return arguments.length?(n=_,m()):n},v.unknown=function(_){return arguments.length?(u=_,v):u},function(_,S){return o=_,l=S,m()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,o){for(var l=n.length,u=[],f=0,h=t[0],d=0;l>0&&h>0&&(d+h+1>o&&(h=Math.max(1,o-d)),u.push(n.substring(l-=h,l+h)),!((d+=h+1)>o));)h=t[f=(f+1)%t.length];return u.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,o=-1,l;n<e;++n)switch(t[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(l+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1],u=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,f=o.length;return u===f?o:u>f?o+new Array(u-f+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(t,Math.max(0,e+u-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$3(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$3:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?identity$3:formatNumerals(map$1.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function p(v){v=formatSpecifier(v);var _=v.fill,S=v.align,M=v.sign,A=v.symbol,w=v.zero,C=v.width,O=v.comma,L=v.precision,F=v.trim,$=v.type;$==="n"?(O=!0,$="g"):formatTypes[$]||(L===void 0&&(L=12),F=!0,$="g"),(w||_==="0"&&S==="=")&&(w=!0,_="0",S="=");var B=A==="$"?n:A==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",U=A==="$"?o:/[%p]/.test($)?f:"",q=formatTypes[$],Z=/[defgprs%]/.test($);L=L===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function G(H){var ne=B,ae=U,te,ce,fe;if($==="c")ae=q(H)+ae,H="";else{H=+H;var ye=H<0||1/H<0;if(H=isNaN(H)?d:q(Math.abs(H),L),F&&(H=formatTrim(H)),ye&&+H==0&&M!=="+"&&(ye=!1),ne=(ye?M==="("?M:h:M==="-"||M==="("?"":M)+ne,ae=($==="s"?prefixes[8+prefixExponent/3]:"")+ae+(ye&&M==="("?")":""),Z){for(te=-1,ce=H.length;++te<ce;)if(fe=H.charCodeAt(te),48>fe||fe>57){ae=(fe===46?l+H.slice(te+1):H.slice(te))+ae,H=H.slice(0,te);break}}}O&&!w&&(H=e(H,1/0));var J=ne.length+H.length+ae.length,oe=J<C?new Array(C-J+1).join(_):"";switch(O&&w&&(H=e(oe+H,oe.length?C-ae.length:1/0),oe=""),S){case"<":H=ne+H+ae+oe;break;case"=":H=ne+oe+H+ae;break;case"^":H=oe.slice(0,J=oe.length>>1)+ne+H+ae+oe.slice(J);break;default:H=oe+ne+H+ae;break}return u(H)}return G.toString=function(){return v+""},G}function m(v,_){var S=p((v=formatSpecifier(v),v.type="f",v)),M=Math.max(-8,Math.min(8,Math.floor(exponent(_)/3)))*3,A=Math.pow(10,-M),w=prefixes[8+M/3];return function(C){return S(A*C)+w}}return{format:p,formatPrefix:m}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,o){var l=tickStep(t,e,n),u;switch(o=formatSpecifier(o??",f"),o.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(u=precisionPrefix(l,f))&&(o.precision=u),formatPrefix(o,f)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=precisionRound(l,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=precisionFixed(l))&&(o.precision=u-(o.type==="%")*2);break}}return format(o)}function linearish(t){var e=t.domain;return t.ticks=function(n){var o=e();return ticks(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var l=e();return tickFormat(l[0],l[l.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),l=0,u=o.length-1,f=o[l],h=o[u],d,p,m=10;for(h<f&&(p=f,f=h,h=p,p=l,l=u,u=p);m-- >0;){if(p=tickIncrement(f,h,n),p===d)return o[l]=f,o[u]=h,e(o);if(p>0)f=Math.floor(f/p)*p,h=Math.ceil(h/p)*p;else if(p<0)f=Math.ceil(f*p)/p,h=Math.floor(h*p)/p;else break;d=p}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function n(o){return o==null||isNaN(o=+o)?e:o}return n.invert=n,n.domain=n.range=function(o){return arguments.length?(t=Array.from(o,number$1),n):t.slice()},n.unknown=function(o){return arguments.length?(e=o,n):e},n.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,o=t.length-1,l=t[n],u=t[o],f;return u<l&&(f=n,n=o,o=f,f=l,l=u,u=f),t[n]=e.floor(l),t[o]=e.ceil(u),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let o=10,l,u;function f(){return l=logp(o),u=powp(o),n()[0]<0?(l=reflect(l),u=reflect(u),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(h){return arguments.length?(o=+h,f()):o},e.domain=function(h){return arguments.length?(n(h),f()):n()},e.ticks=h=>{const d=n();let p=d[0],m=d[d.length-1];const v=m<p;v&&([p,m]=[m,p]);let _=l(p),S=l(m),M,A;const w=h==null?10:+h;let C=[];if(!(o%1)&&S-_<w){if(_=Math.floor(_),S=Math.ceil(S),p>0){for(;_<=S;++_)for(M=1;M<o;++M)if(A=_<0?M/u(-_):M*u(_),!(A<p)){if(A>m)break;C.push(A)}}else for(;_<=S;++_)for(M=o-1;M>=1;--M)if(A=_>0?M/u(-_):M*u(_),!(A<p)){if(A>m)break;C.push(A)}C.length*2<w&&(C=ticks(p,m,w))}else C=ticks(_,S,Math.min(S-_,w)).map(u);return v?C.reverse():C},e.tickFormat=(h,d)=>{if(h==null&&(h=10),d==null&&(d=o===10?"s":","),typeof d!="function"&&(!(o%1)&&(d=formatSpecifier(d)).precision==null&&(d.trim=!0),d=format(d)),h===1/0)return d;const p=Math.max(1,o*h/e.ticks().length);return m=>{let v=m/u(Math.round(l(m)));return v*o<o-.5&&(v*=o),v<=p?d(m):""}},e.nice=()=>n(nice(n(),{floor:h=>u(Math.floor(l(h))),ceil:h=>u(Math.ceil(l(h)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(o){return arguments.length?t(transformSymlog(e=+o),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),n=1;function o(){return n===1?t(identity$4,identity$4):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,o()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,o;function l(u){var f=unsquare(t(u));return isNaN(f)?o:n?Math.round(f):f}return l.invert=function(u){return t.invert(square(u))},l.domain=function(u){return arguments.length?(t.domain(u),l):t.domain()},l.range=function(u){return arguments.length?(t.range((e=Array.from(u,number$1)).map(square)),l):e.slice()},l.rangeRound=function(u){return l.range(u).round(!0)},l.round=function(u){return arguments.length?(n=!!u,l):n},l.clamp=function(u){return arguments.length?(t.clamp(u),l):t.clamp()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(o)},initRange.apply(l,arguments),linearish(l)}function quantile(){var t=[],e=[],n=[],o;function l(){var f=0,h=Math.max(1,e.length);for(n=new Array(h-1);++f<h;)n[f-1]=quantileSorted(t,f/h);return u}function u(f){return f==null||isNaN(f=+f)?o:e[bisectRight(n,f)]}return u.invertExtent=function(f){var h=e.indexOf(f);return h<0?[NaN,NaN]:[h>0?n[h-1]:t[0],h<n.length?n[h]:t[t.length-1]]},u.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let h of f)h!=null&&!isNaN(h=+h)&&t.push(h);return t.sort(ascending),l()},u.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},u.unknown=function(f){return arguments.length?(o=f,u):o},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(t).range(e).unknown(o)},initRange.apply(u,arguments)}function quantize(){var t=0,e=1,n=1,o=[.5],l=[0,1],u;function f(d){return d!=null&&d<=d?l[bisectRight(o,d,0,n)]:u}function h(){var d=-1;for(o=new Array(n);++d<n;)o[d]=((d+1)*e-(d-n)*t)/(n+1);return f}return f.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,h()):[t,e]},f.range=function(d){return arguments.length?(n=(l=Array.from(d)).length-1,h()):l.slice()},f.invertExtent=function(d){var p=l.indexOf(d);return p<0?[NaN,NaN]:p<1?[t,o[0]]:p>=n?[o[n-1],e]:[o[p-1],o[p]]},f.unknown=function(d){return arguments.length&&(u=d),f},f.thresholds=function(){return o.slice()},f.copy=function(){return quantize().domain([t,e]).range(l).unknown(u)},initRange.apply(linearish(f),arguments)}function threshold(){var t=[.5],e=[0,1],n,o=1;function l(u){return u!=null&&u<=u?e[bisectRight(t,u,0,o)]:n}return l.domain=function(u){return arguments.length?(t=Array.from(u),o=Math.min(t.length,e.length-1),l):t.slice()},l.range=function(u){return arguments.length?(e=Array.from(u),o=Math.min(t.length,e.length-1),l):e.slice()},l.invertExtent=function(u){var f=e.indexOf(u);return[t[f-1],t[f]]},l.unknown=function(u){return arguments.length?(n=u,l):n},l.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,o){function l(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=u=>(t(u=new Date(+u)),u),l.ceil=u=>(t(u=new Date(u-1)),e(u,1),t(u),u),l.round=u=>{const f=l(u),h=l.ceil(u);return u-f<h-u?f:h},l.offset=(u,f)=>(e(u=new Date(+u),f==null?1:Math.floor(f)),u),l.range=(u,f,h)=>{const d=[];if(u=l.ceil(u),h=h==null?1:Math.floor(h),!(u<f)||!(h>0))return d;let p;do d.push(p=new Date(+u)),e(u,h),t(u);while(p<u&&u<f);return d},l.filter=u=>timeInterval(f=>{if(f>=f)for(;t(f),!u(f);)f.setTime(f-1)},(f,h)=>{if(f>=f)if(h<0)for(;++h<=0;)for(;e(f,-1),!u(f););else for(;--h>=0;)for(;e(f,1),!u(f););}),n&&(l.count=(u,f)=>(t0.setTime(+u),t1.setTime(+f),t(t0),t(t1),Math.floor(n(t0,t1))),l.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?l.filter(o?f=>o(f)%u===0:f=>l.count(0,f)%u===0):l)),l}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});utcYear.range;function ticker(t,e,n,o,l,u){const f=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[o,1,durationDay],[o,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function h(p,m,v){const _=m<p;_&&([p,m]=[m,p]);const S=v&&typeof v.range=="function"?v:d(p,m,v),M=S?S.range(p,+m+1):[];return _?M.reverse():M}function d(p,m,v){const _=Math.abs(m-p)/v,S=bisector(([,,w])=>w).right(f,_);if(S===f.length)return t.every(tickStep(p/durationYear,m/durationYear,v));if(S===0)return millisecond.every(Math.max(tickStep(p,m,v),1));const[M,A]=f[_/f[S-1][2]<f[S][2]/_?S-1:S];return M.every(A)}return[h,d]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,o=t.time,l=t.periods,u=t.days,f=t.shortDays,h=t.months,d=t.shortMonths,p=formatRe(l),m=formatLookup(l),v=formatRe(u),_=formatLookup(u),S=formatRe(f),M=formatLookup(f),A=formatRe(h),w=formatLookup(h),C=formatRe(d),O=formatLookup(d),L={a:ye,A:J,b:oe,B:se,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Q,q:ue,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},F={a:_e,A:ge,b:ve,B:we,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Pe,q:Re,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},$={a:G,A:H,b:ne,B:ae,c:te,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Z,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ce,X:fe,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};L.x=B(n,L),L.X=B(o,L),L.c=B(e,L),F.x=B(n,F),F.X=B(o,F),F.c=B(e,F);function B(Ae,Ne){return function(Ie){var he=[],ke=-1,Me=0,je=Ae.length,Fe,Qe,Ve;for(Ie instanceof Date||(Ie=new Date(+Ie));++ke<je;)Ae.charCodeAt(ke)===37&&(he.push(Ae.slice(Me,ke)),(Qe=pads[Fe=Ae.charAt(++ke)])!=null?Fe=Ae.charAt(++ke):Qe=Fe==="e"?" ":"0",(Ve=Ne[Fe])&&(Fe=Ve(Ie,Qe)),he.push(Fe),Me=ke+1);return he.push(Ae.slice(Me,ke)),he.join("")}}function U(Ae,Ne){return function(Ie){var he=newDate(1900,void 0,1),ke=q(he,Ae,Ie+="",0),Me,je;if(ke!=Ie.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ne&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Me=utcDate(newDate(he.y,0,1)),je=Me.getUTCDay(),Me=je>4||je===0?utcMonday.ceil(Me):utcMonday(Me),Me=utcDay.offset(Me,(he.V-1)*7),he.y=Me.getUTCFullYear(),he.m=Me.getUTCMonth(),he.d=Me.getUTCDate()+(he.w+6)%7):(Me=localDate(newDate(he.y,0,1)),je=Me.getDay(),Me=je>4||je===0?timeMonday.ceil(Me):timeMonday(Me),Me=timeDay.offset(Me,(he.V-1)*7),he.y=Me.getFullYear(),he.m=Me.getMonth(),he.d=Me.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),je="Z"in he?utcDate(newDate(he.y,0,1)).getUTCDay():localDate(newDate(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(je+5)%7:he.w+he.U*7-(je+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,utcDate(he)):localDate(he)}}function q(Ae,Ne,Ie,he){for(var ke=0,Me=Ne.length,je=Ie.length,Fe,Qe;ke<Me;){if(he>=je)return-1;if(Fe=Ne.charCodeAt(ke++),Fe===37){if(Fe=Ne.charAt(ke++),Qe=$[Fe in pads?Ne.charAt(ke++):Fe],!Qe||(he=Qe(Ae,Ie,he))<0)return-1}else if(Fe!=Ie.charCodeAt(he++))return-1}return he}function Z(Ae,Ne,Ie){var he=p.exec(Ne.slice(Ie));return he?(Ae.p=m.get(he[0].toLowerCase()),Ie+he[0].length):-1}function G(Ae,Ne,Ie){var he=S.exec(Ne.slice(Ie));return he?(Ae.w=M.get(he[0].toLowerCase()),Ie+he[0].length):-1}function H(Ae,Ne,Ie){var he=v.exec(Ne.slice(Ie));return he?(Ae.w=_.get(he[0].toLowerCase()),Ie+he[0].length):-1}function ne(Ae,Ne,Ie){var he=C.exec(Ne.slice(Ie));return he?(Ae.m=O.get(he[0].toLowerCase()),Ie+he[0].length):-1}function ae(Ae,Ne,Ie){var he=A.exec(Ne.slice(Ie));return he?(Ae.m=w.get(he[0].toLowerCase()),Ie+he[0].length):-1}function te(Ae,Ne,Ie){return q(Ae,e,Ne,Ie)}function ce(Ae,Ne,Ie){return q(Ae,n,Ne,Ie)}function fe(Ae,Ne,Ie){return q(Ae,o,Ne,Ie)}function ye(Ae){return f[Ae.getDay()]}function J(Ae){return u[Ae.getDay()]}function oe(Ae){return d[Ae.getMonth()]}function se(Ae){return h[Ae.getMonth()]}function Q(Ae){return l[+(Ae.getHours()>=12)]}function ue(Ae){return 1+~~(Ae.getMonth()/3)}function _e(Ae){return f[Ae.getUTCDay()]}function ge(Ae){return u[Ae.getUTCDay()]}function ve(Ae){return d[Ae.getUTCMonth()]}function we(Ae){return h[Ae.getUTCMonth()]}function Pe(Ae){return l[+(Ae.getUTCHours()>=12)]}function Re(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var Ne=B(Ae+="",L);return Ne.toString=function(){return Ae},Ne},parse:function(Ae){var Ne=U(Ae+="",!1);return Ne.toString=function(){return Ae},Ne},utcFormat:function(Ae){var Ne=B(Ae+="",F);return Ne.toString=function(){return Ae},Ne},utcParse:function(Ae){var Ne=U(Ae+="",!0);return Ne.toString=function(){return Ae},Ne}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var o=t<0?"-":"",l=(o?-t:t)+"",u=l.length;return o+(u<n?new Array(n-u+1).join(e)+l:l)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function parseWeekNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function parseWeekNumberISO(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function parseWeekNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function parseFullYear(t,e,n){var o=numberRe.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function parseYear(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function parseZone(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function parseQuarter(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.q=o[0]*3-3,n+o[0].length):-1}function parseMonthNumber(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function parseDayOfMonth(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function parseDayOfYear(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function parseHour24(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function parseMinutes(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function parseSeconds(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function parseMilliseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function parseMicroseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function parseLiteralPercent(t,e,n){var o=percentRe.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function parseUnixTimestamp(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.s=+o[0],n+o[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,o,l,u,f,h,d,p){var m=continuous(),v=m.invert,_=m.domain,S=p(".%L"),M=p(":%S"),A=p("%I:%M"),w=p("%I %p"),C=p("%a %d"),O=p("%b %d"),L=p("%B"),F=p("%Y");function $(B){return(d(B)<B?S:h(B)<B?M:f(B)<B?A:u(B)<B?w:o(B)<B?l(B)<B?C:O:n(B)<B?L:F)(B)}return m.invert=function(B){return new Date(v(B))},m.domain=function(B){return arguments.length?_(Array.from(B,number)):_().map(date)},m.ticks=function(B){var U=_();return t(U[0],U[U.length-1],B??10)},m.tickFormat=function(B,U){return U==null?$:p(U)},m.nice=function(B){var U=_();return(!B||typeof B.range!="function")&&(B=e(U[0],U[U.length-1],B??10)),B?_(nice(U,B)):m},m.copy=function(){return copy$1(m,calendar(t,e,n,o,l,u,f,h,d,p))},m}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,o,l,u,f=identity$4,h=!1,d;function p(v){return v==null||isNaN(v=+v)?d:f(l===0?.5:(v=(u(v)-n)*l,h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e]=v,n=u(t=+t),o=u(e=+e),l=n===o?0:1/(o-n),p):[t,e]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(f=v,p):f};function m(v){return function(_){var S,M;return arguments.length?([S,M]=_,f=v(S,M),p):[f(0),f(1)]}}return p.range=m(interpolate),p.rangeRound=m(interpolateRound),p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return u=v,n=v(t),o=v(e),l=n===o?0:1/(o-n),p}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$4));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$4;function n(o){if(o!=null&&!isNaN(o=+o))return e((bisectRight(t,o,1)-1)/(t.length-1))}return n.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ascending),n},n.interpolator=function(o){return arguments.length?(e=o,n):e},n.range=function(){return t.map((o,l)=>e(l/(t.length-1)))},n.quantiles=function(o){return Array.from({length:o+1},(l,u)=>quantile$1(t,u/o))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,o=1,l,u,f,h,d,p=identity$4,m,v=!1,_;function S(A){return isNaN(A=+A)?_:(A=.5+((A=+m(A))-u)*(o*A<o*u?h:d),p(v?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([t,e,n]=A,l=m(t=+t),u=m(e=+e),f=m(n=+n),h=l===u?0:.5/(u-l),d=u===f?0:.5/(f-u),o=u<l?-1:1,S):[t,e,n]},S.clamp=function(A){return arguments.length?(v=!!A,S):v},S.interpolator=function(A){return arguments.length?(p=A,S):p};function M(A){return function(w){var C,O,L;return arguments.length?([C,O,L]=w,p=piecewise(A,[C,O,L]),S):[p(0),p(.5),p(1)]}}return S.range=M(interpolate),S.rangeRound=M(interpolateRound),S.unknown=function(A){return arguments.length?(_=A,S):_},function(A){return m=A,l=A(t),u=A(e),f=A(n),h=l===u?0:.5/(u-l),d=u===f?0:.5/(f-u),o=u<l?-1:1,S}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var t=requireIsSymbol();function e(n,o,l){for(var u=-1,f=n.length;++u<f;){var h=n[u],d=o(h);if(d!=null&&(p===void 0?d===d&&!t(d):l(d,p)))var p=d,m=h}return m}return _baseExtremum=e,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function t(e,n){return e>n}return _baseGt=t,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var t=require_baseExtremum(),e=require_baseGt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return max_1=o,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function t(e,n){return e<n}return _baseLt=t,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var t=require_baseExtremum(),e=require_baseLt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return min_1=o,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var t=require_arrayMap(),e=require_baseIteratee(),n=require_baseMap(),o=requireIsArray();function l(u,f){var h=o(u)?t:n;return h(u,e(f,3))}return map_1=l,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var t=require_baseFlatten(),e=requireMap();function n(o,l){return t(e(o,l),1)}return flatMap_1=n,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(n,o){return t(n,o)}return isEqual_1=e,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,o,l,u=this;if(t=new u.constructor(t),u.s!==t.s)return u.s||-t.s;if(u.e!==t.e)return u.e>t.e^u.s<0?1:-1;for(o=u.d.length,l=t.d.length,e=0,n=o<l?o:l;e<n;++e)if(u.d[e]!==t.d[e])return u.d[e]>t.d[e]^u.s<0?1:-1;return o===l?0:o>l^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return divide(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return round(divide(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,o=n.constructor,l=o.precision,u=l+5;if(t===void 0)t=new o(10);else if(t=new o(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new o(0):(external=!1,e=divide(ln(n,u),ln(t,u),u),external=!0,round(e,l))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,o=n.constructor,l=o.precision;if(t=new o(t),!t.s)throw Error(decimalError+"NaN");return n.s?(external=!1,e=divide(n,t,0,1).times(t),external=!0,n.minus(e)):round(new o(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,o,l=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(l)+1,o=l.d.length-1,n=o*LOG_BASE+1,o=l.d[o],o){for(;o%10==0;o/=10)n--;for(o=l.d[0];o>=10;o/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,o,l,u,f,h=this,d=h.constructor;if(h.s<1){if(!h.s)return new d(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(h),external=!1,l=Math.sqrt(+h),l==0||l==1/0?(e=digitsToString(h.d),(e.length+t)%2==0&&(e+="0"),l=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),l==1/0?e="5e"+t:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),o=new d(e)):o=new d(l.toString()),n=d.precision,l=f=n+3;;)if(u=o,o=u.plus(divide(h,u,f+2)).times(.5),digitsToString(u.d).slice(0,f)===(e=digitsToString(o.d)).slice(0,f)){if(e=e.slice(f-3,f+1),l==f&&e=="4999"){if(round(u,n+1,0),u.times(u).eq(h)){o=u;break}}else if(e!="9999")break;f+=4}return external=!0,round(o,n)};P.times=P.mul=function(t){var e,n,o,l,u,f,h,d,p,m=this,v=m.constructor,_=m.d,S=(t=new v(t)).d;if(!m.s||!t.s)return new v(0);for(t.s*=m.s,n=m.e+t.e,d=_.length,p=S.length,d<p&&(u=_,_=S,S=u,f=d,d=p,p=f),u=[],f=d+p,o=f;o--;)u.push(0);for(o=p;--o>=0;){for(e=0,l=d+o;l>o;)h=u[l]+S[o]*_[l-o-1]+e,u[l--]=h%BASE|0,e=h/BASE|0;u[l]=(u[l]+e)%BASE|0}for(;!u[--f];)u.pop();return e?++n:u.shift(),t.d=u,t.e=n,external?round(t,v.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,o=n.constructor;return n=new o(n),t===void 0?n:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8),round(n,t+getBase10Exponent(n)+1,e))};P.toExponential=function(t,e){var n,o=this,l=o.constructor;return t===void 0?n=toString(o,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),o=round(new l(o),t+1,e),n=toString(o,!0,t+1)),n};P.toFixed=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?toString(l):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),o=round(new u(l),t+getBase10Exponent(l)+1,e),n=toString(o.abs(),!1,t+getBase10Exponent(o)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,o,l,u,f,h=this,d=h.constructor,p=12,m=+(t=new d(t));if(!t.s)return new d(ONE);if(h=new d(h),!h.s){if(t.s<1)throw Error(decimalError+"Infinity");return h}if(h.eq(ONE))return h;if(o=d.precision,t.eq(ONE))return round(h,o);if(e=t.e,n=t.d.length-1,f=e>=n,u=h.s,f){if((n=m<0?-m:m)<=MAX_SAFE_INTEGER){for(l=new d(ONE),e=Math.ceil(o/LOG_BASE+4),external=!1;n%2&&(l=l.times(h),truncate(l.d,e)),n=mathfloor(n/2),n!==0;)h=h.times(h),truncate(h.d,e);return external=!0,t.s<0?new d(ONE).div(l):round(l,o)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&t.d[Math.max(e,n)]&1?-1:1,h.s=1,external=!1,l=t.times(ln(h,o+p)),external=!0,l=exp(l),l.s=u,l};P.toPrecision=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?(n=getBase10Exponent(l),o=toString(l,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),l=round(new u(l),t,e),n=getBase10Exponent(l),o=toString(l,t<=n||n<=u.toExpNeg,t)),o};P.toSignificantDigits=P.tosd=function(t,e){var n=this,o=n.constructor;return t===void 0?(t=o.precision,e=o.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8)),round(new o(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),n=t.constructor;return toString(t,e<=n.toExpNeg||e>=n.toExpPos)};function add(t,e){var n,o,l,u,f,h,d,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),external?round(e,v):e;if(d=t.d,p=e.d,f=t.e,l=e.e,d=d.slice(),u=f-l,u){for(u<0?(o=d,u=-u,h=p.length):(o=p,l=f,h=d.length),f=Math.ceil(v/LOG_BASE),h=f>h?f+1:h+1,u>h&&(u=h,o.length=1),o.reverse();u--;)o.push(0);o.reverse()}for(h=d.length,u=p.length,h-u<0&&(u=h,o=p,p=d,d=o),n=0;u;)n=(d[--u]=d[u]+p[u]+n)/BASE|0,d[u]%=BASE;for(n&&(d.unshift(n),++l),h=d.length;d[--h]==0;)d.pop();return e.d=d,e.e=l,external?round(e,v):e}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(invalidArgument+t)}function digitsToString(t){var e,n,o,l=t.length-1,u="",f=t[0];if(l>0){for(u+=f,e=1;e<l;e++)o=t[e]+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n)),u+=o;f=t[e],o=f+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return u+f}var divide=function(){function t(o,l){var u,f=0,h=o.length;for(o=o.slice();h--;)u=o[h]*l+f,o[h]=u%BASE|0,f=u/BASE|0;return f&&o.unshift(f),o}function e(o,l,u,f){var h,d;if(u!=f)d=u>f?1:-1;else for(h=d=0;h<u;h++)if(o[h]!=l[h]){d=o[h]>l[h]?1:-1;break}return d}function n(o,l,u){for(var f=0;u--;)o[u]-=f,f=o[u]<l[u]?1:0,o[u]=f*BASE+o[u]-l[u];for(;!o[0]&&o.length>1;)o.shift()}return function(o,l,u,f){var h,d,p,m,v,_,S,M,A,w,C,O,L,F,$,B,U,q,Z=o.constructor,G=o.s==l.s?1:-1,H=o.d,ne=l.d;if(!o.s)return new Z(o);if(!l.s)throw Error(decimalError+"Division by zero");for(d=o.e-l.e,U=ne.length,$=H.length,S=new Z(G),M=S.d=[],p=0;ne[p]==(H[p]||0);)++p;if(ne[p]>(H[p]||0)&&--d,u==null?O=u=Z.precision:f?O=u+(getBase10Exponent(o)-getBase10Exponent(l))+1:O=u,O<0)return new Z(0);if(O=O/LOG_BASE+2|0,p=0,U==1)for(m=0,ne=ne[0],O++;(p<$||m)&&O--;p++)L=m*BASE+(H[p]||0),M[p]=L/ne|0,m=L%ne|0;else{for(m=BASE/(ne[0]+1)|0,m>1&&(ne=t(ne,m),H=t(H,m),U=ne.length,$=H.length),F=U,A=H.slice(0,U),w=A.length;w<U;)A[w++]=0;q=ne.slice(),q.unshift(0),B=ne[0],ne[1]>=BASE/2&&++B;do m=0,h=e(ne,A,U,w),h<0?(C=A[0],U!=w&&(C=C*BASE+(A[1]||0)),m=C/B|0,m>1?(m>=BASE&&(m=BASE-1),v=t(ne,m),_=v.length,w=A.length,h=e(v,A,_,w),h==1&&(m--,n(v,U<_?q:ne,_))):(m==0&&(h=m=1),v=ne.slice()),_=v.length,_<w&&v.unshift(0),n(A,v,w),h==-1&&(w=A.length,h=e(ne,A,U,w),h<1&&(m++,n(A,U<w?q:ne,w))),w=A.length):h===0&&(m++,A=[0]),M[p++]=m,h&&A[0]?A[w++]=H[F]||0:(A=[H[F]],w=1);while((F++<$||A[0]!==void 0)&&O--)}return M[0]||M.shift(),S.e=d,round(S,f?u+getBase10Exponent(S)+1:u)}}();function exp(t,e){var n,o,l,u,f,h,d=0,p=0,m=t.constructor,v=m.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new m(ONE);for(external=!1,h=v,f=new m(.03125);t.abs().gte(.1);)t=t.times(f),p+=5;for(o=Math.log(mathpow(2,p))/Math.LN10*2+5|0,h+=o,n=l=u=new m(ONE),m.precision=h;;){if(l=round(l.times(t),h),n=n.times(++d),f=u.plus(divide(l,n,h)),digitsToString(f.d).slice(0,h)===digitsToString(u.d).slice(0,h)){for(;p--;)u=round(u.times(u),h);return m.precision=v,e==null?(external=!0,round(u,v)):u}u=f}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,n=t.d[0];n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>t.LN10.sd())throw external=!0,n&&(t.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln(t,e){var n,o,l,u,f,h,d,p,m,v=1,_=10,S=t,M=S.d,A=S.constructor,w=A.precision;if(S.s<1)throw Error(decimalError+(S.s?"NaN":"-Infinity"));if(S.eq(ONE))return new A(0);if(e==null?(external=!1,p=w):p=e,S.eq(10))return e==null&&(external=!0),getLn10(A,p);if(p+=_,A.precision=p,n=digitsToString(M),o=n.charAt(0),u=getBase10Exponent(S),Math.abs(u)<15e14){for(;o<7&&o!=1||o==1&&n.charAt(1)>3;)S=S.times(t),n=digitsToString(S.d),o=n.charAt(0),v++;u=getBase10Exponent(S),o>1?(S=new A("0."+n),u++):S=new A(o+"."+n.slice(1))}else return d=getLn10(A,p+2,w).times(u+""),S=ln(new A(o+"."+n.slice(1)),p-_).plus(d),A.precision=w,e==null?(external=!0,round(S,w)):S;for(h=f=S=divide(S.minus(ONE),S.plus(ONE),p),m=round(S.times(S),p),l=3;;){if(f=round(f.times(m),p),d=h.plus(divide(f,new A(l),p)),digitsToString(d.d).slice(0,p)===digitsToString(h.d).slice(0,p))return h=h.times(2),u!==0&&(h=h.plus(getLn10(A,p+2,w).times(u+""))),h=divide(h,new A(v),p),A.precision=w,e==null?(external=!0,round(h,w)):h;h=d,l+=2}}function parseDecimal(t,e){var n,o,l;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(n<0&&(n=o),n+=+e.slice(o+1),e=e.substring(0,o)):n<0&&(n=e.length),o=0;e.charCodeAt(o)===48;)++o;for(l=e.length;e.charCodeAt(l-1)===48;)--l;if(e=e.slice(o,l),e){if(l-=o,n=n-o-1,t.e=mathfloor(n/LOG_BASE),t.d=[],o=(n+1)%LOG_BASE,n<0&&(o+=LOG_BASE),o<l){for(o&&t.d.push(+e.slice(0,o)),l-=LOG_BASE;o<l;)t.d.push(+e.slice(o,o+=LOG_BASE));e=e.slice(o),o=LOG_BASE-e.length}else o-=l;for(;o--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+n)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,n){var o,l,u,f,h,d,p,m,v=t.d;for(f=1,u=v[0];u>=10;u/=10)f++;if(o=e-f,o<0)o+=LOG_BASE,l=e,p=v[m=0];else{if(m=Math.ceil((o+1)/LOG_BASE),u=v.length,m>=u)return t;for(p=u=v[m],f=1;u>=10;u/=10)f++;o%=LOG_BASE,l=o-LOG_BASE+f}if(n!==void 0&&(u=mathpow(10,f-l-1),h=p/u%10|0,d=e<0||v[m+1]!==void 0||p%u,d=n<4?(h||d)&&(n==0||n==(t.s<0?3:2)):h>5||h==5&&(n==4||d||n==6&&(o>0?l>0?p/mathpow(10,f-l):0:v[m-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return d?(u=getBase10Exponent(t),v.length=1,e=e-u-1,v[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(o==0?(v.length=m,u=1,m--):(v.length=m+1,u=mathpow(10,LOG_BASE-o),v[m]=l>0?(p/mathpow(10,f-l)%mathpow(10,l)|0)*u:0),d)for(;;)if(m==0){(v[0]+=u)==BASE&&(v[0]=1,++t.e);break}else{if(v[m]+=u,v[m]!=BASE)break;v[m--]=0,u=1}for(o=v.length;v[--o]===0;)v.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var n,o,l,u,f,h,d,p,m,v,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),external?round(e,S):e;if(d=t.d,v=e.d,o=e.e,p=t.e,d=d.slice(),f=p-o,f){for(m=f<0,m?(n=d,f=-f,h=v.length):(n=v,o=p,h=d.length),l=Math.max(Math.ceil(S/LOG_BASE),h)+2,f>l&&(f=l,n.length=1),n.reverse(),l=f;l--;)n.push(0);n.reverse()}else{for(l=d.length,h=v.length,m=l<h,m&&(h=l),l=0;l<h;l++)if(d[l]!=v[l]){m=d[l]<v[l];break}f=0}for(m&&(n=d,d=v,v=n,e.s=-e.s),h=d.length,l=v.length-h;l>0;--l)d[h++]=0;for(l=v.length;l>f;){if(d[--l]<v[l]){for(u=l;u&&d[--u]===0;)d[u]=BASE-1;--d[u],d[l]+=BASE}d[l]-=v[l]}for(;d[--h]===0;)d.pop();for(;d[0]===0;d.shift())--o;return d[0]?(e.d=d,e.e=o,external?round(e,S):e):new _(0)}function toString(t,e,n){var o,l=getBase10Exponent(t),u=digitsToString(t.d),f=u.length;return e?(n&&(o=n-f)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(o):f>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(l<0?"e":"e+")+l):l<0?(u="0."+getZeroString(-l-1)+u,n&&(o=n-f)>0&&(u+=getZeroString(o))):l>=f?(u+=getZeroString(l+1-f),n&&(o=n-l-1)>0&&(u=u+"."+getZeroString(o))):((o=l+1)<f&&(u=u.slice(0,o)+"."+u.slice(o)),n&&(o=n-f)>0&&(l+1===f&&(u+="."),u+=getZeroString(o))),t.s<0?"-"+u:u}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,n,o;function l(u){var f=this;if(!(f instanceof l))return new l(u);if(f.constructor=l,u instanceof l){f.s=u.s,f.e=u.e,f.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)f.s=1;else if(u<0)u=-u,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(u===~~u&&u<1e7){f.e=0,f.d=[u];return}return parseDecimal(f,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),f.s=-1):f.s=1,isDecimal.test(u))parseDecimal(f,u);else throw Error(invalidArgument+u)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,t===void 0&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<o.length;)t.hasOwnProperty(n=o[e++])||(t[n]=this[n]);return l.config(t),l}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,n,o,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<l.length;e+=3)if((o=t[n=l[e]])!==void 0)if(mathfloor(o)===o&&o>=l[e+1]&&o<=l[e+2])this[n]=o;else throw Error(invalidArgument+n+": "+o);if((o=t[n="LN10"])!==void 0)if(o==Math.LN10)this[n]=new this(o);else throw Error(invalidArgument+n+": "+o);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$9(t){return _arrayWithoutHoles$9(t)||_iterableToArray$a(t)||_unsupportedIterableToArray$e(t)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$e(t,e)}}function _iterableToArray$a(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$9(t){if(Array.isArray(t))return _arrayLikeToArray$e(t)}function _arrayLikeToArray$e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var identity$1=function t(e){return e},PLACE_HOLDER={},isPlaceHolder=function t(e){return e===PLACE_HOLDER},curry0=function t(e){return function n(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},curryN=function t(e,n){return e===1?n:curry0(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=l.filter(function(h){return h!==PLACE_HOLDER}).length;return f>=e?n.apply(void 0,l):t(e-f,curry0(function(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var m=l.map(function(v){return isPlaceHolder(v)?d.shift():v});return n.apply(void 0,_toConsumableArray$9(m).concat(d))}))})},curry=function t(e){return curryN(e.length,e)},range$1=function t(e,n){for(var o=[],l=e;l<n;++l)o[l-e]=l;return o},map=curry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),compose=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(!n.length)return identity$1;var l=n.reverse(),u=l[0],f=l.slice(1);return function(){return f.reduce(function(h,d){return d(h)},u.apply(void 0,arguments))}},reverse=function t(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},memoize$1=function t(e){var n=null,o=null;return function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return n&&u.every(function(h,d){return h===n[d]})||(n=u,o=e.apply(void 0,u)),o}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,n){for(var o=new Decimal$1(t),l=0,u=[];o.lt(e)&&l<1e5;)u.push(o.toNumber()),o=o.add(n),l++;return u}var interpolateNumber=curry(function(t,e,n){var o=+t,l=+e;return o+n*(l-o)}),uninterpolateNumber=curry(function(t,e,n){var o=e-+t;return o=o||1/0,(n-t)/o}),uninterpolateTruncation=curry(function(t,e,n){var o=e-+t;return o=o||1/0,Math.max(0,Math.min(1,(n-t)/o))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$8(t){return _arrayWithoutHoles$8(t)||_iterableToArray$9(t)||_unsupportedIterableToArray$d(t)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$8(t){if(Array.isArray(t))return _arrayLikeToArray$d(t)}function _slicedToArray$7(t,e){return _arrayWithHoles$8(t)||_iterableToArrayLimit$7(t,e)||_unsupportedIterableToArray$d(t,e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$d(t,e)}}function _arrayLikeToArray$d(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$7(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],o=!0,l=!1,u=void 0;try{for(var f=t[Symbol.iterator](),h;!(o=(h=f.next()).done)&&(n.push(h.value),!(e&&n.length===e));o=!0);}catch(d){l=!0,u=d}finally{try{!o&&f.return!=null&&f.return()}finally{if(l)throw u}}return n}}function _arrayWithHoles$8(t){if(Array.isArray(t))return t}function getValidInterval(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=n,u=o;return n>o&&(l=o,u=n),[l,u]}function getFormatStep(t,e,n){if(t.lte(0))return new Decimal$1(0);var o=Arithmetic.getDigitCount(t.toNumber()),l=new Decimal$1(10).pow(o),u=t.div(l),f=o!==1?.05:.1,h=new Decimal$1(Math.ceil(u.div(f).toNumber())).add(n).mul(f),d=h.mul(l);return e?d:new Decimal$1(Math.ceil(d))}function getTickOfSingleValue(t,e,n){var o=1,l=new Decimal$1(t);if(!l.isint()&&n){var u=Math.abs(t);u<1?(o=new Decimal$1(10).pow(Arithmetic.getDigitCount(t)-1),l=new Decimal$1(Math.floor(l.div(o).toNumber())).mul(o)):u>1&&(l=new Decimal$1(Math.floor(t)))}else t===0?l=new Decimal$1(Math.floor((e-1)/2)):n||(l=new Decimal$1(Math.floor(t)));var f=Math.floor((e-1)/2),h=compose(map(function(d){return l.add(new Decimal$1(d-f).mul(o)).toNumber()}),range$1);return h(0,e)}function calculateStep(t,e,n,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var u=getFormatStep(new Decimal$1(e).sub(t).div(n-1),o,l),f;t<=0&&e>=0?f=new Decimal$1(0):(f=new Decimal$1(t).add(e).div(2),f=f.sub(new Decimal$1(f).mod(u)));var h=Math.ceil(f.sub(t).div(u).toNumber()),d=Math.ceil(new Decimal$1(e).sub(f).div(u).toNumber()),p=h+d+1;return p>n?calculateStep(t,e,n,o,l+1):(p<n&&(d=e>0?d+(n-p):d,h=e>0?h:h+(n-p)),{step:u,tickMin:f.sub(new Decimal$1(h).mul(u)),tickMax:f.add(new Decimal$1(d).mul(u))})}function getNiceTickValuesFn(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=Math.max(l,2),h=getValidInterval([n,o]),d=_slicedToArray$7(h,2),p=d[0],m=d[1];if(p===-1/0||m===1/0){var v=m===1/0?[p].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return-1/0})),[m]);return n>o?reverse(v):v}if(p===m)return getTickOfSingleValue(p,l,u);var _=calculateStep(p,m,f,u),S=_.step,M=_.tickMin,A=_.tickMax,w=Arithmetic.rangeStep(M,A.add(new Decimal$1(.1).mul(S)),S);return n>o?reverse(w):w}function getTickValuesFixedDomainFn(t,e){var n=_slicedToArray$7(t,2),o=n[0],l=n[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=getValidInterval([o,l]),h=_slicedToArray$7(f,2),d=h[0],p=h[1];if(d===-1/0||p===1/0)return[o,l];if(d===p)return[d];var m=Math.max(e,2),v=getFormatStep(new Decimal$1(p).sub(d).div(m-1),u,0),_=[].concat(_toConsumableArray$8(Arithmetic.rangeStep(new Decimal$1(d),new Decimal$1(p).sub(new Decimal$1(.99).mul(v)),v)),[p]);return o>l?reverse(_):_}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(t,e){throw new Error(prefix)}var _excluded$9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$u(t){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$u(t)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$i.apply(this,arguments)}function _slicedToArray$6(t,e){return _arrayWithHoles$7(t)||_iterableToArrayLimit$6(t,e)||_unsupportedIterableToArray$c(t,e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$c(t,e)}}function _arrayLikeToArray$c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$7(t){if(Array.isArray(t))return t}function _objectWithoutProperties$9(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$9(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$t(o.key),o)}}function _createClass$c(t,e,n){return e&&_defineProperties$c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$9(t,e,n){return e=_getPrototypeOf$a(e),_possibleConstructorReturn$a(t,_isNativeReflectConstruct$a()?Reflect.construct(e,n||[],_getPrototypeOf$a(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$a(t,e){if(e&&(_typeof$u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(t)}function _assertThisInitialized$a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!t})()}function _getPrototypeOf$a(t){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$a(t)}function _inherits$a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$a(t,e)}function _setPrototypeOf$a(t,e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$a(t,e)}function _defineProperty$t(t,e,n){return e=_toPropertyKey$t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return _typeof$u(e)=="symbol"?e:e+""}function _toPrimitive$t(t,e){if(_typeof$u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$u(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ErrorBar=function(t){function e(){return _classCallCheck$c(this,e),_callSuper$9(this,e,arguments)}return _inherits$a(e,t),_createClass$c(e,[{key:"render",value:function(){var o=this.props,l=o.offset,u=o.layout,f=o.width,h=o.dataKey,d=o.data,p=o.dataPointFormatter,m=o.xAxis,v=o.yAxis,_=_objectWithoutProperties$9(o,_excluded$9),S=filterProps(_,!1);this.props.direction==="x"&&m.type!=="number"&&invariant();var M=d.map(function(A){var w=p(A,h),C=w.x,O=w.y,L=w.value,F=w.errorVal;if(!F)return null;var $=[],B,U;if(Array.isArray(F)){var q=_slicedToArray$6(F,2);B=q[0],U=q[1]}else B=U=F;if(u==="vertical"){var Z=m.scale,G=O+l,H=G+f,ne=G-f,ae=Z(L-B),te=Z(L+U);$.push({x1:te,y1:H,x2:te,y2:ne}),$.push({x1:ae,y1:G,x2:te,y2:G}),$.push({x1:ae,y1:H,x2:ae,y2:ne})}else if(u==="horizontal"){var ce=v.scale,fe=C+l,ye=fe-f,J=fe+f,oe=ce(L-B),se=ce(L+U);$.push({x1:ye,y1:se,x2:J,y2:se}),$.push({x1:fe,y1:oe,x2:fe,y2:se}),$.push({x1:ye,y1:oe,x2:J,y2:oe})}return React$1.createElement(Layer,_extends$i({className:"recharts-errorBar",key:"bar-".concat($.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},S),$.map(function(Q){return React$1.createElement("line",_extends$i({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return React$1.createElement(Layer,{className:"recharts-errorBars"},M)}}])}(React$1.Component);_defineProperty$t(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$t(ErrorBar,"displayName","ErrorBar");function _typeof$t(t){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$t(t)}function ownKeys$p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(n),!0).forEach(function(o){_defineProperty$s(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$s(t,e,n){return e=_toPropertyKey$s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return _typeof$t(e)=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(_typeof$t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getLegendProps=function t(e){var n=e.children,o=e.formattedGraphicalItems,l=e.legendWidth,u=e.legendContent,f=findChildByType(n,Legend);if(!f)return null;var h=Legend.defaultProps,d=h!==void 0?_objectSpread$p(_objectSpread$p({},h),f.props):{},p;return f.props&&f.props.payload?p=f.props&&f.props.payload:u==="children"?p=(o||[]).reduce(function(m,v){var _=v.item,S=v.props,M=S.sectors||S.data||[];return m.concat(M.map(function(A){return{type:f.props.iconType||_.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):p=(o||[]).map(function(m){var v=m.item,_=v.type.defaultProps,S=_!==void 0?_objectSpread$p(_objectSpread$p({},_),v.props):{},M=S.dataKey,A=S.name,w=S.legendType,C=S.hide;return{inactive:C,dataKey:M,type:d.iconType||w||"square",color:getMainColorOfGraphicItem(v),value:A||M,payload:S}}),_objectSpread$p(_objectSpread$p(_objectSpread$p({},d),Legend.getWithHeight(f,l)),{},{payload:p,item:f})};function _typeof$s(t){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$s(t)}function _toConsumableArray$7(t){return _arrayWithoutHoles$7(t)||_iterableToArray$8(t)||_unsupportedIterableToArray$b(t)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$b(t,e)}}function _iterableToArray$8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$7(t){if(Array.isArray(t))return _arrayLikeToArray$b(t)}function _arrayLikeToArray$b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(n),!0).forEach(function(o){_defineProperty$r(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$r(t,e,n){return e=_toPropertyKey$r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return _typeof$s(e)=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(_typeof$s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,n){return isNil(t)||isNil(e)?n:isNumOrStr(e)?get(t,e,n):isFunction(e)?e(t):n}function getDomainOfDataByKey(t,e,n,o){var l=flatMap(t,function(h){return getValueByDataKey(h,e)});if(n==="number"){var u=l.filter(function(h){return isNumber(h)||parseFloat(h)});return u.length?[min(u),max(u)]:[1/0,-1/0]}var f=o?l.filter(function(h){return!isNil(h)}):l;return f.map(function(h){return isNumOrStr(h)||h instanceof Date?h:""})}var calculateActiveTickIndex=function t(e){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,f=-1,h=(n=o==null?void 0:o.length)!==null&&n!==void 0?n:0;if(h<=1)return 0;if(u&&u.axisType==="angleAxis"&&Math.abs(Math.abs(u.range[1]-u.range[0])-360)<=1e-6)for(var d=u.range,p=0;p<h;p++){var m=p>0?l[p-1].coordinate:l[h-1].coordinate,v=l[p].coordinate,_=p>=h-1?l[0].coordinate:l[p+1].coordinate,S=void 0;if(mathSign(v-m)!==mathSign(_-v)){var M=[];if(mathSign(_-v)===mathSign(d[1]-d[0])){S=_;var A=v+d[1]-d[0];M[0]=Math.min(A,(A+m)/2),M[1]=Math.max(A,(A+m)/2)}else{S=m;var w=_+d[1]-d[0];M[0]=Math.min(v,(w+v)/2),M[1]=Math.max(v,(w+v)/2)}var C=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(e>C[0]&&e<=C[1]||e>=M[0]&&e<=M[1]){f=l[p].index;break}}else{var O=Math.min(m,_),L=Math.max(m,_);if(e>(O+v)/2&&e<=(L+v)/2){f=l[p].index;break}}}else for(var F=0;F<h;F++)if(F===0&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F>0&&F<h-1&&e>(o[F].coordinate+o[F-1].coordinate)/2&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F===h-1&&e>(o[F].coordinate+o[F-1].coordinate)/2){f=o[F].index;break}return f},getMainColorOfGraphicItem=function t(e){var n,o=e,l=o.type.displayName,u=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,f=u.stroke,h=u.fill,d;switch(l){case"Line":d=f;break;case"Area":case"Radar":d=f&&f!=="none"?f:h;break;default:d=h;break}return d},getBarSizeList=function t(e){var n=e.barSize,o=e.totalSize,l=e.stackGroups,u=l===void 0?{}:l;if(!u)return{};for(var f={},h=Object.keys(u),d=0,p=h.length;d<p;d++)for(var m=u[h[d]].stackGroups,v=Object.keys(m),_=0,S=v.length;_<S;_++){var M=m[v[_]],A=M.items,w=M.cateAxisId,C=A.filter(function(U){return getDisplayName(U.type).indexOf("Bar")>=0});if(C&&C.length){var O=C[0].type.defaultProps,L=O!==void 0?_objectSpread$o(_objectSpread$o({},O),C[0].props):C[0].props,F=L.barSize,$=L[w];f[$]||(f[$]=[]);var B=isNil(F)?n:F;f[$].push({item:C[0],stackList:C.slice(1),barSize:isNil(B)?void 0:getPercentValue(B,o,0)})}}return f},getBarPosition=function t(e){var n=e.barGap,o=e.barCategoryGap,l=e.bandSize,u=e.sizeList,f=u===void 0?[]:u,h=e.maxBarSize,d=f.length;if(d<1)return null;var p=getPercentValue(n,l,0,!0),m,v=[];if(f[0].barSize===+f[0].barSize){var _=!1,S=l/d,M=f.reduce(function(F,$){return F+$.barSize||0},0);M+=(d-1)*p,M>=l&&(M-=(d-1)*p,p=0),M>=l&&S>0&&(_=!0,S*=.9,M=d*S);var A=(l-M)/2>>0,w={offset:A-p,size:0};m=f.reduce(function(F,$){var B={item:$.item,position:{offset:w.offset+w.size+p,size:_?S:$.barSize}},U=[].concat(_toConsumableArray$7(F),[B]);return w=U[U.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(q){U.push({item:q,position:w})}),U},v)}else{var C=getPercentValue(o,l,0,!0);l-2*C-(d-1)*p<=0&&(p=0);var O=(l-2*C-(d-1)*p)/d;O>1&&(O>>=0);var L=h===+h?Math.min(O,h):O;m=f.reduce(function(F,$,B){var U=[].concat(_toConsumableArray$7(F),[{item:$.item,position:{offset:C+(O+p)*B+(O-L)/2,size:L}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(q){U.push({item:q,position:U[U.length-1].position})}),U},v)}return m},appendOffsetOfLegend=function t(e,n,o,l){var u=o.children,f=o.width,h=o.margin,d=f-(h.left||0)-(h.right||0),p=getLegendProps({children:u,legendWidth:d});if(p){var m=l||{},v=m.width,_=m.height,S=p.align,M=p.verticalAlign,A=p.layout;if((A==="vertical"||A==="horizontal"&&M==="middle")&&S!=="center"&&isNumber(e[S]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},S,e[S]+(v||0)));if((A==="horizontal"||A==="vertical"&&S==="center")&&M!=="middle"&&isNumber(e[M]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},M,e[M]+(_||0)))}return e},isErrorBarRelevantForAxis=function t(e,n,o){return isNil(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||o==="x"?n==="xAxis":o==="y"?n==="yAxis":!0},getDomainOfErrorBars=function t(e,n,o,l,u){var f=n.props.children,h=findAllByType(f,ErrorBar).filter(function(p){return isErrorBarRelevantForAxis(l,u,p.props.direction)});if(h&&h.length){var d=h.map(function(p){return p.props.dataKey});return e.reduce(function(p,m){var v=getValueByDataKey(m,o);if(isNil(v))return p;var _=Array.isArray(v)?[min(v),max(v)]:[v,v],S=d.reduce(function(M,A){var w=getValueByDataKey(m,A,0),C=_[0]-Math.abs(Array.isArray(w)?w[0]:w),O=_[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(C,M[0]),Math.max(O,M[1])]},[1/0,-1/0]);return[Math.min(S[0],p[0]),Math.max(S[1],p[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function t(e,n,o,l,u){var f=n.map(function(h){return getDomainOfErrorBars(e,h,o,u,l)}).filter(function(h){return!isNil(h)});return f&&f.length?f.reduce(function(h,d){return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function t(e,n,o,l,u){var f=n.map(function(d){var p=d.props.dataKey;return o==="number"&&p&&getDomainOfErrorBars(e,d,p,l)||getDomainOfDataByKey(e,p,o,u)});if(o==="number")return f.reduce(function(d,p){return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);var h={};return f.reduce(function(d,p){for(var m=0,v=p.length;m<v;m++)h[p[m]]||(h[p[m]]=!0,d.push(p[m]));return d},[])},isCategoricalAxis=function t(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},getTicksOfAxis=function t(e,n,o){if(!e)return null;var l=e.scale,u=e.duplicateDomain,f=e.type,h=e.range,d=e.realScaleType==="scaleBand"?l.bandwidth()/2:2,p=(n||o)&&f==="category"&&l.bandwidth?l.bandwidth()/d:0;if(p=e.axisType==="angleAxis"&&(h==null?void 0:h.length)>=2?mathSign(h[0]-h[1])*2*p:p,n&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(v){var _=u?u.indexOf(v):v;return{coordinate:l(_)+p,value:v,offset:p}});return m.filter(function(v){return!isNan(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,_){return{coordinate:l(v)+p,value:v,index:_,offset:p}}):l.ticks&&!o?l.ticks(e.tickCount).map(function(v){return{coordinate:l(v)+p,value:v,offset:p}}):l.domain().map(function(v,_){return{coordinate:l(v)+p,value:u?u[v]:v,index:_,offset:p}})},handlerWeakMap=new WeakMap,combineEventHandlers=function t(e,n){if(typeof n!="function")return e;handlerWeakMap.has(e)||handlerWeakMap.set(e,new WeakMap);var o=handlerWeakMap.get(e);if(o.has(n))return o.get(n);var l=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return o.set(n,l),l},parseScale=function t(e,n,o){var l=e.scale,u=e.type,f=e.layout,h=e.axisType;if(l==="auto")return f==="radial"&&h==="radiusAxis"?{scale:band(),realScaleType:"band"}:f==="radial"&&h==="angleAxis"?{scale:linear(),realScaleType:"linear"}:u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!o)?{scale:point(),realScaleType:"point"}:u==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(l)){var d="scale".concat(upperFirst(l));return{scale:(d3Scales[d]||point)(),realScaleType:d3Scales[d]?d:"point"}}return isFunction(l)?{scale:l}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function t(e){var n=e.domain();if(!(!n||n.length<=2)){var o=n.length,l=e.range(),u=Math.min(l[0],l[1])-EPS,f=Math.max(l[0],l[1])+EPS,h=e(n[0]),d=e(n[o-1]);(h<u||h>f||d<u||d>f)&&e.domain([n[0],n[o-1]])}},findPositionOfBar=function t(e,n){if(!e)return null;for(var o=0,l=e.length;o<l;o++)if(e[o].item===n)return e[o].position;return null},truncateByDomain=function t(e,n){if(!n||n.length!==2||!isNumber(n[0])||!isNumber(n[1]))return e;var o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),u=[e[0],e[1]];return(!isNumber(e[0])||e[0]<o)&&(u[0]=o),(!isNumber(e[1])||e[1]>l)&&(u[1]=l),u[0]>l&&(u[0]=l),u[1]<o&&(u[1]=o),u},offsetSign=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,f=0,h=0;h<n;++h){var d=isNan(e[h][o][1])?e[h][o][0]:e[h][o][1];d>=0?(e[h][o][0]=u,e[h][o][1]=u+d,u=e[h][o][1]):(e[h][o][0]=f,e[h][o][1]=f+d,f=e[h][o][1])}},offsetPositive=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,f=0;f<n;++f){var h=isNan(e[f][o][1])?e[f][o][0]:e[f][o][1];h>=0?(e[f][o][0]=u,e[f][o][1]=u+h,u=e[f][o][1]):(e[f][o][0]=0,e[f][o][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function t(e,n,o){var l=n.map(function(h){return h.props.dataKey}),u=STACK_OFFSET_MAP[o],f=shapeStack().keys(l).value(function(h,d){return+getValueByDataKey(h,d,0)}).order(stackOrderNone).offset(u);return f(e)},getStackGroupsByAxisId=function t(e,n,o,l,u,f){if(!e)return null;var h=f?n.reverse():n,d={},p=h.reduce(function(v,_){var S,M=(S=_.type)!==null&&S!==void 0&&S.defaultProps?_objectSpread$o(_objectSpread$o({},_.type.defaultProps),_.props):_.props,A=M.stackId,w=M.hide;if(w)return v;var C=M[o],O=v[C]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(A)){var L=O.stackGroups[A]||{numericAxisId:o,cateAxisId:l,items:[]};L.items.push(_),O.hasStack=!0,O.stackGroups[A]=L}else O.stackGroups[uniqueId("_stackId_")]={numericAxisId:o,cateAxisId:l,items:[_]};return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},C,O))},d),m={};return Object.keys(p).reduce(function(v,_){var S=p[_];if(S.hasStack){var M={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(A,w){var C=S.stackGroups[w];return _objectSpread$o(_objectSpread$o({},A),{},_defineProperty$r({},w,{numericAxisId:o,cateAxisId:l,items:C.items,stackedData:getStackedData(e,C.items,u)}))},M)}return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},_,S))},m)},getTicksOfScale=function t(e,n){var o=n.realScaleType,l=n.type,u=n.tickCount,f=n.originalDomain,h=n.allowDecimals,d=o||n.scale;if(d!=="auto"&&d!=="linear")return null;if(u&&l==="number"&&f&&(f[0]==="auto"||f[1]==="auto")){var p=e.domain();if(!p.length)return null;var m=getNiceTickValues(p,u,h);return e.domain([min(m),max(m)]),{niceTicks:m}}if(u&&l==="number"){var v=e.domain(),_=getTickValuesFixedDomain(v,u,h);return{niceTicks:_}}return null},getCateCoordinateOfBar=function t(e){var n=e.axis,o=e.ticks,l=e.offset,u=e.bandSize,f=e.entry,h=e.index;if(n.type==="category")return o[h]?o[h].coordinate+l:null;var d=getValueByDataKey(f,n.dataKey,n.domain[h]);return isNil(d)?null:n.scale(d)-u/2+l},getBaseValueOfBar=function t(e){var n=e.numericAxis,o=n.scale.domain();if(n.type==="number"){var l=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]);return l<=0&&u>=0?0:u<0?u:l}return o[0]},getStackedDataOfItem=function t(e,n){var o,l=(o=e.type)!==null&&o!==void 0&&o.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,u=l.stackId;if(isNumOrStr(u)){var f=n[u];if(f){var h=f.items.indexOf(e);return h>=0?f.stackedData[h]:null}}return null},getDomainOfSingle=function t(e){return e.reduce(function(n,o){return[min(o.concat([n[0]]).filter(isNumber)),max(o.concat([n[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function t(e,n,o){return Object.keys(e).reduce(function(l,u){var f=e[u],h=f.stackedData,d=h.reduce(function(p,m){var v=getDomainOfSingle(m.slice(n,o+1));return[Math.min(p[0],v[0]),Math.max(p[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],l[0]),Math.max(d[1],l[1])]},[1/0,-1/0]).map(function(l){return l===1/0||l===-1/0?0:l})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function t(e,n,o){if(isFunction(e))return e(n,o);if(!Array.isArray(e))return n;var l=[];if(isNumber(e[0]))l[0]=o?e[0]:Math.min(e[0],n[0]);else if(MIN_VALUE_REG.test(e[0])){var u=+MIN_VALUE_REG.exec(e[0])[1];l[0]=n[0]-u}else isFunction(e[0])?l[0]=e[0](n[0]):l[0]=n[0];if(isNumber(e[1]))l[1]=o?e[1]:Math.max(e[1],n[1]);else if(MAX_VALUE_REG.test(e[1])){var f=+MAX_VALUE_REG.exec(e[1])[1];l[1]=n[1]+f}else isFunction(e[1])?l[1]=e[1](n[1]):l[1]=n[1];return l},getBandSizeOfAxis=function t(e,n,o){if(e&&e.scale&&e.scale.bandwidth){var l=e.scale.bandwidth();if(!o||l>0)return l}if(e&&n&&n.length>=2){for(var u=sortBy(n,function(v){return v.coordinate}),f=1/0,h=1,d=u.length;h<d;h++){var p=u[h],m=u[h-1];f=Math.min((p.coordinate||0)-(m.coordinate||0),f)}return f===1/0?0:f}return o?void 0:0},parseDomainOfCategoryAxis=function t(e,n,o){return!e||!e.length||isEqual(e,get(o,"type.defaultProps.domain"))?n:e},getTooltipItem=function t(e,n){var o=e.type.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,l=o.dataKey,u=o.name,f=o.unit,h=o.formatter,d=o.tooltipType,p=o.chartType,m=o.hide;return _objectSpread$o(_objectSpread$o({},filterProps(e,!1)),{},{dataKey:l,unit:f,formatter:h,name:u||l,color:getMainColorOfGraphicItem(e),value:getValueByDataKey(n,l),type:d,payload:n,chartType:p,hide:m})};function _typeof$r(t){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$r(t)}function ownKeys$n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(n),!0).forEach(function(o){_defineProperty$q(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$q(t,e,n){return e=_toPropertyKey$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return _typeof$r(e)=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(_typeof$r(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$r(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RADIAN=Math.PI/180,radianToDegree=function t(e){return e*180/Math.PI},polarToCartesian=function t(e,n,o,l){return{x:e+Math.cos(-RADIAN*l)*o,y:n+Math.sin(-RADIAN*l)*o}},distanceBetweenPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,f=n.y;return Math.sqrt(Math.pow(o-u,2)+Math.pow(l-f,2))},getAngleOfPoint=function t(e,n){var o=e.x,l=e.y,u=n.cx,f=n.cy,h=distanceBetweenPoints({x:o,y:l},{x:u,y:f});if(h<=0)return{radius:h};var d=(o-u)/h,p=Math.acos(d);return l>f&&(p=2*Math.PI-p),{radius:h,angle:radianToDegree(p),angleInRadian:p}},formatAngleOfSector=function t(e){var n=e.startAngle,o=e.endAngle,l=Math.floor(n/360),u=Math.floor(o/360),f=Math.min(l,u);return{startAngle:n-f*360,endAngle:o-f*360}},reverseFormatAngleOfSetor=function t(e,n){var o=n.startAngle,l=n.endAngle,u=Math.floor(o/360),f=Math.floor(l/360),h=Math.min(u,f);return e+h*360},inRangeOfSector=function t(e,n){var o=e.x,l=e.y,u=getAngleOfPoint({x:o,y:l},n),f=u.radius,h=u.angle,d=n.innerRadius,p=n.outerRadius;if(f<d||f>p)return!1;if(f===0)return!0;var m=formatAngleOfSector(n),v=m.startAngle,_=m.endAngle,S=h,M;if(v<=_){for(;S>_;)S-=360;for(;S<v;)S+=360;M=S>=v&&S<=_}else{for(;S>v;)S-=360;for(;S<_;)S+=360;M=S>=_&&S<=v}return M?_objectSpread$n(_objectSpread$n({},n),{},{radius:f,angle:reverseFormatAngleOfSetor(S,n)}):null};function _typeof$q(t){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$q(t)}var _excluded$8=["offset"];function _toConsumableArray$6(t){return _arrayWithoutHoles$6(t)||_iterableToArray$7(t)||_unsupportedIterableToArray$a(t)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$a(t,e)}}function _iterableToArray$7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$6(t){if(Array.isArray(t))return _arrayLikeToArray$a(t)}function _arrayLikeToArray$a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _objectWithoutProperties$8(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$8(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(n),!0).forEach(function(o){_defineProperty$p(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$p(t,e,n){return e=_toPropertyKey$p(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return _typeof$q(e)=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(_typeof$q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$q(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$h.apply(this,arguments)}var getLabel=function t(e){var n=e.value,o=e.formatter,l=isNil(e.children)?n:e.children;return isFunction(o)?o(l):l},getDeltaAngle$1=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),360);return o*l},renderRadialLabel=function t(e,n,o){var l=e.position,u=e.viewBox,f=e.offset,h=e.className,d=u,p=d.cx,m=d.cy,v=d.innerRadius,_=d.outerRadius,S=d.startAngle,M=d.endAngle,A=d.clockWise,w=(v+_)/2,C=getDeltaAngle$1(S,M),O=C>=0?1:-1,L,F;l==="insideStart"?(L=S+O*f,F=A):l==="insideEnd"?(L=M-O*f,F=!A):l==="end"&&(L=M+O*f,F=A),F=C<=0?F:!F;var $=polarToCartesian(p,m,w,L),B=polarToCartesian(p,m,w,L+(F?1:-1)*359),U="M".concat($.x,",").concat($.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(F?0:1,`,
    `).concat(B.x,",").concat(B.y),q=isNil(e.id)?uniqueId("recharts-radial-line-"):e.id;return React$1.createElement("text",_extends$h({},o,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",h)}),React$1.createElement("defs",null,React$1.createElement("path",{id:q,d:U})),React$1.createElement("textPath",{xlinkHref:"#".concat(q)},n))},getAttrsOfPolarLabel=function t(e){var n=e.viewBox,o=e.offset,l=e.position,u=n,f=u.cx,h=u.cy,d=u.innerRadius,p=u.outerRadius,m=u.startAngle,v=u.endAngle,_=(m+v)/2;if(l==="outside"){var S=polarToCartesian(f,h,p+o,_),M=S.x,A=S.y;return{x:M,y:A,textAnchor:M>=f?"start":"end",verticalAnchor:"middle"}}if(l==="center")return{x:f,y:h,textAnchor:"middle",verticalAnchor:"middle"};if(l==="centerTop")return{x:f,y:h,textAnchor:"middle",verticalAnchor:"start"};if(l==="centerBottom")return{x:f,y:h,textAnchor:"middle",verticalAnchor:"end"};var w=(d+p)/2,C=polarToCartesian(f,h,w,_),O=C.x,L=C.y;return{x:O,y:L,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function t(e){var n=e.viewBox,o=e.parentViewBox,l=e.offset,u=e.position,f=n,h=f.x,d=f.y,p=f.width,m=f.height,v=m>=0?1:-1,_=v*l,S=v>0?"end":"start",M=v>0?"start":"end",A=p>=0?1:-1,w=A*l,C=A>0?"end":"start",O=A>0?"start":"end";if(u==="top"){var L={x:h+p/2,y:d-v*l,textAnchor:"middle",verticalAnchor:S};return _objectSpread$m(_objectSpread$m({},L),o?{height:Math.max(d-o.y,0),width:p}:{})}if(u==="bottom"){var F={x:h+p/2,y:d+m+_,textAnchor:"middle",verticalAnchor:M};return _objectSpread$m(_objectSpread$m({},F),o?{height:Math.max(o.y+o.height-(d+m),0),width:p}:{})}if(u==="left"){var $={x:h-w,y:d+m/2,textAnchor:C,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},$),o?{width:Math.max($.x-o.x,0),height:m}:{})}if(u==="right"){var B={x:h+p+w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},B),o?{width:Math.max(o.x+o.width-B.x,0),height:m}:{})}var U=o?{width:p,height:m}:{};return u==="insideLeft"?_objectSpread$m({x:h+w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},U):u==="insideRight"?_objectSpread$m({x:h+p-w,y:d+m/2,textAnchor:C,verticalAnchor:"middle"},U):u==="insideTop"?_objectSpread$m({x:h+p/2,y:d+_,textAnchor:"middle",verticalAnchor:M},U):u==="insideBottom"?_objectSpread$m({x:h+p/2,y:d+m-_,textAnchor:"middle",verticalAnchor:S},U):u==="insideTopLeft"?_objectSpread$m({x:h+w,y:d+_,textAnchor:O,verticalAnchor:M},U):u==="insideTopRight"?_objectSpread$m({x:h+p-w,y:d+_,textAnchor:C,verticalAnchor:M},U):u==="insideBottomLeft"?_objectSpread$m({x:h+w,y:d+m-_,textAnchor:O,verticalAnchor:S},U):u==="insideBottomRight"?_objectSpread$m({x:h+p-w,y:d+m-_,textAnchor:C,verticalAnchor:S},U):isObject(u)&&(isNumber(u.x)||isPercent(u.x))&&(isNumber(u.y)||isPercent(u.y))?_objectSpread$m({x:h+getPercentValue(u.x,p),y:d+getPercentValue(u.y,m),textAnchor:"end",verticalAnchor:"end"},U):_objectSpread$m({x:h+p/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},U)},isPolar=function t(e){return"cx"in e&&isNumber(e.cx)};function Label(t){var e=t.offset,n=e===void 0?5:e,o=_objectWithoutProperties$8(t,_excluded$8),l=_objectSpread$m({offset:n},o),u=l.viewBox,f=l.position,h=l.value,d=l.children,p=l.content,m=l.className,v=m===void 0?"":m,_=l.textBreakAll;if(!u||isNil(h)&&isNil(d)&&!reactExports.isValidElement(p)&&!isFunction(p))return null;if(reactExports.isValidElement(p))return reactExports.cloneElement(p,l);var S;if(isFunction(p)){if(S=reactExports.createElement(p,l),reactExports.isValidElement(S))return S}else S=getLabel(l);var M=isPolar(u),A=filterProps(l,!0);if(M&&(f==="insideStart"||f==="insideEnd"||f==="end"))return renderRadialLabel(l,S,A);var w=M?getAttrsOfPolarLabel(l):getAttrsOfCartesianLabel(l);return React$1.createElement(Text,_extends$h({className:clsx("recharts-label",v)},A,w,{breakAll:_}),S)}Label.displayName="Label";var parseViewBox=function t(e){var n=e.cx,o=e.cy,l=e.angle,u=e.startAngle,f=e.endAngle,h=e.r,d=e.radius,p=e.innerRadius,m=e.outerRadius,v=e.x,_=e.y,S=e.top,M=e.left,A=e.width,w=e.height,C=e.clockWise,O=e.labelViewBox;if(O)return O;if(isNumber(A)&&isNumber(w)){if(isNumber(v)&&isNumber(_))return{x:v,y:_,width:A,height:w};if(isNumber(S)&&isNumber(M))return{x:S,y:M,width:A,height:w}}return isNumber(v)&&isNumber(_)?{x:v,y:_,width:0,height:0}:isNumber(n)&&isNumber(o)?{cx:n,cy:o,startAngle:u||l||0,endAngle:f||l||0,innerRadius:p||0,outerRadius:m||d||h||0,clockWise:C}:e.viewBox?e.viewBox:{}},parseLabel=function t(e,n){return e?e===!0?React$1.createElement(Label,{key:"label-implicit",viewBox:n}):isNumOrStr(e)?React$1.createElement(Label,{key:"label-implicit",viewBox:n,value:e}):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,{key:"label-implicit",viewBox:n}):React$1.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isFunction(e)?React$1.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isObject(e)?React$1.createElement(Label,_extends$h({viewBox:n},e,{key:"label-implicit"})):null:null},renderCallByParent$1=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&o&&!e.label)return null;var l=e.children,u=parseViewBox(e),f=findAllByType(l,Label).map(function(d,p){return reactExports.cloneElement(d,{viewBox:n||u,key:"label-".concat(p)})});if(!o)return f;var h=parseLabel(e.label,n||u);return[h].concat(_toConsumableArray$6(f))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return last_1=t,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$p(t){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$p(t)}var _excluded$7=["valueAccessor"],_excluded2$2=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$9(t,e)}}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$9(t)}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$g.apply(this,arguments)}function ownKeys$l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(n),!0).forEach(function(o){_defineProperty$o(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$o(t,e,n){return e=_toPropertyKey$o(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return _typeof$p(e)=="symbol"?e:e+""}function _toPrimitive$o(t,e){if(_typeof$p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$p(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$7(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var defaultAccessor=function t(e){return Array.isArray(e.value)?last(e.value):e.value};function LabelList(t){var e=t.valueAccessor,n=e===void 0?defaultAccessor:e,o=_objectWithoutProperties$7(t,_excluded$7),l=o.data,u=o.dataKey,f=o.clockWise,h=o.id,d=o.textBreakAll,p=_objectWithoutProperties$7(o,_excluded2$2);return!l||!l.length?null:React$1.createElement(Layer,{className:"recharts-label-list"},l.map(function(m,v){var _=isNil(u)?n(m,v):getValueByDataKey(m&&m.payload,u),S=isNil(h)?{}:{id:"".concat(h,"-").concat(v)};return React$1.createElement(Label,_extends$g({},filterProps(m,!0),p,S,{parentViewBox:m.parentViewBox,value:_,textBreakAll:d,viewBox:Label.parseViewBox(isNil(f)?m:_objectSpread$l(_objectSpread$l({},m),{},{clockWise:f})),key:"label-".concat(v),index:v}))}))}LabelList.displayName="LabelList";function parseLabelList(t,e){return t?t===!0?React$1.createElement(LabelList,{key:"labelList-implicit",data:e}):React$1.isValidElement(t)||isFunction(t)?React$1.createElement(LabelList,{key:"labelList-implicit",data:e,content:t}):isObject(t)?React$1.createElement(LabelList,_extends$g({data:e},t,{key:"labelList-implicit"})):null:null}function renderCallByParent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var o=t.children,l=findAllByType(o,LabelList).map(function(f,h){return reactExports.cloneElement(f,{data:e,key:"labelList-".concat(h)})});if(!n)return l;var u=parseLabelList(t.label,e);return[u].concat(_toConsumableArray$5(l))}LabelList.renderCallByParent=renderCallByParent;function _typeof$o(t){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$o(t)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$f.apply(this,arguments)}function ownKeys$k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(n),!0).forEach(function(o){_defineProperty$n(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$n(t,e,n){return e=_toPropertyKey$n(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return _typeof$o(e)=="symbol"?e:e+""}function _toPrimitive$n(t,e){if(_typeof$o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$o(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDeltaAngle=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),359.999);return o*l},getTangentCircle=function t(e){var n=e.cx,o=e.cy,l=e.radius,u=e.angle,f=e.sign,h=e.isExternal,d=e.cornerRadius,p=e.cornerIsExternal,m=d*(h?1:-1)+l,v=Math.asin(d/m)/RADIAN,_=p?u:u+f*v,S=polarToCartesian(n,o,m,_),M=polarToCartesian(n,o,l,_),A=p?u-f*v:u,w=polarToCartesian(n,o,m*Math.cos(v*RADIAN),A);return{center:S,circleTangency:M,lineTangency:w,theta:v}},getSectorPath=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,f=e.startAngle,h=e.endAngle,d=getDeltaAngle(f,h),p=f+d,m=polarToCartesian(n,o,u,f),v=polarToCartesian(n,o,u,p),_="M ".concat(m.x,",").concat(m.y,`
    A `).concat(u,",").concat(u,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(f>p),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(l>0){var S=polarToCartesian(n,o,l,f),M=polarToCartesian(n,o,l,p);_+="L ".concat(M.x,",").concat(M.y,`
            A `).concat(l,",").concat(l,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(f<=p),`,
            `).concat(S.x,",").concat(S.y," Z")}else _+="L ".concat(n,",").concat(o," Z");return _},getSectorWithCorner=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,f=e.cornerRadius,h=e.forceCornerRadius,d=e.cornerIsExternal,p=e.startAngle,m=e.endAngle,v=mathSign(m-p),_=getTangentCircle({cx:n,cy:o,radius:u,angle:p,sign:v,cornerRadius:f,cornerIsExternal:d}),S=_.circleTangency,M=_.lineTangency,A=_.theta,w=getTangentCircle({cx:n,cy:o,radius:u,angle:m,sign:-v,cornerRadius:f,cornerIsExternal:d}),C=w.circleTangency,O=w.lineTangency,L=w.theta,F=d?Math.abs(p-m):Math.abs(p-m)-A-L;if(F<0)return h?"M ".concat(M.x,",").concat(M.y,`
        a`).concat(f,",").concat(f,",0,0,1,").concat(f*2,`,0
        a`).concat(f,",").concat(f,",0,0,1,").concat(-f*2,`,0
      `):getSectorPath({cx:n,cy:o,innerRadius:l,outerRadius:u,startAngle:p,endAngle:m});var $="M ".concat(M.x,",").concat(M.y,`
    A`).concat(f,",").concat(f,",0,0,").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(u,",").concat(u,",0,").concat(+(F>180),",").concat(+(v<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(f,",").concat(f,",0,0,").concat(+(v<0),",").concat(O.x,",").concat(O.y,`
  `);if(l>0){var B=getTangentCircle({cx:n,cy:o,radius:l,angle:p,sign:v,isExternal:!0,cornerRadius:f,cornerIsExternal:d}),U=B.circleTangency,q=B.lineTangency,Z=B.theta,G=getTangentCircle({cx:n,cy:o,radius:l,angle:m,sign:-v,isExternal:!0,cornerRadius:f,cornerIsExternal:d}),H=G.circleTangency,ne=G.lineTangency,ae=G.theta,te=d?Math.abs(p-m):Math.abs(p-m)-Z-ae;if(te<0&&f===0)return"".concat($,"L").concat(n,",").concat(o,"Z");$+="L".concat(ne.x,",").concat(ne.y,`
      A`).concat(f,",").concat(f,",0,0,").concat(+(v<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(l,",").concat(l,",0,").concat(+(te>180),",").concat(+(v>0),",").concat(U.x,",").concat(U.y,`
      A`).concat(f,",").concat(f,",0,0,").concat(+(v<0),",").concat(q.x,",").concat(q.y,"Z")}else $+="L".concat(n,",").concat(o,"Z");return $},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function t(e){var n=_objectSpread$k(_objectSpread$k({},defaultProps$2),e),o=n.cx,l=n.cy,u=n.innerRadius,f=n.outerRadius,h=n.cornerRadius,d=n.forceCornerRadius,p=n.cornerIsExternal,m=n.startAngle,v=n.endAngle,_=n.className;if(f<u||m===v)return null;var S=clsx("recharts-sector",_),M=f-u,A=getPercentValue(h,M,0,!0),w;return A>0&&Math.abs(m-v)<360?w=getSectorWithCorner({cx:o,cy:l,innerRadius:u,outerRadius:f,cornerRadius:Math.min(A,M/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:v}):w=getSectorPath({cx:o,cy:l,innerRadius:u,outerRadius:f,startAngle:m,endAngle:v}),React$1.createElement("path",_extends$f({},filterProps(n,!0),{className:S,d:w,role:"img"}))};function _typeof$n(t){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$n(t)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$e.apply(this,arguments)}function ownKeys$j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(n),!0).forEach(function(o){_defineProperty$m(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$m(t,e,n){return e=_toPropertyKey$m(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return _typeof$n(e)=="symbol"?e:e+""}function _toPrimitive$m(t,e){if(_typeof$n(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function t(e){return e.x===+e.x&&e.y===+e.y},getX=function t(e){return e.x},getY=function t(e){return e.y},getCurveFactory=function t(e,n){if(isFunction(e))return e;var o="curve".concat(upperFirst(e));return(o==="curveMonotone"||o==="curveBump")&&n?CURVE_FACTORIES["".concat(o).concat(n==="vertical"?"Y":"X")]:CURVE_FACTORIES[o]||curveLinear},getPath$1=function t(e){var n=e.type,o=n===void 0?"linear":n,l=e.points,u=l===void 0?[]:l,f=e.baseLine,h=e.layout,d=e.connectNulls,p=d===void 0?!1:d,m=getCurveFactory(o,h),v=p?u.filter(function(A){return defined(A)}):u,_;if(Array.isArray(f)){var S=p?f.filter(function(A){return defined(A)}):f,M=v.map(function(A,w){return _objectSpread$j(_objectSpread$j({},A),{},{base:S[w]})});return h==="vertical"?_=shapeArea().y(getY).x1(getX).x0(function(A){return A.base.x}):_=shapeArea().x(getX).y1(getY).y0(function(A){return A.base.y}),_.defined(defined).curve(m),_(M)}return h==="vertical"&&isNumber(f)?_=shapeArea().y(getY).x1(getX).x0(f):isNumber(f)?_=shapeArea().x(getX).y1(getY).y0(f):_=shapeLine().x(getX).y(getY),_.defined(defined).curve(m),_(v)},Curve=function t(e){var n=e.className,o=e.points,l=e.path,u=e.pathRef;if((!o||!o.length)&&!l)return null;var f=o&&o.length?getPath$1(e):l;return React$1.createElement("path",_extends$e({},filterProps(e,!1),adaptEventHandlers(e),{className:clsx("recharts-curve",n),d:f,ref:u}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty;function combineComparators(t,e){return function(o,l,u){return t(o,l,u)&&e(o,l,u)}}function createIsCircular(t){return function(n,o,l){if(!n||!o||typeof n!="object"||typeof o!="object")return t(n,o,l);var u=l.cache,f=u.get(n),h=u.get(o);if(f&&h)return f===o&&h===n;u.set(n,o),u.set(o,n);var d=t(n,o,l);return u.delete(n),u.delete(o),d}}function getStrictProperties(t){return getOwnPropertyNames(t).concat(getOwnPropertySymbols(t))}var hasOwn=Object.hasOwn||function(t,e){return hasOwnProperty.call(t,e)};function sameValueZeroEqual(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(t,e,n){var o=t.length;if(e.length!==o)return!1;for(;o-- >0;)if(!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function areDatesEqual(t,e){return sameValueZeroEqual(t.getTime(),e.getTime())}function areErrorsEqual(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function areFunctionsEqual(t,e){return t===e}function areMapsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.entries(),f,h,d=0;(f=u.next())&&!f.done;){for(var p=e.entries(),m=!1,v=0;(h=p.next())&&!h.done;){if(l[v]){v++;continue}var _=f.value,S=h.value;if(n.equals(_[0],S[0],d,v,t,e,n)&&n.equals(_[1],S[1],_[0],S[0],t,e,n)){m=l[v]=!0;break}v++}if(!m)return!1;d++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(t,e,n){var o=keys(t),l=o.length;if(keys(e).length!==l)return!1;for(;l-- >0;)if(!isPropertyEqual(t,e,n,o[l]))return!1;return!0}function areObjectsEqualStrict(t,e,n){var o=getStrictProperties(t),l=o.length;if(getStrictProperties(e).length!==l)return!1;for(var u,f,h;l-- >0;)if(u=o[l],!isPropertyEqual(t,e,n,u)||(f=getOwnPropertyDescriptor(t,u),h=getOwnPropertyDescriptor(e,u),(f||h)&&(!f||!h||f.configurable!==h.configurable||f.enumerable!==h.enumerable||f.writable!==h.writable)))return!1;return!0}function arePrimitiveWrappersEqual(t,e){return sameValueZeroEqual(t.valueOf(),e.valueOf())}function areRegExpsEqual(t,e){return t.source===e.source&&t.flags===e.flags}function areSetsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.values(),f,h;(f=u.next())&&!f.done;){for(var d=e.values(),p=!1,m=0;(h=d.next())&&!h.done;){if(!l[m]&&n.equals(f.value,h.value,f.value,h.value,t,e,n)){p=l[m]=!0;break}m++}if(!p)return!1}return!0}function areTypedArraysEqual(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function areUrlsEqual(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function isPropertyEqual(t,e,n,o){return(o===REACT_OWNER||o===PREACT_OWNER||o===PREACT_VNODE)&&(t.$$typeof||e.$$typeof)?!0:hasOwn(e,o)&&n.equals(t[o],e[o],o,o,t,e,n)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(t){var e=t.areArraysEqual,n=t.areDatesEqual,o=t.areErrorsEqual,l=t.areFunctionsEqual,u=t.areMapsEqual,f=t.areNumbersEqual,h=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,p=t.areRegExpsEqual,m=t.areSetsEqual,v=t.areTypedArraysEqual,_=t.areUrlsEqual;return function(M,A,w){if(M===A)return!0;if(M==null||A==null)return!1;var C=typeof M;if(C!==typeof A)return!1;if(C!=="object")return C==="number"?f(M,A,w):C==="function"?l(M,A,w):!1;var O=M.constructor;if(O!==A.constructor)return!1;if(O===Object)return h(M,A,w);if(isArray(M))return e(M,A,w);if(isTypedArray!=null&&isTypedArray(M))return v(M,A,w);if(O===Date)return n(M,A,w);if(O===RegExp)return p(M,A,w);if(O===Map)return u(M,A,w);if(O===Set)return m(M,A,w);var L=getTag(M);return L===DATE_TAG?n(M,A,w):L===REG_EXP_TAG?p(M,A,w):L===MAP_TAG?u(M,A,w):L===SET_TAG?m(M,A,w):L===OBJECT_TAG?typeof M.then!="function"&&typeof A.then!="function"&&h(M,A,w):L===URL_TAG?_(M,A,w):L===ERROR_TAG?o(M,A,w):L===ARGUMENTS_TAG?h(M,A,w):L===BOOLEAN_TAG||L===NUMBER_TAG||L===STRING_TAG?d(M,A,w):!1}}function createEqualityComparatorConfig(t){var e=t.circular,n=t.createCustomConfig,o=t.strict,l={areArraysEqual:o?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:o?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:o?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:o?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:o?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(n&&(l=assign({},l,n(l))),e){var u=createIsCircular(l.areArraysEqual),f=createIsCircular(l.areMapsEqual),h=createIsCircular(l.areObjectsEqual),d=createIsCircular(l.areSetsEqual);l=assign({},l,{areArraysEqual:u,areMapsEqual:f,areObjectsEqual:h,areSetsEqual:d})}return l}function createInternalEqualityComparator(t){return function(e,n,o,l,u,f,h){return t(e,n,h)}}function createIsEqual(t){var e=t.circular,n=t.comparator,o=t.createState,l=t.equals,u=t.strict;if(o)return function(d,p){var m=o(),v=m.cache,_=v===void 0?e?new WeakMap:void 0:v,S=m.meta;return n(d,p,{cache:_,equals:l,meta:S,strict:u})};if(e)return function(d,p){return n(d,p,{cache:new WeakMap,equals:l,meta:void 0,strict:u})};var f={cache:void 0,equals:l,meta:void 0,strict:u};return function(d,p){return n(d,p,f)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,o=t.createInternalComparator,l=t.createState,u=t.strict,f=u===void 0?!1:u,h=createEqualityComparatorConfig(t),d=createEqualityComparator(h),p=o?o(d):createInternalEqualityComparator(d);return createIsEqual({circular:n,comparator:d,createState:l,equals:p,strict:f})}function safeRequestAnimationFrame(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function setRafTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,o=function l(u){n<0&&(n=u),u-n>e?(t(u),n=-1):safeRequestAnimationFrame(l)};requestAnimationFrame(o)}function _typeof$m(t){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$m(t)}function _toArray(t){return _arrayWithHoles$6(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$8(t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(t,e)}}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithHoles$6(t){if(Array.isArray(t))return t}function createAnimateManager(){var t={},e=function(){return null},n=!1,o=function l(u){if(!n){if(Array.isArray(u)){if(!u.length)return;var f=u,h=_toArray(f),d=h[0],p=h.slice(1);if(typeof d=="number"){setRafTimeout(l.bind(null,p),d);return}l(d),setRafTimeout(l.bind(null,p));return}_typeof$m(u)==="object"&&(t=u,e(t)),typeof u=="function"&&u()}};return{stop:function(){n=!0},start:function(u){n=!1,o(u)},subscribe:function(u){return e=u,function(){e=function(){return null}}}}}function _typeof$l(t){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$l(t)}function ownKeys$i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(n),!0).forEach(function(o){_defineProperty$l(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$l(t,e,n){return e=_toPropertyKey$l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return _typeof$l(e)==="symbol"?e:String(e)}function _toPrimitive$l(t,e){if(_typeof$l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$l(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getIntersectionKeys=function t(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(o,l){return o.filter(function(u){return l.includes(u)})})},identity=function t(e){return e},getDashCase=function t(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mapObject=function t(e,n){return Object.keys(n).reduce(function(o,l){return _objectSpread$i(_objectSpread$i({},o),{},_defineProperty$l({},l,e(l,n[l])))},{})},getTransitionVal=function t(e,n,o){return e.map(function(l){return"".concat(getDashCase(l)," ").concat(n,"ms ").concat(o)}).join(",")};function _slicedToArray$5(t,e){return _arrayWithHoles$5(t)||_iterableToArrayLimit$5(t,e)||_unsupportedIterableToArray$7(t,e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$5(t){if(Array.isArray(t))return t}function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$7(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(t,e)}}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$7(t)}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var ACCURACY=1e-4,cubicBezierFactor=function t(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},multyTime=function t(e,n){return e.map(function(o,l){return o*Math.pow(n,l)}).reduce(function(o,l){return o+l})},cubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n);return multyTime(l,o)}},derivativeCubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n),u=[].concat(_toConsumableArray$4(l.map(function(f,h){return f*h}).slice(1)),[0]);return multyTime(u,o)}},configBezier=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0],u=n[1],f=n[2],h=n[3];if(n.length===1)switch(n[0]){case"linear":l=0,u=0,f=1,h=1;break;case"ease":l=.25,u=.1,f=.25,h=1;break;case"ease-in":l=.42,u=0,f=1,h=1;break;case"ease-out":l=.42,u=0,f=.58,h=1;break;case"ease-in-out":l=0,u=0,f=.58,h=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var p=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=_slicedToArray$5(p,4);l=m[0],u=m[1],f=m[2],h=m[3]}}}var v=cubicBezier(l,f),_=cubicBezier(u,h),S=derivativeCubicBezier(l,f),M=function(C){return C>1?1:C<0?0:C},A=function(C){for(var O=C>1?1:C,L=O,F=0;F<8;++F){var $=v(L)-O,B=S(L);if(Math.abs($-O)<ACCURACY||B<ACCURACY)return _(L);L=M(L-$/B)}return _(L)};return A.isStepper=!1,A},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,o=n===void 0?100:n,l=e.damping,u=l===void 0?8:l,f=e.dt,h=f===void 0?17:f,d=function(m,v,_){var S=-(m-v)*o,M=_*u,A=_+(S-M)*h/1e3,w=_*h/1e3+m;return Math.abs(w-v)<ACCURACY&&Math.abs(A)<ACCURACY?[v,0]:[w,A]};return d.isStepper=!0,d.dt=h,d},configEasing=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0];if(typeof l=="string")switch(l){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(l);case"spring":return configSpring();default:if(l.split("(")[0]==="cubic-bezier")return configBezier(l)}return typeof l=="function"?l:null};function _typeof$k(t){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$k(t)}function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$6(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$6(t)}function ownKeys$h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(n),!0).forEach(function(o){_defineProperty$k(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$k(t,e,n){return e=_toPropertyKey$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return _typeof$k(e)==="symbol"?e:String(e)}function _toPrimitive$k(t,e){if(_typeof$k(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$k(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$4(t,e){return _arrayWithHoles$4(t)||_iterableToArrayLimit$4(t,e)||_unsupportedIterableToArray$6(t,e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(t,e)}}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$4(t){if(Array.isArray(t))return t}var alpha=function t(e,n,o){return e+(n-e)*o},needContinue=function t(e){var n=e.from,o=e.to;return n!==o},calStepperVals=function t(e,n,o){var l=mapObject(function(u,f){if(needContinue(f)){var h=e(f.from,f.to,f.velocity),d=_slicedToArray$4(h,2),p=d[0],m=d[1];return _objectSpread$h(_objectSpread$h({},f),{},{from:p,velocity:m})}return f},n);return o<1?mapObject(function(u,f){return needContinue(f)?_objectSpread$h(_objectSpread$h({},f),{},{velocity:alpha(f.velocity,l[u].velocity,o),from:alpha(f.from,l[u].from,o)}):f},n):t(e,l,o-1)};const configUpdate=function(t,e,n,o,l){var u=getIntersectionKeys(t,e),f=u.reduce(function(w,C){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},C,[t[C],e[C]]))},{}),h=u.reduce(function(w,C){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},C,{from:t[C],velocity:0,to:e[C]}))},{}),d=-1,p,m,v=function(){return null},_=function(){return mapObject(function(C,O){return O.from},h)},S=function(){return!Object.values(h).filter(needContinue).length},M=function(C){p||(p=C);var O=C-p,L=O/n.dt;h=calStepperVals(n,h,L),l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),_())),p=C,S()||(d=requestAnimationFrame(v))},A=function(C){m||(m=C);var O=(C-m)/o,L=mapObject(function($,B){return alpha.apply(void 0,_toConsumableArray$3(B).concat([n(O)]))},f);if(l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),L)),O<1)d=requestAnimationFrame(v);else{var F=mapObject(function($,B){return alpha.apply(void 0,_toConsumableArray$3(B).concat([n(1)]))},f);l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),F))}};return v=n.isStepper?M:A,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}};function _typeof$j(t){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$j(t)}var _excluded$6=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$6(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$6(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$5(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$5(t)}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(n),!0).forEach(function(o){_defineProperty$j(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$j(t,e,n){return e=_toPropertyKey$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck$b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$j(o.key),o)}}function _createClass$b(t,e,n){return e&&_defineProperties$b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return _typeof$j(e)==="symbol"?e:String(e)}function _toPrimitive$j(t,e){if(_typeof$j(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$j(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits$9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$9(t,e)}function _setPrototypeOf$9(t,e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$9(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf$9(t),l;if(e){var u=_getPrototypeOf$9(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return _possibleConstructorReturn$9(this,l)}}function _possibleConstructorReturn$9(t,e){if(e&&(_typeof$j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(t)}function _assertThisInitialized$9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$9(t){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$9(t)}var Animate=function(t){_inherits$9(n,t);var e=_createSuper(n);function n(o,l){var u;_classCallCheck$b(this,n),u=e.call(this,o,l);var f=u.props,h=f.isActive,d=f.attributeName,p=f.from,m=f.to,v=f.steps,_=f.children,S=f.duration;if(u.handleStyleChange=u.handleStyleChange.bind(_assertThisInitialized$9(u)),u.changeStyle=u.changeStyle.bind(_assertThisInitialized$9(u)),!h||S<=0)return u.state={style:{}},typeof _=="function"&&(u.state={style:m}),_possibleConstructorReturn$9(u);if(v&&v.length)u.state={style:v[0].style};else if(p){if(typeof _=="function")return u.state={style:p},_possibleConstructorReturn$9(u);u.state={style:d?_defineProperty$j({},d,p):p}}else u.state={style:{}};return u}return _createClass$b(n,[{key:"componentDidMount",value:function(){var l=this.props,u=l.isActive,f=l.canBegin;this.mounted=!0,!(!u||!f)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(l){var u=this.props,f=u.isActive,h=u.canBegin,d=u.attributeName,p=u.shouldReAnimate,m=u.to,v=u.from,_=this.state.style;if(h){if(!f){var S={style:d?_defineProperty$j({},d,m):m};this.state&&_&&(d&&_[d]!==m||!d&&_!==m)&&this.setState(S);return}if(!(deepEqual(l.to,m)&&l.canBegin&&l.isActive)){var M=!l.canBegin||!l.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=M||p?v:l.to;if(this.state&&_){var w={style:d?_defineProperty$j({},d,A):A};(d&&_[d]!==A||!d&&_!==A)&&this.setState(w)}this.runAnimation(_objectSpread$g(_objectSpread$g({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var l=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),l&&l()}},{key:"handleStyleChange",value:function(l){this.changeStyle(l)}},{key:"changeStyle",value:function(l){this.mounted&&this.setState({style:l})}},{key:"runJSAnimation",value:function(l){var u=this,f=l.from,h=l.to,d=l.duration,p=l.easing,m=l.begin,v=l.onAnimationEnd,_=l.onAnimationStart,S=configUpdate(f,h,configEasing(p),d,this.changeStyle),M=function(){u.stopJSAnimation=S()};this.manager.start([_,m,M,d,v])}},{key:"runStepAnimation",value:function(l){var u=this,f=l.steps,h=l.begin,d=l.onAnimationStart,p=f[0],m=p.style,v=p.duration,_=v===void 0?0:v,S=function(A,w,C){if(C===0)return A;var O=w.duration,L=w.easing,F=L===void 0?"ease":L,$=w.style,B=w.properties,U=w.onAnimationEnd,q=C>0?f[C-1]:w,Z=B||Object.keys($);if(typeof F=="function"||F==="spring")return[].concat(_toConsumableArray$2(A),[u.runJSAnimation.bind(u,{from:q.style,to:$,duration:O,easing:F}),O]);var G=getTransitionVal(Z,O,F),H=_objectSpread$g(_objectSpread$g(_objectSpread$g({},q.style),$),{},{transition:G});return[].concat(_toConsumableArray$2(A),[H,O,U]).filter(identity)};return this.manager.start([d].concat(_toConsumableArray$2(f.reduce(S,[m,Math.max(_,h)])),[l.onAnimationEnd]))}},{key:"runAnimation",value:function(l){this.manager||(this.manager=createAnimateManager());var u=l.begin,f=l.duration,h=l.attributeName,d=l.to,p=l.easing,m=l.onAnimationStart,v=l.onAnimationEnd,_=l.steps,S=l.children,M=this.manager;if(this.unSubscribe=M.subscribe(this.handleStyleChange),typeof p=="function"||typeof S=="function"||p==="spring"){this.runJSAnimation(l);return}if(_.length>1){this.runStepAnimation(l);return}var A=h?_defineProperty$j({},h,d):d,w=getTransitionVal(Object.keys(A),f,p);M.start([m,u,_objectSpread$g(_objectSpread$g({},A),{},{transition:w}),f,v])}},{key:"render",value:function(){var l=this.props,u=l.children;l.begin;var f=l.duration;l.attributeName,l.easing;var h=l.isActive;l.steps,l.from,l.to,l.canBegin,l.onAnimationEnd,l.shouldReAnimate,l.onAnimationReStart;var d=_objectWithoutProperties$6(l,_excluded$6),p=reactExports.Children.count(u),m=this.state.style;if(typeof u=="function")return u(m);if(!h||p===0||f<=0)return u;var v=function(S){var M=S.props,A=M.style,w=A===void 0?{}:A,C=M.className,O=reactExports.cloneElement(S,_objectSpread$g(_objectSpread$g({},d),{},{style:_objectSpread$g(_objectSpread$g({},w),m),className:C}));return O};return p===1?v(reactExports.Children.only(u)):React$1.createElement("div",null,reactExports.Children.map(u,function(_){return v(_)}))}}]),n}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function t(){},onAnimationStart:function t(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$i(t){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$i(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$d.apply(this,arguments)}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$4(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(t,e)}}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function ownKeys$f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(n),!0).forEach(function(o){_defineProperty$i(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$i(t,e,n){return e=_toPropertyKey$i(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return _typeof$i(e)=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(_typeof$i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$i(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getRectanglePath=function t(e,n,o,l,u){var f=Math.min(Math.abs(o)/2,Math.abs(l)/2),h=l>=0?1:-1,d=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(f>0&&u instanceof Array){for(var v=[0,0,0,0],_=0,S=4;_<S;_++)v[_]=u[_]>f?f:u[_];m="M".concat(e,",").concat(n+h*v[0]),v[0]>0&&(m+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(p,",").concat(e+d*v[0],",").concat(n)),m+="L ".concat(e+o-d*v[1],",").concat(n),v[1]>0&&(m+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(p,`,
        `).concat(e+o,",").concat(n+h*v[1])),m+="L ".concat(e+o,",").concat(n+l-h*v[2]),v[2]>0&&(m+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(p,`,
        `).concat(e+o-d*v[2],",").concat(n+l)),m+="L ".concat(e+d*v[3],",").concat(n+l),v[3]>0&&(m+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(p,`,
        `).concat(e,",").concat(n+l-h*v[3])),m+="Z"}else if(f>0&&u===+u&&u>0){var M=Math.min(f,u);m="M ".concat(e,",").concat(n+h*M,`
            A `).concat(M,",").concat(M,",0,0,").concat(p,",").concat(e+d*M,",").concat(n,`
            L `).concat(e+o-d*M,",").concat(n,`
            A `).concat(M,",").concat(M,",0,0,").concat(p,",").concat(e+o,",").concat(n+h*M,`
            L `).concat(e+o,",").concat(n+l-h*M,`
            A `).concat(M,",").concat(M,",0,0,").concat(p,",").concat(e+o-d*M,",").concat(n+l,`
            L `).concat(e+d*M,",").concat(n+l,`
            A `).concat(M,",").concat(M,",0,0,").concat(p,",").concat(e,",").concat(n+l-h*M," Z")}else m="M ".concat(e,",").concat(n," h ").concat(o," v ").concat(l," h ").concat(-o," Z");return m},isInRectangle=function t(e,n){if(!e||!n)return!1;var o=e.x,l=e.y,u=n.x,f=n.y,h=n.width,d=n.height;if(Math.abs(h)>0&&Math.abs(d)>0){var p=Math.min(u,u+h),m=Math.max(u,u+h),v=Math.min(f,f+d),_=Math.max(f,f+d);return o>=p&&o<=m&&l>=v&&l<=_}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function t(e){var n=_objectSpread$f(_objectSpread$f({},defaultProps$1),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$3(l,2),f=u[0],h=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var F=o.current.getTotalLength();F&&h(F)}catch{}},[]);var d=n.x,p=n.y,m=n.width,v=n.height,_=n.radius,S=n.className,M=n.animationEasing,A=n.animationDuration,w=n.animationBegin,C=n.isAnimationActive,O=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||m===0||v===0)return null;var L=clsx("recharts-rectangle",S);return O?React$1.createElement(Animate,{canBegin:f>0,from:{width:m,height:v,x:d,y:p},to:{width:m,height:v,x:d,y:p},duration:A,animationEasing:M,isActive:O},function(F){var $=F.width,B=F.height,U=F.x,q=F.y;return React$1.createElement(Animate,{canBegin:f>0,from:"0px ".concat(f===-1?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:A,isActive:C,easing:M},React$1.createElement("path",_extends$d({},filterProps(n,!0),{className:L,d:getRectanglePath(U,q,$,B,_),ref:o})))}):React$1.createElement("path",_extends$d({},filterProps(n,!0),{className:L,d:getRectanglePath(d,p,m,v,_)}))};function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$c.apply(this,arguments)}var Dot=function t(e){var n=e.cx,o=e.cy,l=e.r,u=e.className,f=clsx("recharts-dot",u);return n===+n&&o===+o&&l===+l?React$1.createElement("circle",_extends$c({},filterProps(e,!1),adaptEventHandlers(e),{className:f,cx:n,cy:o,r:l})):null};function _typeof$h(t){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$h(t)}var _excluded$5=["x","y","top","left","width","height","className"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$b.apply(this,arguments)}function ownKeys$e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(o){_defineProperty$h(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$h(t,e,n){return e=_toPropertyKey$h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return _typeof$h(e)=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(_typeof$h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$5(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$5(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var getPath=function t(e,n,o,l,u,f){return"M".concat(e,",").concat(u,"v").concat(l,"M").concat(f,",").concat(n,"h").concat(o)},Cross=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,f=e.top,h=f===void 0?0:f,d=e.left,p=d===void 0?0:d,m=e.width,v=m===void 0?0:m,_=e.height,S=_===void 0?0:_,M=e.className,A=_objectWithoutProperties$5(e,_excluded$5),w=_objectSpread$e({x:o,y:u,top:h,left:p,width:v,height:S},A);return!isNumber(o)||!isNumber(u)||!isNumber(v)||!isNumber(S)||!isNumber(h)||!isNumber(p)?null:React$1.createElement("path",_extends$b({},filterProps(w,!0),{className:clsx("recharts-cross",M),d:getPath(o,u,v,S,h,p)}))},_getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var t=require_overArg(),e=t(Object.getPrototypeOf,Object);return _getPrototype=e,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var t=require_baseGetTag(),e=require_getPrototype(),n=requireIsObjectLike(),o="[object Object]",l=Function.prototype,u=Object.prototype,f=l.toString,h=u.hasOwnProperty,d=f.call(Object);function p(m){if(!n(m)||t(m)!=o)return!1;var v=e(m);if(v===null)return!0;var _=h.call(v,"constructor")&&v.constructor;return typeof _=="function"&&_ instanceof _&&f.call(_)==d}return isPlainObject_1=p,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Boolean]";function o(l){return l===!0||l===!1||e(l)&&t(l)==n}return isBoolean_1=o,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$g(t){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$g(t)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$a.apply(this,arguments)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$3(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(t,e)}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(o){_defineProperty$g(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$g(t,e,n){return e=_toPropertyKey$g(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return _typeof$g(e)=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(_typeof$g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getTrapezoidPath=function t(e,n,o,l,u){var f=o-l,h;return h="M ".concat(e,",").concat(n),h+="L ".concat(e+o,",").concat(n),h+="L ".concat(e+o-f/2,",").concat(n+u),h+="L ".concat(e+o-f/2-l,",").concat(n+u),h+="L ".concat(e,",").concat(n," Z"),h},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function t(e){var n=_objectSpread$d(_objectSpread$d({},defaultProps),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$2(l,2),f=u[0],h=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var L=o.current.getTotalLength();L&&h(L)}catch{}},[]);var d=n.x,p=n.y,m=n.upperWidth,v=n.lowerWidth,_=n.height,S=n.className,M=n.animationEasing,A=n.animationDuration,w=n.animationBegin,C=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||_!==+_||m===0&&v===0||_===0)return null;var O=clsx("recharts-trapezoid",S);return C?React$1.createElement(Animate,{canBegin:f>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:p},to:{upperWidth:m,lowerWidth:v,height:_,x:d,y:p},duration:A,animationEasing:M,isActive:C},function(L){var F=L.upperWidth,$=L.lowerWidth,B=L.height,U=L.x,q=L.y;return React$1.createElement(Animate,{canBegin:f>0,from:"0px ".concat(f===-1?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:A,easing:M},React$1.createElement("path",_extends$a({},filterProps(n,!0),{className:O,d:getTrapezoidPath(U,q,F,$,B),ref:o})))}):React$1.createElement("g",null,React$1.createElement("path",_extends$a({},filterProps(n,!0),{className:O,d:getTrapezoidPath(d,p,m,v,_)})))},_excluded$4=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$4(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(o){_defineProperty$f(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$f(t,e,n){return e=_toPropertyKey$f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return _typeof$f(e)=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(_typeof$f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$f(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$c(_objectSpread$c({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return React$1.createElement(Rectangle,n);case"trapezoid":return React$1.createElement(Trapezoid,n);case"sector":return React$1.createElement(Sector,n);case"symbols":if(isSymbolsProps(e))return React$1.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var e=t.option,n=t.shapeType,o=t.propTransformer,l=o===void 0?defaultPropTransformer:o,u=t.activeClassName,f=u===void 0?"recharts-active-shape":u,h=t.isActive,d=_objectWithoutProperties$4(t,_excluded$4),p;if(reactExports.isValidElement(e))p=reactExports.cloneElement(e,_objectSpread$c(_objectSpread$c({},d),getPropsFromShapeOption(e)));else if(isFunction(e))p=e(d);else if(isPlainObject(e)&&!isBoolean(e)){var m=l(e,d);p=React$1.createElement(ShapeSelector,{shapeType:n,elementProps:m})}else{var v=d;p=React$1.createElement(ShapeSelector,{shapeType:n,elementProps:v})}return h?React$1.createElement(Layer,{className:f},p):p}function isFunnel(t,e){return e!=null&&"trapezoids"in t.props}function isPie(t,e){return e!=null&&"sectors"in t.props}function isScatter(t,e){return e!=null&&"points"in t.props}function compareFunnel(t,e){var n,o,l=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,u=t.y===(e==null||(o=e.labelViewBox)===null||o===void 0?void 0:o.y)||t.y===e.y;return l&&u}function comparePie(t,e){var n=t.endAngle===e.endAngle,o=t.startAngle===e.startAngle;return n&&o}function compareScatter(t,e){var n=t.x===e.x,o=t.y===e.y,l=t.z===e.z;return n&&o&&l}function getComparisonFn(t,e){var n;return isFunnel(t,e)?n=compareFunnel:isPie(t,e)?n=comparePie:isScatter(t,e)&&(n=compareScatter),n}function getShapeDataKey(t,e){var n;return isFunnel(t,e)?n="trapezoids":isPie(t,e)?n="sectors":isScatter(t,e)&&(n="points"),n}function getActiveShapeTooltipPayload(t,e){if(isFunnel(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(isPie(t,e)){var o;return(o=e.tooltipPayload)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.payload)===null||o===void 0?void 0:o.payload}return isScatter(t,e)?e.payload:{}}function getActiveShapeIndexForTooltip(t){var e=t.activeTooltipItem,n=t.graphicalItem,o=t.itemData,l=getShapeDataKey(n,e),u=getActiveShapeTooltipPayload(n,e),f=o.filter(function(d,p){var m=isEqual(u,d),v=n.props[l].filter(function(M){var A=getComparisonFn(n,e);return A(M,e)}),_=n.props[l].indexOf(v[v.length-1]),S=p===_;return m&&S}),h=o.indexOf(f[f.length-1]);return h}var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var t=Math.ceil,e=Math.max;function n(o,l,u,f){for(var h=-1,d=e(t((l-o)/(u||1)),0),p=Array(d);d--;)p[f?d:++h]=o,o+=u;return p}return _baseRange=n,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var t=requireToNumber(),e=1/0,n=17976931348623157e292;function o(l){if(!l)return l===0?l:0;if(l=t(l),l===e||l===-1/0){var u=l<0?-1:1;return u*n}return l===l?l:0}return toFinite_1=o,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var t=require_baseRange(),e=require_isIterateeCall(),n=requireToFinite();function o(l){return function(u,f,h){return h&&typeof h!="number"&&e(u,f,h)&&(f=h=void 0),u=n(u),f===void 0?(f=u,u=0):f=n(f),h=h===void 0?u<f?1:-1:n(h),t(u,f,h,l)}}return _createRange=o,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var t=require_createRange(),e=t();return range_1=e,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function ownKeys$b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(o){_defineProperty$e(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$e(t,e,n){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$e(e)=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(_typeof$e(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function t(e,n){var o=e.replace(/(\w)/,function(u){return u.toUpperCase()}),l=PREFIX_LIST.reduce(function(u,f){return _objectSpread$b(_objectSpread$b({},u),{},_defineProperty$e({},f+o,n))},{});return l[e]=n,l};function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$9.apply(this,arguments)}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(o){_defineProperty$d(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$d(o.key),o)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),n&&_defineProperties$a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$8(t,e,n){return e=_getPrototypeOf$8(e),_possibleConstructorReturn$8(t,_isNativeReflectConstruct$8()?Reflect.construct(e,n||[],_getPrototypeOf$8(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$8(t,e){if(e&&(_typeof$d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(t)}function _assertThisInitialized$8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!t})()}function _getPrototypeOf$8(t){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$8(t)}function _inherits$8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$8(t,e)}function _setPrototypeOf$8(t,e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$8(t,e)}function _defineProperty$d(t,e,n){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$d(e)=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(_typeof$d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$d(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var createScale=function t(e){var n=e.data,o=e.startIndex,l=e.endIndex,u=e.x,f=e.width,h=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,p=point().domain(range(0,d)).range([u,u+f-h]),m=p.domain().map(function(v){return p(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(o),endX:p(l),scale:p,scaleValues:m}},isTouch=function t(e){return e.changedTouches&&!!e.changedTouches.length},Brush=function(t){function e(n){var o;return _classCallCheck$a(this,e),o=_callSuper$8(this,e,[n]),_defineProperty$d(o,"handleDrag",function(l){o.leaveTimer&&(clearTimeout(o.leaveTimer),o.leaveTimer=null),o.state.isTravellerMoving?o.handleTravellerMove(l):o.state.isSlideMoving&&o.handleSlideDrag(l)}),_defineProperty$d(o,"handleTouchMove",function(l){l.changedTouches!=null&&l.changedTouches.length>0&&o.handleDrag(l.changedTouches[0])}),_defineProperty$d(o,"handleDragEnd",function(){o.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var l=o.props,u=l.endIndex,f=l.onDragEnd,h=l.startIndex;f==null||f({endIndex:u,startIndex:h})}),o.detachDragEndListener()}),_defineProperty$d(o,"handleLeaveWrapper",function(){(o.state.isTravellerMoving||o.state.isSlideMoving)&&(o.leaveTimer=window.setTimeout(o.handleDragEnd,o.props.leaveTimeOut))}),_defineProperty$d(o,"handleEnterSlideOrTraveller",function(){o.setState({isTextActive:!0})}),_defineProperty$d(o,"handleLeaveSlideOrTraveller",function(){o.setState({isTextActive:!1})}),_defineProperty$d(o,"handleSlideDragStart",function(l){var u=isTouch(l)?l.changedTouches[0]:l;o.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:u.pageX}),o.attachDragEndListener()}),o.travellerDragStartHandlers={startX:o.handleTravellerDragStart.bind(o,"startX"),endX:o.handleTravellerDragStart.bind(o,"endX")},o.state={},o}return _inherits$8(e,t),_createClass$a(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(o){var l=o.startX,u=o.endX,f=this.state.scaleValues,h=this.props,d=h.gap,p=h.data,m=p.length-1,v=Math.min(l,u),_=Math.max(l,u),S=e.getIndexInRange(f,v),M=e.getIndexInRange(f,_);return{startIndex:S-S%d,endIndex:M===m?m:M-M%d}}},{key:"getTextOfTick",value:function(o){var l=this.props,u=l.data,f=l.tickFormatter,h=l.dataKey,d=getValueByDataKey(u[o],h,o);return isFunction(f)?f(d,o):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(o){var l=this.state,u=l.slideMoveStartX,f=l.startX,h=l.endX,d=this.props,p=d.x,m=d.width,v=d.travellerWidth,_=d.startIndex,S=d.endIndex,M=d.onChange,A=o.pageX-u;A>0?A=Math.min(A,p+m-v-h,p+m-v-f):A<0&&(A=Math.max(A,p-f,p-h));var w=this.getIndex({startX:f+A,endX:h+A});(w.startIndex!==_||w.endIndex!==S)&&M&&M(w),this.setState({startX:f+A,endX:h+A,slideMoveStartX:o.pageX})}},{key:"handleTravellerDragStart",value:function(o,l){var u=isTouch(l)?l.changedTouches[0]:l;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:o,brushMoveStartX:u.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(o){var l=this.state,u=l.brushMoveStartX,f=l.movingTravellerId,h=l.endX,d=l.startX,p=this.state[f],m=this.props,v=m.x,_=m.width,S=m.travellerWidth,M=m.onChange,A=m.gap,w=m.data,C={startX:this.state.startX,endX:this.state.endX},O=o.pageX-u;O>0?O=Math.min(O,v+_-S-p):O<0&&(O=Math.max(O,v-p)),C[f]=p+O;var L=this.getIndex(C),F=L.startIndex,$=L.endIndex,B=function(){var q=w.length-1;return f==="startX"&&(h>d?F%A===0:$%A===0)||h<d&&$===q||f==="endX"&&(h>d?$%A===0:F%A===0)||h>d&&$===q};this.setState(_defineProperty$d(_defineProperty$d({},f,p+O),"brushMoveStartX",o.pageX),function(){M&&B()&&M(L)})}},{key:"handleTravellerMoveKeyboard",value:function(o,l){var u=this,f=this.state,h=f.scaleValues,d=f.startX,p=f.endX,m=this.state[l],v=h.indexOf(m);if(v!==-1){var _=v+o;if(!(_===-1||_>=h.length)){var S=h[_];l==="startX"&&S>=p||l==="endX"&&S<=d||this.setState(_defineProperty$d({},l,S),function(){u.props.onChange(u.getIndex({startX:u.state.startX,endX:u.state.endX}))})}}}},{key:"renderBackground",value:function(){var o=this.props,l=o.x,u=o.y,f=o.width,h=o.height,d=o.fill,p=o.stroke;return React$1.createElement("rect",{stroke:p,fill:d,x:l,y:u,width:f,height:h})}},{key:"renderPanorama",value:function(){var o=this.props,l=o.x,u=o.y,f=o.width,h=o.height,d=o.data,p=o.children,m=o.padding,v=reactExports.Children.only(p);return v?React$1.cloneElement(v,{x:l,y:u,width:f,height:h,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(o,l){var u,f,h=this,d=this.props,p=d.y,m=d.travellerWidth,v=d.height,_=d.traveller,S=d.ariaLabel,M=d.data,A=d.startIndex,w=d.endIndex,C=Math.max(o,this.props.x),O=_objectSpread$a(_objectSpread$a({},filterProps(this.props,!1)),{},{x:C,y:p,width:m,height:v}),L=S||"Min value: ".concat((u=M[A])===null||u===void 0?void 0:u.name,", Max value: ").concat((f=M[w])===null||f===void 0?void 0:f.name);return React$1.createElement(Layer,{tabIndex:0,role:"slider","aria-label":L,"aria-valuenow":o,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[l],onTouchStart:this.travellerDragStartHandlers[l],onKeyDown:function($){["ArrowLeft","ArrowRight"].includes($.key)&&($.preventDefault(),$.stopPropagation(),h.handleTravellerMoveKeyboard($.key==="ArrowRight"?1:-1,l))},onFocus:function(){h.setState({isTravellerFocused:!0})},onBlur:function(){h.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,O))}},{key:"renderSlide",value:function(o,l){var u=this.props,f=u.y,h=u.height,d=u.stroke,p=u.travellerWidth,m=Math.min(o,l)+p,v=Math.max(Math.abs(l-o)-p,0);return React$1.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:f,width:v,height:h})}},{key:"renderText",value:function(){var o=this.props,l=o.startIndex,u=o.endIndex,f=o.y,h=o.height,d=o.travellerWidth,p=o.stroke,m=this.state,v=m.startX,_=m.endX,S=5,M={pointerEvents:"none",fill:p};return React$1.createElement(Layer,{className:"recharts-brush-texts"},React$1.createElement(Text,_extends$9({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,_)-S,y:f+h/2},M),this.getTextOfTick(l)),React$1.createElement(Text,_extends$9({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,_)+d+S,y:f+h/2},M),this.getTextOfTick(u)))}},{key:"render",value:function(){var o=this.props,l=o.data,u=o.className,f=o.children,h=o.x,d=o.y,p=o.width,m=o.height,v=o.alwaysShowText,_=this.state,S=_.startX,M=_.endX,A=_.isTextActive,w=_.isSlideMoving,C=_.isTravellerMoving,O=_.isTravellerFocused;if(!l||!l.length||!isNumber(h)||!isNumber(d)||!isNumber(p)||!isNumber(m)||p<=0||m<=0)return null;var L=clsx("recharts-brush",u),F=React$1.Children.count(f)===1,$=generatePrefixStyle("userSelect","none");return React$1.createElement(Layer,{className:L,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:$},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(S,M),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(M,"endX"),(A||w||C||O||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(o){var l=o.x,u=o.y,f=o.width,h=o.height,d=o.stroke,p=Math.floor(u+h/2)-1;return React$1.createElement(React$1.Fragment,null,React$1.createElement("rect",{x:l,y:u,width:f,height:h,fill:d,stroke:"none"}),React$1.createElement("line",{x1:l+1,y1:p,x2:l+f-1,y2:p,fill:"none",stroke:"#fff"}),React$1.createElement("line",{x1:l+1,y1:p+2,x2:l+f-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(o,l){var u;return React$1.isValidElement(o)?u=React$1.cloneElement(o,l):isFunction(o)?u=o(l):u=e.renderDefaultTraveller(l),u}},{key:"getDerivedStateFromProps",value:function(o,l){var u=o.data,f=o.width,h=o.x,d=o.travellerWidth,p=o.updateId,m=o.startIndex,v=o.endIndex;if(u!==l.prevData||p!==l.prevUpdateId)return _objectSpread$a({prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:h,prevWidth:f},u&&u.length?createScale({data:u,width:f,x:h,travellerWidth:d,startIndex:m,endIndex:v}):{scale:null,scaleValues:null});if(l.scale&&(f!==l.prevWidth||h!==l.prevX||d!==l.prevTravellerWidth)){l.scale.range([h,h+f-d]);var _=l.scale.domain().map(function(S){return l.scale(S)});return{prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:h,prevWidth:f,startX:l.scale(o.startIndex),endX:l.scale(o.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(o,l){for(var u=o.length,f=0,h=u-1;h-f>1;){var d=Math.floor((f+h)/2);o[d]>l?h=d:f=d}return l>=o[h]?h:f}}])}(reactExports.PureComponent);_defineProperty$d(Brush,"displayName","Brush");_defineProperty$d(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var t=require_baseEach();function e(n,o){var l;return t(n,function(u,f,h){return l=o(u,f,h),!l}),!!l}return _baseSome=e,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var t=require_arraySome(),e=require_baseIteratee(),n=require_baseSome(),o=requireIsArray(),l=require_isIterateeCall();function u(f,h,d){var p=o(f)?t:n;return d&&l(f,h,d)&&(h=void 0),p(f,e(h,3))}return some_1=u,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function t(e,n){var o=e.alwaysShow,l=e.ifOverflow;return o&&(l="extendDomain"),l===n},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var t=require_defineProperty();function e(n,o,l){o=="__proto__"&&t?t(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}return _baseAssignValue=e,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var t=require_baseAssignValue(),e=require_baseForOwn(),n=require_baseIteratee();function o(l,u){var f={};return u=n(u,3),e(l,function(h,d,p){t(f,d,u(h,d,p))}),f}return mapValues_1=o,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(!n(e[o],o,e))return!1;return!0}return _arrayEvery=t,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var t=require_baseEach();function e(n,o){var l=!0;return t(n,function(u,f,h){return l=!!o(u,f,h),l}),l}return _baseEvery=e,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var t=require_arrayEvery(),e=require_baseEvery(),n=require_baseIteratee(),o=requireIsArray(),l=require_isIterateeCall();function u(f,h,d){var p=o(f)?t:e;return d&&l(f,h,d)&&(h=void 0),p(f,n(h,3))}return every_1=u,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$3=["x","y"];function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$8.apply(this,arguments)}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(o){_defineProperty$c(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$c(t,e,n){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$c(e)=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(_typeof$c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$c(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$3(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function typeguardBarRectangleProps(t,e){var n=t.x,o=t.y,l=_objectWithoutProperties$3(t,_excluded$3),u="".concat(n),f=parseInt(u,10),h="".concat(o),d=parseInt(h,10),p="".concat(e.height||l.height),m=parseInt(p,10),v="".concat(e.width||l.width),_=parseInt(v,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},e),l),f?{x:f}:{}),d?{y:d}:{}),{},{height:m,width:_,name:e.name,radius:e.radius})}function BarRectangle(t){return React$1.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(o,l){if(typeof e=="number")return e;var u=typeof o=="number";return u?e(o,l):(u||invariant(),n)}},_excluded$2=["value","background"],_Bar;function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function _objectWithoutProperties$2(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$2(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$7.apply(this,arguments)}function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(o){_defineProperty$b(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$b(o.key),o)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),n&&_defineProperties$9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$7(t,e,n){return e=_getPrototypeOf$7(e),_possibleConstructorReturn$7(t,_isNativeReflectConstruct$7()?Reflect.construct(e,n||[],_getPrototypeOf$7(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$7(t,e){if(e&&(_typeof$b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(t)}function _assertThisInitialized$7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!t})()}function _getPrototypeOf$7(t){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$7(t)}function _inherits$7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$7(t,e)}function _setPrototypeOf$7(t,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$7(t,e)}function _defineProperty$b(t,e,n){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$b(e)=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(_typeof$b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$b(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bar=function(t){function e(){var n;_classCallCheck$9(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$7(this,e,[].concat(l)),_defineProperty$b(n,"state",{isAnimationFinished:!1}),_defineProperty$b(n,"id",uniqueId("recharts-bar-")),_defineProperty$b(n,"handleAnimationEnd",function(){var f=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),f&&f()}),_defineProperty$b(n,"handleAnimationStart",function(){var f=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),f&&f()}),n}return _inherits$7(e,t),_createClass$9(e,[{key:"renderRectanglesStatically",value:function(o){var l=this,u=this.props,f=u.shape,h=u.dataKey,d=u.activeIndex,p=u.activeBar,m=filterProps(this.props,!1);return o&&o.map(function(v,_){var S=_===d,M=S?p:f,A=_objectSpread$8(_objectSpread$8(_objectSpread$8({},m),v),{},{isActive:S,option:M,index:_,dataKey:h,onAnimationStart:l.handleAnimationStart,onAnimationEnd:l.handleAnimationEnd});return React$1.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(l.props,v,_),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(_)}),React$1.createElement(BarRectangle,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var o=this,l=this.props,u=l.data,f=l.layout,h=l.isAnimationActive,d=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,_=this.state.prevData;return React$1.createElement(Animate,{begin:d,duration:p,isActive:h,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var M=S.t,A=u.map(function(w,C){var O=_&&_[C];if(O){var L=interpolateNumber$2(O.x,w.x),F=interpolateNumber$2(O.y,w.y),$=interpolateNumber$2(O.width,w.width),B=interpolateNumber$2(O.height,w.height);return _objectSpread$8(_objectSpread$8({},w),{},{x:L(M),y:F(M),width:$(M),height:B(M)})}if(f==="horizontal"){var U=interpolateNumber$2(0,w.height),q=U(M);return _objectSpread$8(_objectSpread$8({},w),{},{y:w.y+w.height-q,height:q})}var Z=interpolateNumber$2(0,w.width),G=Z(M);return _objectSpread$8(_objectSpread$8({},w),{},{width:G})});return React$1.createElement(Layer,null,o.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var o=this.props,l=o.data,u=o.isAnimationActive,f=this.state.prevData;return u&&l&&l.length&&(!f||!isEqual(f,l))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(l)}},{key:"renderBackground",value:function(){var o=this,l=this.props,u=l.data,f=l.dataKey,h=l.activeIndex,d=filterProps(this.props.background,!1);return u.map(function(p,m){p.value;var v=p.background,_=_objectWithoutProperties$2(p,_excluded$2);if(!v)return null;var S=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},_),{},{fill:"#eee"},v),d),adaptEventsOfChild(o.props,p,m)),{},{onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd,dataKey:f,index:m,className:"recharts-bar-background-rectangle"});return React$1.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(m),option:o.props.background,isActive:m===h},S))})}},{key:"renderErrorBar",value:function(o,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.data,h=u.xAxis,d=u.yAxis,p=u.layout,m=u.children,v=findAllByType(m,ErrorBar);if(!v)return null;var _=p==="vertical"?f[0].height/2:f[0].width/2,S=function(w,C){var O=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:O,errorVal:getValueByDataKey(w,C)}},M={clipPath:o?"url(#clipPath-".concat(l,")"):null};return React$1.createElement(Layer,M,v.map(function(A){return React$1.cloneElement(A,{key:"error-bar-".concat(l,"-").concat(A.props.dataKey),data:f,xAxis:h,yAxis:d,layout:p,offset:_,dataPointFormatter:S})}))}},{key:"render",value:function(){var o=this.props,l=o.hide,u=o.data,f=o.className,h=o.xAxis,d=o.yAxis,p=o.left,m=o.top,v=o.width,_=o.height,S=o.isAnimationActive,M=o.background,A=o.id;if(l||!u||!u.length)return null;var w=this.state.isAnimationFinished,C=clsx("recharts-bar",f),O=h&&h.allowDataOverflow,L=d&&d.allowDataOverflow,F=O||L,$=isNil(A)?this.id:A;return React$1.createElement(Layer,{className:C},O||L?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat($)},React$1.createElement("rect",{x:O?p:p-v/2,y:L?m:m-_/2,width:O?v:v*2,height:L?_:_*2}))):null,React$1.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat($,")"):null},M?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,$),(!S||w)&&LabelList.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curData:o.data,prevData:l.curData}:o.data!==l.curData?{curData:o.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$b(Bar,"getComposedData",function(t){var e=t.props,n=t.item,o=t.barPosition,l=t.bandSize,u=t.xAxis,f=t.yAxis,h=t.xAxisTicks,d=t.yAxisTicks,p=t.stackedData,m=t.dataStartIndex,v=t.displayedData,_=t.offset,S=findPositionOfBar(o,n);if(!S)return null;var M=e.layout,A=n.type.defaultProps,w=A!==void 0?_objectSpread$8(_objectSpread$8({},A),n.props):n.props,C=w.dataKey,O=w.children,L=w.minPointSize,F=M==="horizontal"?f:u,$=p?F.scale.domain():null,B=getBaseValueOfBar({numericAxis:F}),U=findAllByType(O,Cell),q=v.map(function(Z,G){var H,ne,ae,te,ce,fe;p?H=truncateByDomain(p[m+G],$):(H=getValueByDataKey(Z,C),Array.isArray(H)||(H=[B,H]));var ye=minPointSizeCallback(L,_Bar.defaultProps.minPointSize)(H[1],G);if(M==="horizontal"){var J,oe=[f.scale(H[0]),f.scale(H[1])],se=oe[0],Q=oe[1];ne=getCateCoordinateOfBar({axis:u,ticks:h,bandSize:l,offset:S.offset,entry:Z,index:G}),ae=(J=Q??se)!==null&&J!==void 0?J:void 0,te=S.size;var ue=se-Q;if(ce=Number.isNaN(ue)?0:ue,fe={x:ne,y:f.y,width:te,height:f.height},Math.abs(ye)>0&&Math.abs(ce)<Math.abs(ye)){var _e=mathSign(ce||ye)*(Math.abs(ye)-Math.abs(ce));ae-=_e,ce+=_e}}else{var ge=[u.scale(H[0]),u.scale(H[1])],ve=ge[0],we=ge[1];if(ne=ve,ae=getCateCoordinateOfBar({axis:f,ticks:d,bandSize:l,offset:S.offset,entry:Z,index:G}),te=we-ve,ce=S.size,fe={x:u.x,y:ae,width:u.width,height:ce},Math.abs(ye)>0&&Math.abs(te)<Math.abs(ye)){var Pe=mathSign(te||ye)*(Math.abs(ye)-Math.abs(te));te+=Pe}}return _objectSpread$8(_objectSpread$8(_objectSpread$8({},Z),{},{x:ne,y:ae,width:te,height:ce,value:p?H:H[1],payload:Z,background:fe},U&&U[G]&&U[G].props),{},{tooltipPayload:[getTooltipItem(n,Z)],tooltipPosition:{x:ne+te/2,y:ae+ce/2}})});return _objectSpread$8({data:q,layout:M},_)});function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$a(o.key),o)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(o){_defineProperty$a(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$a(t,e,n){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$a(e)=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(_typeof$a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$a(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var formatAxisMap=function t(e,n,o,l,u){var f=e.width,h=e.height,d=e.layout,p=e.children,m=Object.keys(n),v={left:o.left,leftMirror:o.left,right:f-o.right,rightMirror:f-o.right,top:o.top,topMirror:o.top,bottom:h-o.bottom,bottomMirror:h-o.bottom},_=!!findChildByType(p,Bar);return m.reduce(function(S,M){var A=n[M],w=A.orientation,C=A.domain,O=A.padding,L=O===void 0?{}:O,F=A.mirror,$=A.reversed,B="".concat(w).concat(F?"Mirror":""),U,q,Z,G,H;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var ne=C[1]-C[0],ae=1/0,te=A.categoricalDomain.sort(compareValues);if(te.forEach(function(ge,ve){ve>0&&(ae=Math.min((ge||0)-(te[ve-1]||0),ae))}),Number.isFinite(ae)){var ce=ae/ne,fe=A.layout==="vertical"?o.height:o.width;if(A.padding==="gap"&&(U=ce*fe/2),A.padding==="no-gap"){var ye=getPercentValue(e.barCategoryGap,ce*fe),J=ce*fe/2;U=J-ye-(J-ye)/fe*ye}}}l==="xAxis"?q=[o.left+(L.left||0)+(U||0),o.left+o.width-(L.right||0)-(U||0)]:l==="yAxis"?q=d==="horizontal"?[o.top+o.height-(L.bottom||0),o.top+(L.top||0)]:[o.top+(L.top||0)+(U||0),o.top+o.height-(L.bottom||0)-(U||0)]:q=A.range,$&&(q=[q[1],q[0]]);var oe=parseScale(A,u,_),se=oe.scale,Q=oe.realScaleType;se.domain(C).range(q),checkDomainOfScale(se);var ue=getTicksOfScale(se,_objectSpread$7(_objectSpread$7({},A),{},{realScaleType:Q}));l==="xAxis"?(H=w==="top"&&!F||w==="bottom"&&F,Z=o.left,G=v[B]-H*A.height):l==="yAxis"&&(H=w==="left"&&!F||w==="right"&&F,Z=v[B]-H*A.width,G=o.top);var _e=_objectSpread$7(_objectSpread$7(_objectSpread$7({},A),ue),{},{realScaleType:Q,x:Z,y:G,scale:se,width:l==="xAxis"?o.width:A.width,height:l==="yAxis"?o.height:A.height});return _e.bandSize=getBandSizeOfAxis(_e,ue),!A.hide&&l==="xAxis"?v[B]+=(H?-1:1)*_e.height:A.hide||(v[B]+=(H?-1:1)*_e.width),_objectSpread$7(_objectSpread$7({},S),{},_defineProperty$a({},M,_e))},{})},rectWithPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,f=n.y;return{x:Math.min(o,u),y:Math.min(l,f),width:Math.abs(u-o),height:Math.abs(f-l)}},rectWithCoords=function t(e){var n=e.x1,o=e.y1,l=e.x2,u=e.y2;return rectWithPoints({x:n,y:o},{x:l,y:u})},ScaleHelper=function(){function t(e){_classCallCheck$8(this,t),this.scale=e}return _createClass$8(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;if(n!==void 0){if(u)switch(u){case"start":return this.scale(n);case"middle":{var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}case"end":{var h=this.bandwidth?this.bandwidth():0;return this.scale(n)+h}default:return this.scale(n)}if(l){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var o=this.range(),l=o[0],u=o[o.length-1];return l<=u?n>=l&&n<=u:n>=u&&n<=l}}],[{key:"create",value:function(n){return new t(n)}}])}();_defineProperty$a(ScaleHelper,"EPS",1e-4);var createLabeledScales=function t(e){var n=Object.keys(e).reduce(function(o,l){return _objectSpread$7(_objectSpread$7({},o),{},_defineProperty$a({},l,ScaleHelper.create(e[l])))},{});return _objectSpread$7(_objectSpread$7({},n),{},{apply:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=u.bandAware,h=u.position;return mapValues(l,function(d,p){return n[p].apply(d,{bandAware:f,position:h})})},isInRange:function(l){return every(l,function(u,f){return n[f].isInRange(u)})}})};function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var n=e.width,o=e.height,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(l),f=u*Math.PI/180,h=Math.atan(o/n),d=f>h&&f<Math.PI-h?o/Math.sin(f):n/Math.cos(f);return Math.abs(d)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var t=require_baseIteratee(),e=requireIsArrayLike(),n=requireKeys();function o(l){return function(u,f,h){var d=Object(u);if(!e(u)){var p=t(f,3);u=n(u),f=function(v){return p(d[v],v,d)}}var m=l(u,f,h);return m>-1?d[p?u[m]:m]:void 0}}return _createFind=o,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var t=requireToFinite();function e(n){var o=t(n),l=o%1;return o===o?l?o-l:o:0}return toInteger_1=e,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var t=require_baseFindIndex(),e=require_baseIteratee(),n=requireToInteger(),o=Math.max;function l(u,f,h){var d=u==null?0:u.length;if(!d)return-1;var p=h==null?0:n(h);return p<0&&(p=o(d+p,0)),t(u,e(f,3),p)}return findIndex_1=l,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var t=require_createFind(),e=requireFindIndex(),n=t(e);return find_1=n,find_1}requireFind();var memoizeExports=requireMemoize();const memoize=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function t(e){var n=e.state,o=n.xAxisMap,l=n.yAxisMap,u=n.offset,f=e.clipPathId,h=e.children,d=e.width,p=e.height,m=calculateViewBox(u);return React$1.createElement(XAxisContext.Provider,{value:o},React$1.createElement(YAxisContext.Provider,{value:l},React$1.createElement(OffsetContext.Provider,{value:u},React$1.createElement(ViewBoxContext.Provider,{value:m},React$1.createElement(ClipPathIdContext.Provider,{value:f},React$1.createElement(ChartHeightContext.Provider,{value:p},React$1.createElement(ChartWidthContext.Provider,{value:d},h)))))))},useClipPathId=function t(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function t(e){var n=reactExports.useContext(XAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useYAxisOrThrow=function t(e){var n=reactExports.useContext(YAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useViewBox=function t(){var e=reactExports.useContext(ViewBoxContext);return e},useChartWidth=function t(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function t(){return reactExports.useContext(ChartHeightContext)};function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$9(o.key),o)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$6(t,e,n){return e=_getPrototypeOf$6(e),_possibleConstructorReturn$6(t,_isNativeReflectConstruct$6()?Reflect.construct(e,n||[],_getPrototypeOf$6(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$6(t,e){if(e&&(_typeof$9(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(t)}function _assertThisInitialized$6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!t})()}function _getPrototypeOf$6(t){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$6(t)}function _inherits$6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$6(t,e)}function _setPrototypeOf$6(t,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$6(t,e)}function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(o){_defineProperty$9(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$9(t,e,n){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$9(e)=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(_typeof$9(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$9(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$2(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(t,e)}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$6.apply(this,arguments)}var renderLine=function t(e,n){var o;return React$1.isValidElement(e)?o=React$1.cloneElement(e,n):isFunction(e)?o=e(n):o=React$1.createElement("line",_extends$6({},n,{className:"recharts-reference-line-line"})),o},getEndPoints=function t(e,n,o,l,u,f,h,d,p){var m=u.x,v=u.y,_=u.width,S=u.height;if(o){var M=p.y,A=e.y.apply(M,{position:f});if(ifOverflowMatches(p,"discard")&&!e.y.isInRange(A))return null;var w=[{x:m+_,y:A},{x:m,y:A}];return d==="left"?w.reverse():w}if(n){var C=p.x,O=e.x.apply(C,{position:f});if(ifOverflowMatches(p,"discard")&&!e.x.isInRange(O))return null;var L=[{x:O,y:v+S},{x:O,y:v}];return h==="top"?L.reverse():L}if(l){var F=p.segment,$=F.map(function(B){return e.apply(B,{position:f})});return ifOverflowMatches(p,"discard")&&some($,function(B){return!e.isInRange(B)})?null:$}return null};function ReferenceLineImpl(t){var e=t.x,n=t.y,o=t.segment,l=t.xAxisId,u=t.yAxisId,f=t.shape,h=t.className,d=t.alwaysShow,p=useClipPathId(),m=useXAxisOrThrow(l),v=useYAxisOrThrow(u),_=useViewBox();if(!p||!_)return null;warn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=createLabeledScales({x:m.scale,y:v.scale}),M=isNumOrStr(e),A=isNumOrStr(n),w=o&&o.length===2,C=getEndPoints(S,M,A,w,_,t.position,m.orientation,v.orientation,t);if(!C)return null;var O=_slicedToArray$1(C,2),L=O[0],F=L.x,$=L.y,B=O[1],U=B.x,q=B.y,Z=ifOverflowMatches(t,"hidden")?"url(#".concat(p,")"):void 0,G=_objectSpread$6(_objectSpread$6({clipPath:Z},filterProps(t,!0)),{},{x1:F,y1:$,x2:U,y2:q});return React$1.createElement(Layer,{className:clsx("recharts-reference-line",h)},renderLine(f,G),Label.renderCallByParent(t,rectWithCoords({x1:F,y1:$,x2:U,y2:q})))}var ReferenceLine=function(t){function e(){return _classCallCheck$7(this,e),_callSuper$6(this,e,arguments)}return _inherits$6(e,t),_createClass$7(e,[{key:"render",value:function(){return React$1.createElement(ReferenceLineImpl,this.props)}}])}(React$1.Component);_defineProperty$9(ReferenceLine,"displayName","ReferenceLine");_defineProperty$9(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$5.apply(this,arguments)}function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(o){_defineProperty$8(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$8(o.key),o)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$5(t,e,n){return e=_getPrototypeOf$5(e),_possibleConstructorReturn$5(t,_isNativeReflectConstruct$5()?Reflect.construct(e,n||[],_getPrototypeOf$5(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$5(t,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(t)}function _assertThisInitialized$5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!t})()}function _getPrototypeOf$5(t){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$5(t)}function _inherits$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$5(t,e)}function _setPrototypeOf$5(t,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$5(t,e)}function _defineProperty$8(t,e,n){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$8(e)=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(_typeof$8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$8(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getCoordinate=function t(e){var n=e.x,o=e.y,l=e.xAxis,u=e.yAxis,f=createLabeledScales({x:l.scale,y:u.scale}),h=f.apply({x:n,y:o},{bandAware:!0});return ifOverflowMatches(e,"discard")&&!f.isInRange(h)?null:h},ReferenceDot=function(t){function e(){return _classCallCheck$6(this,e),_callSuper$5(this,e,arguments)}return _inherits$5(e,t),_createClass$6(e,[{key:"render",value:function(){var o=this.props,l=o.x,u=o.y,f=o.r,h=o.alwaysShow,d=o.clipPathId,p=isNumOrStr(l),m=isNumOrStr(u);if(warn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!m)return null;var v=getCoordinate(this.props);if(!v)return null;var _=v.x,S=v.y,M=this.props,A=M.shape,w=M.className,C=ifOverflowMatches(this.props,"hidden")?"url(#".concat(d,")"):void 0,O=_objectSpread$5(_objectSpread$5({clipPath:C},filterProps(this.props,!0)),{},{cx:_,cy:S});return React$1.createElement(Layer,{className:clsx("recharts-reference-dot",w)},e.renderDot(A,O),Label.renderCallByParent(this.props,{x:_-f,y:S-f,width:2*f,height:2*f}))}}])}(React$1.Component);_defineProperty$8(ReferenceDot,"displayName","ReferenceDot");_defineProperty$8(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$8(ReferenceDot,"renderDot",function(t,e){var n;return React$1.isValidElement(t)?n=React$1.cloneElement(t,e):isFunction(t)?n=t(e):n=React$1.createElement(Dot,_extends$5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$4.apply(this,arguments)}function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(o){_defineProperty$7(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$7(o.key),o)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$4(t,e,n){return e=_getPrototypeOf$4(e),_possibleConstructorReturn$4(t,_isNativeReflectConstruct$4()?Reflect.construct(e,n||[],_getPrototypeOf$4(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$4(t,e){if(e&&(_typeof$7(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(t)}function _assertThisInitialized$4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!t})()}function _getPrototypeOf$4(t){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$4(t)}function _inherits$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$4(t,e)}function _setPrototypeOf$4(t,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$4(t,e)}function _defineProperty$7(t,e,n){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(_typeof$7(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$7(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getRect=function t(e,n,o,l,u){var f=u.x1,h=u.x2,d=u.y1,p=u.y2,m=u.xAxis,v=u.yAxis;if(!m||!v)return null;var _=createLabeledScales({x:m.scale,y:v.scale}),S={x:e?_.x.apply(f,{position:"start"}):_.x.rangeMin,y:o?_.y.apply(d,{position:"start"}):_.y.rangeMin},M={x:n?_.x.apply(h,{position:"end"}):_.x.rangeMax,y:l?_.y.apply(p,{position:"end"}):_.y.rangeMax};return ifOverflowMatches(u,"discard")&&(!_.isInRange(S)||!_.isInRange(M))?null:rectWithPoints(S,M)},ReferenceArea=function(t){function e(){return _classCallCheck$5(this,e),_callSuper$4(this,e,arguments)}return _inherits$4(e,t),_createClass$5(e,[{key:"render",value:function(){var o=this.props,l=o.x1,u=o.x2,f=o.y1,h=o.y2,d=o.className,p=o.alwaysShow,m=o.clipPathId;warn(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=isNumOrStr(l),_=isNumOrStr(u),S=isNumOrStr(f),M=isNumOrStr(h),A=this.props.shape;if(!v&&!_&&!S&&!M&&!A)return null;var w=getRect(v,_,S,M,this.props);if(!w&&!A)return null;var C=ifOverflowMatches(this.props,"hidden")?"url(#".concat(m,")"):void 0;return React$1.createElement(Layer,{className:clsx("recharts-reference-area",d)},e.renderRect(A,_objectSpread$4(_objectSpread$4({clipPath:C},filterProps(this.props,!0)),w)),Label.renderCallByParent(this.props,w))}}])}(React$1.Component);_defineProperty$7(ReferenceArea,"displayName","ReferenceArea");_defineProperty$7(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$7(ReferenceArea,"renderRect",function(t,e){var n;return React$1.isValidElement(t)?n=React$1.cloneElement(t,e):isFunction(t)?n=t(e):n=React$1.createElement(Rectangle,_extends$4({},e,{className:"recharts-reference-area-rect"})),n});function getEveryNthWithCondition(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var o=[],l=0;l<t.length;l+=e)o.push(t[l]);return o}function getAngledTickWidth(t,e,n){var o={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(o,n)}function getTickBoundaries(t,e,n){var o=n==="width",l=t.x,u=t.y,f=t.width,h=t.height;return e===1?{start:o?l:u,end:o?l+f:u+h}:{start:o?l+f:u+h,end:o?l:u}}function isVisible(t,e,n,o,l){if(t*e<t*o||t*e>t*l)return!1;var u=n();return t*(e-t*u/2-o)>=0&&t*(e+t*u/2-l)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,n,o,l){for(var u=(o||[]).slice(),f=e.start,h=e.end,d=0,p=1,m=f,v=function(){var M=o==null?void 0:o[d];if(M===void 0)return{v:getEveryNthWithCondition(o,p)};var A=d,w,C=function(){return w===void 0&&(w=n(M,A)),w},O=M.coordinate,L=d===0||isVisible(t,O,C,m,h);L||(d=0,m=f,p+=1),L&&(m=O+t*(C()/2+l),d+=p)},_;p<=u.length;)if(_=v(),_)return _.v;return[]}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(o){_defineProperty$6(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$6(t,e,n){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(_typeof$6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$6(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,n,o,l){for(var u=(o||[]).slice(),f=u.length,h=e.start,d=e.end,p=function(_){var S=u[_],M,A=function(){return M===void 0&&(M=n(S,_)),M};if(_===f-1){var w=t*(S.coordinate+t*A()/2-d);u[_]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:w>0?S.coordinate-w*t:S.coordinate})}else u[_]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:S.coordinate});var C=isVisible(t,S.tickCoord,A,h,d);C&&(d=S.tickCoord-t*(A()/2+l),u[_]=_objectSpread$3(_objectSpread$3({},S),{},{isShow:!0}))},m=f-1;m>=0;m--)p(m);return u}function getTicksStart(t,e,n,o,l,u){var f=(o||[]).slice(),h=f.length,d=e.start,p=e.end;if(u){var m=o[h-1],v=n(m,h-1),_=t*(m.coordinate+t*v/2-p);f[h-1]=m=_objectSpread$3(_objectSpread$3({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate});var S=isVisible(t,m.tickCoord,function(){return v},d,p);S&&(p=m.tickCoord-t*(v/2+l),f[h-1]=_objectSpread$3(_objectSpread$3({},m),{},{isShow:!0}))}for(var M=u?h-1:h,A=function(O){var L=f[O],F,$=function(){return F===void 0&&(F=n(L,O)),F};if(O===0){var B=t*(L.coordinate-t*$()/2-d);f[O]=L=_objectSpread$3(_objectSpread$3({},L),{},{tickCoord:B<0?L.coordinate-B*t:L.coordinate})}else f[O]=L=_objectSpread$3(_objectSpread$3({},L),{},{tickCoord:L.coordinate});var U=isVisible(t,L.tickCoord,$,d,p);U&&(d=L.tickCoord+t*($()/2+l),f[O]=_objectSpread$3(_objectSpread$3({},L),{},{isShow:!0}))},w=0;w<M;w++)A(w);return f}function getTicks(t,e,n){var o=t.tick,l=t.ticks,u=t.viewBox,f=t.minTickGap,h=t.orientation,d=t.interval,p=t.tickFormatter,m=t.unit,v=t.angle;if(!l||!l.length||!o)return[];if(isNumber(d)||Global.isSsr)return getNumberIntervalTicks(l,typeof d=="number"&&isNumber(d)?d:0);var _=[],S=h==="top"||h==="bottom"?"width":"height",M=m&&S==="width"?getStringSize(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(L,F){var $=isFunction(p)?p(L.value,F):L.value;return S==="width"?getAngledTickWidth(getStringSize($,{fontSize:e,letterSpacing:n}),M,v):getStringSize($,{fontSize:e,letterSpacing:n})[S]},w=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,C=getTickBoundaries(u,w,S);return d==="equidistantPreserveStart"?getEquidistantTicks(w,C,A,l,f):(d==="preserveStart"||d==="preserveStartEnd"?_=getTicksStart(w,C,A,l,f,d==="preserveStartEnd"):_=getTicksEnd(w,C,A,l,f),_.filter(function(O){return O.isShow}))}var _excluded$1=["viewBox"],_excluded2$1=["viewBox"],_excluded3=["ticks"];function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$3.apply(this,arguments)}function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(o){_defineProperty$5(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _objectWithoutProperties$1(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$1(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$5(o.key),o)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$3(t,e,n){return e=_getPrototypeOf$3(e),_possibleConstructorReturn$3(t,_isNativeReflectConstruct$3()?Reflect.construct(e,n||[],_getPrototypeOf$3(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$3(t,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(t)}function _assertThisInitialized$3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!t})()}function _getPrototypeOf$3(t){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$3(t)}function _inherits$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$3(t,e)}function _setPrototypeOf$3(t,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$3(t,e)}function _defineProperty$5(t,e,n){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$5(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CartesianAxis=function(t){function e(n){var o;return _classCallCheck$4(this,e),o=_callSuper$3(this,e,[n]),o.state={fontSize:"",letterSpacing:""},o}return _inherits$3(e,t),_createClass$4(e,[{key:"shouldComponentUpdate",value:function(o,l){var u=o.viewBox,f=_objectWithoutProperties$1(o,_excluded$1),h=this.props,d=h.viewBox,p=_objectWithoutProperties$1(h,_excluded2$1);return!shallowEqual(u,d)||!shallowEqual(f,p)||!shallowEqual(l,this.state)}},{key:"componentDidMount",value:function(){var o=this.layerReference;if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];l&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}},{key:"getTickLineCoord",value:function(o){var l=this.props,u=l.x,f=l.y,h=l.width,d=l.height,p=l.orientation,m=l.tickSize,v=l.mirror,_=l.tickMargin,S,M,A,w,C,O,L=v?-1:1,F=o.tickSize||m,$=isNumber(o.tickCoord)?o.tickCoord:o.coordinate;switch(p){case"top":S=M=o.coordinate,w=f+ +!v*d,A=w-L*F,O=A-L*_,C=$;break;case"left":A=w=o.coordinate,M=u+ +!v*h,S=M-L*F,C=S-L*_,O=$;break;case"right":A=w=o.coordinate,M=u+ +v*h,S=M+L*F,C=S+L*_,O=$;break;default:S=M=o.coordinate,w=f+ +v*d,A=w+L*F,O=A+L*_,C=$;break}return{line:{x1:S,y1:A,x2:M,y2:w},tick:{x:C,y:O}}}},{key:"getTickTextAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,f;switch(l){case"left":f=u?"start":"end";break;case"right":f=u?"end":"start";break;default:f="middle";break}return f}},{key:"getTickVerticalAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,f="end";switch(l){case"left":case"right":f="middle";break;case"top":f=u?"start":"end";break;default:f=u?"end":"start";break}return f}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.x,u=o.y,f=o.width,h=o.height,d=o.orientation,p=o.mirror,m=o.axisLine,v=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(this.props,!1)),filterProps(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!p||d==="bottom"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l,y1:u+_*h,x2:l+f,y2:u+_*h})}else{var S=+(d==="left"&&!p||d==="right"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l+S*f,y1:u,x2:l+S*f,y2:u+h})}return React$1.createElement("line",_extends$3({},v,{className:clsx("recharts-cartesian-axis-line",get(m,"className"))}))}},{key:"renderTicks",value:function(o,l,u){var f=this,h=this.props,d=h.tickLine,p=h.stroke,m=h.tick,v=h.tickFormatter,_=h.unit,S=getTicks(_objectSpread$2(_objectSpread$2({},this.props),{},{ticks:o}),l,u),M=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),w=filterProps(this.props,!1),C=filterProps(m,!1),O=_objectSpread$2(_objectSpread$2({},w),{},{fill:"none"},filterProps(d,!1)),L=S.map(function(F,$){var B=f.getTickLineCoord(F),U=B.line,q=B.tick,Z=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({textAnchor:M,verticalAnchor:A},w),{},{stroke:"none",fill:p},C),q),{},{index:$,payload:F,visibleTicksCount:S.length,tickFormatter:v});return React$1.createElement(Layer,_extends$3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},adaptEventsOfChild(f.props,F,$)),d&&React$1.createElement("line",_extends$3({},O,U,{className:clsx("recharts-cartesian-axis-tick-line",get(d,"className"))})),m&&e.renderTickItem(m,Z,"".concat(isFunction(v)?v(F.value,$):F.value).concat(_||"")))});return React$1.createElement("g",{className:"recharts-cartesian-axis-ticks"},L)}},{key:"render",value:function(){var o=this,l=this.props,u=l.axisLine,f=l.width,h=l.height,d=l.ticksGenerator,p=l.className,m=l.hide;if(m)return null;var v=this.props,_=v.ticks,S=_objectWithoutProperties$1(v,_excluded3),M=_;return isFunction(d)&&(M=_&&_.length>0?d(this.props):d(S)),f<=0||h<=0||!M||!M.length?null:React$1.createElement(Layer,{className:clsx("recharts-cartesian-axis",p),ref:function(w){o.layerReference=w}},u&&this.renderAxisLine(),this.renderTicks(M,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(o,l,u){var f;return React$1.isValidElement(o)?f=React$1.cloneElement(o,l):isFunction(o)?f=o(l):f=React$1.createElement(Text,_extends$3({},l,{className:"recharts-cartesian-axis-tick-value"}),u),f}}])}(reactExports.Component);_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$4(o.key),o)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$2(t,e,n){return e=_getPrototypeOf$2(e),_possibleConstructorReturn$2(t,_isNativeReflectConstruct$2()?Reflect.construct(e,n||[],_getPrototypeOf$2(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$2(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!t})()}function _getPrototypeOf$2(t){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$2(t)}function _inherits$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$2(t,e)}function _defineProperty$4(t,e,n){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$4(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$4(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$2.apply(this,arguments)}function XAxisImpl(t){var e=t.xAxisId,n=useChartWidth(),o=useChartHeight(),l=useXAxisOrThrow(e);return l==null?null:React$1.createElement(CartesianAxis,_extends$2({},l,{className:clsx("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:n,height:o},ticksGenerator:function(f){return getTicksOfAxis(f,!0)}}))}var XAxis=function(t){function e(){return _classCallCheck$3(this,e),_callSuper$2(this,e,arguments)}return _inherits$2(e,t),_createClass$3(e,[{key:"render",value:function(){return React$1.createElement(XAxisImpl,this.props)}}])}(React$1.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$3(o.key),o)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$1(t,e,n){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(e,n||[],_getPrototypeOf$1(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!t})()}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(t)}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(t,e)}function _defineProperty$3(t,e,n){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$3(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$1.apply(this,arguments)}var YAxisImpl=function t(e){var n=e.yAxisId,o=useChartWidth(),l=useChartHeight(),u=useYAxisOrThrow(n);return u==null?null:React$1.createElement(CartesianAxis,_extends$1({},u,{className:clsx("recharts-".concat(u.axisType," ").concat(u.axisType),u.className),viewBox:{x:0,y:0,width:o,height:l},ticksGenerator:function(h){return getTicksOfAxis(h,!0)}}))},YAxis=function(t){function e(){return _classCallCheck$2(this,e),_callSuper$1(this,e,arguments)}return _inherits$1(e,t),_createClass$2(e,[{key:"render",value:function(){return React$1.createElement(YAxisImpl,this.props)}}])}(React$1.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var detectReferenceElementsDomain=function t(e,n,o,l,u){var f=findAllByType(e,ReferenceLine),h=findAllByType(e,ReferenceDot),d=[].concat(_toConsumableArray$1(f),_toConsumableArray$1(h)),p=findAllByType(e,ReferenceArea),m="".concat(l,"Id"),v=l[0],_=n;if(d.length&&(_=d.reduce(function(A,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[v])){var C=w.props[v];return[Math.min(A[0],C),Math.max(A[1],C)]}return A},_)),p.length){var S="".concat(v,"1"),M="".concat(v,"2");_=p.reduce(function(A,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[S])&&isNumber(w.props[M])){var C=w.props[S],O=w.props[M];return[Math.min(A[0],C,O),Math.max(A[1],C,O)]}return A},_)}return u&&u.length&&(_=u.reduce(function(A,w){return isNumber(w)?[Math.min(A[0],w),Math.max(A[1],w)]:A},_)),_},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function l(d,p,m){this.fn=d,this.context=p,this.once=m||!1}function u(d,p,m,v,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new l(m,v||d,_),M=n?n+p:p;return d._events[M]?d._events[M].fn?d._events[M]=[d._events[M],S]:d._events[M].push(S):(d._events[M]=S,d._eventsCount++),d}function f(d,p){--d._eventsCount===0?d._events=new o:delete d._events[p]}function h(){this._events=new o,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],m,v;if(this._eventsCount===0)return p;for(v in m=this._events)e.call(m,v)&&p.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},h.prototype.listeners=function(p){var m=n?n+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,S=v.length,M=new Array(S);_<S;_++)M[_]=v[_].fn;return M},h.prototype.listenerCount=function(p){var m=n?n+p:p,v=this._events[m];return v?v.fn?1:v.length:0},h.prototype.emit=function(p,m,v,_,S,M){var A=n?n+p:p;if(!this._events[A])return!1;var w=this._events[A],C=arguments.length,O,L;if(w.fn){switch(w.once&&this.removeListener(p,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,v),!0;case 4:return w.fn.call(w.context,m,v,_),!0;case 5:return w.fn.call(w.context,m,v,_,S),!0;case 6:return w.fn.call(w.context,m,v,_,S,M),!0}for(L=1,O=new Array(C-1);L<C;L++)O[L-1]=arguments[L];w.fn.apply(w.context,O)}else{var F=w.length,$;for(L=0;L<F;L++)switch(w[L].once&&this.removeListener(p,w[L].fn,void 0,!0),C){case 1:w[L].fn.call(w[L].context);break;case 2:w[L].fn.call(w[L].context,m);break;case 3:w[L].fn.call(w[L].context,m,v);break;case 4:w[L].fn.call(w[L].context,m,v,_);break;default:if(!O)for($=1,O=new Array(C-1);$<C;$++)O[$-1]=arguments[$];w[L].fn.apply(w[L].context,O)}}return!0},h.prototype.on=function(p,m,v){return u(this,p,m,v,!1)},h.prototype.once=function(p,m,v){return u(this,p,m,v,!0)},h.prototype.removeListener=function(p,m,v,_){var S=n?n+p:p;if(!this._events[S])return this;if(!m)return f(this,S),this;var M=this._events[S];if(M.fn)M.fn===m&&(!_||M.once)&&(!v||M.context===v)&&f(this,S);else{for(var A=0,w=[],C=M.length;A<C;A++)(M[A].fn!==m||_&&!M[A].once||v&&M[A].context!==v)&&w.push(M[A]);w.length?this._events[S]=w.length===1?w[0]:w:f(this,S)}return this},h.prototype.removeAllListeners=function(p){var m;return p?(m=n?n+p:p,this._events[m]&&f(this,m)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,t.exports=h}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$2(o.key),o)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty$2(t,e,n){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$2(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AccessibilityManager=function(){function t(){_classCallCheck$1(this,t),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(t,[{key:"setDetails",value:function(n){var o,l=n.coordinateList,u=l===void 0?null:l,f=n.container,h=f===void 0?null:f,d=n.layout,p=d===void 0?null:d,m=n.offset,v=m===void 0?null:m,_=n.mouseHandlerCallback,S=_===void 0?null:_;this.coordinateList=(o=u??this.coordinateList)!==null&&o!==void 0?o:[],this.container=h??this.container,this.layout=p??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,o;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var l=this.container.getBoundingClientRect(),u=l.x,f=l.y,h=l.height,d=this.coordinateList[this.activeIndex].coordinate,p=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((o=window)===null||o===void 0?void 0:o.scrollY)||0,v=u+d+p,_=f+this.offset.top+h/2+m;this.mouseHandlerCallback({pageX:v,pageY:_})}}}])}();function isDomainSpecifiedByUser(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var o=t==null?void 0:t[0],l=t==null?void 0:t[1];if(o&&l&&isNumber(o)&&isNumber(l))return!0}return!1}function getCursorRectangle(t,e,n,o){var l=o/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-l:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-l,width:t==="horizontal"?o:n.width-1,height:t==="horizontal"?n.height-1:o}}function getRadialCursorPoints(t){var e=t.cx,n=t.cy,o=t.radius,l=t.startAngle,u=t.endAngle,f=polarToCartesian(e,n,o,l),h=polarToCartesian(e,n,o,u);return{points:[f,h],cx:e,cy:n,radius:o,startAngle:l,endAngle:u}}function getCursorPoints(t,e,n){var o,l,u,f;if(t==="horizontal")o=e.x,u=o,l=n.top,f=n.top+n.height;else if(t==="vertical")l=e.y,f=l,o=n.left,u=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var h=e.cx,d=e.cy,p=e.innerRadius,m=e.outerRadius,v=e.angle,_=polarToCartesian(h,d,p,v),S=polarToCartesian(h,d,m,v);o=_.x,l=_.y,u=S.x,f=S.y}else return getRadialCursorPoints(e);return[{x:o,y:l},{x:u,y:f}]}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(o){_defineProperty$1(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$1(t,e,n){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$1(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cursor(t){var e,n,o=t.element,l=t.tooltipEventType,u=t.isActive,f=t.activeCoordinate,h=t.activePayload,d=t.offset,p=t.activeTooltipIndex,m=t.tooltipAxisBandSize,v=t.layout,_=t.chartName,S=(e=o.props.cursor)!==null&&e!==void 0?e:(n=o.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!o||!S||!u||!f||_!=="ScatterChart"&&l!=="axis")return null;var M,A=Curve;if(_==="ScatterChart")M=f,A=Cross;else if(_==="BarChart")M=getCursorRectangle(v,f,d,m),A=Rectangle;else if(v==="radial"){var w=getRadialCursorPoints(f),C=w.cx,O=w.cy,L=w.radius,F=w.startAngle,$=w.endAngle;M={cx:C,cy:O,startAngle:F,endAngle:$,innerRadius:L,outerRadius:L},A=Sector}else M={points:getCursorPoints(v,f,d)},A=Curve;var B=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},d),M),filterProps(S,!1)),{},{payload:h,payloadIndex:p,className:clsx("recharts-tooltip-cursor",S.className)});return reactExports.isValidElement(S)?reactExports.cloneElement(S,B):reactExports.createElement(A,B)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends.apply(this,arguments)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,f,h=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(h.push(o.value),h.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(p)throw l}}return h}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectWithoutProperties(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(t){return t}var calculateTooltipPos=function t(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},getActiveCoordinate=function t(e,n,o,l){var u=n.find(function(m){return m&&m.index===o});if(u){if(e==="horizontal")return{x:u.coordinate,y:l.y};if(e==="vertical")return{x:l.x,y:u.coordinate};if(e==="centric"){var f=u.coordinate,h=l.radius;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,h,f)),{},{angle:f,radius:h})}var d=u.coordinate,p=l.angle;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,d,p)),{},{angle:p,radius:d})}return originCoordinate},getDisplayedData=function t(e,n){var o=n.graphicalItems,l=n.dataStartIndex,u=n.dataEndIndex,f=(o??[]).reduce(function(h,d){var p=d.props.data;return p&&p.length?[].concat(_toConsumableArray(h),_toConsumableArray(p)):h},[]);return f.length>0?f:e&&e.length&&isNumber(l)&&isNumber(u)?e.slice(l,u+1):[]};function getDefaultDomainByAxisType(t){return t==="number"?[0,"auto"]:void 0}var getTooltipContent=function t(e,n,o,l){var u=e.graphicalItems,f=e.tooltipAxis,h=getDisplayedData(n,e);return o<0||!u||!u.length||o>=h.length?null:u.reduce(function(d,p){var m,v=(m=p.props.data)!==null&&m!==void 0?m:n;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=o&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(f.dataKey&&!f.allowDuplicatedCategory){var S=v===void 0?h:v;_=findEntryInArray(S,f.dataKey,l)}else _=v&&v[o]||h[o];return _?[].concat(_toConsumableArray(d),[getTooltipItem(p,_)]):d},[])},getTooltipData=function t(e,n,o,l){var u=l||{x:e.chartX,y:e.chartY},f=calculateTooltipPos(u,o),h=e.orderedTooltipTicks,d=e.tooltipAxis,p=e.tooltipTicks,m=calculateActiveTickIndex(f,h,p,d);if(m>=0&&p){var v=p[m]&&p[m].value,_=getTooltipContent(e,n,m,v),S=getActiveCoordinate(o,h,m,u);return{activeTooltipIndex:m,activeLabel:v,activePayload:_,activeCoordinate:S}}return null},getAxisMapByAxes=function t(e,n){var o=n.axes,l=n.graphicalItems,u=n.axisType,f=n.axisIdKey,h=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,_=e.stackOffset,S=isCategoricalAxis(m,u);return o.reduce(function(M,A){var w,C=A.type.defaultProps!==void 0?_objectSpread(_objectSpread({},A.type.defaultProps),A.props):A.props,O=C.type,L=C.dataKey,F=C.allowDataOverflow,$=C.allowDuplicatedCategory,B=C.scale,U=C.ticks,q=C.includeHidden,Z=C[f];if(M[Z])return M;var G=getDisplayedData(e.data,{graphicalItems:l.filter(function(ue){var _e,ge=f in ue.props?ue.props[f]:(_e=ue.type.defaultProps)===null||_e===void 0?void 0:_e[f];return ge===Z}),dataStartIndex:d,dataEndIndex:p}),H=G.length,ne,ae,te;isDomainSpecifiedByUser(C.domain,F,O)&&(ne=parseSpecifiedDomain(C.domain,null,F),S&&(O==="number"||B!=="auto")&&(te=getDomainOfDataByKey(G,L,"category")));var ce=getDefaultDomainByAxisType(O);if(!ne||ne.length===0){var fe,ye=(fe=C.domain)!==null&&fe!==void 0?fe:ce;if(L){if(ne=getDomainOfDataByKey(G,L,O),O==="category"&&S){var J=hasDuplicate(ne);$&&J?(ae=ne,ne=range(0,H)):$||(ne=parseDomainOfCategoryAxis(ye,ne,A).reduce(function(ue,_e){return ue.indexOf(_e)>=0?ue:[].concat(_toConsumableArray(ue),[_e])},[]))}else if(O==="category")$?ne=ne.filter(function(ue){return ue!==""&&!isNil(ue)}):ne=parseDomainOfCategoryAxis(ye,ne,A).reduce(function(ue,_e){return ue.indexOf(_e)>=0||_e===""||isNil(_e)?ue:[].concat(_toConsumableArray(ue),[_e])},[]);else if(O==="number"){var oe=parseErrorBarsOfAxis(G,l.filter(function(ue){var _e,ge,ve=f in ue.props?ue.props[f]:(_e=ue.type.defaultProps)===null||_e===void 0?void 0:_e[f],we="hide"in ue.props?ue.props.hide:(ge=ue.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return ve===Z&&(q||!we)}),L,u,m);oe&&(ne=oe)}S&&(O==="number"||B!=="auto")&&(te=getDomainOfDataByKey(G,L,"category"))}else S?ne=range(0,H):h&&h[Z]&&h[Z].hasStack&&O==="number"?ne=_==="expand"?[0,1]:getDomainOfStackGroups(h[Z].stackGroups,d,p):ne=getDomainOfItemsWithSameAxis(G,l.filter(function(ue){var _e=f in ue.props?ue.props[f]:ue.type.defaultProps[f],ge="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return _e===Z&&(q||!ge)}),O,m,!0);if(O==="number")ne=detectReferenceElementsDomain(v,ne,Z,u,U),ye&&(ne=parseSpecifiedDomain(ye,ne,F));else if(O==="category"&&ye){var se=ye,Q=ne.every(function(ue){return se.indexOf(ue)>=0});Q&&(ne=se)}}return _objectSpread(_objectSpread({},M),{},_defineProperty({},Z,_objectSpread(_objectSpread({},C),{},{axisType:u,domain:ne,categoricalDomain:te,duplicateDomain:ae,originalDomain:(w=C.domain)!==null&&w!==void 0?w:ce,isCategorical:S,layout:m})))},{})},getAxisMapByItems=function t(e,n){var o=n.graphicalItems,l=n.Axis,u=n.axisType,f=n.axisIdKey,h=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,_=getDisplayedData(e.data,{graphicalItems:o,dataStartIndex:d,dataEndIndex:p}),S=_.length,M=isCategoricalAxis(m,u),A=-1;return o.reduce(function(w,C){var O=C.type.defaultProps!==void 0?_objectSpread(_objectSpread({},C.type.defaultProps),C.props):C.props,L=O[f],F=getDefaultDomainByAxisType("number");if(!w[L]){A++;var $;return M?$=range(0,S):h&&h[L]&&h[L].hasStack?($=getDomainOfStackGroups(h[L].stackGroups,d,p),$=detectReferenceElementsDomain(v,$,L,u)):($=parseSpecifiedDomain(F,getDomainOfItemsWithSameAxis(_,o.filter(function(B){var U,q,Z=f in B.props?B.props[f]:(U=B.type.defaultProps)===null||U===void 0?void 0:U[f],G="hide"in B.props?B.props.hide:(q=B.type.defaultProps)===null||q===void 0?void 0:q.hide;return Z===L&&!G}),"number",m),l.defaultProps.allowDataOverflow),$=detectReferenceElementsDomain(v,$,L,u)),_objectSpread(_objectSpread({},w),{},_defineProperty({},L,_objectSpread(_objectSpread({axisType:u},l.defaultProps),{},{hide:!0,orientation:get(ORIENT_MAP,"".concat(u,".").concat(A%2),null),domain:$,originalDomain:F,isCategorical:M,layout:m})))}return w},{})},getAxisMap=function t(e,n){var o=n.axisType,l=o===void 0?"xAxis":o,u=n.AxisComp,f=n.graphicalItems,h=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.children,v="".concat(l,"Id"),_=findAllByType(m,u),S={};return _&&_.length?S=getAxisMapByAxes(e,{axes:_,graphicalItems:f,axisType:l,axisIdKey:v,stackGroups:h,dataStartIndex:d,dataEndIndex:p}):f&&f.length&&(S=getAxisMapByItems(e,{Axis:u,graphicalItems:f,axisType:l,axisIdKey:v,stackGroups:h,dataStartIndex:d,dataEndIndex:p})),S},tooltipTicksGenerator=function t(e){var n=getAnyElementOfObject(e),o=getTicksOfAxis(n,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:sortBy(o,function(l){return l.coordinate}),tooltipAxis:n,tooltipAxisBandSize:getBandSizeOfAxis(n,o)}},createDefaultState=function t(e){var n=e.children,o=e.defaultShowTooltip,l=findChildByType(n,Brush),u=0,f=0;return e.data&&e.data.length!==0&&(f=e.data.length-1),l&&l.props&&(l.props.startIndex>=0&&(u=l.props.startIndex),l.props.endIndex>=0&&(f=l.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:u,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:!!o}},hasGraphicalBarItem=function t(e){return!e||!e.length?!1:e.some(function(n){var o=getDisplayName(n&&n.type);return o&&o.indexOf("Bar")>=0})},getAxisNameByLayout=function t(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function t(e,n){var o=e.props,l=e.graphicalItems,u=e.xAxisMap,f=u===void 0?{}:u,h=e.yAxisMap,d=h===void 0?{}:h,p=o.width,m=o.height,v=o.children,_=o.margin||{},S=findChildByType(v,Brush),M=findChildByType(v,Legend),A=Object.keys(d).reduce(function($,B){var U=d[B],q=U.orientation;return!U.mirror&&!U.hide?_objectSpread(_objectSpread({},$),{},_defineProperty({},q,$[q]+U.width)):$},{left:_.left||0,right:_.right||0}),w=Object.keys(f).reduce(function($,B){var U=f[B],q=U.orientation;return!U.mirror&&!U.hide?_objectSpread(_objectSpread({},$),{},_defineProperty({},q,get($,"".concat(q))+U.height)):$},{top:_.top||0,bottom:_.bottom||0}),C=_objectSpread(_objectSpread({},w),A),O=C.bottom;S&&(C.bottom+=S.props.height||Brush.defaultProps.height),M&&n&&(C=appendOffsetOfLegend(C,l,o,n));var L=p-C.left-C.right,F=m-C.top-C.bottom;return _objectSpread(_objectSpread({brushBottom:O},C),{},{width:Math.max(L,0),height:Math.max(F,0)})},getCartesianAxisSize=function t(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},generateCategoricalChart=function t(e){var n=e.chartName,o=e.GraphicalChild,l=e.defaultTooltipEventType,u=l===void 0?"axis":l,f=e.validateTooltipEventTypes,h=f===void 0?["axis"]:f,d=e.axisComponents,p=e.legendContent,m=e.formatAxisMap,v=e.defaultProps,_=function(C,O){var L=O.graphicalItems,F=O.stackGroups,$=O.offset,B=O.updateId,U=O.dataStartIndex,q=O.dataEndIndex,Z=C.barSize,G=C.layout,H=C.barGap,ne=C.barCategoryGap,ae=C.maxBarSize,te=getAxisNameByLayout(G),ce=te.numericAxisName,fe=te.cateAxisName,ye=hasGraphicalBarItem(L),J=[];return L.forEach(function(oe,se){var Q=getDisplayedData(C.data,{graphicalItems:[oe],dataStartIndex:U,dataEndIndex:q}),ue=oe.type.defaultProps!==void 0?_objectSpread(_objectSpread({},oe.type.defaultProps),oe.props):oe.props,_e=ue.dataKey,ge=ue.maxBarSize,ve=ue["".concat(ce,"Id")],we=ue["".concat(fe,"Id")],Pe={},Re=d.reduce(function(pe,de){var Oe=O["".concat(de.axisType,"Map")],De=ue["".concat(de.axisType,"Id")];Oe&&Oe[De]||de.axisType==="zAxis"||invariant();var Ue=Oe[De];return _objectSpread(_objectSpread({},pe),{},_defineProperty(_defineProperty({},de.axisType,Ue),"".concat(de.axisType,"Ticks"),getTicksOfAxis(Ue)))},Pe),Ae=Re[fe],Ne=Re["".concat(fe,"Ticks")],Ie=F&&F[ve]&&F[ve].hasStack&&getStackedDataOfItem(oe,F[ve].stackGroups),he=getDisplayName(oe.type).indexOf("Bar")>=0,ke=getBandSizeOfAxis(Ae,Ne),Me=[],je=ye&&getBarSizeList({barSize:Z,stackGroups:F,totalSize:getCartesianAxisSize(Re,fe)});if(he){var Fe,Qe,Ve=isNil(ge)?ae:ge,Je=(Fe=(Qe=getBandSizeOfAxis(Ae,Ne,!0))!==null&&Qe!==void 0?Qe:Ve)!==null&&Fe!==void 0?Fe:0;Me=getBarPosition({barGap:H,barCategoryGap:ne,bandSize:Je!==ke?Je:ke,sizeList:je[we],maxBarSize:Ve}),Je!==ke&&(Me=Me.map(function(pe){return _objectSpread(_objectSpread({},pe),{},{position:_objectSpread(_objectSpread({},pe.position),{},{offset:pe.position.offset-Je/2})})}))}var ot=oe&&oe.type&&oe.type.getComposedData;ot&&J.push({props:_objectSpread(_objectSpread({},ot(_objectSpread(_objectSpread({},Re),{},{displayedData:Q,props:C,dataKey:_e,item:oe,bandSize:ke,barPosition:Me,offset:$,stackedData:Ie,layout:G,dataStartIndex:U,dataEndIndex:q}))),{},_defineProperty(_defineProperty(_defineProperty({key:oe.key||"item-".concat(se)},ce,Re[ce]),fe,Re[fe]),"animationId",B)),childIndex:parseChildIndex(oe,C.children),item:oe})}),J},S=function(C,O){var L=C.props,F=C.dataStartIndex,$=C.dataEndIndex,B=C.updateId;if(!validateWidthHeight({props:L}))return null;var U=L.children,q=L.layout,Z=L.stackOffset,G=L.data,H=L.reverseStackOrder,ne=getAxisNameByLayout(q),ae=ne.numericAxisName,te=ne.cateAxisName,ce=findAllByType(U,o),fe=getStackGroupsByAxisId(G,ce,"".concat(ae,"Id"),"".concat(te,"Id"),Z,H),ye=d.reduce(function(ue,_e){var ge="".concat(_e.axisType,"Map");return _objectSpread(_objectSpread({},ue),{},_defineProperty({},ge,getAxisMap(L,_objectSpread(_objectSpread({},_e),{},{graphicalItems:ce,stackGroups:_e.axisType===ae&&fe,dataStartIndex:F,dataEndIndex:$}))))},{}),J=calculateOffset(_objectSpread(_objectSpread({},ye),{},{props:L,graphicalItems:ce}),O==null?void 0:O.legendBBox);Object.keys(ye).forEach(function(ue){ye[ue]=m(L,ye[ue],J,ue.replace("Map",""),n)});var oe=ye["".concat(te,"Map")],se=tooltipTicksGenerator(oe),Q=_(L,_objectSpread(_objectSpread({},ye),{},{dataStartIndex:F,dataEndIndex:$,updateId:B,graphicalItems:ce,stackGroups:fe,offset:J}));return _objectSpread(_objectSpread({formattedGraphicalItems:Q,graphicalItems:ce,offset:J,stackGroups:fe},se),ye)},M=function(w){function C(O){var L,F,$;return _classCallCheck(this,C),$=_callSuper(this,C,[O]),_defineProperty($,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty($,"accessibilityManager",new AccessibilityManager),_defineProperty($,"handleLegendBBoxUpdate",function(B){if(B){var U=$.state,q=U.dataStartIndex,Z=U.dataEndIndex,G=U.updateId;$.setState(_objectSpread({legendBBox:B},S({props:$.props,dataStartIndex:q,dataEndIndex:Z,updateId:G},_objectSpread(_objectSpread({},$.state),{},{legendBBox:B}))))}}),_defineProperty($,"handleReceiveSyncEvent",function(B,U,q){if($.props.syncId===B){if(q===$.eventEmitterSymbol&&typeof $.props.syncMethod!="function")return;$.applySyncEvent(U)}}),_defineProperty($,"handleBrushChange",function(B){var U=B.startIndex,q=B.endIndex;if(U!==$.state.dataStartIndex||q!==$.state.dataEndIndex){var Z=$.state.updateId;$.setState(function(){return _objectSpread({dataStartIndex:U,dataEndIndex:q},S({props:$.props,dataStartIndex:U,dataEndIndex:q,updateId:Z},$.state))}),$.triggerSyncEvent({dataStartIndex:U,dataEndIndex:q})}}),_defineProperty($,"handleMouseEnter",function(B){var U=$.getMouseInfo(B);if(U){var q=_objectSpread(_objectSpread({},U),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var Z=$.props.onMouseEnter;isFunction(Z)&&Z(q,B)}}),_defineProperty($,"triggeredAfterMouseMove",function(B){var U=$.getMouseInfo(B),q=U?_objectSpread(_objectSpread({},U),{},{isTooltipActive:!0}):{isTooltipActive:!1};$.setState(q),$.triggerSyncEvent(q);var Z=$.props.onMouseMove;isFunction(Z)&&Z(q,B)}),_defineProperty($,"handleItemMouseEnter",function(B){$.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),_defineProperty($,"handleItemMouseLeave",function(){$.setState(function(){return{isTooltipActive:!1}})}),_defineProperty($,"handleMouseMove",function(B){B.persist(),$.throttleTriggeredAfterMouseMove(B)}),_defineProperty($,"handleMouseLeave",function(B){$.throttleTriggeredAfterMouseMove.cancel();var U={isTooltipActive:!1};$.setState(U),$.triggerSyncEvent(U);var q=$.props.onMouseLeave;isFunction(q)&&q(U,B)}),_defineProperty($,"handleOuterEvent",function(B){var U=getReactEventByType(B),q=get($.props,"".concat(U));if(U&&isFunction(q)){var Z,G;/.*touch.*/i.test(U)?G=$.getMouseInfo(B.changedTouches[0]):G=$.getMouseInfo(B),q((Z=G)!==null&&Z!==void 0?Z:{},B)}}),_defineProperty($,"handleClick",function(B){var U=$.getMouseInfo(B);if(U){var q=_objectSpread(_objectSpread({},U),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var Z=$.props.onClick;isFunction(Z)&&Z(q,B)}}),_defineProperty($,"handleMouseDown",function(B){var U=$.props.onMouseDown;if(isFunction(U)){var q=$.getMouseInfo(B);U(q,B)}}),_defineProperty($,"handleMouseUp",function(B){var U=$.props.onMouseUp;if(isFunction(U)){var q=$.getMouseInfo(B);U(q,B)}}),_defineProperty($,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&$.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),_defineProperty($,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&$.handleMouseDown(B.changedTouches[0])}),_defineProperty($,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&$.handleMouseUp(B.changedTouches[0])}),_defineProperty($,"handleDoubleClick",function(B){var U=$.props.onDoubleClick;if(isFunction(U)){var q=$.getMouseInfo(B);U(q,B)}}),_defineProperty($,"handleContextMenu",function(B){var U=$.props.onContextMenu;if(isFunction(U)){var q=$.getMouseInfo(B);U(q,B)}}),_defineProperty($,"triggerSyncEvent",function(B){$.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,$.props.syncId,B,$.eventEmitterSymbol)}),_defineProperty($,"applySyncEvent",function(B){var U=$.props,q=U.layout,Z=U.syncMethod,G=$.state.updateId,H=B.dataStartIndex,ne=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)$.setState(_objectSpread({dataStartIndex:H,dataEndIndex:ne},S({props:$.props,dataStartIndex:H,dataEndIndex:ne,updateId:G},$.state)));else if(B.activeTooltipIndex!==void 0){var ae=B.chartX,te=B.chartY,ce=B.activeTooltipIndex,fe=$.state,ye=fe.offset,J=fe.tooltipTicks;if(!ye)return;if(typeof Z=="function")ce=Z(J,B);else if(Z==="value"){ce=-1;for(var oe=0;oe<J.length;oe++)if(J[oe].value===B.activeLabel){ce=oe;break}}var se=_objectSpread(_objectSpread({},ye),{},{x:ye.left,y:ye.top}),Q=Math.min(ae,se.x+se.width),ue=Math.min(te,se.y+se.height),_e=J[ce]&&J[ce].value,ge=getTooltipContent($.state,$.props.data,ce),ve=J[ce]?{x:q==="horizontal"?J[ce].coordinate:Q,y:q==="horizontal"?ue:J[ce].coordinate}:originCoordinate;$.setState(_objectSpread(_objectSpread({},B),{},{activeLabel:_e,activeCoordinate:ve,activePayload:ge,activeTooltipIndex:ce}))}else $.setState(B)}),_defineProperty($,"renderCursor",function(B){var U,q=$.state,Z=q.isTooltipActive,G=q.activeCoordinate,H=q.activePayload,ne=q.offset,ae=q.activeTooltipIndex,te=q.tooltipAxisBandSize,ce=$.getTooltipEventType(),fe=(U=B.props.active)!==null&&U!==void 0?U:Z,ye=$.props.layout,J=B.key||"_recharts-cursor";return React$1.createElement(Cursor,{key:J,activeCoordinate:G,activePayload:H,activeTooltipIndex:ae,chartName:n,element:B,isActive:fe,layout:ye,offset:ne,tooltipAxisBandSize:te,tooltipEventType:ce})}),_defineProperty($,"renderPolarAxis",function(B,U,q){var Z=get(B,"type.axisType"),G=get($.state,"".concat(Z,"Map")),H=B.type.defaultProps,ne=H!==void 0?_objectSpread(_objectSpread({},H),B.props):B.props,ae=G&&G[ne["".concat(Z,"Id")]];return reactExports.cloneElement(B,_objectSpread(_objectSpread({},ae),{},{className:clsx(Z,ae.className),key:B.key||"".concat(U,"-").concat(q),ticks:getTicksOfAxis(ae,!0)}))}),_defineProperty($,"renderPolarGrid",function(B){var U=B.props,q=U.radialLines,Z=U.polarAngles,G=U.polarRadius,H=$.state,ne=H.radiusAxisMap,ae=H.angleAxisMap,te=getAnyElementOfObject(ne),ce=getAnyElementOfObject(ae),fe=ce.cx,ye=ce.cy,J=ce.innerRadius,oe=ce.outerRadius;return reactExports.cloneElement(B,{polarAngles:Array.isArray(Z)?Z:getTicksOfAxis(ce,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(G)?G:getTicksOfAxis(te,!0).map(function(se){return se.coordinate}),cx:fe,cy:ye,innerRadius:J,outerRadius:oe,key:B.key||"polar-grid",radialLines:q})}),_defineProperty($,"renderLegend",function(){var B=$.state.formattedGraphicalItems,U=$.props,q=U.children,Z=U.width,G=U.height,H=$.props.margin||{},ne=Z-(H.left||0)-(H.right||0),ae=getLegendProps({children:q,formattedGraphicalItems:B,legendWidth:ne,legendContent:p});if(!ae)return null;var te=ae.item,ce=_objectWithoutProperties(ae,_excluded);return reactExports.cloneElement(te,_objectSpread(_objectSpread({},ce),{},{chartWidth:Z,chartHeight:G,margin:H,onBBoxUpdate:$.handleLegendBBoxUpdate}))}),_defineProperty($,"renderTooltip",function(){var B,U=$.props,q=U.children,Z=U.accessibilityLayer,G=findChildByType(q,Tooltip);if(!G)return null;var H=$.state,ne=H.isTooltipActive,ae=H.activeCoordinate,te=H.activePayload,ce=H.activeLabel,fe=H.offset,ye=(B=G.props.active)!==null&&B!==void 0?B:ne;return reactExports.cloneElement(G,{viewBox:_objectSpread(_objectSpread({},fe),{},{x:fe.left,y:fe.top}),active:ye,label:ce,payload:ye?te:[],coordinate:ae,accessibilityLayer:Z})}),_defineProperty($,"renderBrush",function(B){var U=$.props,q=U.margin,Z=U.data,G=$.state,H=G.offset,ne=G.dataStartIndex,ae=G.dataEndIndex,te=G.updateId;return reactExports.cloneElement(B,{key:B.key||"_recharts-brush",onChange:combineEventHandlers($.handleBrushChange,B.props.onChange),data:Z,x:isNumber(B.props.x)?B.props.x:H.left,y:isNumber(B.props.y)?B.props.y:H.top+H.height+H.brushBottom-(q.bottom||0),width:isNumber(B.props.width)?B.props.width:H.width,startIndex:ne,endIndex:ae,updateId:"brush-".concat(te)})}),_defineProperty($,"renderReferenceElement",function(B,U,q){if(!B)return null;var Z=$,G=Z.clipPathId,H=$.state,ne=H.xAxisMap,ae=H.yAxisMap,te=H.offset,ce=B.type.defaultProps||{},fe=B.props,ye=fe.xAxisId,J=ye===void 0?ce.xAxisId:ye,oe=fe.yAxisId,se=oe===void 0?ce.yAxisId:oe;return reactExports.cloneElement(B,{key:B.key||"".concat(U,"-").concat(q),xAxis:ne[J],yAxis:ae[se],viewBox:{x:te.left,y:te.top,width:te.width,height:te.height},clipPathId:G})}),_defineProperty($,"renderActivePoints",function(B){var U=B.item,q=B.activePoint,Z=B.basePoint,G=B.childIndex,H=B.isRange,ne=[],ae=U.props.key,te=U.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},U.item.type.defaultProps),U.item.props):U.item.props,ce=te.activeDot,fe=te.dataKey,ye=_objectSpread(_objectSpread({index:G,dataKey:fe,cx:q.x,cy:q.y,r:4,fill:getMainColorOfGraphicItem(U.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value},filterProps(ce,!1)),adaptEventHandlers(ce));return ne.push(C.renderActiveDot(ce,ye,"".concat(ae,"-activePoint-").concat(G))),Z?ne.push(C.renderActiveDot(ce,_objectSpread(_objectSpread({},ye),{},{cx:Z.x,cy:Z.y}),"".concat(ae,"-basePoint-").concat(G))):H&&ne.push(null),ne}),_defineProperty($,"renderGraphicChild",function(B,U,q){var Z=$.filterFormatItem(B,U,q);if(!Z)return null;var G=$.getTooltipEventType(),H=$.state,ne=H.isTooltipActive,ae=H.tooltipAxis,te=H.activeTooltipIndex,ce=H.activeLabel,fe=$.props.children,ye=findChildByType(fe,Tooltip),J=Z.props,oe=J.points,se=J.isRange,Q=J.baseLine,ue=Z.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Z.item.type.defaultProps),Z.item.props):Z.item.props,_e=ue.activeDot,ge=ue.hide,ve=ue.activeBar,we=ue.activeShape,Pe=!!(!ge&&ne&&ye&&(_e||ve||we)),Re={};G!=="axis"&&ye&&ye.props.trigger==="click"?Re={onClick:combineEventHandlers($.handleItemMouseEnter,B.props.onClick)}:G!=="axis"&&(Re={onMouseLeave:combineEventHandlers($.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:combineEventHandlers($.handleItemMouseEnter,B.props.onMouseEnter)});var Ae=reactExports.cloneElement(B,_objectSpread(_objectSpread({},Z.props),Re));function Ne(de){return typeof ae.dataKey=="function"?ae.dataKey(de.payload):null}if(Pe)if(te>=0){var Ie,he;if(ae.dataKey&&!ae.allowDuplicatedCategory){var ke=typeof ae.dataKey=="function"?Ne:"payload.".concat(ae.dataKey.toString());Ie=findEntryInArray(oe,ke,ce),he=se&&Q&&findEntryInArray(Q,ke,ce)}else Ie=oe==null?void 0:oe[te],he=se&&Q&&Q[te];if(we||ve){var Me=B.props.activeIndex!==void 0?B.props.activeIndex:te;return[reactExports.cloneElement(B,_objectSpread(_objectSpread(_objectSpread({},Z.props),Re),{},{activeIndex:Me})),null,null]}if(!isNil(Ie))return[Ae].concat(_toConsumableArray($.renderActivePoints({item:Z,activePoint:Ie,basePoint:he,childIndex:te,isRange:se})))}else{var je,Fe=(je=$.getItemByXY($.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:Ae},Qe=Fe.graphicalItem,Ve=Qe.item,Je=Ve===void 0?B:Ve,ot=Qe.childIndex,pe=_objectSpread(_objectSpread(_objectSpread({},Z.props),Re),{},{activeIndex:ot});return[reactExports.cloneElement(Je,pe),null,null]}return se?[Ae,null,null]:[Ae,null]}),_defineProperty($,"renderCustomized",function(B,U,q){return reactExports.cloneElement(B,_objectSpread(_objectSpread({key:"recharts-customized-".concat(q)},$.props),$.state))}),_defineProperty($,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:$.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:$.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:$.renderBrush,once:!0},Bar:{handler:$.renderGraphicChild},Line:{handler:$.renderGraphicChild},Area:{handler:$.renderGraphicChild},Radar:{handler:$.renderGraphicChild},RadialBar:{handler:$.renderGraphicChild},Scatter:{handler:$.renderGraphicChild},Pie:{handler:$.renderGraphicChild},Funnel:{handler:$.renderGraphicChild},Tooltip:{handler:$.renderCursor,once:!0},PolarGrid:{handler:$.renderPolarGrid,once:!0},PolarAngleAxis:{handler:$.renderPolarAxis},PolarRadiusAxis:{handler:$.renderPolarAxis},Customized:{handler:$.renderCustomized}}),$.clipPathId="".concat((L=O.id)!==null&&L!==void 0?L:uniqueId("recharts"),"-clip"),$.throttleTriggeredAfterMouseMove=throttle($.triggeredAfterMouseMove,(F=O.throttleDelay)!==null&&F!==void 0?F:1e3/60),$.state={},$}return _inherits(C,w),_createClass(C,[{key:"componentDidMount",value:function(){var L,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var L=this.props,F=L.children,$=L.data,B=L.height,U=L.layout,q=findChildByType(F,Tooltip);if(q){var Z=q.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,H=getTooltipContent(this.state,$,Z,G),ne=this.state.tooltipTicks[Z].coordinate,ae=(this.state.offset.top+B)/2,te=U==="horizontal",ce=te?{x:ne,y:ae}:{y:ne,x:ae},fe=this.state.formattedGraphicalItems.find(function(J){var oe=J.item;return oe.type.name==="Scatter"});fe&&(ce=_objectSpread(_objectSpread({},ce),fe.props.points[Z].tooltipPosition),H=fe.props.points[Z].tooltipPayload);var ye={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:G,activePayload:H,activeCoordinate:ce};this.setState(ye),this.renderCursor(q),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(L,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==L.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==L.margin){var $,B;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(L){isChildrenEqual([findChildByType(L.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var L=findChildByType(this.props.children,Tooltip);if(L&&typeof L.props.shared=="boolean"){var F=L.props.shared?"axis":"item";return h.indexOf(F)>=0?F:u}return u}},{key:"getMouseInfo",value:function(L){if(!this.container)return null;var F=this.container,$=F.getBoundingClientRect(),B=getOffset($),U={chartX:Math.round(L.pageX-B.left),chartY:Math.round(L.pageY-B.top)},q=$.width/F.offsetWidth||1,Z=this.inRange(U.chartX,U.chartY,q);if(!Z)return null;var G=this.state,H=G.xAxisMap,ne=G.yAxisMap,ae=this.getTooltipEventType(),te=getTooltipData(this.state,this.props.data,this.props.layout,Z);if(ae!=="axis"&&H&&ne){var ce=getAnyElementOfObject(H).scale,fe=getAnyElementOfObject(ne).scale,ye=ce&&ce.invert?ce.invert(U.chartX):null,J=fe&&fe.invert?fe.invert(U.chartY):null;return _objectSpread(_objectSpread({},U),{},{xValue:ye,yValue:J},te)}return te?_objectSpread(_objectSpread({},U),te):null}},{key:"inRange",value:function(L,F){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,U=L/$,q=F/$;if(B==="horizontal"||B==="vertical"){var Z=this.state.offset,G=U>=Z.left&&U<=Z.left+Z.width&&q>=Z.top&&q<=Z.top+Z.height;return G?{x:U,y:q}:null}var H=this.state,ne=H.angleAxisMap,ae=H.radiusAxisMap;if(ne&&ae){var te=getAnyElementOfObject(ne);return inRangeOfSector({x:U,y:q},te)}return null}},{key:"parseEventsOfWrapper",value:function(){var L=this.props.children,F=this.getTooltipEventType(),$=findChildByType(L,Tooltip),B={};$&&F==="axis"&&($.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var U=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},U),B)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(L,F,$){for(var B=this.state.formattedGraphicalItems,U=0,q=B.length;U<q;U++){var Z=B[U];if(Z.item===L||Z.props.key===L.key||F===getDisplayName(Z.item.type)&&$===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var L=this.clipPathId,F=this.state.offset,$=F.left,B=F.top,U=F.height,q=F.width;return React$1.createElement("defs",null,React$1.createElement("clipPath",{id:L},React$1.createElement("rect",{x:$,y:B,height:U,width:q})))}},{key:"getXScales",value:function(){var L=this.state.xAxisMap;return L?Object.entries(L).reduce(function(F,$){var B=_slicedToArray($,2),U=B[0],q=B[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},U,q.scale))},{}):null}},{key:"getYScales",value:function(){var L=this.state.yAxisMap;return L?Object.entries(L).reduce(function(F,$){var B=_slicedToArray($,2),U=B[0],q=B[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},U,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(L){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[L])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(L){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[L])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(L){var F=this.state,$=F.formattedGraphicalItems,B=F.activeItem;if($&&$.length)for(var U=0,q=$.length;U<q;U++){var Z=$[U],G=Z.props,H=Z.item,ne=H.type.defaultProps!==void 0?_objectSpread(_objectSpread({},H.type.defaultProps),H.props):H.props,ae=getDisplayName(H.type);if(ae==="Bar"){var te=(G.data||[]).find(function(J){return isInRectangle(L,J)});if(te)return{graphicalItem:Z,payload:te}}else if(ae==="RadialBar"){var ce=(G.data||[]).find(function(J){return inRangeOfSector(L,J)});if(ce)return{graphicalItem:Z,payload:ce}}else if(isFunnel(Z,B)||isPie(Z,B)||isScatter(Z,B)){var fe=getActiveShapeIndexForTooltip({graphicalItem:Z,activeTooltipItem:B,itemData:ne.data}),ye=ne.activeIndex===void 0?fe:ne.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Z),{},{childIndex:ye}),payload:isScatter(Z,B)?ne.data[fe]:Z.props.data[fe]}}}return null}},{key:"render",value:function(){var L=this;if(!validateWidthHeight(this))return null;var F=this.props,$=F.children,B=F.className,U=F.width,q=F.height,Z=F.style,G=F.compact,H=F.title,ne=F.desc,ae=_objectWithoutProperties(F,_excluded2),te=filterProps(ae,!1);if(G)return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement(Surface,_extends({},te,{width:U,height:q,title:H,desc:ne}),this.renderClipPath(),renderByOrder($,this.renderMap)));if(this.props.accessibilityLayer){var ce,fe;te.tabIndex=(ce=this.props.tabIndex)!==null&&ce!==void 0?ce:0,te.role=(fe=this.props.role)!==null&&fe!==void 0?fe:"application",te.onKeyDown=function(J){L.accessibilityManager.keyboardEvent(J)},te.onFocus=function(){L.accessibilityManager.focus()}}var ye=this.parseEventsOfWrapper();return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement("div",_extends({className:clsx("recharts-wrapper",B),style:_objectSpread({position:"relative",cursor:"default",width:U,height:q},Z)},ye,{ref:function(oe){L.container=oe}}),React$1.createElement(Surface,_extends({},te,{width:U,height:q,title:H,desc:ne,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder($,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(M,"displayName",n),_defineProperty(M,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),_defineProperty(M,"getDerivedStateFromProps",function(w,C){var O=w.dataKey,L=w.data,F=w.children,$=w.width,B=w.height,U=w.layout,q=w.stackOffset,Z=w.margin,G=C.dataStartIndex,H=C.dataEndIndex;if(C.updateId===void 0){var ne=createDefaultState(w);return _objectSpread(_objectSpread(_objectSpread({},ne),{},{updateId:0},S(_objectSpread(_objectSpread({props:w},ne),{},{updateId:0}),C)),{},{prevDataKey:O,prevData:L,prevWidth:$,prevHeight:B,prevLayout:U,prevStackOffset:q,prevMargin:Z,prevChildren:F})}if(O!==C.prevDataKey||L!==C.prevData||$!==C.prevWidth||B!==C.prevHeight||U!==C.prevLayout||q!==C.prevStackOffset||!shallowEqual(Z,C.prevMargin)){var ae=createDefaultState(w),te={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},ce=_objectSpread(_objectSpread({},getTooltipData(C,L,U)),{},{updateId:C.updateId+1}),fe=_objectSpread(_objectSpread(_objectSpread({},ae),te),ce);return _objectSpread(_objectSpread(_objectSpread({},fe),S(_objectSpread({props:w},fe),C)),{},{prevDataKey:O,prevData:L,prevWidth:$,prevHeight:B,prevLayout:U,prevStackOffset:q,prevMargin:Z,prevChildren:F})}if(!isChildrenEqual(F,C.prevChildren)){var ye,J,oe,se,Q=findChildByType(F,Brush),ue=Q&&(ye=(J=Q.props)===null||J===void 0?void 0:J.startIndex)!==null&&ye!==void 0?ye:G,_e=Q&&(oe=(se=Q.props)===null||se===void 0?void 0:se.endIndex)!==null&&oe!==void 0?oe:H,ge=ue!==G||_e!==H,ve=!isNil(L),we=ve&&!ge?C.updateId:C.updateId+1;return _objectSpread(_objectSpread({updateId:we},S(_objectSpread(_objectSpread({props:w},C),{},{updateId:we,dataStartIndex:ue,dataEndIndex:_e}),C)),{},{prevChildren:F,dataStartIndex:ue,dataEndIndex:_e})}return null}),_defineProperty(M,"renderActiveDot",function(w,C,O){var L;return reactExports.isValidElement(w)?L=reactExports.cloneElement(w,C):isFunction(w)?L=w(C):L=React$1.createElement(Dot,C),React$1.createElement(Layer,{className:"recharts-active-dot",key:O},L)});var A=reactExports.forwardRef(function(C,O){return React$1.createElement(M,_extends({},C,{ref:O}))});return A.displayName=M.displayName,A},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});const WaterAccessChart=()=>{const{regions:t,seasonType:e}=useAppContext(),n=[{name:"timo",range:"80-100%",count:0},{name:"Bom",range:"60-80%",count:0},{name:"Moderado",range:"40-60%",count:0},{name:"Deficiente",range:"20-40%",count:0},{name:"Crtico",range:"0-20%",count:0}];return t.forEach(o=>{const l=o[e].waterAccessLevel;l>=80?n[0].count++:l>=60?n[1].count++:l>=40?n[2].count++:l>=20?n[3].count++:n[4].count++}),React$1.createElement(ResponsiveContainer,{width:"100%",height:180},React$1.createElement(BarChart,{data:n,margin:{top:5,right:5,left:-20,bottom:5}},React$1.createElement(XAxis,{dataKey:"name",tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),React$1.createElement(YAxis,{tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),React$1.createElement(Tooltip,{formatter:o=>[`${o} regies`,"Quantidade"],labelFormatter:(o,l)=>{var f;const u=(f=l[0])==null?void 0:f.payload;return`${o} (${u==null?void 0:u.range})`}}),React$1.createElement(Bar,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})))};var lib={};const SIZEOF_SHORT=2,SIZEOF_INT=4,FILE_IDENTIFIER_LENGTH=4,SIZE_PREFIX_LENGTH=4,int32=new Int32Array(2),float32=new Float32Array(int32.buffer),float64=new Float64Array(int32.buffer),isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Encoding;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(Encoding||(Encoding={}));class ByteBuffer{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new ByteBuffer(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return int32[0]=this.readInt32(e),float32[0]}readFloat64(e){return int32[isLittleEndian?0:1]=this.readInt32(e),int32[isLittleEndian?1:0]=this.readInt32(e+4),float64[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){float32[0]=n,this.writeInt32(e,int32[0])}writeFloat64(e,n){float64[0]=n,this.writeInt32(e,int32[isLittleEndian?0:1]),this.writeInt32(e+4,int32[isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+SIZEOF_INT+FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<FILE_IDENTIFIER_LENGTH;n++)e+=String.fromCharCode(this.readInt8(this.position_+SIZEOF_INT+n));return e}__offset(e,n){const o=e-this.readInt32(e);return n<this.readInt16(o)?this.readInt16(o+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const o=this.readInt32(e);e+=SIZEOF_INT;const l=this.bytes_.subarray(e,e+o);return n===Encoding.UTF8_BYTES?l:this.text_decoder_.decode(l)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+SIZEOF_INT}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let n=0;n<FILE_IDENTIFIER_LENGTH;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+SIZEOF_INT+n))return!1;return!0}createScalarList(e,n){const o=[];for(let l=0;l<n;++l){const u=e(l);u!==null&&o.push(u)}return o}createObjList(e,n){const o=[];for(let l=0;l<n;++l){const u=e(l);u!==null&&o.push(u.unpack())}return o}}class Builder{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=ByteBuffer.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const o=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<o+e+n;){const l=this.bb.capacity();this.bb=Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-l}this.pad(o)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,o){(this.force_defaults||n!=o)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,o){(this.force_defaults||n!=o)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,o){(this.force_defaults||n!=o)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,o){(this.force_defaults||n!==o)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,o){(this.force_defaults||n!=o)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,o){n!=o&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const o=n<<1,l=ByteBuffer.allocate(o);return l.setPosition(o-n),l.bytes().set(e.bytes(),o-n),l}addOffset(e){this.prep(SIZEOF_INT,0),this.writeInt32(this.offset()-e+SIZEOF_INT)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const o=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const l=2;this.addInt16(e-this.object_start);const u=(o+l)*SIZEOF_SHORT;this.addInt16(u);let f=0;const h=this.space;e:for(n=0;n<this.vtables.length;n++){const d=this.bb.capacity()-this.vtables[n];if(u==this.bb.readInt16(d)){for(let p=SIZEOF_SHORT;p<u;p+=SIZEOF_SHORT)if(this.bb.readInt16(h+p)!=this.bb.readInt16(d+p))continue e;f=this.vtables[n];break}}return f?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,f-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,o){const l=o?SIZE_PREFIX_LENGTH:0;if(n){const u=n;if(this.prep(this.minalign,SIZEOF_INT+FILE_IDENTIFIER_LENGTH+l),u.length!=FILE_IDENTIFIER_LENGTH)throw new TypeError("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let f=FILE_IDENTIFIER_LENGTH-1;f>=0;f--)this.writeInt8(u.charCodeAt(f))}this.prep(this.minalign,SIZEOF_INT+l),this.addOffset(e),l&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const o=this.bb.capacity()-e,l=o-this.bb.readInt32(o);if(!(n<this.bb.readInt16(l)&&this.bb.readInt16(l+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,o){this.notNested(),this.vector_num_elems=n,this.prep(SIZEOF_INT,e*n),this.prep(o,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let o=0;o<e.length;++o){const l=e[o];if(l!==null)n.push(this.createObjectOffset(l));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const flatbuffers=Object.freeze(Object.defineProperty({__proto__:null,Builder,ByteBuffer,get Encoding(){return Encoding},FILE_IDENTIFIER_LENGTH,SIZEOF_INT,SIZEOF_SHORT,SIZE_PREFIX_LENGTH,float32,float64,int32,isLittleEndian},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(flatbuffers);var weatherApiResponse={},model={},hasRequiredModel;function requireModel(){if(hasRequiredModel)return model;hasRequiredModel=1,Object.defineProperty(model,"__esModule",{value:!0}),model.Model=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i"}(t||(model.Model=t={})),model}var variablesWithTime={},variableWithValues={},aggregation={},hasRequiredAggregation;function requireAggregation(){if(hasRequiredAggregation)return aggregation;hasRequiredAggregation=1,Object.defineProperty(aggregation,"__esModule",{value:!0}),aggregation.Aggregation=void 0;var t;return function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread"}(t||(aggregation.Aggregation=t={})),aggregation}var unit={},hasRequiredUnit;function requireUnit(){if(hasRequiredUnit)return unit;hasRequiredUnit=1,Object.defineProperty(unit,"__esModule",{value:!0}),unit.Unit=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million"}(t||(unit.Unit=t={})),unit}var variable={},hasRequiredVariable;function requireVariable(){if(hasRequiredVariable)return variable;hasRequiredVariable=1,Object.defineProperty(variable,"__esModule",{value:!0}),variable.Variable=void 0;var t;return function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction"}(t||(variable.Variable=t={})),variable}var hasRequiredVariableWithValues;function requireVariableWithValues(){if(hasRequiredVariableWithValues)return variableWithValues;hasRequiredVariableWithValues=1;var t=variableWithValues&&variableWithValues.__createBinding||(Object.create?function(d,p,m,v){v===void 0&&(v=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(d,v,_)}:function(d,p,m,v){v===void 0&&(v=m),d[v]=p[m]}),e=variableWithValues&&variableWithValues.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),n=variableWithValues&&variableWithValues.__importStar||function(){var d=function(p){return d=Object.getOwnPropertyNames||function(m){var v=[];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(v[v.length]=_);return v},d(p)};return function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v=d(p),_=0;_<v.length;_++)v[_]!=="default"&&t(m,p,v[_]);return e(m,p),m}}();Object.defineProperty(variableWithValues,"__esModule",{value:!0}),variableWithValues.VariableWithValues=void 0;const o=n(require$$0),l=requireAggregation(),u=requireUnit(),f=requireVariable();class h{constructor(){this.bb=null,this.bb_pos=0}__init(p,m){return this.bb_pos=p,this.bb=m,this}static getRootAsVariableWithValues(p,m){return(m||new h).__init(p.readInt32(p.position())+p.position(),p)}static getSizePrefixedRootAsVariableWithValues(p,m){return p.setPosition(p.position()+o.SIZE_PREFIX_LENGTH),(m||new h).__init(p.readInt32(p.position())+p.position(),p)}variable(){const p=this.bb.__offset(this.bb_pos,4);return p?this.bb.readUint8(this.bb_pos+p):f.Variable.undefined}unit(){const p=this.bb.__offset(this.bb_pos,6);return p?this.bb.readUint8(this.bb_pos+p):u.Unit.undefined}value(){const p=this.bb.__offset(this.bb_pos,8);return p?this.bb.readFloat32(this.bb_pos+p):0}values(p){const m=this.bb.__offset(this.bb_pos,10);return m?this.bb.readFloat32(this.bb.__vector(this.bb_pos+m)+p*4):0}valuesLength(){const p=this.bb.__offset(this.bb_pos,10);return p?this.bb.__vector_len(this.bb_pos+p):0}valuesArray(){const p=this.bb.__offset(this.bb_pos,10);return p?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+p),this.bb.__vector_len(this.bb_pos+p)):null}valuesInt64(p){const m=this.bb.__offset(this.bb_pos,12);return m?this.bb.readInt64(this.bb.__vector(this.bb_pos+m)+p*8):BigInt(0)}valuesInt64Length(){const p=this.bb.__offset(this.bb_pos,12);return p?this.bb.__vector_len(this.bb_pos+p):0}altitude(){const p=this.bb.__offset(this.bb_pos,14);return p?this.bb.readInt16(this.bb_pos+p):0}aggregation(){const p=this.bb.__offset(this.bb_pos,16);return p?this.bb.readUint8(this.bb_pos+p):l.Aggregation.none}pressureLevel(){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.readInt16(this.bb_pos+p):0}depth(){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.readInt16(this.bb_pos+p):0}depthTo(){const p=this.bb.__offset(this.bb_pos,22);return p?this.bb.readInt16(this.bb_pos+p):0}ensembleMember(){const p=this.bb.__offset(this.bb_pos,24);return p?this.bb.readInt16(this.bb_pos+p):0}previousDay(){const p=this.bb.__offset(this.bb_pos,26);return p?this.bb.readInt16(this.bb_pos+p):0}}return variableWithValues.VariableWithValues=h,variableWithValues}var hasRequiredVariablesWithTime;function requireVariablesWithTime(){if(hasRequiredVariablesWithTime)return variablesWithTime;hasRequiredVariablesWithTime=1;var t=variablesWithTime&&variablesWithTime.__createBinding||(Object.create?function(f,h,d,p){p===void 0&&(p=d);var m=Object.getOwnPropertyDescriptor(h,d);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,p,m)}:function(f,h,d,p){p===void 0&&(p=d),f[p]=h[d]}),e=variablesWithTime&&variablesWithTime.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),n=variablesWithTime&&variablesWithTime.__importStar||function(){var f=function(h){return f=Object.getOwnPropertyNames||function(d){var p=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(p[p.length]=m);return p},f(h)};return function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var p=f(h),m=0;m<p.length;m++)p[m]!=="default"&&t(d,h,p[m]);return e(d,h),d}}();Object.defineProperty(variablesWithTime,"__esModule",{value:!0}),variablesWithTime.VariablesWithTime=void 0;const o=n(require$$0),l=requireVariableWithValues();class u{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsVariablesWithTime(h,d){return(d||new u).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsVariablesWithTime(h,d){return h.setPosition(h.position()+o.SIZE_PREFIX_LENGTH),(d||new u).__init(h.readInt32(h.position())+h.position(),h)}time(){const h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readInt64(this.bb_pos+h):BigInt("0")}timeEnd(){const h=this.bb.__offset(this.bb_pos,6);return h?this.bb.readInt64(this.bb_pos+h):BigInt("0")}interval(){const h=this.bb.__offset(this.bb_pos,8);return h?this.bb.readInt32(this.bb_pos+h):0}variables(h,d){const p=this.bb.__offset(this.bb_pos,10);return p?(d||new l.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+p)+h*4),this.bb):null}variablesLength(){const h=this.bb.__offset(this.bb_pos,10);return h?this.bb.__vector_len(this.bb_pos+h):0}}return variablesWithTime.VariablesWithTime=u,variablesWithTime}var hasRequiredWeatherApiResponse;function requireWeatherApiResponse(){if(hasRequiredWeatherApiResponse)return weatherApiResponse;hasRequiredWeatherApiResponse=1;var t=weatherApiResponse&&weatherApiResponse.__createBinding||(Object.create?function(h,d,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(h,m,v)}:function(h,d,p,m){m===void 0&&(m=p),h[m]=d[p]}),e=weatherApiResponse&&weatherApiResponse.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),n=weatherApiResponse&&weatherApiResponse.__importStar||function(){var h=function(d){return h=Object.getOwnPropertyNames||function(p){var m=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m[m.length]=v);return m},h(d)};return function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var m=h(d),v=0;v<m.length;v++)m[v]!=="default"&&t(p,d,m[v]);return e(p,d),p}}();Object.defineProperty(weatherApiResponse,"__esModule",{value:!0}),weatherApiResponse.WeatherApiResponse=void 0;const o=n(require$$0),l=requireModel(),u=requireVariablesWithTime();class f{constructor(){this.bb=null,this.bb_pos=0}__init(d,p){return this.bb_pos=d,this.bb=p,this}static getRootAsWeatherApiResponse(d,p){return(p||new f).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsWeatherApiResponse(d,p){return d.setPosition(d.position()+o.SIZE_PREFIX_LENGTH),(p||new f).__init(d.readInt32(d.position())+d.position(),d)}latitude(){const d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readFloat32(this.bb_pos+d):0}longitude(){const d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readFloat32(this.bb_pos+d):0}elevation(){const d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readFloat32(this.bb_pos+d):0}generationTimeMilliseconds(){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readFloat32(this.bb_pos+d):0}locationId(){const d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readInt64(this.bb_pos+d):BigInt("0")}model(){const d=this.bb.__offset(this.bb_pos,14);return d?this.bb.readUint8(this.bb_pos+d):l.Model.undefined}utcOffsetSeconds(){const d=this.bb.__offset(this.bb_pos,16);return d?this.bb.readInt32(this.bb_pos+d):0}timezone(d){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.__string(this.bb_pos+p,d):null}timezoneAbbreviation(d){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.__string(this.bb_pos+p,d):null}current(d){const p=this.bb.__offset(this.bb_pos,22);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}daily(d){const p=this.bb.__offset(this.bb_pos,24);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}hourly(d){const p=this.bb.__offset(this.bb_pos,26);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}minutely15(d){const p=this.bb.__offset(this.bb_pos,28);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}sixHourly(d){const p=this.bb.__offset(this.bb_pos,30);return p?(d||new u.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}}return weatherApiResponse.WeatherApiResponse=f,weatherApiResponse}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var t=lib&&lib.__awaiter||function(f,h,d,p){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function S(w){try{A(p.next(w))}catch(C){_(C)}}function M(w){try{A(p.throw(w))}catch(C){_(C)}}function A(w){w.done?v(w.value):m(w.value).then(S,M)}A((p=p.apply(f,h||[])).next())})};Object.defineProperty(lib,"__esModule",{value:!0}),lib.fetchWeatherApi=u;const e=require$$0,n=requireWeatherApiResponse(),o=f=>new Promise(h=>setTimeout(h,f));function l(f){return t(this,arguments,void 0,function*(h,d=3,p=.5,m=2,v={}){const _=[500,502,504],S=[400,429];let M=0,A=yield fetch(h,v);for(;_.includes(A.status);){if(M++,M>=d)throw new Error(A.statusText);const w=Math.min(p*Math.pow(2,M),m)*1e3;yield o(w),A=yield fetch(h,v)}if(S.includes(A.status)){const w=yield A.json();throw"reason"in w?new Error(w.reason):new Error(A.statusText)}return A})}function u(f,h){return t(this,arguments,void 0,function*(d,p,m=3,v=.2,_=2,S={}){const M=new URLSearchParams(p);M.set("format","flatbuffers");const A=yield l(`${d}?${M.toString()}`,m,v,_,S),w=new e.ByteBuffer(new Uint8Array(yield A.arrayBuffer())),C=[];let O=0;for(;O<w.capacity();){w.setPosition(O);const L=w.readInt32(w.position());C.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(w)),O+=L+4}return C})}return lib}var libExports=requireLib();const WeatherForecast=()=>{var F,$;const[t,e]=reactExports.useState(null),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(null),[f,h]=reactExports.useState({latitude:-15.7801,longitude:-47.9292}),[d,p]=reactExports.useState(!1);reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(B=>{h({latitude:B.coords.latitude,longitude:B.coords.longitude})},()=>{console.log("Usando localizao padro")})},[]),reactExports.useEffect(()=>{(async()=>{try{o(!0);const U={latitude:f.latitude,longitude:f.longitude,hourly:["temperature_2m","precipitation","rain","relative_humidity_2m","wind_speed_10m","wind_direction_10m","apparent_temperature","surface_pressure","cloud_cover","visibility"],daily:["precipitation_probability_max","wind_speed_10m_max","wind_direction_10m_dominant","temperature_2m_max","temperature_2m_min","apparent_temperature_max","apparent_temperature_min","sunrise","sunset","sunshine_duration","uv_index_max"],current:["temperature_2m"]},G=(await libExports.fetchWeatherApi("https://api.open-meteo.com/v1/forecast",U))[0],H=G.utcOffsetSeconds(),ne=G.current(),ae=G.hourly(),te=G.daily(),ce=te.variables(7),fe=te.variables(8),ye={current:{time:new Date((Number(ne.time())+H)*1e3),temperature2m:ne.variables(0).value()},hourly:{time:[...Array((Number(ae.timeEnd())-Number(ae.time()))/ae.interval())].map((J,oe)=>new Date((Number(ae.time())+oe*ae.interval()+H)*1e3)),temperature2m:ae.variables(0).valuesArray(),precipitation:ae.variables(1).valuesArray(),rain:ae.variables(2).valuesArray(),relativeHumidity2m:ae.variables(3).valuesArray(),windSpeed10m:ae.variables(4).valuesArray(),windDirection10m:ae.variables(5).valuesArray(),apparentTemperature:ae.variables(6).valuesArray(),surfacePressure:ae.variables(7).valuesArray(),cloudCover:ae.variables(8).valuesArray(),visibility:ae.variables(9).valuesArray()},daily:{time:[...Array((Number(te.timeEnd())-Number(te.time()))/te.interval())].map((J,oe)=>new Date((Number(te.time())+oe*te.interval()+H)*1e3)),precipitationProbabilityMax:te.variables(0).valuesArray(),windSpeed10mMax:te.variables(1).valuesArray(),windDirection10mDominant:te.variables(2).valuesArray(),temperature2mMax:te.variables(3).valuesArray(),temperature2mMin:te.variables(4).valuesArray(),apparentTemperatureMax:te.variables(5).valuesArray(),apparentTemperatureMin:te.variables(6).valuesArray(),sunrise:[...Array(ce.valuesInt64Length())].map((J,oe)=>new Date((Number(ce.valuesInt64(oe))+H)*1e3)),sunset:[...Array(fe.valuesInt64Length())].map((J,oe)=>new Date((Number(fe.valuesInt64(oe))+H)*1e3)),sunshineDuration:te.variables(9).valuesArray(),uvIndexMax:te.variables(10).valuesArray()}};e(ye),o(!1)}catch(U){console.error("Erro ao buscar dados meteorolgicos:",U),u("No foi possvel carregar os dados meteorolgicos"),o(!1)}})()},[f]);const m=t==null?void 0:t.hourly.rain.slice(0,24).some(B=>B>.1),v=t==null?void 0:t.daily.temperature2mMax[0],_=t==null?void 0:t.daily.temperature2mMin[0],S=t==null?void 0:t.hourly.precipitation.slice(0,24).reduce((B,U)=>B+U,0),M=t==null?void 0:t.current.time.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),A=(F=t==null?void 0:t.daily.sunrise[0])==null?void 0:F.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),w=($=t==null?void 0:t.daily.sunset[0])==null?void 0:$.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),C=B=>{const U=["N","NE","L","SE","S","SO","O","NO"],q=Math.round(B/45)%8;return U[q]},O=()=>{if(!t)return React$1.createElement(Cloud$1,{className:"h-10 w-10 text-gray-400"});const B=t.current.time.getHours(),U=t.hourly.rain[0]>.1,q=t.hourly.cloudCover[0];return U?React$1.createElement(CloudRain,{className:"h-10 w-10 text-blue-500"}):B>=6&&B<18?q>50?React$1.createElement(Cloud$1,{className:"h-10 w-10 text-gray-400"}):React$1.createElement(Sun$1,{className:"h-10 w-10 text-yellow-500"}):React$1.createElement(Cloud$1,{className:"h-10 w-10 text-gray-400"})},L=()=>{if(!t)return"";const B=m,U=t.hourly.windSpeed10m[0],q=t.hourly.relativeHumidity2m[0],Z=t.daily.uvIndexMax[0];return B?"Recomendamos verificar o sistema de drenagem das plantaes devido  previso de chuva.":U>20?"Ventos fortes previstos. Considere adiar pulverizaes e proteger mudas jovens.":q<30?"Umidade baixa. Aumente a frequncia de irrigao para evitar estresse hdrico nas plantas.":Z>8?"ndice UV muito alto. Proteja trabalhadores e considere sombreamento para culturas sensveis.":"Condies favorveis para trabalhos no campo hoje."};return React$1.createElement("div",{className:"mb-6"},React$1.createElement("div",{className:"flex items-center justify-between mb-3"},React$1.createElement("div",{className:"flex items-center"},React$1.createElement(Thermometer,{className:"h-5 w-5 text-gray-500 mr-2"}),React$1.createElement("h3",{className:"text-base font-medium text-gray-700"},"Previso do Tempo")),!n&&!l&&t&&React$1.createElement("button",{onClick:()=>p(!d),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors"},d?"Ver menos":"Ver mais detalhes")),React$1.createElement("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-gray-200 rounded-lg p-4 sm:p-5"},n?React$1.createElement("div",{className:"flex justify-center items-center h-24"},React$1.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})):l?React$1.createElement("div",{className:"text-center text-red-500"},l):t?React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{className:"flex items-center justify-between mb-4"},React$1.createElement("div",{className:"flex items-center"},O(),React$1.createElement("div",{className:"ml-3"},React$1.createElement("p",{className:"text-sm text-gray-500"},"Agora  ",M),React$1.createElement("p",{className:"text-2xl font-bold text-gray-800"},t.current.temperature2m.toFixed(1),"C"),React$1.createElement("p",{className:"text-sm text-gray-600"},"Sensao: ",t.hourly.apparentTemperature[0].toFixed(1),"C"))),React$1.createElement("div",{className:"text-right"},React$1.createElement("p",{className:"text-sm text-gray-500"},"Mx/Mn"),React$1.createElement("p",{className:"text-lg font-semibold text-gray-800"},v==null?void 0:v.toFixed(1),"/",_==null?void 0:_.toFixed(1),""),React$1.createElement("p",{className:"text-xs text-gray-500"},"Sensao: ",t.daily.apparentTemperatureMax[0].toFixed(1),"/",t.daily.apparentTemperatureMin[0].toFixed(1),""))),React$1.createElement("div",{className:"grid grid-cols-2 gap-3 mb-3"},React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(CloudRain,{className:"h-4 w-4 text-blue-500 mr-1"}),React$1.createElement("p",{className:"text-sm text-gray-500"},"Precipitao")),React$1.createElement("p",{className:"text-lg font-semibold text-gray-800"},S==null?void 0:S.toFixed(1)," mm"),React$1.createElement("p",{className:"text-xs text-gray-500"},"Prob: ",t.daily.precipitationProbabilityMax[0],"%")),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Wind,{className:"h-4 w-4 text-gray-500 mr-1"}),React$1.createElement("p",{className:"text-sm text-gray-500"},"Vento")),React$1.createElement("p",{className:"text-lg font-semibold text-gray-800"},t.hourly.windSpeed10m[0].toFixed(1)," km/h"),React$1.createElement("p",{className:"text-xs text-gray-500"},"Direo: ",C(t.hourly.windDirection10m[0])))),d&&React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4"},React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Droplets,{className:"h-4 w-4 text-blue-400 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"Umidade")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},t.hourly.relativeHumidity2m[0].toFixed(0),"%")),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Gauge,{className:"h-4 w-4 text-gray-500 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"Presso")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},(t.hourly.surfacePressure[0]/10).toFixed(0)," kPa")),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Shield,{className:"h-4 w-4 text-orange-400 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"ndice UV")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},t.daily.uvIndexMax[0].toFixed(0))),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Cloud$1,{className:"h-4 w-4 text-gray-400 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"Nuvens")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},t.hourly.cloudCover[0].toFixed(0),"%"))),React$1.createElement("div",{className:"grid grid-cols-2 gap-3 mb-4"},React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Sunrise,{className:"h-4 w-4 text-amber-500 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"Nascer do Sol")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},A)),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3"},React$1.createElement("div",{className:"flex items-center mb-1"},React$1.createElement(Sunset,{className:"h-4 w-4 text-orange-500 mr-1"}),React$1.createElement("p",{className:"text-xs text-gray-500"},"Pr do Sol")),React$1.createElement("p",{className:"text-base font-semibold text-gray-800"},w))),React$1.createElement("div",{className:"bg-white bg-opacity-70 rounded-lg p-3 mb-3"},React$1.createElement("p",{className:"text-sm font-medium text-gray-700 mb-2"},"Previso para os prximos dias"),React$1.createElement("div",{className:"grid grid-cols-3 gap-2"},[0,1,2].map(B=>React$1.createElement("div",{key:B,className:"text-center"},React$1.createElement("p",{className:"text-xs text-gray-500"},t.daily.time[B].toLocaleDateString("pt-BR",{weekday:"short"})),React$1.createElement("p",{className:"text-sm font-medium"},t.daily.temperature2mMax[B].toFixed(0),"/",t.daily.temperature2mMin[B].toFixed(0),""),React$1.createElement("p",{className:"text-xs text-gray-500"},t.daily.precipitationProbabilityMax[B],"% chuva")))))),React$1.createElement("div",{className:"mt-3 text-sm text-gray-600"},React$1.createElement("p",null,L()))):null))},InfoPanel=()=>{const{regions:t,seasonType:e}=useAppContext(),n=t.reduce((u,f)=>u+f[e].waterAccessLevel,0)/t.length,l=t.filter(u=>u[e].waterAccessLevel<40).length/t.length*100;return React$1.createElement("div",{className:"p-4 sm:p-6"},React$1.createElement("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4"},"Viso Geral"),React$1.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6"},React$1.createElement("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg"},React$1.createElement(Droplets,{className:"h-6 w-6 text-blue-500 mb-2"}),React$1.createElement("p",{className:"text-sm sm:text-base text-gray-500"},"Acesso Hdrico Mdio"),React$1.createElement("p",{className:"text-lg sm:text-xl font-semibold text-gray-800"},n.toFixed(1),"%")),React$1.createElement("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg"},React$1.createElement(AlertTriangle,{className:"h-6 w-6 text-orange-500 mb-2"}),React$1.createElement("p",{className:"text-sm sm:text-base text-gray-500"},"Regies com Dficit"),React$1.createElement("p",{className:"text-lg sm:text-xl font-semibold text-gray-800"},l.toFixed(0),"%"))),React$1.createElement(WeatherForecast,null),React$1.createElement("div",{className:"mb-6"},React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement(AreaChart,{className:"h-5 w-5 text-gray-500 mr-2"}),React$1.createElement("h3",{className:"text-base font-medium text-gray-700"},"Distribuio de Acesso Hdrico")),React$1.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4"},React$1.createElement(WaterAccessChart,null))),React$1.createElement("div",null,React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement(Info,{className:"h-5 w-5 text-gray-500 mr-2"}),React$1.createElement("h3",{className:"text-base font-medium text-gray-700"},"Informaes")),React$1.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-5 text-sm sm:text-base text-gray-600 space-y-3 leading-relaxed"},React$1.createElement("p",null,"O mapa mostra a anlise de acesso hdrico para plantao de algodo. As regies so coloridas de acordo com o nvel de acesso  gua."),React$1.createElement("p",null,"Selecione uma regio no mapa para ver detalhes especficos e recomendaes de como melhorar o acesso hdrico em reas com dficit."),React$1.createElement("p",null,"Use o controle de temporada para alternar entre estao seca e chuvosa e ver como o acesso hdrico varia durante o ano."),React$1.createElement("p",null,"A previso do tempo mostra condies climticas atuais e ajuda a planejar atividades agrcolas com base na probabilidade de chuva."))))},SolutionRecommendations=({waterAccessLevel:t})=>{const n=t<20?[{title:"Sistema de Irrigao por Gotejamento",description:"Implementao de sistema de irrigao por gotejamento para maximizar a eficincia do uso da gua.",impact:"high"},{title:"Captao de gua da Chuva",description:"Criao de reservatrios para captao e armazenamento de gua da chuva para uso durante perodos de seca.",impact:"high"},{title:"Barreiras Contra Vento",description:"Instalao de barreiras fsicas para reduzir a evaporao causada por ventos fortes.",impact:"medium"},{title:"Variedades de Algodo Resistentes  Seca",description:"Utilizao de variedades de algodo geneticamente adaptadas para resistir a condies de baixa disponibilidade de gua.",impact:"high"}]:t<40?[{title:"Irrigao Eficiente",description:"Implementao de sistema de irrigao por asperso com controle de fluxo para reduzir o consumo de gua.",impact:"high"},{title:"Cobertura do Solo",description:"Uso de cobertura vegetal ou mulch para reduzir a evaporao e manter a umidade do solo.",impact:"medium"},{title:"Monitoramento de Umidade do Solo",description:"Instalao de sensores de umidade para monitoramento em tempo real e otimizao da irrigao.",impact:"medium"},{title:"Plantio em Curvas de Nvel",description:"Tcnica de plantio seguindo as curvas de nvel do terreno para melhor reteno de gua no solo.",impact:"medium"}]:[{title:"Otimizao de Horrios de Irrigao",description:"Ajuste dos horrios de irrigao para perodos de menor evaporao (incio da manh ou final da tarde).",impact:"medium"},{title:"Manejo Integrado de Pragas",description:"Implementao de estratgias de controle biolgico para reduzir o estresse das plantas e melhorar o uso da gua.",impact:"low"},{title:"Rotao de Culturas",description:"Incluso de culturas que melhoram a estrutura do solo e sua capacidade de reteno de gua.",impact:"medium"}];return React$1.createElement("div",null,React$1.createElement("div",{className:"flex items-center mb-3"},React$1.createElement(Lightbulb,{className:"h-5 w-5 text-yellow-500 mr-2"}),React$1.createElement("h3",{className:"text-md font-medium text-gray-700"},"Recomendaes para Melhorar o Acesso Hdrico")),React$1.createElement("div",{className:"space-y-3"},n.map((o,l)=>React$1.createElement("div",{key:l,className:"bg-white border border-gray-200 rounded-lg overflow-hidden"},React$1.createElement("div",{className:"flex justify-between items-center p-3 cursor-pointer hover:bg-gray-50"},React$1.createElement("div",{className:"flex items-center"},React$1.createElement("div",{className:`h-8 w-8 rounded-full flex items-center justify-center mr-3 
                  ${o.impact==="high"?"bg-green-100 text-green-600":o.impact==="medium"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`},React$1.createElement(Check,{className:"h-4 w-4"})),React$1.createElement("h4",{className:"font-medium text-gray-800"},o.title)),React$1.createElement(ChevronRight,{className:"h-5 w-5 text-gray-400"})),React$1.createElement("div",{className:"px-4 pb-3 text-sm text-gray-600"},React$1.createElement("p",null,o.description),React$1.createElement("div",{className:"mt-2 flex items-center"},React$1.createElement("span",{className:"text-xs font-medium mr-1"},"Impacto:"),React$1.createElement("span",{className:`text-xs font-bold ${o.impact==="high"?"text-green-600":o.impact==="medium"?"text-blue-600":"text-gray-600"}`},o.impact==="high"?"Alto":o.impact==="medium"?"Mdio":"Baixo")))))))},RegionDetail=({region:t})=>{const{name:e,currentData:n}=t,{waterAccessLevel:o,precipitation:l,temperature:u,soilMoisture:f}=n,h=p=>p>=80?"timo":p>=60?"Bom":p>=40?"Moderado":p>=20?"Deficiente":"Crtico",d=p=>p>=80?"text-green-600":p>=60?"text-blue-600":p>=40?"text-yellow-600":p>=20?"text-orange-600":"text-red-600";return React$1.createElement("div",{className:"p-4 max-w-full sm:max-w-2xl mx-auto"},React$1.createElement("div",{className:"flex items-center mb-4"},React$1.createElement("button",{onClick:()=>window.history.back(),className:"p-1 rounded-full hover:bg-gray-100 mr-2"},React$1.createElement(ChevronLeft,{className:"h-5 w-5 text-gray-500"})),React$1.createElement("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 break-words"},"Regio ",e)),React$1.createElement("div",{className:"bg-blue-50 rounded-lg p-4 mb-6"},React$1.createElement("div",{className:"flex items-center justify-between"},React$1.createElement("div",{className:"flex items-center"},React$1.createElement(Droplets,{className:"h-6 w-6 text-blue-500 mr-2"}),React$1.createElement("span",{className:"text-sm text-gray-600"},"Acesso Hdrico")),React$1.createElement("span",{className:`text-lg sm:text-xl font-bold ${d(o)}`},o,"%")),React$1.createElement("div",{className:"mt-2"},React$1.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5"},React$1.createElement("div",{className:"h-2.5 rounded-full",style:{width:`${o}%`,backgroundColor:o>=80?"#22c55e":o>=60?"#3b82f6":o>=40?"#eab308":o>=20?"#f97316":"#ef4444"}})),React$1.createElement("p",{className:"text-sm mt-1 text-gray-600"},"Classificao:"," ",React$1.createElement("span",{className:`font-medium ${d(o)}`},h(o))))),React$1.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6"},React$1.createElement("div",{className:"bg-white border border-gray-200 p-4 rounded-lg"},React$1.createElement("div",{className:"flex items-center mb-2"},React$1.createElement(CloudRain,{className:"h-5 w-5 text-blue-500 mr-1"}),React$1.createElement("p",{className:"text-sm text-gray-600"},"Precipitao")),React$1.createElement("p",{className:"text-lg font-medium"},l," mm")),React$1.createElement("div",{className:"bg-white border border-gray-200 p-4 rounded-lg"},React$1.createElement("div",{className:"flex items-center mb-2"},React$1.createElement(Thermometer,{className:"h-5 w-5 text-orange-500 mr-1"}),React$1.createElement("p",{className:"text-sm text-gray-600"},"Temperatura")),React$1.createElement("p",{className:"text-lg font-medium"},u,"C")),React$1.createElement("div",{className:"bg-white border border-gray-200 p-4 rounded-lg"},React$1.createElement("div",{className:"flex items-center mb-2"},React$1.createElement(Wind,{className:"h-5 w-5 text-teal-500 mr-1"}),React$1.createElement("p",{className:"text-sm text-gray-600"},"Umidade do Solo")),React$1.createElement("p",{className:"text-lg font-medium"},f,"%")),React$1.createElement("div",{className:"bg-white border border-gray-200 p-4 rounded-lg flex items-center justify-center"},React$1.createElement("button",{className:"text-blue-600 text-sm font-medium flex items-center"},"Ver dados histricos",React$1.createElement(ArrowUpRight,{className:"h-4 w-4 ml-1"})))),o<60&&React$1.createElement(SolutionRecommendations,{waterAccessLevel:o}))};function MapaDinamico(){const[t,e]=React$1.useState(null);return React$1.createElement(AppProvider,null,React$1.createElement("div",{className:"flex flex-col h-screen bg-gray-50"},React$1.createElement(Header,null),React$1.createElement("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden"},React$1.createElement("div",{className:"flex-1 relative h-[60vh] lg:h-full"},React$1.createElement(MapContainer,{onSelectRegion:e})),React$1.createElement("div",{className:"w-full lg:w-96 border-t lg:border-t-0 lg:border-l border-gray-200 bg-white overflow-y-auto h-auto lg:h-full"},t?React$1.createElement(RegionDetail,{region:t}):React$1.createElement(InfoPanel,null)))))}function App(){return React$1.createElement(React$1.Fragment,null,React$1.createElement(AnimatedBackground,null),React$1.createElement(FlyingBirds,null),React$1.createElement(Routes,null,React$1.createElement(Route,{path:"/",element:React$1.createElement(Layout,null)},React$1.createElement(Route,{index:!0,element:React$1.createElement(HomePage,null)}),React$1.createElement(Route,{path:"what-is-yield-gap",element:React$1.createElement(WhatIsYieldGap,null)}),React$1.createElement(Route,{path:"historical-evolution",element:React$1.createElement(HistoricalEvolution,null)}),React$1.createElement(Route,{path:"tools-for-yield-gap",element:React$1.createElement(ToolsForYieldGap,null)}),React$1.createElement(Route,{path:"solve-yield-gap",element:React$1.createElement(SolveYieldGap,null)}),React$1.createElement(Route,{path:"minecraft-yield-gap",element:React$1.createElement(MinecraftYieldGap,null)}),React$1.createElement(Route,{path:"steps-to-avoid",element:React$1.createElement(StepsToAvoid,null)}),React$1.createElement(Route,{path:"about-us",element:React$1.createElement(AboutUs,null)}),React$1.createElement(Route,{path:"conclusions",element:React$1.createElement(Conclusions,null)}),React$1.createElement(Route,{path:"*",element:React$1.createElement(NotFound,null)}),React$1.createElement(Route,{path:"mapa",element:React$1.createElement(MapaDinamico,null)}))),React$1.createElement(ParrotMascot,null))}clientExports.createRoot(document.getElementById("root")).render(React.createElement(reactExports.StrictMode,null,React.createElement(BrowserRouter,null,React.createElement(App,null))));
